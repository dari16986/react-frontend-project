a000.V3j=function(){return typeof a000.h3j.c3j === 'function'?a000.h3j.c3j.apply(a000.h3j,arguments):a000.h3j.c3j;};a000.W3j=function(){return typeof a000.h3j.u3j === 'function'?a000.h3j.u3j.apply(a000.h3j,arguments):a000.h3j.u3j;};a000.t3j=function(){return typeof a000.h3j.u3j === 'function'?a000.h3j.u3j.apply(a000.h3j,arguments):a000.h3j.u3j;};a000.b3j=function(){return typeof a000.h3j.c3j === 'function'?a000.h3j.c3j.apply(a000.h3j,arguments):a000.h3j.c3j;};function a000(){}a000.h3j=(function(y3j){return {u3j:function(){var r3j,n3j=arguments;switch(y3j){case 5:r3j=n3j[1] < n3j[0];break;case 11:r3j=n3j[2] - n3j[1] + n3j[0];break;case 6:r3j=(n3j[2] - n3j[0]) * n3j[1];break;case 14:r3j=(n3j[0] / n3j[3] | n3j[1]) * n3j[2];break;case 17:r3j=n3j[1] >= n3j[0];break;case 18:r3j=n3j[1] * n3j[2] - n3j[0];break;case 10:r3j=n3j[1] + n3j[0] + n3j[2];break;case 3:r3j=(n3j[2] + n3j[1]) * -n3j[0] / n3j[3] + n3j[4];break;case 12:r3j=(-n3j[2] - n3j[3] + -n3j[1]) / -n3j[0];break;case 9:r3j=n3j[4] + n3j[3] + n3j[0] + n3j[1] + n3j[2];break;case 13:r3j=n3j[1] * n3j[0];break;case 1:r3j=n3j[0] / n3j[1];break;case 15:r3j=n3j[3] + n3j[0] / n3j[2] * n3j[1];break;case 8:r3j=void n3j[0] !== n3j[1];break;case 0:r3j=n3j[0] - n3j[1];break;case 19:r3j=n3j[1] === n3j[0];break;case 16:r3j=n3j[1] / n3j[2] | n3j[0];break;case 4:r3j=n3j[2] / n3j[0] / n3j[1];break;case 2:r3j=n3j[2] * n3j[0] / n3j[1];break;case 7:r3j=n3j[0] + n3j[1];break;}return r3j;},c3j:function(a3j){y3j=a3j;}};})();(function(){(function(nb,Ab){var jc,tc,Ob,cd,Eb,Gb,Ub,ce,de,Mb,Kb,Cc,ee,dd,fe,ge,wd,Da,Cb,Qc,he,xd,cb,vb,Db,kc,dc,Rb,wb,Vb,Nb,Sc,Ib,uc,Jb,Wb,ed,lc,hc,ic,fd,yd,ie,vc,wc,Ec,zd,Tc,mc,gd,Bc,Ad,je,Jc,Bd,Cd,Dd,Ed,nc,Fd,Gd,Hd,Lc,oc,pc,Mc,hd,id,jd,fc,jf,Pb,Dc,ke,kd,qc,le,kf,rc,me,lf,ld,ne,mf,Pc,oe,hf,nf,Id,md,of,pf,$d,qf,ae,pe,ec,Uc,qe,Vc,re,gc,se,te,ue,ve,sf,be,we,vd,xe,rf,ye,Jd,ze,Ae,Be,Kd,Ac,De,Ce,tf,Xc,Ee,Md,Yc,Fe,Ld,Ge,He,Nd,Je,Ke,qd,Fc,Nc,Gc,Le,Me,Ne,Oe,Pe,Qe,rd,uf,Re,Se,Pd,Te,cc,Wc,Kc,nd,xc,sc,od,yc,Rc,Ie,Ue,Zc,Ve,vf,$c,We,wf,xf,Xe,Od,pd,Ye,zf,yf,Oc,bd,Af,Zd,Bf,Cf;function Yb(fb,db){if(!db || "utf-8" === db)return sd(fb);throw Error("unsupported encoding");}function Zb(fb,db){if(!db || "utf-8" === db)return td(fb);throw Error("unsupported encoding");}function sd(fb){for(var db=0,bb,Ya=fb.length,ib="";db < Ya;){bb=fb[db++];if(bb & 128)if(192 === (bb & 224))bb=((bb & 31) << 6) + (fb[db++] & 63);else if(224 === (bb & 240))bb=((bb & 15) << 12) + ((fb[db++] & 63) << 6) + (fb[db++] & 63);else throw Error("unsupported character");ib+=String.fromCharCode(bb);}return ib;}function td(fb){var db,bb,Ya,ib,rb;db=fb.length;bb=0;ib=0;for(Ya=db;Ya--;){rb=fb.charCodeAt(Ya);128 > rb?bb++:bb=2048 > rb?bb + 2:bb + 3;}bb=new Uint8Array(bb);for(Ya=0;Ya < db;Ya++){rb=fb.charCodeAt(Ya);128 > rb?bb[ib++]=rb:(2048 > rb?bb[ib++]=192 | rb >>> 6:(bb[ib++]=224 | rb >>> 12,bb[ib++]=128 | rb >>> 6 & 63),bb[ib++]=128 | rb & 63);}return bb;}function $b(fb,db){if(fb === db)return !0;if(!fb || !db || fb.length != db.length)return !1;for(var bb=0;bb < fb.length;++bb){if(fb[bb] != db[bb])return !1;}return !0;}function ac(fb){var Ya;if(!(fb && fb.constructor == Uint8Array || Array.isArray(fb)))throw new TypeError("Cannot compute the hash code of " + fb);for(var db=1,bb=0;bb < fb.length;++bb){Ya=fb[bb];if("number" !== typeof Ya)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + Ya);db=31 * db + Ya & 4294967295;}return db;}function Ud(fb,db){var gb;if(fb === db)return !0;if(!fb || !db)return !1;db instanceof Array || (db=[db]);for(var bb=0;bb < db.length;++bb){for(var Ya=db[bb],ib=!1,rb=0;rb < fb.length;++rb){gb=fb[rb];if(Ya.equals && "function" === typeof Ya.equals && Ya.equals(gb) || Ya == gb){ib=!0;break;}}if(!ib)return !1;}return !0;}function Vd(fb,db){return Ud(fb,db) && (fb.length == db.length || Ud(db,fb));}function Ka(fb,db,bb){var Ya,ib;bb && (Ya=bb);if("object" !== typeof fb || "function" !== typeof fb.result || "function" !== typeof fb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{ib=db.call(Ya,fb);ib !== Ab && fb.result(ib);}catch(rb){try{fb.error(rb);}catch(gb){}}}function $a(fb,db,bb){if("object" !== typeof fb || "function" !== typeof fb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ka(fb,db,bb);}function X(fb,db,bb){1E5 > fb && (fb=1E5 + fb);Object.defineProperties(this,{internalCode:{value:fb,writable:!1,configurable:!1},responseCode:{value:db,writable:!1,configurable:!1},message:{value:bb,writable:!1,configurable:!1}});}function ud(fb){switch(fb){case Pb.PSK:case Pb.MGK:return !0;default:return !1;}}function Wd(fb){switch(fb){case Pb.PSK:case Pb.MGK:case Pb.X509:case Pb.RSA:case Pb.NPTICKET:case Pb.ECC:return !0;default:return !1;}}function df(fb){return fb.toJSON();}function Xd(fb,db){bd?db.result(bd):Promise.resolve().then(function(){return Jb.getKeyByName(fb);}).catch(function(){return Jb.generateKey({name:fb},!1,["wrapKey","unwrapKey"]);}).then(function(bb){bd=bb;db.result(bd);}).catch(function(bb){db.error(new cb(X.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Yd(fb,db){var bb,Ya;bb=db.masterToken;Ya=db.userIdToken;db=db.serviceTokens;return {NccpMethod:fb.method,UserId:fb.userId,UT:Ya && Ya.serialNumber,MT:bb && bb.serialNumber + ":" + bb.sequenceNumber,STCount:db && db.length};}function ef(fb){return fb.uniqueKey();}function ff(fb,db,bb,Ya,ib){var Ma;function rb(ta,ma){ta.errorCode === Da.ENTITY_REAUTH || ta.errorCode === Da.ENTITYDATA_REAUTH?(Ya.clearCryptoContexts(),Ha()):ta.errorCode !== Da.USER_REAUTH && ta.errorCode !== Da.USERDATA_REAUTH || gb(ma);}function gb(ta){if(ta=Ya.getUserIdToken(ta))(Ya.removeUserIdToken(ta),Ha());}function Aa(ta,ma,ha){var ca;ca=[];(function Z(){ta.read(-1,ma,{result:function(ea){Ka(ha,function(){var aa,ja,ua,ra,la;if(ea)(ca.push(ea),Z());else switch(ca.length){case 0:return new Uint8Array(0);case 1:return ca[0];default:(ua=ca.length,ra=0);for(ja=aa=0;ja < ua;ja++){aa+=ca[ja].length;}aa=new Uint8Array(aa);for(ja=0;ja < ua;ja++){la=ca[ja];aa.set(la,ra);ra+=la.length;}return aa;}});},timeout:function(){ha.timeout();},error:function(ea){ha.error(ea);}});})();}function Ha(){Ya.getStoreState({result:function(ta){for(var ma=Ma.slice(),ha=0;ha < ma.length;ha++){ma[ha]({storeState:ta});}},timeout:function(){fb.error("Timeout getting store state","" + e);},error:function(ta){fb.error("Error getting store state","" + ta);}});}Ma=[];this.addEventHandler=function(ta,ma){switch(ta){case "shouldpersist":Ma.push(ma);}};this.send=function(ta){return new Promise(function(ma,ha){var ca,Y,Z;ca=ta.timeout;Y=new Zd(fb,bb,ta,Ya.getKeyRequestData());Z=new $d(ta.url);fb.trace("Sending MSL request");db.request(bb,Y,Z,ca,{result:function(ea){var aa;fb.trace("Received MSL response",{Method:ta.method});if(ea){ta.allowTokenRefresh && Ha();aa=ea.getErrorHeader();aa?(rb(aa,ta.profileGuid || ta.userId),ha({success:!1,error:aa})):Aa(ea,ca,{result:function(ja){ma({success:!0,body:Yb(ja)});},timeout:function(){ha({success:!1,subCode:ib.MSL_READ_TIMEOUT});},error:function(ja){ha({success:!1,error:ja});}});}else ha({success:!1,error:new cb(X.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ha({success:!1,subCode:ib.MSL_REQUEST_TIMEOUT});},error:function(ea){ha({success:!1,error:ea});}});});};this.hasUserIdToken=function(ta){return ! !Ya.getUserIdToken(ta);};this.getUserIdTokenKeys=function(){return Ya.getUserIdTokenKeys();};this.removeUserIdToken=gb;this.clearUserIdTokens=function(){Ya.clearUserIdTokens();Ha();};this.isErrorReauth=function(ta){return ta && ta.errorCode == Da.USERDATA_REAUTH;};this.isErrorHeader=function(ta){return ta instanceof Ac;};this.getErrorCode=function(ta){return ta && ta.errorCode;};this.getStateForMdx=function(ta){var ma,ha;ma=Ya.getMasterToken();ta=Ya.getUserIdToken(ta);ha=Ya.getCryptoContext(ma);return {masterToken:ma,userIdToken:ta,cryptoContext:ha};};this.buildPlayDataRequest=function(ta,ma){var ha;ha=new ae();db.request(bb,new Zd(fb,bb,ta),ha,ta.timeout,{result:function(){ma.result(ha.getRequest());},error:function(){ma.result(ha.getRequest());},timeout:function(){ma.timeout();}});};this.rekeyUserIdToken=function(ta,ma){Ya.rekeyUserIdToken(ta,ma);Ha();};this.getServiceTokens=function(ta){var ma;ma=Ya.getMasterToken();(ta=Ya.getUserIdToken(ta)) && !ta.isBoundTo(ma) && (ta=Ab);return Ya.getServiceTokens(ma,ta);};this.removeServiceToken=function(ta){var ma;ma=Ya.getMasterToken();Ya.getServiceTokens(ma).find(function(ha){return ha.name === ta;}) && (Ya.removeServiceTokens(ta,ma),Ha());};}function gf(fb,db,bb){var rb;function Ya(){return Promise.resolve().then(function(){return Jb.generateKey(db,!1,["wrapKey","unwrapKey"]);}).then(function(gb){return ib(gb.publicKey,gb.privateKey);});}function ib(gb,Aa){return Promise.all([new Promise(function(Ha,Ma){Bc(gb,{result:Ha,error:function(ta){Ma(new cb(X.INTERNAL_EXCEPTION,"Unable to create keyx public key",ta));}});}),new Promise(function(Ha,Ma){Jc(Aa,{result:Ha,error:function(ta){Ma(new cb(X.INTERNAL_EXCEPTION,"Unable to create keyx private key",ta));}});})]).then(function(Ha){Ha=new vd("rsaKeypairId",bb,Ha[0],Ha[1]);rb && (Ha.storeData={keyxPublicKey:gb,keyxPrivateKey:Aa});return Ha;});}rb=!fb.systemKeyWrapFormat;return Promise.resolve().then(function(){var gb,Aa;gb=fb.storeState;Aa=gb && gb.keyxPublicKey;gb=gb && gb.keyxPrivateKey;return rb && Aa && gb?ib(Aa,gb):Ya();}).then(function(gb){var Aa,Ha,Ma;Aa={};Aa[Pb.NONE]=new hf();Ha=new Pc(fb.esn);Ma=[new be()];return {entityAuthFactories:Aa,entityAuthData:Ha,keyExchangeFactories:Ma,keyRequestData:gb,createKeyRequestData:rb?Ya:Ab};});}tc=nb.nfCrypto || nb.msCrypto || nb.webkitCrypto || nb.crypto;Ob=tc && (tc.webkitSubtle || tc.subtle);cd=nb.nfCryptokeys || nb.msCryptokeys || nb.webkitCryptokeys || nb.cryptokeys;(function(fb){var db,bb;db=(function(){function Ya(ib,rb){ib instanceof db?(this.abv=ib.abv,this.position=ib.position):(this.abv=ib,this.position=rb || 0);}Ya.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(ib){this.abv[this.position++]=ib;},peekByte:function(ib){return this.abv[ib];},copyBytes:function(ib,rb,gb){var Aa;Aa=new Uint8Array(this.abv.buffer,this.position,gb);ib=new Uint8Array(ib.buffer,rb,gb);Aa.set(ib);this.position+=gb;},seek:function(ib){this.position=ib;},skip:function(ib){this.position+=ib;},getPosition:function(){return this.position;},setPosition:function(ib){this.position=ib;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return Ya;})();bb={};(function(){var ea,aa,ja,ua,ra,la,pa,ya,na;function Ya(da,ia){var ka;ia.writeByte(da.tagClass << 6 | da.constructed << 5 | da.tag);ka=da.payloadLen;if(128 > ka)ia.writeByte(ka);else {for(var va=ka,Pa=0;va;){++Pa;va>>=8;}ia.writeByte(128 | Pa);for(va=0;va < Pa;++va){ia.writeByte(ka >> 8 * (Pa - va - 1) & 255);}}if(da.child)for((da.tag == ea.BIT_STRING && ia.writeByte(0),da=da._child);da;){if(!Ya(da,ia))return !1;da=da.next;}else switch(da.tag){case ea.INTEGER:da.backingStore[da.dataIdx] >> 7 && ia.writeByte(0);ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.BIT_STRING:ia.writeByte(0);ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OCTET_STRING:ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OBJECT_IDENTIFIER:ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);}return !0;}function ib(da){var ia,ka;ia=da.readByte();ka=ia & 127;if(ka == ia)return ka;if(3 < ka || 0 === ka)return -1;for(var va=ia=0;va < ka;++va){ia=ia << 8 | da.readByte();}return ia;}function rb(da,ia,ka){var va,Pa,Ja,Na,Ra,oa,xa;va=da.backingStore;Pa=new db(va,ia);ia+=ka;ka=da;if(8 < ra++)return Ab;for(;Pa.getPosition() < ia;){Pa.getPosition();Na=Pa.readByte();if(31 == (Na & 31)){for(Ja=0;Na & 128;){Ja<<=8;Ja|=Na & 127;}Na=Ja;}Ra=Na;Ja=Ra & 31;if(0 > Ja || 30 < Ja)return Ab;Na=ib(Pa);if(0 > Na || Na > Pa.getRemaining())return Ab;ka.constructed=Ra & 32;ka.tagClass=(Ra & 192) >> 6;ka.tag=Ja;ka.dataLen=Na;ka.dataIdx=Pa.getPosition();Ja=Pa;oa=Ra;Ra=Na;if(oa & 32)Ja=!0;else if(oa < ea.BIT_STRING || oa > ea.OCTET_STRING)Ja=!1;else {xa=new db(Ja);oa == ea.BIT_STRING && xa.skip(1);xa.readByte() >> 6 & 1?Ja=!1:(oa=ib(xa),Ja=xa.getPosition() - Ja.getPosition() + oa == Ra);}Ja && (Ja=Pa.getPosition(),Ra=Na,ka.tag == ea.BIT_STRING && (ka.dataIdx++,ka.dataLen--,Ja++,Ra--),ka.child=new aa(va,ka),rb(ka.child,Ja,Ra));ka.tag == ea.INTEGER && (Ja=Pa.getPosition(),0 == Pa.peekByte(Ja) && Pa.peekByte(Ja + 1) >> 7 && (ka.dataIdx++,ka.dataLen--));Pa.skip(Na);Pa.getPosition() < ia && (ka.next=new aa(va,ka.parent),ka=ka.next);}ra--;return da;}function gb(da,ia,ka){if(9 != ka)return !1;for(ka=0;9 > ka;++ka){if(da[ia++] != la[ka])return !1;}return !0;}function Aa(da){var ia;if(!(da && da.child && da.child.next && da.child.child && da.child.next.child))return !1;ia=da.child.child;return gb(ia.backingStore,ia.dataIdx,ia.dataLen) && 2 == da.nChildren && 2 == da.child.nChildren && 2 == da.child.next.child.nChildren?!0:!1;}function Ha(da){var ia;if(!(da && da.child && da.child.next && da.child.next.child && da.child.next.next && da.child.next.next.child))return !1;ia=da.child.next.child;return gb(ia.backingStore,ia.dataIdx,ia.dataLen) && 3 == da.nChildren && 2 == da.child.next.nChildren && 9 == da.child.next.next.child.nChildren?!0:!1;}function Ma(da){var ia,ka;ia=ja.createSequenceNode();ka=new ua(ia);ka.addChild(ja.createSequenceNode());ka.addChild(ja.createOidNode(la));ka.addSibling(ja.createNullNode());ka.addToParent(ia,ja.createBitStringNode(null));ka.addChild(ja.createSequenceNode());ka.addChild(ja.createIntegerNode(da.n));ka.addSibling(ja.createIntegerNode(da.e));return ia;}function ta(da){var ia;da=da.child.next.child.child;ia=da.data;da=da.next;return new pa(ia,da.data,null,null);}function ma(da){var ia,ka;ia=ja.createSequenceNode();ka=new ua(ia);ka.addChild(ja.createIntegerNode(new Uint8Array([0])));ka.addSibling(ja.createSequenceNode());ka.addChild(ja.createOidNode(la));ka.addSibling(ja.createNullNode());ka.addToParent(ia,ja.createOctetStringNode(null));ka.addChild(ja.createSequenceNode());ka.addChild(ja.createIntegerNode(new Uint8Array([0])));ka.addSibling(ja.createIntegerNode(da.n));ka.addSibling(ja.createIntegerNode(da.e));ka.addSibling(ja.createIntegerNode(da.d));ka.addSibling(ja.createIntegerNode(da.p));ka.addSibling(ja.createIntegerNode(da.q));ka.addSibling(ja.createIntegerNode(da.dp));ka.addSibling(ja.createIntegerNode(da.dq));ka.addSibling(ja.createIntegerNode(da.qi));return ia;}function ha(da){var ia;ia=[];da=da.child.next.next.child.child.next;for(var ka=0;8 > ka;ka++){ia.push(da.data);da=da.next;}return new ya(ia[0],ia[1],ia[2],ia[3],ia[4],ia[5],ia[6],ia[7]);}function ca(da,ia,ka,va){if(!(da instanceof pa || da instanceof ya))return Ab;if(ka)for(var Pa=0;Pa < ka.length;++Pa){if(-1 == na.indexOf(ka[Pa]))return Ab;}ia={kty:"RSA",alg:ia,key_ops:ka || [],ext:va == Ab?!1:va,n:Eb(da.n,!0),e:Eb(da.e,!0)};da instanceof ya && (ia.d=Eb(da.d,!0),ia.p=Eb(da.p,!0),ia.q=Eb(da.q,!0),ia.dp=Eb(da.dp,!0),ia.dq=Eb(da.dq,!0),ia.qi=Eb(da.qi,!0));return ia;}function Y(da){var ia,ka,va,Pa,Ja,Na,Ra,oa,xa,Ca;if(!da.kty || "RSA" != da.kty || !da.n || !da.e)return Ab;ia=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(da.alg && -1 == ia.indexOf(da.alg))return Ab;ia=[];da.use?"enc" == da.use?ia=["encrypt","decrypt","wrap","unwrap"]:"sig" == da.use && (ia=["sign","verify"]):ia=da.key_ops;ka=da.ext;va=Gb(da.n,!0);Pa=Gb(da.e,!0);if(da.d){Ja=Gb(da.d,!0);Na=Gb(da.p,!0);Ra=Gb(da.q,!0);oa=Gb(da.dp,!0);xa=Gb(da.dq,!0);Ca=Gb(da.qi,!0);return new ya(va,Pa,Ja,Na,Ra,oa,xa,Ca,da.alg,ia,ka);}return new pa(va,Pa,ka,ia);}function Z(da,ia,ka,va){this.der=da;this.type=ia;this.keyOps=ka;this.extractable=va;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};aa=function(da,ia,ka,va,Pa,Ja){this._data=da;this._parent=ia || Ab;this._constructed=ka || !1;this._tagClass=0;this._tag=va || 0;this._dataIdx=Pa || 0;this._dataLen=Ja || 0;};aa.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(da) {this._constructed=0 != da?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(da) {this._tagClass=da;},get tag() {return this._tag;},set tag(da) {this._tag=da;},get dataIdx() {return this._dataIdx;},set dataIdx(da) {this._dataIdx=da;},get dataLen() {return this._dataLen;},set dataLen(da) {this._dataLen=da;},get child() {return this._child;},set child(da) {this._child=da;this._child.parent=this;},get next() {return this._next;},set next(da) {this._next=da;},get parent() {return this._parent;},set parent(da) {this._parent=da;},get payloadLen() {var da;da=0;if(this._child){for(var ia=this._child;ia;){da+=ia.length;ia=ia.next;}this._tag == ea.BIT_STRING && da++;}else switch(this._tag){case ea.INTEGER:da=this._dataLen;this._data[this._dataIdx] >> 7 && da++;break;case ea.BIT_STRING:da=this._dataLen + 1;break;case ea.OCTET_STRING:da=this._dataLen;break;case ea.NULL:da=0;break;case ea.OBJECT_IDENTIFIER:gb(this._data,this._dataIdx,this._dataLen) && (da=9);}return da;},get length() {var da,ia;da=this.payloadLen;if(127 < da)for(ia=da;ia;){ia>>=8;++da;}return da + 2;},get der() {var da,ia;da=this.length;if(!da)return Ab;da=new Uint8Array(da);ia=new db(da);return Ya(this,ia)?da:Ab;},get nChildren() {for(var da=0,ia=this._child;ia;){da++;ia=ia.next;}return da;}};ja={createSequenceNode:function(){return new aa(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(da){return new aa(da,null,!1,ea.OBJECT_IDENTIFIER,0,da?da.length:0);},createNullNode:function(){return new aa(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(da){return new aa(da,null,!1,ea.BIT_STRING,0,da?da.length:0);},createIntegerNode:function(da){return new aa(da,null,!1,ea.INTEGER,0,da?da.length:0);},createOctetStringNode:function(da){return new aa(da,null,!1,ea.OCTET_STRING,0,da?da.length:0);}};ua=function(da){this._currentNode=this._rootNode=da;};ua.prototype={addChild:function(da){this.addTo(this._currentNode,da);},addSibling:function(da){this.addTo(this._currentNode.parent,da);},addTo:function(da,ia){this._currentNode=ia;this._currentNode.parent=da;if(da.child){for(da=da.child;da.next;){da=da.next;}da.next=ia;}else da.child=ia;},addToParent:function(da,ia){this.findNode(da) && this.addTo(da,ia);},findNode:function(da){for(var ia=this._currentNode;ia;){if(da == ia)return !0;ia=ia.parent;}return !1;}};ra=0;la=new Uint8Array([42,134,72,134,247,13,1,1,1]);pa=function(da,ia,ka,va){this.n=da;this.e=ia;this.ext=ka;this.keyOps=va;};ya=function(da,ia,ka,va,Pa,Ja,Na,Ra,oa,xa,Ca){this.n=da;this.e=ia;this.d=ka;this.p=va;this.q=Pa;this.dp=Ja;this.dq=Na;this.qi=Ra;this.alg=oa;this.keyOps=xa;this.ext=Ca;};na=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");Z.prototype.getDer=function(){return this.der;};Z.prototype.getType=function(){return this.type;};Z.prototype.getKeyOps=function(){return this.keyOps;};Z.prototype.getExtractable=function(){return this.extractable;};bb.parse=function(da){ra=0;return rb(new aa(da),0,da.length);};bb.show=function(da,ia){};bb.isRsaSpki=Aa;bb.isRsaPkcs8=Ha;bb.NodeFactory=ja;bb.Builder=ua;bb.tagVal=ea;bb.RsaPublicKey=pa;bb.RsaPrivateKey=ya;bb.buildRsaSpki=Ma;bb.parseRsaSpki=function(da){da=bb.parse(da);return Aa?ta(da):Ab;};bb.buildRsaPkcs8=ma;bb.parseRsaPkcs8=function(da){da=bb.parse(da);return Ha(da)?ha(da):Ab;};bb.buildRsaJwk=ca;bb.parseRsaJwk=Y;bb.RsaDer=Z;bb.rsaDerToJwk=function(da,ia,ka,va){da=bb.parse(da);if(!da)return Ab;if(Aa(da))da=ta(da);else if(Ha(da))da=ha(da);else return Ab;return ca(da,ia,ka,va);};bb.jwkToRsaDer=function(da){var ia,ka;da=Y(da);if(!da)return Ab;if(da instanceof pa){ia="spki";ka=Ma(da).der;}else if(da instanceof ya)(ia="pkcs8",ka=ma(da).der);else return Ab;return new Z(ka,ia,da.keyOps,da.ext);};bb.webCryptoAlgorithmToJwkAlg=function(da){return "RSAES-PKCS1-v1_5" == da.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == da.name?"SHA-256" == da.hash.name?"RS256":"SHA-384" == da.hash.name?"RS384":"SHA-512" == da.hash.name?"RS512":Ab:Ab;};bb.webCryptoUsageToJwkKeyOps=function(da){return da.map(function(ia){return "wrapKey" == ia?"wrap":"unwrapKey" == ia?"unwrap":ia;});};})();fb.ASN1=bb;})(nb);(function(){for(var fb={},db={},bb={"=":0,".":0},Ya={"=":0,".":0},ib=/\s+/g,rb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,gb=64;gb--;){fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=262144 * gb;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=4096 * gb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=64 * gb;Ya[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb]]=gb;}for(gb=64;gb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[gb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb];){fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=262144 * gb;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=4096 * gb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=64 * gb;Ya[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[gb]]=gb;}Eb=function(Aa,Ha){for(var Ma="",ta=0,ma=Aa.length,ha=ma - 2,ca=Ha?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=Ha?"":"=";ta < ha;){Ha=65536 * Aa[ta++] + 256 * Aa[ta++] + Aa[ta++];Ma+=ca[Ha >>> 18] + ca[Ha >>> 12 & 63] + ca[Ha >>> 6 & 63] + ca[Ha & 63];}ta == ha?(Ha=65536 * Aa[ta++] + 256 * Aa[ta++],Ma+=ca[Ha >>> 18] + ca[Ha >>> 12 & 63] + ca[Ha >>> 6 & 63] + Y):ta == ma - 1 && (Ha=65536 * Aa[ta++],Ma+=ca[Ha >>> 18] + ca[Ha >>> 12 & 63] + Y + Y);return Ma;};Gb=function(Aa,Ha){Aa=Aa.replace(ib,"");if(Ha && (Ha=Aa.length % 4)){Ha=4 - Ha;for(var Ma=0;Ma < Ha;++Ma){Aa+="=";}}Ha=Aa.length;if(0 != Ha % 4 || !rb.test(Aa))throw Error("bad base64: " + Aa);for(var ta=Ha / 4 * 3 - ("=" == Aa[Ha - 1]?1:0) - ("=" == Aa[Ha - 2]?1:0),ma=new Uint8Array(ta),ha=0,ca=0;ha < Ha;){Ma=fb[Aa[ha++]] + db[Aa[ha++]] + bb[Aa[ha++]] + Ya[Aa[ha++]];ma[ca++]=Ma >>> 16;ca < ta && (ma[ca++]=Ma >>> 8 & 255,ca < ta && (ma[ca++]=Ma & 255));}return ma;};})();Ub={};(function(){var rb,gb,Aa,Ma;function fb(ta){if(!(this instanceof fb))return new fb(ta);for(var ma=0,ha=gb.length;ma < ha;ma++){this[gb[ma]]="";}this.bufferCheckPosition=Ub.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ta || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Aa.BEGIN;this.stack=new rb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;db(this,"onready");}function db(ta,ma,ha){if(ta[ma])ta[ma](ha);}function bb(ta,ma){var ha,ca;ha=ta.opt;ca=ta.textNode;ha.trim && (ca=ca.trim());ha.normalize && (ca=ca.replace(/\s+/g," "));ta.textNode=ca;ta.textNode && db(ta,ma?ma:"onvalue",ta.textNode);ta.textNode="";}function Ya(ta,ma){bb(ta);ma+="\nLine: " + ta.line + "\nColumn: " + ta.column + "\nChar: " + ta.c;ma=Error(ma);ta.error=ma;db(ta,"onerror",ma);return ta;}function ib(ta){ta.state !== Aa.VALUE && Ya(ta,"Unexpected end");bb(ta);ta.c="";ta.closed=!0;db(ta,"onend");fb.call(ta,ta.opt);return ta;}rb=Array;Ub.parser=function(ta){return new fb(ta);};Ub.CParser=fb;Ub.MAX_BUFFER_LENGTH=65536;Ub.DEBUG=!1;Ub.INFO=!1;Ub.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");gb=["textNode","numberNode"];Ub.EVENTS.filter(function(ta){return "error" !== ta && "end" !== ta;});Aa=0;Ub.STATE={BEGIN:Aa++,VALUE:Aa++,OPEN_OBJECT:Aa++,CLOSE_OBJECT:Aa++,OPEN_ARRAY:Aa++,CLOSE_ARRAY:Aa++,TEXT_ESCAPE:Aa++,STRING:Aa++,BACKSLASH:Aa++,END:Aa++,OPEN_KEY:Aa++,CLOSE_KEY:Aa++,TRUE:Aa++,TRUE2:Aa++,TRUE3:Aa++,FALSE:Aa++,FALSE2:Aa++,FALSE3:Aa++,FALSE4:Aa++,NULL:Aa++,NULL2:Aa++,NULL3:Aa++,NUMBER_DECIMAL_POINT:Aa++,NUMBER_DIGIT:Aa++};for(var Ha in Ub.STATE){Ub.STATE[Ub.STATE[Ha]]=Ha;}Aa=Ub.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ta){return ta.__proto__;});Ma=/[\\"\n]/g;fb.prototype={end:function(){ib(this);},write:function(ta){var ca,Y,Z;if(this.error)throw this.error;if(this.closed)return Ya(this,"Cannot write after close. Assign an onready handler.");if(null === ta)return ib(this);for(var ma=ta[0],ha;ma;){ha=ma;this.c=ma=ta.charAt(this.index++);ha !== ma?this.p=ha:ha=this.p;if(!ma)break;this.position++;"\n" === ma?(this.line++,this.column=0):this.column++;switch(this.state){case Aa.BEGIN:"{" === ma?this.state=Aa.OPEN_OBJECT:"[" === ma?this.state=Aa.OPEN_ARRAY:"\r" !== ma && "\n" !== ma && " " !== ma && "\t" !== ma && Ya(this,"Non-whitespace before {[.");continue;case Aa.OPEN_KEY:case Aa.OPEN_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Aa.OPEN_KEY)this.stack.push(Aa.CLOSE_KEY);else if("}" === ma){db(this,"onopenobject");db(this,"oncloseobject");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_OBJECT);'"' === ma?this.state=Aa.STRING:Ya(this,'Malformed object key should start with "');continue;case Aa.CLOSE_KEY:case Aa.CLOSE_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;":" === ma?(this.state === Aa.CLOSE_OBJECT?(this.stack.push(Aa.CLOSE_OBJECT),bb(this,"onopenobject")):bb(this,"onkey"),this.state=Aa.VALUE):"}" === ma?(bb(this),db(this,"oncloseobject",void 0),this.state=this.stack.pop() || Aa.VALUE):"," === ma?(this.state === Aa.CLOSE_OBJECT && this.stack.push(Aa.CLOSE_OBJECT),bb(this),this.state=Aa.OPEN_KEY):Ya(this,"Bad object");continue;case Aa.OPEN_ARRAY:case Aa.VALUE:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Aa.OPEN_ARRAY)if((db(this,"onopenarray"),this.state=Aa.VALUE,"]" === ma)){db(this,"onclosearray");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_ARRAY);'"' === ma?this.state=Aa.STRING:"{" === ma?this.state=Aa.OPEN_OBJECT:"[" === ma?this.state=Aa.OPEN_ARRAY:"t" === ma?this.state=Aa.TRUE:"f" === ma?this.state=Aa.FALSE:"n" === ma?this.state=Aa.NULL:"-" === ma?this.numberNode+=ma:"0" === ma?(this.numberNode+=ma,this.state=Aa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ma)?(this.numberNode+=ma,this.state=Aa.NUMBER_DIGIT):Ya(this,"Bad value");continue;case Aa.CLOSE_ARRAY:if("," === ma)(this.stack.push(Aa.CLOSE_ARRAY),bb(this,"onvalue"),this.state=Aa.VALUE);else if("]" === ma)(bb(this),db(this,"onclosearray",void 0),this.state=this.stack.pop() || Aa.VALUE);else if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;else Ya(this,"Bad array");continue;case Aa.STRING:ha=this.index - 1;(ca=this.slashed,Y=this.unicodeI);a:for(;;){if(Ub.DEBUG)for(;0 < Y;){if((this.unicodeS+=ma,ma=ta.charAt(this.index++),4 === Y?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),Y=0,ha=this.index - 1):Y++,!ma))break a;}if('"' === ma && !ca){this.state=this.stack.pop() || Aa.VALUE;(this.textNode+=ta.substring(ha,this.index - 1)) || db(this,"onvalue","");break;}if("\\" === ma && !ca && (ca=!0,this.textNode+=ta.substring(ha,this.index - 1),ma=ta.charAt(this.index++),!ma))break;if(ca)if((ca=!1,"n" === ma?this.textNode+="\n":"r" === ma?this.textNode+="\r":"t" === ma?this.textNode+="\t":"f" === ma?this.textNode+="\f":"b" === ma?this.textNode+="\b":"u" === ma?(Y=1,this.unicodeS=""):this.textNode+=ma,ma=ta.charAt(this.index++),ha=this.index - 1,ma))continue;else break;Ma.lastIndex=this.index;Z=Ma.exec(ta);if(null === Z){this.index=ta.length + 1;this.textNode+=ta.substring(ha,this.index - 1);break;}this.index=Z.index + 1;ma=ta.charAt(Z.index);if(!ma){this.textNode+=ta.substring(ha,this.index - 1);break;}}this.slashed=ca;this.unicodeI=Y;continue;case Aa.TRUE:if("" === ma)continue;"r" === ma?this.state=Aa.TRUE2:Ya(this,"Invalid true started with t" + ma);continue;case Aa.TRUE2:if("" === ma)continue;"u" === ma?this.state=Aa.TRUE3:Ya(this,"Invalid true started with tr" + ma);continue;case Aa.TRUE3:if("" === ma)continue;"e" === ma?(db(this,"onvalue",!0),this.state=this.stack.pop() || Aa.VALUE):Ya(this,"Invalid true started with tru" + ma);continue;case Aa.FALSE:if("" === ma)continue;"a" === ma?this.state=Aa.FALSE2:Ya(this,"Invalid false started with f" + ma);continue;case Aa.FALSE2:if("" === ma)continue;"l" === ma?this.state=Aa.FALSE3:Ya(this,"Invalid false started with fa" + ma);continue;case Aa.FALSE3:if("" === ma)continue;"s" === ma?this.state=Aa.FALSE4:Ya(this,"Invalid false started with fal" + ma);continue;case Aa.FALSE4:if("" === ma)continue;"e" === ma?(db(this,"onvalue",!1),this.state=this.stack.pop() || Aa.VALUE):Ya(this,"Invalid false started with fals" + ma);continue;case Aa.NULL:if("" === ma)continue;"u" === ma?this.state=Aa.NULL2:Ya(this,"Invalid null started with n" + ma);continue;case Aa.NULL2:if("" === ma)continue;"l" === ma?this.state=Aa.NULL3:Ya(this,"Invalid null started with nu" + ma);continue;case Aa.NULL3:if("" === ma)continue;"l" === ma?(db(this,"onvalue",null),this.state=this.stack.pop() || Aa.VALUE):Ya(this,"Invalid null started with nul" + ma);continue;case Aa.NUMBER_DECIMAL_POINT:"." === ma?(this.numberNode+=ma,this.state=Aa.NUMBER_DIGIT):Ya(this,"Leading zero not followed by .");continue;case Aa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ma)?this.numberNode+=ma:"." === ma?(-1 !== this.numberNode.indexOf(".") && Ya(this,"Invalid number has two dots"),this.numberNode+=ma):"e" === ma || "E" === ma?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || Ya(this,"Invalid number has two exponential"),this.numberNode+=ma):"+" === ma || "-" === ma?("e" !== ha && "E" !== ha && Ya(this,"Invalid symbol in number"),this.numberNode+=ma):(this.numberNode && db(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Aa.VALUE);continue;default:Ya(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ta=Math.max(Ub.MAX_BUFFER_LENGTH,10);ha=ma=0;for(ca=gb.length;ha < ca;ha++){Y=this[gb[ha]].length;if(Y > ta)switch(gb[ha]){case "text":break;default:Ya(this,"Max buffer length exceeded: " + gb[ha]);}ma=Math.max(ma,Y);}this.bufferCheckPosition=Ub.MAX_BUFFER_LENGTH - ma + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var Ya,ib,rb;function fb(gb,Aa){Aa || (Aa=gb.length);return gb.reduce(function(Ha,Ma,ta){return ta < Aa?Ha + String.fromCharCode(Ma):Ha;},"");}for(var db={},bb=0;256 > bb;++bb){Ya=fb([bb]);db[Ya]=bb;}ib=Object.keys(db).length;rb=[];for(bb=0;256 > bb;++bb){rb[bb]=[bb];}ce=function(gb,Aa){var aa,ja;function Ha(ua,ra){var la;for(;0 < ra;){if(Y >= ca.length)return !1;if(ra > Z){la=ua;la>>>=ra - Z;ca[Y]|=la & 255;ra-=Z;Z=8;++Y;}else ra <= Z && (la=ua,la<<=Z - ra,la&=255,la>>>=8 - Z,ca[Y]|=la & 255,Z-=ra,ra=0,0 == Z && (Z=8,++Y));}return !0;}for(var Ma in db){Aa[Ma]=db[Ma];}for(var ta=ib,ma=[],ha=8,ca=new Uint8Array(gb.length),Y=0,Z=8,ea=0;ea < gb.length;++ea){aa=gb[ea];ma.push(aa);Ma=fb(ma);ja=Aa[Ma];if(!ja){ma=fb(ma,ma.length - 1);if(!Ha(Aa[ma],ha))return null;0 != ta >> ha && ++ha;Aa[Ma]=ta++;ma=[aa];}}return 0 < ma.length && (Ma=fb(ma),ja=Aa[Ma],!Ha(ja,ha))?null:ca.subarray(0,8 > Z?Y + 1:Y);};de=function(gb){var ea,aa;for(var Aa=rb.slice(),Ha=0,Ma=0,ta=8,ma=new Uint8Array(Math.ceil(1.5 * gb.length)),ha=0,ca,Y=[];Ha < gb.length && !(8 * (gb.length - Ha) - Ma < ta);){for(var Z=ca=0;Z < ta;){ea=Math.min(ta - Z,8 - Ma);aa=gb[Ha];aa<<=Ma;aa&=255;aa>>>=8 - ea;Z+=ea;Ma+=ea;8 == Ma && (Ma=0,++Ha);ca|=(aa & 255) << ta - Z;}Z=Aa[ca];0 == Y.length?++ta:(Z?Y.push(Z[0]):Y.push(Y[0]),Aa[Aa.length]=Y,Y=[],Aa.length == 1 << ta && ++ta,Z || (Z=Aa[ca]));ca=ha + Z.length;ca >= ma.length && (ea=new Uint8Array(Math.ceil(1.5 * ca)),ea.set(ma),ma=ea);ma.set(Z,ha);ha=ca;Y=Y.concat(Z);}return ma.subarray(0,ha);};})();(function(){var fb,db,bb;Mb="utf-8";Kb=9007199254740992;fb=Cc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Cc);ee=function(Ya){for(var ib=[fb.GZIP,fb.LZW],rb=0;rb < ib.length && 0 < Ya.length;++rb){for(var gb=ib[rb],Aa=0;Aa < Ya.length;++Aa){if(Ya[Aa] == gb)return gb;}}return null;};db=dd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(dd);fe=function(Ya){return db.AES_CBC_PKCS5Padding == Ya?db.AES_CBC_PKCS5Padding:db.RSA_ECB_PKCS1Padding == Ya?db.RSA_ECB_PKCS1Padding:db[Ya];};bb=ge={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(ge);wd=function(Ya){return bb[Ya];};Da={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Da);})();Cb={isObjectLiteral:function(fb){return null !== fb && "object" === typeof fb && fb.constructor === Object;},extendDeep:function(){var fb,db,bb,Ya,ib,rb,gb,Aa;fb=arguments[0];db=1;bb=arguments.length;Ya=!1;"boolean" === typeof fb && (Ya=fb,fb=arguments[1],db=2);for(;db < bb;db++){if(null != (ib=arguments[db]))for(rb in ib){if(!(Ya && (rb in fb))){gb=ib[rb];if(fb !== gb && gb !== Ab){Aa=fb[rb];fb[rb]=null !== Aa && null !== gb && "object" === typeof Aa && "object" === typeof gb?Cb.extendDeep(Ya,{},Aa,gb):gb;}}}}return fb;}};(function(){var gb,Aa;function fb(Ha,Ma){return function(){var ta,ma;ta=Ha.base;Ha.base=Ma;ma=Ha.apply(this,arguments);Ha.base=ta;return ma;};}function db(Ha,Ma,ta){var ma,ha,ca,Y;ta=ta || Aa;ha=! !ta.extendAll;for(ma in Ma){ca=Ma.__lookupGetter__(ma);Y=Ma.__lookupSetter__(ma);ca || Y?(ca && Ha.__defineGetter__(ma,ca),Y && Ha.__defineSetter__(ma,Y)):(ca=Ma[ma],Y=Ha[ma],"function" === typeof ca && "function" === typeof Y && ca !== Y?(ca.base !== Function.prototype.base && (ca=fb(ca,Y)),ca.base=Y):(ha || ta[ma]) && Cb.isObjectLiteral(ca) && Cb.isObjectLiteral(Y) && (ca=Cb.extendDeep({},Y,ca)),Ha[ma]=ca);}}function bb(){var Ha,Ma;Ha=Array.prototype.slice;Ma=Ha.call(arguments,1);return this.extend({init:function ma(){var ha;ha=Ha.call(arguments,0);ma.base.apply(this,Ma.concat(ha));}});}function Ya(Ha,Ma){var ta;ta=new this(gb);db(ta,Ha,Ma);return rb(ta);}function ib(Ha,Ma){db(this.prototype,Ha,Ma);return this;}function rb(Ha){var Ma;Ma=function(){var ta;ta=this.init;ta && arguments[0] !== gb && ta.apply(this,arguments);};Ha && (Ma.prototype=Ha);Ma.prototype.constructor=Ma;Ma.extend=Ya;Ma.bind=bb;Ma.mixin=ib;return Ma;}gb={};Aa={actions:!0};Function.prototype.base=function(){};Cb.Class={create:rb,mixin:db,extend:function(Ha,Ma){var ta;ta=rb();ta.prototype=new Ha();return ta.extend(Ma);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");db.apply(null,arguments);};})();(function(){var gb,Aa,Ha;function fb(Ma,ta){return function(){var ma,ha;ma=Ma.base;Ma.base=ta;ha=Ma.apply(this,arguments);Ma.base=ma;return ha;};}function db(Ma,ta,ma){var ha,ca,Y,Z;ma=ma || Aa;ca=! !ma.extendAll;for(ha in ta){Y=ta.__lookupGetter__(ha);Z=ta.__lookupSetter__(ha);Y || Z?(Y && Ma.__defineGetter__(ha,Y),Z && Ma.__defineSetter__(ha,Z)):(Y=ta[ha],Z=Ma[ha],"function" === typeof Y && "function" === typeof Z && Y !== Z?(Y.base !== Ha && (Y=fb(Y,Z)),Y.base=Z):(ca || ma[ha]) && Cb.isObjectLiteral(Y) && Cb.isObjectLiteral(Z) && (Y=Cb.extendDeep({},Z,Y)),Ma[ha]=Y);}}function bb(){var Ma,ta;Ma=Array.prototype.slice;ta=Ma.call(arguments,1);return this.extend({init:function ha(){var ca;ca=Ma.call(arguments,0);ha.base.apply(this,ta.concat(ca));}});}function Ya(Ma,ta){var ma;ma=new this(gb);db(ma,Ma,ta);return rb(ma);}function ib(Ma,ta){db(this.prototype,Ma,ta);return this;}function rb(Ma){var ta;ta=function(){var ma;ma=this.init;ma && arguments[0] !== gb && ma.apply(this,arguments);};Ma && (ta.prototype=Ma);ta.prototype.constructor=ta;ta.extend=Ya;ta.bind=bb;ta.mixin=ib;return ta;}gb={};Aa={actions:!0};Ha=function(){};Function.prototype.base=Ha;Cb.Class={create:rb,mixin:db,extend:function(Ma,ta){var ma;ma=rb();ma.prototype=new Ma();return ma.extend(ta);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");db.apply(null,arguments);};})();(function(){function fb(bb){return bb == Kb?1:bb + 1;}function db(bb){if(0 === Object.keys(bb._waiters).length)return 0;for(var Ya=fb(bb._nextWaiter);!bb._waiters[Ya];){Ya=fb(Ya);}return Ya;}Qc=Cb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(bb){var Ya;if(this._waiters[bb]){Ya=this._waiters[bb];delete this._waiters[bb];bb == this._nextWaiter && (this._nextWaiter=db(this));Ya.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(bb,Ya){var ib,rb;ib=this;rb=fb(this._lastWaiter);this._lastWaiter=rb;$a(Ya,function(){var gb,Aa;if(0 < this._queue.length){gb=this._queue.shift();setTimeout(function(){Ya.result(gb);},0);}else {-1 != bb && (Aa=setTimeout(function(){delete ib._waiters[rb];rb == ib._nextWaiter && (ib._nextWaiter=db(ib));Ya.timeout();},bb));this._waiters[rb]=function(Ha){clearTimeout(Aa);setTimeout(function(){Ya.result(Ha);},0);};this._nextWaiter || (this._nextWaiter=rb);}},ib);return rb;},add:function(bb){var Ya;if(this._nextWaiter){Ya=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=db(this);Ya.call(this,bb);}else this._queue.push(bb);}});})();(function(){var fb;fb=0 - Kb;he=Cb.Class.create({nextBoolean:function(){var db;db=new Uint8Array(1);tc.getRandomValues(db);return db[0] & 1?!0:!1;},nextInt:function(db){var bb;if(null !== db && db !== Ab){if("number" !== typeof db)throw new TypeError("n must be of type number");if(1 > db)throw new RangeError("n must be greater than zero");--db;bb=new Uint8Array(4);tc.getRandomValues(bb);return Math.floor(((bb[3] & 127) << 24 | bb[2] << 16 | bb[1] << 8 | bb[0]) / 2147483648 * (db - 0 + 1));}db=new Uint8Array(4);tc.getRandomValues(db);bb=(db[3] & 127) << 24 | db[2] << 16 | db[1] << 8 | db[0];return db[3] & 128?-bb:bb;},nextLong:function(){var bb;for(var db=fb;db == fb;){db=new Uint8Array(7);tc.getRandomValues(db);bb=16777216 * ((db[6] & 31) << 24 | db[5] << 16 | db[4] << 8 | db[3]) + (db[2] << 16 | db[1] << 8 | db[0]);db=db[6] & 128?-bb - 1:bb;}return db;},nextBytes:function(db){tc.getRandomValues(db);}});})();(function(){function fb(Ya){return Ya == Kb?1:Ya + 1;}function db(Ya){if(0 === Object.keys(Ya._waitingReaders).length)return 0;for(var ib=fb(Ya._nextReader);!Ya._waitingReaders[ib];){ib=fb(ib);}return ib;}function bb(Ya){if(0 === Object.keys(Ya._waitingWriters).length)return 0;for(var ib=fb(Ya._nextWriter);!Ya._waitingWriters[ib];){ib=fb(ib);}return ib;}xd=Cb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(Ya){var ib;if(this._waitingReaders[Ya]){ib=this._waitingReaders[Ya];delete this._waitingReaders[Ya];Ya == this._nextReader && (this._nextReader=db(this));ib.call(this,!0);}this._waitingWriters[Ya] && (ib=this._waitingWriters[Ya],delete this._waitingWriters[Ya],Ya == this._nextWriter && (this._nextWriter=bb(this)),ib.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(Ya,ib){var rb,gb;rb=this;gb=fb(this._lastNumber);this._lastNumber=gb;$a(ib,function(){var Aa;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[gb]=!0,gb);-1 != Ya && (Aa=setTimeout(function(){delete rb._waitingReaders[gb];gb == rb._nextReader && (rb._nextReader=db(rb));ib.timeout();},Ya));this._waitingReaders[gb]=function(Ha){clearTimeout(Aa);Ha?setTimeout(function(){ib.result(Ab);},0):(rb._readers[gb]=!0,setTimeout(function(){ib.result(gb);},0));};this._nextReader || (this._nextReader=gb);},rb);return gb;},writeLock:function(Ya,ib){var rb,gb;rb=this;gb=fb(this._lastNumber);this._lastNumber=gb;$a(ib,function(){var Aa;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=gb;-1 != Ya && (Aa=setTimeout(function(){delete rb._waitingWriters[gb];gb == rb._nextWriter && (rb._nextWriter=bb(rb));ib.timeout();},Ya));this._waitingWriters[gb]=function(Ha){clearTimeout(Aa);Ha?setTimeout(function(){ib.result(Ab);},0):(rb._writer=gb,setTimeout(function(){ib.result(gb);},0));};this._nextWriter || (this._nextWriter=gb);},rb);return gb;},unlock:function(Ya){if(Ya == this._writer)this._writer=null;else {if(!this._readers[Ya])throw new wb("There is no reader or writer with ticket number " + Ya + ".");delete this._readers[Ya];}if(this._nextWriter)0 < Object.keys(this._readers).length || (Ya=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=bb(this),Ya.call(this,!1));else {for(var ib=this._nextReader;0 < Object.keys(this._waitingReaders).length;ib=fb(ib)){this._waitingReaders[ib] && (Ya=this._waitingReaders[ib],delete this._waitingReaders[ib],Ya.call(this,!1));}this._nextReader=0;}}});})();Cb.Class.mixin(X,{JSON_PARSE_ERROR:new X(0,Da.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new X(1,Da.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new X(2,Da.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new X(3,Da.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new X(4,Da.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new X(5,Da.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new X(6,Da.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new X(7,Da.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new X(8,Da.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new X(9,Da.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new X(10,Da.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new X(11,Da.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new X(12,Da.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new X(13,Da.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new X(14,Da.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new X(15,Da.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new X(16,Da.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new X(17,Da.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new X(18,Da.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new X(19,Da.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new X(20,Da.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new X(21,Da.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new X(22,Da.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new X(23,Da.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new X(24,Da.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new X(25,Da.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new X(26,Da.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new X(27,Da.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new X(28,Da.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new X(29,Da.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new X(30,Da.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new X(31,Da.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new X(32,Da.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new X(33,Da.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new X(34,Da.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new X(35,Da.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new X(36,Da.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new X(37,Da.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new X(38,Da.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new X(39,Da.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new X(40,Da.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new X(41,Da.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new X(42,Da.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new X(43,Da.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new X(44,Da.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new X(45,Da.FAIL,"Error exporting key."),DIGEST_ERROR:new X(46,Da.FAIL,"Error in digest."),UNSUPPORTED_KEY:new X(47,Da.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new X(48,Da.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new X(49,Da.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new X(50,Da.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new X(51,Da.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new X(52,Da.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new X(53,Da.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new X(54,Da.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new X(55,Da.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new X(56,Da.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new X(57,Da.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new X(58,Da.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new X(59,Da.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new X(60,Da.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new X(61,Da.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new X(62,Da.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new X(1E3,Da.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new X(1001,Da.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new X(1002,Da.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new X(1003,Da.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new X(1004,Da.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(1005,Da.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new X(1006,Da.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new X(1007,Da.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new X(1008,Da.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new X(1009,Da.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new X(1010,Da.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new X(1011,Da.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new X(1012,Da.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new X(1013,Da.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new X(1014,Da.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new X(2E3,Da.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new X(2001,Da.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new X(2002,Da.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new X(2003,Da.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new X(2004,Da.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new X(2005,Da.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(2006,Da.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(2007,Da.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new X(2008,Da.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new X(2009,Da.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new X(2010,Da.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new X(2011,Da.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new X(2012,Da.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new X(2013,Da.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new X(2014,Da.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new X(2015,Da.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new X(2016,Da.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new X(2017,Da.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new X(2018,Da.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new X(2019,Da.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new X(2020,Da.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new X(3E3,Da.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new X(3001,Da.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new X(3002,Da.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new X(3003,Da.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new X(3004,Da.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(3005,Da.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(3006,Da.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new X(3007,Da.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new X(3008,Da.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new X(3009,Da.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new X(4E3,Da.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new X(4001,Da.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new X(4002,Da.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new X(4003,Da.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new X(4004,Da.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new X(4005,Da.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new X(4006,Da.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new X(4007,Da.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new X(4008,Da.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new X(4009,Da.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new X(4010,Da.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new X(4011,Da.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new X(4012,Da.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new X(4013,Da.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new X(4014,Da.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new X(4015,Da.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new X(4016,Da.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new X(4017,Da.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new X(4018,Da.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new X(4019,Da.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new X(4020,Da.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new X(4021,Da.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new X(4022,Da.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new X(4023,Da.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new X(4024,Da.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new X(4025,Da.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new X(4026,Da.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new X(5E3,Da.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new X(5001,Da.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new X(5002,Da.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new X(5003,Da.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new X(5004,Da.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new X(5005,Da.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new X(5006,Da.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new X(5007,Da.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new X(5008,Da.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new X(5009,Da.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new X(5010,Da.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new X(5011,Da.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new X(5012,Da.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new X(5013,Da.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new X(5014,Da.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new X(5015,Da.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new X(5016,Da.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new X(5017,Da.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new X(5018,Da.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new X(5019,Da.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new X(5020,Da.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new X(5021,Da.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new X(5022,Da.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new X(5023,Da.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new X(5024,Da.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new X(5025,Da.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new X(5026,Da.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new X(5027,Da.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new X(5028,Da.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new X(5029,Da.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new X(5030,Da.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new X(5031,Da.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new X(5032,Da.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new X(5033,Da.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new X(5034,Da.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new X(5035,Da.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new X(5036,Da.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new X(5037,Da.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new X(5038,Da.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new X(5039,Da.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new X(5040,Da.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new X(6E3,Da.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new X(6001,Da.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new X(6002,Da.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new X(6003,Da.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new X(6004,Da.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new X(6005,Da.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new X(6006,Da.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new X(6007,Da.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new X(6008,Da.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new X(6009,Da.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new X(6010,Da.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new X(6011,Da.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new X(6012,Da.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new X(6013,Da.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new X(6014,Da.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new X(6015,Da.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new X(6016,Da.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new X(6017,Da.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new X(6018,Da.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new X(6019,Da.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new X(6020,Da.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new X(6021,Da.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new X(6022,Da.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new X(6023,Da.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new X(6024,Da.FAIL,"Invalid header data."),PAYLOAD_INVALID:new X(6025,Da.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new X(6026,Da.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new X(6027,Da.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new X(6028,Da.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new X(6029,Da.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new X(6030,Da.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new X(6031,Da.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new X(6032,Da.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new X(6033,Da.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new X(6034,Da.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new X(6035,Da.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new X(6036,Da.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new X(6037,Da.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new X(7E3,Da.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new X(7001,Da.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new X(7002,Da.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new X(7003,Da.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new X(7004,Da.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new X(7005,Da.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new X(7006,Da.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new X(7007,Da.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new X(7008,Da.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new X(7009,Da.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new X(7010,Da.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new X(7011,Da.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new X(7012,Da.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new X(7013,Da.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new X(7014,Da.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new X(7015,Da.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new X(7016,Da.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new X(8E3,Da.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new X(8001,Da.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new X(8002,Da.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new X(8003,Da.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new X(8004,Da.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new X(8005,Da.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new X(8006,Da.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new X(8007,Da.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new X(8008,Da.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new X(8009,Da.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new X(8010,Da.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new X(8011,Da.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new X(8012,Da.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new X(9E3,Da.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new X(9001,Da.FAIL,"Error communicating with MSL entity."),NONE:new X(9999,Da.FAIL,"Special unit test error.")});Object.freeze(X);(function(){cb=Cb.Class.create(Error());cb.mixin({init:function(fb,db,bb){var ib,rb,gb;function Ya(){return rb?rb:this.cause && this.cause instanceof cb?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ib=fb.message;db && (ib+=" [" + db + "]");gb=this.stack;Object.defineProperties(this,{message:{value:ib,writable:!1,configurable:!0},error:{value:fb,writable:!1,configurable:!0},cause:{value:bb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:Ya,set:function(Aa){if(0 > Aa || Aa > Kb)throw new RangeError("Message ID " + Aa + " is outside the valid range.");Ya() || (rb=Aa);},configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();gb && (Aa+="\n" + gb);bb && bb.stack && (Aa+="\nCaused by " + bb.stack);return Aa;},configurable:!0}});},setEntity:function(fb){!fb || this.masterToken || this.entityAuthenticationData || (fb instanceof cc?this.masterToken=fb:fb instanceof Dc && (this.entityAuthenticationData=fb));return this;},setUser:function(fb){!fb || this.userIdToken || this.userAuthenticationData || (fb instanceof Kc?this.userIdToken=fb:fb instanceof Rc && (this.userAuthenticationData=fb));return this;},setMessageId:function(fb){this.messageId=fb;return this;},toString:function(){return this.name + ": " + this.message;}});})();vb=cb.extend({init:function ib(db,bb,Ya){ib.base.call(this,db,bb,Ya);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Db=cb.extend({init:function rb(bb,Ya,ib){rb.base.call(this,bb,Ya,ib);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});kc=cb.extend({init:function gb(Ya,ib,rb){gb.base.call(this,Ya,ib,rb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){dc=Cb.Class.create(Error());dc.mixin({init:function(Ya,ib,rb){var gb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);gb=this.stack;Object.defineProperties(this,{message:{value:Ya,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},requestCause:{value:rb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();gb && (Aa+="\n" + gb);ib && ib.stack && (Aa+="\nCaused by " + ib.stack);return Aa;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Rb=Cb.Class.create(Error());Rb.mixin({init:function(Ya,ib){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:Ya,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();rb && (gb+="\n" + rb);ib && ib.stack && (gb+="\nCaused by " + ib.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){wb=Cb.Class.create(Error());wb.mixin({init:function(Ya,ib){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:Ya,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();rb && (gb+="\n" + rb);ib && ib.stack && (gb+="\nCaused by " + ib.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Vb=Cb.Class.create(Error());Vb.mixin({init:function(Ya,ib){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:Ya,writable:!1,configurable:!1},cause:{value:ib,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var gb;gb=this.toString();rb && (gb+="\n" + rb);ib && ib.stack && (gb+="\nCaused by " + ib.stack);return gb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Nb=cb.extend({init:function Aa(ib,rb,gb){Aa.base.call(this,ib,rb,gb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Sc=cb.extend({init:function Aa(rb,gb){Aa.base.call(this,rb);Object.defineProperties(this,{masterToken:{value:gb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=cb.extend({init:function Ma(gb,Aa,Ha){Ma.base.call(this,gb,Aa,Ha);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});uc=cb.extend({init:function ta(Aa,Ha,Ma){ta.base.call(this,Aa,Ha,Ma);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ma;function Aa(ha){return "undefined" === typeof ha?!1:ha;}function Ha(ha){return ha && ha.length?(Wb === ma.V2014_02 && (ha=ha.map(function(ca){return "wrap" == ca?"wrapKey":"unwrap" == ca?"unwrapKey":ca;})),ha):Wb === ma.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Ma(ha,ca,Y,Z,ea){return Promise.resolve().then(function(){return Ob.importKey(ha,ca,Y,Z,ea);}).catch(function(aa){var ja;if("spki" !== ha && "pkcs8" !== ha)throw aa;aa=ASN1.webCryptoAlgorithmToJwkAlg(Y);ja=ASN1.webCryptoUsageToJwkKeyOps(ea);aa=ASN1.rsaDerToJwk(ca,aa,ja,Z);if(!aa)throw Error("Could not make valid JWK from DER input");aa=JSON.stringify(aa);return Ob.importKey("jwk",td(aa),Y,Z,ea);});}function ta(ha,ca){return Promise.resolve().then(function(){return Ob.exportKey(ha,ca);}).catch(function(Y){if("spki" !== ha && "pkcs8" !== ha)throw Y;return Ob.exportKey("jwk",ca).then(function(Z){Z=JSON.parse(sd(new Uint8Array(Z)));Z=ASN1.jwkToRsaDer(Z);if(!Z)throw Error("Could not make valid DER from JWK input");return Z.getDer().buffer;});});}ma=ed={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(ed);Wb=ma.LATEST;Jb={encrypt:function(ha,ca,Y){switch(Wb){case ma.LEGACY:return new Promise(function(Z,ea){var aa;aa=Ob.encrypt(ha,ca,Y);aa.oncomplete=function(ja){Z(ja.target.result);};aa.onerror=function(ja){ea(ja);};});case ma.V2014_01:case ma.V2014_02:return Ob.encrypt(ha,ca,Y).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ha,ca,Y){switch(Wb){case ma.LEGACY:return new Promise(function(Z,ea){var aa;aa=Ob.decrypt(ha,ca,Y);aa.oncomplete=function(ja){Z(ja.target.result);};aa.onerror=function(ja){ea(ja);};});case ma.V2014_01:case ma.V2014_02:return Ob.decrypt(ha,ca,Y).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ha,ca,Y){switch(Wb){case ma.LEGACY:return new Promise(function(Z,ea){var aa;aa=Ob.sign(ha,ca,Y);aa.oncomplete=function(ja){Z(ja.target.result);};aa.onerror=function(ja){ea(ja);};});case ma.V2014_01:case ma.V2014_02:return Ob.sign(ha,ca,Y).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ha,ca,Y,Z){switch(Wb){case ma.LEGACY:return new Promise(function(ea,aa){var ja;ja=Ob.verify(ha,ca,Y,Z);ja.oncomplete=function(ua){ea(ua.target.result);};ja.onerror=function(ua){aa(ua);};});case ma.V2014_01:case ma.V2014_02:return Ob.verify(ha,ca,Y,Z);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ha,ca){switch(Wb){case ma.LEGACY:return new Promise(function(Y,Z){var ea;ea=Ob.digest(ha,ca);ea.oncomplete=function(aa){Y(aa.target.result);};ea.onerror=function(aa){Z(aa);};});case ma.V2014_01:case ma.V2014_02:return Ob.digest(ha,ca).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ha,ca,Y){var Z,ea;Z=Aa(ca);ea=Ha(Y);switch(Wb){case ma.LEGACY:return new Promise(function(aa,ja){var ua;ua=Ob.generateKey(ha,Z,ea);ua.oncomplete=function(ra){aa(ra.target.result);};ua.onerror=function(ra){ja(ra);};});case ma.V2014_01:case ma.V2014_02:return Ob.generateKey(ha,Z,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ha,ca,Y,Z,ea){var aa,ja;aa=Aa(Z);ja=Ha(ea);switch(Wb){case ma.LEGACY:return new Promise(function(ua,ra){var la;la=Ob.deriveKey(ha,ca,Y,aa,ja);la.oncomplete=function(pa){ua(pa.target.result);};la.onerror=function(pa){ra(pa);};});case ma.V2014_01:case ma.V2014_02:return Ob.deriveKey(ha,ca,Y,aa,ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ha,ca,Y,Z,ea){var aa,ja;aa=Aa(Z);ja=Ha(ea);switch(Wb){case ma.LEGACY:return new Promise(function(ua,ra){var la;la=Ob.importKey(ha,ca,Y,aa,ja);la.oncomplete=function(pa){ua(pa.target.result);};la.onerror=function(pa){ra(pa);};});case ma.V2014_01:case ma.V2014_02:return Ma(ha,ca,Y,aa,ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ha,ca){switch(Wb){case ma.LEGACY:return new Promise(function(Y,Z){var ea;ea=Ob.exportKey(ha,ca);ea.oncomplete=function(aa){Y(aa.target.result);};ea.onerror=function(aa){Z(aa);};});case ma.V2014_01:case ma.V2014_02:return ta(ha,ca).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ha,ca,Y,Z){switch(Wb){case ma.LEGACY:return new Promise(function(ea,aa){var ja;ja=Ob.wrapKey(ca,Y,Z);ja.oncomplete=function(ua){ea(ua.target.result);};ja.onerror=function(ua){aa(ua);};});case ma.V2014_01:case ma.V2014_02:return Ob.wrapKey(ha,ca,Y,Z).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ha,ca,Y,Z,ea,aa,ja){switch(Wb){case ma.LEGACY:return new Promise(function(ua,ra){var la;la=Ob.unwrapKey(ca,ea,Y);la.oncomplete=function(pa){ua(pa.target.result);};la.onerror=function(pa){ra(pa);};});case ma.V2014_01:case ma.V2014_02:return Ob.unwrapKey(ha,ca,Y,Z,ea,Aa(aa),Ha(ja));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};cd && cd.getKeyByName && (Jb.getKeyByName=function(ha){switch(Wb){case ma.LEGACY:return new Promise(function(ca,Y){var Z;Z=cd.getKeyByName(ha);Z.oncomplete=function(ea){ca(ea.target.result);};Z.onerror=function(ea){Y(ea);};});case ma.V2014_01:case ma.V2014_02:return cd.getKeyByName(ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});nb.netflix=nb.netflix || ({});nb.netflix.crypto=Jb;})();lc={name:"AES-KW"};hc={name:"AES-CBC"};ic={name:"HMAC",hash:{name:"SHA-256"}};fd={name:"RSA-OAEP",hash:{name:"SHA-1"}};yd={name:"RSAES-PKCS1-v1_5"};ie={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};vc=["encrypt","decrypt"];wc=["wrap","unwrap"];Ec=["sign","verify"];(function(){zd=Cb.Class.create({init:function(Aa,Ha,Ma){var ma;function ta(ha){Ka(Ha,function(){var ca;ca=ha?Eb(ha):Ab;Object.defineProperties(ma,{rawKey:{value:Aa,writable:!1,configurable:!1},keyData:{value:ha,writable:!1,configurable:!1},keyDataB64:{value:ca,writable:!1,configurable:!1}});return this;},ma);}ma=this;Ka(Ha,function(){if(!Aa || "object" != typeof Aa)throw new vb(X.INVALID_SYMMETRIC_KEY);!Ma && Aa.extractable?Jb.exportKey("raw",Aa).then(function(ha){ta(new Uint8Array(ha));},function(ha){Ha.error(new vb(X.KEY_EXPORT_ERROR,"raw"));}):ta(Ma);},ma);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Tc=function(Aa,Ha){new zd(Aa,Ha);};mc=function(Aa,Ha,Ma,ta){Ka(ta,function(){try{Aa="string" == typeof Aa?Gb(Aa):Aa;}catch(ma){throw new vb(X.INVALID_SYMMETRIC_KEY,"keydata " + Aa,ma);}Jb.importKey("raw",Aa,Ha,!0,Ma).then(function(ma){new zd(ma,ta,Aa);},function(ma){ta.error(new vb(X.INVALID_SYMMETRIC_KEY));});});};})();(function(){gd=Cb.Class.create({init:function(Aa,Ha,Ma){var ma;function ta(ha){Ka(Ha,function(){Object.defineProperties(ma,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},ma);}ma=this;Ka(Ha,function(){if(!Aa || "object" != typeof Aa || "public" != Aa.type)throw new TypeError("Only original public crypto keys are supported.");!Ma && Aa.extractable?Jb.exportKey("spki",Aa).then(function(ha){ta(new Uint8Array(ha));},function(ha){Ha.error(new vb(X.KEY_EXPORT_ERROR,"spki"));}):ta(Ma);});},getEncoded:function(){return this.encoded;}});Bc=function(Aa,Ha){new gd(Aa,Ha);};Ad=function(Aa,Ha,Ma,ta){Ka(ta,function(){try{Aa="string" == typeof Aa?Gb(Aa):Aa;}catch(ma){throw new vb(X.INVALID_PUBLIC_KEY,"spki " + Aa,ma);}Jb.importKey("spki",Aa,Ha,!0,Ma).then(function(ma){new gd(ma,ta,Aa);},function(ma){ta.error(new vb(X.INVALID_PUBLIC_KEY));});});};})();(function(){je=Cb.Class.create({init:function(Aa,Ha,Ma){var ma;function ta(ha){Ka(Ha,function(){Object.defineProperties(ma,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},ma);}ma=this;Ka(Ha,function(){if(!Aa || "object" != typeof Aa || "private" != Aa.type)throw new TypeError("Only original private crypto keys are supported.");!Ma && Aa.extractable?Jb.exportKey("pkcs8",Aa).then(function(ha){ta(new Uint8Array(ha));},function(ha){Ha.error(new vb(X.KEY_EXPORT_ERROR,"pkcs8"));}):ta(Ma);});},getEncoded:function(){return this.encoded;}});Jc=function(Aa,Ha){new je(Aa,Ha);};})();(function(){var Aa;Aa=Ed={V1:1,V2:2};Bd=Cb.Class.create({init:function(Ha,Ma,ta,ma){Ka(ma,function(){var ha,ca,Y,Z;ha=Aa.V1;ca=Ha;Y=null;for(Z in dd){if(dd[Z] == Ha){ha=Aa.V2;ca=null;Y=Ha;break;}}Object.defineProperties(this,{version:{value:ha,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ca,writable:!1,configurable:!1},cipherSpec:{value:Y,writable:!1,configurable:!1},iv:{value:Ma,writable:!1,configurable:!1},ciphertext:{value:ta,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ha;Ha={};switch(this.version){case Aa.V1:Ha.keyid=this.keyId;this.iv && (Ha.iv=Eb(this.iv));Ha.ciphertext=Eb(this.ciphertext);Ha.sha256="AA==";break;case Aa.V2:Ha.version=this.version;Ha.cipherspec=this.cipherSpec;this.iv && (Ha.iv=Eb(this.iv));Ha.ciphertext=Eb(this.ciphertext);break;default:throw new wb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ha;}});Cd=function(Ha,Ma,ta,ma){new Bd(Ha,Ma,ta,ma);};Dd=function(Ha,Ma,ta){Ka(ta,function(){var ma,ha,ca,Y,Z,ea,aa;ma=Ha.keyid;ha=Ha.cipherspec;ca=Ha.iv;Y=Ha.ciphertext;Z=Ha.sha256;if(!Ma)if((Ma=Ha.version) && "number" === typeof Ma && Ma === Ma){ea=!1;for(aa in Aa){if(Aa[aa] == Ma){ea=!0;break;}}if(!ea)throw new vb(X.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ha));}else Ma=Aa.V1;switch(Ma){case Aa.V1:if("string" !== typeof ma || ca && "string" !== typeof ca || "string" !== typeof Y || "string" !== typeof Z)throw new Db(X.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ha));break;case Aa.V2:aa=Ha.version;if(aa != Aa.V2)throw new vb(X.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ha));if("string" !== typeof ha || ca && "string" !== typeof ca || "string" !== typeof Y)throw new Db(X.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ha));ha=fe(ha);if(!ha)throw new vb(X.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ha));ma=ha;break;default:throw new vb(X.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ha));}try{ca && (ca=Gb(ca));Y=Gb(Y);}catch(ja){throw new vb(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ha),ja);}new Bd(ma,ca,Y,ta);});};})();(function(){var Aa;Aa=Hd={V1:1,V2:2};nc=Cb.Class.create({init:function(Ha,Ma,ta){var ma;switch(Ha){case Aa.V1:ma=ta;break;case Aa.V2:ma={};ma.version=Ha;ma.algorithm=Ma;ma.signature=Eb(ta);ma=Zb(JSON.stringify(ma),Mb);break;default:throw new wb("Signature envelope version " + Ha + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ha,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Ma,writable:!1,configurable:!1},signature:{value:ta,writable:!1,configurable:!1},bytes:{value:ma,writable:!1,configurable:!1}});}});Fd=function(){var Ha,Ma,ta,ma;if(2 == arguments.length){Ha=Aa.V1;Ma=arguments[0];ta=null;ma=arguments[1];}else 3 == arguments.length && (Ha=Aa.V2,ta=arguments[0],Ma=arguments[1],ma=arguments[2]);Ka(ma,function(){return new nc(Ha,ta,Ma);});};Gd=function(Ha,Ma,ta){Ka(ta,function(){var ma,ha,ca,Y,Z,ea,aa;if(Ma)switch(Ma){case Aa.V1:return new nc(Aa.V1,null,Ha);case Aa.V2:try{ma=Yb(Ha,Mb);ha=JSON.parse(ma);ca=parseInt(ha.version);Y=ha.algorithm;Z=ha.signature;if(!ca || "number" !== typeof ca || ca != ca || "string" !== typeof Y || "string" !== typeof Z)throw new Db(X.JSON_PARSE_ERROR,"signature envelope " + Eb(Ha));if(Aa.V2 != ca)throw new vb(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Eb(Ha));ea=wd(Y);if(!ea)throw new vb(X.UNIDENTIFIED_ALGORITHM,"signature envelope " + Eb(Ha));aa=Gb(Z);if(!aa)throw new vb(X.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ha));return new nc(Aa.V2,ea,aa);}catch(ja){if(ja instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"signature envelope " + Eb(Ha),ja);throw ja;}default:throw new vb(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Eb(Ha));}try{ma=Yb(Ha,Mb);ha=JSON.parse(ma);}catch(ja){ha=null;}if(ha && ha.version){if((ma=ha.version,"number" !== typeof ma || ma !== ma))ma=Aa.V1;}else ma=Aa.V1;switch(ma){case Aa.V1:return new nc(ma,null,Ha);case Aa.V2:ea=ha.algorithm;Z=ha.signature;if("string" !== typeof ea || "string" !== typeof Z)return new nc(Aa.V1,null,Ha);ea=wd(ea);if(!ea)return new nc(Aa.V1,null,Ha);try{aa=Gb(Z);}catch(ja){return new nc(Aa.V1,null,Ha);}return new nc(ma,ea,aa);default:throw new vb(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ha);}});};})();Lc=Cb.Class.create({encrypt:function(Aa,Ha){},decrypt:function(Aa,Ha){},wrap:function(Aa,Ha){},unwrap:function(Aa,Ha,Ma,ta){},sign:function(Aa,Ha){},verify:function(Aa,Ha,Ma){}});(function(){var Aa;Aa=pc={RSA_OAEP:fd.name,A128KW:lc.name};jc="A128GCM";oc=Cb.Class.create({init:function(Ha,Ma,ta,ma,ha){switch(Ma){case Aa.RSA_OAEP:ha=ha && (ha.rawKey || ha);ma=ma && (ma.rawKey || ma);break;case Aa.A128KW:ha=ma=ma && (ma.rawKey || ma);break;default:throw new wb("Unsupported algorithm: " + Ma);}Object.defineProperties(this,{_ctx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Ma,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ta,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ha,Ma){Ma.error(new vb(X.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ha,Ma){Ma.error(new vb(X.DECRYPT_NOT_SUPPORTED));},wrap:function(Ha,Ma){Ka(Ma,function(){Jb.wrapKey("jwe+jwk",Ha.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ta){Ma.result(ta);},function(ta){Ma.error(new vb(X.WRAP_ERROR));});},this);},unwrap:function(Ha,Ma,ta,ma){function ha(ca){Ka(ma,function(){switch(ca.type){case "secret":Tc(ca,ma);break;case "public":Bc(ca,ma);break;case "private":Jc(ca,ma);break;default:throw new vb(X.UNSUPPORTED_KEY,"type: " + ca.type);}});}Ka(ma,function(){Jb.unwrapKey("jwe+jwk",Ha,this._unwrapKey,this._unwrapKey.algorithm,Ma,!1,ta).then(function(ca){ha(ca);},function(){ma.error(new vb(X.UNWRAP_ERROR));});},this);},sign:function(Ha,Ma){Ma.error(new vb(X.SIGN_NOT_SUPPORTED));},verify:function(Ha,Ma,ta){ta.error(new vb(X.VERIFY_NOT_SUPPORTED));}});})();Mc=Lc.extend({encrypt:function(Aa,Ha){Ha.result(Aa);},decrypt:function(Aa,Ha){Ha.result(Aa);},wrap:function(Aa,Ha){Ha.result(Aa);},unwrap:function(Aa,Ha,Ma,ta){ta.result(Aa);},sign:function(Aa,Ha){Ha.result(new Uint8Array(0));},verify:function(Aa,Ha,Ma){Ma.result(!0);}});(function(){var Aa;Aa=id={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};hd=Lc.extend({init:function Y(Ma,ta,ma,ha,ca){Y.base.call(this);ma && (ma=ma.rawKey);ha && (ha=ha.rawKey);Object.defineProperties(this,{id:{value:ta,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},transform:{value:ca == Aa.ENCRYPT_DECRYPT_PKCS1?yd:ca == Aa.ENCRYPT_DECRYPT_OAEP?fd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ca == Aa.WRAP_UNWRAP_PKCS1?yd:ca == Aa.WRAP_UNWRAP_OAEP?fd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ca == Aa.SIGN_VERIFY?ie:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ma,ta){var ma;ma=this;Ka(ta,function(){if("nullOp" == this.transform)return Ma;if(!this.publicKey)throw new vb(X.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Ma.length)return Ma;Jb.encrypt(ma.transform,ma.publicKey,Ma).then(function(ha){Cd(ma.id,null,ha,{result:function(ca){var Y;try{Y=JSON.stringify(ca);ta.result(Zb(Y,Mb));}catch(Z){ta.error(new vb(X.ENCRYPT_ERROR,null,Z));}},error:function(ca){ca instanceof cb || (ca=new vb(X.ENCRYPT_ERROR,null,ca));ta.error(ca);}});},function(ha){ta.error(new vb(X.ENCRYPT_ERROR));});},this);},decrypt:function(Ma,ta){var ma;ma=this;Ka(ta,function(){var ha,ca;if("nullOp" == this.transform)return Ma;if(!this.privateKey)throw new vb(X.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Ma.length)return Ma;try{ha=Yb(Ma,Mb);ca=JSON.parse(ha);}catch(Y){if(Y instanceof SyntaxError)throw new vb(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Y);throw new vb(X.DECRYPT_ERROR,null,Y);}Dd(ca,Ed.V1,{result:function(Y){var Z;try{if(Y.keyId != ma.id)throw new vb(X.ENVELOPE_KEY_ID_MISMATCH);Z=ta.result;Jb.decrypt(ma.transform,ma.privateKey,Y.ciphertext).then(Z,function(ea){ta.error(new vb(X.DECRYPT_ERROR));});}catch(ea){ea instanceof cb?ta.error(ea):ta.error(new vb(X.DECRYPT_ERROR,null,ea));}},error:function(Y){Y instanceof Db && (Y=new vb(X.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Y));Y instanceof cb || (Y=new vb(X.DECRYPT_ERROR,null,Y));ta.error(Y);}});},this);},wrap:function(Ma,ta){Ka(ta,function(){var ma;if("nullOp" == this.wrapTransform || !this.publicKey)throw new vb(X.WRAP_NOT_SUPPORTED,"no public key");ma=ta.result;Jb.wrapKey("jwk",Ma.rawKey,this.publicKey,this.wrapTransform).then(ma,function(ha){ta.error(new vb(X.WRAP_ERROR));});},this);},unwrap:function(Ma,ta,ma,ha){function ca(Y){Ka(ha,function(){switch(Y.type){case "secret":Tc(Y,ha);break;case "public":Bc(Y,ha);break;case "private":Jc(Y,ha);break;default:throw new vb(X.UNSUPPORTED_KEY,"type: " + Y.type);}});}Ka(ha,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new vb(X.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Ma,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ta,!1,ma).then(ca,function(Y){ha.error(new vb(X.UNWRAP_ERROR));});},this);},sign:function(Ma,ta){Ka(ta,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new vb(X.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Ma).then(function(ma){Fd(ma,{result:function(ha){ta.result(ha.bytes);},error:ta.error});},function(ma){ta.error(new vb(X.SIGNATURE_ERROR));});},this);},verify:function(Ma,ta,ma){var ha;ha=this;Ka(ma,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new vb(X.VERIFY_NOT_SUPPORTED,"no public key");Gd(ta,Hd.V1,{result:function(ca){Ka(ma,function(){var Y;Y=ma.result;Jb.verify(this.algo,this.publicKey,ca.signature,Ma).then(Y,function(Z){ma.error(new vb(X.SIGNATURE_ERROR));});},ha);},error:ma.error});},this);}});})();(function(){jd=Lc.extend({init:function ca(Ha,Ma,ta,ma,ha){ca.base.call(this);ta=ta && ta.rawKey;ma=ma && ma.rawKey;ha=ha && ha.rawKey;Object.defineProperties(this,{ctx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},id:{value:Ma,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ha,Ma){var ta;ta=this;Ka(Ma,function(){var ma;if(!this.encryptionKey)throw new vb(X.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ha.length)return Ha;ma=new Uint8Array(16);this.ctx.getRandom().nextBytes(ma);Jb.encrypt({name:hc.name,iv:ma},ta.encryptionKey,Ha).then(function(ha){ha=new Uint8Array(ha);Cd(ta.id,ma,ha,{result:function(ca){var Y;try{Y=JSON.stringify(ca);Ma.result(Zb(Y,Mb));}catch(Z){Ma.error(new vb(X.ENCRYPT_ERROR,null,Z));}},error:function(ca){ca instanceof cb || (ca=new vb(X.ENCRYPT_ERROR,null,ca));Ma.error(ca);}});},function(ha){Ma.error(new vb(X.ENCRYPT_ERROR));});},this);},decrypt:function(Ha,Ma){var ta;ta=this;Ka(Ma,function(){var ma,ha;if(!this.encryptionKey)throw new vb(X.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ha.length)return Ha;try{ma=Yb(Ha,Mb);ha=JSON.parse(ma);}catch(ca){if(ca instanceof SyntaxError)throw new vb(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new vb(X.DECRYPT_ERROR,null,ca);}Dd(ha,Ed.V1,{result:function(ca){try{if(ca.keyId != ta.id)throw new vb(X.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:hc.name,iv:ca.iv},ta.encryptionKey,ca.ciphertext).then(function(Y){Y=new Uint8Array(Y);Ma.result(Y);},function(){Ma.error(new vb(X.DECRYPT_ERROR));});}catch(Y){Y instanceof cb?Ma.error(Y):Ma.error(new vb(X.DECRYPT_ERROR,null,Y));}},error:function(ca){ca instanceof Db && (ca=new vb(X.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof cb || (ca=new vb(X.DECRYPT_ERROR,null,ca));Ma.error(ca);}});},this);},wrap:function(Ha,Ma){Ka(Ma,function(){if(!this.wrapKey)throw new vb(X.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",Ha.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ta){Ma.result(ta);},function(ta){Ma.error(new vb(X.WRAP_ERROR));});},this);},unwrap:function(Ha,Ma,ta,ma){function ha(ca){Ka(ma,function(){switch(ca.type){case "secret":Tc(ca,ma);break;case "public":Bc(ca,ma);break;case "private":Jc(ca,ma);break;default:throw new vb(X.UNSUPPORTED_KEY,"type: " + ca.type);}});}Ka(ma,function(){if(!this.wrapKey)throw new vb(X.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",Ha,this.wrapKey,this.wrapKey.algorithm,Ma,!1,ta).then(function(ca){ha(ca);},function(ca){ma.error(new vb(X.UNWRAP_ERROR));});},this);},sign:function(Ha,Ma){var ta;ta=this;Ka(Ma,function(){if(!this.hmacKey)throw new vb(X.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(ic,this.hmacKey,Ha).then(function(ma){Ka(Ma,function(){var ha;ha=new Uint8Array(ma);Fd(ha,{result:function(ca){Ma.result(ca.bytes);},error:Ma.error});},ta);},function(){Ma.error(new vb(X.HMAC_ERROR));});},this);},verify:function(Ha,Ma,ta){var ma;ma=this;Ka(ta,function(){if(!this.hmacKey)throw new vb(X.VERIFY_NOT_SUPPORTED,"no HMAC key.");Gd(Ma,Hd.V1,{result:function(ha){Ka(ta,function(){Jb.verify(ic,this.hmacKey,ha.signature,Ha).then(function(ca){ta.result(ca);},function(ca){ta.error(new vb(X.HMAC_ERROR));});},ma);},error:ta.error});},this);}});})();fc=jd.extend({init:function ca(Ha,Ma,ta,ma,ha){if(ta || ma || ha)ca.base.call(this,Ha,ta + "_" + Ma.sequenceNumber,ma,ha,null);else {if(!Ma.isDecrypted())throw new Sc(X.MASTERTOKEN_UNTRUSTED,Ma);ca.base.call(this,Ha,Ma.identity + "_" + Ma.sequenceNumber,Ma.encryptionKey,Ma.hmacKey,null);}}});jf=Lc.extend({encrypt:function(Ha,Ma){Ma.result(Ha);},decrypt:function(Ha,Ma){Ma.result(Ha);},wrap:function(Ha,Ma){Ma.error(new wb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ha,Ma,ta,ma){ma.error(new wb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ha,Ma){Ma.result(new Uint8Array(0));},verify:function(Ha,Ma,ta){ta.result(!1);}});Pb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Pb);(function(){Dc=Cb.Class.create({init:function(Ha){Object.defineProperties(this,{scheme:{value:Ha,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ha){return this === Ha?!0:Ha instanceof Dc?this.scheme == Ha.scheme:!1;},toJSON:function(){var Ha;Ha={};Ha.scheme=this.scheme;Ha.authdata=this.getAuthData();return Ha;}});ke=function(Ha,Ma){var ta,ma;ta=Ma.scheme;ma=Ma.authdata;if(!ta || !ma)throw new Db(X.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Ma));if(!Pb[ta])throw new kc(X.UNIDENTIFIED_ENTITYAUTH_SCHEME,ta);Ma=Ha.getEntityAuthenticationFactory(ta);if(!Ma)throw new kc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ta);return Ma.createData(Ha,ma);};})();kd=Cb.Class.create({init:function(Ha){Object.defineProperties(this,{scheme:{value:Ha,writable:!1,configurable:!1}});},createData:function(Ha,Ma){},getCryptoContext:function(Ha,Ma){}});(function(){qc=Dc.extend({init:function ta(Ma){ta.base.call(this,Pb.MGK);Object.defineProperties(this,{identity:{value:Ma,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Ma;Ma={};Ma.identity=this.identity;return Ma;},equals:function ma(ta){return this === ta?!0:ta instanceof qc?ma.base.call(this,this,ta) && this.identity == ta.identity:!1;}});le=function(ta){var ma;ma=ta.identity;if(!ma)throw new Db(X.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ta));return new qc(ma);};})();kf=kd.extend({init:function ta(Ma){ta.base.call(this,Pb.MGK);Object.defineProperties(this,{localIdentity:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Ma,ta){return le(ta);},getCryptoContext:function(Ma,ta){if(!(ta instanceof qc))throw new wb("Incorrect authentication data type " + JSON.stringify(ta) + ".");if(ta.identity != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"mgk " + ta.identity).setEntity(ta);return new Mc();}});(function(){rc=Dc.extend({init:function ma(ta){ma.base.call(this,Pb.PSK);Object.defineProperties(this,{identity:{value:ta,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ta;ta={};ta.identity=this.identity;return ta;},equals:function ha(ma){return this === ma?!0:ma instanceof rc?ha.base.call(this,this,ma) && this.identity == ma.identity:!1;}});me=function(ma){var ha;ha=ma.identity;if(!ha)throw new Db(X.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ma));return new rc(ha);};})();lf=kd.extend({init:function ma(ta){ma.base.call(this,Pb.PSK);Object.defineProperties(this,{localIdentity:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ta,ma){return me(ma);},getCryptoContext:function(ta,ma){if(!(ma instanceof rc))throw new wb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.getIdentity() != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"psk " + ma.identity).setEntity(ma);return new Mc();}});(function(){ld=Dc.extend({init:function ca(ma,ha){ca.base.call(this,Pb.RSA);Object.defineProperties(this,{identity:{value:ma,writable:!1,configurable:!1},publicKeyId:{value:ha,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ma;ma={};ma.identity=this.identity;ma.pubkeyid=this.publicKeyId;return ma;},equals:function ca(ha){return this === ha?!0:ha instanceof ld?ca.base.call(this,this,ha) && this.identity == ha.identity && this.publicKeyId == ha.publicKeyId:!1;}});ne=function(ha){var ca,Y;ca=ha.identity;Y=ha.pubkeyid;if(!ca || "string" !== typeof ca || !Y || "string" !== typeof Y)throw new Db(X.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ha));return new ld(ca,Y);};})();mf=kd.extend({init:function ha(ma){ha.base.call(this,Pb.RSA);Object.defineProperties(this,{store:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ma,ha){return ne(ha);},getCryptoContext:function(ma,ha){var ca,Y,Z;if(!(ha instanceof ld))throw new wb("Incorrect authentication data type " + ha + ".");ca=ha.identity;Y=ha.publicKeyId;Z=this.store.getPublicKey(Y);if(!Z)throw new kc(X.RSA_PUBLICKEY_NOT_FOUND,Y).setEntity(ha);return new hd(ma,ca,null,Z,id.SIGN_VERIFY);}});(function(){Pc=Dc.extend({init:function ca(ha){ca.base.call(this,Pb.NONE);Object.defineProperties(this,{identity:{value:ha,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ha;ha={};ha.identity=this.identity;return ha;},equals:function Y(ca){return this === ca?!0:ca instanceof Pc?Y.base.call(this,this,ca) && this.identity == ca.identity:!1;}});oe=function(ca){var Y;Y=ca.identity;if(!Y)throw new Db(X.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ca));return new Pc(Y);};})();hf=kd.extend({init:function ha(){ha.base.call(this,Pb.NONE);},createData:function(ha,ca){return oe(ca);},getCryptoContext:function(ha,ca){if(!(ca instanceof Pc))throw new wb("Incorrect authentication data type " + JSON.stringify(ca) + ".");return new Mc();}});nf=Cb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ha,ca){if(!(ca instanceof gd))throw new wb("Incorrect key data type " + ca + ".");this.rsaKeys[ha]=ca;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ha){delete this.rsaKeys[ha];},getPublicKey:function(ha){return this.rsaKeys[ha];}});Id=Cb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ha,ca,Y){}});md=Cb.Class.create({abort:function(){},close:function(ha,ca){},write:function(ha,ca,Y,Z,ea){},flush:function(ha,ca){}});of=Cb.Class.create({init:function(ha){Object.defineProperties(this,{_data:{value:ha,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Rb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ha,ca,Y){$a(Y,function(){var Z;if(this._closed)throw new Rb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ha && (ha=this._data.length - this._currentPosition);Z=this._data.subarray(this._currentPosition,this._currentPosition + ha);this._currentPosition+=Z.length;return Z;},this);}});pf=Cb.Class.create({init:function(){var ha;ha={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);},abort:function(){},close:function(ha,ca){this._closed=!0;ca.result(!0);},write:function(ha,ca,Y,Z,ea){$a(ea,function(){var aa;if(this._closed)throw new Rb("Stream is already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Y)throw new RangeError("Length cannot be negative.");if(ca + Y > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");aa=ha.subarray(ca,Y);this._buffered.push(aa);return aa.length;},this);},flush:function(ha,ca){var Y;for(;0 < this._buffered.length;){if((ha=this._buffered.shift(),this._result)){Y=new Uint8Array(this._result.length + ha.length);Y.set(this._result);Y.set(ha,this._result.length);this._result=Y;}else this._result=new Uint8Array(ha);}ca.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});qf=Cb.Class.create({getResponse:function(ha,ca,Y){}});(function(){var ha,ca;ha=md.extend({init:function(Y,Z){Y={_httpLocation:{value:Y,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Z,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new pf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Qc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(Y){this._timeout=Y;},getResponse:function(Y,Z){var ea;ea=this;this._responseQueue.poll(Y,{result:function(aa){$a(Z,function(){aa && this._responseQueue.add(aa);return aa;},ea);},timeout:function(){$a(Z,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();Z.timeout();},ea);},error:function(aa){$a(Z,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw aa;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(Y,Z){var ea;ea=this;$a(Z,function(){var aa;if(this._response)return !0;aa=this._buffer.toByteArray();0 < aa.length && (this._abortToken=this._httpLocation.getResponse({body:aa},this._timeout,{result:function(ja){ea._response={response:ja};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(ja){ea._response={isError:!0,error:ja};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(Y,Z,ea,aa,ja){$a(ja,function(){if(this._response)throw new Rb("HttpOutputStream already closed.");this._buffer.write(Y,Z,ea,aa,ja);},this);},flush:function(Y,Z){$a(Z,function(){if(this._response)return !0;this._buffer.flush(Y,Z);},this);}});ca=Id.extend({init:function(Y){Object.defineProperties(this,{_out:{value:Y,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(Y,Z,ea){var ja;function aa(ua){$a(ea,function(){if(!ua)return new Uint8Array(0);this._out.getResponse(Z,{result:function(ra){$a(ea,function(){var la;if(ra.isTimeout)(this._timedout=!0,ea.timeout());else {if(ra.isError)throw (this._exception=ra.error || new Rb("Unknown HTTP exception."),this._exception);if(!ra.response)throw (this._exception=new Rb("Missing HTTP response."),this._exception);ra.response.json !== Ab && (this._json=ra.response.json,this.getJSON=function(){return ja._json;});la=ra.response.content || td("string" === typeof ra.response.body?ra.response.body:JSON.stringify(this._json));this._buffer=new of(la);this._buffer.read(Y,Z,ea);}},ja);},timeout:function(){ea.timeout();},error:function(ra){ea.error(ra);}});},ja);}ja=this;$a(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(Y,Z,ea):this._out.close(Z,{result:function(ua){aa(ua);},timeout:function(){ea.timeout();},error:function(ua){ea.error(ua);}});}},ja);}});$d=Cb.Class.create({init:function(Y,Z){Object.defineProperties(this,{_httpLocation:{value:Y,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Z,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(Y){this._timeout=Y;},openConnection:function(){var Y;Y=new ha(this._httpLocation,this._timeout);return {input:new ca(Y),output:Y};}});})();(function(){var ha,ca;ha=md.extend({init:function(){var Y;Y={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(){},getResponse:function(Y,Z){Z.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(Y,Z){Z.result(!0);},write:function(Y,Z,ea,aa,ja){var ua,ra;try{if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(Z + ea > Y.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ua=Y.subarray(Z,ea);ra=new Uint8Array(this._buffer.length + ua.length);ra.set(this._buffer);ra.set(ua,this._buffer.length);this._buffer=ra;ja.result(ua.length);}catch(la){ja.error(la);}},flush:function(Y,Z){Z.result(!0);},request:function(){return this._buffer;}});ca=Id.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(Y,Z,ea){ea.result(new Uint8Array(16));}});ae=Cb.Class.create({init:function(){var Y;Y={output:{value:new ha(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ca(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return sd(this.output.request());}});})();pe=function(ha,ca,Y){(function(Z,ea,aa){Z.read(-1,ea,{result:function(ja){ja && ja.length?aa(null,ja):aa(null,null);},timeout:function(){Y.timeout();},error:function(ja){aa(ja,null);}});})(ha,ca,function(Z,ea){var aa,ja;if(Z)Y.error(Z);else if(ea){if(ha.getJSON !== Ab && "function" === typeof ha.getJSON)Y.result(ha.getJSON());else {Z=Y.result;ea=new rf(Yb(ea,"utf-8"));aa=[];for(ja=ea.nextValue();ja !== Ab;){aa.push(ja);ja=ea.nextValue();}Z.call(Y,aa);}}else Y.result(null);});};ec={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(ec);(function(){Uc=Cb.Class.create({init:function(ha){Object.defineProperties(this,{keyExchangeScheme:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof Uc?this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});qe=function(ha,ca,Y){Ka(Y,function(){var Z,ea,aa;Z=ca.scheme;ea=ca.keydata;if(!Z || !ea || "object" !== typeof ea)throw new Db(X.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ca));if(!ec[Z])throw new Nb(X.UNIDENTIFIED_KEYX_SCHEME,Z);aa=ha.getKeyExchangeFactory(Z);if(!aa)throw new Nb(X.KEYX_FACTORY_NOT_FOUND,Z);aa.createRequestData(ha,ea,Y);});};})();(function(){Vc=Cb.Class.create({init:function(ha,ca){Object.defineProperties(this,{masterToken:{value:ha,writable:!1,configurable:!1},keyExchangeScheme:{value:ca,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.mastertoken=this.masterToken;ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof Vc?this.masterToken.equals(ha.masterToken) && this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});re=function(ha,ca,Y){Ka(Y,function(){var Z,ea,aa;Z=ca.mastertoken;ea=ca.scheme;aa=ca.keydata;if(!ea || !Z || "object" !== typeof Z || !aa || "object" !== typeof aa)throw new Db(X.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ca));if(!ec[ea])throw new Nb(X.UNIDENTIFIED_KEYX_SCHEME,ea);Wc(ha,Z,{result:function(ja){Ka(Y,function(){var ua;ua=ha.getKeyExchangeFactory(ea);if(!ua)throw new Nb(X.KEYX_FACTORY_NOT_FOUND,ea);return ua.createResponseData(ha,ja,aa);});},error:function(ja){Y.error(ja);}});});};})();(function(){var ha;ha=Cb.Class.create({init:function(ca,Y){Object.defineProperties(this,{keyResponseData:{value:ca,writable:!1,configurable:!1},cryptoContext:{value:Y,writable:!1,configurable:!1}});}});gc=Cb.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},createRequestData:function(ca,Y,Z){},createResponseData:function(ca,Y,Z){},generateResponse:function(ca,Y,Z,ea){},getCryptoContext:function(ca,Y,Z,ea,aa){},generateSessionKeys:function(ca,Y){Ka(Y,function(){var Z,ea;Z=new Uint8Array(16);ea=new Uint8Array(32);ca.getRandom().nextBytes(Z);ca.getRandom().nextBytes(ea);mc(Z,hc,vc,{result:function(aa){mc(ea,ic,Ec,{result:function(ja){Y.result({encryptionKey:aa,hmacKey:ja});},error:function(ja){Y.error(new vb(X.SESSION_KEY_CREATION_FAILURE,null,ja));}});},error:function(aa){Y.error(new vb(X.SESSION_KEY_CREATION_FAILURE,null,aa));}});});},importSessionKeys:function(ca,Y,Z){mc(ca,hc,vc,{result:function(ea){mc(Y,ic,Ec,{result:function(aa){Z.result({encryptionKey:ea,hmacKey:aa});},error:function(aa){Z.error(aa);}});},error:function(ea){Z.error(ea);}});}});gc.KeyExchangeData=ha;})();(function(){var ca,Y,Z;function ha(ea,aa,ja,ua,ra){Ka(ra,function(){var la,pa;switch(aa){case ca.PSK:(la=new rc(ua),pa=ea.getEntityAuthenticationFactory(Pb.PSK));if(!pa)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,aa);la=pa.getCryptoContext(ea,la);return new oc(ea,pc.A128KW,jc,Ab);case ca.MGK:la=new qc(ua);pa=ea.getEntityAuthenticationFactory(Pb.MGK);if(!pa)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,aa);la=pa.getCryptoContext(ea,la);return new oc(ea,pc.A128KW,jc,Ab);case ca.WRAP:la=ea.getMslCryptoContext();la.unwrap(ja,lc,wc,{result:function(ya){Ka(ra,function(){return new oc(ea,pc.A128KW,jc,ya);});},error:ra.error});break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,aa);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Y=se=Uc.extend({init:function ua(aa,ja){ua.base.call(this,ec.JWE_LADDER);switch(aa){case ca.WRAP:if(!ja)throw new wb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ja=null;}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},wrapdata:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var aa;aa={};aa.mechanism=this.mechanism;this.wrapdata && (aa.wrapdata=Eb(this.wrapdata));return aa;},equals:function ua(ja){return ja === this?!0:ja instanceof se?ua.base.call(this,ja) && this.mechanism == ja.mechanism && $b(this.wrapdata,ja.wrapdata):!1;},uniqueKey:function ua(){var ra;ra=ua.base.call(this) + ":" + this.mechanism;this.wrapdata && (ra+=":" + ac(this.wrapdata));return ra;}});Z=te=Vc.extend({init:function da(ra,la,pa,ya,na){da.base.call(this,ra,ec.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:la,writable:!1,configurable:!1},wrapdata:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.wrapkey=Eb(this.wrapKey);ra.wrapdata=Eb(this.wrapdata);ra.encryptionkey=Eb(this.encryptionKey);ra.hmackey=Eb(this.hmacKey);return ra;},equals:function pa(la){return this === la?!0:la instanceof te?pa.base.call(this,la) && $b(this.wrapKey,la.wrapKey) && $b(this.wrapdata,la.wrapdata) && $b(this.encryptionKey,la.encryptionKey) && $b(this.hmacKey,la.hmacKey):!1;},uniqueKey:function pa(){return pa.base.call(this) + ":" + ac(this.wrapKey) + ":" + ac(this.wrapdata) + ":" + ac(this.encryptionKey) + ":" + ac(this.hmacKey);}});gc.extend({init:function na(ya){na.base.call(this,ec.JWE_LADDER);Object.defineProperties(this,{repository:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ya,na,da){Ka(da,function(){var ia,ka,va;ia=na.mechanism;ka=na.wrapdata;if(!ia || ia == ca.WRAP && (!ka || "string" !== typeof ka))throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(na));if(!ca[ia])throw new Nb(X.UNIDENTIFIED_KEYX_MECHANISM,ia);switch(ia){case ca.WRAP:try{va=Gb(ka);}catch(Pa){throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + na.toString());}if(null == va || 0 == va.length)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + na.toString());break;default:va=null;}return new Y(ia,va);});},createResponseData:function(ya,na,da){var ia,ka,va,Pa,Ja,Na,Ra;ya=da.wrapkey;ia=da.wrapdata;ka=da.encryptionkey;va=da.hmackey;if(!(ya && "string" === typeof ya && ia && "string" === typeof ia && ka && "string" === typeof ka && va) || "string" !== typeof va)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{Pa=Gb(ya);Ja=Gb(ia);}catch(oa){throw new vb(X.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(da),oa);}try{Na=Gb(ka);}catch(oa){throw new vb(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),oa);}try{Ra=Gb(va);}catch(oa){throw new vb(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),oa);}return new Z(na,Pa,Ja,Na,Ra);},generateResponse:function(ya,na,da,ia){var Na,Ra;function ka(oa,xa,Ca){Na.generateSessionKeys(ya,{result:function(Fa){Ka(ia,function(){va(oa,xa,Ca,Fa.encryptionKey,Fa.hmacKey);},Na);},error:function(Fa){Ka(ia,function(){Fa instanceof cb && Fa.setEntity(Ra);throw Fa;});}});}function va(oa,xa,Ca,Fa,za){Ka(ia,function(){ha(ya,na.mechanism,na.wrapdata,oa,{result:function(Sa){Sa.wrap(xa,{result:function(Ea){Pa(xa,Ca,Fa,za,Ea);},error:function(Ea){Ka(ia,function(){Ea instanceof cb && Ea.setEntity(Ra);throw Ea;});}});},error:function(Sa){Ka(ia,function(){Sa instanceof cb && Sa.setEntity(Ra);throw Sa;});}});},Na);}function Pa(oa,xa,Ca,Fa,za){Ka(ia,function(){var Sa;Sa=new oc(ya,pc.A128KW,jc,oa);Sa.wrap(Ca,{result:function(Ea){Sa.wrap(Fa,{result:function(Va){Ja(xa,za,Ca,Ea,Fa,Va);},error:function(Va){Ka(ia,function(){Va instanceof cb && Va.setEntity(Ra);throw Va;});}});},error:function(Ea){Ka(ia,function(){Ea instanceof cb && Ea.setEntity(Ra);throw Ea;});}});},Na);}function Ja(oa,xa,Ca,Fa,za,Sa){Ka(ia,function(){var Ea;Ea=ya.getTokenFactory();Ra?Ea.renewMasterToken(ya,Ra,Ca,za,{result:function(Va){Ka(ia,function(){var Za,Ua;Za=new fc(ya,Va);Ua=new Z(Va,xa,oa,Fa,Sa);return new gc.KeyExchangeData(Ua,Za,ia);},Na);},error:function(Va){Ka(ia,function(){Va instanceof cb && Va.setEntity(Ra);throw Va;});}}):Ea.createMasterToken(ya,da,Ca,za,{result:function(Va){Ka(ia,function(){var Za,Ua;Za=new fc(ya,Va);Ua=new Z(Va,xa,oa,Fa,Sa);return new gc.KeyExchangeData(Ua,Za,ia);},Na);},error:ia.error});},Na);}Na=this;Ka(ia,function(){var oa,xa;if(!(na instanceof Y))throw new wb("Key request data " + JSON.stringify(na) + " was not created by this factory.");oa=da;if(da instanceof cc){if(!da.isVerified())throw new Sc(X.MASTERTOKEN_UNTRUSTED,da);Ra=da;oa=da.identity;}xa=new Uint8Array(16);ya.getRandom().nextBytes(xa);mc(xa,lc,wc,{result:function(Ca){Ka(ia,function(){ya.getMslCryptoContext().wrap(Ca,{result:function(Fa){ka(oa,Ca,Fa);},error:function(Fa){Ka(ia,function(){Fa instanceof cb && Fa.setEntity(Ra);throw Fa;},Na);}});},Na);},error:function(Ca){Ka(ia,function(){throw new vb(X.WRAP_KEY_CREATION_FAILURE,null,Ca).setEntity(Ra);},Na);}});},Na);},getCryptoContext:function(ya,na,da,ia,ka){var Pa;function va(Ja,Na,Ra,oa,xa){Ka(ka,function(){var Ca;Ca=new oc(ya,pc.A128KW,jc,xa);Ca.unwrap(Na.encryptionKey,hc,vc,{result:function(Fa){Ca.unwrap(Na.hmacKey,ic,Ec,{result:function(za){Ka(ka,function(){this.repository.addCryptoContext(Na.wrapdata,Ca);this.repository.removeCryptoContext(Ra);return new fc(ya,Na.masterToken,oa,Fa,za);},Pa);},error:function(za){Ka(ka,function(){za instanceof cb && za.setEntity(Ja);throw za;});}});},error:function(Fa){Ka(ka,function(){Fa instanceof cb && Fa.setEntity(Ja);throw Fa;});}});},Pa);}Pa=this;Ka(ka,function(){var Ja,Na;if(!(na instanceof Y))throw new wb("Key request data " + JSON.stringify(na) + " was not created by this factory.");if(!(da instanceof Z))throw new wb("Key response data " + JSON.stringify(da) + " was not created by this factory.");Ja=na.mechanism;Na=na.wrapdata;ya.getEntityAuthenticationData(null,{result:function(Ra){Ka(ka,function(){var oa,xa,Ca;oa=Ra.getIdentity();switch(Ja){case ca.PSK:xa=new rc(oa);Ca=ya.getEntityAuthenticationFactory(Pb.PSK);if(!Ca)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ja).setEntity(Ra);xa=Ca.getCryptoContext(ya,xa);xa=new oc(ya,pc.A128KW,jc,Ab);break;case ca.MGK:xa=new qc(oa);Ca=ya.getEntityAuthenticationFactory(Pb.MGK);if(!Ca)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ja).setEntity(Ra);xa=Ca.getCryptoContext(ya,xa);xa=new oc(ya,pc.A128KW,jc,xa.wrapKey);break;case ca.WRAP:xa=this.repository.getCryptoContext(Na);if(!xa)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,Eb(Na)).setEntity(Ra);break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ja).setEntity(Ra);}xa.unwrap(da.wrapKey,lc,wc,{result:function(Fa){va(Ra,da,Na,oa,Fa);},error:function(Fa){Ka(ka,function(){Fa instanceof cb && Fa.setEntity(Ra);throw Fa;});}});},Pa);},error:ka.error});},Pa);}});})();(function(){var ca,Y,Z,ea;function ha(aa,ja,ua,ra,la){Ka(la,function(){var pa,ya;switch(ja){case ca.PSK:(pa=new rc(ra),ya=aa.getEntityAuthenticationFactory(Pb.PSK));if(!ya)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ja);pa=ya.getCryptoContext(aa,pa);return new ea(Ab);case ca.MGK:pa=new qc(ra);ya=aa.getEntityAuthenticationFactory(Pb.MGK);if(!ya)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ja);pa=ya.getCryptoContext(aa,pa);return new ea(Ab);case ca.WRAP:pa=aa.getMslCryptoContext();pa.unwrap(ua,lc,wc,{result:function(na){Ka(la,function(){return new ea(na);});},error:la.error});break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ja);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Y=ue=Uc.extend({init:function ra(ja,ua){ra.base.call(this,ec.JWK_LADDER);switch(ja){case ca.WRAP:if(!ua)throw new wb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ua=null;}Object.defineProperties(this,{mechanism:{value:ja,writable:!1,configurable:!1},wrapdata:{value:ua,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.mechanism=this.mechanism;this.wrapdata && (ja.wrapdata=Eb(this.wrapdata));return ja;},equals:function ra(ua){return ua === this?!0:ua instanceof ue?ra.base.call(this,ua) && this.mechanism == ua.mechanism && $b(this.wrapdata,ua.wrapdata):!1;},uniqueKey:function ra(){var la;la=ra.base.call(this) + ":" + this.mechanism;this.wrapdata && (la+=":" + ac(this.wrapdata));return la;}});Z=ve=Vc.extend({init:function ia(la,pa,ya,na,da){ia.base.call(this,la,ec.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:pa,writable:!1,configurable:!1},wrapdata:{value:ya,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.wrapkey=Eb(this.wrapKey);la.wrapdata=Eb(this.wrapdata);la.encryptionkey=Eb(this.encryptionKey);la.hmackey=Eb(this.hmacKey);return la;},equals:function ya(pa){return this === pa?!0:pa instanceof ve?ya.base.call(this,pa) && $b(this.wrapKey,pa.wrapKey) && $b(this.wrapdata,pa.wrapdata) && $b(this.encryptionKey,pa.encryptionKey) && $b(this.hmacKey,pa.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this) + ":" + ac(this.wrapKey) + ":" + ac(this.wrapdata) + ":" + ac(this.encryptionKey) + ":" + ac(this.hmacKey);}});ea=Lc.extend({init:function(ya){ya && ya.rawKey && (ya=ya.rawKey);Object.defineProperties(this,{_wrapKey:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(ya,na){na.error(new vb(X.ENCRYPT_NOT_SUPPORTED));},decrypt:function(ya,na){na.error(new vb(X.DECRYPT_NOT_SUPPORTED));},wrap:function(ya,na){Ka(na,function(){Jb.wrapKey("jwk",ya.rawKey,this._wrapKey,lc).then(function(da){na.result(da);},function(da){na.error(new vb(X.WRAP_ERROR));});},this);},unwrap:function(ya,na,da,ia){function ka(va){Ka(ia,function(){switch(va.type){case "secret":Tc(va,ia);break;case "public":Bc(va,ia);break;case "private":Jc(va,ia);break;default:throw new vb(X.UNSUPPORTED_KEY,"type: " + va.type);}});}Ka(ia,function(){Jb.unwrapKey("jwk",ya,this._wrapKey,lc,na,!1,da).then(function(va){ka(va);},function(va){ia.error(new vb(X.UNWRAP_ERROR));});},this);},sign:function(ya,na){na.error(new vb(X.SIGN_NOT_SUPPORTED));},verify:function(ya,na,da){da.error(new vb(X.VERIFY_NOT_SUPPORTED));}});gc.extend({init:function da(na){da.base.call(this,ec.JWK_LADDER);Object.defineProperties(this,{repository:{value:na,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(na,da,ia){Ka(ia,function(){var ka,va,Pa;ka=da.mechanism;va=da.wrapdata;if(!ka || ka == ca.WRAP && (!va || "string" !== typeof va))throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));if(!ca[ka])throw new Nb(X.UNIDENTIFIED_KEYX_MECHANISM,ka);switch(ka){case ca.WRAP:try{Pa=Gb(va);}catch(Ja){throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());}if(null == Pa || 0 == Pa.length)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());break;default:Pa=null;}return new Y(ka,Pa);});},createResponseData:function(na,da,ia){var ka,va,Pa,Ja,Na,Ra,oa;na=ia.wrapkey;ka=ia.wrapdata;va=ia.encryptionkey;Pa=ia.hmackey;if(!(na && "string" === typeof na && ka && "string" === typeof ka && va && "string" === typeof va && Pa) || "string" !== typeof Pa)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ia));try{Ja=Gb(na);Na=Gb(ka);}catch(xa){throw new vb(X.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ia),xa);}try{Ra=Gb(va);}catch(xa){throw new vb(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ia),xa);}try{oa=Gb(Pa);}catch(xa){throw new vb(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ia),xa);}return new Z(da,Ja,Na,Ra,oa);},generateResponse:function(na,da,ia,ka){var Ra,oa;function va(xa,Ca,Fa){Ra.generateSessionKeys(na,{result:function(za){Ka(ka,function(){Pa(xa,Ca,Fa,za.encryptionKey,za.hmacKey);},Ra);},error:function(za){Ka(ka,function(){za instanceof cb && za.setEntity(oa);throw za;});}});}function Pa(xa,Ca,Fa,za,Sa){Ka(ka,function(){ha(na,da.mechanism,da.wrapdata,xa,{result:function(Ea){Ea.wrap(Ca,{result:function(Va){Ja(Ca,Fa,za,Sa,Va);},error:function(Va){Ka(ka,function(){Va instanceof cb && Va.setEntity(oa);throw Va;});}});},error:function(Ea){Ka(ka,function(){Ea instanceof cb && Ea.setEntity(oa);throw Ea;});}});},Ra);}function Ja(xa,Ca,Fa,za,Sa){Ka(ka,function(){var Ea;Ea=new ea(xa);Ea.wrap(Fa,{result:function(Va){Ea.wrap(za,{result:function(Za){Na(Ca,Sa,Fa,Va,za,Za);},error:function(Za){Ka(ka,function(){Za instanceof cb && Za.setEntity(oa);throw Za;});}});},error:function(Va){Ka(ka,function(){Va instanceof cb && Va.setEntity(oa);throw Va;});}});},Ra);}function Na(xa,Ca,Fa,za,Sa,Ea){Ka(ka,function(){var Va;Va=na.getTokenFactory();oa?Va.renewMasterToken(na,oa,Fa,Sa,{result:function(Za){Ka(ka,function(){var Ua,hb;Ua=new fc(na,Za);hb=new Z(Za,Ca,xa,za,Ea);return new gc.KeyExchangeData(hb,Ua,ka);},Ra);},error:function(Za){Ka(ka,function(){Za instanceof cb && Za.setEntity(oa);throw Za;});}}):Va.createMasterToken(na,ia,Fa,Sa,{result:function(Za){Ka(ka,function(){var Ua,hb;Ua=new fc(na,Za);hb=new Z(Za,Ca,xa,za,Ea);return new gc.KeyExchangeData(hb,Ua,ka);},Ra);},error:ka.error});},Ra);}Ra=this;Ka(ka,function(){var xa,Ca;if(!(da instanceof Y))throw new wb("Key request data " + JSON.stringify(da) + " was not created by this factory.");xa=ia;if(ia instanceof cc){if(!ia.isVerified())throw new Sc(X.MASTERTOKEN_UNTRUSTED,ia);oa=ia;xa=ia.identity;}Ca=new Uint8Array(16);na.getRandom().nextBytes(Ca);mc(Ca,lc,wc,{result:function(Fa){Ka(ka,function(){na.getMslCryptoContext().wrap(Fa,{result:function(za){va(xa,Fa,za);},error:function(za){Ka(ka,function(){za instanceof cb && za.setEntity(oa);throw za;},Ra);}});},Ra);},error:function(Fa){Ka(ka,function(){throw new vb(X.WRAP_KEY_CREATION_FAILURE,null,Fa).setEntity(oa);},Ra);}});},Ra);},getCryptoContext:function(na,da,ia,ka,va){var Ja;function Pa(Na,Ra,oa,xa,Ca){Ka(va,function(){var Fa;Fa=new ea(Ca);Fa.unwrap(Ra.encryptionKey,hc,vc,{result:function(za){Fa.unwrap(Ra.hmacKey,ic,Ec,{result:function(Sa){Ka(va,function(){this.repository.addCryptoContext(Ra.wrapdata,Fa);this.repository.removeCryptoContext(oa);return new fc(na,Ra.masterToken,xa,za,Sa);},Ja);},error:function(Sa){Ka(va,function(){Sa instanceof cb && Sa.setEntity(Na);throw Sa;});}});},error:function(za){Ka(va,function(){za instanceof cb && za.setEntity(Na);throw za;});}});},Ja);}Ja=this;Ka(va,function(){var Na,Ra;if(!(da instanceof Y))throw new wb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ia instanceof Z))throw new wb("Key response data " + JSON.stringify(ia) + " was not created by this factory.");Na=da.mechanism;Ra=da.wrapdata;na.getEntityAuthenticationData(null,{result:function(oa){Ka(va,function(){var xa,Ca,Fa;xa=oa.getIdentity();switch(Na){case ca.PSK:Ca=new rc(xa);Fa=na.getEntityAuthenticationFactory(Pb.PSK);if(!Fa)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Na).setEntity(oa);Ca=Fa.getCryptoContext(na,Ca);Ca=new ea(Ca.wrapKey);break;case ca.MGK:Ca=new qc(xa);Fa=na.getEntityAuthenticationFactory(Pb.MGK);if(!Fa)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Na).setEntity(oa);Ca=Fa.getCryptoContext(na,Ca);Ca=new ea(Ca.wrapKey);break;case ca.WRAP:Ca=this.repository.getCryptoContext(Ra);if(!Ca)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,Eb(Ra)).setEntity(oa);break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Na).setEntity(oa);}Ca.unwrap(ia.wrapKey,lc,wc,{result:function(za){Pa(oa,ia,Ra,xa,za);},error:function(za){Ka(va,function(){za instanceof cb && za.setEntity(oa);throw za;});}});},Ja);},error:va.error});},Ja);}});})();sf=Cb.Class.create({addCryptoContext:function(ha,ca){},getCryptoContext:function(ha){},removeCryptoContext:function(ha){}});(function(){var ca,Y,Z,ea;function ha(aa,ja,ua,ra,la){switch(ua){case ca.JWE_RSA:case ca.JWEJS_RSA:return new oc(aa,pc.RSA_OAEP,jc,ra,la);case ca.JWK_RSA:return new hd(aa,ja,ra,la,id.WRAP_UNWRAP_OAEP);case ca.JWK_RSAES:return new hd(aa,ja,ra,la,id.WRAP_UNWRAP_PKCS1);default:throw new vb(X.UNSUPPORTED_KEYX_MECHANISM,ua);}}ca=we={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};Y=vd=Uc.extend({init:function pa(ja,ua,ra,la){pa.base.call(this,ec.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ja,writable:!1,configurable:!1},mechanism:{value:ua,writable:!1,configurable:!1},publicKey:{value:ra,writable:!1,configurable:!1},privateKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.keypairid=this.keyPairId;ja.mechanism=this.mechanism;ja.publickey=Eb(this.publicKey.getEncoded());return ja;},equals:function ra(ua){var la;if(ua === this)return !0;if(!(ua instanceof vd))return !1;la=this.privateKey === ua.privateKey || this.privateKey && ua.privateKey && $b(this.privateKey.getEncoded(),ua.privateKey.getEncoded());return ra.base.call(this,ua) && this.keyPairId == ua.keyPairId && this.mechanism == ua.mechanism && $b(this.publicKey.getEncoded(),ua.publicKey.getEncoded()) && la;},uniqueKey:function ra(){var la,pa;la=this.publicKey.getEncoded();pa=this.privateKey && this.privateKey.getEncoded();la=ra.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + ac(la);pa && (la+=":" + ac(pa));return la;}});Z=function(ra,la){Ka(la,function(){var pa,ya,na,da;pa=ra.keypairid;ya=ra.mechanism;na=ra.publickey;if(!pa || "string" !== typeof pa || !ya || !na || "string" !== typeof na)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ra));if(!ca[ya])throw new Nb(X.UNIDENTIFIED_KEYX_MECHANISM,ya);try{da=Gb(na);switch(ya){case ca.JWE_RSA:case ca.JWEJS_RSA:case ca.JWK_RSA:Ad(da,fd,wc,{result:function(ia){la.result(new Y(pa,ya,ia,null));},error:function(ia){la.error(ia);}});break;case ca.JWK_RSAES:Ad(da,yd,wc,{result:function(ia){la.result(new Y(pa,ya,ia,null));},error:function(ia){la.error(ia);}});break;default:throw new vb(X.UNSUPPORTED_KEYX_MECHANISM,ya);}}catch(ia){if(!(ia instanceof cb))throw new vb(X.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ra),ia);throw ia;}});};ea=xe=Vc.extend({init:function da(la,pa,ya,na){da.base.call(this,la,ec.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.keypairid=this.keyPairId;la.encryptionkey=Eb(this.encryptionKey);la.hmackey=Eb(this.hmacKey);return la;},equals:function ya(pa){return this === pa?!0:pa instanceof xe?ya.base.call(this,pa) && this.keyPairId == pa.keyPairId && $b(this.encryptionKey,pa.encryptionKey) && $b(this.hmacKey,pa.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this) + ":" + this.keyPairId + ":" + ac(this.encryptionKey) + ":" + ac(this.hmacKey);}});be=gc.extend({init:function na(){na.base.call(this,ec.ASYMMETRIC_WRAPPED);},createRequestData:function(na,da,ia){Z(da,ia);},createResponseData:function(na,da,ia){var ka,va,Pa,Ja;na=ia.keypairid;ka=ia.encryptionkey;va=ia.hmackey;if(!na || "string" !== typeof na || !ka || "string" !== typeof ka || !va || "string" !== typeof va)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ia));try{Pa=Gb(ka);}catch(Na){throw new vb(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ia),Na);}try{Ja=Gb(va);}catch(Na){throw new vb(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ia),Na);}return new ea(da,na,Pa,Ja);},generateResponse:function(na,da,ia,ka){var Ja;function va(Na,Ra){Ka(ka,function(){var oa;oa=ha(na,da.keyPairId,da.mechanism,null,da.publicKey);oa.wrap(Na,{result:function(xa){Ka(ka,function(){oa.wrap(Ra,{result:function(Ca){Pa(Na,xa,Ra,Ca);},error:function(Ca){Ka(ka,function(){Ca instanceof cb && ia instanceof cc && Ca.setEntity(ia);throw Ca;},Ja);}});},Ja);},error:function(xa){Ka(ka,function(){xa instanceof cb && ia instanceof cc && xa.setEntity(ia);throw xa;},Ja);}});},Ja);}function Pa(Na,Ra,oa,xa){Ka(ka,function(){var Ca;Ca=na.getTokenFactory();ia instanceof cc?Ca.renewMasterToken(na,ia,Na,oa,{result:function(Fa){Ka(ka,function(){var za,Sa;za=new fc(na,Fa);Sa=new ea(Fa,da.keyPairId,Ra,xa);return new gc.KeyExchangeData(Sa,za,ka);},Ja);},error:function(Fa){Ka(ka,function(){Fa instanceof cb && Fa.setEntity(ia);throw Fa;},Ja);}}):Ca.createMasterToken(na,ia,Na,oa,{result:function(Fa){Ka(ka,function(){var za,Sa;za=new fc(na,Fa);Sa=new ea(Fa,da.keyPairId,Ra,xa);return new gc.KeyExchangeData(Sa,za,ka);},Ja);},error:ka.error});},Ja);}Ja=this;Ka(ka,function(){if(!(da instanceof Y))throw new wb("Key request data " + JSON.stringify(da) + " was not created by this factory.");this.generateSessionKeys(na,{result:function(Na){va(Na.encryptionKey,Na.hmacKey);},error:function(Na){Ka(ka,function(){Na instanceof cb && ia instanceof cc && Na.setEntity(ia);throw Na;},Ja);}});},Ja);},getCryptoContext:function(na,da,ia,ka,va){var Pa;Pa=this;Ka(va,function(){var Ja,Na,Ra;if(!(da instanceof Y))throw new wb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ia instanceof ea))throw new wb("Key response data " + JSON.stringify(ia) + " was not created by this factory.");Ja=da.keyPairId;Na=ia.keyPairId;if(Ja != Na)throw new Nb(X.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ja + "; response " + Na).setEntity(ka);Na=da.privateKey;if(!Na)throw new Nb(X.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ka);Ra=ha(na,Ja,da.mechanism,Na,null);Ra.unwrap(ia.encryptionKey,hc,vc,{result:function(oa){Ra.unwrap(ia.hmacKey,ic,Ec,{result:function(xa){na.getEntityAuthenticationData(null,{result:function(Ca){Ka(va,function(){var Fa;Fa=Ca.getIdentity();return new fc(na,ia.masterToken,Fa,oa,xa);},Pa);},error:function(Ca){Ka(va,function(){Ca instanceof cb && Ca.setEntity(ka);throw Ca;},Pa);}});},error:function(xa){Ka(va,function(){xa instanceof cb && xa.setEntity(ka);throw xa;},Pa);}});},error:function(oa){Ka(va,function(){oa instanceof cb && oa.setEntity(ka);throw oa;},Pa);}});},Pa);}});})();rf=Cb.Class.create({init:function(ha){var ca,Y,Z,ea,aa,ja,ua,ra;ca=Ub.parser();Y=[];Z=[];ua=0;ra=!1;ca.onerror=function(la){ra || (ra=!0,ca.end());};ca.onopenobject=function(la){var pa;if(ea)(ea[ja]={},Z.push(ea),ea=ea[ja]);else if(aa){pa={};Z.push(aa);aa.push(pa);ea=pa;aa=Ab;}else ea={};ja=la;};ca.oncloseobject=function(){var la;la=Z.pop();la?"object" === typeof la?ea=la:(ea=Ab,aa=la):(Y.push(ea),ua=ca.index,ea=Ab);};ca.onopenarray=function(){var la;if(ea)(ea[ja]=[],Z.push(ea),aa=ea[ja],ea=Ab);else if(aa){la=[];Z.push(aa);aa.push(la);aa=la;}else aa=[];};ca.onclosearray=function(){var la;la=Z.pop();la?"object" === typeof la?(ea=la,aa=Ab):aa=la:(Y.push(aa),ua=ca.index,aa=Ab);};ca.onkey=function(la){ja=la;};ca.onvalue=function(la){ea?ea[ja]=la:aa?aa.push(la):(Y.push(la),ua=ca.index);};ca.write(ha).close();Object.defineProperties(this,{_values:{value:Y,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:ua,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ha,ca,Y,Z,ea;ha=Jd="entityauthdata";ca=ze="mastertoken";Y=Ae="headerdata";Z=Be="errordata";ea=Kd="signature";ye=function(aa,ja,ua,ra){Ka(ra,function(){var la,pa,ya,na,da,ia;la=ja[ha];pa=ja[ca];ya=ja[ea];if(la && "object" !== typeof la || pa && "object" !== typeof pa || "string" !== typeof ya)throw new Db(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));try{na=Gb(ya);}catch(ka){throw new Ib(X.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ja),ka);}da=null;la && (da=ke(aa,la));ia=ja[Y];if(ia != Ab && null != ia){if("string" !== typeof ia)throw new Db(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));pa?Wc(aa,pa,{result:function(ka){Ld(aa,ia,da,ka,na,ua,ra);},error:function(ka){ra.error(ka);}}):Ld(aa,ia,da,null,na,ua,ra);}else if((la=ja[Z],la != Ab && null != la)){if("string" !== typeof la)throw new Db(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));Ce(aa,la,da,na,ra);}else throw new Db(X.JSON_PARSE_ERROR,JSON.stringify(ja));});};})();(function(){function ha(ca,Y){this.errordata=ca;this.signature=Y;}Ac=Cb.Class.create({init:function(ca,Y,Z,ea,aa,ja,ua,ra,la,pa){var ya;ya=this;Ka(pa,function(){var na,da;0 > ja && (ja=-1);if(0 > ea || ea > Kb)throw new wb("Message ID " + ea + " is out of range.");if(!Y)throw new Ib(X.MESSAGE_ENTITY_NOT_FOUND);if(la)return (Object.defineProperties(this,{entityAuthenticationData:{value:Y,writable:!1,configurable:!1},recipient:{value:Z,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:aa,writable:!1,configurable:!1},internalCode:{value:ja,writable:!1,configurable:!1},errorMessage:{value:ua,writable:!1,configurable:!1},userMessage:{value:ra,writable:!1,configurable:!1},errordata:{value:la.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:la.signature,writable:!1,enumerable:!1,configurable:!1}}),this);na={};Z && (na.recipient=Z);na.messageid=ea;na.errorcode=aa;0 < ja && (na.internalcode=ja);ua && (na.errormsg=ua);ra && (na.usermsg=ra);try{da=ca.getEntityAuthenticationFactory(Y.scheme).getCryptoContext(ca,Y);}catch(ia){throw (ia instanceof cb && (ia.setEntity(Y),ia.setMessageId(ea)),ia);}na=Zb(JSON.stringify(na),Mb);da.encrypt(na,{result:function(ia){Ka(pa,function(){da.sign(ia,{result:function(ka){Ka(pa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:Y,writable:!1,configurable:!1},recipient:{value:Z,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:aa,writable:!1,configurable:!1},internalCode:{value:ja,writable:!1,configurable:!1},errorMessage:{value:ua,writable:!1,configurable:!1},userMessage:{value:ra,writable:!1,configurable:!1},errordata:{value:ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;},ya);},error:function(ka){Ka(pa,function(){ka instanceof cb && (ka.setEntity(Y),ka.setMessageId(ea));throw ka;},ya);}});},ya);},error:function(ia){Ka(pa,function(){ia instanceof cb && (ia.setEntity(Y),ia.setMessageId(ea));throw ia;},ya);}});},ya);},toJSON:function(){var ca;ca={};ca[Jd]=this.entityAuthenticationData;ca[Be]=Eb(this.errordata);ca[Kd]=Eb(this.signature);return ca;}});De=function(ca,Y,Z,ea,aa,ja,ua,ra,la){new Ac(ca,Y,Z,ea,aa,ja,ua,ra,null,la);};Ce=function(ca,Y,Z,ea,aa){Ka(aa,function(){var ja,ua,ra;if(!Z)throw new Ib(X.MESSAGE_ENTITY_NOT_FOUND);try{ja=Z.scheme;ua=ca.getEntityAuthenticationFactory(ja);if(!ua)throw new kc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ja);ra=ua.getCryptoContext(ca,Z);}catch(la){throw (la instanceof cb && la.setEntity(Z),la);}try{Y=Gb(Y);}catch(la){throw new Ib(X.HEADER_DATA_INVALID,Y,la).setEntity(Z);}if(!Y || 0 == Y.length)throw new Ib(X.HEADER_DATA_MISSING,Y).setEntity(Z);ra.verify(Y,ea,{result:function(la){Ka(aa,function(){if(!la)throw new vb(X.MESSAGE_VERIFICATION_FAILED).setEntity(Z);ra.decrypt(Y,{result:function(pa){Ka(aa,function(){var ya,na,da,ia,ka,va,Pa,Ja;ya=Yb(pa,Mb);try{na=JSON.parse(ya);}catch(Ra){if(Ra instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"errordata " + ya,Ra).setEntity(Z);throw Ra;}da=na.recipient !== Ab?na.recipient:null;ia=parseInt(na.messageid);ka=parseInt(na.errorcode);va=parseInt(na.internalcode);Pa=na.errormsg;Ja=na.usermsg;if(da && "string" !== typeof da || !ia || ia != ia || !ka || ka != ka || na.internalcode && va != va || Pa && "string" !== typeof Pa || Ja && "string" !== typeof Ja)throw new Db(X.JSON_PARSE_ERROR,"errordata " + ya).setEntity(Z);if(0 > ia || ia > Kb)throw new Ib(X.MESSAGE_ID_OUT_OF_RANGE,"errordata " + ya).setEntity(Z);na=!1;for(var Na in Da){if(Da[Na] == ka){na=!0;break;}}na || (ka=Da.FAIL);if(va){if(0 > va)throw new Ib(X.INTERNAL_CODE_NEGATIVE,"errordata " + ya).setEntity(Z).setMessageId(ia);}else va=-1;ya=new ha(Y,ea);new Ac(ca,Z,da,ia,ka,va,Pa,Ja,ya,aa);});},error:function(pa){Ka(aa,function(){pa instanceof cb && pa.setEntity(Z);throw pa;});}});});},error:function(la){Ka(aa,function(){la instanceof cb && la.setEntity(Z);throw la;});}});});};})();tf=Cb.Class.create({getUserMessage:function(ha,ca){}});(function(){Md=function(ha,ca){var Y;if(!ha || !ca)return null;Y=ha.compressionAlgorithms.filter(function(Z){for(var ea=0;ea < ca.compressionAlgorithms.length;++ea){if(Z == ca.compressionAlgorithms[ea])return !0;}return !1;});ha=ha.languages.filter(function(Z){for(var ea=0;ea < ca.languages.length;++ea){if(Z == ca.languages[ea])return !0;}return !1;});return new Xc(Y,ha);};Xc=Cb.Class.create({init:function(ha,ca){ha || (ha=[]);ca || (ca=[]);ha.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ha,writable:!1,enumerable:!0,configurable:!1},languages:{value:ca,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ha;ha={};ha.compressionalgos=this.compressionAlgorithms;ha.languages=this.languages;return ha;},equals:function(ha){return this === ha?!0:ha instanceof Xc?Vd(this.compressionAlgorithms,ha.compressionAlgorithms) && Vd(this.languages,ha.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Ee=function(ha){var ca,Y,ea;ca=ha.compressionalgos;Y=ha.languages;if(ca && !(ca instanceof Array) || Y && !(Y instanceof Array))throw new Db(X.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ha));ha=[];for(var Z=0;ca && Z < ca.length;++Z){ea=ca[Z];Cc[ea] && ha.push(ea);}return new Xc(ha,Y);};})();(function(){var pa,ya;function ha(na,da,ia,ka,va){this.customer=na;this.sender=da;this.messageCryptoContext=ia;this.headerdata=ka;this.signature=va;}function ca(na,da,ia,ka,va,Pa,Ja,Na,Ra,oa,xa,Ca,Fa,za,Sa,Ea,Va,Za,Ua,hb){return {cryptoContext:{value:da,writable:!1,configurable:!1},customer:{value:ia,writable:!1,configurable:!1},entityAuthenticationData:{value:ka,writable:!1,configurable:!1},masterToken:{value:va,writable:!1,configurable:!1},sender:{value:Pa,writable:!1,configurable:!1},messageId:{value:Ja,writable:!1,configurable:!1},nonReplayableId:{value:Ea,writable:!1,configurable:!1},keyRequestData:{value:Na,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthenticationData:{value:oa,writable:!1,configurable:!1},userIdToken:{value:xa,writable:!1,configurable:!1},serviceTokens:{value:Ca,writable:!1,configurable:!1},peerMasterToken:{value:Fa,writable:!1,configurable:!1},peerUserIdToken:{value:za,writable:!1,configurable:!1},peerServiceTokens:{value:Sa,writable:!1,configurable:!1},messageCapabilities:{value:Za,writable:!1,configurable:!1},renewable:{value:Va,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:hb,writable:!1,enumerable:!1,configurable:!1}};}function Y(na,da,ia){var ka;if(ia){if(da=na.getMslStore().getCryptoContext(ia))return da;if(!ia.isVerified() || !ia.isDecrypted())throw new Sc(X.MASTERTOKEN_UNTRUSTED,ia);return new fc(na,ia);}ia=da.scheme;ka=na.getEntityAuthenticationFactory(ia);if(!ka)throw new kc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ia);return ka.getCryptoContext(na,da);}function Z(na,da,ia,ka,va){Ka(va,function(){da.verify(ia,ka,{result:function(Pa){Ka(va,function(){if(!Pa)throw new vb(X.MESSAGE_VERIFICATION_FAILED);da.decrypt(ia,{result:function(Ja){Ka(va,function(){return Yb(Ja,Mb);});},error:function(Ja){va.error(Ja);}});});},error:function(Pa){va.error(Pa);}});});}function ea(na,da,ia){Ka(ia,function(){if(da)re(na,da,ia);else return null;});}function aa(na,da,ia,ka){Ka(ka,function(){if(da)nd(na,da,ia,ka);else return null;});}function ja(na,da,ia,ka){Ka(ka,function(){if(ia)Ie(na,da,ia,ka);else return null;});}function ua(na,da,ia,ka,va,Pa,Ja){var Ra;function Na(oa,xa,Ca){var Fa,za;if(xa >= oa.length){Fa=[];for(za in Ra){Fa.push(Ra[za]);}Ca.result(Fa);}else {Fa=oa[xa];if("object" !== typeof Fa)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + Pa);od(na,Fa,ia,ka,va,{result:function(Sa){Ka(Ca,function(){Ra[Sa.uniqueKey()]=Sa;Na(oa,xa + 1,Ca);});},error:function(Sa){Ca.error(Sa);}});}}Ra={};Ka(Ja,function(){if(da){if(!(da instanceof Array))throw new Db(X.JSON_PARSE_ERROR,"headerdata " + Pa);Na(da,0,Ja);}else return [];});}function ra(na,da,ia,ka,va,Pa){function Ja(Ra,oa,xa){Ka(xa,function(){var Ca;Ca=oa.peermastertoken;if(Ca && "object" !== typeof Ca)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + va);if(!Ca)return null;Wc(Ra,Ca,xa);});}function Na(Ra,oa,xa,Ca){Ka(Ca,function(){var Fa;Fa=oa.peeruseridtoken;if(Fa && "object" !== typeof Fa)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + va);if(!Fa)return null;nd(Ra,Fa,xa,Ca);});}Ka(Pa,function(){if(!na.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ja(na,da,{result:function(Ra){Ka(Pa,function(){var oa;oa=ia?ia.masterToken:Ra;Na(na,da,oa,{result:function(xa){Ka(Pa,function(){ua(na,da.peerservicetokens,oa,xa,ka,va,{result:function(Ca){Ka(Pa,function(){return {peerMasterToken:Ra,peerUserIdToken:xa,peerServiceTokens:Ca};});},error:function(Ca){Ka(Pa,function(){Ca instanceof cb && (Ca.setEntity(oa),Ca.setUser(xa));throw Ca;});}});});},error:function(xa){Ka(Pa,function(){xa instanceof cb && xa.setEntity(oa);throw xa;});}});});},error:Pa.error});});}function la(na,da,ia,ka){var Pa;function va(Ja,Na){Ka(ka,function(){if(Na >= Ja.length)return Pa;qe(na,Ja[Na],{result:function(Ra){Ka(ka,function(){Pa.push(Ra);va(Ja,Na + 1);});},error:function(Ra){ka.error(Ra);}});});}Pa=[];Ka(ka,function(){var Ja;Ja=da.keyrequestdata;if(!Ja)return Pa;if(!(Ja instanceof Array))throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ia);va(Ja,0);});}pa=Ge=Cb.Class.create({init:function(na,da,ia,ka,va,Pa,Ja,Na,Ra){Object.defineProperties(this,{messageId:{value:na,writable:!1,configurable:!1},nonReplayableId:{value:da,writable:!1,configurable:!1},renewable:{value:ia,writable:!1,configurable:!1},capabilities:{value:ka,writable:!1,configurable:!1},keyRequestData:{value:va,writable:!1,configurable:!1},keyResponseData:{value:Pa,writable:!1,configurable:!1},userAuthData:{value:Ja,writable:!1,configurable:!1},userIdToken:{value:Na,writable:!1,configurable:!1},serviceTokens:{value:Ra,writable:!1,configurable:!1}});}});ya=He=Cb.Class.create({init:function(na,da,ia){Object.defineProperties(this,{peerMasterToken:{value:na,writable:!1,configurable:!1},peerUserIdToken:{value:da,writable:!1,configurable:!1},peerServiceTokens:{value:ia,writable:!1,configurable:!1}});}});Yc=Cb.Class.create({init:function(na,da,ia,ka,va,Pa,Ja){var Ra;function Na(oa){Ka(Ja,function(){var xa,Ca,Fa,za,Sa,Ea,Va,Za,Ua,hb,lb,ob,pb,qb,zb,yb,r;da=ia?null:da;xa=ka.nonReplayableId;Ca=ka.renewable;Fa=ka.capabilities;za=ka.messageId;Sa=ka.keyRequestData?ka.keyRequestData:[];Ea=ka.keyResponseData;Va=ka.userAuthData;Za=ka.userIdToken;Ua=ka.serviceTokens?ka.serviceTokens:[];if(na.isPeerToPeer()){hb=va.peerMasterToken;lb=va.peerUserIdToken;ob=va.peerServiceTokens?va.peerServiceTokens:[];}else (lb=hb=null,ob=[]);if(0 > za || za > Kb)throw new wb("Message ID " + za + " is out of range.");if(!da && !ia)throw new wb("Message entity authentication data or master token must be provided.");if(Ea){if(na.isPeerToPeer()){pb=ia;qb=Ea.masterToken;}else (pb=Ea.masterToken,qb=hb);}else (pb=ia,qb=hb);if(Za && (!pb || !Za.isBoundTo(pb)))throw new wb("User ID token must be bound to a master token.");if(lb && (!qb || !lb.isBoundTo(qb)))throw new wb("Peer user ID token must be bound to a peer master token.");Ua.forEach(function(b){if(b.isMasterTokenBound() && (!pb || !b.isBoundTo(pb)))throw new wb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!Za || !b.isBoundTo(Za)))throw new wb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb)))throw new wb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!lb || !b.isBoundTo(lb)))throw new wb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Pa){r=Pa.customer;zb=Pa.messageCryptoContext;yb=ca(na,zb,r,da,ia,oa,za,Sa,Ea,Va,Za,Ua,hb,lb,ob,xa,Ca,Fa,Pa.headerdata,Pa.signature);Object.defineProperties(this,yb);return this;}r=Za?Za.customer:null;yb={};oa && (yb.sender=oa);yb.messageid=za;"number" === typeof xa && (yb.nonreplayableid=xa);yb.renewable=Ca;Fa && (yb.capabilities=Fa);0 < Sa.length && (yb.keyrequestdata=Sa);Ea && (yb.keyresponsedata=Ea);Va && (yb.userauthdata=Va);Za && (yb.useridtoken=Za);0 < Ua.length && (yb.servicetokens=Ua);hb && (yb.peermastertoken=hb);lb && (yb.peeruseridtoken=lb);0 < ob.length && (yb.peerservicetokens=ob);try{zb=Y(na,da,ia);}catch(b){throw (b instanceof cb && (b.setEntity(ia),b.setEntity(da),b.setUser(Za),b.setUser(Va),b.setMessageId(za)),b);}yb=Zb(JSON.stringify(yb),Mb);zb.encrypt(yb,{result:function(b){Ka(Ja,function(){zb.sign(b,{result:function(a){Ka(Ja,function(){var c;c=ca(na,zb,r,da,ia,oa,za,Sa,Ea,Va,Za,Ua,hb,lb,ob,xa,Ca,Fa,b,a);Object.defineProperties(this,c);return this;},Ra);},error:function(a){Ka(Ja,function(){a instanceof cb && (a.setEntity(ia),a.setEntity(da),a.setUser(Za),a.setUser(Va),a.setMessageId(za));throw a;},Ra);}});},Ra);},error:function(b){Ka(Ja,function(){b instanceof cb && (b.setEntity(ia),b.setEntity(da),b.setUser(Za),b.setUser(Va),b.setMessageId(za));throw b;},Ra);}});},Ra);}Ra=this;Ka(Ja,function(){Pa?Na(Pa.sender):ia?na.getEntityAuthenticationData(null,{result:function(oa){oa=oa.getIdentity();Na(oa);},error:Ja.error}):Na(null);},Ra);},isEncrypting:function(){return this.masterToken || ud(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var na;na={};this.masterToken?na[ze]=this.masterToken:na[Jd]=this.entityAuthenticationData;na[Ae]=Eb(this.headerdata);na[Kd]=Eb(this.signature);return na;}});Fe=function(na,da,ia,ka,va,Pa){new Yc(na,da,ia,ka,va,null,Pa);};Ld=function(na,da,ia,ka,va,Pa,Ja){Ka(Ja,function(){var Na,Ra;ia=ka?null:ia;if(!ia && !ka)throw new Ib(X.MESSAGE_ENTITY_NOT_FOUND);Na=da;try{da=Gb(Na);}catch(oa){throw new Ib(X.HEADER_DATA_INVALID,Na,oa);}if(!da || 0 == da.length)throw new Ib(X.HEADER_DATA_MISSING,Na);try{Ra=Y(na,ia,ka);}catch(oa){throw (oa instanceof cb && (oa.setEntity(ka),oa.setEntity(ia)),oa);}Z(na,Ra,da,va,{result:function(oa){Ka(Ja,function(){var xa,Ca,Fa,za,Sa;try{xa=JSON.parse(oa);}catch(Ea){if(Ea instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa,Ea).setEntity(ka).setEntity(ia);throw Ea;}Ca=parseInt(xa.messageid);if(!Ca || Ca != Ca)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(ka).setEntity(ia);if(0 > Ca || Ca > Kb)throw new Ib(X.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + oa).setEntity(ka).setEntity(ia);Fa=ka?xa.sender:null;if(ka && (!Fa || "string" !== typeof Fa))throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(ka).setEntity(ia).setMessageId(Ca);za=xa.keyresponsedata;if(za && "object" !== typeof za)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(ka).setEntity(ia).setMessageId(Ca);Sa=Ja;Ja={result:function(Ea){Sa.result(Ea);},error:function(Ea){Ea instanceof cb && (Ea.setEntity(ka),Ea.setEntity(ia),Ea.setMessageId(Ca));Sa.error(Ea);}};ea(na,za,{result:function(Ea){Ka(Ja,function(){var Va,Za;Va=!na.isPeerToPeer() && Ea?Ea.masterToken:ka;Za=xa.useridtoken;if(Za && "object" !== typeof Za)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa);aa(na,Za,Va,{result:function(Ua){Ka(Ja,function(){var hb;hb=xa.userauthdata;if(hb && "object" !== typeof hb)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa);ja(na,Va,hb,{result:function(lb){Ka(Ja,function(){var ob,pb,qb;if(lb){ob=lb.scheme;pb=na.getUserAuthenticationFactory(ob);if(!pb)throw new uc(X.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Ua).setUser(lb);ob=ka?ka.identity:ia.getIdentity();qb=pb.authenticate(na,ob,lb,Ua);}else qb=Ua?Ua.customer:null;ua(na,xa.servicetokens,Va,Ua,Pa,oa,{result:function(zb){Ka(Ja,function(){var yb,r,b,a;yb=xa.nonreplayableid !== Ab?parseInt(xa.nonreplayableid):null;r=xa.renewable;if(yb != yb || "boolean" !== typeof r)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa);if(0 > yb || yb > Kb)throw new Ib(X.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + oa);b=null;a=xa.capabilities;if(a){if("object" !== typeof a)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + oa);b=Ee(a);}la(na,xa,oa,{result:function(c){ra(na,xa,Ea,Pa,oa,{result:function(m){Ka(Ja,function(){var k,l,d,f;k=m.peerMasterToken;l=m.peerUserIdToken;d=m.peerServiceTokens;f=new pa(Ca,yb,r,b,c,Ea,lb,Ua,zb);k=new ya(k,l,d);l=new ha(qb,Fa,Ra,da,va);new Yc(na,ia,ka,f,k,l,Ja);});},error:Ja.error});},error:function(c){Ka(Ja,function(){c instanceof cb && (c.setUser(Ua),c.setUser(lb));throw c;});}});});},error:function(zb){Ka(Ja,function(){zb instanceof cb && (zb.setEntity(Va),zb.setUser(Ua),zb.setUser(lb));throw zb;});}});});},error:Ja.error});});},error:Ja.error});});},error:Ja.error});});},error:Ja.error});});};})();(function(){function ha(ca,Y){this.payload=ca;this.signature=Y;}Nd=Cb.Class.create({init:function(ca,Y,Z,ea,aa,ja,ua,ra){var la;la=this;Ka(ra,function(){var pa,ya;if(0 > ca || ca > Kb)throw new wb("Sequence number " + ca + " is outside the valid range.");if(0 > Y || Y > Kb)throw new wb("Message ID " + Y + " is outside the valid range.");if(ua)return (Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Y,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},endofmsg:{value:Z,writable:!1,enumerable:!1,configurable:!1},payload:{value:ua.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:ua.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){pa=Od(ea,aa);pa || (ea=null,pa=aa);}else (ea=null,pa=aa);ya={};ya.sequencenumber=ca;ya.messageid=Y;Z && (ya.endofmsg=Z);ea && (ya.compressionalgo=ea);ya.data=Eb(pa);pa=Zb(JSON.stringify(ya),Mb);ja.encrypt(pa,{result:function(na){Ka(ra,function(){ja.sign(na,{result:function(da){Ka(ra,function(){Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Y,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},endofmsg:{value:Z,writable:!1,enumerable:!1,configurable:!1},payload:{value:na,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(da){ra.error(da);}});},la);},error:function(na){ra.error(na);}});},la);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ca;ca={};ca.payload=Eb(this.payload);ca.signature=Eb(this.signature);return ca;}});Je=function(ca,Y,Z,ea,aa,ja,ua){new Nd(ca,Y,Z,ea,aa,ja,null,ua);};Ke=function(ca,Y,Z){Ka(Z,function(){var ea,aa,ja,ua;ea=ca.payload;aa=ca.signature;if(!ea || "string" !== typeof ea || "string" !== typeof aa)throw new Db(X.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ca));try{ja=Gb(ea);}catch(ra){throw new Ib(X.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ca),ra);}try{ua=Gb(aa);}catch(ra){throw new Ib(X.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ca),ra);}Y.verify(ja,ua,{result:function(ra){Ka(Z,function(){if(!ra)throw new vb(X.PAYLOAD_VERIFICATION_FAILED);Y.decrypt(ja,{result:function(la){Ka(Z,function(){var pa,ya,na,da,ia,ka,va;pa=Yb(la,Mb);try{ya=JSON.parse(pa);}catch(Pa){if(Pa instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"payload chunk payload " + pa,Pa);throw Pa;}na=parseInt(ya.sequencenumber);da=parseInt(ya.messageid);ia=ya.endofmsg;ka=ya.compressionalgo;ya=ya.data;if(!na || na != na || !da || da != da || ia && "boolean" !== typeof ia || ka && "string" !== typeof ka || "string" !== typeof ya)throw new Db(X.JSON_PARSE_ERROR,"payload chunk payload " + pa);if(0 > na || na > Kb)throw new cb(X.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + pa);if(0 > da || da > Kb)throw new cb(X.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + pa);ia || (ia=!1);if(ka && !Cc[ka])throw new Ib(X.UNIDENTIFIED_COMPRESSION,ka);try{va=Gb(ya);}catch(Pa){throw new Ib(X.PAYLOAD_DATA_CORRUPT,ya,Pa);}if(va && 0 != va.length)pa=ka?pd(ka,va):va;else {if(0 < ya.length)throw new Ib(X.PAYLOAD_DATA_CORRUPT,ya);if(ia)pa=new Uint8Array(0);else throw new Ib(X.PAYLOAD_DATA_MISSING,ya);}va=new ha(ja,ua);new Nd(na,da,ia,ka,pa,Y,va,Z);});},error:function(la){Z.error(la);}});});},error:function(ra){Z.error(ra);}});});};})();(function(){var Z,ea;function ha(aa,ja,ua,ra,la){var ya,na,da,ia,ka;function pa(){Ka(la,function(){var va,Pa;na >= ja.length && (na=0,++ya);if(ya >= da.length){if(ia)throw ia;throw new Nb(X.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ja));}va=da[ya];Pa=ja[na];va.scheme != Pa.keyExchangeScheme?(++na,pa()):va.generateResponse(aa,Pa,ka,{result:function(Ja){la.result(Ja);},error:function(Ja){Ka(la,function(){if(!(Ja instanceof cb))throw Ja;ia=Ja;++na;pa();});}});});}ya=0;na=0;da=aa.getKeyExchangeFactories();ka=ua?ua:ra;pa();}function ca(aa,ja,ua,ra,la){Ka(la,function(){var pa;pa=ja.keyRequestData;if(ja.isRenewable() && 0 < pa.length)ra?ra.isRenewable() || ra.isExpired()?ha(aa,pa,ra,null,la):aa.getTokenFactory().isNewestMasterToken(aa,ra,{result:function(ya){Ka(la,function(){if(ya)return null;ha(aa,pa,ra,null,la);});},error:la.error}):ha(aa,pa,null,ua.getIdentity(),la);else return null;});}function Y(aa,ja,ua,ra){Ka(ra,function(){var la,pa,ya,na;la=ja.userIdToken;pa=ja.userAuthenticationData;ya=ja.messageId;if(la && la.isVerified()){if(la.isRenewable() && ja.isRenewable() || la.isExpired() || !la.isBoundTo(ua)){pa=aa.getTokenFactory();pa.renewUserIdToken(aa,la,ua,ra);return;}}else if(ja.isRenewable() && ua && pa){la=ja.customer;if(!la){la=pa.scheme;na=aa.getUserAuthenticationFactory(la);if(!na)throw new uc(X.USERAUTH_FACTORY_NOT_FOUND,la).setEntity(ua).setUser(pa).setMessageId(ya);la=na.authenticate(aa,ua.identity,pa,null);}pa=aa.getTokenFactory();pa.createUserIdToken(aa,la,ua,ra);return;}return la;});}Z=new Uint8Array(0);ea=Fc=function(aa){if(0 > aa || aa > Kb)throw new wb("Message ID " + aa + " is outside the valid range.");return aa == Kb?0:aa + 1;};Nc=function(aa){if(0 > aa || aa > Kb)throw new wb("Message ID " + aa + " is outside the valid range.");return 0 == aa?Kb:aa - 1;};Gc=function(aa,ja,ua,ra,la){Ka(la,function(){var pa;if(ra == Ab || null == ra){pa=aa.getRandom();do {ra=pa.nextLong();}while(0 > ra || ra > Kb);}else if(0 > ra || ra > Kb)throw new wb("Message ID " + ra + " is outside the valid range.");aa.getEntityAuthenticationData(null,{result:function(ya){Ka(la,function(){var na;na=aa.getMessageCapabilities();return new qd(aa,ra,na,ya,ja,ua,null,null,null,null,null);});},error:function(ya){la.error(ya);}});});};Le=function(aa,ja,ua){Ka(ua,function(){var la,pa,ya,na,da,ia;function ra(ka){Ka(ua,function(){ka instanceof cb && (ka.setEntity(la),ka.setEntity(pa),ka.setUser(ya),ka.setUser(na),ka.setMessageId(da));throw ka;});}la=ja.masterToken;pa=ja.entityAuthenticationData;ya=ja.userIdToken;na=ja.userAuthenticationData;da=ja.messageId;ia=ea(da);ca(aa,ja,pa,la,{result:function(ka){Ka(ua,function(){var va;va=ka?ka.keyResponseData.masterToken:va=la;aa.getEntityAuthenticationData(null,{result:function(Pa){Ka(ua,function(){Y(aa,ja,va,{result:function(Ja){Ka(ua,function(){var Na,Ra,oa;ya=Ja;Na=Md(ja.messageCapabilities,aa.getMessageCapabilities());Ra=ja.keyResponseData;oa=ja.serviceTokens;return aa.isPeerToPeer()?new qd(aa,ia,Na,Pa,Ra?Ra.masterToken:ja.peerMasterToken,ja.peerUserIdToken,ja.peerServiceTokens,la,ya,oa,ka):new qd(aa,ia,Na,Pa,Ra?Ra.masterToken:la,ya,oa,null,null,null,ka);});},error:ra});});},error:ra});});},error:ra});});};Me=function(aa,ja,ua,ra,la){Ka(la,function(){aa.getEntityAuthenticationData(null,{result:function(pa){Ka(la,function(){var ya,na;if(ja != Ab && null != ja)ya=ea(ja);else {na=aa.getRandom();do {ya=na.nextInt();}while(0 > ya || ya > Kb);}De(aa,pa,ya,ua.responseCode,ua.internalCode,ua.message,ra,la);});},error:function(pa){la.error(pa);}});});};qd=Cb.Class.create({init:function(aa,ja,ua,ra,la,pa,ya,na,da,ia,ka){var va,Pa,Ja,Na,Ra;if(!aa.isPeerToPeer() && (na || da))throw new wb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");va=ka && !aa.isPeerToPeer()?ka.keyResponseData.masterToken:la;Pa=[];va=aa.getMslStore().getServiceTokens(va,pa);Pa.push.apply(Pa,va);ya && ya.forEach(function(oa){Pa.push(oa);},this);Ja=[];if(aa.isPeerToPeer()){Na=na;Ra=da;ya=ka?ka.keyResponseData.masterToken:na;da=aa.getMslStore().getServiceTokens(ya,da);Ja.push.apply(Ja,da);ia && ia.forEach(function(oa){Ja.push(oa);},this);}Object.defineProperties(this,{_ctx:{value:aa,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ra,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:la,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ja,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ua,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ka,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:pa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Na,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ja,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || ud(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || ud(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || Wd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Wd(this._entityAuthData.scheme);},getHeader:function(aa){Ka(aa,function(){var ja,ua,ra;ja=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;ua=[];for(ra in this._keyRequestData){ua.push(this._keyRequestData[ra]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(X.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ra=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ra=null;ja=new Ge(this._messageId,ra,this._renewable,this._capabilities,ua,ja,this._userAuthData,this._userIdToken,this._serviceTokens);ua=new He(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Fe(this._ctx,this._entityAuthData,this._masterToken,ja,ua,aa);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(aa){this._nonReplayable=aa;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(aa){this._renewable=aa;return this;},setAuthTokens:function(aa,ja){var ua,la;if(ja && !ja.isBoundTo(aa))throw new wb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new wb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{ua=this._ctx.getMslStore().getServiceTokens(aa,ja);}catch(pa){if(pa instanceof cb)throw new wb("Invalid master token and user ID token combination despite checking above.",pa);throw pa;}for(var ra=this._serviceTokens.length - 1;0 <= ra;--ra){la=this._serviceTokens[ra];(la.isUserIdTokenBound() && !la.isBoundTo(ja) || la.isMasterTokenBound() && !la.isBoundTo(aa)) && this._serviceTokens.splice(ra,1);}ua.forEach(function(pa){this.excludeServiceToken(pa.name,pa.isMasterTokenBound(),pa.isUserIdTokenBound());this._serviceTokens.push(pa);},this);this._masterToken=aa;this._userIdToken=ja;},setUserAuthenticationData:function(aa){this._userAuthData=aa;return this;},setCustomer:function(aa,ja){var ua;ua=this;Ka(ja,function(){var ra;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new wb("User ID token or peer user ID token already exists for the remote user.");ra=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ra)throw new wb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,aa,ra,{result:function(la){Ka(ja,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=la:(this._userIdToken=la,this._userAuthData=null);return !0;},ua);},error:function(la){ja.error(la);}});},ua);},addKeyRequestData:function(aa){this._keyRequestData[aa.uniqueKey()]=aa;return this;},removeKeyRequestData:function(aa){delete this._keyRequestData[aa.uniqueKey()];return this;},addServiceToken:function(aa){var ja;ja=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(aa.isMasterTokenBound() && !aa.isBoundTo(ja))throw new Ib(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(aa) + "; mt " + JSON.stringify(ja)).setEntity(ja);if(aa.isUserIdTokenBound() && !aa.isBoundTo(this._userIdToken))throw new Ib(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(aa) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ja).setUser(this._userIdToken);this.excludeServiceToken(aa.name,aa.isMasterTokenBound(),aa.isUserIdTokenBound());this._serviceTokens.push(aa);return this;},addServiceTokenIfAbsent:function(aa){var ua;for(var ja=this._serviceTokens.length - 1;0 <= ja;--ja){ua=this._serviceTokens[ja];if(ua.name == aa.name && ua.isMasterTokenBound() == aa.isMasterTokenBound() && ua.isUserIdTokenBound() == aa.isUserIdTokenBound())return this;}this.addServiceToken(aa);return this;},excludeServiceToken:function(){var aa,ja,ua,la;if(1 == arguments.length){aa=arguments[0];ja=aa.name;ua=aa.isMasterTokenBound();aa=aa.isUserIdTokenBound();}else (arguments.length=3,ja=arguments[0],ua=arguments[1],aa=arguments[2]);for(var ra=this._serviceTokens.length - 1;0 <= ra;--ra){la=this._serviceTokens[ra];la.name == ja && la.isMasterTokenBound() == ua && la.isUserIdTokenBound() == aa && this._serviceTokens.splice(ra,1);}return this;},deleteServiceToken:function(){var aa,ja,ua,ra;if(2 == arguments.length){aa=arguments[0];ja=aa.name;aa.isMasterTokenBound();aa.isUserIdTokenBound();ua=arguments[1];}else (arguments.length=4,ja=arguments[0],ua=arguments[3]);ra=this;Ka(ua,function(){var la,pa;la=originalToken.isMasterTokenBound()?this._masterToken:null;pa=originalToken.isUserIdTokenBound()?this._userIdToken:null;sc(this._ctx,ja,Z,la,pa,!1,null,new Mc(),{result:function(ya){Ka(ua,function(){return this.addServiceToken(ya);},ra);},error:function(ya){ya instanceof cb && (ya=new wb("Failed to create and add empty service token to message.",ya));ua.error(ya);}});},ra);},getServiceTokens:function(){var aa;aa=[];aa.push.apply(aa,this._serviceTokens);return aa;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(aa,ja){var ua,la;if(!this._ctx.isPeerToPeer())throw new wb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ja && !aa)throw new wb("Peer master token cannot be null when setting peer user ID token.");if(ja && !ja.isBoundTo(aa))throw new Ib(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ja + "; mt " + aa).setEntity(aa).setUser(ja);try{ua=this._ctx.getMslStore().getServiceTokens(aa,ja);}catch(pa){if(pa instanceof cb)throw new wb("Invalid peer master token and user ID token combination despite proper check.",pa);throw pa;}for(var ra=this._peerServiceTokens.length - 1;0 <= ra;--ra){la=this._peerServiceTokens[ra];(la.isUserIdTokenBound() && !la.isBoundTo(ja) || la.isMasterTokenBound() && !la.isBoundTo(aa)) && this._peerServiceTokens.slice(ra,1);}ua.forEach(function(pa){this.excludePeerServiceToken(pa.name,pa.isMasterTokenBound(),pa.isUserIdTokenBound());this._peerServiceTokens.push(pa);},this);this._peerUserIdToken=ja;this._peerMasterToken=aa;return this;},addPeerServiceToken:function(aa){if(!this._ctx.isPeerToPeer())throw new wb("Cannot set peer service tokens when not in peer-to-peer mode.");if(aa.isMasterTokenBound() && !aa.isBoundTo(this._peerMasterToken))throw new Ib(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(aa) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(aa.isUserIdTokenBound() && !aa.isBoundTo(this._peerUserIdToken))throw new Ib(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(aa) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(aa.name,aa.isMasterTokenBound(),aa.isUserIdTokenBound());this._peerServiceTokens.push(aa);return this;},addPeerServiceTokenIfAbsent:function(aa){var ua;for(var ja=this._peerServiceTokens.length - 1;0 <= ja;--ja){ua=this._peerServiceTokens[ja];if(ua.name == aa.name && ua.isMasterTokenBound() == aa.isMasterTokenBound() && ua.isUserIdTokenBound() == aa.isUserIdTokenBound())return this;}this.addPeerServiceToken(aa);return this;},excludePeerServiceToken:function(){var aa,ja,ua,la;if(1 == arguments.length){aa=arguments[0];ja=aa.name;ua=aa.isMasterTokenBound();aa=aa.isUserIdTokenBound();}else (arguments.length=3,ja=arguments[0],ua=arguments[1],aa=arguments[2]);for(var ra=this._peerServiceTokens.length - 1;0 <= ra;--ra){la=this._peerServiceTokens[ra];la.name == ja && la.isMasterTokenBound() == ua && la.isUserIdTokenBound() == aa && this._peerServiceTokens.splice(ra,1);}return this;},deletePeerServiceToken:function(){var aa,ja,ua,ra,la,pa;if(2 == arguments.length){aa=arguments[0];ja=aa.name;ua=aa.isMasterTokenBound();ra=aa.isUserIdTokenBound();la=arguments[1];}else (arguments.length=4,ja=arguments[0],ua=arguments[1],ra=arguments[2],la=arguments[3]);pa=this;Ka(la,function(){sc(this._ctx,ja,Z,ua?this._peerMasterToken:null,ra?this._peerUserIdToken:null,!1,null,new Mc(),{result:function(ya){Ka(la,function(){return this.addPeerServiceToken(ya);},pa);},error:function(ya){ya instanceof cb && (ya=new wb("Failed to create and add empty peer service token to message.",ya));la.error(ya);}});},pa);},getPeerServiceTokens:function(){var aa;aa=[];aa.push.apply(aa,this._peerServiceTokens);return aa;}});})();(function(){function ha(Y,Z){return Z[Y]?Z[Y]:Z[""];}function ca(Y){var Z;Z=Y.builder.getKeyExchangeData();return Z && !Y.ctx.isPeerToPeer()?Z.keyResponseData.masterToken:Y.builder.getMasterToken();}Ne=Cb.Class.create({init:function(Y,Z,ea){Y={ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:Z.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},isPrimaryMasterTokenAvailable:function(){return ca(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(Y){try{return (this.builder.addServiceToken(Y),!0);}catch(Z){if(Z instanceof Ib)return !1;throw Z;}},addPeerServiceToken:function(Y){try{return (this.builder.addPeerServiceToken(Y),!0);}catch(Z){if(Z instanceof Ib)return !1;throw Z;}},addUnboundPrimaryServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;Ka(ja,function(){var ra;ra=ha(Y,this.cryptoContexts);if(!ra)return !1;sc(this.ctx,Y,Z,null,null,ea,aa,ra,{result:function(la){Ka(ja,function(){try{this.builder.addServiceToken(la);}catch(pa){if(pa instanceof Ib)throw new wb("Service token bound to incorrect authentication tokens despite being unbound.",pa);throw pa;}return !0;},ua);},error:function(la){ja.error(la);}});},ua);},addUnboundPeerServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;Ka(ja,function(){var ra;ra=ha(Y,this.cryptoContexts);if(!ra)return !1;sc(this.ctx,Y,Z,null,null,ea,aa,ra,{result:function(la){Ka(ja,function(){try{this.builder.addPeerServiceToken(la);}catch(pa){if(pa instanceof Ib)throw new wb("Service token bound to incorrect authentication tokens despite being unbound.",pa);throw pa;}return !0;},ua);},error:function(la){ja.error(la);}});},ua);},addMasterBoundPrimaryServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;Ka(ja,function(){var ra,la;ra=ca(this);if(!ra)return !1;la=ha(Y,this.cryptoContexts);if(!la)return !1;sc(this.ctx,Y,Z,ra,null,ea,aa,la,{result:function(pa){Ka(ja,function(){try{this.builder.addServiceToken(pa);}catch(ya){if(ya instanceof Ib)throw new wb("Service token bound to incorrect authentication tokens despite setting correct master token.",ya);throw ya;}return !0;},ua);},error:function(pa){ja.error(pa);}});},ua);},addMasterBoundPeerServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;Ka(ja,function(){var ra,la;ra=this.builder.getPeerMasterToken();if(!ra)return !1;la=ha(Y,this.cryptoContexts);if(!la)return !1;sc(this.ctx,Y,Z,ra,null,ea,aa,la,{result:function(pa){Ka(ja,function(){try{this.builder.addPeerServiceToken(pa);}catch(ya){if(ya instanceof Ib)throw new wb("Service token bound to incorrect authentication tokens despite setting correct master token.",ya);throw ya;}return !0;},ua);},error:function(pa){ja.error(pa);}});},ua);},addUserBoundPrimaryServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;Ka(ja,function(){var ra,la,pa;ra=ca(this);if(!ra)return !1;la=this.builder.getUserIdToken();if(!la)return !1;pa=ha(Y,this.cryptoContexts);if(!pa)return !1;sc(this.ctx,Y,Z,ra,la,ea,aa,pa,{result:function(ya){Ka(ja,function(){try{this.builder.addServiceToken(ya);}catch(na){if(na instanceof Ib)throw new wb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return !0;},ua);},error:function(ya){ja.error(ya);}});},ua);},addUserBoundPeerServiceToken:function(Y,Z,ea,aa,ja){var ua;ua=this;Ka(ja,function(){var ra,la,pa;ra=this.builder.getPeerMasterToken();if(!ra)return !1;la=this.builder.getPeerUserIdToken();if(!la)return !1;pa=ha(Y,this.cryptoContexts);if(!pa)return !1;sc(this.ctx,Y,Z,ra,la,ea,aa,pa,{result:function(ya){Ka(ja,function(){try{this.builder.addPeerServiceToken(ya);}catch(na){if(na instanceof Ib)throw new wb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return !0;},ua);},error:function(ya){ja.error(ya);}});},ua);},excludePrimaryServiceToken:function(){var Y,Z,ea,aa;if(1 == arguments.length){Y=arguments[0];Z=Y.name;ea=Y.isMasterTokenBound();aa=Y.isUserIdTokenBound();}else (arguments.length=3,Z=arguments[0],ea=arguments[1],aa=arguments[2]);for(var ja=this.builder.getServiceTokens(),ua=0;ua < ja.length;++ua){if((Y=ja[ua],Y.name == Z && Y.isMasterTokenBound() == ea && Y.isUserIdTokenBound() == aa))return (this.builder.excludeServiceToken(Z,ea,aa),!0);}return !1;},excludePeerServiceToken:function(){var Y,Z,ea,aa;if(1 == arguments.length){Y=arguments[0];Z=Y.name;ea=Y.isMasterTokenBound();aa=Y.isUserIdTokenBound();}else (arguments.length=3,Z=arguments[0],ea=arguments[1],aa=arguments[2]);for(var ja=this.builder.getPeerServiceTokens(),ua=0;ua < ja.length;++ua){if((Y=ja[ua],Y.name == Z && Y.isMasterTokenBound() == ea && Y.isUserIdTokenBound() == aa))return (this.builder.excludePeerServiceToken(Z,ea,aa),!0);}return !1;},deletePrimaryServiceToken:function(){var Y,Z,ea,aa,ja;if(2 == arguments.length){Y=arguments[0];Z=Y.name;ea=Y.isMasterTokenBound();aa=Y.isUserIdTokenBound();ja=arguments[1];}else 4 == arguments.length && (Z=arguments[0],ea=arguments[1],aa=arguments[2],ja=arguments[3]);Ka(ja,function(){var la;for(var ua=this.builder.getServiceTokens(),ra=0;ra < ua.length;++ra){la=ua[ra];if(la.name == Z && la.isMasterTokenBound() == ea && la.isUserIdTokenBound() == aa){this.builder.deleteServiceToken(Z,ea,aa,{result:function(){ja.result(!0);},error:function(pa){ja.error(pa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var Y,Z,ea,aa,ja;if(2 == arguments.length){Y=arguments[0];Z=Y.name;ea=Y.isMasterTokenBound();aa=Y.isUserIdTokenBound();ja=arguments[1];}else 4 == arguments.length && (Z=arguments[0],ea=arguments[1],aa=arguments[2],ja=arguments[3]);Ka(ja,function(){var la;for(var ua=this.builder.getPeerServiceTokens(),ra=0;ra < ua.length;++ra){la=ua[ra];if(la.name == Z && la.isMasterTokenBound() == ea && la.isUserIdTokenBound() == aa){this.builder.deletePeerServiceToken(Z,ea,aa,{result:function(){ja.result(!0);},error:function(pa){ja.error(pa);}});return;}}return !1;},this);}});})();(function(){function ha(ca,Y,Z,ea){Ka(ea,function(){var ja,ua,ra,la,pa,ya;function aa(){Ka(ea,function(){var na;if(ya >= Z.length){if(pa)throw pa;throw new Nb(X.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(Z));}na=Z[ya];ra != na.keyExchangeScheme?(++ya,aa()):la.getCryptoContext(ca,na,ua,ja,{result:ea.result,error:function(da){Ka(ea,function(){if(!(da instanceof cb))throw da;pa=da;++ya;aa();});}});});}ja=Y.masterToken;ua=Y.keyResponseData;if(!ua)return null;ra=ua.keyExchangeScheme;la=ca.getKeyExchangeFactory(ra);if(!la)throw new Nb(X.KEYX_FACTORY_NOT_FOUND,ra);ya=0;aa();});}Oe=Id.extend({init:function(ca,Y,Z,ea,aa,ja,ua){var ra;ra=this;$a(ua,function(){var ia;function la(){ra._ready=!0;ra._readyQueue.add(!0);}function pa(ka,va){var Pa;try{Pa=va.masterToken;ka.getTokenFactory().isMasterTokenRevoked(ka,Pa,{result:function(Ja){Ja?(ra._errored=new Sc(Ja,Pa).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId),la()):ya(ka,va);},error:function(Ja){Ja instanceof cb && (Ja.setEntity(va.masterToken),Ja.setUser(va.userIdToken),Ja.setUser(va.userAuthenticationData),Ja.setMessageId(va.messageId));ra._errored=Ja;la();}});}catch(Ja){Ja instanceof cb && (Ja.setEntity(va.masterToken),Ja.setUser(va.userIdToken),Ja.setUser(va.userAuthenticationData),Ja.setMessageId(va.messageId));ra._errored=Ja;la();}}function ya(ka,va){var Pa,Ja;try{Pa=va.masterToken;Ja=va.userIdToken;Ja?ka.getTokenFactory().isUserIdTokenRevoked(ka,Pa,Ja,{result:function(Na){Na?(ra._errored=new MslUserIdTokenException(Na,Ja).setEntity(Pa).setUser(Ja).setMessageId(va.messageId),la()):na(ka,va);},error:function(Na){Na instanceof cb && (Na.setEntity(va.masterToken),Na.setUser(va.userIdToken),Na.setUser(va.userAuthenticationData),Na.setMessageId(va.messageId));ra._errored=Na;la();}}):na(ka,va);}catch(Na){Na instanceof cb && (Na.setEntity(va.masterToken),Na.setUser(va.userIdToken),Na.setUser(va.userAuthenticationData),Na.setMessageId(va.messageId));ra._errored=Na;la();}}function na(ka,va){var Pa;try{Pa=va.masterToken;Pa.isExpired()?va.isRenewable() && 0 != va.keyRequestData.length?ka.getTokenFactory().isMasterTokenRenewable(ka,Pa,{result:function(Ja){Ja?(ra._errored=new Ib(Ja,"Master token is expired and not renewable.").setEntity(Pa).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId),la()):da(ka,va);},error:function(Ja){Ja instanceof cb && (Ja.setEntity(va.masterToken),Ja.setUser(va.userIdToken),Ja.setUser(va.userAuthenticationData),Ja.setMessageId(va.messageId));ra._errored=Ja;la();}}):(ra._errored=new Ib(X.MESSAGE_EXPIRED,JSON.stringify(va)).setEntity(Pa).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId),la()):da(ka,va);}catch(Ja){Ja instanceof cb && (Ja.setEntity(va.masterToken),Ja.setUser(va.userIdToken),Ja.setUser(va.userAuthenticationData),Ja.setMessageId(va.messageId));ra._errored=Ja;la();}}function da(ka,va){var Pa,Ja;try{Pa=va.masterToken;Ja=va.nonReplayableId;"number" === typeof Ja?Pa?ka.getTokenFactory().acceptNonReplayableId(ka,Pa,Ja,{result:function(Na){Na || (ra._errored=new Ib(X.MESSAGE_REPLAYED,JSON.stringify(va)).setEntity(Pa).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId));la();},error:function(Na){Na instanceof cb && (Na.setEntity(Pa),Na.setUser(va.userIdToken),Na.setUser(va.userAuthenticationData),Na.setMessageId(va.messageId));ra._errored=Na;la();}}):(ra._errored=new Ib(X.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(va)).setEntity(va.entityAuthenticationData).setUser(va.userIdToken).setUser(va.userAuthenticationData).setMessageId(va.messageId),la()):la();}catch(Na){Na instanceof cb && (Na.setEntity(va.masterToken),Na.setEntity(va.entityAuthenticationData),Na.setUser(va.userIdToken),Na.setUser(va.userAuthenticationData),Na.setMessageId(va.messageId));ra._errored=Na;la();}}ia={_source:{value:Y,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:Z,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ja,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Qc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);pe(ra._source,ja,{result:function(ka){ra._json=ka;ra._jsonIndex=0;null === ra._json?(ra._errored=new Db(X.MESSAGE_DATA_MISSING),la()):ye(ca,ra._json[ra._jsonIndex++],aa,{result:function(va){var Pa;ra._header=va;if(ra._header instanceof Ac)(ra._keyxCryptoContext=null,ra._cryptoContext=null,la());else {Pa=ra._header;ha(ca,Pa,ea,{result:function(Ja){var Na;try{ra._keyxCryptoContext=Ja;ca.isPeerToPeer() || !ra._keyxCryptoContext?ra._cryptoContext=Pa.cryptoContext:ra._cryptoContext=ra._keyxCryptoContext;try{Na=Pa.masterToken;Na && (ca.isPeerToPeer() || Na.isVerified())?pa(ca,Pa):da(ca,Pa);}catch(Ra){Ra instanceof cb && (Ra.setEntity(Pa.masterToken),Ra.setUser(Pa.userIdToken),Ra.setUser(Pa.userAuthenticationData),Ra.setMessageId(Pa.messageId));ra._errored=Ra;la();}}catch(Ra){Ra instanceof cb && (Ra.setEntity(Pa.masterToken),Ra.setEntity(Pa.entityAuthenticationData),Ra.setUser(Pa.userIdToken),Ra.setUser(Pa.userAuthenticationData),Ra.setMessageId(Pa.messageId));ra._errored=Ra;la();}},error:function(Ja){Ja instanceof cb && (Ja.setEntity(Pa.masterToken),Ja.setEntity(Pa.entityAuthenticationData),Ja.setUser(Pa.userIdToken),Ja.setUser(Pa.userAuthenticationData),Ja.setMessageId(Pa.messageId));ra._errored=Ja;la();}});}},error:function(va){ra._errored=va;la();}});},timeout:function(){ra._timedout=!0;la();},error:function(ka){ra._errored=ka;la();}});return this;},ra);},nextData:function(ca,Y){var Z;Z=this;$a(Y,function(){var aa;function ea(ja){$a(ja,function(){var ua;if(this._jsonIndex < this._json.length)return ua=this._json[this._jsonIndex++];pe(this._source,this._timeout,{result:function(ra){ra && ra.length && 0 < ra.length?(ra.forEach(function(la){this._json.push(la);}),ea(ja)):(this._eom=!0,ja.result(null));},timeout:function(){ja.timeout();},error:function(ra){ja.error(ra);}});},Z);}aa=this.getMessageHeader();if(!aa)throw new wb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(ja){$a(Y,function(){if(!ja)return null;if("object" !== typeof ja)throw new Db(X.MESSAGE_FORMAT_ERROR);Ke(ja,this._cryptoContext,{result:function(ua){$a(Y,function(){var ra,la,pa,ya;ra=aa.masterToken;la=aa.entityAuthenticationData;pa=aa.userIdToken;ya=aa.getUserAuthenticationData;if(ua.messageId != aa.messageId)throw new Ib(X.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + ua.messageId + " header mid " + aa.messageId).setEntity(ra).setEntity(la).setUser(pa).setUser(ya);if(ua.sequenceNumber != this._payloadSequenceNumber)throw new Ib(X.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + ua.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ra).setEntity(la).setUser(pa).setUser(ya);++this._payloadSequenceNumber;ua.isEndOfMessage() && (this._eom=!0);ra=ua.data;this._payloads.push(ra);this._payloadIndex=-1;return ra;},Z);},error:function(ua){ua instanceof SyntaxError && (ua=new Db(X.JSON_PARSE_ERROR,"payloadchunk",ua));Y.error(ua);}});},Z);},timeout:function(){Y.timeout();},error:function(ja){Y.error(ja);}});},Z);},isReady:function(ca,Y){var ea;function Z(){$a(Y,function(){if(this._aborted)return !1;if(this._timedout)Y.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;$a(Y,function(){this._ready?Z():this._readyQueue.poll(ca,{result:function(aa){$a(Y,function(){if(aa === Ab)return !1;Z();},ea);},timeout:function(){Y.timeout();},error:function(aa){Y.error(aa);}});},ea);},getMessageHeader:function(){return this._header instanceof Yc?this._header:null;},getErrorHeader:function(){return this._header instanceof Ac?this._header:null;},getIdentity:function(){var ca,Y;ca=this.getMessageHeader();if(ca){Y=ca.masterToken;return Y?Y.identity:ca.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ca;ca=this.getMessageHeader();return ca?ca.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ca){this._closeSource=ca;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ca,Y,Z){var aa;function ea(){$a(Z,function(){var ua,ra,la,pa;function ja(ya){$a(ya,function(){var na,da,ia;if(ra && pa >= ra.length)return ra.subarray(0,pa);na=-1;if(this._currentPayload){da=this._currentPayload.length - this._payloadOffset;if(!ra){ia=da;if(-1 != this._payloadIndex)for(var ka=this._payloadIndex;ka < this._payloads.length;++ka){ia+=this._payloads[ka].length;}0 < ia && (ra=new Uint8Array(ia));}da=Math.min(da,ra?ra.length - pa:0);0 < da && (na=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + da),ra.set(na,la),na=da,la+=da,this._payloadOffset+=da);}-1 != na?(pa+=na,ja(ya)):this.nextData(Y,{result:function(va){$a(ya,function(){if(this._aborted)return ra?ra.subarray(0,pa):new Uint8Array(0);this._currentPayload=va;this._payloadOffset=0;if(this._currentPayload)ja(ya);else return 0 == pa && 0 != ca?null:ra?ra.subarray(0,pa):new Uint8Array(0);},aa);},timeout:function(){ya.timeout(ra?ra.subarray(0,pa):new Uint8Array(0));},error:function(va){$a(ya,function(){va instanceof cb && (va=new Rb("Error reading the payload chunk.",va));if(0 < pa)return (aa._readException=va,ra.subarray(0,pa));throw va;},aa);}});},aa);}if(this._aborted)return new Uint8Array(0);if(this._timedout)Z.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){ua=this._readException;this._readException=null;throw ua;}ra=-1 != ca?new Uint8Array(ca):Ab;la=0;pa=0;ja(Z);}},aa);}aa=this;$a(Z,function(){if(-1 > ca)throw new RangeError("read requested with illegal length " + ca);this._ready?ea():this._readyQueue.poll(Y,{result:function(ja){ja === Ab?Z.result(!1):ea();},timeout:function(){Z.timeout(new Uint8Array(0));},error:function(ja){Z.error(ja);}});},aa);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Pe=function(ca,Y,Z,ea,aa,ja,ua){new Oe(ca,Y,Z,ea,aa,ja,ua);};})();(function(){Qe=md.extend({init:function(ha,ca,Y,Z,ea,aa,ja){var ua;ua=this;$a(ja,function(){var la,pa,ya;function ra(){ua._ready=!0;ua._readyQueue.add(!0);}la=Md(ha.getMessageCapabilities(),Z.messageCapabilities);pa=null;la && (pa=ee(la.compressionAlgorithms));la={_destination:{value:ca,writable:!1,enumerable:!1,configurable:!1},_charset:{value:Y,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:la,writable:!1,enumerable:!1,configurable:!1},_header:{value:Z,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:pa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Qc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);ya=Zb(JSON.stringify(Z),Y);ca.write(ya,0,ya.length,aa,{result:function(na){try{ua._aborted?ra():na < ya.length?(ua._timedout=!0,ra()):ca.flush(aa,{result:function(da){ua._aborted || (ua._timedout=!da);ra();},timeout:function(){ua._timedout=!0;ra();},error:function(da){ua._errored=da;ra();}});}catch(da){ua._errored=da;ra();}},timeout:function(){ua._timedout=!0;ra();},error:function(na){ua._errored=na;ra();}});return this;},ua);},setCompressionAlgorithm:function(ha,ca,Y){var ea;function Z(){ea.flush(ca,{result:function(aa){$a(Y,function(){if(!aa)throw new Rb("flush() aborted");this._compressionAlgo=ha;return !0;},ea);},timeout:function(){Y.timeout();},error:function(aa){Y.error(aa);}});}ea=this;$a(Y,function(){if(!this.getMessageHeader())throw new wb("Cannot write payload data for an error message.");if(this._compressionAlgo == ha)return !0;if(ha){if(!this._capabilities)return !1;for(var aa=this._capabilities.compressionAlgorithms,ja=0;ja < aa.length;++ja){if(aa[ja] == ha){Z();return;}}return !1;}Z();},ea);},getMessageHeader:function(){return this._header instanceof Yc?this._header:null;},getErrorMessage:function(){return this._header instanceof Ac?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ha,ca){var Y;Y=this;$a(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ha,{result:function(Z){$a(ca,function(){Z && (this._currentPayload=null);return Z;},Y);},timeout:function(){ca.timeout();},error:function(Z){ca.error(Z);}});}},Y);},flush:function(ha,ca){var Z;function Y(){$a(ca,function(){var ea,aa,la;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;aa=0;this._currentPayload && this._currentPayload.forEach(function(pa){aa+=pa.length;});for(var ja=new Uint8Array(aa),ua=0,ra=0;this._currentPayload && ra < this._currentPayload.length;++ra){la=this._currentPayload[ra];ja.set(la,ua);ua+=la.length;}Je(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,ja,this._cryptoContext,{result:function(pa){$a(ca,function(){var ya;this._payloads.push(pa);ya=Zb(JSON.stringify(pa),this._charset);this._destination.write(ya,0,ya.length,ha,{result:function(na){$a(ca,function(){if(this._aborted)return !1;na < pa.length?ca.timeout():this._destination.flush(ha,{result:function(da){$a(ca,function(){if(this._aborted)return !1;if(da)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ca.timeout();},Z);},timeout:function(){ca.timeout();},error:function(da){da instanceof cb && (da=new Rb("Error encoding payload chunk [sequence number " + Z._payloadSequenceNumber + "].",da));ca.error(da);}});},Z);},timeout:function(na){ca.timeout();},error:function(na){na instanceof cb && (na=new Rb("Error encoding payload chunk [sequence number " + Z._payloadSequenceNumber + "].",na));ca.error(na);}});},Z);},error:function(pa){pa instanceof cb && (pa=new Rb("Error encoding payload chunk [sequence number " + Z._payloadSequenceNumber + "].",pa));ca.error(pa);}});}},Z);}Z=this;$a(ca,function(){this._ready?Y():this._readyQueue.poll(ha,{result:function(ea){ea === Ab?ca.result(!1):Y();},timeout:function(){ca.timeout();},error:function(ea){ca.error(ea);}});},Z);},write:function(ha,ca,Y,Z,ea){$a(ea,function(){var aa;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Rb("Message output stream already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Y)throw new RangeError("Length cannot be negative.");if(ca + Y > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new wb("Cannot write payload data for an error message.");aa=ha.subarray(ca,ca + Y);this._currentPayload.push(aa);return aa.length;}},this);}});rd=function(ha,ca,Y,Z,ea,aa,ja){new Qe(ha,ca,Y,Z,ea,aa,ja);};})();uf=Cb.Class.create({sentHeader:function(ha){},receivedHeader:function(ha){}});Object.freeze({USERDATA_REAUTH:Da.USERDATA_REAUTH,SSOTOKEN_REJECTED:Da.SSOTOKEN_REJECTED});Re=Cb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ha,ca,Y,Z){},getCustomer:function(){},getKeyRequestData:function(ha){},updateServiceTokens:function(ha,ca,Y){},write:function(ha,ca,Y){},getDebugContext:function(){}});Cb.Class.create({getInputStream:function(ha){},getOutputStream:function(ha){}});(function(){var ua,ra,la,pa,ya,na,da,ia,ka,va,Pa,Ja;function ha(Na){return function(){Na.abort();};}function ca(Na,Ra){Object.defineProperties(this,{masterToken:{value:Na,writable:!1,configurable:!1},ticket:{value:Ra,writable:!1,configurable:!1}});}function Y(Na,Ra){Object.defineProperties(this,{builder:{value:Na,writable:!1,configurable:!1},msgCtx:{value:Ra,writable:!1,configurable:!1}});}function Z(Na,Ra,oa){Object.defineProperties(this,{requestHeader:{value:Na,writable:!1,configurable:!1},payloads:{value:Ra,writable:!1,configurable:!1},handshake:{value:oa,writable:!1,configurable:!1}});}function ea(Na,Ra){Object.defineProperties(this,{requestHeader:{value:Ra.requestHeader,writable:!1,configurable:!1},payloads:{value:Ra.payloads,writable:!1,configurable:!1},handshake:{value:Ra.handshake,writable:!1,configurable:!1},response:{value:Na,writable:!1,configurable:!1}});}function aa(Na){for(;Na;){if(Na instanceof Vb)return !0;Na=Na instanceof cb?Na.cause:Ab;}return !1;}function ja(Na,Ra,oa,xa,Ca,Fa,za,Sa,Ea){Me(Ra,xa,Ca,Fa,{result:function(Va){oa && oa.sentHeader(Va);rd(Ra,za,Mb,Va,null,null,Sa,{result:function(Za){Na.setAbort(function(){Za.abort();});Za.close(Sa,{result:function(Ua){$a(Ea,function(){if(!Ua)throw new Vb("sendError aborted.");return Ua;});},timeout:function(){Ea.timeout();},error:function(Ua){Ea.error(Ua);}});},timeout:function(){},error:function(Za){Ea.error(Za);}});},error:function(Va){Ea.error(Va);}});}ua=md.extend({close:function(Na,Ra){Ra.result(!0);},write:function(Na,Ra,oa,xa,Ca){Ka(Ca,function(){return Math.min(Na.length - Ra,oa);});},flush:function(Na,Ra){Ra.result(!0);}});ra=tf.extend({getUserMessage:function(Na,Ra){return null;}});la=Re.extend({init:function(Na){Object.defineProperties(this,{_appCtx:{value:Na,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Na,Ra,oa,xa){this._appCtx.getUserAuthData(Na,Ra,oa,xa);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Na){this._appCtx.getKeyRequestData(Na);},updateServiceTokens:function(Na,Ra,oa){this._appCtx.updateServiceTokens(Na,Ra,oa);},write:function(Na,Ra,oa){this._appCtx.write(Na,Ra,oa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});pa=la.extend({init:function xa(Ra,oa){xa.base.call(this,oa);Object.defineProperties(this,{_payloads:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ra,oa,xa){var Fa;function Ca(za,Sa){var Ea;if(za == Fa._payloads.length)xa.result(!0);else {Ea=Fa._payloads[za];Ra.setCompressionAlgorithm(Ea.compressionAlgo,oa,{result:function(Va){Ra.write(Ea.data,0,Ea.data.length,oa,{result:function(Za){$a(xa,function(){Ea.isEndOfMessage()?Ca(za + 1,Sa):Ra.flush(oa,{result:function(Ua){xa.result(Ua);},timeout:function(){xa.timeout();},error:function(Ua){xa.error(Ua);}});},Fa);},timeout:function(Za){xa.timeout(Za);},error:function(Za){xa.error(Za);}});},timeout:function(){},error:function(Va){xa.error(Va);}});}}Fa=this;Ca(0);}});ya=la.extend({init:function xa(oa){xa.base.call(this,oa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(oa,xa,Ca){Ca.result(!0);}});na={};da=Cb.Class.create({init:function(oa){oa || (oa=new ra());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(oa){this._filterFactory=oa;},getNewestMasterToken:function(oa,xa,Ca,Fa){var za;za=this;$a(Fa,function(){var Sa,Ea,Va,Za,Ua;Sa=xa.getMslStore();Ea=Sa.getMasterToken();if(!Ea)return null;Va=Ea.uniqueKey();Za=this._masterTokenLocks[Va];Za || (Za=new xd(),this._masterTokenLocks[Va]=Za);Ua=Za.readLock(Ca,{result:function(hb){$a(Fa,function(){var lb;if(hb === Ab)throw new Vb("getNewestMasterToken aborted.");lb=Sa.getMasterToken();if(Ea.equals(lb))return new ca(Ea,hb);Za.unlock(hb);Za.writeLock(Ca,{result:function(ob){$a(Fa,function(){if(ob === Ab)throw new Vb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Va];Za.unlock(ob);return this.getNewestMasterToken(oa,xa,Ca,Fa);},za);},timeout:function(){Fa.timeout();},error:function(ob){Fa.error(ob);}});},za);},timeout:function(){Fa.timeout();},error:function(hb){Fa.error(hb);}});oa.setAbort(function(){Ua && (Za.cancel(Ua),Ua=Ab);});},za);},deleteMasterToken:function(oa,xa){var Ca;if(xa){Ca=this;setTimeout(function(){var Fa,za;Fa=xa.uniqueKey();za=Ca._masterTokenLocks[Fa];za || (za=new xd(),Ca._masterTokenLocks[Fa]=za);za.writeLock(-1,{result:function(Sa){oa.getMslStore().removeCryptoContext(xa);delete Ca._masterTokenLocks[Fa];za.unlock(Sa);},timeout:function(){throw new wb("Unexpected timeout received.");},error:function(Sa){throw Sa;}});},0);}},releaseMasterToken:function(oa){var xa;if(oa && oa.masterToken){xa=oa.masterToken.uniqueKey();xa=this._masterTokenLocks[xa];if(!xa)throw new wb("Master token read/write lock does not exist when it should.");xa.unlock(oa.ticket);}},updateOutgoingCryptoContexts:function(oa,xa,Ca){var Fa;Fa=oa.getMslStore();!oa.isPeerToPeer() && Ca && (Fa.setCryptoContext(Ca.keyResponseData.masterToken,Ca.cryptoContext),this.deleteMasterToken(oa,xa.masterToken));},updateIncomingCryptoContexts:function(oa,xa,Ca){var Fa,za;Fa=Ca.getMessageHeader();if(Fa){za=oa.getMslStore();if(Fa=Fa.keyResponseData)(za.setCryptoContext(Fa.masterToken,Ca.getKeyExchangeCryptoContext()),this.deleteMasterToken(oa,xa.masterToken));}},storeServiceTokens:function(oa,xa,Ca,Fa){var Ea,Va;oa=oa.getMslStore();for(var za=[],Sa=0;Sa < Fa.length;++Sa){Ea=Fa[Sa];if(!Ea.isBoundTo(xa) || !xa.isVerified()){Va=Ea.data;Va && 0 == Va.length?oa.removeServiceTokens(Ea.name,Ea.isMasterTokenBound()?xa:null,Ea.isUserIdTokenBound()?Ca:null):za.push(Ea);}}0 < za.length && oa.addServiceTokens(za);},buildRequest:function(oa,xa,Ca,Fa,za){var Sa;Sa=this;this.getNewestMasterToken(oa,xa,Fa,{result:function(Ea){Ka(za,function(){var Va,Za,Ua;Va=Ea && Ea.masterToken;if(Va){Za=Ca.getUserId();Ua=xa.getMslStore();Za=(Za=Za?Ua.getUserIdToken(Za):null) && Za.isBoundTo(Va)?Za:null;}else Za=null;Gc(xa,Va,Za,null,{result:function(hb){Ka(za,function(){hb.setNonReplayable(Ca.isNonReplayable());return {builder:hb,tokenTicket:Ea};});},error:function(hb){Ka(za,function(){this.releaseMasterToken(Ea);hb instanceof cb && (hb=new wb("User ID token not bound to master token despite internal check.",hb));throw hb;},Sa);}});},Sa);},timeout:function(){za.timeout();},error:function(Ea){za.error(Ea);}});},buildResponse:function(oa,xa,Ca,Fa,za,Sa){var Ea;Ea=this;Le(xa,Fa,{result:function(Va){$a(Sa,function(){Va.setNonReplayable(Ca.isNonReplayable());if(!xa.isPeerToPeer() && !Fa.keyResponseData)return {builder:Va,tokenTicket:null};this.getNewestMasterToken(oa,xa,za,{result:function(Za){$a(Sa,function(){var Ua,hb,lb;Ua=Za && Za.masterToken;if(Ua){hb=Ca.getUserId();lb=xa.getMslStore();hb=(hb=hb?lb.getUserIdToken(hb):null) && hb.isBoundTo(Ua)?hb:null;}else hb=null;Va.setAuthTokens(Ua,hb);return {builder:Va,tokenTicket:Za};},Ea);},timeout:function(){Sa.timeout();},error:function(Za){Sa.error(Za);}});},Ea);},error:function(Va){Sa.error(Va);}});},buildErrorResponse:function(oa,xa,Ca,Fa,za,Sa,Ea){var Ua;function Va(hb,lb){$a(Ea,function(){var ob,pb;ob=Fc(za.messageId);pb=new pa(lb,Ca);Gc(xa,null,null,ob,{result:function(qb){$a(Ea,function(){xa.isPeerToPeer() && qb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new Y(qb,pb),tokenTicket:null};},Ua);},error:function(qb){Ea.error(qb);}});},Ua);}function Za(hb,lb){Ua.getNewestMasterToken(oa,xa,Sa,{result:function(ob){$a(Ea,function(){var pb,qb,zb;pb=ob && ob.masterToken;qb=Fc(za.messageId);zb=new pa(lb,Ca);Gc(xa,pb,null,qb,{result:function(yb){$a(Ea,function(){xa.isPeerToPeer() && yb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);yb.setNonReplayable(zb.isNonReplayable());return {errorResult:new Y(yb,zb),tokenTicket:ob};},Ua);},error:function(yb){Ea.error(yb);}});},Ua);},timeout:function(){Ea.timeout();},error:function(ob){Ea.error(ob);}});}Ua=this;$a(Ea,function(){var hb,lb,ob,pb;hb=Fa.requestHeader;lb=Fa.payloads;ob=za.errorCode;switch(ob){case Da.ENTITYDATA_REAUTH:case Da.ENTITY_REAUTH:xa.getEntityAuthenticationData(ob,{result:function(qb){$a(Ea,function(){if(!qb)return null;Va(hb,lb);},Ua);},error:function(qb){Ea.error(qb);}});break;case Da.USERDATA_REAUTH:case Da.SSOTOKEN_REJECTED:Ca.getUserAuthData(ob,!1,!0,{result:function(qb){$a(Ea,function(){if(!qb)return null;Za(hb,lb);},Ua);},error:function(qb){Ea.error(qb);}});break;case Da.USER_REAUTH:Za(hb,lb);break;case Da.KEYX_REQUIRED:ob=Fc(za.messageId);pb=new pa(lb,Ca);Gc(xa,null,null,ob,{result:function(qb){$a(Ea,function(){xa.isPeerToPeer() && qb.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);qb.setRenewable(!0);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new Y(qb,pb),tokenTicket:null};},Ua);},error:function(qb){Ea.error(qb);}});break;case Da.EXPIRED:this.getNewestMasterToken(oa,xa,Sa,{result:function(qb){$a(Ea,function(){var zb,yb,r,b;zb=qb && qb.masterToken;yb=hb.userIdToken;r=Fc(za.messageId);b=new pa(lb,Ca);Gc(xa,zb,yb,r,{result:function(a){$a(Ea,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new Y(a,b),tokenTicket:qb};},Ua);},error:function(a){Ea.error(a);}},Ua);},Ua);},timeout:function(){Ea.timeout();},error:function(qb){Ea.error(qb);}});break;case Da.REPLAYED:this.getNewestMasterToken(oa,xa,Sa,{result:function(qb){$a(Ea,function(){var zb,yb,r,b;zb=qb && qb.masterToken;yb=hb.userIdToken;r=Fc(za.messageId);b=new pa(lb,Ca);Gc(xa,zb,yb,r,{result:function(a){$a(Ea,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(hb.peerMasterToken,hb.peerUserIdToken);hb.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new Y(a,b),tokenTicket:qb};},Ua);},error:function(a){Ea.error(a);}});},Ua);},timeout:function(){Ea.timeout();},error:function(qb){Ea.error(qb);}});break;default:return null;}},Ua);},cleanupContext:function(oa,xa,Ca){switch(Ca.errorCode){case Da.ENTITY_REAUTH:this.deleteMasterToken(oa,xa.masterToken);break;case Da.USER_REAUTH:(Ca=xa.userIdToken,xa.masterToken && Ca && oa.getMslStore().removeUserIdToken(Ca));}},send:function(oa,xa,Ca,Fa,za,Sa,Ea){var ob;function Va(pb,qb,zb){$a(Ea,function(){var yb;yb=za.getPeerUserIdToken();!xa.isPeerToPeer() && !qb || xa.isPeerToPeer() && !yb?(yb=Ca.getCustomer())?za.setCustomer(yb,{result:function(r){$a(Ea,function(){qb=za.getUserIdToken();Za(pb,qb,zb);},ob);},error:function(r){Ea.error(r);}}):Za(pb,qb,zb):Za(pb,qb,zb);},ob);}function Za(pb,qb,zb){$a(Ea,function(){var yb,r;yb=!zb && (!Ca.isEncrypted() || za.willEncryptPayloads()) && (!Ca.isIntegrityProtected() || za.willIntegrityProtectPayloads()) && (!Ca.isNonReplayable() || za.isNonReplayable() && pb);yb || za.setNonReplayable(!1);r=[];za.isRenewable() && (!pb || pb.isRenewable() || Ca.isNonReplayable())?Ca.getKeyRequestData({result:function(b){$a(Ea,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);za.addKeyRequestData(c);}Ua(pb,qb,yb,r);},ob);},error:function(b){Ea.error(b);}}):Ua(pb,qb,yb,r);},ob);}function Ua(pb,qb,zb,yb){$a(Ea,function(){var r;r=new Ne(xa,Ca,za);Ca.updateServiceTokens(r,!zb,{result:function(b){za.getHeader({result:function(a){$a(Ea,function(){var c,m;c=Ca.getDebugContext();c && c.sentHeader(a);c=za.getKeyExchangeData();this.updateOutgoingCryptoContexts(xa,a,c);this.storeServiceTokens(xa,pb,qb,a.serviceTokens);c=!xa.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(oa.isAborted())throw new Vb("send aborted.");m=null != this._filterFactory?this._filterFactory.getOutputStream(Fa):Fa;rd(xa,m,Mb,a,c,Sa,{result:function(k){oa.setAbort(function(){k.abort();});hb(k,a,zb);},timeout:function(){Ea.timeout();},error:function(k){Ea.error(k);}});},ob);},timeout:function(){Ea.timeout();},error:function(a){Ea.error(a);}});},error:function(b){Ea.error(b);}});},ob);}function hb(pb,qb,zb){var yb,r;if(zb)Ca.write(pb,Sa,{result:function(b){$a(Ea,function(){if(oa.isAborted())throw new Vb("MessageOutputStream write aborted.");lb(pb,qb,zb);},ob);},timeout:function(){Ea.timeout();},error:function(b){Ea.error(b);}});else {yb=new ua();r=new Mc();rd(xa,yb,Mb,qb,r,Sa,{result:function(b){Ca.write(b,Sa,{result:function(a){$a(Ea,function(){if(oa.isAborted())throw new Vb("MessageOutputStream proxy write aborted.");b.close(Sa,{result:function(c){$a(Ea,function(){var m;if(!c)throw new Vb("MessageOutputStream proxy close aborted.");m=b.getPayloads();lb(pb,qb,zb,m);},ob);},timeout:function(){Ea.timeout();},error:function(c){Ea.error(c);}});},ob);},timeout:function(){Ea.timeout();},error:function(a){Ea.error(a);}});},timeout:function(){Ea.timeout();},error:function(b){Ea.error(b);}});}}function lb(pb,qb,zb,yb){pb.close(Sa,{result:function(r){$a(Ea,function(){if(!r)throw new Vb("MessageOutputStream close aborted.");yb || (yb=pb.getPayloads());return new Z(qb,yb,!zb);},ob);},timeout:function(){Ea.timeout();},error:function(r){Ea.error(r);}});}ob=this;$a(Ea,function(){var pb,qb,zb,yb;pb=za.getMasterToken();qb=za.getUserIdToken();zb=!1;if(Ca.getUserId()){yb=!qb;Ca.getUserAuthData(null,za.isRenewable(),yb,{result:function(r){$a(Ea,function(){r && (za.willEncryptHeader() && za.willIntegrityProtectHeader()?za.setUserAuthenticationData(r):zb=!0);Va(pb,qb,zb);},ob);},error:function(r){Ea.error(r);}});}else Va(pb,qb,zb);},ob);},receive:function(oa,xa,Ca,Fa,za,Sa,Ea){var Va;Va=this;$a(Ea,function(){var Za,Ua,hb;if(oa.isAborted())throw new Vb("receive aborted.");Za=[];za && (Za=za.keyRequestData.filter(function(){return !0;}));Ua=Ca.getCryptoContexts();hb=this._filterFactory?this._filterFactory.getInputStream(Fa):Fa;Pe(xa,hb,Mb,Za,Ua,Sa,{result:function(lb){oa.setAbort(function(){lb.abort();});lb.isReady(Sa,{result:function(ob){$a(Ea,function(){var pb,qb,zb,yb;if(!ob)throw new Vb("MessageInputStream aborted.");pb=lb.getMessageHeader();qb=lb.getErrorHeader();zb=Ca.getDebugContext();zb && zb.receivedHeader(pb?pb:qb);if(za && (zb=qb?qb.errorCode:null,pb || zb != Da.FAIL && zb != Da.TRANSIENT_FAILURE && zb != Da.ENTITY_REAUTH && zb != Da.ENTITYDATA_REAUTH)){zb=pb?pb.messageId:qb.messageId;yb=Fc(za.messageId);if(zb != yb)throw new Ib(X.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + yb + "; received " + zb);}xa.getEntityAuthenticationData(null,{result:function(r){$a(Ea,function(){var b,a,c,m;b=r.getIdentity();if(pb){a=pb.entityAuthenticationData;c=pb.masterToken;a=c?pb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(X.UNEXPECTED_MESSAGE_SENDER,a);za && this.updateIncomingCryptoContexts(xa,za,lb);b=pb.keyResponseData;xa.isPeerToPeer()?(b=b?b.masterToken:pb.peerMasterToken,c=pb.peerUserIdToken,a=pb.peerServiceTokens):(b=b?b.masterToken:pb.masterToken,c=pb.userIdToken,a=pb.serviceTokens);m=Ca.getUserId();m && c && !c.isVerified() && xa.getMslStore().addUserIdToken(m,c);this.storeServiceTokens(xa,b,c,a);}else if((a=qb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(X.UNEXPECTED_MESSAGE_SENDER,a);return lb;},Va);},error:Ea.error});},Va);},timeout:function(){Ea.timeout();},error:function(ob){Ea.error(ob);}});},timeout:function(){Ea.timeout();},error:function(lb){Ea.error(lb);}});},Va);},sendReceive:function(oa,xa,Ca,Fa,za,Sa,Ea,Va,Za){var hb;function Ua(lb,ob){$a(Za,function(){Sa.setRenewable(ob);this.send(oa,xa,Ca,za,Sa,Ea,{result:function(pb){$a(Za,function(){var qb;qb=pb.requestHeader.keyRequestData;Va || pb.handshake || !qb.isEmpty()?this.receive(oa,xa,Ca,Fa,pb.requestHeader,Ea,{result:function(zb){$a(Za,function(){ob && this.releaseRenewalLock(xa,lb,zb);return new ea(zb,pb);},hb);},timeout:function(){$a(Za,function(){ob && this.releaseRenewalLock(xa,lb,null);Za.timeout();},hb);},error:function(zb){$a(Za,function(){ob && this.releaseRenewalLock(xa,lb,null);throw zb;},hb);}}):$a(Za,function(){ob && this.releaseRenewalLock(xa,lb,null);return new ea(null,pb);},hb);},hb);},timeout:function(){$a(Za,function(){ob && this.releaseRenewalLock(xa,lb,null);Za.timeout();},hb);},error:function(pb){$a(Za,function(){ob && this.releaseRenewalLock(xa,lb,null);throw pb;},hb);}});},hb);}hb=this;$a(Za,function(){var lb;lb=new Qc();this.acquireRenewalLock(oa,xa,Ca,lb,Sa,Ea,{result:function(ob){Ua(lb,ob);},timeout:function(){Za.timeout();},error:function(ob){ob instanceof Vb?Za.result(null):Za.error(ob);}});},hb);},acquireRenewalLock:function(oa,xa,Ca,Fa,za,Sa,Ea){var Ua;function Va(hb,lb,ob){$a(Ea,function(){var zb,yb;if(oa.isAborted())throw new Vb("acquireRenewalLock aborted.");for(var pb=null,qb=0;qb < this._renewingContexts.length;++qb){zb=this._renewingContexts[qb];if(zb.ctx === xa){pb=zb.queue;break;}}if(!pb)return (this._renewingContexts.push({ctx:xa,queue:Fa}),!0);yb=pb.poll(Sa,{result:function(r){$a(Ea,function(){var b;if(r === Ab)throw new Vb("acquireRenewalLock aborted.");pb.add(r);if(r === na || r.isExpired())Va(r,lb,ob);else {if(ob && !lb || lb && !lb.isBoundTo(r)){b=xa.getMslStore().getUserIdToken(ob);lb=b && b.isBoundTo(r)?b:null;}za.setAuthTokens(r,lb);za.isRenewable() && r.equals(hb)?Va(r,lb,ob):Ca.isRequestingTokens() && !lb?Va(r,lb,ob):Za(r,lb);}},Ua);},timeout:function(){},error:function(r){}});oa.setAbort(function(){yb && (pb.cancel(yb),yb=Ab);});},Ua);}function Za(hb,lb){$a(Ea,function(){var qb;if(oa.isAborted())throw new Vb("acquireRenewalLock aborted.");if(!hb || hb.isRenewable() || !lb && Ca.getUserId() || lb && lb.isRenewable()){for(var ob=null,pb=0;pb < this._renewingContexts.length;++pb){qb=this._renewingContexts[pb];if(qb.ctx === xa){ob=qb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:xa,queue:Fa}),!0);}return !1;},Ua);}Ua=this;$a(Ea,function(){var hb,lb,ob;hb=za.getMasterToken();lb=za.getUserIdToken();ob=Ca.getUserId();Ca.isEncrypted() && !za.willEncryptPayloads() || Ca.isIntegrityProtected() && !za.willIntegrityProtectPayloads() || za.isRenewable() || !hb && Ca.isNonReplayable() || hb && hb.isExpired() || !(lb || !ob || za.willEncryptHeader() && za.willIntegrityProtectHeader()) || Ca.isRequestingTokens() && (!hb || ob && !lb)?Va(hb,lb,ob):Za(hb,lb);},Ua);},releaseRenewalLock:function(oa,xa,Ca){var Ea;for(var Fa,za,Sa=0;Sa < this._renewingContexts.length;++Sa){Ea=this._renewingContexts[Sa];if(Ea.ctx === oa){Fa=Sa;za=Ea.queue;break;}}if(za !== xa)throw new wb("Attempt to release renewal lock that is not owned by this queue.");Ca?(Ca=Ca.messageHeader)?(za=Ca.keyResponseData)?xa.add(za.masterToken):(oa=oa.isPeerToPeer()?Ca.peerMasterToken:Ca.masterToken)?xa.add(oa):xa.add(na):xa.add(na):xa.add(na);this._renewingContexts.splice(Fa,1);}});Se=Cb.Class.create({init:function(){var oa;oa={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,oa);},setFilterFactory:function(oa){this._impl.setFilterFactory(oa);},shutdown:function(){this._shutdown=!0;},receive:function(oa,xa,Ca,Fa,za,Sa){var Ea;if(this._shutdown)throw new cb("MslControl is shutdown.");Ea=new ia(this._impl,oa,xa,Ca,Fa,za);setTimeout(function(){Ea.call(Sa);},0);return ha(Ea);},respond:function(oa,xa,Ca,Fa,za,Sa,Ea){var Va;if(this._shutdown)throw new cb("MslControl is shutdown.");Va=new ka(this._impl,oa,xa,Ca,Fa,za,Sa);setTimeout(function(){Va.call(Ea);},0);return ha(Va);},error:function Ca(oa,xa,Ca,Fa,za,Sa,Ea){var Va;if(this._shutdown)throw new cb("MslControl is shutdown.");Va=new va(this._impl,oa,xa,Ca,Fa,za,Sa);setTimeout(function(){Va.call(Ea);},0);return ha(Va);},request:function(oa,xa){var Ca,Fa,za,Sa,Ea,Va;if(this._shutdown)throw new cb("MslControl is shutdown.");if(5 == arguments.length){Fa=arguments[2];za=Ca=null;Sa=arguments[3];Ea=arguments[4];if(oa.isPeerToPeer()){Ea.error(new wb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Fa=null,Ca=arguments[2],za=arguments[3],Sa=arguments[4],Ea=arguments[5],!oa.isPeerToPeer())){Ea.error(new wb("This method cannot be used in trusted network mode."));return;}Va=new Ja(this._impl,oa,xa,Fa,Ca,za,null,0,Sa);setTimeout(function(){Va.call(Ea);},0);return ha(Va);}});ia=Cb.Class.create({init:function(oa,xa,Ca,Fa,za,Sa){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_input:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_output:{value:za,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var za;function xa(Sa){$a(oa,function(){var Ea;Ea=Sa.messageHeader;if(!Ea)return Sa;this.setAbort(function(){Sa.abort();});Sa.mark(Number.MAX_VALUE);Sa.read(1,za._timeout,{result:function(Va){$a(oa,function(){if(Va && 0 == Va.length)return null;if(Va)return (Sa.reset(),Sa);Ca(Sa);},za);},timeout:function(){oa.timeout();},error:function(Va){$a(oa,function(){var Za,Ua,hb;if(aa(Va))return null;Za=Ea?Ea.messageId:null;if(Va instanceof Rb){Ua=X.MSL_COMMS_FAILURE;hb=Va;}else (Ua=X.INTERNAL_EXCEPTION,hb=new wb("Error peeking into the message payloads."));ja(this,this._ctx,this._msgCtx.getDebugContext(),Za,Ua,null,this._output,this._timeout,{result:function(lb){oa.error(hb);},timeout:function(){oa.timeout();},error:function(lb){$a(oa,function(){if(aa(lb))return null;throw new dc("Error peeking into the message payloads.",lb,Va);},za);}});},za);}});},za);}function Ca(Sa){$a(oa,function(){Sa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Sa.messageHeader,this._timeout,{result:function(Ea){$a(oa,function(){var Va,Za,Ua,hb,lb;Va=Ea.builder;Za=Ea.tokenTicket;Ua=Sa.messageHeader;hb=new ya(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ua.isEncrypting() || Ua.keyResponseData)Fa(Ua,Va,hb,Za);else {lb=new Ja(this._ctrl,this._ctx,hb,null,this._input,this._output,Ea,1,this._timeout);this.setAbort(function(){lb.abort();});lb.call(oa);}},za);},timeout:function(){oa.timeout();},error:function(Ea){$a(oa,function(){var Va,Za,Ua,hb;if(aa(Ea))return null;if(Ea instanceof cb){Va=Ea.messageId;Za=Ea.error;Ua=Sa.messageHeader.messageCapabilities;Ua=this._ctrl.messageRegistry.getUserMessage(Za,Ua?Ua.languages:null);hb=Ea;}else (Va=requestHeader?requestHeader.messageId:null,Za=X.INTERNAL_EXCEPTION,Ua=null,hb=new wb("Error creating an automatic handshake response.",Ea));ja(this,this._ctx,this._msgCtx.getDebugContext(),Va,Za,Ua,this._output,this._timeout,{result:function(lb){oa.error(hb);},timeout:function(){oa.timeout();},error:function(lb){$a(oa,function(){if(aa(lb))return null;throw new dc("Error creating an automatic handshake response.",lb,Ea);},za);}});},za);}});},za);}function Fa(Sa,Ea,Va,Za){$a(oa,function(){Ea.setRenewable(!1);this._ctrl.send(this._ctx,Va,this._output,Ea,this._timeout,{result:function(Ua){$a(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);return null;},za);},timeout:function(){$a(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);oa.timeout();},za);},error:function(Ua){$a(oa,function(){var hb,lb,ob,pb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);if(aa(Ua))return null;if(Ua instanceof cb){hb=Ua.messageId;lb=Ua.error;ob=Sa?Sa.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(lb,ob?ob.languages:null);pb=Ua;}else Ua instanceof Rb?(hb=Sa?Sa.messageId:null,lb=X.MSL_COMMS_FAILURE,ob=null,pb=Ua):(hb=Sa?Sa.messageId:null,lb=X.INTERNAL_EXCEPTION,ob=null,pb=new wb("Error sending an automatic handshake response.",Ua));ja(this,this._ctx,this._msgCtx.getDebugContext(),hb,lb,ob,this._output,this._timeout,{result:function(qb){oa.error(pb);},timeout:function(){oa.timeout();},error:function(qb){$a(oa,function(){if(aa(qb))return null;throw new dc("Error sending an automatic handshake response.",qb,Ua);},za);}});},za);}});},za);}za=this;$a(oa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Sa){xa(Sa);},timeout:function(){oa.timeout();},error:function(Sa){$a(oa,function(){var Ea,Va,Za,Ua;if(aa(Sa))return null;if(Sa instanceof cb){Ea=Sa.messageId;Va=Sa.error;Za=this._ctrl.messageRegistry.getUserMessage(Va,null);Ua=Sa;}else (Ea=null,Va=X.INTERNAL_EXCEPTION,Za=null,Ua=new wb("Error receiving the message header.",Sa));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ea,Va,Za,this._output,this._timeout,{result:function(hb){oa.error(Ua);},timeout:function(){oa.timeout();},error:function(hb){$a(oa,function(){if(aa(hb))return null;throw new dc("Error receiving the message header.",hb,Sa);},za);}});},za);}});},za);}});ka=Cb.Class.create({init:function(oa,xa,Ca,Fa,za,Sa,Ea){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_input:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_output:{value:za,writable:!1,enumerable:!1,configurable:!1},_request:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},trustedNetworkExecute:function(oa,xa,Ca){var Fa;Fa=this;$a(Ca,function(){var za,Sa;if(12 < xa + 1)return !1;if(za=this._msgCtx.isIntegrityProtected() && !oa.willIntegrityProtectHeader()?X.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !oa.willEncryptPayloads()?X.RESPONSE_REQUIRES_ENCRYPTION:null){Sa=Nc(oa.getMessageId());ja(this,this._ctx,this._msgCtx.getDebugContext(),Sa,za,null,this._output,this._timeout,{result:function(Ea){Ca.result(!1);},timeout:function(){Ca.timeout();},error:function(Ea){$a(Ca,function(){if(aa(Ea))return !1;throw new dc("Response requires encryption or integrity protection but cannot be protected: " + za,Ea,null);},Fa);}});}else !this._msgCtx.getCustomer() || oa.getMasterToken() || oa.getKeyExchangeData()?(oa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,oa,this._timeout,{result:function(Ea){Ca.result(!0);},timeout:function(){Ca.timeout();},error:function(Ea){Ca.error(Ea);}})):(Sa=Nc(oa.getMessageId()),ja(this,this._ctx,this._msgCtx.getDebugContext(),Sa,X.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ea){Ca.result(!1);},timeout:function(){Ca.timeout();},error:function(Ea){$a(Ca,function(){if(aa(Ea))return !1;throw new dc("Response wishes to attach a user ID token but there is no master token.",Ea,null);},Fa);}}));},Fa);},peerToPeerExecute:function(oa,xa,Ca,Fa){var Sa;function za(Ea){$a(Fa,function(){var Va;Va=Ea.response;Va.close();Va=Va.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ea.requestHeader,Va);this._ctrl.buildErrorResponse(this,this._ctx,oa,Ea,Va,{result:function(Za){$a(Fa,function(){var Ua,hb;if(!Za)return !1;Ua=Za.errorResult;hb=Za.tokenTicket;this.peerToPeerExecute(Ua.msgCtx,Ua.builder,Ca,{result:function(lb){$a(Fa,function(){this._ctrl.releaseMasterToken(hb);return lb;},Sa);},timeout:function(){$a(Fa,function(){this._ctrl.releaseMasterToken(hb);Fa.timeout();},Sa);},error:function(lb){$a(Fa,function(){this._ctrl.releaseMasterToken(hb);throw lb;},Sa);}});},Sa);}});},Sa);}Sa=this;$a(Fa,function(){var Ea;if(12 < Ca + 2)return !1;if(null != oa.getCustomer() && null == xa.getPeerMasterToken() && null == xa.getKeyExchangeData()){Ea=Nc(xa.getMessageId());ja(this,this._ctx,oa.getDebugContext(),Ea,X.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Va){Fa.result(!1);},timeout:function(){Fa.timeout();},error:function(Va){$a(Fa,function(){if(aa(Va))return !1;throw new dc("Response wishes to attach a user ID token but there is no master token.",Va,null);},Sa);}});}else this._ctrl.sendReceive(this._ctx,oa,this._input,this._output,xa,this._timeout,!1,{result:function(Va){$a(Fa,function(){var hb,lb,ob;function Za(){hb.read(32768,Sa._timeout,{result:function(pb){$a(Fa,function(){pb?Za():Ua();},Sa);},timeout:function(){Fa.timeout();},error:function(pb){Fa.error(pb);}});}function Ua(){$a(Fa,function(){var pb;pb=new pa(Va.payloads,oa);this._ctrl.buildResponse(this,this._ctx,pb,lb,this._timeout,{result:function(qb){$a(Fa,function(){var zb;zb=qb.tokenTicket;this.peerToPeerExecute(pb,qb.builder,Ca,{result:function(yb){$a(Fa,function(){this._ctrl.releaseMasterToken(zb);return yb;},Sa);},timeout:function(){$a(Fa,function(){this._ctrl.releaseMasterToken(zb);Fa.timeout();},Sa);},error:function(yb){$a(Fa,function(){this._ctrl.releaseMasterToken(zb);throw yb;},Sa);}});},Sa);},timeout:function(){Fa.timeout();},error:function(qb){Fa.error(qb);}});},Sa);}hb=Va.response;Ca+=2;if(!hb)return !0;lb=hb.getMessageHeader();if(lb){ob=Va.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Va.handshake && ob)Za();else return !0;}else za(Va);},Sa);},timeout:function(){Fa.timeout();},error:function(Va){Fa.error(Va);}});},Sa);},call:function(oa){var xa;xa=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ca){$a(oa,function(){var Fa,za;Fa=Ca.builder;za=Ca.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Fa,3,{result:function(Sa){$a(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);return Sa;},xa);},timeout:function(){$a(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);oa.timeout();},xa);},error:function(Sa){$a(oa,function(){var Ea,Va,Za,Ua;this._ctx.isPeerToPeer() && this.releaseMasterToken(za);if(aa(Sa))return !1;Ea=Nc(Fa.getMessageId());if(Sa instanceof cb){Va=Sa.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Va,Za?Za.languages:null);Ua=Sa;}else Sa instanceof Rb?(Va=X.MSL_COMMS_FAILURE,Za=null,Ua=Sa):(Va=X.INTERNAL_EXCEPTION,Za=null,Ua=new wb("Error sending the response.",Sa));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ea,Va,Za,this._output,this._timeout,{result:function(hb){oa.error(Ua);},timeout:function(){oa.timeout();},error:function(hb){$a(oa,function(){if(aa(hb))return !1;throw new dc("Error sending the response.",hb,null);},xa);}});},xa);}}):this.trustedNetworkExecute(Fa,3,{result:function(Sa){$a(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);return Sa;},xa);},timeout:function(){$a(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(za);oa.timeout();},xa);},error:function(Sa){$a(oa,function(){var Ea,Va,Za,Ua;this._ctx.isPeerToPeer() && this.releaseMasterToken(za);if(aa(Sa))return !1;Ea=Nc(Fa.getMessageId());if(Sa instanceof cb){Va=Sa.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Va,Za?Za.languages:null);Ua=Sa;}else Sa instanceof Rb?(Va=X.MSL_COMMS_FAILURE,Za=null,Ua=Sa):(Va=X.INTERNAL_EXCEPTION,Za=null,Ua=new wb("Error sending the response.",Sa));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ea,Va,Za,this._output,this._timeout,{result:function(hb){oa.error(Ua);},timeout:function(){oa.timeout();},error:function(hb){$a(oa,function(){if(aa(hb))return !1;throw new dc("Error sending the response.",hb,null);},xa);}});},xa);}});},xa);},timeout:function(){oa.timeout();},error:function(Ca){$a(oa,function(){var Fa,za,Sa,Ea;if(aa(Ca))return !1;if(Ca instanceof cb){Fa=Ca.messageId;za=Ca.error;Sa=this._request.messageCapabilities;Sa=this._ctrl.messageRegistry.getUserMessage(za,Sa?Sa.languages:null);Ea=Ca;}else (Fa=null,za=X.INTERNAL_EXCEPTION,Sa=null,Ea=new wb("Error building the response.",Ca));ja(this,this._ctx,this._msgCtx.getDebugContext(),Fa,za,Sa,this._output,this._timeout,{result:function(Va){oa.error(Ea);},timeout:function(){oa.timeout();},error:function(Va){$a(oa,function(){if(aa(Va))return null;throw new dc("Error building the response.",Va,Ca);},xa);}});},xa);}});}});va=Cb.Class.create({init:function(oa,xa,Ca,Fa,za,Sa,Ea){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var xa;xa=this;$a(oa,function(){var Ca,Fa;if(this._appError == ENTITY_REJECTED)Ca=this._request.masterToken?X.MASTERTOKEN_REJECTED_BY_APP:X.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ca=this._request.userIdToken?X.USERIDTOKEN_REJECTED_BY_APP:X.USER_REJECTED_BY_APP;else throw new wb("Unhandled application error " + this._appError + ".");Fa=this._request.messageCapabilities;Fa=this._ctrl.messageRegistry.getUserMessage(Ca,Fa?Fa.languages:null);ja(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ca,Fa,this._output,this._timeout,{result:function(za){oa.result(za);},timeout:oa.timeout,error:function(za){$a(oa,function(){if(aa(za))return !1;if(za instanceof cb)throw za;throw new wb("Error building the error response.",za);},xa);}});},xa);}});Pa={result:function(){},timeout:function(){},error:function(){}};Ja=Cb.Class.create({init:function(oa,xa,Ca,Fa,za,Sa,Ea,Va,Za){var Ua;if(Ea){Ua=Ea.builder;Ea=Ea.tokenTicket;}else Ea=Ua=null;Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_input:{value:za,writable:!0,enumerable:!1,configurable:!1},_output:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ea,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Za,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Va,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},execute:function(oa,xa,Ca,Fa,za){var Va;function Sa(Za){function Ua(hb){$a(za,function(){var lb;lb=Za.response;return hb?hb:lb;},Va);}$a(za,function(){var hb,lb;hb=Za.response;hb.close();lb=hb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Za.requestHeader,lb);this._ctrl.buildErrorResponse(this,this._ctx,oa,Za,lb,Ca,{result:function(ob){$a(za,function(){var pb,qb,zb,yb;if(!ob)return hb;pb=ob.errorResult;qb=ob.tokenTicket;zb=pb.builder;pb=pb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(pb,zb,this._timeout,Fa,{result:function(r){$a(za,function(){this._ctrl.releaseMasterToken(qb);Ua(r);},Va);},timeout:function(){$a(za,function(){this._ctrl.releaseMasterToken(qb);za.timeout();},Va);},error:function(r){$a(za,function(){this._ctrl.releaseMasterToken(qb);za.error(r);},Va);}});else {this._openedStreams && (this._input.close(),this._output.close(Ca,Pa));yb=new Ja(this._ctrl,this._ctx,pb,this._remoteEntity,null,null,{builder:zb,tokenTicket:qb},Fa,this._timeout);this.setAbort(function(){yb.abort();});yb.call({result:function(r){Ua(r);},timeout:function(){za.timeout();},error:function(r){za.error(r);}});}},Va);},timeout:function(){za.timeout();},error:function(ob){za.error(ob);}});},Va);}function Ea(Za){$a(za,function(){var lb,ob,pb,qb,zb;function Ua(){lb.read(32768,Va._timeout,{result:function(yb){yb?Ua():hb();},timeout:function(){za.timeout();},error:function(yb){za.error(yb);}});}function hb(){$a(za,function(){var yb;yb=new pa(Za.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,ob,Ca,{result:function(r){$a(za,function(){var b;b=r.tokenTicket;this.execute(yb,r.builder,this._timeout,Fa,{result:function(a){$a(za,function(){this._ctrl.releaseMasterToken(b);return a;},Va);},timeout:function(){$a(za,function(){this._ctrl.releaseMasterToken(b);za.timeout();},Va);},error:function(a){$a(za,function(){this._ctrl.releaseMasterToken(b);throw a;},Va);}});},Va);},timeout:function(){za.timeout();},error:function(r){za.error(r);}});},Va);}lb=Za.response;ob=lb.getMessageHeader();pb=Za.payloads;pb=0 < pb.length && 0 < pb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!Za.handshake || !pb)return lb;this._openedStreams && (this._input.close(),this._output.close(Ca,Pa));qb=new pa(Za.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,ob,Ca,{result:function(yb){$a(za,function(){var r;r=new Ja(this._ctrl,this._ctx,qb,this._remoteEntity,null,null,yb,Fa,this._timeout);this.setAbort(function(){r.abort();});r.call(za);},Va);},timeout:function(){za.timeout();},error:function(yb){za.error(yb);}});}else if(Za.handshake && pb)Ua();else if(0 < ob.keyRequestData.length){zb=new ya(oa);this._ctrl.buildResponse(this,this._ctx,zb,ob,Ca,{result:function(yb){$a(za,function(){var r,b;r=yb.builder;b=yb.tokenTicket;lb.mark();lb.read(1,this._timeout,{result:function(a){$a(za,function(){function c(){lb.read(32768,Va._timeout,{result:function(k){k?c():m();},timeout:function(){za.timeout();},error:function(k){za.error(k);}});}function m(){Va.execute(zb,r,Va._timeout,Fa,{result:function(k){$a(za,function(){this._ctrl.releaseMasterToken(b);return k;},Va);},timeout:function(){$a(za,function(){this._ctrl.releaseMasterToken(b);za.timeout();},Va);},error:function(k){$a(za,function(){this._ctrl.releaseMasterToken(b);throw k;},Va);}});}if(a){if((lb.reset(),12 >= Fa + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,r,this._timeout,{result:function(k){$a(za,function(){this.releaseMasterToken(b);return lb;},Va);},timeout:function(){za.timeout();},error:function(k){za.error(k);}}));else return (this.releaseMasterToken(b),lb);}else c();},Va);},timeout:function(){$a(za,function(){this.releaseMasterToken(b);za.timeout();},Va);},error:function(a){$a(za,function(){this.releaseMasterToken(b);throw a;},Va);}});},Va);},timeout:function(){za.timeout();},error:function(yb){za.error(yb);}});}},Va);}Va=this;$a(za,function(){if(12 < Fa + 2)return null;this._ctrl.sendReceive(this,this._ctx,oa,this._input,this._output,xa,Ca,!0,{result:function(Za){$a(za,function(){var Ua;if(!Za)return null;Ua=Za.response;Fa+=2;Ua.getMessageHeader()?Ea(Za):Sa(Za);},Va);},timeout:function(){za.timeout();},error:function(Za){za.error(Za);}});},Va);},call:function(oa){var Ca;function xa(Fa,za,Sa){$a(oa,function(){this.execute(this._msgCtx,Fa,Sa,this._msgCount,{result:function(Ea){$a(oa,function(){this._ctrl.releaseMasterToken(za);this._openedStreams && this._output.close(Sa,Pa);Ea && Ea.closeSource(this._openedStreams);return Ea;},Ca);},timeout:function(){$a(oa,function(){this._ctrl.releaseMasterToken(za);this._openedStreams && (this._output.close(Sa,Pa),this._input.close());oa.timeout();},Ca);},error:function(Ea){$a(oa,function(){this._ctrl.releaseMasterToken(za);this._openedStreams && (this._output.close(Sa,Pa),this._input.close());if(aa(Ea))return null;throw Ea;},Ca);}});},Ca);}Ca=this;$a(oa,function(){var Fa,za,Sa;Fa=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);za=Date.now();Sa=this._remoteEntity.openConnection();this._output=Sa.output;this._input=Sa.input;-1 != Fa && (Fa=this._timeout - (Date.now() - za));this._openedStreams=!0;}catch(Ea){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Pa);this._input && this._input.close();if(aa(Ea))return null;throw Ea;}this._builder?xa(this._builder,this._tokenTicket,Fa):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ea){$a(oa,function(){xa(Ea.builder,Ea.tokenTicket,Fa);},Ca);},timeout:function(){$a(oa,function(){this._openedStreams && (this._output.close(this._timeout,Pa),this._input.close());oa.timeout();},Ca);},error:function(Ea){$a(oa,function(){this._openedStreams && (this._output.close(this._timeout,Pa),this._input.close());if(aa(Ea))return null;throw Ea;},Ca);}});},Ca);}});})();(function(){Pd=Cb.Class.create({init:function(ha){Object.defineProperties(this,{id:{value:ha,writable:!1,configurable:!1}});},toJSON:function(){var ha;ha={};ha.id=this.id;return ha;},equals:function(ha){return this === ha?!0:ha instanceof Pd?this.id == ha.id:!1;},uniqueKey:function(){return this.id;}});Te=function(ha){var ca;ca=ha.id;if(!ca)throw new Db(X.JSON_PARSE_ERROR,JSON.stringify(ha));return new Pd(ca);};})();Cb.Class.create({isNewestMasterToken:function(ha,ca,Y){},isMasterTokenRevoked:function(ha,ca){},acceptNonReplayableId:function(ha,ca,Y,Z){},createMasterToken:function(ha,ca,Y,Z,ea){},isMasterTokenRenewable:function(ha,ca,Y){},renewMasterToken:function(ha,ca,Y,Z,ea){},isUserIdTokenRevoked:function(ha,ca,Y,Z){},createUserIdToken:function(ha,ca,Y,Z){},renewUserIdToken:function(ha,ca,Y,Z){}});(function(){function ha(ca,Y,Z,ea){this.sessiondata=ca;this.tokendata=Y;this.signature=Z;this.verified=ea;}cc=Cb.Class.create({init:function(ca,Y,Z,ea,aa,ja,ua,ra,la,pa,ya){var na;na=this;Ka(ya,function(){var da,ia,ka,va,Pa;if(Z.getTime() < Y.getTime())throw new wb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Kb)throw new wb("Sequence number " + ea + " is outside the valid range.");if(0 > aa || aa > Kb)throw new wb("Serial number " + aa + " is outside the valid range.");da=Math.floor(Y.getTime() / 1E3);ia=Math.floor(Z.getTime() / 1E3);if(pa)ka=pa.sessiondata;else {va={};ja && (va.issuerdata=ja);va.identity=ua;va.encryptionkey=Eb(ra.toByteArray());va.hmackey=Eb(la.toByteArray());ka=Zb(JSON.stringify(va),Mb);}if(pa)return (Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ia,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:aa,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},identity:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ka,writable:!1,enumerable:!1,configurable:!1},verified:{value:pa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:pa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Pa=ca.getMslCryptoContext();Pa.encrypt(ka,{result:function(Ja){Ka(ya,function(){var Na,Ra;Na={};Na.renewalwindow=da;Na.expiration=ia;Na.sequencenumber=ea;Na.serialnumber=aa;Na.sessiondata=Eb(Ja);Ra=Zb(JSON.stringify(Na),Mb);Pa.sign(Ra,{result:function(oa){Ka(ya,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ia,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:aa,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},identity:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ka,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},na);},error:function(oa){ya.error(oa);}});},na);},error:function(Ja){ya.error(Ja);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ca){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ca){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ca){var Y;if(this.sequenceNumber == ca.sequenceNumber)return this.expiration > ca.expiration;if(this.sequenceNumber > ca.sequenceNumber){Y=this.sequenceNumber - Kb + 127;return ca.sequenceNumber >= Y;}Y=ca.sequenceNumber - Kb + 127;return this.sequenceNumber < Y;},toJSON:function(){var ca;ca={};ca.tokendata=Eb(this.tokendata);ca.signature=Eb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof cc?this.serialNumber == ca.serialNumber && this.sequenceNumber == ca.sequenceNumber && this.expiration.getTime() == ca.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Wc=function(ca,Y,Z){Ka(Z,function(){var ea,aa,ja,ua,ra;ea=ca.getMslCryptoContext();aa=Y.tokendata;ja=Y.signature;if("string" !== typeof aa || "string" !== typeof ja)throw new Db(X.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(Y));try{ua=Gb(aa);}catch(la){throw new cb(X.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(Y),la);}if(!ua || 0 == ua.length)throw new Db(X.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(Y));try{ra=Gb(ja);}catch(la){throw new cb(X.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(Y),la);}ea.verify(ua,ra,{result:function(la){Ka(Z,function(){var pa,ya,na,da,ia,ka,va,Pa,Ja,Na;pa=Yb(ua,Mb);try{ya=JSON.parse(pa);na=parseInt(ya.renewalwindow);da=parseInt(ya.expiration);ia=parseInt(ya.sequencenumber);ka=parseInt(ya.serialnumber);va=ya.sessiondata;}catch(Ra){if(Ra instanceof SyntaxError)throw new Db(X.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + pa,Ra);throw Ra;}if(!na || na != na || !da || da != da || "number" !== typeof ia || ia != ia || "number" !== typeof ka || ka != ka || "string" !== typeof va)throw new Db(X.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + pa);if(da < na)throw new cb(X.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + pa);if(0 > ia || ia > Kb)throw new cb(X.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + pa);if(0 > ka || ka > Kb)throw new cb(X.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + pa);Pa=new Date(1E3 * na);Ja=new Date(1E3 * da);try{Na=Gb(va);}catch(Ra){throw new cb(X.MASTERTOKEN_SESSIONDATA_INVALID,va,Ra);}if(!Na || 0 == Na.length)throw new cb(X.MASTERTOKEN_SESSIONDATA_MISSING,va);la?ea.decrypt(Na,{result:function(Ra){Ka(Z,function(){var oa,xa,Ca,Fa,za,Sa;oa=Yb(Ra,Mb);try{xa=JSON.parse(oa);Ca=xa.issuerdata;Fa=xa.identity;za=xa.encryptionkey;Sa=xa.hmackey;}catch(Ea){if(Ea instanceof SyntaxError)throw new Db(X.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa,Ea);throw Ea;}if(Ca && "object" !== typeof Ca || !Fa || "string" !== typeof za || "string" !== typeof Sa)throw new Db(X.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa);mc(za,hc,vc,{result:function(Ea){mc(Sa,ic,Ec,{result:function(Va){Ka(Z,function(){var Za;Za=new ha(Ra,ua,ra,la);new cc(ca,Pa,Ja,ia,ka,Ca,Fa,Ea,Va,Za,Z);});},error:function(Va){Z.error(new vb(X.MASTERTOKEN_KEY_CREATION_ERROR,Va));}});},error:function(Ea){Z.error(new vb(X.MASTERTOKEN_KEY_CREATION_ERROR,Ea));}});});},error:function(Ra){Z.error(Ra);}}):(na=new ha(null,ua,ra,la),new cc(ca,Pa,Ja,ia,ka,null,null,null,null,na,Z));});},error:function(la){Z.error(la);}});});};})();(function(){function ha(ca,Y,Z){this.tokendata=ca;this.signature=Y;this.verified=Z;}Kc=Cb.Class.create({init:function(ca,Y,Z,ea,aa,ja,ua,ra,la){var pa;pa=this;Ka(la,function(){var ya,na,da,ia,ka,va,Pa;if(Z.getTime() < Y.getTime())throw new wb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new wb("Cannot construct a user ID token without a master token.");if(0 > aa || aa > Kb)throw new wb("Serial number " + aa + " is outside the valid range.");ya=Math.floor(Y.getTime() / 1E3);na=Math.floor(Z.getTime() / 1E3);da=ea.serialNumber;if(ra){ia=ra.tokendata;ka=ra.signature;va=ra.verified;da=ea.serialNumber;Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ya,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:na,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},serialNumber:{value:aa,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},customer:{value:ua,writable:!1,configurable:!1},verified:{value:va,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;}ia={};ja && (ia.issuerdata=ja);ia.identity=ua;ia=Zb(JSON.stringify(ia),Mb);Pa=ca.getMslCryptoContext();Pa.encrypt(ia,{result:function(Ja){Ka(la,function(){var Na,Ra;Na={};Na.renewalwindow=ya;Na.expiration=na;Na.mtserialnumber=da;Na.serialnumber=aa;Na.userdata=Eb(Ja);Ra=Zb(JSON.stringify(Na),Mb);Pa.sign(Ra,{result:function(oa){Ka(la,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ya,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:na,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:aa,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},customer:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},pa);},error:function(oa){Ka(la,function(){oa instanceof cb && oa.setEntity(ea);throw oa;},pa);}});},pa);},error:function(Ja){Ka(la,function(){Ja instanceof cb && Ja.setEntity(ea);throw Ja;},pa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ca){return ca && ca.serialNumber == this.mtSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Eb(this.tokendata);ca.signature=Eb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof Kc?this.serialNumber == ca.serialNumber && this.mtSerialNumber == ca.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});nd=function(ca,Y,Z,ea){Ka(ea,function(){var aa,ja,ua,ra,la;aa=ca.getMslCryptoContext();ja=Y.tokendata;ua=Y.signature;if("string" !== typeof ja || "string" !== typeof ua)throw new Db(X.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(Y)).setEntity(Z);try{ra=Gb(ja);}catch(pa){throw new cb(X.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Y),pa).setEntity(Z);}if(!ra || 0 == ra.length)throw new Db(X.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(Y)).setEntity(Z);try{la=Gb(ua);}catch(pa){throw new cb(X.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Y),pa).setEntity(Z);}aa.verify(ra,la,{result:function(pa){Ka(ea,function(){var ya,na,da,ia,ka,va,Pa,Ja,Na,Ra;ya=Yb(ra,Mb);try{na=JSON.parse(ya);da=parseInt(na.renewalwindow);ia=parseInt(na.expiration);ka=parseInt(na.mtserialnumber);va=parseInt(na.serialnumber);Pa=na.userdata;}catch(oa){if(oa instanceof SyntaxError)throw new Db(X.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ya,oa).setEntity(Z);throw oa;}if(!da || da != da || !ia || ia != ia || "number" !== typeof ka || ka != ka || "number" !== typeof va || va != va || "string" !== typeof Pa)throw new Db(X.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ya).setEntity(Z);if(ia < da)throw new cb(X.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ya).setEntity(Z);if(0 > ka || ka > Kb)throw new cb(X.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ya).setEntity(Z);if(0 > va || va > Kb)throw new cb(X.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ya).setEntity(Z);Ja=new Date(1E3 * da);Na=new Date(1E3 * ia);if(!Z || ka != Z.serialNumber)throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ka + "; mt " + JSON.stringify(Z)).setEntity(Z);try{Ra=Gb(Pa);}catch(oa){throw new cb(X.USERIDTOKEN_USERDATA_INVALID,Pa,oa).setEntity(Z);}if(!Ra || 0 == Ra.length)throw new cb(X.USERIDTOKEN_USERDATA_MISSING,Pa).setEntity(Z);pa?aa.decrypt(Ra,{result:function(oa){Ka(ea,function(){var xa,Ca,Fa,za,Sa;xa=Yb(oa,Mb);try{Ca=JSON.parse(xa);Fa=Ca.issuerdata;za=Ca.identity;}catch(Ea){if(Ea instanceof SyntaxError)throw new Db(X.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(Z);throw Ea;}if(Fa && "object" !== typeof Fa || "object" !== typeof za)throw new Db(X.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(Z);try{Sa=Te(za);}catch(Ea){throw new cb(X.USERIDTOKEN_IDENTITY_INVALID,"userdata " + xa,Ea).setEntity(Z);}za=new ha(ra,la,pa);new Kc(ca,Ja,Na,Z,va,Fa,Sa,za,ea);});},error:function(oa){Ka(ea,function(){oa instanceof cb && oa.setEntity(Z);throw oa;});}}):(da=new ha(ra,la,pa),new Kc(ca,Ja,Na,Z,va,null,null,da,ea));});},error:function(pa){Ka(ea,function(){pa instanceof cb && pa.setEntity(Z);throw pa;});}});});};})();(function(){function ha(Y,Z){var ea,aa,ja;ea=Y.tokendata;if("string" !== typeof ea)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y));try{aa=Gb(ea);}catch(ua){throw new cb(X.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Y),ua);}if(!aa || 0 == aa.length)throw new Db(X.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Y));try{ja=JSON.parse(Yb(aa,Mb)).name;}catch(ua){if(ua instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y),ua);throw ua;}if(!ja)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y));return Z[ja]?Z[ja]:Z[""];}function ca(Y,Z,ea){this.tokendata=Y;this.signature=Z;this.verified=ea;}xc=Cb.Class.create({init:function(Y,Z,ea,aa,ja,ua,ra,la,pa,ya){var na;na=this;Ka(ya,function(){var da,ia,ka,va,Pa;if(aa && ja && !ja.isBoundTo(aa))throw new wb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");da=aa?aa.serialNumber:-1;ia=ja?ja.serialNumber:-1;if(pa)return (Pa=pa.tokendata,Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:Z,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:pa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Pa,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ra){ka=Od(ra,ea);ka.length < ea.length || (ra=null,ka=ea);}else (ra=null,ka=ea);va={};va.name=Z;-1 != da && (va.mtserialnumber=da);-1 != ia && (va.uitserialnumber=ia);va.encrypted=ua;ra && (va.compressionalgo=ra);if(ua && 0 < ka.length)la.encrypt(ka,{result:function(Ja){Ka(ya,function(){var Na;va.servicedata=Eb(Ja);Na=Zb(JSON.stringify(va),Mb);la.sign(Na,{result:function(Ra){Ka(ya,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:Z,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Na,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});return this;},na);},error:function(Ra){Ka(ya,function(){Ra instanceof cb && (Ra.setEntity(aa),Ra.setUser(ja));throw Ra;});}});},na);},error:function(Ja){Ka(ya,function(){Ja instanceof cb && (Ja.setEntity(aa),Ja.setUser(ja));throw Ja;});}});else {va.servicedata=Eb(ka);Pa=Zb(JSON.stringify(va),Mb);la.sign(Pa,{result:function(Ja){Ka(ya,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:Z,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:ua,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Pa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ja,writable:!1,enumerable:!1,configurable:!1}});return this;},na);},error:function(Ja){Ka(ya,function(){Ja instanceof cb && (Ja.setEntity(aa),Ja.setUser(ja));throw Ja;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(Y){return Y?Y instanceof cc?Y.serialNumber == this.mtSerialNumber:Y instanceof Kc?Y.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var Y;Y={};Y.tokendata=Eb(this.tokendata);Y.signature=Eb(this.signature);return Y;},equals:function(Y){return this === Y?!0:Y instanceof xc?this.name == Y.name && this.mtSerialNumber == Y.mtSerialNumber && this.uitSerialNumber == Y.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});sc=function(Y,Z,ea,aa,ja,ua,ra,la,pa){new xc(Y,Z,ea,aa,ja,ua,ra,la,null,pa);};od=function(Y,Z,ea,aa,ja,ua){Ka(ua,function(){var ra,la,pa,ya,na,da,ia,ka,va,Pa,Ja,Na,Ra;!ja || ja instanceof Lc || (ja=ha(Z,ja));ra=Z.tokendata;la=Z.signature;if("string" !== typeof ra || "string" !== typeof la)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z)).setEntity(ea).setEntity(aa);try{pa=Gb(ra);}catch(oa){throw new cb(X.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Z),oa).setEntity(ea).setEntity(aa);}if(!pa || 0 == pa.length)throw new Db(X.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Z)).setEntity(ea).setEntity(aa);try{ya=Gb(la);}catch(oa){throw new cb(X.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(Z),oa).setEntity(ea).setEntity(aa);}na=Yb(pa,Mb);try{da=JSON.parse(na);ia=da.name;ka=da.mtserialnumber?parseInt(da.mtserialnumber):-1;va=da.uitserialnumber?parseInt(da.uitserialnumber):-1;Pa=da.encrypted;Ja=da.compressionalgo;Na=da.servicedata;}catch(oa){if(oa instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"servicetokendata " + na,oa).setEntity(ea).setEntity(aa);throw oa;}if(!ia || "number" !== typeof ka || ka != ka || "number" !== typeof va || va != va || "boolean" !== typeof Pa || Ja && "string" !== typeof Ja || "string" !== typeof Na)throw new Db(X.JSON_PARSE_ERROR,"servicetokendata " + na).setEntity(ea).setEntity(aa);if(da.mtserialnumber && 0 > ka || ka > Kb)throw new cb(X.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + na).setEntity(ea).setEntity(aa);if(da.uitserialnumber && 0 > va || va > Kb)throw new cb(X.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + na).setEntity(ea).setEntity(aa);if(-1 != ka && (!ea || ka != ea.serialNumber))throw new cb(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ka + "; mt " + ea).setEntity(ea).setEntity(aa);if(-1 != va && (!aa || va != aa.serialNumber))throw new cb(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + va + "; uit " + aa).setEntity(ea).setEntity(aa);Pa=!0 === Pa;if(Ja){if(!Cc[Ja])throw new cb(X.UNIDENTIFIED_COMPRESSION,Ja);Ra=Ja;}else Ra=null;ja?ja.verify(pa,ya,{result:function(oa){Ka(ua,function(){var xa,Ca;if(oa){try{xa=Gb(Na);}catch(Fa){throw new cb(X.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + na,Fa).setEntity(ea).setEntity(aa);}if(!xa || 0 != Na.length && 0 == xa.length)throw new cb(X.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + na).setEntity(ea).setEntity(aa);if(Pa && 0 < xa.length)ja.decrypt(xa,{result:function(Fa){Ka(ua,function(){var za,Sa;za=Ra?pd(Ra,Fa):Fa;Sa=new ca(pa,ya,oa);new xc(Y,ia,za,-1 != ka?ea:null,-1 != va?aa:null,Pa,Ra,ja,Sa,ua);});},error:function(Fa){Ka(ua,function(){Fa instanceof cb && (Fa.setEntity(ea),Fa.setUser(aa));throw Fa;});}});else {xa=Ra?pd(Ra,xa):xa;Ca=new ca(pa,ya,oa);new xc(Y,ia,xa,-1 != ka?ea:null,-1 != va?aa:null,Pa,Ra,ja,Ca,ua);}}else (xa="" == Na?new Uint8Array(0):null,Ca=new ca(pa,ya,oa),new xc(Y,ia,xa,-1 != ka?ea:null,-1 != va?aa:null,Pa,Ra,ja,Ca,ua));});},error:function(oa){Ka(ua,function(){oa instanceof cb && (oa.setEntity(ea),oa.setUser(aa));throw oa;});}}):(ra="" == Na?new Uint8Array(0):null,la=new ca(pa,ya,!1),new xc(Y,ia,ra,-1 != ka?ea:null,-1 != va?aa:null,Pa,Ra,ja,la,ua));});};})();yc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(yc);(function(){Rc=Cb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ha){return this === ha?!0:ha instanceof Rc?this.scheme == ha.scheme:!1;},toJSON:function(){var ha;ha={};ha.scheme=this.scheme;ha.authdata=this.getAuthData();return ha;}});Ie=function(ha,ca,Y,Z){Ka(Z,function(){var ea,aa,ja;ea=Y.scheme;aa=Y.authdata;if(!ea || !aa)throw new Db(X.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(Y));if(!yc[ea])throw new uc(X.UNIDENTIFIED_USERAUTH_SCHEME,ea);ja=ha.getUserAuthenticationFactory(ea);if(!ja)throw new uc(X.USERAUTH_FACTORY_NOT_FOUND,ea);ja.createData(ha,ca,aa,Z);});};})();Ue=Cb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},createData:function(ha,ca,Y,Z){},authenticate:function(ha,ca,Y,Z){}});(function(){Zc=Rc.extend({init:function Z(ca,Y){Z.base.call(this,yc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ca,writable:!1,configurable:!1},secureNetflixId:{value:Y,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.netflixid=this.netflixId;this.secureNetflixId && (ca.securenetflixid=this.secureNetflixId);return ca;},equals:function Z(Y){return this === Y?!0:Y instanceof Zc?Z.base.call(this,Y) && this.netflixId == Y.netflixId && this.secureNetflixId == Y.secureNetflixId:!1;}});Ve=function(Y){var Z,ea;Z=Y.netflixid;ea=Y.securenetflixid;if(!Z)throw new Db(X.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(Y));return new Zc(Z,ea);};})();vf=Ue.extend({init:function ca(){ca.base.call(this,yc.NETFLIXID);},createData:function(ca,Y,Z,ea){Ka(ea,function(){return Ve(Z);});},authenticate:function(ca,Y,Z,ea){if(!(Z instanceof Zc))throw new wb("Incorrect authentication data type " + Z + ".");ca=Z.secureNetflixId;if(!Z.netflixId || !ca)throw new uc(X.NETFLIXID_COOKIES_BLANK).setUser(Z);throw new uc(X.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(Z);}});(function(){$c=Rc.extend({init:function ea(Y,Z){ea.base.call(this,yc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:Y,writable:!1,configurable:!1},password:{value:Z,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.email=this.email;Y.password=this.password;return Y;},equals:function ea(Z){return this === Z?!0:Z instanceof $c?ea.base.call(this,this,Z) && this.email == Z.email && this.password == Z.password:!1;}});We=function(Z){var ea,aa;ea=Z.email;aa=Z.password;if(!ea || !aa)throw new Db(X.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(Z));return new $c(ea,aa);};})();wf=Ue.extend({init:function Y(){Y.base.call(this,yc.EMAIL_PASSWORD);},createData:function(Y,Z,ea,aa){Ka(aa,function(){return We(ea);});},authenticate:function(Y,Z,ea,aa){if(!(ea instanceof $c))throw new wb("Incorrect authentication data type " + ea + ".");Y=ea.password;if(!ea.email || !Y)throw new uc(X.EMAILPASSWORD_BLANK).setUser(ea);throw new uc(X.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});Object.freeze({ENTITY_REAUTH:Da.ENTITY_REAUTH,ENTITYDATA_REAUTH:Da.ENTITYDATA_REAUTH});xf=Cb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(Y,Z){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(Y){},getUserAuthenticationFactory:function(Y){},getTokenFactory:function(){},getKeyExchangeFactory:function(Y){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Xe=Cb.Class.create({setCryptoContext:function(Y,Z){},getMasterToken:function(){},getNonReplayableId:function(Y){},getCryptoContext:function(Y){},removeCryptoContext:function(Y){},clearCryptoContexts:function(){},addUserIdToken:function(Y,Z){},getUserIdToken:function(Y){},removeUserIdToken:function(Y){},clearUserIdTokens:function(){},addServiceTokens:function(Y){},getServiceTokens:function(Y,Z){},removeServiceTokens:function(Y,Z,ea){},clearServiceTokens:function(){}});(function(){var Y;Y=Cc;Od=function(Z,ea){var aa;aa={};switch(Z){case Y.LZW:return ce(ea,aa);case Y.GZIP:return gzip$compress(ea);default:throw new cb(X.UNSUPPORTED_COMPRESSION,Z);}};pd=function(Z,ea,aa){switch(Z){case Y.LZW:return de(ea);case Y.GZIP:return gzip$uncompress(ea);default:throw new cb(X.UNSUPPORTED_COMPRESSION,Z.name());}};})();Xe.extend({setCryptoContext:function(Y,Z){},getMasterToken:function(){return null;},getNonReplayableId:function(Y){return 1;},getCryptoContext:function(Y){return null;},removeCryptoContext:function(Y){},clearCryptoContexts:function(){},addUserIdToken:function(Y,Z){},getUserIdToken:function(Y){return null;},removeUserIdToken:function(Y){},clearUserIdTokens:function(){},addServiceTokens:function(Y){},getServiceTokens:function(Y,Z){if(Z){if(!Y)throw new cb(X.USERIDTOKEN_MASTERTOKEN_NULL);if(!Z.isBoundTo(Y))throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Z.mtSerialNumber + "; mt " + Y.serialNumber);}return [];},removeServiceTokens:function(Y,Z,ea){if(ea && Z && !ea.isBoundTo(Z))throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.masterTokenSerialNumber + "; mt " + Z.serialNumber);},clearServiceTokens:function(){}});(function(){Ye=Xe.extend({init:function Z(){Z.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(Z,ea){var aa;if(ea){aa=Z.uniqueKey();this.masterTokens[aa]=Z;this.cryptoContexts[aa]=ea;}else this.removeCryptoContext(Z);},getMasterToken:function(){var Z,ea,aa;Z=null;for(ea in this.masterTokens){aa=this.masterTokens[ea];if(!Z || aa.isNewerThan(Z))Z=aa;}return Z;},getNonReplayableId:function(Z){var ea;Z=Z.serialNumber;ea=this.nonReplayableIds[Z] !== Ab?this.nonReplayableIds[Z]:0;if(0 > ea || ea > Kb)throw new wb("Non-replayable ID " + ea + " is outside the valid range.");ea=ea == Kb?0:ea + 1;return this.nonReplayableIds[Z]=ea;},getCryptoContext:function(Z){return this.cryptoContexts[Z.uniqueKey()];},removeCryptoContext:function(Z){var ea,aa,ja,ua;ea=Z.uniqueKey();if(this.masterTokens[ea]){aa=Z.serialNumber;for(ja in this.masterTokens){ua=this.masterTokens[ja];if(!ua.equals(Z) && ua.serialNumber == aa){delete this.masterTokens[ea];delete this.cryptoContexts[ea];return;}}Object.keys(this.userIdTokens).forEach(function(ra){ra=this.userIdTokens[ra];ra.isBoundTo(Z) && this.removeUserIdToken(ra);},this);try{this.removeServiceTokens(null,Z,null);}catch(ra){if(ra instanceof cb)throw new wb("Unexpected exception while removing master token bound service tokens.",ra);throw ra;}delete this.nonReplayableIds[aa];delete this.masterTokens[ea];delete this.cryptoContexts[ea];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(Z){for(var ea in Z){delete Z[ea];}},this);},addUserIdToken:function(Z,ea){var aa,ja;aa=!1;for(ja in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ja])){aa=!0;break;}}if(!aa)throw new cb(X.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ea.mtSerialNumber);this.userIdTokens[Z]=ea;},getUserIdToken:function(Z){return this.userIdTokens[Z];},removeUserIdToken:function(Z){var ea,aa,ja;ea=null;for(aa in this.masterTokens){ja=this.masterTokens[aa];if(Z.isBoundTo(ja)){ea=ja;break;}}Object.keys(this.userIdTokens).forEach(function(ua){if(this.userIdTokens[ua].equals(Z)){try{this.removeServiceTokens(null,ea,Z);}catch(ra){if(ra instanceof cb)throw new wb("Unexpected exception while removing user ID token bound service tokens.",ra);throw ra;}delete this.userIdTokens[ua];}},this);},clearUserIdTokens:function(){for(var Z in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[Z]);}},addServiceTokens:function(Z){Z.forEach(function(ea){var aa,ja;if(ea.isMasterTokenBound()){aa=!1;for(ja in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ja])){aa=!0;break;}}if(!aa)throw new cb(X.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ea.mtSerialNumber);}if(ea.isUserIdTokenBound()){aa=!1;for(var ua in this.userIdTokens){if(ea.isBoundTo(this.userIdTokens[ua])){aa=!0;break;}}if(!aa)throw new cb(X.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ea.uitSerialNumber);}},this);Z.forEach(function(ea){var aa;if(ea.isUnbound())this.unboundServiceTokens[ea.uniqueKey()]=ea;else {if(ea.isMasterTokenBound()){aa=this.mtServiceTokens[ea.mtSerialNumber];aa || (aa={});aa[ea.uniqueKey()]=ea;this.mtServiceTokens[ea.mtSerialNumber]=aa;}ea.isUserIdTokenBound() && ((aa=this.uitServiceTokens[ea.uitSerialNumber]) || (aa={}),aa[ea.uniqueKey()]=ea,this.uitServiceTokens[ea.uitSerialNumber]=aa);}},this);},getServiceTokens:function(Z,ea){var aa,ja,ua;if(ea){if(!Z)throw new cb(X.USERIDTOKEN_MASTERTOKEN_NULL);if(!ea.isBoundTo(Z))throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.mtSerialNumber + "; mt " + Z.serialNumber);}aa={};for(ja in this.unboundServiceTokens){ua=this.unboundServiceTokens[ja];aa[ua.uniqueKey()]=ua;}if(Z && (ja=this.mtServiceTokens[Z.serialNumber]))for(var ra in ja){ua=ja[ra];ua.isUserIdTokenBound() || (aa[ra]=ua);}if(ea && (ea=this.uitServiceTokens[ea.serialNumber]))for(var la in ea){ra=ea[la];ra.isBoundTo(Z) && (aa[la]=ra);}Z=[];for(var pa in aa){Z.push(aa[pa]);}return Z;},removeServiceTokens:function(Z,ea,aa){var ja,ua,ra;if(aa && ea && !aa.isBoundTo(ea))throw new cb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + ea.serialNumber);!Z || ea || aa || Object.keys(this.unboundServiceTokens).forEach(function(la){this.unboundServiceTokens[la].name == Z && delete this.unboundServiceTokens[la];},this);if(ea && !aa && (ja=this.mtServiceTokens[ea.serialNumber])){ra=Object.keys(ja);ra.forEach(function(la){var pa;pa=ja[la];Z && pa.name != Z || delete ja[la];},this);this.mtServiceTokens[ea.serialNumber]=ja;}aa && (ua=this.uitServiceTokens[aa.serialNumber]) && (ea=Object.keys(ua),ea.forEach(function(la){var pa;pa=ua[la];Z && pa.name != Z || delete ua[la];},this),this.uitServiceTokens[aa.serialNumber]=ua);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(Z){for(var ea in Z){delete Z[ea];}},this);}});})();sf.extend({init:function Z(){Z.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(Z,ea){ea && Z && Z.length && (Z=Eb(Z),this._contextMap[Z]=ea);},getCryptoContext:function(Z){return Z && Z.length?(Z=Eb(Z),this._contextMap[Z] || null):null;},removeCryptoContext:function(Z){Z && Z.length && (Z=Eb(Z),delete this._contextMap[Z]);}});kf.extend({init:function ra(ea,aa,ja,ua){ra.base.call(this,ea);Object.defineProperties(this,{_kde:{value:aa,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ja,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ea,aa){if(!(aa instanceof qc))throw new wb("Incorrect authentication data type " + JSON.stringify(aa) + ".");if(aa.identity != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"mgk " + aa.identity);return new jd(ea,this.localIdentity,this._kde,this._kdh,this._kdw);}});lf.extend({init:function la(aa,ja,ua,ra){la.base.call(this,aa);Object.defineProperties(this,{_kpe:{value:ja,writable:!1,enumerable:!1,configurable:!1},_kph:{value:ua,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(aa,ja){if(!(ja instanceof rc))throw new wb("Incorrect authentication data type " + JSON.stringify(ja) + ".");if(ja.identity != this.localIdentity)throw new kc(X.ENTITY_NOT_FOUND,"psk " + ja.identity);return new jd(aa,this.localIdentity,this._kpe,this._kph,this._kpw);}});zf=Ye.extend({init:function na(ja,ua,ra,la,pa,ya){na.base.call(this);this._log=ja;this._esn=ua;this._keyRequestData=ra;this._createKeyRequestData=la;this._systemKeyName=pa;this._systemKeyWrapFormat=ya;},setCryptoContext:function pa(ua,ra,la){var ya;ya=this;ya._log.trace("Adding MasterToken",{SequenceNumber:ua.sequenceNumber,SerialNumber:ua.serialNumber,Expiration:ua.expiration.getTime()});pa.base.call(this,ua,ra);!la && (ua=ya._createKeyRequestData) && (ya._log.trace("Generating new keyx request data"),ua().then(function(na){ya._keyRequestData=na;},function(na){ya._log.error("Unable to generate new keyx request data","" + na);}));},addUserIdToken:function pa(ra,la){this._log.trace("Adding UserIdToken",{UserId:ra,SerialNumber:la.serialNumber,MTSerialNumber:la.mtSerialNumber,Expiration:la.expiration.getTime()});pa.base.call(this,ra,la);},addServiceTokens:function pa(la){pa.base.call(this,la.filter(function(ya){return !yf[ya.name];}));},getUserIdTokenKeys:function(){var la,pa;la=[];for(pa in this.userIdTokens){la.push(pa);}return la;},rekeyUserIdToken:function(la,pa){this.userIdTokens[la] && (this.userIdTokens[pa]=this.userIdTokens[la],delete this.userIdTokens[la]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(la){var pa;pa=this;Ka(la,function(){var ya;ya=pa.getMasterToken();ya?pa.getKeysForStore(ya,{result:function(na){Ka(la,function(){var da,ia,ka;da=pa.userIdTokens;ia=Object.keys(da).map(function(va){var Pa;Pa=da[va];return {userId:va,userIdTokenJSON:da[va].toJSON(),serviceTokenJSONList:pa.getServiceTokens(ya,Pa).map(df)};});na.esn=pa._esn;na.masterTokenJSON=ya.toJSON();na.userList=ia;ka=pa._keyRequestData.storeData;ka && Object.keys(ka).forEach(function(va){na[va]=ka[va];});return na;});},timeout:la.timeout,error:la.error}):la.result(null);});},getKeysForStore:function(la,pa){var ya;ya=this;Ka(pa,function(){var na;na=ya.getCryptoContext(la);na={encryptionKey:na.encryptionKey,hmacKey:na.hmacKey};if(na.encryptionKey && na.hmacKey){if(ya._systemKeyWrapFormat)ya.wrapKeysWithSystemKey(na,pa);else return na;}else throw new cb(X.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(la,pa){var ya;ya=this;Xd(this._systemKeyName,{result:function(na){Ka(pa,function(){var da,ia,ka,va;da=la.encryptionKey;ia=la.hmacKey;ka=da[Oc];va=ia[Oc];if(ka && va)return {wrappedEncryptionKey:ka,wrappedHmacKey:va};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(ya._systemKeyWrapFormat,da,na,na.algorithm),Jb.wrapKey(ya._systemKeyWrapFormat,ia,na,na.algorithm)]);}).then(function(Pa){ka=Eb(Pa[0]);da[Oc]=ka;va=Eb(Pa[1]);ia[Oc]=va;pa.result({wrappedEncryptionKey:ka,wrappedHmacKey:va});}).catch(function(Pa){pa.error(new cb(X.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Pa));});});},timeout:pa.timeout,error:pa.error});},unwrapKeysWithSystemKey:function(la,pa){var ya;ya=this;Xd(this._systemKeyName,{result:function(na){Ka(pa,function(){var da,ia;da=Gb(la.wrappedEncryptionKey);ia=Gb(la.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(ya._systemKeyWrapFormat,da,na,na.algorithm,hc,!1,vc),Jb.unwrapKey(ya._systemKeyWrapFormat,ia,na,na.algorithm,ic,!1,Ec)]);}).then(function(ka){var va;va=ka[0];ka=ka[1];va[Oc]=la.wrappedEncryptionKey;ka[Oc]=la.wrappedHmacKey;pa.result({encryptionKey:va,hmacKey:ka});}).catch(function(ka){pa.error(new cb(X.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ka));});});},timeout:pa.timeout,error:pa.error});},loadStoreState:function(la,pa,ya,na){var ka,va;function da(Pa,Ja){var Na;try{Na=ya.userList.slice();}catch(Ra){}Na?(function oa(){var xa;xa=Na.shift();xa?nd(pa,xa.userIdTokenJSON,Pa,{result:function(Ca){try{ka.addUserIdToken(xa.userId,Ca);ia(Pa,Ca,xa.serviceTokenJSONList,{result:oa,timeout:oa,error:oa});}catch(Fa){oa();}},timeout:oa,error:oa}):Ja.result();})():Ja.result();}function ia(Pa,Ja,Na,Ra){var oa,xa;try{oa=Na.slice();}catch(Ca){}if(oa){xa=ka.getCryptoContext(Pa);(function Fa(){var za;za=oa.shift();za?od(pa,za,Pa,Ja,xa,{result:function(Sa){ka.addServiceTokens([Sa]);Fa();},timeout:function(){Fa();},error:function(){Fa();}}):Ra.result();})();}else Ra.result();}ka=this;va=ka._log;ya.esn != ka._esn?(va.error("Esn mismatch, starting fresh"),na.error()):(function(Pa){var Ra,oa,xa,Ca;function Ja(){var Fa;if(!Ra && oa && xa && Ca){Ra=!0;Fa=new fc(pa,oa,la.esn,{rawKey:xa},{rawKey:Ca});ka.setCryptoContext(oa,Fa,!0);Pa.result(oa);}}function Na(Fa,za){va.error(Fa,za && "" + za);Ra || (Ra=!0,Pa.error());}ya.masterTokenJSON?(Wc(pa,ya.masterTokenJSON,{result:function(Fa){oa=Fa;Ja();},timeout:function(){Na("Timeout parsing MasterToken");},error:function(Fa){Na("Error parsing MasterToken",Fa);}}),ka._systemKeyWrapFormat?ka.unwrapKeysWithSystemKey(ya,{result:function(Fa){xa=Fa.encryptionKey;Ca=Fa.hmacKey;Ja();},timeout:function(){Na("Timeout unwrapping keys");},error:function(Fa){Na("Error unwrapping keys",Fa);}}):Promise.resolve().then(function(){return Jb.encrypt({name:hc.name,iv:new Uint8Array(16)},ya.encryptionKey,new Uint8Array(1));}).then(function(Fa){xa=ya.encryptionKey;}).catch(function(Fa){Na("Error loading encryptionKey");}).then(function(){return Jb.sign(ic,ya.hmacKey,new Uint8Array(1));}).then(function(Fa){Ca=ya.hmacKey;Ja();}).catch(function(Fa){Na("Error loading hmacKey");})):Na("Persisted store is corrupt");})({result:function(Pa){da(Pa,na);},timeout:na.timeout,error:na.error});}});yf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Oc="$netflix$msl$wrapsys";Af=xf.extend({init:function(la,pa,ya,na,da,ia){var ka,va;ka=new Xc([Cc.LZW]);va=new nf();va.addPublicKey(pa,ya);na[Pb.RSA]=new mf(va);pa={};pa[yc.EMAIL_PASSWORD]=new wf();pa[yc.NETFLIXID]=new vf();la={_mslCryptoContext:{value:new jf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ka,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:da,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:na,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:pa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ia,writable:!1,enumerable:!1,configurable:!1},_store:{value:la,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);},getTime:function(){return Date.now();},getRandom:function(){return new he();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(la,pa){pa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(la){return this._entityAuthFactories[la];},getUserAuthenticationFactory:function(la){return this._userAuthFactories[la];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(la){return this._keyExchangeFactories.filter(function(pa){return pa.scheme == la;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Zd=Re.extend({init:function(la,pa,ya,na){this._log=la;this._mslContext=pa;this._mslRequest=ya;this._keyRequestData=na;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(la,pa,ya,na){var da;da=this._mslRequest;Ka(na,function(){return la || !da.shouldSendUserAuthData?null:da.email?new $c(da.email,da.password):da.useNetflixUserAuthData || ya && da.sendUserAuthIfRequired?new Zc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(la){la.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(la,pa,ya){var na,da,ia,ka,va,Pa;na=this._log;da=(this._mslRequest.serviceTokens || []).slice();ia=this._mslContext;pa=ia.getMslStore();ka=la.builder.getMasterToken();va=this.getUserId();Pa=pa.getUserIdToken(va);(function Na(){var Ra;Ra=da.shift();if(Ra)try{Ra instanceof xc?(la.addPrimaryServiceToken(Ra),Na()):od(ia,Ra,ka,Pa,null,{result:function(oa){try{la.addPrimaryServiceToken(oa);}catch(xa){na.warn("Exception adding service token","" + xa);}Na();},timeout:function(){na.warn("Timeout parsing service token");Na();},error:function(oa){na.warn("Error parsing service token","" + oa);Na();}});}catch(oa){na.warn("Exception processing service token","" + oa);Na();}else ya.result(!0);})();},write:function(la,pa,ya){var na;na=Zb(this._mslRequest.body);la.write(na,0,na.length,pa,{result:function(da){da != na.length?ya.error(new Rb("Not all data was written to output.")):la.flush(pa,{result:function(){ya.result(!0);},timeout:function(){ya.timeout();},error:function(ia){ya.error(ia);}});},timeout:function(){ya.timeout();},error:function(da){ya.error(da);}});},getDebugContext:function(){this._dc || (this._dc=new Bf(this._log,this._mslRequest));return this._dc;}});Bf=uf.extend({init:function(la,pa){this._log=la;this._mslRequest=pa;},sentHeader:function(la){this._log.trace("Sent MSL header",Yd(this._mslRequest,la),la.serviceTokens && la.serviceTokens.map(ef).join("\n"));},receivedHeader:function(la){var pa,ya;pa=Yd(this._mslRequest,la);ya=la.errorCode;ya?this._log.warn("Received MSL error header",pa,{errorCode:ya,errorMessage:la.errorMessage,internalCode:la.internalCode}):this._log.trace("Received MSL header",pa);}});Cf={JWK_RSA:function(la){return gf(la,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},we.JWK_RSA);}};nb.netflix=nb.netflix || ({});nb.netflix.msl={createMslClient:function(la,pa){var ya,na,da,ia,ka;ya=la.log;ka=la.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Ob && Ob.generateKey && Ob.importKey && Ob.unwrapKey))throw new cb(X.INTERNAL_EXCEPTION,"No WebCrypto");Wb=Ob.generateKey({name:"AES-CBC",length:128},!0,vc).then?ed.V2014_02:ed.LEGACY;ka("mslisik");return Jb.importKey("spki",la.serverIdentityKeyData,ie,!1,["verify"]);}).then(function(va){return new Promise(function(Pa,Ja){Bc(va,{result:Pa,error:function(){Ja(new cb(X.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(va){na=va;if(va=Cf.JWK_RSA)return (ka("mslcc"),va(la));throw new cb(X.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(va){var Pa;da=new zf(ya,la.esn,va.keyRequestData,va.createKeyRequestData,la.authenticationKeyNames.s,la.systemKeyWrapFormat);ia=new Af(da,la.serverIdentityId,na,va.entityAuthFactories,va.entityAuthData,va.keyExchangeFactories);Pa=la.storeState;if(Pa)return (ka("mslss"),ya.info("Loading store state"),new Promise(function(Ja,Na){da.loadStoreState(la,ia,Pa,{result:Ja,timeout:Ja,error:Ja});}));ya.info("No store state, starting fresh");}).then(function(){var va;va=new Se();ka("msldone");pa.result(new ff(ya,va,ia,da,la.ErrorSubCodes));}).catch(function(va){pa.error(va);});},IHttpLocation:qf,MslIoException:Rb};(function(){var Za,Ua,hb,lb,ob,pb,qb,zb,yb;function la(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function pa(r,b){var a,m;if(b)a:{a=Ua;r=r.split(".");for(var c=0;c < r.length - 1;c++){m=r[c];if(!((m in a)))break a;a=a[m];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && Za(a,r,{configurable:!0,writable:!0,value:b});}}function ya(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function na(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:la(r)};}function da(r){for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}return a;}function ia(r){return r instanceof Array?r:da(na(r));}function ka(r,b){var c;r.prototype=hb(b.prototype);r.prototype.constructor=r;if(zb)zb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.Uqc=b.prototype;}function va(){this.LY=!1;this.rG=null;this.Jfa=void 0;this.yF=1;this.n3a=this.vFb=0;this.qV=null;}function Pa(r){if(r.LY)throw new TypeError("Generator is already running");r.LY=!0;}function Ja(r,b){r.yF=2;return {value:b};}function Na(r){this.Vf=new va();this.l6b=r;}function Ra(r,b){var a;Pa(r.Vf);a=r.Vf.rG;if(a)return oa(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.Vf.return);r.Vf.return(b);return xa(r);}function oa(r,b,a,c){var m,k;try{m=b.call(r.Vf.rG,a);if(!(m instanceof Object))throw new TypeError("Iterator result " + m + " is not an object");if(!m.done)return (r.Vf.LY=!1,m);k=m.value;}catch(l){return (r.Vf.rG=null,r.Vf.X0(l),xa(r));}r.Vf.rG=null;c.call(r.Vf,k);return xa(r);}function xa(r){var b;for(;r.Vf.yF;){try{b=r.l6b(r.Vf);if(b)return (r.Vf.LY=!1,{value:b.value,done:!1});}catch(a){r.Vf.Jfa=void 0;r.Vf.X0(a);}}r.Vf.LY=!1;if(r.Vf.qV){b=r.Vf.qV;r.Vf.qV=null;if(b.iXb)throw b.TO;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Ca(r){this.next=function(b){return r.HZ(b);};this.throw=function(b){return r.X0(b);};this.return=function(b){return Ra(r,b);};this[Symbol.iterator]=function(){return this;};}function Fa(r,b){b=new Ca(new Na(b));zb && r.prototype && zb(b,r.prototype);return b;}function za(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Sa(r,b){var a,c,m;r instanceof String && (r+="");a=0;c=!1;m={next:function(){var k;if(!c && a < r.length){k=a++;return {value:b(k,r[k]),done:!1};}c=!0;return {done:!0,value:void 0};}};m[Symbol.iterator]=function(){return m;};return m;}function Ea(r,b,a){var k;r instanceof String && (r=String(r));for(var c=r.length,m=0;m < c;m++){k=r[m];if(b.call(a,k,m,r))return {tua:m,ez:k};}return {tua:-1,ez:void 0};}function Va(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}Za="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Ua=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof nb && nb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);pa("Symbol",function(r){var c;function b(m){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (m || "") + "_" + c++,m);}function a(m,k){this.Emb=m;Za(this,"description",{configurable:!0,writable:!0,value:k});}if(r)return r;a.prototype.toString=function(){return this.Emb;};c=0;return b;});pa("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Ua[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && Za(c.prototype,r,{configurable:!0,writable:!0,value:function(){return ya(la(this));}});}return r;});hb="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};lb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,m){a=b(a,c);m && Reflect.setPrototypeOf(a,m.prototype);return a;};}return function(a,c,m){void 0 === m && (m=a);m=hb(m.prototype || Object.prototype);return Function.prototype.apply.call(a,m,c) || m;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{pb={a:!0};qb={};try{qb.__proto__=pb;ob=qb.a;break a;}catch(r){}ob=!1;}ob=ob?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}zb=ob;va.prototype.HZ=function(r){this.Jfa=r;};va.prototype.X0=function(r){this.qV={TO:r,iXb:!0};this.yF=this.vFb || this.n3a;};va.prototype.return=function(r){this.qV={return:r};this.yF=this.n3a;};Na.prototype.HZ=function(r){Pa(this.Vf);if(this.Vf.rG)return oa(this,this.Vf.rG.next,r,this.Vf.HZ);this.Vf.HZ(r);return xa(this);};Na.prototype.X0=function(r){Pa(this.Vf);if(this.Vf.rG)return oa(this,this.Vf.rG["throw"],r,this.Vf.HZ);this.Vf.X0(r);return xa(this);};pa("Reflect",function(r){return r?r:{};});pa("Reflect.construct",function(){return lb;});pa("Reflect.setPrototypeOf",function(r){return r?r:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});pa("Object.setPrototypeOf",function(r){return r || zb;});yb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var m in c){za(c,m) && (r[m]=c[m]);}}return r;};pa("Object.assign",function(r){return r || yb;});pa("Promise",function(r){var m,k;function b(l){var d;this.NR=0;this.g0=void 0;this.DQ=[];this.c9a=!1;d=this.Mpa();try{l(d.resolve,d.reject);}catch(f){d.reject(f);}}function a(){this.ZD=null;}function c(l){return l instanceof b?l:new b(function(d){d(l);});}if(r)return r;a.prototype.iYa=function(l){var d;if(null == this.ZD){this.ZD=[];d=this;this.jYa(function(){d.gOb();});}this.ZD.push(l);};m=Ua.setTimeout;a.prototype.jYa=function(l){m(l,0);};a.prototype.gOb=function(){var l,f;for(;this.ZD && this.ZD.length;){l=this.ZD;this.ZD=[];for(var d=0;d < l.length;++d){f=l[d];l[d]=null;try{f();}catch(h){this.kDb(h);}}}this.ZD=null;};a.prototype.kDb=function(l){this.jYa(function(){throw l;});};b.prototype.Mpa=function(){var d,f;function l(h){return function(g){f || (f=!0,h.call(d,g));};}d=this;f=!1;return {resolve:l(this.H8b),reject:l(this.Xza)};};b.prototype.H8b=function(l){var d;if(l === this)this.Xza(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof b)this.O$b(l);else {a:switch(typeof l){case "object":d=null != l;break a;case "function":d=!0;break a;default:d=!1;}d?this.G8b(l):this.g4a(l);}};b.prototype.G8b=function(l){var d;d=void 0;try{d=l.then;}catch(f){this.Xza(f);return;}"function" == typeof d?this.P$b(d,l):this.g4a(l);};b.prototype.Xza=function(l){this.Vhb(2,l);};b.prototype.g4a=function(l){this.Vhb(1,l);};b.prototype.Vhb=function(l,d){if(0 != this.NR)throw Error("Cannot settle(" + l + ", " + d + "): Promise already settled in state" + this.NR);this.NR=l;this.g0=d;2 === this.NR && this.q9b();this.hOb();};b.prototype.q9b=function(){var l;l=this;m(function(){var d;if(l.I1b()){d=Ua.console;"undefined" !== typeof d && d.error(l.g0);}},1);};b.prototype.I1b=function(){var l,d,f;if(this.c9a)return !1;l=Ua.CustomEvent;d=Ua.Event;f=Ua.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof l?l=new l("unhandledrejection",{cancelable:!0}):"function" === typeof d?l=new d("unhandledrejection",{cancelable:!0}):(l=Ua.document.createEvent("CustomEvent"),l.initCustomEvent("unhandledrejection",!1,!0,l));l.promise=this;l.reason=this.g0;return f(l);};b.prototype.hOb=function(){if(null != this.DQ){for(var l=0;l < this.DQ.length;++l){k.iYa(this.DQ[l]);}this.DQ=null;}};k=new a();b.prototype.O$b=function(l){var d;d=this.Mpa();l.E7(d.resolve,d.reject);};b.prototype.P$b=function(l,d){var f;f=this.Mpa();try{l.call(d,f.resolve,f.reject);}catch(h){f.reject(h);}};b.prototype.then=function(l,d){var h,g,n;function f(p,q){return "function" == typeof p?function(t){try{h(p(t));}catch(v){g(v);}}:q;}n=new b(function(p,q){h=p;g=q;});this.E7(f(l,h),f(d,g));return n;};b.prototype.catch=function(l){return this.then(void 0,l);};b.prototype.E7=function(l,d){var h;function f(){switch(h.NR){case 1:l(h.g0);break;case 2:d(h.g0);break;default:throw Error("Unexpected state: " + h.NR);}}h=this;null == this.DQ?k.iYa(f):this.DQ.push(f);this.c9a=!0;};b.resolve=c;b.reject=function(l){return new b(function(d,f){f(l);});};b.race=function(l){return new b(function(d,f){for(var h=na(l),g=h.next();!g.done;g=h.next()){c(g.value).E7(d,f);}});};b.all=function(l){var d,f;d=na(l);f=d.next();return f.done?c([]):new b(function(h,g){var p,q;function n(t){return function(v){p[t]=v;q--;0 == q && h(p);};}p=[];q=0;do {p.push(void 0);q++;c(f.value).E7(n(p.length - 1),g);f=d.next();}while(!f.done);});};return b;});pa("Array.prototype.keys",function(r){return r?r:function(){return Sa(this,function(b){return b;});};});pa("Array.prototype.find",function(r){return r?r:function(b,a){return Ea(this,b,a).ez;};});pa("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});pa("Array.prototype.includes",function(r){return r?r:function(b,a){var c,m,k;c=this;c instanceof String && (c=String(c));m=c.length;a=a || 0;for(0 > a && (a=Math.max(a + m,0));a < m;a++){k=c[a];if(k === b || Object.is(k,b))return !0;}return !1;};});pa("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Va(this,b,"includes").indexOf(b,a || 0);};});pa("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});pa("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});pa("WeakMap",function(r){var l,d;function b(f){this.sY=(d+=Math.random() + 1).toString();if(f){f=na(f);for(var h;!(h=f.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(f){var h;h=typeof f;return "object" === h && null !== f || "function" === h;}function m(f){var h;if(!za(f,l)){h=new a();Za(f,l,{value:h});}}function k(f){var h;h=Object[f];h && (Object[f]=function(g){if(g instanceof a)return g;Object.isExtensible(g) && m(g);return h(g);});}if((function(){var f,h,g;if(!r || !Object.seal)return !1;try{f=Object.seal({});h=Object.seal({});g=new r([[f,2],[h,3]]);if(2 != g.get(f) || 3 != g.get(h))return !1;g.delete(f);g.set(h,4);return !g.has(f) && 4 == g.get(h);}catch(n){return !1;}})())return r;l="$jscomp_hidden_" + Math.random();k("freeze");k("preventExtensions");k("seal");d=0;b.prototype.set=function(f,h){if(!c(f))throw Error("Invalid WeakMap key");m(f);if(!za(f,l))throw Error("WeakMap key fail: " + f);f[l][this.sY]=h;return this;};b.prototype.get=function(f){return c(f) && za(f,l)?f[l][this.sY]:void 0;};b.prototype.has=function(f){return c(f) && za(f,l) && za(f[l],this.sY);};b.prototype.delete=function(f){return c(f) && za(f,l) && za(f[l],this.sY)?delete f[l][this.sY]:!1;};return b;});pa("Map",function(r){var k,l;function b(){var d;d={};return d.yq=d.next=d.head=d;}function a(d,f){var h;h=d.vB;return ya(function(){if(h){for(;h.head != d.vB;){h=h.yq;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:f(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,f){var h,g,n;h=f && typeof f;"object" == h || "function" == h?k.has(f)?h=k.get(f):(h="" + ++l,k.set(f,h)):h="p_" + f;g=d.WA[h];if(g && za(d.WA,h))for(d=0;d < g.length;d++){n=g[d];if(f !== f && n.key !== n.key || f === n.key)return {id:h,list:g,index:d,entry:n};}return {id:h,list:g,index:-1,entry:void 0};}function m(d){this.WA={};this.vB=b();this.size=0;if(d){d=na(d);for(var f;!(f=d.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var d,f,h,g;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});f=new r(na([[d,"s"]]));if("s" != f.get(d) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;h=f.entries();g=h.next();if(g.done || g.value[0] != d || "s" != g.value[1])return !1;g=h.next();return g.done || 4 != g.value[0].x || "t" != g.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return r;k=new WeakMap();m.prototype.set=function(d,f){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.WA[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.vB,yq:this.vB.yq,head:this.vB,key:d,value:f},h.list.push(h.entry),this.vB.yq.next=h.entry,this.vB.yq=h.entry,this.size++);return this;};m.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.WA[d.id],d.entry.yq.next=d.entry.next,d.entry.next.yq=d.entry.yq,d.entry.head=null,this.size--,!0):!1;};m.prototype.clear=function(){this.WA={};this.vB=this.vB.yq=b();this.size=0;};m.prototype.has=function(d){return ! !c(this,d).entry;};m.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};m.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};m.prototype.keys=function(){return a(this,function(d){return d.key;});};m.prototype.values=function(){return a(this,function(d){return d.value;});};m.prototype.forEach=function(d,f){for(var h=this.entries(),g;!(g=h.next()).done;){g=g.value;d.call(f,g[1],g[0],this);}};m.prototype[Symbol.iterator]=m.prototype.entries;l=0;return m;});pa("Set",function(r){function b(a){this.qy=new Map();if(a){a=na(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.qy.size;}if((function(){var a,c,m,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(na([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;m=c.entries();k=m.next();if(k.done || k.value[0] != a || k.value[1] != a)return !1;k=m.next();return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0]?!1:m.next().done;}catch(l){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.qy.set(a,a);this.size=this.qy.size;return this;};b.prototype.delete=function(a){a=this.qy.delete(a);this.size=this.qy.size;return a;};b.prototype.clear=function(){this.qy.clear();this.size=0;};b.prototype.has=function(a){return this.qy.has(a);};b.prototype.entries=function(){return this.qy.entries();};b.prototype.values=function(){return this.qy.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var m;m=this;this.qy.forEach(function(k){return a.call(c,k,k,m);});};return b;});pa("Array.prototype.entries",function(r){return r?r:function(){return Sa(this,function(b,a){return [b,a];});};});pa("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){za(b,c) && a.push([c,b[c]]);}return a;};});pa("Object.getOwnPropertySymbols",function(r){return r?r:function(){return [];};});pa("Reflect.apply",function(r){var b;if(r)return r;b=Function.prototype.apply;return function(a,c,m){return b.call(a,c,m);};});pa("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});pa("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Va(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var m=b.length;0 < m && 0 < a;){if(c[--a] != b[--m])return !1;}return 0 >= m;};});pa("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Va(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});pa("Array.prototype.values",function(r){return r?r:function(){return Sa(this,function(b,a){return a;});};});pa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});pa("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Ea(this,b,a).tua;};});pa("Array.from",function(r){return r?r:function(b,a,c){var m,k;a=null != a?a:function(d){return d;};m=[];k="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof k){b=k.call(b);for(var l=0;!(k=b.next()).done;){m.push(a.call(c,k.value,l++));}}else for((k=b.length,l=0);l < k;l++){m.push(a.call(c,b[l],l));}return m;};});pa("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){za(b,c) && a.push(b[c]);}return a;};});pa("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,m,k;c=Va(this,b,"startsWith");b+="";m=c.length;k=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var l=0;l < k && a < m;){if(c[a++] != b[l++])return !1;}return l >= k;};});pa("Promise.prototype.finally",function(r){return r?r:function(b){return this.then(function(a){return Promise.resolve(b()).then(function(){return a;});},function(a){return Promise.resolve(b()).then(function(){throw a;});});};});pa("String.fromCodePoint",function(r){return r?r:function(b){var m;for(var a="",c=0;c < arguments.length;c++){m=Number(arguments[c]);if(0 > m || 1114111 < m || m !== Math.floor(m))throw new RangeError("invalid_code_point " + m);65535 >= m?a+=String.fromCharCode(m):(m-=65536,a+=String.fromCharCode(m >>> 10 & 1023 | 55296),a+=String.fromCharCode(m & 1023 | 56320));}return a;};});pa("Number.parseInt",function(r){return r || parseInt;});(function(r){var a;function b(c){var m;if(a[c])return a[c].exports;m=a[c]={tua:c,sYb:!1,exports:{}};r[c].call(m.exports,m,m.exports,b);m.sYb=!0;return m.exports;}a={};b.Noc=r;b.c=a;b.d=function(c,m,k){b.S1b(c,m) || Object.defineProperty(c,m,{enumerable:!0,get:k});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,m){var k;m & 1 && (c=b(c));if(m & 8 || m & 4 && "object" === typeof c && c && c.__esModule)return c;k=Object.create(null);b.r(k);Object.defineProperty(k,"default",{enumerable:!0,value:c});if(m & 2 && "string" != typeof c)for(var l in c){b.d(k,l,(function(d){return c[d];}).bind(null,l));}return k;};b.n=function(c){var m;m=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(m,"a",m);return m;};b.S1b=function(c,m){return Object.prototype.hasOwnProperty.call(c,m);};b.p="";return b(b.Z8b=588);})([function(r,b,a){var H,L;function c(){c=Object.assign || (function(K){for(var I,R=1,O=arguments.length;R < O;R++){I=arguments[R];for(var J in I){Object.prototype.hasOwnProperty.call(I,J) && (K[J]=I[J]);}}return K;});return c.apply(this,arguments);}function m(K,I){m=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(R,O){R.__proto__=O;}) || (function(R,O){for(var J in O){Object.prototype.hasOwnProperty.call(O,J) && (R[J]=O[J]);}});return m(K,I);}function k(K,I){function R(){this.constructor=K;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");m(K,I);K.prototype=null === I?Object.create(I):(R.prototype=I.prototype,new R());}function l(K,I){var R,O,J;R={};for(O in K){Object.prototype.hasOwnProperty.call(K,O) && 0 > I.indexOf(O) && (R[O]=K[O]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){J=0;for(O=Object.getOwnPropertySymbols(K);J < O.length;J++){0 > I.indexOf(O[J]) && Object.prototype.propertyIsEnumerable.call(K,O[J]) && (R[O[J]]=K[O[J]]);}}return R;}function d(K,I,R,O){var J,M,P;J=arguments.length;M=3 > J?I:null === O?O=Object.getOwnPropertyDescriptor(I,R):O;if("object" === typeof Reflect && "function" === typeof Reflect.Zp)M=Reflect.Zp(K,I,R,O);else for(var S=K.length - 1;0 <= S;S--){if(P=K[S])M=(3 > J?P(M):3 < J?P(I,R,M):P(I,R)) || M;}return (3 < J && M && Object.defineProperty(I,R,M),M);}function f(K,I){return function(R,O){I(R,O,K);};}function h(K,I){if("object" === typeof Reflect && "function" === typeof Reflect.Bc)return Reflect.Bc(K,I);}function g(K,I,R,O){function J(M){return M instanceof R?M:new R(function(P){P(M);});}return new (R || (R=Promise))(function(M,P){function S(W){try{U(O.next(W));}catch(fa){P(fa);}}function T(W){try{U(O["throw"](W));}catch(fa){P(fa);}}function U(W){W.done?M(W.value):J(W.value).then(S,T);}U((O=O.apply(K,I || [])).next());});}function n(K,I){var J,M,P,S,T;function R(U){return function(W){return O([U,W]);};}function O(U){if(M)throw new TypeError("Generator is already executing.");for(;J;){try{if((M=1,P && (S=U[0] & 2?P["return"]:U[0]?P["throw"] || ((S=P["return"]) && S.call(P),0):P.next) && !(S=S.call(P,U[1])).done))return S;if((P=0,S))U=[U[0] & 2,S.value];switch(U[0]){case 0:case 1:S=U;break;case 4:return (J.label++,{value:U[1],done:!1});case 5:J.label++;P=U[1];U=[0];continue;case 7:U=J.Xk.pop();J.Dh.pop();continue;default:if(!(S=J.Dh,S=0 < S.length && S[S.length - 1]) && (6 === U[0] || 2 === U[0])){J=0;continue;}if(3 === U[0] && (!S || U[1] > S[0] && U[1] < S[3]))J.label=U[1];else if(6 === U[0] && J.label < S[1])(J.label=S[1],S=U);else if(S && J.label < S[2])(J.label=S[2],J.Xk.push(U));else {S[2] && J.Xk.pop();J.Dh.pop();continue;}}U=I.call(K,J);}catch(W){U=[6,W];P=0;}finally{M=S=0;}}if(U[0] & 5)throw U[1];return {value:U[0]?U[1]:void 0,done:!0};}J={label:0,ob:function(){if(S[0] & 1)throw S[1];return S[1];},Dh:[],Xk:[]};return (T={next:R(0),"throw":R(1),"return":R(2)},"function" === typeof Symbol && (T[Symbol.iterator]=function(){return this;}),T);}function p(K,I){for(var R in K){"default" === R || Object.prototype.hasOwnProperty.call(I,R) || H(I,K,R);}}function q(K){var I,R,O;I="function" === typeof Symbol && Symbol.iterator;R=I && K[I];O=0;if(R)return R.call(K);if(K && "number" === typeof K.length)return {next:function(){K && O >= K.length && (K=void 0);return {value:K && K[O++],done:!K};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(K,I){var R,O,J;R="function" === typeof Symbol && K[Symbol.iterator];if(!R)return K;K=R.call(K);J=[];try{for(;(void 0 === I || 0 < I--) && !(O=K.next()).done;){J.push(O.value);}}catch(P){var M;M={error:P};}finally{try{O && !O.done && (R=K["return"]) && R.call(K);}finally{if(M)throw M.error;}}return J;}function v(){for(var K=[],I=0;I < arguments.length;I++){K=K.concat(t(arguments[I]));}return K;}function u(){var O;for(var K=0,I=0,R=arguments.length;I < R;I++){K+=arguments[I].length;}K=Array(K);O=0;for(I=0;I < R;I++){for(var J=arguments[I],M=0,P=J.length;M < P;(M++,O++)){K[O]=J[M];}}return K;}function w(K,I,R){if(R || 2 === arguments.length)for(var O=0,J=I.length,M;O < J;O++){!M && (O in I) || (M || (M=Array.prototype.slice.call(I,0,O)),M[O]=I[O]);}return K.concat(M || Array.prototype.slice.call(I));}function x(K){return this instanceof x?(this.ez=K,this):new x(K);}function y(K,I,R){var T,U,W;function O(fa){T[fa] && (U[fa]=function(sa){return new Promise(function(wa,Ba){1 < W.push([fa,sa,wa,Ba]) || J(fa,sa);});});}function J(fa,sa){var wa;try{wa=T[fa](sa);wa.value instanceof x?Promise.resolve(wa.value.ez).then(M,P):S(W[0][2],wa);}catch(Ba){S(W[0][3],Ba);}}function M(fa){J("next",fa);}function P(fa){J("throw",fa);}function S(fa,sa){(fa(sa),W.shift(),W.length) && J(W[0][0],W[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");T=R.apply(K,I || []);W=[];return (U={},O("next"),O("throw"),O("return"),U[Symbol.asyncIterator]=function(){return this;},U);}function z(K){var R,O;function I(J,M){R[J]=K[J]?function(P){return (O=!O)?{value:x(K[J](P)),done:"return" === J}:M?M(P):P;}:M;}return (R={},I("next"),I("throw",function(J){throw J;}),I("return"),R[Symbol.iterator]=function(){return this;},R);}function A(K){var O,J;function I(M){J[M]=K[M] && (function(P){return new Promise(function(S,T){P=K[M](P);R(S,T,P.done,P.value);});});}function R(M,P,S,T){Promise.resolve(T).then(function(U){M({value:U,done:S});},P);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");O=K[Symbol.asyncIterator];return O?O.call(K):(K="function" === typeof q?q(K):K[Symbol.iterator](),J={},I("next"),I("throw"),I("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function B(K,I){Object.defineProperty?Object.defineProperty(K,"raw",{value:I}):K.raw=I;return K;}function C(K){var I;if(K && K.__esModule)return K;I={};if(null != K)for(var R in K){"default" !== R && Object.prototype.hasOwnProperty.call(K,R) && H(I,K,R);}L(I,K);return I;}function D(K){return K && K.__esModule?K:{default:K};}function F(K,I,R,O){if("a" === R && !O)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?K !== I || !O:!I.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === R?O:"a" === R?O.call(K):O?O.value:I.get(K);}function G(K,I,R,O,J){if("m" === O)throw new TypeError("Private method is not writable");if("a" === O && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?K !== I || !J:!I.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === O?J.call(K,R):J?J.value=R:I.set(K,R),R);}function E(K,I){if(null === I || "object" !== typeof I && "function" !== typeof I)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof K?I === K:K.has(I);}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return g;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return H;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return v;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__spreadArray",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});a.d(b,"__classPrivateFieldIn",function(){return E;});H=Object.create?function(K,I,R,O){var J;void 0 === O && (O=R);J=Object.getOwnPropertyDescriptor(I,R);if(!J || (("get" in J)?!I.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return I[R];}};Object.defineProperty(K,O,J);}:function(K,I,R,O){void 0 === O && (O=R);K[O]=I[R];};L=Object.create?function(K,I){Object.defineProperty(K,"default",{enumerable:!0,value:I});}:function(K,I){K["default"]=I;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(41);b.Pic=r;r=a(636);b.l2=r.l2;r=a(77);b.uu=r.uu;b.qk=r.qk;b.Oz=r.Oz;r=a(652);b.kFa=r.kFa;b.xd=r.xd;r=a(653);b.Y=r.Y;r=a(654);b.xjb=r.xjb;r=a(655);b.Bbb=r.Bbb;r=a(325);b.l=r.l;b.Rha=r.Rha;r=a(656);b.optional=r.optional;r=a(657);b.pp=r.pp;r=a(658);b.VJ=r.VJ;r=a(659);b.U0=r.U0;r=a(660);b.ceb=r.ceb;r=a(323);b.ria=r.ria;r=a(107);b.id=r.id;r=a(92);b.Zp=r.Zp;r=a(328);b.skb=r.skb;b.yjb=r.yjb;b.Cbb=r.Cbb;b.Bkb=r.Bkb;r=a(140);b.nP=r.nP;a=a(661);b.xbb=a.xbb;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(0);m=a(124);k=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);return d;})(Error);b.assert=function(l,d){var f;if(!l){f=new k(d || "Assertion failed");m.Gm.G.error("Assertion failed",{value:l,message:d,stack:f.stack});throw f;}};},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.yz=b.zIa=b.yIa=b.gha=b.xIa=b.fha=b.Q3=b.D3=b.wIa=b.T=b.W=void 0;(function(m){m[m.ho=7001]="UNKNOWN";m[m.HSa=7002]="UNHANDLED_EXCEPTION";m[m.frb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";m[m.Dqb=7004]="HLS_NOT_SUPPORTED";m[m.Dha=7010]="INIT_ASYNCCOMPONENT";m[m.jrb=7011]="INIT_HTTP";m[m.drb=7014]="INIT_BADMOVIEID";m[m.pKa=7020]="INIT_PLAYBACK_LOCK";m[m.qKa=7022]="INIT_SESSION_LOCK";m[m.krb=7029]="INIT_POSTAUTHORIZE";m[m.oKa=7031]="INIT_HEADER_MEDIA";m[m.lrb=7034]="INIT_TIMEDTEXT_TRACK";m[m.Nmb=7037]="ASE_SESSION_ERROR";m[m.Mmb=7038]="ASE_SEEK_THREW";m[m.Omb=7039]="ASE_SKIPPED_THREW";m[m.grb=7041]="INIT_CORE_OBJECTS1";m[m.hrb=7042]="INIT_CORE_OBJECTS2";m[m.irb=7043]="INIT_CORE_OBJECTS3";m[m.iKa=7053]="INIT_COMPONENT_STORAGE";m[m.jKa=7054]="INIT_COMPONENT_STORAGELOCK";m[m.fKa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";m[m.Eha=7059]="INIT_COMPONENT_DEVICE";m[m.gKa=7063]="INIT_COMPONENT_MSL";m[m.eKa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";m[m.dD=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";m[m.nKa=7083]="INIT_COMPONENT_WEBCRYPTO";m[m.dKa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";m[m.bKa=7088]="INIT_COMPONENT_BATTERY_MANAGER";m[m.aKa=7089]="INIT_COMPONENT_ASE";m[m.PL=7091]="INIT_COMPONENT_DRM_CACHE";m[m.erb=7092]="INIT_COMPONENT_DRM";m[m.cKa=7094]="INIT_COMPONENT_FTL";m[m.hKa=7095]="INIT_COMPONENT_PREPARE_MODEL";m[m.kKa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";m[m.lKa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";m[m.mKa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";m[m.UL=7111]="MANIFEST";m[m.ILa=7117]="MANIFEST_VERIFY";m[m.rub=7120]="START";m[m.RL=7121]="LICENSE";m[m.xja=7122]="RELEASE";m[m.uub=7123]="STOP";m[m.Nha=7125]="KEEPALIVE";m[m.htb=7131]="PING";m[m.hqb=7134]="ENGAGE";m[m.Jrb=7137]="LOGBLOB";m[m.Qjc=7138]="PAUSE";m[m.gkc=7139]="RESUME";m[m.TQa=7140]="SPLICE";m[m.snb=7142]="BIND";m[m.tnb=7144]="BIND_DEVICE";m[m.xqb=7145]="GENERATE_SCREENSHOTS";m[m.fEa=7146]="AD_EVENT";m[m.ltb=7202]="PLAY_INIT_EXCEPTION";m[m.Kia=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";m[m.rtb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";m[m.KNa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";m[m.stb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";m[m.Lia=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";m[m.qtb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";m[m.ONa=7351]="PLAY_MSE_NOTSUPPORTED";m[m.JNa=7353]="PLAY_MSE_DECODER_TIMEOUT";m[m.Mia=7355]="PLAY_MSE_SOURCEADD";m[m.INa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";m[m.JT=7357]="PLAY_MSE_GENERATEKEYREQUEST";m[m.NNa=7361]="PLAY_MSE_EVENT_ERROR";m[m.cM=7362]="PLAY_MSE_SETMEDIAKEYS";m[m.Bs=7363]="PLAY_MSE_EVENT_KEYERROR";m[m.utb=7364]="PLAY_MSE_EME_SESSION_CLOSE";m[m.vtb=7365]="PLAY_MSE_GETCURRENTTIME";m[m.wtb=7367]="PLAY_MSE_SETCURRENTTIME";m[m.xtb=7371]="PLAY_MSE_SOURCEAPPEND";m[m.Btb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";m[m.Atb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";m[m.ztb=7377]="PLAY_MSE_UNEXPECTED_REWIND";m[m.ytb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";m[m.PNa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";m[m.mtb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";m[m.ntb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";m[m.otb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";m[m.LNa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";m[m.ttb=7395]="PLAY_MSE_EME_MISSING_PSSH";m[m.MNa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";m[m.ptb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";m[m.d4=7399]="PLAY_MSE_SET_LICENSE_ERROR";m[m.hIa=7400]="EXTERNAL";m[m.c4=7500]="PAUSE_TIMEOUT";m[m.F3=7502]="INACTIVITY_TIMEOUT";m[m.Xmb=7510]="AUTHORIZATION_EXPIRED";m[m.Zpb=7700]="EME_INVALID_KEYSYSTEM";m[m.UHa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";m[m.aT=7702]="EME_CREATE_MEDIAKEYS_FAILED";m[m.F2=7703]="EME_GENERATEREQUEST_FAILED";m[m.aIa=7704]="EME_UPDATE_FAILED";m[m.ZHa=7705]="EME_KEYSESSION_ERROR";m[m.YHa=7706]="EME_KEYMESSAGE_EMPTY";m[m.cqb=7707]="EME_REMOVE_FAILED";m[m.aqb=7708]="EME_LOAD_FAILED";m[m.Vpb=7709]="EME_CREATE_SESSION_FAILED";m[m.bha=7710]="EME_LDL_RENEWAL_ERROR";m[m.WHa=7711]="EME_INVALID_INITDATA_DATA";m[m.XHa=7712]="EME_INVALID_LICENSE_DATA";m[m.$pb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";m[m.THa=7716]="EME_CLOSE_FAILED";m[m.cha=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";m[m.eqb=7718]="EME_SET_SERVER_CERTIFICATE";m[m.itb=7800]="PLAYDATA_STORE_FAILURE";m[m.GS=7900]="BRANCH_PLAY_FAILURE";m[m.HS=7901]="BRANCH_QUEUE_FAILURE";m[m.uFa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";m[m.Anb=7903]="BRANCH_CHOICE_MAP_MISSING";m[m.Vsb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.W || (b.W={}));(function(m){m[m.ho=1001]="UNKNOWN";m[m.Im=1003]="EXCEPTION";m[m.orb=1004]="INVALID_DI";m[m.Rmb=1011]="ASYNCLOAD_EXCEPTION";m[m.Smb=1013]="ASYNCLOAD_TIMEOUT";m[m.rgc=1015]="ASYNCLOAD_BADCONFIG";m[m.Pmb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";m[m.Qmb=1017]="ASYNCLOAD_COMPONENT_MISSING";m[m.lT=1101]="HTTP_UNKNOWN";m[m.Aha=1102]="HTTP_XHR";m[m.iT=1103]="HTTP_PROTOCOL";m[m.hT=1104]="HTTP_OFFLINE";m[m.kT=1105]="HTTP_TIMEOUT";m[m.EG=1106]="HTTP_READTIMEOUT";m[m.bD=1107]="HTTP_ABORT";m[m.BJa=1108]="HTTP_PARSE";m[m.xJa=1110]="HTTP_BAD_URL";m[m.jT=1111]="HTTP_PROXY";m[m.jia=1203]="MSE_AUDIO";m[m.kia=1204]="MSE_VIDEO";m[m.Yrb=1250]="MSE_MEDIA_ERR_BASE";m[m.Ric=1251]="MSE_MEDIA_ERR_ABORTED";m[m.Uic=1252]="MSE_MEDIA_ERR_NETWORK";m[m.Sic=1253]="MSE_MEDIA_ERR_DECODE";m[m.Vic=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";m[m.Tic=1255]="MSE_MEDIA_ERR_ENCRYPTED";m[m.wu=1260]="EME_MEDIA_KEYERR_BASE";m[m.Ohc=1261]="EME_MEDIA_KEYERR_UNKNOWN";m[m.Jhc=1262]="EME_MEDIA_KEYERR_CLIENT";m[m.Nhc=1263]="EME_MEDIA_KEYERR_SERVICE";m[m.Mhc=1264]="EME_MEDIA_KEYERR_OUTPUT";m[m.Lhc=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";m[m.Khc=1266]="EME_MEDIA_KEYERR_DOMAIN";m[m.Phc=1269]="EME_MEDIA_UNAVAILABLE_CDM";m[m.Ypb=1270]="EME_INTERNAL_ERROR";m[m.Upb=1271]="EME_CLOSED_BY_APPLICATION";m[m.bqb=1272]="EME_RELEASE_ACKNOWLEDGED";m[m.aha=1273]="EME_HARDWARE_CONTEXT_RESET";m[m.dqb=1274]="EME_RESOURCE_EVICTED";m[m.Xpb=1280]="EME_ERROR_NODRMSESSSION";m[m.Wpb=1281]="EME_ERROR_NODRMREQUESTS";m[m.Ghc=1282]="EME_ERROR_INDIV_FAILED";m[m.Hhc=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";m[m.fqb=1284]="EME_TIMEOUT_MESSAGE";m[m.Qhc=1285]="EME_TIMEOUT_KEYCHANGE";m[m.$Ha=1286]="EME_UNDEFINED_DATA";m[m.KL=1287]="EME_INVALID_STATE";m[m.Ihc=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";m[m.VHa=1289]="EME_EMPTY_DATA";m[m.bT=1290]="EME_TIMEOUT";m[m.ijc=1303]="NCCP_METHOD_NOT_SUPPORTED";m[m.ljc=1305]="NCCP_PARSEXML";m[m.Etb=1309]="PROCESS_EXCEPTION";m[m.kjc=1311]="NCCP_NETFLIXID_MISSING";m[m.mjc=1312]="NCCP_SECURENETFLIXID_MISSING";m[m.fjc=1313]="NCCP_HMAC_MISSING";m[m.ejc=1315]="NCCP_HMAC_MISMATCH";m[m.djc=1317]="NCCP_HMAC_FAILED";m[m.cjc=1321]="NCCP_CLIENTTIME_MISSING";m[m.bjc=1323]="NCCP_CLIENTTIME_MISMATCH";m[m.TIa=1331]="GENERIC";m[m.qsb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";m[m.rsb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";m[m.njc=1341]="NCCP_TRANSACTION";m[m.gjc=1343]="NCCP_INVALID_DRMTYPE";m[m.hjc=1344]="NCCP_INVALID_LICENCE_RESPONSE";m[m.jjc=1345]="NCCP_MISSING_PAYLOAD";m[m.Vjc=1346]="PROTOCOL_NOT_INITIALIZED";m[m.Ujc=1347]="PROTOCOL_MISSING_FIELD";m[m.Tjc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";m[m.qD=1402]="STORAGE_NODATA";m[m.qkc=1403]="STORAGE_EXCEPTION";m[m.ykc=1405]="STORAGE_QUOTA_NOT_GRANTED";m[m.zkc=1407]="STORAGE_QUOTA_TO_SMALL";m[m.WQa=1411]="STORAGE_LOAD_ERROR";m[m.wub=1412]="STORAGE_LOAD_TIMEOUT";m[m.XQa=1414]="STORAGE_SAVE_ERROR";m[m.zub=1415]="STORAGE_SAVE_TIMEOUT";m[m.Gja=1417]="STORAGE_DELETE_ERROR";m[m.VQa=1418]="STORAGE_DELETE_TIMEOUT";m[m.xkc=1421]="STORAGE_FS_REQUESTFILESYSTEM";m[m.ukc=1423]="STORAGE_FS_GETDIRECTORY";m[m.wkc=1425]="STORAGE_FS_READENTRIES";m[m.rkc=1427]="STORAGE_FS_FILEREAD";m[m.tkc=1429]="STORAGE_FS_FILEWRITE";m[m.skc=1431]="STORAGE_FS_FILEREMOVE";m[m.vkc=1432]="STORAGE_FS_PARSEJSON";m[m.yub=1451]="STORAGE_NO_LOCALSTORAGE";m[m.xub=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";m[m.wjc=1501]="NTBA_UNKNOWN";m[m.vjc=1502]="NTBA_EXCEPTION";m[m.rjc=1504]="NTBA_CRYPTO_KEY";m[m.tjc=1506]="NTBA_CRYPTO_OPERATION";m[m.sjc=1508]="NTBA_CRYPTO_KEYEXCHANGE";m[m.ujc=1515]="NTBA_DECRYPT_UNSUPPORTED";m[m.UGa=1553]="DEVICE_NO_ESN";m[m.apb=1555]="DEVICE_ERROR_GETTING_ESN";m[m.ric=1701]="FORMAT_UNKNOWN";m[m.pqb=1713]="FORMAT_XML";m[m.sic=1715]="FORMAT_XML_CONTENT";m[m.pic=1721]="FORMAT_BASE64";m[m.qic=1723]="FORMAT_DFXP";m[m.Qqb=1801]="INDEXDB_OPEN_EXCEPTION";m[m.ZJa=1802]="INDEXDB_NOT_SUPPORTED";m[m.Pqb=1803]="INDEXDB_OPEN_ERROR";m[m.$Ja=1804]="INDEXDB_OPEN_NULL";m[m.Oqb=1805]="INDEXDB_OPEN_BLOCKED";m[m.Rqb=1807]="INDEXDB_OPEN_TIMEOUT";m[m.Nqb=1808]="INDEXDB_INVALID_STORE_STATE";m[m.G3=1809]="INDEXDB_ACCESS_EXCEPTION";m[m.isb=1901]="MSL_UNKNOWN";m[m.bsb=1911]="MSL_INIT_NO_MSL";m[m.RLa=1913]="MSL_INIT_ERROR";m[m.csb=1915]="MSL_INIT_NO_WEBCRYPTO";m[m.Zrb=1931]="MSL_ERROR";m[m.hsb=1933]="MSL_REQUEST_TIMEOUT";m[m.gsb=1934]="MSL_READ_TIMEOUT";m[m.$rb=1935]="MSL_ERROR_HEADER";m[m.Wic=1936]="MSL_ERROR_ENVELOPE";m[m.Xic=1937]="MSL_ERROR_MISSING_PAYLOAD";m[m.QLa=1957]="MSL_ERROR_REAUTH";m[m.lka=2103]="WEBCRYPTO_MISSING";m[m.dlc=2105]="WEBCRYPTOKEYS_MISSING";m[m.bvb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";m[m.$gc=2200]="CACHEDDATA_PARSEJSON";m[m.SFa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";m[m.ahc=2202]="CACHEDDATA_UPGRADE_FAILED";m[m.XC=2203]="CACHEDDATA_INVALID_FORMAT";m[m.ogc=3E3]="ACCOUNT_CHANGE_INFLIGHT";m[m.pgc=3001]="ACCOUNT_INVALID";m[m.xhc=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";m[m.whc=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";m[m.uhc=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";m[m.vhc=3201]="DOWNLOADED_LICENSE_UNUSEABLE";m[m.thc=3202]="DOWNLOADED_LICENSE_EXCEPTION";m[m.Akc=3300]="STORAGE_VA_LOAD_ERROR";m[m.Bkc=3301]="STORAGE_VA_LOAD_TIMEOUT";m[m.Ekc=3302]="STORAGE_VA_SAVE_ERROR";m[m.Fkc=3303]="STORAGE_VA_SAVE_TIMEOUT";m[m.Ckc=3304]="STORAGE_VA_REMOVE_ERROR";m[m.Dkc=3305]="STORAGE_VA_REMOVE_TIMEOUT";m[m.Hia=3077]="PBO_DEVICE_EOL_WARNING";m[m.ANa=3078]="PBO_DEVICE_EOL_FINAL";m[m.DNa=3100]="PBO_DEVICE_RESET";m[m.CNa=3101]="PBO_DEVICE_RELOAD";m[m.BNa=3102]="PBO_DEVICE_EXIT";m[m.ftb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";m[m.Qsb=5005]="PBO_ACCOUNT_ON_HOLD";m[m.Usb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";m[m.ENa=5007]="PBO_INCORRECT_PIN";m[m.ctb=5008]="PBO_MOBILE_ONLY";m[m.gtb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";m[m.Zsb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";m[m.Ssb=5059]="PBO_BLACKLISTED_IP";m[m.Rsb=5070]="PBO_AGE_VERIFICATION_REQUIRED";m[m.Tsb=5080]="PBO_CHOICE_MAP_ERROR";m[m.dtb=5090]="PBO_RESTRICTED_TO_TESTERS";m[m.atb=5091]="PBO_MALFORMED_REQUEST";m[m.$sb=5092]="PBO_INVALID_SERVICE_VERSION";m[m.btb=5093]="PBO_MDX_INVALID_CTICKET";m[m.Ysb=5094]="PBO_FREE_PREVIEW_ENDED";m[m.etb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";m[m.Xsb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";m[m.Wsb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";m[m.Job=5100]="DECODER_TIMEOUT_BUFFERING";m[m.Lob=5101]="DECODER_TIMEOUT_PRESENTING";m[m.Kob=5102]="DECODER_TIMEOUT_PLAYING";m[m.Bpb=5200]="DOWNLOADER_IO_ERROR";m[m.tFa=5300]="BRANCHING_SEGMENT_NOTFOUND";m[m.wnb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";m[m.Egc=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";m[m.pga=5303]="BRANCHING_ASE_UNINITIALIZED";m[m.Agc=5304]="BRANCHING_ASE_FAILURE";m[m.Bgc=5305]="BRANCHING_MOMENT_FAILURE";m[m.unb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";m[m.Dgc=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";m[m.xnb=5308]="BRANCHING_SEEK_THREW";m[m.Cgc=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";m[m.vnb=5310]="BRANCHING_PLAY_TIMEDOUT";m[m.ynb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";m[m.znb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";m[m.Aub=5500]="STUDIO_MUXED_MANIFEST";m[m.eia=5600]="MANIFEST_HYDRATION_FAILURE";m[m.Ymb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";m[m.Zmb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.T || (b.T={}));(function(m){m[m.Pgc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";m[m.Fgc=5005]="BR_ACCOUNT_ON_HOLD";m[m.Jgc=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";m[m.Mgc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";m[m.Igc=5059]="BR_BLACKLISTED_IP";m[m.Ggc=5070]="BR_AGE_VERIFICATION_REQUIRED";m[m.Ngc=2204]="BR_PLAYBACK_CONTEXT_CREATION";m[m.Kgc=2205]="BR_DRM_LICENSE_AQUISITION";m[m.Ogc=2206]="BR_PLAYBACK_SERVICE_ERROR";m[m.Lgc=2207]="BR_ENDPOINT_ERROR";m[m.Hgc=2208]="BR_AUTHORIZATION_ERROR";})(b.wIa || (b.wIa={}));b.D3={Hnb:"400",Zkc:"401",XNa:"413"};b.Q3={nic:1,Rkc:2,Thc:3,Xkc:4,Iic:5,Shc:6,eka:7,Vhc:8,ekc:9,nkc:10};b.fha=function(m,k,l,d){return m == a.c4 || m == a.F3 || m == a.Kia && 432E5 <= l || m == a.cha && k === c.aha && 0 < Number(d);};b.xIa=function(m){return 1100 <= m && 1199 >= m;};b.gha=function(m,k){return 1 <= m && 9 >= m?k + m:k;};b.yIa=function(m){return (0,b.gha)(m,c.Yrb);};b.zIa=function(m){return (0,b.gha)(m,c.wu);};b.yz=function(m){var k,l,d;k={};l=m.errorExternalCode || m.Kf;d=m.errorDetails || m.Qb;k.ErrorSubCode=m.errorSubCode || m.xa || c.ho;l && (k.ErrorExternalCode=l);d && (k.ErrorDetails=d);return k;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={vY:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b,a){var k;function c(){return k.ZT.apply(this,arguments) || this;}function m(l){return new k.Au(l,b.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.NJa=b.tia=b.Cp=b.ma=b.OG=b.timestamp=b.vVb=b.Iba=b.zi=b.qc=b.geb=b.f0b=b.Pub=void 0;k=a(329);ka(c,k.ZT);b.Pub=c;b.f0b=function(l){return new k.Au(l,b.OG);};b.geb=function(l){return new k.Au(l * b.Cp.Mg,b.OG);};b.qc=m;b.zi=function(l){return new k.Au(l,b.Cp);};b.Iba=function(l){return new k.Au(l,b.tia);};b.vVb=function(l){return new k.Au(l,b.NJa);};b.timestamp=function(l){return m(l);};b.OG=new c(1,"\u03bcs");b.ma=new c(1E3,"ms",b.OG);b.Cp=new c(1E3 * b.ma.Mg,"s",b.OG);b.tia=new c(60 * b.Cp.Mg,"min",b.OG);b.NJa=new c(60 * b.tia.Mg,"hr",b.OG);b.Ia=m(0);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$S=b.ub=b.Yha=b.tk=void 0;r=b.tk || (b.tk={});r[r.nqb=0]="FATAL";r[r.ag=1]="ERROR";r[r.kka=2]="WARN";r[r.Cha=3]="INFO";r[r.aSa=4]="TRACE";r[r.R=5]="DEBUG";b.Yha="LogFieldBuilderFactorySymbol";b.ub="LoggerFactorySymbol";b.$S={};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MT=b.UIa=void 0;r=a(0);r.__exportStar(a(369),b);r.__exportStar(a(98),b);r.__exportStar(a(20),b);r.__exportStar(a(829),b);r.__exportStar(a(830),b);r.__exportStar(a(831),b);r.__exportStar(a(832),b);r.__exportStar(a(833),b);r.__exportStar(a(834),b);r.__exportStar(a(835),b);r.__exportStar(a(836),b);c=r.__importDefault(a(837));b.UIa=c.default;a=r.__importDefault(a(380));b.MT=a.default;},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ba=b.zPa=b.yX=b.Ui=b.Vj=b.log=b.tg=b.gP=b.FYa=b.Ts=b.DA=b.mc=b.WDb=b.Wna=b.UDb=b.VDb=b.Rj=b.kS=b.r1=b.$h=b.wc=b.za=void 0;c=a(206);r=a(6);m=a(26);k=a(74);l=a(79);d=a(32);f=a(15);h=a(145);g=a(30);a=a(47);b.za=c.ic.get(g.Eh);b.wc=c.ic.get(a.Mj);b.$h=c.ic.get(k.Gu);b.r1=b.$h.encode.bind(b.$h);b.kS=b.$h.decode.bind(b.$h);b.Rj=c.ic.get(l.mz);b.VDb=b.Rj.encode.bind(b.Rj);b.UDb=b.Rj.decode.bind(b.Rj);b.Wna=b.Rj.WI.bind(b.Rj);b.WDb=b.Rj.dkb.bind(b.Rj);b.mc=c.ic.get(d.Di);b.DA=function(n){n=(0,f.qg)(n)?(0,b.kS)(n):n;return b.mc.encode(n);};b.Ts=b.mc.decode.bind(b.mc);b.FYa=function(n){return (0,b.r1)((0,b.Ts)(n));};b.gP=function(){return c.ic.get(m.rz);};b.tg=c.ic.get(r.ub);b.log=b.tg.mb("General");b.Vj=function(n,p){return b.tg.mb(n,void 0,p);};b.Ui=function(n,p,q){return b.tg.mb(p,n,q);};b.yX=function(n,p,q,t){return b.tg.mb(n,void 0,t,p,q);};b.zPa=function(n,p,q){return c.ic.get(h.NT)(n,p,q).e1();};b.Ba=c.ic;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.R=!1;},function(r){var b;b={Ka:function(a){return "number" === typeof a;},Yj:function(a){return "object" === typeof a;},qg:function(a){return "string" === typeof a;},oa:function(a){return "undefined" === typeof a;},soc:function(a){return "boolean" === typeof a;},ed:function(a){return "function" === typeof a;},sb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},K3b:function(a){var c,m;m=[];if(!b.Yj(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && m.push([c,a[c]]);}return m;}};b.Jf=b.forEach=function(a,c,m){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var k=0,l=a.length;k < l;k++){c.call(m,a[k],k,a);}else for(k in a){b.has(a,k) && c.call(m,a[k],k,a);}return a;};r.exports=b;},function(r,b,a){b=a(113);b.$Kb=0;r.exports={EventEmitter:b,Gf:a(825)};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ao={kmc:"casttv",Xoa:"chrome",qmc:"chromecast",Ar:"edge",d2a:"edgeoss",C3a:"firefox",loc:"ie",opera:"opera",zgb:"safari",Cjb:"tesla"};b.Ap={U6:"android",y8a:"ios",TZa:"chromeos",h$a:"linux",K$a:"mac",aEa:"windows"};b.C3={aHb:"computer",phone:"phone",dcc:"tablet"};b.Nc="ConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dwa=b.localStorage=b.jWb=b.indexedDB=b.XMa=b.xr=b.jD=b.iD=b.URL=b.V3=b.usb=b.fMa=b.eMa=b.O3=b.yT=b.Ez=b.zu=b.zp=b.ksb=b.WL=b.URa=b.aHa=b.Msb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.zA=b.tsb=b.Gh=b.bx=b.YMa=b.cx=b.U3=b.SG=void 0;r=nb;b.Ue=r.navigator;b.SG=null === b.Ue || void 0 === b.Ue?void 0:b.Ue.userAgent;b.U3=r.location;b.cx=r.screen;b.YMa=r.devicePixelRatio;b.bx=r.performance;b.Gh=r.document;b.tsb=b.Gh.documentElement;b.zA=Array.prototype;b.sort=b.zA.sort;b.map=b.zA.map;b.slice=b.zA.slice;b.every=b.zA.every;b.reduce=b.zA.reduce;b.filter=b.zA.filter;b.forEach=b.zA.forEach;b.pop=b.zA.pop;b.Msb=Object.create;b.aHa=Date.now;b.URa=String.fromCharCode;b.WL=Math.floor;b.ksb=Math.ceil;b.zp=Math.round;b.zu=Math.max;b.Ez=Math.min;b.yT=Math.random;b.O3=Math.abs;b.eMa=Math.pow;b.fMa=Math.sqrt;b.usb=r.escape;b.V3=r.unescape;b.URL=r.URL || r.webkitURL;b.iD=r.MediaSource || r.WebKitMediaSource;b.jD=r.webkitCrypto || r.msCrypto || r.crypto;b.xr=b.jD && (b.jD.webkitSubtle || b.jD.subtle);b.XMa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.jWb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.dwa=a || "noex";}},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(365),b);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.ed=b.E8a=b.QP=b.qg=b.yva=b.mXb=b.aXb=b.ova=b.gF=b.R8a=b.Ka=b.wva=b.isArray=b.n9a=b.Yj=b.pd=b.is=void 0;r=a(205);b.is=r.GG;b.pd=function(c){return b.is.Zg(c);};b.Yj=function(c){return b.is.BV(c);};b.n9a=function(c){return b.is.Ima(c);};b.isArray=function(c){return b.is.VD(c);};b.wva=function(c){return b.is.HXa(c);};b.Ka=function(c,m,k){return b.is.po(c,m,k);};b.R8a=function(c,m,k){return b.is.qna(c,m,k);};b.gF=function(c,m,k){return b.is.CV(c,m,k);};b.ova=function(c){return b.is.oV(c);};b.aXb=function(c){return b.is.$Ab(c);};b.mXb=function(c){return b.is.aBb(c);};b.yva=function(c){return b.is.IXa(c);};b.qg=function(c){return b.is.Uu(c);};b.QP=function(c){return b.is.qo(c);};b.E8a=function(c){return b.is.F6(c);};b.ed=function(c){return b.is.H6(c);};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ve=b.ib=b.Rf=b.ac=b.V1=b.ia=b.Jha=b.ZG=b.Ja=void 0;(function(c){c.p$a="loadedtracks";c.o$a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.yr="currenttimechanged";c.Kkb="unthrottledcurrenttimechanged";c.joa="bufferedtimechanged";c.Gqa="durationchanged";c.SDa="videosizechanged";c.qdb="pausedchanged";c.Zya="playingchanged";c.H2a="endedchanged";c.SN="busychanged";c.m7="audiotracklistchanged";c.Zm="audiotrackchanged";c.Fw="timedtexttracklistchanged";c.Bm="timedtexttrackchanged";c.g1="trickplayframeschanged";c.zbb="mutedchanged";c.dmb="volumechanged";c.MBa="showsubtitle";c.Zza="removesubtitle";c.xfc="watermark";c.sva="isReadyToTransition";c.AP="inactivated";c.v8a="internalPlaybackError";c.B9b="segmentmaploaded";c.C9b="segmentpresenting";c.wYa="autoplaywasallowed";c.o7="autoplaywasblocked";c.sCb="adsstatechanged";c.IB="livestatechanged";})(b.Ja || (b.Ja={}));(b.ZG || (b.ZG={})).m0="playgraphsegmenttransition";b.Jha=a;a.dhb="serverTimeChanged";(function(c){c.GN="aseReport";c.Nna="autoplayWasAllowed";c.Ni="autoplayWasBlocked";c.FA="bufferUnderrun";c.closed="closed";c.Xg="closing";c.yr="currentTimeChanged";c.xE="downloadComplete";c.AP="inactivated";c.a$a="licenseAdded";c.bZ="licensed";c.eZ="locationSelected";c.Cwa="manifestClosing";c.IJ="manifestPresenting";c.mba="mediaBufferChanged";c.Uba="nextBranchingSegmentChosen";c.iw="playbackStart";c.rm="playbackReady";c.Zk="repositioned";c.xK="repositioning";c.Bgb="safePlayRequested";c.IK="segmentPresenting";c.p0="serverSwitch";c.cib="shouldUpdateVideoDiagInfo";c.RR="subtitleError";c.OCa="throttledMediaTimeChanged";c.Lkb="unthrottledMediaTimeChanged";c.WR="timedTextRebuffer";c.Fw="timedTextTrackListChanged";c.g1="trickPlayFramesChanged";c.wDa="updateNextBranchingSegmentWeights";c.Lec="userInitiatedPause";c.Hlb="userInitiatedResume";c.kkb="tracksHydrated";c.IB="livestatechanged";})(b.ia || (b.ia={}));(b.V1 || (b.V1={})).I6="adBreakComplete";(function(c){c[c.$L=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.He=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.ac || (b.ac={}));(function(c){c[c.He=1]="NORMAL";c[c.sd=2]="BUFFERING";c[c.UQa=3]="STALLED";})(b.Rf || (b.Rf={}));(function(c){c[c.cg=1]="WAITING";c[c.Dc=2]="PLAYING";c[c.Hh=3]="PAUSED";c[c.us=4]="ENDED";})(b.ib || (b.ib={}));(function(c){c[c.Az=0]="INITIAL";c[c.oD=1]="SEEK";c[c.D4=2]="TRACK_CHANGED";c[c.jM=3]="SEGMENT_CHANGED";c[c.I2=4]="FORCE_REBUFFER";})(b.Ve || (b.Ve={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xT=b.L3=b.Snb=b.Nnb=b.Pnb=b.Qnb=b.GFa=b.Mnb=b.Onb=b.FFa=b.Rnb=b.Ynb=b.Wnb=b.Xnb=b.Vnb=b.Ppb=b.Opb=b.Npb=b.Qrb=b.Rrb=b.N3=b.NLa=b.OLa=b.M3=b.MHa=b.Qpb=b.$ga=b.E2=b.Isb=b.nub=b.KLa=b.Gnb=b.RGa=b.b4=b.bM=b.a4=b.JLa=b.Dz=b.Fnb=b.sFa=b.Drb=b.Xub=b.Prb=b.Orb=b.gub=b.fub=b.yu=b.Pg=b.tQa=b.dx=void 0;b.qFa=b.yja=void 0;b.dx=function(){};b.tQa=function(){return !0;};b.Pg={ea:!0};b.yu=1E3;b.fub=86400;b.gub=604800;b.Orb=1E4;b.Prb=1E7;b.Xub=1.5;b.Drb=.128;b.sFa=7.8125;b.Fnb=128;b.Dz=145152E5;b.JLa=1E5;b.a4="$netflix$player$order";b.bM=-1;b.b4=1;b.RGa=["en-US"];b.Gnb=8;b.KLa=65535;b.nub=65536;b.Isb=Number.MAX_VALUE;b.E2="playready";b.$ga="widevine";b.Qpb="fps";b.MHa="clearkey";b.M3='audio/mp4; codecs="mp4a.40.5"';b.OLa='audio/mp4; codecs="mp4a.40.42"';b.NLa='audio/mp4; codecs="mp4a.a6"';b.N3='video/mp4; codecs="avc1.640028"';b.Rrb='video/mp4; codecs="hev1.2.6.L153.B0"';b.Qrb='video/mp4; codecs="dvhe.01000000"';b.Npb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Opb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Ppb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.Vnb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Xnb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.Wnb="4E657466-6C69-7846-7261-6D6552617465";b.Ynb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Rnb="mp4a";b.FFa="enca";b.Onb="ec-3";b.Mnb="avc1";b.GFa="encv";b.Qnb="hvcC";b.Pnb="hev1";b.Nnb="dvhe";b.Snb="vp09";b.L3=0;b.xT=1;b.yja="position:relative;width:100%;height:100%;overflow:hidden";b.qFa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},function(r,b,a){var k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C;function c(D){return (D=b.config.xdc[m(D)])?D:{};}function m(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.cHb=b.E_a=b.D_a=b.ypa=b.F_a=b.xpa=b.config=void 0;k=a(17);l=a(43);d=a(8);f=a(40);h=a(23);g=a(26);n=a(42);p=a(25);a(6);q=a(13);t=a(15);v=a(173);u=a(50);w=a(87);x=a(108);y=a(52);z=a(5);A=a(48);B=a(19);C=a(118);b.F_a=function(D,F){var wa,Ba,Ga,N,Q,V,ba,qa,La;function G(Oa,Ta){(0,p.$g)(Oa,function(Qa,Wa){(0,t.ed)(Wa)?Ta[Qa]=Wa.call(void 0,Ta[Qa]):(0,t.Yj)(Wa) && (Ta[Qa]=Ta[Qa] || ({}),G(Wa,Ta[Qa]));});}function E(Oa,Ta,Qa,Wa){for(var eb=[],ub=3;ub < arguments.length;++ub){eb[ub - 3]=arguments[ub];}return function(jb){(0,t.pd)(jb) && (Qa=jb);(0,h.Wa)((0,t.ed)(Oa));return Oa.apply(void 0,[Ta,Qa].concat(ia(eb)));};}function H(Oa){Oa=Oa.toLowerCase();N.hasOwnProperty(Oa) && (Ga[Oa]=N[Oa],Q[Oa]=N[Oa]);return Oa;}function L(Oa,Ta,Qa){var Wa;Oa=Oa.toLowerCase();if(Ga.hasOwnProperty(Oa)){Wa=Ga[Oa];try{Wa=Qa?Qa(Wa):Wa;}catch(eb){Wa=void 0;}if(void 0 !== Wa)return Wa;(0,h.Wa)(!1);d.log.error("Invalid configuration value. Name: " + Oa);}return Ta;}function K(Oa,Ta,Qa,Wa){return L(Oa,Ta,function(eb){(0,t.qg)(eb) && (eb=(0,p.hk)(eb));if((0,t.R8a)(eb,Qa,Wa))return eb;});}function I(Oa,Ta,Qa,Wa){return L(Oa,Ta,function(eb){(0,t.qg)(eb) && (eb=(0,p.hk)(eb));if((0,t.gF)(eb,Qa,Wa))return eb;});}function R(Oa,Ta,Qa,Wa){return L(Oa,Ta,function(eb){(0,t.qg)(eb) && (eb=parseFloat(eb));if((0,t.Ka)(eb,Qa,Wa))return eb;});}function O(Oa,Ta,Qa){return L(Oa,Ta,function(Wa){if(Qa?Qa.test(Wa):(0,t.qg)(Wa))return Wa;});}function J(Oa,Ta){return L(Oa,Ta,function(Qa){if("true" == Qa || !0 === Qa)return !0;if("false" == Qa || !1 === Qa)return !1;});}function M(Oa,Ta){return L(Oa,Ta,function(Qa){if((0,t.qg)(Qa))return JSON.parse((0,q.V3)(Qa));if((0,t.Yj)(Qa))return Qa;});}function P(Oa,Ta,Qa,Wa,eb,ub){var jb;Oa=Oa.toLowerCase();Ga.hasOwnProperty(Oa) && (jb=Ga[Oa]);if(!(0,t.pd)(jb))return Ta;if((0,t.qg)(jb))if(jb[0] !== Qa)jb=Wa(jb);else try{jb=JSON.parse((0,q.V3)(jb));}catch(mb){jb=void 0;}if(void 0 === jb)return Ta;for(Oa=0;Oa < eb.length;Oa++){if(!eb[Oa](jb))return Ta;}return ub?ub(jb):jb;}function S(Oa,Ta,Qa,Wa,eb){return P(Oa,Ta,"[",function(ub){ub=ub.split("|");for(var jb=ub.length;jb--;){ub[jb]=(0,p.hk)(ub[jb]);}return ub;},[function(ub){return (0,t.isArray)(ub) && 0 < ub.length;},function(ub){for(var jb=ub.length;jb--;){if(!(0,t.gF)(ub[jb],Qa,Wa))return !1;}return !0;},function(ub){return void 0 === eb || ub.length >= eb;}]);}function T(Oa,Ta){return P(Oa,Ta,"[",function(Qa){Qa=(0,t.isArray)(Qa)?Qa:Qa.split("|");for(var Wa=Qa.length;Wa--;){try{Qa[Wa]=JSON.parse((0,q.V3)(Qa[Wa]));}catch(eb){Qa=void 0;break;}}return Qa;},[function(Qa){return (0,t.isArray)(Qa) && 0 < Qa.length;},function(Qa){for(var Wa=Qa.length;Wa--;){if(!(0,t.pd)(Qa[Wa]) || !(0,t.Yj)(Qa[Wa]))return !1;}return !0;}]);}function U(Oa,Ta){var Qa;Qa=W(Oa,[]);return Qa && 0 < Qa.length?(0,C.gp)(Qa):T(Oa,Ta);}function W(Oa,Ta,Qa,Wa){return P(Oa,Ta,"[",function(eb){return (0,t.isArray)(eb)?eb:eb.split("|");},[function(eb){return (0,t.isArray)(eb) && 0 < eb.length;},function(eb){for(var ub=eb.length;ub--;){if(Qa?!Qa.test(eb[ub]):!(0,t.QP)(eb[ub]))return !1;}return !0;},function(eb){return void 0 === Wa || eb.length >= Wa;}]);}function fa(Oa,Ta,Qa){return P(Oa,Ta,"{",function(Wa){var eb,jb,mb;eb={};Wa=Wa.split(";");for(var ub=Wa.length;ub--;){jb=Wa[ub];mb=jb.indexOf(":");if(0 >= mb)return;eb[jb.substring(0,mb)]=jb.substring(mb + 1);}return eb;},[function(Wa){return (0,t.Yj)(Wa) && 0 < Object.keys(Wa).length;},function(Wa){if(Qa)for(var eb in Wa){if(!Qa.test(Wa[eb]))return !1;}return !0;}],function(Wa){var eb;eb={};(0,p.Ce)(eb,Ta);(0,p.Ce)(eb,Wa);return eb;});}function sa(Oa){var Ta;Ta=[];(0,p.$g)(Oa,function(Qa,Wa){var eb;try{eb="videoapp" === Qa.toLowerCase()?"[object object]":JSON.stringify(Wa);}catch(ub){eb="cantparse";}Ta.push(Qa + "=" + eb);});return Ta.join("\n");}wa=/^[0-9]+[%]?$/;Ba=/^[0-9]*$/;Q={};V=d.Ba.get(f.xp);ba=d.Ba.get(x.WG);(function(Oa){function Ta(Qa){Qa.split(",").forEach(function(Wa){var eb;eb=Wa.indexOf("=");0 < eb && (Ga[Wa.substring(0,eb).toLowerCase()]=Wa.substring(eb + 1));});}Ga={};(0,p.Ce)(Ga,Oa);D && D.length && q.forEach.call(D,function(Qa){(0,t.qg)(Qa)?Ta(Qa):(0,t.Yj)(Qa) && (0,p.Ce)(Ga,Qa,{jZ:!0});});N=(0,p.Ce)({},(0,l.d$)(),{jZ:!0});if(Oa=(0,l.Web)().cadmiumconfig)(d.log.info("Config cookie loaded",Oa),Ta(Oa));if(d.Ba.get(A.Qq).R6 || Ga.istestaccount)((0,p.Ce)(Ga,N),Q=N);})(F);b.config={};qa={INb:E(J,H("enableXHEAAC"),!1),o2a:E(J,H("enableDDPlus20"),!0),n2a:E(J,H("enableDDPlus"),!0),IO:E(J,H("enableDDPlusAtmos"),!1),oNb:E(J,H("enableLSSDH"),!0),jNb:E(J,H("enableHEVC"),!1),Ycb:E(J,H("overrideEnableHEVC"),!1),Pqa:E(J,H("enableHDR"),!1),Xcb:E(J,H("overrideEnableHDR"),!1),Wcb:E(J,H("overrideEnableDV"),!1),GO:E(J,H("enableAVCHigh"),ba.GO),Vcb:E(J,H("overrideEnableAVCHigh"),!1),ENb:E(J,H("enableVP9"),!1),Zcb:E(J,H("overrideEnableVP9"),!1),$Mb:E(J,H("enableAV1"),!1),Ucb:E(J,H("overrideEnableAV1"),!1),D3b:E(J,H("overrideEnableXHEAAC"),!1),B3b:E(J,"overrideEnableAllAudioProfiles",!1),C3b:E(J,"overrideEnableAllVideoProfiles",!1),uNb:E(J,H("enablePRK"),!1),gNb:E(J,H("enableDV"),!1),s2a:E(J,H("enableHWDRM"),!1),lNb:E(J,H("enableImageSubs"),!0),gI:E(U,H("audioProfiles"),ba.gI),iNb:E(J,H("enableFullHdForWidevineL3"),!1),r2a:E(J,H("enableFullHdForWidevineL1"),!1),CNb:E(J,H("enableUHD"),!0),vfa:E(I,"videoCapabilityDetectorType",g.Om.qz),Ina:E(I,"audioCapabilityDetectorType",g.Qw.qz),$n:E(U,H("videoProfiles"),ba.$n),vXa:E(U,H("additionalVideoProfiles"),[]),CAb:E(W,H("timedTextProfiles"),ba.Ew),Ew:function(){return qa.CAb().filter(function(Oa){return Oa === n.Mm.Jga?qa.oNb():Oa === n.Mm.ZL?qa.lNb():!0;});},endpoint:E(J,H("endpoint"),!1),version:E(O,"version","unknown"),kNb:E(J,H("enableHdcp"),!1),Pt:E(J,H("prepareCadmium"),!1),eBb:E(J,H("acceptManifestOnPrepareItemParams"),!0),g5b:E(M,"ppmconfig",{maxNumberTitlesScheduled:1}),ZW:E(J,H("enableLdlPrefetch"),!1),w2a:E(J,H("enableMediaPrefetch"),!1),pNb:E(J,H("enableManifestCache"),!0),tLb:E(J,H("deleteCachedManifestOnPlayback"),!1),sLb:E(J,H("deleteCachedManifestOnCreate"),!1),wLb:E(J,H("deleteOtherManifestCacheOnCreate"),!1),vLb:E(J,H("deleteOtherLdlCacheOnCreate"),!1),Npc:E(I,H("periodicPrepareLogsIntervalMilliseconds"),36E5),B5b:E(I,H("prepareManifestCacheMaxCount"),50),z5b:E(I,H("prepareLdlCacheMaxCount"),30),keb:E(I,H("prepareManifestExpiryMilliseconds"),12E5),A5b:E(I,H("prepareLdlExpiryMilliseconds"),78E4),t5b:E(I,H("prefetcherMaxWishlistSize"),10),s5b:E(I,H("prefetcherBudgetInBytes"),Infinity),u5b:E(J,H("prefetcherOverrideItemPriority"),!0),y5b:E(O,H("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Crc:E(M,"videoApp"),aG:E(M,"storageRules"),u9:E(J,"ftlEnabled",ba.u9),vua:E(I,H("imageSubsResolution"),0),UVb:E(I,H("imageSubsMaxBuffer"),ba.x_b.fa(y.Rw),0),eW:E(J,H("captureBatteryStatus"),!1),QQb:E(I,H("getBatteryApiTimeoutMilliseconds"),5E3),Bn:E(O,H("keySystemId"),ba.Bn),H9a:E(W,H("keySystemList"),void 0,void 0),NDa:E(J,H("validateKeySystemAccess"),!1),j0b:E(I,H("hdcpGlobalTimeout1"),1E4),k0b:E(I,H("hdcpGlobalTimeout2"),1E4),fpc:E(I,H("hdcpQueryTimeout1"),1E3),gpc:E(I,H("hdcpQueryTimeout2"),1E3),Wab:E(I,H("hdcpQueryTimeout2"),100),l0b:E(J,H("microsoftHwdrmRequiresHevc"),!1),Vab:E(J,H("microsoftClearLeadRequiresSwdrm"),!1),g0b:E(J,H("microsoftEnableDeviceInfo"),!1),h0b:E(J,H("microsoftEnableHardwareInfo"),!1),i0b:E(J,H("microsoftEnableHardwareReset"),!1),zec:E(J,H("useHevcCodecForDolbyVision"),!1),rNb:E(J,H("enableMediaCapabilities"),!1),f5b:E(J,H("powerEfficientForVideo"),!1),sNb:E(J,H("enableMediaCapabilitiesSourceBufferCheck"),!1),yZb:E(J,"logMediaPipelineStatus",!1),R_:E(J,H("renderDomDiagnostics"),!0),y$a:function(){return -1;},XP:E(K,H("logDisplayMaxEntryCount"),ba.XP,-1),EZb:E(K,H("logToConsoleLevel"),-1),$lc:E(K,H("bladerunnerCmdHistorySize"),10),gB:function(){return V.gB;},hwa:E(J,"logErrorIfEsnNotProvided",!0),Vqa:E(J,"enforceSinglePlayback",ba.Vqa),I8:E(J,"enforceSingleSession",ba.I8),kpa:E(J,"closeOtherPlaybacks",!0),jDb:E(I,"asyncLoadTimeout",15E3,1),OZb:E(I,"mainThreadMonitorPollRate",0),mJ:function(){return V.mJ;},ZN:function(){return V.ZN;},k1:function(){return V.k1;},Olb:E(I,H("verbosePlaybackInfoDenominator"),0),xda:E(J,"renderTimedText",!0),h5b:E(J,"preBufferTimedText",!0),GOb:E(J,"fatalOnTimedTextLoadError",!0),Vjb:E(fa,"timedTextStyleDefaults",{}),SCa:E(fa,"timedTextStyleOverrides",{}),Sea:E(fa,"timedTextFontFamilyMapping",ba.Sea || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),XR:E(I,"timedTextSimpleFallbackThreshold",ba.XR.fa(y.Rw)),zP:E(W,H("imscLanguageList"),ba.zP,[]),Naa:E(W,H("lessBoldLanguageList"),ba.Naa,[]),Wpa:E(O,H("customDfxpUrl")),BNb:E(J,H("enableSubtitleTrackerLogging"),!1),P9b:E(J,H("sendSubtitleQoeLogblobOnMidplay"),!1),Hoa:E(S,"cdnIdWhiteList",[]),Goa:E(S,"cdnIdBlackList",[]),Tra:E(O,H("forceAudioTrack")),Xra:E(O,H("forceTimedTextTrack")),F_b:E(I,H("maxRetriesTimedTextDownload"),0),Bcc:E(I,H("timedTextRetryInterval"),8E3),gbc:E(O,"storageType","idb",/^(none|fs|idb|ls)$/),u$a:E(I,"lockExpiration",1E4),wZb:E(I,"lockRefresh",3E3),uFb:E(J,"captureUnhandledExceptions",!0),TVb:E(J,"ignoreUnhandledExceptionDuringPlayback",!0),Adc:E(J,"unhandledExceptionsArePlaybackErrors",!1),Hkb:E(O,"unhandledExceptionSource",""),M5b:E(J,"preserveLastFrame",!1),s0b:E(I,"minBufferingTimeInMilliseconds",4E3),m6b:E(I,"progressBackwardsGraceTimeMilliseconds",4E3),n6b:E(I,"progressBackwardsMinPercent",10),gEb:E(O,H("bookmarkIgnoreBeginning"),"0",wa),hEb:E(O,H("bookmarkIgnoreEnd"),"5%",wa),iEb:E(O,H("bookmarkIgnoreEndForBranching"),"60000",wa),cQ:E(I,"maxParallelConnections",3),jAa:E(J,"reportThroughputInLogblobs",!0),vy:E(I,"minAudioMediaRequestDuration",16E3),q0b:E(I,"minAudioMediaRequestDurationBranching",0),TB:E(I,"minVideoMediaRequestDuration",4E3),B0b:E(I,"minVideoMediaRequestDurationVariableGOP",0),z0b:E(I,"minVideoMediaRequestDurationBranching",0),xba:E(I,"minAudioMediaRequestSizeBytes",0),Gba:E(I,"minVideoMediaRequestSizeBytes",0),DMb:E(J,"droppedFrameRateFilterEnabled",!1),EMb:E(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),GMb:E(function(Oa,Ta,Qa,Wa,eb,ub){return P(Oa,Ta,"[",function(jb){jb=jb.split(";");for(var mb=jb.length;mb--;){jb[mb]=jb[mb].split("|");for(var Ia=jb[mb].length;Ia--;){jb[mb][Ia]=(0,p.hk)(jb[mb][Ia]);}}return jb;},[function(jb){return (0,t.isArray)(jb) && 0 < jb.length;},function(jb){for(var mb=jb.length;mb-- && void 0 !== jb;){if(!(0,t.isArray)(jb[mb]))return !1;for(var Ia=jb[mb].length;Ia--;){if(!(0,t.gF)(jb[mb][Ia],Qa,Wa))return !1;}}return !0;},function(jb){if(void 0 !== eb)for(var mb=jb.length;mb--;){if(eb !== jb[mb].length)return !1;}return !0;},function(jb){return void 0 === ub || jb.length >= ub;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),FMb:E(I,"droppedFrameRateFilterMinHeight",384),HMb:E(S,"droppedFramesPercentilesList",[]),m0b:E(J,"microsoftScreenSizeFilterEnabled",!1),lYb:E(J,"keyStatusFilterEnabled",!1),q7a:E(I,"hdcpEngagementWaitTime",0),wdc:E(J,"uiLabelFilterEnabled",!0),vdc:E(M,"uiLabelFilter",{}),eLb:E(I,H("defaultVolume"),100,0,100),Swa:E(I,H("maxPlaybackRate"),2,0,16),f3a:E(J,"fastForwardAds",!1),B1a:E(J,"disableVideoRightClickMenu",!1),Bba:E(I,"minDecoderBufferMilliseconds",1E3,0,k.Dz),BF:E(I,"optimalDecoderBufferMilliseconds",5E3,0,k.Dz),kya:E(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,k.Dz),uF:E(I,"minimumTimeBeforeBranchDecision",3E3,0,k.Dz),lbb:E(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,k.Dz),NB:E(I,"maxDecoderBufferMilliseconds",ba.NB.fa(z.ma),0,k.Dz),$0a:E(I,"decoderTimeoutMilliseconds",1E4,1),Rbb:E(I,"noRenderTimeoutMilliseconds",0),b4b:E(I,"pauseTimeoutLimitMilliseconds",18E5),xua:E(I,"inactivityMonitorInterval",3E4,0),dBb:E(S,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),LO:E(J,"enableTrickPlay",!1),jCb:E(S,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),fdc:E(I,"trickPlayHighResolutionBitrateThreshold",1E3),gdc:E(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),jdc:E(R,"trickplayBufferFactor",.5),edc:E(I,"trickPlayDownloadRetryCount",1),Gwa:E(O,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),kOb:E(W,"experimentalFilter",["throughput-wssl"]),Yoa:E(O,"ciPredictorSource","throughput-ci"),WBa:E(O,"simulationDurationStrategy","default"),yxa:E(O,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),LJa:E(M,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),pab:E(K,"maxIQRSamples",Infinity),dbb:E(K,"minIQRSamples",5),Blb:E(J,"useResourceTimingAPI",!1),QVb:E(J,"ignoreFirstByte",!0),axa:E(J,"mediaRequestAsyncLoadStart",ba.axa),Iec:E(J,"useXHROnLoadStart",!1),rra:E(S,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),O7:E(I,"connectTimeoutMilliseconds",8E3,500),Exa:E(I,"noProgressTimeoutMilliseconds",8E3,500),Ujb:E(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),tpc:E(I,"netflixRequestExpiryTimeout",0),yfc:E(J,"webkitDecodedFrameCountIncorrectlyReported",!1),u9b:E(I,"seekBackOnAudioTrackChangeMilliseconds",8E3),Jea:E(W,H("supportedAudioTrackTypes"),[],void 0,1),X$:E(I,"initialLogFlushTimeout",5E3),Odb:E(O,"playdataPersistKey",V.gB?"unsentplaydatatest":"unsentplaydata"),Bqc:E(J,"sendPersistedPlaydata",!0),J4b:E(I,"playdataPersistIntervalMilliseconds",4E3),Ppc:E(I,"playdataSendDelayMilliseconds",1E4),Cqc:E(J,"sendPlaydataBackupOnInit",!0),BZb:E(W,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),Xab:E(J,"midplayEnabled",!0),vba:E(I,"midplayIntervalMilliseconds",3E5),Yab:E(S,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),A8:E(I,"downloadReportDenominator",0),sMb:E(I,"downloadReportInterval",3E5),x$a:E(I,"logConfigApplyDenominator",0),OYa:E(fa,H("bookmarkByMovieId"),{}),sX:E(J,H("forceLimitedDurationLicense"),!1),lF:E(I,H("licenseRenewalRequestDelay"),0),Hya:E(I,H("persistedReleaseDelay"),1E4),Goc:E(J,H("limitedDurationFlagOverride"),void 0),Agb:E(I,"safariPlayPauseWorkaroundDelay",100),Jfc:E(I,"workaroundValueForSeekIssue",1200),Doa:E(J,H("callEndOfStream"),ba.Doa),n4b:E(J,"performRewindCheck",!0),IOb:E(J,"fatalOnUnexpectedSeeking",!0),HOb:E(J,"fatalOnUnexpectedSeeked",!0),M$b:E(J,H("setVideoElementSize")),AGb:E(J,H("clearVideoSrc"),!0),n1a:E(I,H("delayPlayPause"),0),pu:E(J,H("useTypescriptEme"),!1),rlb:E(J,H("useEncryptedEvent"),!0),SW:E(O,H("drmPersistKey"),"unsentDrmData"),Beb:E(J,H("promiseBasedEme"),!1),L1b:E(J,H("nudgeSourceBuffer"),!1),YAa:E(K,H("seekDelta"),1),s_:E(J,H("preciseSeeking"),!1),j5b:E(J,H("preciseSeekingOnTwoCoreDevice"),!1),m1a:E(fa,H("delayErrorHandling")),yl:E(O,"esn",""),i3a:E(O,"fesn",""),wNb:E(J,H("enablePerformanceLogging"),!1),q2a:E(J,H("enableEmeVerboseLogging"),!1),appId:E(O,"appId","",Ba),sessionId:E(O,"sessionId","",Ba),Ioa:E(O,"cdnProxyUrl"),Fec:E(J,"usePlayReadyHeaderObject",!1),N3a:E(I,"forceXhrErrorResponseCode",void 0),Ar:{qpc:E(O,"mslApiPath","/msl/"),Zpc:E(O,"proxyPath",""),az:E(O,"uiVersion"),gfa:E(O,"uiPlatform"),lmc:function(){return "0";},dza:E(W,"preferredLanguages",k.RGa,/^[a-zA-Z-]{2,5}$/,1),KPb:E(O,H("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),Pbc:E(J,"supportPreviewContentPin",!0),Qbc:E(J,"supportWatermarking",!0),oac:E(J,"showAllSubDubTracks",!1),tnc:E(J,H("failOnGuidMismatch"),!1)},fda:{enabled:E(J,"qcEnabled",!1),ep:E(O,"qcPackageId","")},ou:E(J,"useRangeHeader",!1),$W:E(J,"enableMilestoneEventList",!0),GDb:E(fa,"authenticationKeyNames",(0,p.Ce)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),acc:E(O,"systemKeyWrapFormat"),iac:E(J,"shouldSendUserAuthData",!0),kBa:E(J,"sendUserAuthIfRequired",ba.kBa),cac:E(J,"shouldClearUserData",!1),jS:E(J,"usesMsl",!0),U0b:E(J,"mslDeleteStore",!1),W0b:E(J,"mslPersistStore",!0),yHb:E(J,"correctNetworkForShortTitles",!0),e5b:E(J,"postplayHighInitBitrate",!1),Vbc:E(J,"supportsUnequalizedDownloadables",!0),U0a:E(I,H("debugAseDenominator"),100),c7:E(I,"aseAudioBufferSizeBytes",ba.c7.fa(y.Rw)),f7:E(I,"aseVideoBufferSizeBytes",ba.f7.fa(y.Rw)),cw:E(I,"minInitVideoBitrate",560),lxa:E(I,"minHCInitVideoBitrate",560),PB:E(I,"maxInitVideoBitrate",Infinity),BZ:E(I,"minInitAudioBitrate",0),zZ:E(I,"minHCInitAudioBitrate",0),mZ:E(I,"maxInitAudioBitrate",65535),wba:E(I,"minAcceptableVideoBitrate",235),tF:E(I,"minRequiredBuffer",3E4),uj:E(I,"minPrebufSize",7800),Aba:E(I,"minCheckBufferingCompleteInterval",999999),Nza:E(R,"rebufferingFactor",1),Or:E(I,"maxBufferingTime",2600),IDa:E(J,"useMaxPrebufSize",!0),Jt:E(I,"maxPrebufSize",45E3),Uwa:E(I,"maxRebufSize",Infinity),U$:E(T,"initialBitrateSelectionCurve",null),e8a:E(I,"initSelectionLowerBound",560),f8a:E(I,"initSelectionUpperBound",1050),W0:E(I,"throughputPercentForAudio",15),Tna:E(I,"bandwidthMargin",10),Una:E(J,"bandwidthMarginContinuous",!1),Vna:E(T,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Apa:E(I,"conservBandwidthMargin",20),ICa:E(J,"switchConfigBasedOnInSessionTput",!1),oW:E(I,"conservBandwidthMarginTputThreshold",0),Bpa:E(T,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),ujb:E(J,"switchAlgoBasedOnHistIQR",!1),cG:E(O,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Twa:E(K,"maxPlayerStateToSwitchConfig",-1),swa:E(O,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Fha:E(R,"IQRThreshold",.5),kua:E(O,"histIQRCalcToUse","simple"),Yv:E(I,"maxTotalBufferLevelPerSession",0),XW:E(J,"enableCombinedPlaygraphs",!0),KI:E(J,"enableAdPlaygraphs",!0),Ida:E(J,"retainSbrOnFade",!1),kra:E(W,"excludedContentPlaygraphIds",[]),F8:E(J,"enableDiscontiguousBuffering",!1),Vra:E(S,"forceImmediateTransitionTypeForTitles",[]),Ura:E(I,"forceImmediateTransitionExitZone",0),nfa:E(J,"useBufferSizeLimiter",!1),HDa:E(J,"useLegacyFragmentRounding",!1),y7a:E(I,"highWatermarkLevel",3E4),ckb:E(I,"toStableThreshold",3E4),Wea:E(I,"toUnstableThreshold",ba.Wea.fa(z.ma)),YBa:E(J,"skipBitrateInUpswitch",!1),ZDa:E(I,"watermarkLevelForSkipStart",8E3),F$:E(I,"highStreamRetentionWindow",9E4),Waa:E(I,"lowStreamTransitionWindow",51E4),gua:E(I,"highStreamRetentionWindowUp",3E5),uwa:E(I,"lowStreamTransitionWindowUp",3E5),fua:E(I,"highStreamRetentionWindowDown",6E5),twa:E(I,"lowStreamTransitionWindowDown",0),eua:E(R,"highStreamInfeasibleBitrateFactor",.5),KB:E(I,"lowestBufForUpswitch",15E3),Raa:E(I,"lockPeriodAfterDownswitch",15E3),wwa:E(I,"lowWatermarkLevel",25E3),my:E(I,"lowestWaterMarkLevel",2E4),xwa:E(J,"lowestWaterMarkLevelBufferRelaxed",!1),qba:E(R,"mediaRate",1),iba:E(I,"maxTrailingBufferLen",1E4),HV:E(I,"audioBufferTargetAvailableSize",262144),v1:E(I,"videoBufferTargetAvailableSize",1048576),Eab:E(I,"maxVideoTrailingBufferSize",8388608),hab:E(I,"maxAudioTrailingBufferSize",393216),X8:E(R,"fastUpswitchFactor",3),sra:E(R,"fastDownswitchFactor",1),Xv:E(I,"maxMediaBufferAllowed",24E4),VBa:E(J,"simulatePartialBlocks",!0),fib:E(J,"simulateBufferFull",!0),Cpa:E(J,"considerConnectTime",!1),zpa:E(R,"connectTimeMultiplier",1),E$a:E(I,"lowGradeModeEnterThreshold",12E4),F$a:E(I,"lowGradeModeExitThreshold",9E4),kab:E(I,"maxDomainFailureWaitDuration",3E4),gab:E(I,"maxAttemptsOnFailure",18),W2a:E(J,"exhaustAllLocationsForFailure",!0),sab:E(I,"maxNetworkErrorsDuringBuffering",20),aba:E(I,"maxBufferingTimeAllowedWithNetworkError",12E4),e3a:E(I,"fastDomainSelectionBwThreshold",2E3),Hjb:E(I,"throughputProbingEnterThreshold",4E4),Ijb:E(I,"throughputProbingExitThreshold",34E3),s$a:E(I,"locationProbingTimeout",1E4),l3a:E(I,"finalLocationSelectionBwThreshold",1E4),Fjb:E(R,"throughputHighConfidenceLevel",.75),Gjb:E(R,"throughputLowConfidenceLevel",.4),y2a:E(J,"enablePerfBasedLocationSwitch",!1),qw:E(J,"probeServerWhenError",!0),oza:E(I,"probeRequestTimeoutMilliseconds",8E3),xA:E(J,"allowSwitchback",!0),rK:E(I,"probeDetailDenominator",100),bba:E(I,"maxDelayToReportFailure",300),ewa:E(I,"locationStatisticsUpdateInterval",6E4),X_a:E(J,"countGapInBuffer",!1),BXa:E(J,"allowCallToStreamSelector",!0),XYa:E(I,"bufferThresholdForAbort",1E4),E_b:E(I,"maxResponsesInitialTput",6),t2a:E(J,"enableInitialTputLogging",!1),Jya:E(I,"pipelineScheduleTimeoutMs",2),QB:E(I,"maxPartialBuffersAtBufferingStart",2),Vwa:E(I,"maxStreamingSkew",4E3),Rwa:E(I,"maxPendingBufferPercentage",10),D$:E(I,"headerRequestSize",4096),bra:E(J,"estimateHeaderSize",!1),yZ:E(I,"minBufferLenForHeaderDownloading",1E4),c0:E(I,"reserveForSkipbackBufferMs",1E4),Qxa:E(I,"numExtraFragmentsAllowed",2),Qr:E(J,"pipelineEnabled",!1),rib:E(I,"socketReceiveBufferSize",0),k7:E(I,"audioSocketReceiveBufferSize",32768),pS:E(I,"videoSocketReceiveBufferSize",65536),cua:E(I,"headersSocketReceiveBufferSize",32768),lfa:E(I,"updatePtsIntervalMs",1E3),goa:E(I,"bufferTraceDenominator",100),QN:E(I,"bufferLevelNotifyIntervalMs",2E3),HN:E(I,"aseReportDenominator",0),d7:E(I,"aseReportIntervalMs",3E5),aNb:E(J,"enableAbortTesting",!1),bBb:E(I,"abortRequestFrequency",8),wCa:E(I,"streamingStatusIntervalMs",2E3),eC:E(I,"prebufferTimeLimit",24E4),zba:E(I,"minBufferLevelForTrackSwitch",2E3),Cya:E(I,"penaltyFactorForLongConnectTime",2),qwa:E(I,"longConnectTimeThreshold",200),hna:E(I,"additionalBufferingLongConnectTime",2E3),ina:E(I,"additionalBufferingPerFailure",8E3),K_:E(I,"rebufferCheckDuration",6E4),v2a:E(J,"enableLookaheadHints",!1),B$a:E(I,"lookaheadFragments",2),eB:E(J,"enableOCSideChannel",!0),Y3:E(M,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Skb:E(J,"updateDrmRequestOnNetworkFailure",!1),l1a:E(J,"deferAseScheduling",!1),jab:E(I,"maxDiffAudioVideoEndPtsMs",16E3),l8:E(I,"defaultHeaderCacheSize",4),k8:E(I,"defaultHeaderCacheDataPrefetchMs",8E3),XJ:E(J,"neverWipeHeaderCache",!0),xxa:E(I,"networkFailureResetWaitMs",2E3),wxa:E(I,"networkFailureAbandonMs",6E4),hba:E(I,"maxThrottledNetworkFailures",3),Oea:E(I,"throttledNetworkFailureThresholdMs",200),vwa:E(K,"lowThroughputThreshold",400),jra:E(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),tbb:E(J,"mp4ParsingInNative",!1),tib:E(J,"sourceBufferInOrderAppend",!0),AK:E(J,"requireAudioStreamToEncompassVideo",!0),AXa:E(J,"allowAudioToStreamPastVideo",!0),Si:E(J,"enableManagerDebugTraces",!1),R$a:E(I,"managerDebugMessageInterval",1E3),Q$a:E(I,"managerDebugMessageCount",20),fcb:E(J,"notifyManifestCacheEom",!1),foa:E(I,"bufferThresholdToSwitchToSingleConnMs",18E4),eoa:E(I,"bufferThresholdToSwitchToParallelConnMs",12E4),Fca:E(I,"periodicHistoryPersistMs",3E5),Uda:E(I,"saveVideoBitrateMs",18E4),QXa:E(J,"appendMediaRequestOnComplete",!0),Bfa:E(J,"waitForDrmToAppendMedia",!1),k9:E(J,H("forceAppendHeadersAfterDrm"),!1),IPb:E(J,H("forceAppendEncryptedStreamHeaderFirst"),!0),P6b:E(J,H("reappendRequestsOnSkip"),!1),$0b:E(I,"netIntrStoreWindow",36E3),v0b:E(I,"minNetIntrDuration",8E3),BOb:E(I,"fastHistoricBandwidthExpirationTime",10368E3),PDb:E(I,"bandwidthExpirationTime",5184E3),yOb:E(I,"failureExpirationTime",86400),qVb:E(I,"historyTimeOfDayGranularity",4),jOb:E(J,"expandDownloadTime",!1),I0b:E(I,"minimumMeasurementTime",500),H0b:E(I,"minimumMeasurementBytes",131072),qcc:E(I,"throughputMeasurementTimeout",2E3),vWb:E(I,"initThroughputMeasureDataSize",262144),rcc:E(O,"throughputPredictor","ewma"),pcc:E(I,"throughputMeasureWindow",5E3),vcc:E(I,"throughputWarmupTime",5E3),occ:E(I,"throughputIQRMeasureWindow",5E3),Arb:E(I,"IQRBucketizerWindow",15E3),eHb:E(I,"connectTimeHalflife",10),I8b:E(I,"responseTimeHalflife",10),pVb:E(I,"historicBandwidthUpdateInterval",2E3),G0b:E(I,"minimumBufferToStopProbing",1E4),XAa:E(O,"secondThroughputEstimator","none"),Kgb:E(K,"secondThroughputMeasureWindowInMs",Infinity),hNb:E(W,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),UOb:E(M,"filterDefinitionOverrides",{}),YKb:E(O,"defaultFilter","throughput-ewma"),t9b:E(O,"secondaryFilter","none"),ZKb:E(M,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),GZ:E(J,"needMinimumNetworkConfidence",!0),Yna:E(J,"biasTowardHistoricalThroughput",!0),Wma:E(J,"addHeaderDataToNetworkMonitor",!1),fCa:E(J,"startMonitorOnLoadStart",!1),iAa:E(J,"reportFailedRequestsToNetworkMonitor",!1),cba:E(K,"maxFastPlayBufferInMs",Infinity),Owa:E(K,"maxFastPlayBitThreshold",Infinity),tna:E(J,"appendFirstHeaderOnComplete",!0),XCb:E(O,"ase_stream_selector","optimized"),Jua:E(O,"initBitrateSelectorAlgorithm","default"),loa:E(O,"bufferingSelectorAlgorithm","default"),V0a:E(O,"ase_ls_failure_simulation",""),Zpa:E(J,"ase_dump_fragments",!1),$pa:E(I,"ase_location_history",0),W0a:E(I,"ase_throughput",0),Y0a:E(J,"ase_simulate_verbose",!1),$4b:E(I,"pollingPeriod",150),pZb:E(I,"loadTimeMs",18E4),g_b:E(I,"marginTimeMs",1E4),Asa:E(J,"getDeviceIdFromBindDevice",!1),Vma:E(J,"addFailedLogBlobsToQueue",!0),xdc:{"content-sampling":{Or:E(I,"contentSamplingMaxBufferingTime",3E3),sR:E(O,"contentSamplingSelectStartingVMAFMethod","fallback"),uV:E(J,"contentSamplingActivateSelectStartingVMAF",!0),dw:E(I,"contentSamplingMinStartingVideoVMAF",80),xZ:E(I,"contentSamplingMinAcceptableVMAF",70),RJ:E(I,"contentSamplingMinAllowedVmaf",60)},billboard:{cw:E(I,"billboardMinInitVideoBitrate",1050),PB:E(I,"billboardMaxInitVideoBitrate",null),uj:E(I,"billboardMinPrebufSize",null),Jt:E(I,"billboardMaxPrebufSize",null),Or:E(I,"billboardMaxBufferingTime",null),QB:E(I,"billboardMaxPartialBuffersAtBufferingStart",null),my:E(I,"billboardLowestWaterMarkLevel",6E3),KB:E(I,"billboardLowestBufForUpswitch",25E3),cG:E(O,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{cw:E(I,"preplayMinInitVideoBitrate",1050),PB:E(I,"preplayMaxInitVideoBitrate",null),uj:E(I,"preplayMinPrebufSize",null),Jt:E(I,"preplayMaxPrebufSize",null),Or:E(I,"preplayMaxBufferingTime",null),QB:E(I,"preplayMaxPartialBuffersAtBufferingStart",null),my:E(I,"preplayLowestWaterMarkLevel",6E3),KB:E(I,"preplayLowestBufForUpswitch",25E3)},embedded:{cw:E(I,"embeddedMinInitVideoBitrate",1050),PB:E(I,"embeddedMaxInitVideoBitrate",null),uj:E(I,"embeddedMinPrebufSize",null),Jt:E(I,"embeddedMaxPrebufSize",null),Or:E(I,"embeddedMaxBufferingTime",null),QB:E(I,"embeddedMaxPartialBuffersAtBufferingStart",null),my:E(I,"embeddedLowestWaterMarkLevel",6E3),KB:E(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{cw:E(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),PB:E(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),uj:E(I,"videoMerchBobHorizontalMinPrebufSize",null),Jt:E(I,"videoMerchBobHorizontalMaxPrebufSize",null),Or:E(I,"videoMerchBobHorizontalMaxBufferingTime",null),QB:E(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),my:E(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),KB:E(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{cw:E(I,"miniModalHorizontalMinInitVideoBitrate",null),PB:E(I,"miniModalHorizontalMaxInitVideoBitrate",null),uj:E(I,"miniModalHorizontalMinPrebufSize",null),Jt:E(I,"miniModalHorizontalMaxPrebufSize",null),Or:E(I,"miniModalHorizontalMaxBufferingTime",500),QB:E(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),my:E(I,"miniModalHorizontalLowestWaterMarkLevel",null),KB:E(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{uj:E(I,"liveMinPrebufSize",2E3),Jt:E(I,"liveMaxPrebufSize",4E3),Or:E(I,"liveMaxBufferingTime",500)}},FNb:E(J,"enableVerbosePlaydelayLogging",!1),zNb:E(J,"enableSeamless",!1),jua:E(I,"hindsightDenominator",0),iua:E(I,"hindsightDebugDenominator",0),H$:E(M,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),aX:E(J,"enableSessionHistoryReport",!1),Jqa:E(I,"earlyStageEstimatePeriod",1E4),X9a:E(I,"lateStageEstimatePeriod",3E4),fba:E(I,"maxNumSessionHistoryStored",30),Fba:E(I,"minSessionHistoryDuration",3E4),ry:E(I,"maxActiveRequestsPerSession",3),Zaa:E(I,"maxActiveRequestsSABCell100",2),awa:E(J,"limitAudioDiscountByMaxAudioBitrate",!0),je:E(M,"browserInfo",{}),DEb:E(I,H("busyGracePeriod"),199),Q9b:E(J,H("sendTransitionLogblob"),!0),RMb:E(J,H("editVideoFragments"),!0),D8:E(J,H("earlyAppendSingleChildBranch"),!0),bWb:E(J,H("includeSegmentInfoOnLogblobs"),!0),pOb:E(J,"exposeTestData",!1),oOb:E(J,H("exposeErrorData"),!1),aqa:E(J,"declareBufferingCompleteAtSegmentEnd",!0),fI:E(J,H("applyProfileTimestampOffset"),!1),ro:E(J,H("applyProfileStreamingOffset"),!1),uZ:E(J,H("mediaSourceSupportsNegativePts"),!1),zCb:E(J,H("allowSmallSeekDelta"),!1),Eac:E(I,H("smallSeekDeltaThresholdMilliseconds"),v.v4),fNb:E(J,"enableCDMAttestedDescriptors",!1),Bda:E(J,"requireDownloadDataAtBuffering",!1),Cda:E(J,"requireSetupConnectionDuringBuffering",!1),Pza:E(J,"recordFirstFragmentOnSubBranchCreate",!1),oEb:E(J,"branchingAudioTrackFrameDropSmallSeekFix",!0),vlb:E(J,"useMobileVMAF",!1),u1a:E(O,"desiredVMAFTypeMobile","phone_plus_lts"),v1a:E(O,"desiredVMAFTypeNonMobile","plus_lts"),uV:E(J,"activateSelectStartingVMAF",!1),dw:E(I,"minStartingVideoVMAF",1),xZ:E(I,"minAcceptableVMAF",1),RJ:E(I,"minAllowedVmaf",1),CCb:E(J,"alwaysNotifyEOSForPlaygraph",!0),KO:E(J,"enableNewAse",!0),q1:E(J,"useNewApi",!0),$aa:E(I,"maxAllowedOutstandingRequests",4),CN:E(J,"alwaysRunUnderflowTimer",!0),mxa:E(I,"minStreamableConcurrencyWindow",3E3),tCa:E(R,"streamableConcurrencyFactor",.3),aW:E(I,"bufferingConcurrencyWindow",7800),xac:E(J,"singleStreamablePerBranch",!0),H8:E(J,"enableResolutionVMAFStreamFilter",!1),Hda:E(M,"resolutionVMAFCappingRuleList",{}),Fya:E(K,"percentCapTitlesForResolutionVMAFStreamFilter",100),YLb:E(J,"disableSkipping",!1),pfa:E(J,"useHLSPlayer",ba.pfa),FDa:E(J,H("useExitZones"),!0),q8b:E(J,"requestSegmentVmaf",!1),KQ:E(M,"perFragmentVMAFConfig",{enabled:!1}),pya:E(I,"paddingDurationMs",1E3),qya:E(O,"paddingMediaType","padding"),HCa:E(J,"supportsPtsChanged",!1)};La=!0;b.xpa=function(Oa){var Ta,Qa,Wa;Ta=d.Ba.get(B.cd).id;if(0 < b.config.x$a && 0 === Ta % b.config.x$a)try{Qa=d.Ba.get(u.bo);Wa=d.Ba.get(w.Cz).hv("config","info",{params:Oa});Qa.Gc(Wa);}catch(eb){d.log.error("Failed to log config$apply",eb);}nb._cad_global.config=b.config;(0,h.Wa)(Oa);Oa && (Ga=(0,p.Ce)({},Oa,{jZ:!0}),(0,p.Ce)(Ga,Q,{jZ:!0}),G(qa,b.config),Ga.istestaccount && d.log.trace("Config applied for",sa(La?Ga:Oa)),La=!1);};(0,b.xpa)(Ga);};b.ypa=function(D){D=c(D);return (0,p.Ce)({},a(189)(D),{pca:!0});};b.D_a=function(D,F,G){G=! !G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={vy:D?b.config.q0b:b.config.vy,TB:D?b.config.z0b:G?b.config.B0b:b.config.TB,D8:!F};return (0,p.Ce)({},a(189)(D),{pca:!0});};b.E_a=c;b.cHb=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cd="ApplicationSymbol";},function(r,b,a){var m;function c(k,l){return k && l?Math.abs(k * l / m.JE(k,l)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.K=void 0;m=a(370);r=(function(){function k(l,d){"object" === typeof l?(this.uc=l.bb,this.rb=l.X):(this.uc=l,this.rb=d);isFinite(this.uc) || (this.rb=1);}k.compare=function(l,d){return l.bm(d);};k.abs=function(l){return new k(Math.abs(l.uc),l.rb);};k.Ga=function(l){return 0 === l?k.Ia:new k(l,1E3);};k.Vea=function(l,d){return Math.floor(1E3 * l / d);};k.vbb=function(l,d){return Math.floor(l * d / 1E3);};k.max=function(){for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}return l.reduce(function(f,h){return f.greaterThan(h)?f:h;});};k.min=function(){for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}return l.reduce(function(f,h){return f.lessThan(h)?f:h;});};k.JE=function(l,d){var f;if(l.rb === d.rb)return new k(m.JE(l.uc,d.uc),l.rb);f=c(l.rb,d.rb);return new k(m.JE(l.uc * f / l.rb,d.uc * f / d.rb),f);};Object.defineProperties(k.prototype,{bb:{get:function(){return this.uc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{X:{get:function(){return this.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U:{get:function(){return k.Vea(this.uc,this.rb);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lK:{get:function(){return 1E3 * this.uc / this.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{FK:{get:function(){var l;l=this.lK;return 0 > l?Math.ceil(l):Math.floor(l);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zi:{get:function(){return this.uc / this.rb;},enumerable:!1,configurable:!0}});k.prototype.wg=function(l){l/=this.rb;return new k(Math.floor(this.uc * l),Math.floor(this.rb * l));};k.prototype.add=function(l){var d;if(this.rb === l.rb)return new k(this.uc + l.uc,this.rb);d=c(this.rb,l.rb);return new k(this.uc * d / this.rb + l.uc * d / l.rb,d);};k.prototype.Aa=function(l){var d;if(this.rb === l.rb)return new k(this.uc - l.uc,this.rb);d=c(this.rb,l.rb);return new k(this.uc * d / this.rb - l.uc * d / l.rb,d);};k.prototype.WB=function(l){return new k(this.uc * l,this.rb);};k.prototype.Ok=function(l){var d;if("number" === typeof l){if(Math.floor(l) === l){d=c(this.uc,l);if(d !== this.uc)return this.wg(d / this.uc * this.rb).Ok(l);}return new k(Math.floor(this.uc / l),this.rb);}if(this.rb === l.rb)return this.uc / l.uc;d=c(this.rb,l.rb);return this.uc * d / this.rb / (l.uc * d / l.rb);};k.prototype.xO=function(l){var d;if(this.rb === l.rb)return new k(Math.abs(this.uc - l.uc),this.rb);d=c(this.rb,l.rb);return new k(Math.abs(this.uc * d / this.rb - l.uc * d / l.rb),d);};k.prototype.pfb=function(){return new k(this.rb,this.uc);};k.prototype.compare=function(l,d){var f;if(this.rb === d.rb)return l(this.uc,d.uc);f=c(this.rb,d.rb);return l(this.uc * f / this.rb,d.uc * f / d.rb);};k.prototype.bm=function(l){var d;if(this.rb === l.rb)return this.bb === l.uc?0:this.uc - l.uc;d=c(this.rb,l.rb);return this.uc * d / this.rb - l.uc * d / l.rb;};k.prototype.equal=function(l){return this.compare(function(d,f){return d === f;},l);};k.prototype.Ixa=function(l){return this.compare(function(d,f){return d !== f;},l);};k.prototype.lessThan=function(l){return this.compare(function(d,f){return d < f;},l);};k.prototype.greaterThan=function(l){return this.compare(function(d,f){return d > f;},l);};k.prototype.kF=function(l){return this.compare(function(d,f){return d <= f;},l);};k.prototype.rj=function(l){return this.compare(function(d,f){return d >= f;},l);};k.prototype.isFinite=function(){return ! !this.rb && isFinite(this.uc);};k.prototype.I6a=function(l){return c(this.X,l);};k.prototype.toJSON=function(){return {ticks:this.uc,timescale:this.rb};};k.prototype.toString=function(){return this.uc + "/" + this.rb;};k.prototype.Zb=function(){return this.uc + "/" + this.rb + " (" + this.U + "ms)";};k.Ia=new k(0,1E3);k.ZB=new k(1,1E3);k.Pv=new k(Infinity,1);return k;})();b.K=r;},function(r,b,a){var m;function c(k){return k.filter(function(l,d){return k.indexOf(l) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.Yba=b.sUb=b.zHb=b.flatten=b.bbb=b.RGb=b.b7=b.Yu=b.aYa=b.FV=b.a7=b.uo=b.Ana=b.Vc=void 0;m=a(0);b.Vc=function(k,l){for(var d=0;d < k.length;d++){if(l(k[d],d,k))return k[d];}};b.Ana=function(k,l){for(var d=k.length - 1;0 <= d;--d){if(l(k[d],d,k))return k[d];}};b.uo=function(k,l){var d;d=-1;return k.some(function(f,h,g){d=h;return l(f,h,g);})?d:-1;};b.a7=function(k,l){for(var d=k.length - 1;0 <= d;d--){if(l(k[d],d,k))return d;}return -1;};b.FV=c;b.aYa=function(k,l){l=k.indexOf(l);if(-1 === l)return !1;k.splice(l,1);return !0;};b.Yu=function(k,l,d){return d?k.filter(function(f){return !l.some(function(h){return d(f,h);});}):k.filter(function(f){return -1 === l.indexOf(f);});};b.b7=function(k,l){return c(k.concat(l));};b.RGb=function(k){return function(l,d){return k(l) - k(d);};};b.bbb=function(k){return function(l,d){return k(l) < k(d)?l:d;};};b.flatten=function(k){var l;return (l=[]).concat.apply(l,m.__spread(k));};b.zHb=function(k,l){void 0 === l && (l=function(d){return d;});return k.reduce(function(d,f){f=l(f);return (void 0 === d[f]?d[f]=1:++d[f],d);},{});};b.sUb=function(k,l){return k.reduce(function(d,f){var h;h=l(f);return (void 0 === d[h]?d[h]=[f]:d[h].push(f),d);},{});};b.Yba=function(k){return null !== k && void 0 !== k;};},function(r,b,a){function c(){c=Object.assign || (function(E){for(var H,L=1,K=arguments.length;L < K;L++){H=arguments[L];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (E[I]=H[I]);}}return E;});return c.apply(this,arguments);}function m(E,H){m=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,K){L.__proto__=K;}) || (function(L,K){for(var I in K){K.hasOwnProperty(I) && (L[I]=K[I]);}});return m(E,H);}function k(E,H){function L(){this.constructor=E;}m(E,H);E.prototype=null === H?Object.create(H):(L.prototype=H.prototype,new L());}function l(E,H){var L,K,I;L={};for(K in E){Object.prototype.hasOwnProperty.call(E,K) && 0 > H.indexOf(K) && (L[K]=E[K]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){I=0;for(K=Object.getOwnPropertySymbols(E);I < K.length;I++){0 > H.indexOf(K[I]) && Object.prototype.propertyIsEnumerable.call(E,K[I]) && (L[K[I]]=E[K[I]]);}}return L;}function d(E,H,L,K){var I,R,O;I=arguments.length;R=3 > I?H:null === K?K=Object.getOwnPropertyDescriptor(H,L):K;if("object" === typeof Reflect && "function" === typeof Reflect.Zp)R=Reflect.Zp(E,H,L,K);else for(var J=E.length - 1;0 <= J;J--){if(O=E[J])R=(3 > I?O(R):3 < I?O(H,L,R):O(H,L)) || R;}return (3 < I && R && Object.defineProperty(H,L,R),R);}function f(E,H){return function(L,K){H(L,K,E);};}function h(E,H){if("object" === typeof Reflect && "function" === typeof Reflect.Bc)return Reflect.Bc(E,H);}function g(E,H,L,K){function I(R){return R instanceof L?R:new L(function(O){O(R);});}return new (L || (L=Promise))(function(R,O){function J(S){try{P(K.next(S));}catch(T){O(T);}}function M(S){try{P(K["throw"](S));}catch(T){O(T);}}function P(S){S.done?R(S.value):I(S.value).then(J,M);}P((K=K.apply(E,H || [])).next());});}function n(E,H){var I,R,O,J,M;function L(P){return function(S){return K([P,S]);};}function K(P){if(R)throw new TypeError("Generator is already executing.");for(;I;){try{if((R=1,O && (J=P[0] & 2?O["return"]:P[0]?O["throw"] || ((J=O["return"]) && J.call(O),0):O.next) && !(J=J.call(O,P[1])).done))return J;if((O=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (I.label++,{value:P[1],done:!1});case 5:I.label++;O=P[1];P=[0];continue;case 7:P=I.Xk.pop();I.Dh.pop();continue;default:if(!(J=I.Dh,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){I=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))I.label=P[1];else if(6 === P[0] && I.label < J[1])(I.label=J[1],J=P);else if(J && I.label < J[2])(I.label=J[2],I.Xk.push(P));else {J[2] && I.Xk.pop();I.Dh.pop();continue;}}P=H.call(E,I);}catch(S){P=[6,S];O=0;}finally{R=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}I={label:0,ob:function(){if(J[0] & 1)throw J[1];return J[1];},Dh:[],Xk:[]};return (M={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,H,L,K){void 0 === K && (K=L);E[K]=H[L];}function q(E,H){for(var L in E){"default" === L || H.hasOwnProperty(L) || (H[L]=E[L]);}}function t(E){var H,L,K;H="function" === typeof Symbol && Symbol.iterator;L=H && E[H];K=0;if(L)return L.call(E);if(E && "number" === typeof E.length)return {next:function(){E && K >= E.length && (E=void 0);return {value:E && E[K++],done:!E};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(E,H){var L,K,I;L="function" === typeof Symbol && E[Symbol.iterator];if(!L)return E;E=L.call(E);I=[];try{for(;(void 0 === H || 0 < H--) && !(K=E.next()).done;){I.push(K.value);}}catch(O){var R;R={error:O};}finally{try{K && !K.done && (L=E["return"]) && L.call(E);}finally{if(R)throw R.error;}}return I;}function u(){for(var E=[],H=0;H < arguments.length;H++){E=E.concat(v(arguments[H]));}return E;}function w(){var K;for(var E=0,H=0,L=arguments.length;H < L;H++){E+=arguments[H].length;}E=Array(E);K=0;for(H=0;H < L;H++){for(var I=arguments[H],R=0,O=I.length;R < O;(R++,K++)){E[K]=I[R];}}return E;}function x(E){return this instanceof x?(this.ez=E,this):new x(E);}function y(E,H,L){var M,P,S;function K(T){M[T] && (P[T]=function(U){return new Promise(function(W,fa){1 < S.push([T,U,W,fa]) || I(T,U);});});}function I(T,U){var W;try{W=M[T](U);W.value instanceof x?Promise.resolve(W.value.ez).then(R,O):J(S[0][2],W);}catch(fa){J(S[0][3],fa);}}function R(T){I("next",T);}function O(T){I("throw",T);}function J(T,U){(T(U),S.shift(),S.length) && I(S[0][0],S[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=L.apply(E,H || []);S=[];return (P={},K("next"),K("throw"),K("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(E){var L,K;function H(I,R){L[I]=E[I]?function(O){return (K=!K)?{value:x(E[I](O)),done:"return" === I}:R?R(O):O;}:R;}return (L={},H("next"),H("throw",function(I){throw I;}),H("return"),L[Symbol.iterator]=function(){return this;},L);}function A(E){var K,I;function H(R){I[R]=E[R] && (function(O){return new Promise(function(J,M){O=E[R](O);L(J,M,O.done,O.value);});});}function L(R,O,J,M){Promise.resolve(M).then(function(P){R({value:P,done:J});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");K=E[Symbol.asyncIterator];return K?K.call(E):(E="function" === typeof t?t(E):E[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(E,H){Object.defineProperty?Object.defineProperty(E,"raw",{value:H}):E.raw=H;return E;}function C(E){var H;if(E && E.__esModule)return E;H={};if(null != E)for(var L in E){Object.hasOwnProperty.call(E,L) && (H[L]=E[L]);}H.default=E;return H;}function D(E){return E && E.__esModule?E:{default:E};}function F(E,H){if(!H.has(E))throw new TypeError("attempted to get private field on non-instance");return H.get(E);}function G(E,H,L){if(!H.has(E))throw new TypeError("attempted to set private field on non-instance");H.set(E,L);return L;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return g;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b,a){var k,l,d;function c(){d || (d=k.Ba.get(l.pz));return d;}function m(f,h){return c().assert(f,h);}Object.defineProperty(b,"__esModule",{value:!0});b.HKb=b.Ypa=b.AKb=b.EKb=b.qO=b.AW=b.DKb=b.FKb=b.BW=b.T0a=b.CKb=b.BKb=b.Wa=b.GKb=b.qnb=void 0;k=a(8);l=a(109);b.qnb=function(){m(!1);};b.GKb=!0;d=void 0;b.Wa=m;b.BKb=function(f,h){return c().aDb(f,h);};b.CKb=function(f,h){return c().bDb(f,h);};b.T0a=function(f,h){return c().g7(f,h);};b.BW=function(f,h){return c().hDb(f,h);};b.FKb=function(f,h){return c().fDb(f,h);};b.DKb=function(f,h){return c().Dna(f,h);};b.AW=function(f,h){return c().dDb(f,h);};b.qO=function(f,h){return c().gDb(f,h);};b.EKb=function(f,h){return c().eDb(f,h);};b.AKb=function(f,h){return c().$Cb(f,h);};b.Ypa=function(f,h){return c().cDb(f,h);};b.HKb=function(){return c().RWb();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(99);b.R=!1;r=(function(){function m(k,l,d,f,h){this.Sb=k;this.type=l;this.byteOffset=d;this.byteLength=f;this.parent=h;this.ie={};this.eK=f;}m.iB=function(k,l){var f,g;function d(n){n && n.iB && (n=n.iB(l),n.length && (f=f.concat(n)));}f=[];k.type === l && f.push(k);if(k.ie)for(var h in k.ie){g=k.ie[h];Array.isArray(g) && g.forEach(d);}return f;};m.yV=function(k,l){void 0 === k.ie[l.type] && (k.ie[l.type]=[]);k.ie[l.type].push(l);};m.Vx=function(k,l){return m.iB(k,l)[0];};Object.defineProperties(m.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(m.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(m.prototype,{N:{get:function(){return this.Sb;},enumerable:!0,configurable:!0}});m.prototype.Bh=function(){var k;k=this.Sb.bc();this.version=k >> 24;this.flags=k & 16777215;};m.prototype.yV=function(k){m.yV(this,k);};m.prototype.iB=function(k){return m.iB(this,k);};m.prototype.Vx=function(k){return m.Vx(this,k);};m.prototype.parse=function(){return !0;};m.prototype.RI=function(){return !0;};m.prototype.Gq=function(k){if((k=this.ie[k]) && Array.isArray(k) && 1 === k.length)return k[0];};m.prototype.Nn=function(k,l){l=void 0 === l?this.Sb.offset:l;c.assert(l >= this.startOffset + 8 && l + k <= this.startOffset + this.eK,"Removal range [0x" + l.toString(16) + "-0x" + (l + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eK).toString(16) + ")");this.Sb.Nn(k,l,this);};m.prototype.yda=function(k,l,d){d=void 0 === d?this.Sb.offset:d;c.assert(d >= this.startOffset + 8 && d + k <= this.startOffset + this.eK,"Removal range [0x" + d.toString(16) + "-0x" + (d + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eK).toString(16) + ")");this.Sb.yda(k,l,d,this);};m.prototype.dfb=function(k,l,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.WVa(k,l));}return f;}return this.WVa(k,l);};m.prototype.Oy=function(k){var l,d;d=this;void 0 === l && (l={});k.forEach(function(f){var h,g;if("offset" === f.type){h=f.offset;if(0 < h % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.Sb.offset+=h / 8;}else for(h in f){g=f[h];l[h]="string" === typeof g?d.dfb(g):d.dfb(g.type,g.length,g.RCb);}});return l;};m.prototype.WVa=function(k,l){var d;d=this.byteLength - this.Sb.offset + this.startOffset;"undefined" === typeof l && (l=d);switch(k){case "int8":k=this.Sb.Ed();break;case "int64":k=this.Sb.Ml();break;case "int32":k=this.Sb.bc();break;case "int16":k=this.Sb.fh();break;case "string":k=this.Sb.G6b(Math.min(l,d));break;default:throw Error("Invalid type: " + k);}return k;};m.od=!1;return m;})();b.$f=r;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.uHb=b.O3a=b.rn=b.mg=b.KGb=b.cf=b.ny=b.trim=b.mua=b.djb=b.Peb=b.N3b=b.hk=b.bYa=b.vZa=b.Ce=b.$g=void 0;c=a(23);m=a(13);k=a(15);b.$g=function(l,d){for(var f in l){l.hasOwnProperty(f) && d(f,l[f]);}};b.Ce=b.Ce || (function(l,d,f){var h,g,n;if(d)if(f){h=f.jZ;g=f.prefix;n=f.pca;(0,b.$g)(d,function(p,q){if(!n || (0,k.pd)(q))l[(g || "") + (h?p.toLowerCase():p)]=q;});}else (0,b.$g)(d,function(p,q){l[p]=q;});return l;});b.vZa=function(l,d,f,h){var g;if(l){g=l[d];(0,k.ed)(g) && (f=g.apply(l,m.slice.call(arguments,3)));}return f;};b.bYa=function(l){for(var d={},f=l.length;f--;){d[l[f]]=!0;}return d;};b.hk=b.hk || (function(l){return parseInt(l,10);});b.N3b=function(l){return (/^true$/i).test(l);};b.Peb=function(l,d){return (0,m.zp)(l + (0,m.yT)() * (d - l));};b.djb=function(l){return JSON.stringify(l,null,"  ");};b.mua=(function(){var d,f;function l(h){(0,c.Wa)(void 0 !== d[h]);return d[h];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(h){return h.replace(f,l);};})();b.trim=(function(){var l;l=/^\s+|\s+$/gm;return function(d){return d.replace(l,"");};})();b.ny=function(l){return Array.isArray(l)?l:[l];};b.cf=b.cf || (function(l){var d,f,h;if(l){d=l.stack;f=l.number;h=l.message;h || (h="" + l);d?(l="" + d,0 != l.indexOf(h) && (l=h + "\n" + l)):l=h;f && (l+="\nnumber:" + f);return l;}});b.KGb=function(l){var h;for(var d=0;d < arguments.length;++d){;}d=0;for(var f=arguments.length;d < f;){h=arguments[d++];if((0,k.pd)(h))return h;}};b.mg=function(l){return (0,k.Ka)(l)?l.toFixed(0):"";};b.rn=function(l){return (0,k.Ka)(l)?(l / 1E3).toFixed(0):"";};b.O3a=function(l){return (0,k.Ka)(l)?l.toFixed():"";};b.uHb=function(l){for(var d=[],f=0;f < l.length;f++){d[f]=l[f];}return d;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rz=b.$Sa=b.Yub=b.Nq=b.rf=b.Om=b.Qw=b.eo=void 0;(function(a){a[a.Audio=0]="Audio";a[a.TSa=1]="Video";})(b.eo || (b.eo={}));(function(a){a[a.qz=0]="Default";a[a.Gz=1]="Microsoft";})(b.Qw || (b.Qw={}));(function(a){a[a.qz=0]="Default";a[a.EL=1]="Chrome";a[a.Gz=2]="Microsoft";})(b.Om || (b.Om={}));(function(a){a[a.TT=0]="SD";a[a.Q2=1]="HD";a[a.oM=2]="UHD";a[a.Uw=3]="DV";a[a.OL=4]="HDR10";a[a.SC=5]="AVCHigh";a[a.sD=6]="VP9";a[a.Tl=7]="AV1";})(b.rf || (b.rf={}));(function(a){a[a.K3=0]="Level_1_4";a[a.JG=1]="Level_2_2";})(b.Nq || (b.Nq={}));b.Yub=function(){};(function(a){a[a.akc=0]="Platform";a[a.phc=1]="CurrentTitle";})(b.$Sa || (b.$Sa={}));b.rz="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Og="IsTypeSymbol";},function(r,b,a){(function(c){var m,k,l,d,f,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.R0b=b.platform=b.sh=b.Pb=b.oSb=b.WX=b.gJ=b.PZb=b.fH=b.he=b.vp=b.pk=b.XL=b.Du=b.hH=void 0;m=a(0);m.__exportStar(a(174),b);m.__exportStar(a(365),b);m.__exportStar(a(792),b);m.__exportStar(a(793),b);m.__exportStar(a(794),b);k=a(97);Object.defineProperties(b,{hH:{enumerable:!0,get:function(){return k.hH;}}});Object.defineProperties(b,{Du:{enumerable:!0,get:function(){return k.Du;}}});Object.defineProperties(b,{XL:{enumerable:!0,get:function(){return k.XL;}}});m.__exportStar(a(805),b);m.__exportStar(a(369),b);m.__exportStar(a(226),b);m.__exportStar(a(20),b);m.__exportStar(a(371),b);l=a(372);Object.defineProperties(b,{pk:{enumerable:!0,get:function(){return l.pk;}}});Object.defineProperties(b,{vp:{enumerable:!0,get:function(){return l.vp;}}});d=a(53);Object.defineProperties(b,{he:{enumerable:!0,get:function(){return d.he;}}});f=a(228);Object.defineProperties(b,{fH:{enumerable:!0,get:function(){return f.fH;}}});m.__exportStar(a(229),b);m.__exportStar(a(820),b);b.PZb=function(n){b.platform.vY(n);if(!c.dX.qgc)return a(824).TLa;throw Error("Legacy not included in bundle");};b.gJ=function(n){b.platform.vY(n);return Promise.resolve().then(function(){return m.__importStar(a(264));}).then(function(p){return p.gJ();});};b.WX=function(n,p){b.platform.vY(n);return Promise.resolve().then(function(){return m.__importStar(a(432));}).then(function(q){return q.WX(p);});};b.oSb=function(){return a(233);};h=m.__importDefault(a(29));b.Pb=h.default;h=a(1112);b.sh=h.sh;h=m.__importDefault(a(4));b.platform=h.default;g=a(1113);b.R0b=function(){return {$w:g.$w};};}).call(this,a(123));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={Qgc:{hx:0,pkc:1,name:["STARTUP","STEADY"]},j3:{jh:0,okc:1,Uub:2,name:["STARTING","STABLE","UNSTABLE"]},cb:{dc:0,Jb:1,name:["AUDIO","VIDEO"]},kl:{dc:0,Jb:1,name:["AUDIO","VIDEO"]},bi:{URL:0,bH:1,LOCATION:2,Hz:3,name:["URL","SERVER","LOCATION","NETWORK"]},Ij:{HAVE_NOTHING:0,aD:1,$C:2,dT:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Mz:{wgc:0,oic:1,Sjc:2,ojc:3,Mjc:4,Pkc:5,tic:6,Oic:7,hx:8,ag:9,Nia:10,Dtb:11,oga:12,Irb:13,Hrb:14,kub:15,jub:16,Mrb:17,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded").split(" ")},Rhc:{Hz:0,qhc:1,name:["NETWORK","DECODE"]},mkc:{rhc:"delayedSeamless",Bic:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eh="ClockSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ci="UtilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Di="Base64EncoderSymbol";},function(r,b,a){var l,d;function c(f,h){return f && f.Uv && (h || !1 !== f.zv);}function m(f,h,g){return !l.Ka(f) || f < h?h:f > g?g:f;}function k(f){if(!(this instanceof k))return new k(f);this.gf=l.Ka(f)?f:void 0;}l=a(10);d=new (a(4).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(f,h){if(!f)throw (f=h?" : " + h:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},AJ:c,Ira:function(f,h,g){var p,q,t,v;function n(u){var w;w=f[u];if(!w.Uv || g && !g(w,u))return !1;v=u;return !0;}p=f.length;q=0;t=p;l.isArray(h) && (q=m(h[0],0,p),t=m(h[1],0,p),h=h[2]);h=m(h,q - 1,t);for(p=h - 1;p >= q;--p){if(n(p))return v;}for(p=h + 1;p < t;++p){if(n(p))return v;}return -1;},S0b:function(f,h){return Math.floor(f / (125 * h) * 1E3);},GEb:function(f,h){return Math.ceil(f / 1E3 * h * 125);},toc:function(f,h){return !f.slice(h + 1).some(c);},Sq:k,Vc:function(f,h){var g;return f.some(function(n,p,q){g=n;return h(n,p,q);})?g:void 0;},uo:function(f,h){var g;return f.some(function(n,p,q){g=p;return h(n,p,q);})?g:-1;},G7:m};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hga="ConfigurableInputsSymbol";b.Nm="ValidatingConfigurableInputsSymbol";b.k2="ConfigNameSymbol";b.nT="InitParamsSymbol";},function(r,b,a){var l,d,f;function c(h){var g,n,p,v;p=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var q=(g=void 0,l.__values(Object.getOwnPropertyNames(h))),t=q.next();!t.done;t=q.next()){v=t.value;-1 === p.indexOf(v) && p.push(v);}}catch(u){g={error:u};}finally{try{t && !t.done && (n=q.return) && n.call(q);}finally{if(g)throw g.error;}}h=Object.getPrototypeOf(h);}return p;}function m(h,g,n,p,q){var t;Object.getOwnPropertyNames(h).filter(function(v){return q(v) && (n || !Object.prototype.hasOwnProperty.call(g,v)) && (p || !((v in g)));}).forEach(function(v){t=Object.getOwnPropertyDescriptor(h,v);void 0 !== t && Object.defineProperty(g,v,t);});}function k(h,g,n,p){var q,t;q=[];n || (q=Object.getOwnPropertyNames(g));p || (q=c(g));t=Object.getPrototypeOf(h);null !== t && t !== Object.prototype && k(t,g,n,p);m(h,g,!0,!0,function(v){return "constructor" !== v && -1 === q.indexOf(v);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Re=b.wHb=void 0;l=a(0);d=a(2);b.wHb=k;f=Object.getOwnPropertyNames(Function);b.Re=function(h,g,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || d.assert(!n);h.prototype?(k(h.prototype,g.prototype,n,p),m(h,g,n,p,function(q){return -1 === f.indexOf(q);})):m(h,g.prototype,n,p,function(q){return -1 === f.indexOf(q);});return g;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hj="AsyncComponentLoaderSymbol";},function(r,b,a){var m;function c(k,l,d,f,h,g,n,p,q,t,v,u){this.code=void 0 === k?m.W.ho:k;this.Hc=l;this.Ud=d;this.Ho=f;this.VB=h;this.message=g;this.details=n;this.data=p;this.Rk=q;this.H4b=t;this.alert=v;this.lna=u;this.ea=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.gd=void 0;m=a(3);c.cf=function(k){var l,d,f;if(k){l=k.stack;d=k.number;f=k.message;f || (f="" + k);l?(k="" + l,0 !== k.indexOf(f) && (k=f + "\n" + k)):k=f;d && (k+="\nnumber:" + d);return k;}return "";};c.prototype.IW=function(k){this.details=c.cf(k);this.data=k;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Hc,extCode:this.Ud,edgeCode:this.Ho,mslCode:this.VB,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Rk,playbackServiceError:this.H4b};};c.bsa=function(k,l){return new c(k,m.T.Im,void 0,void 0,void 0,void 0,l.message,l.stack);};c.nmb=function(k,l){return new c(k,l,void 0,void 0,void 0,void 0,void 0,void 0);};c.Gfc=function(k,l,d){return new c(k,l,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.gd=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iTa="WindowTimersSymbol";b.HG="JSONSymbol";b.MSa="UserAgentSymbol";b.aM="NavigatorSymbol";b.msb="MediaSourceSymbol";b.mLa="LocationSymbol";b.bHa="DateSymbol";b.Xia="PerformanceSymbol";b.g4="PlatformExtraInfoSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(813),b);r.__exportStar(a(146),b);r.__exportStar(a(814),b);r.__exportStar(a(815),b);r.__exportStar(a(816),b);r.__exportStar(a(817),b);r.__exportStar(a(376),b);r.__exportStar(a(818),b);r.__exportStar(a(819),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xp=b.ax=b.xz=void 0;(function(a){a[a.dSa=0]="Test";a[a.IKa=1]="Int";a[a.Dub=2]="Staging";a[a.Stb=3]="Prod";})(b.xz || (b.xz={}));(function(a){a[a.OT=0]="PreferMsl";a[a.bQa=1]="PreferNoMsl";a[a.Hsb=2]="NoMsl";})(b.ax || (b.ax={}));b.xp="GeneralConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hD="named";b.R3="name";b.YT="unmanaged";b.rNa="optional";b.mT="inject";b.MG="multi_inject";b.YRa="inversify:tagged";b.ZRa="inversify:tagged_props";b.Gia="inversify:paramtypes";b.$ob="design:paramtypes";b.KT="post_construct";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={AG:"playready-h264mpl30-dash",BG:"playready-h264mpl31-dash",qha:"playready-h264mpl40-dash",aJa:"h264mpl30-dash-playready-prk-qc",bJa:"h264mpl31-dash-playready-prk-qc",cJa:"h264mpl40-dash-playready-prk-qc",ZIa:"playready-h264hpl22-dash",M2:"playready-h264hpl30-dash",O2:"playready-h264hpl31-dash",oha:"playready-h264hpl40-dash",$Ia:"h264hpl22-dash-playready-live",N2:"h264hpl30-dash-playready-live",P2:"h264hpl31-dash-playready-live",pha:"h264hpl40-dash-playready-live",gka:"vp9-profile0-L21-dash-cenc",J4:"vp9-profile0-L30-dash-cenc",K4:"vp9-profile0-L31-dash-cenc",L4:"vp9-profile0-L40-dash-cenc",sha:"hevc-main10-L30-dash-cenc",tha:"hevc-main10-L31-dash-cenc",uha:"hevc-main10-L40-dash-cenc",vha:"hevc-main10-L41-dash-cenc",fT:"hevc-main10-L50-dash-cenc",gT:"hevc-main10-L51-dash-cenc",l3:"hevc-main10-L30-dash-cenc-prk",o3:"hevc-main10-L31-dash-cenc-prk",r3:"hevc-main10-L40-dash-cenc-prk",u3:"hevc-main10-L41-dash-cenc-prk",m3:"hevc-main10-L30-dash-cenc-prk-do",p3:"hevc-main10-L31-dash-cenc-prk-do",s3:"hevc-main10-L40-dash-cenc-prk-do",v3:"hevc-main10-L41-dash-cenc-prk-do",x3:"hevc-main10-L50-dash-cenc-prk-do",z3:"hevc-main10-L51-dash-cenc-prk-do",k3:"hevc-main10-L30-dash-cenc-live",n3:"hevc-main10-L31-dash-cenc-live",q3:"hevc-main10-L40-dash-cenc-live",t3:"hevc-main10-L41-dash-cenc-live",w3:"hevc-main10-L50-dash-cenc-live",y3:"hevc-main10-L51-dash-cenc-live",o2:"hevc-dv5-main10-L30-dash-cenc-prk",q2:"hevc-dv5-main10-L31-dash-cenc-prk",YS:"hevc-dv5-main10-L40-dash-cenc-prk",t2:"hevc-dv5-main10-L41-dash-cenc-prk",v2:"hevc-dv5-main10-L50-dash-cenc-prk",x2:"hevc-dv5-main10-L51-dash-cenc-prk",Qga:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Rga:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Sga:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Tga:"hevc-dv5-main10-L51-dash-cenc-prk-qc",p2:"hevc-dv5-main10-L30-dash-cenc-prk-do",r2:"hevc-dv5-main10-L31-dash-cenc-prk-do",s2:"hevc-dv5-main10-L40-dash-cenc-prk-do",u2:"hevc-dv5-main10-L41-dash-cenc-prk-do",w2:"hevc-dv5-main10-L50-dash-cenc-prk-do",y2:"hevc-dv5-main10-L51-dash-cenc-prk-do",S2:"hevc-hdr-main10-L30-dash-cenc-prk",V2:"hevc-hdr-main10-L31-dash-cenc-prk",eT:"hevc-hdr-main10-L40-dash-cenc-prk",a3:"hevc-hdr-main10-L41-dash-cenc-prk",d3:"hevc-hdr-main10-L50-dash-cenc-prk",g3:"hevc-hdr-main10-L51-dash-cenc-prk",T2:"hevc-hdr-main10-L30-dash-cenc-prk-do",W2:"hevc-hdr-main10-L31-dash-cenc-prk-do",Y2:"hevc-hdr-main10-L40-dash-cenc-prk-do",b3:"hevc-hdr-main10-L41-dash-cenc-prk-do",e3:"hevc-hdr-main10-L50-dash-cenc-prk-do",h3:"hevc-hdr-main10-L51-dash-cenc-prk-do",R2:"hevc-hdr-main10-L30-dash-cenc-live",U2:"hevc-hdr-main10-L31-dash-cenc-live",X2:"hevc-hdr-main10-L40-dash-cenc-live",Z2:"hevc-hdr-main10-L41-dash-cenc-live",c3:"hevc-hdr-main10-L50-dash-cenc-live",f3:"hevc-hdr-main10-L51-dash-cenc-live",jEa:"av1-main-L20-dash-cbcs-prk",kEa:"av1-main-L21-dash-cbcs-prk",QC:"av1-main-L30-dash-cbcs-prk",RC:"av1-main-L31-dash-cbcs-prk",R1:"av1-main-L40-dash-cbcs-prk",S1:"av1-main-L41-dash-cbcs-prk",T1:"av1-main-L50-dash-cbcs-prk",U1:"av1-main-L51-dash-cbcs-prk"};b.Pd={h2:[b.H.AG,b.H.BG,b.H.qha],N1:[b.H.M2,b.H.O2,b.H.oha],M1:[b.H.N2,b.H.P2,b.H.pha],Ofa:[b.H.J4,b.H.K4,b.H.L4],chc:[b.H.sha,b.H.tha,b.H.uha,b.H.vha,b.H.fT,b.H.gT],Cga:[b.H.l3,b.H.o3,b.H.r3,b.H.u3,b.H.fT,b.H.gT],Dga:[b.H.m3,b.H.p3,b.H.s3,b.H.v3,b.H.x3,b.H.z3],Bga:[b.H.k3,b.H.n3,b.H.q3,b.H.t3,b.H.w3,b.H.y3],zga:[b.H.S2,b.H.V2,b.H.eT,b.H.a3,b.H.d3,b.H.g3],Aga:[b.H.T2,b.H.W2,b.H.Y2,b.H.b3,b.H.e3,b.H.h3],yga:[b.H.R2,b.H.U2,b.H.X2,b.H.Z2,b.H.c3,b.H.f3],XFa:[b.H.o2,b.H.YS,b.H.v2,b.H.q2,b.H.t2,b.H.x2],YFa:[b.H.p2,b.H.s2,b.H.w2,b.H.r2,b.H.u2,b.H.y2],fob:[b.H.QC,b.H.RC,b.H.R1,b.H.S1,b.H.T1,b.H.U1]};b.Yd={CG:"heaac-2-dash",i3:"heaac-5.1-dash",DG:"heaac-2hq-dash",Qz:"xheaac-dash",WS:"ddplus-2.0-dash",m2:"ddplus-5.1-dash",XS:"ddplus-atmos-dash"};b.Mm={mub:"simplesdh",Jga:"dfxp-ls-sdh",YJa:"imsc1.1",N4:"webvtt-lssdh-ios8",ZL:"nflx-cmisc"};},function(r,b,a){var h,g,n,p,q,t;function c(){var v,u;if(v=b.d$.TVa)return v;v=p.U3.search.substr(1);u=v.indexOf("#");0 <= u && (v=v.substr(0,u));v=m(v);return b.d$.TVa=v;}function m(v){for(var u=/[+]/g,w=(v || "").split("&"),x={},y,z=0;z < w.length;z++){v=(0,n.trim)(w[z]);y=v.indexOf("=");0 <= y?x[decodeURIComponent(v.substr(0,y).replace(u,"%20")).toLowerCase()]=decodeURIComponent(v.substr(y + 1).replace(u,"%20")):x[v.toLowerCase()]=null;}return x;}function k(v){return (v=(/function (.{1,})\(/).exec(v.toString())) && 1 < v.length?v[1]:"";}function l(v){return k(v.constructor);}function d(v){return p.sort.call(v,function(u,w){return u - w;});}function f(v){for(var u=0,w=v.length;w--;){u+=v[w];}return u;}Object.defineProperty(b,"__esModule",{value:!0});b.c5b=b.jJ=b.d5a=b.vaa=b.Y4b=b.a9a=b.Tnb=b.Unb=b.DPb=b.ev=b.$Gb=b.h9=b.ROb=b.cK=b.knb=b.BS=b.lnb=b.X1=b.jnb=b.OWb=b.createElement=b.tW=b.F5b=b.Sxa=b.usa=b.getFunctionName=b.f_=b.d$=b.jTb=b.Web=b.pXa=b.M_a=b.E6b=b.kE=b.s_a=void 0;h=a(17);g=a(8);n=a(25);p=a(13);q=a(15);t=a(49);b.s_a=function(v,u){if(v === u)return !0;if(!v || !u)return !1;for(var w in v){if(v.hasOwnProperty(w) && (!u.hasOwnProperty(w) || v[w] !== u[w]))return !1;}return !0;};b.kE=b.kE || (function(v,u){if(v.length == u.length){for(var w=v.length;w--;){if(v[w] != u[w])return !1;}return !0;}return !1;});b.E6b=function(v){var u;if(v){u=v.length;if(u)return (u=(0,n.Peb)(0,u - 1),v[u]);}};b.M_a=function(v,u){if(v.length != u.length)return !1;v.sort();u.sort();for(var w=v.length;w--;){if(v[w] !== u[w])return !1;}return !0;};b.pXa=function(v,u,w){function x(){v.removeEventListener(u,x);w.apply(this,arguments);}v.addEventListener(u,x);};b.Web=function(){var v,u,w,x,y,z;v=p.Gh.cookie.split("; ");u=v.length;y={};for(w=0;w < u;w++){if(x=(0,n.trim)(v[w])){z=x.indexOf("=");0 < z && (y[x.substr(0,z)]=x.substr(z + 1));}}return y;};b.jTb=c;b.d$=Object.assign(c,{TVa:void 0});b.f_=m;b.getFunctionName=k;b.usa=l;b.Sxa=function(v){var u;u="";(0,q.isArray)(v) || (0,q.wva)(v)?u=p.reduce.call(v,function(w,x){return w + (32 <= x && 128 > x?(0,p.URa)(x):".");},""):(0,q.qg)(v)?u=v:(0,n.$g)(v,function(w,x){u+=(u?", ":"") + "{" + w + ": " + ((0,q.ed)(x)?k(x) || "function":x) + "}";});return "[" + l(v) + " " + u + "]";};b.F5b=function(v,u){v.firstChild?v.insertBefore(u,v.firstChild):v.appendChild(u);};b.tW=b.tW || (function(v){var u;u="";(0,n.$g)(v,function(w,x){u+=(u?";":"") + w + ":" + x;});return u;});b.createElement=b.createElement || (function(v,u,w,x){var y;y=p.Gh.createElement(v);u && (y.style.cssText=u);w && (y.innerHTML=w);x && (0,n.$g)(x,function(z,A){y.setAttribute(z,A);});return y;});b.OWb=function(v,u){var w;w=v[0];if(u <= w[0])return w.slice(1);for(var x=1,y;y=v[x++];){if(u <= y[0]){v=(u - w[0]) / (y[0] - w[0]);u=[];for(x=1;x < w.length;x++){u.push((w[x] || 0) + v * ((y[x] || 0) - (w[x] || 0)));}return u;}w=y;}return w.slice(1);};b.jnb=function(v,u){var y;for(var w={},x=0;x < u.length;x++){y=u[x];if("string" != typeof y && "number" != typeof y)return !1;w[u[x]]=1;}for(x=0;x < v.length;x++){if((y=v[x],!w[y]))return !1;}return !0;};b.X1=d;b.lnb=f;b.BS=function(v,u){var w,x,y,z;w=-1;x=v.length;if(1 === arguments.length){for(;++w < x && !(null != (y=v[w]) && y <= y);){y=void 0;}for(;++w < x;){null != (z=v[w]) && z > y && (y=z);}}else {for(;++w < x && !(null != (y=u.call(v,v[w],w)) && y <= y);){y=void 0;}for(;++w < x;){null != (z=u.call(v,v[w],w)) && z > y && (y=z);}}return y;};b.knb=function(v,u){var w,x,y,z;w=-1;x=v.length;if(1 === arguments.length){for(;++w < x && !(null != (y=v[w]) && y <= y);){y=void 0;}for(;++w < x;){null != (z=v[w]) && y > z && (y=z);}}else {for(;++w < x && !(null != (y=u.call(v,v[w],w)) && y <= y);){y=void 0;}for(;++w < x;){null != (z=u.call(v,v[w],w)) && y > z && (y=z);}}return y;};b.cK=function(v){return (0,q.ed)(v.then)?v:new Promise(function(u,w){v.oncomplete=function(){u(v.result);};v.onerror=function(){w(v.error);};});};b.ROb=function(v,u){var x,y,z,A,B,C;function w(D){0 > x.indexOf(D) && (0,q.Ka)(D) && x.push(D);}v=v.slice();d(v);x=[];if(!u || !u.length)return v;if(!v.length)return [];y=u.length;try{for(;y--;){A="" + u[y];B=(0,n.hk)(A);switch(A[A.length - 1]){case "-":for(z=v.length;z--;){C=v[z];if(C < B){w(C);break;}}break;case "+":for(z=0;z < v.length;z++){if((C=v[z],C > B)){w(C);break;}}break;default:0 <= v.indexOf(B) && w(B);}}}catch(D){}x.length || x.push(v[0]);d(x);return x;};b.h9=b.h9 || (function(v,u,w){var x;if(v / u > w){x=(0,p.zp)(u * w);v=u;}else (x=v,v=(0,p.zp)(v / w));return {width:x,height:v};});b.$Gb=function(v,u,w){for(var x=[],y=0;y < u;y++){x.push((0,p.eMa)(v[y] - w,2));}return (0,p.fMa)(f(x) / x.length);};b.ev=function(v,u){var w;w=v.length;u=(w - 1) * u + 1;if(1 === u)return v[0];if(u == w)return v[w - 1];w=(0,p.WL)(u);return v[w - 1] + (u - w) * (v[w] - v[w - 1]);};b.DPb=function(v,u){if(!(0,q.isArray)(v))throw Error("boxes is not an array");if(0 >= v.length)throw Error("There are no boxes in boxes");u=(0,q.isArray)(u)?u:[u];for(var w=v.length,x=0;x < w;x++){for(var y=0;y < u.length;y++){if(v[x].type == u[y])return v[x];}}throw Error("Box not found " + u);};b.Unb=function(v){return v.rRb("trak/mdia/minf/stbl/stsd/" + h.FFa + "|" + h.GFa).children.filter(function(u){return "sinf" == u.type && u.unc.schm.rqc == t.Sw;})[0].rRb("schi/tenc").qq;};b.Tnb=function(v){var w;function u(x,y){var z;z=w[x];w[x]=w[y];w[y]=z;}w=new Uint8Array(v);u(0,3);u(1,2);u(4,5);u(6,7);return w;};b.a9a=function(){return (0,q.ed)(p.Ue.requestMediaKeySystemAccess);};b.Y4b=function(v){return function(u){return u && u[v];};};(0,q.ed)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(v,u){var w,x;void 0 === v && (v=0);void 0 === u && (u=this.byteLength);v=Math.floor(v);u=Math.floor(u);0 > v && (v+=this.byteLength);0 > u && (u+=this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);u=Math.min(Math.max(0,u),this.byteLength);if(0 >= u - v)return new ArrayBuffer(0);w=new ArrayBuffer(u - v);x=new Uint8Array(w);v=new Uint8Array(this,v,u - v);x.set(v);return w;});b.vaa=function(v){return v && 0 == v.toLowerCase().indexOf("https");};b.d5a=function(){var v,u;v=new ArrayBuffer(4);u=new Uint8Array(v);v=new Uint32Array(v);u[0]=161;u[1]=178;u[2]=195;u[3]=212;return 3569595041 == v[0]?"LE":2712847316 == v[0]?"BE":"undefined";};b.jJ=function(){var v,u,w;try{v=/playercore.*js/;u=p.bx.getEntries("resource").filter(function(x){return null !== v.exec(x.name);});if(u && 0 < u.length){w=(0,p.zp)(u[0].duration);return JSON.stringify(w);}}catch(x){}};b.c5b=function(v,u,w){if(v && v.length){if(w && w.hGb)try{v.forEach(function(x,y){var z;z=(y=w.hGb[y]) && y.media;z && (0,q.qg)(z)?(!1,z=(0,g.Ts)(z).buffer,x.media={arrayBuffer:z,length:z.byteLength,stream:u,vc:y.cdn}):g.log.warn("chunk not in cache",x.yh);});}catch(x){g.log.error("error reading cached chunks",x);}else g.log.warn("chunks not available in cached stream",w.type);}else g.log.warn("chunks not available in mediabuffer",w.type);};},function(r,b,a){var l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C;function c(D){var F,G,E;F=A(D,0,1);G=A(D,-1);if("%" === F && "%" !== G)throw new l("invalid intrinsic syntax, expected closing `%`");if("%" === G && "%" !== F)throw new l("invalid intrinsic syntax, expected opening `%`");E=[];z(D,B,function(H,L,K,I){E[E.length]=K?z(I,C,"$1"):L || H;});return E;}function m(){throw new f();}function k(D){try{return d('"use strict"; return (' + D + ").constructor;")();}catch(F){}}l=SyntaxError;d=Function;f=TypeError;h=Object.getOwnPropertyDescriptor;if(h)try{h({},"");}catch(D){h=null;}b=h?(function(){try{return (arguments.callee,m);}catch(D){try{return h(arguments,"callee").get;}catch(F){return m;}}})():m;g=a(316)();n=Object.getPrototypeOf || (function(D){return D.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);t={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":g?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && g?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && g?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g?n(("")[Symbol.iterator]()):void 0,"%Symbol%":g?Symbol:void 0,"%SyntaxError%":l,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};v=function G(F){var E,H;if("%AsyncFunction%" === F)E=k("async function () {}");else if("%GeneratorFunction%" === F)E=k("function* () {}");else if("%AsyncGeneratorFunction%" === F)E=k("async function* () {}");else if("%AsyncGenerator%" === F){H=G("%AsyncGeneratorFunction%");H && (E=H.prototype);}else "%AsyncIteratorPrototype%" === F && (H=G("%AsyncGenerator%")) && (E=n(H.prototype));return t[F]=E;};u={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(202);w=a(105);x=b.call(Function.call,Array.prototype.concat);y=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;C=/\\(\\)?/g;r.exports=function(F,G){var E,H,L,K,I,R,O,J,M;if("string" !== typeof F || 0 === F.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof G)throw new f('"allowMissing" argument must be a boolean');E=c(F);H=0 < E.length?E[0]:"";L="%" + H + "%";K=L;if(w(u,K)){I=u[K];K="%" + I[0] + "%";}if(w(t,K)){R=t[K];R === p && (R=v(K));if("undefined" === typeof R && !G)throw new f("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new l("intrinsic " + L + " does not exist!");L=R;K=!1;I && (H=I[0],y(E,x([0,1],I)));I=1;for(R=!0;I < E.length;I+=1){O=E[I];J=A(O,0,1);M=A(O,-1);if(('"' === J || "'" === J || "`" === J || '"' === M || "'" === M || "`" === M) && J !== M)throw new l("property names with quotes must have matching quotes");"constructor" !== O && R || (K=!0);H+="." + O;J="%" + H + "%";if(w(t,J))L=t[J];else if(null != L){if(!((O in L))){if(!G)throw new f("base intrinsic for " + F + " exists, but the property is not available.");return;}h && I + 1 >= E.length?(M=h(L,O),L=(R=! !M) && ("get" in M) && !(("originalValue" in M.get))?M.get:L[O]):(R=w(L,O),L=L[O]);R && !K && (t[J]=L);}}return L;};},function(r,b,a){var l,d,f;function c(h){return function(g,n){return g.Kza(n,h);};}function m(h,g){return h.gda.y6b[g] || k(h,g);}function k(h,g){h=h.yB.data[g];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.yA=b.Sza=b.object=b.ZNb=b.url=b.ca=b.Fl=b.jDa=b.QWb=b.cL=b.string=b.HC=b.Ad=b.bF=b.config=void 0;l=a(52);d=a(5);f=a(143);b.config=function(h,g,n){n=void 0 === n?!1:n;return function(p,q,t){var v,u;v=void 0 !== g?g:q;u=t.get;void 0 !== u && (t.get=function(){var w;if(!this.IXb(q))return this.sTb(q);a:{w=(this.xCb || n?m:k)(this,v.toString());if(void 0 !== w)if((w=h(this.MZ,w),w instanceof f.Oq))this.U3a(v,w);else break a;w=u.bind(this)();}this.vAa(q,w);return w;});return t;};};b.bF=function(h,g){return h.$eb(g);};b.Ad=function(h,g){return h.Hza(g);};b.HC=function(h,g){return h.Yr(g);};b.string=function(h,g){return h.Kza(g);};b.cL=function(h,g){return h.Yk(g,b.string);};b.QWb=function(h,g){return h.Yk(g,b.bF);};b.jDa=function(h,g){return h.Yk(g,b.HC);};b.Fl=function(h,g){h=h.Yr(g);return h instanceof f.Oq?h:(0,d.qc)(h);};b.ca=function(h,g){h=h.Yr(g);return h instanceof f.Oq?h:(0,l.ca)(h);};b.url=c(/^\S+$/);b.ZNb=function(h){return function(g,n){return g.Zeb(n,h);};};b.object=function(){return function(h,g){return h.afb(g);};};b.Sza=c;b.yA=function(h,g){return function(n,p){return n.Yk(p,h,g);};};},function(r,b,a){var k,l,d,f;function c(h,g){var n;n=f.call(this,h,g) || this;n.G_a=g;n.debug=h.debug;n.Ca=h.tg.mb(n.G_a);return n;}function m(h,g){this.G_a=g;this.vza={};this.yB=h.yB;this.MZ=h.MZ;this.gda=h.gda;}Object.defineProperty(b,"__esModule",{value:!0});b.qf=b.IS=b.$Ra=void 0;r=a(0);k=a(691);l=a(1);d=a(143);b.$Ra="isTestAccount";m.prototype.U3a=function(){};m.prototype.vAa=function(h,g){this.vza[h]=[g,this.yB.Kda];};m.prototype.IXb=function(h){return k.Fia.of(this.vza[h]).map(function(g){return g[1];}).or(-1) < this.yB.Kda;};m.prototype.sTb=function(h){return k.Fia.of(this.vza[h]).map(function(g){return g[0];}).or(function(){throw Error("Invalid State Error");});};Ua.Object.defineProperties(m.prototype,{xCb:{configurable:!0,enumerable:!0,get:function(){var h,g;if(this && this.yB && this.yB.data){h=this.yB.data[b.$Ra];"undefined" !== typeof h && (g=h.toString());h=this.MZ.Hza(g);h=h instanceof d.Oq?!1:h;}else h=!1;return h;}}});f=m;f=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.pp)()),r.__param(1,(0,l.pp)())],f);b.IS=f;ka(c,f);c.prototype.U3a=function(h,g){this.Ca.error("Invalid configuration value.",{name:h},g);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,l.pp)()),r.__param(1,(0,l.pp)())],a);b.qf=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mj="SchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qq="PlatformSymbol";b.h4="PlatformMutableSymbol";},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.Ssa=b.hta=b.U9=b.UJa=b.cD=b.Kqb=b.Ija=b.Hja=b.dTa=b.eTa=b.HNa=b.H2=b.TEMPORARY=b.Sw=void 0;c=a(15);m=a(8);b.Sw="cenc";b.TEMPORARY="temporary";b.H2="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.HNa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.eTa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.dTa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.Hja="SW_SECURE_CRYPTO";b.Ija="SW_SECURE_DECODE";b.Kqb="HW_SECURE_DECODE";b.cD="HW_SECURE_ALL";b.UJa=[b.cD];b.U9=function(k){var l;l=k.getConfiguration();return [b.cD,b.Ija,b.Hja].find(function(d){var f;return null === (f=l.videoCapabilities) || void 0 === f?void 0:f.some(function(h){return h.robustness === d;});});};b.hta=function(k){var l,h;try{for(var d=/\((\d[^)]+)\)/g,f;f=d.exec(k);){h=Number(f[1]);(0,c.Ka)(h) && (l=h);}}catch(g){}return l;};b.Ssa=function(k){var l;l={};try{k.forEach(function(d){var f,h;if(d.HI){for(var g=(0,m.DA),n=d.HI,p=0,q=new Uint8Array(16),t=0;t < n.length;t+=2){q[p++]=parseInt(n.slice(t,t + 2),16);}g=g(q);d=null !== (f=d.height) && void 0 !== f?f:d.qAa;l[g]=Math.max(d,null !== (h=l[g]) && void 0 !== h?h:0);}});}catch(d){}return l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wha="LogBatcherConfigSymbol";b.bo="LogBatcherSymbol";b.pLa="LogBatcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Km="PboCommandContextSymbol";},function(r,b,a){var k;function c(){return k.ZT.apply(this,arguments) || this;}function m(l){return new k.Au(l,b.uG);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.GMa=b.Pha=b.Rw=b.uG=b.X_b=b.rYb=b.ca=b.Vs=b.dob=void 0;k=a(329);ka(c,k.ZT);b.dob=c;b.Vs=m;b.ca=function(l){return new k.Au(l,b.Rw);};b.rYb=function(l){return new k.Au(l,b.Pha);};b.X_b=function(l){return new k.Au(l,b.GMa);};b.uG=new c(1,"b");b.Rw=new c(8 * b.uG.Mg,"B",b.uG);b.Pha=new c(1024 * b.Rw.Mg,"KB",b.uG);b.GMa=new c(1024 * b.Pha.Mg,"MB",b.uG);b.Ia=m(0);},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Aja=b.he=void 0;c=a(0);m=a(812);k=a(21);(function(l){l[l.Bq=0]="startPlayback";l[l.aq=1]="endPlayback";l[l.op=2]="underflow";})(b.he || (b.he={}));r=(function(){function l(d){this.config=d;this.vK=[];}l.prototype.gg=function(d){var f,h;h=c.__read(this.config.VCb.filter(function(g){return g.ke === d.ke;}),1)[0];this.config.dNb && (null !== (f=null === h || void 0 === h?void 0:h.enabled) && void 0 !== f?f:d.enabled)?this.vK.push(d):d.lb && d.lb();};l.prototype.qTb=function(d){return k.Vc(this.vK,function(f){return f.ke === d.ke;});};l.prototype.Sk=function(d){var f,h,g,q,t;h={};g=[];try{for(var n=c.__values(this.vK),p=n.next();!p.done;p=n.next()){q=p.value;try{t=q.Sk({Yi:d});t && (q.fw?h[q.fw]=t:h=c.__assign(c.__assign({},h),t));}catch(u){g.push(Error(q.ke + "::" + u));}}}catch(u){var v;v={error:u};}finally{try{p && !p.done && (f=n.return) && f.call(n);}finally{if(v)throw v.error;}}g.length && (h["rpt-error"]=m.Zfa.stringify(new m.Zfa("Reporting error",g)));return h;};return l;})();b.Aja=r;},function(r,b,a){var c,m;c=a(132);m=a(190);r.exports=function(k){return function h(d,f){switch(arguments.length){case 0:return h;case 1:return m(d)?h:c(function(g){return k(d,g);});default:return m(d) && m(f)?h:m(d)?c(function(g){return k(g,f);}):m(f)?c(function(g){return k(d,g);}):k(d,f);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.sq=b.sbc=b.rcb=void 0;b.rcb=function(a,c){return a - c;};b.sbc=function(a,c){return a.localeCompare(c);};b.sq=function(a,c){var m;m=Object.getOwnPropertyDescriptor(a,c);m && Object.defineProperty(a,c,{configurable:m.configurable,enumerable:!1,value:m.value,writable:m.writable});};b.flatten=function(a){return [].concat.apply([],ia(a));};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cpb="Cannot apply @injectable decorator multiple times.";b.Dpb="Metadata key was used more than once in a parameter:";b.GT="NULL argument";b.PKa="Key Not Found";b.Hmb="Ambiguous match found for serviceIdentifier:";b.eob="Could not unbind serviceIdentifier:";b.ysb="No matching bindings found for serviceIdentifier:";b.Vrb="Missing required @injectable annotation in:";b.Wrb="Missing required @inject or @multiInject annotation in:";b.Tub=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.hob="Circular dependency found:";b.pjc="Sorry, this feature is not fully implemented yet.";b.mrb="Invalid binding type:";b.Asb="No snapshot available to restore.";b.qrb="Invalid return type in middleware. Middleware must return!";b.prb="Value provided to function binding must be a function!";b.srb="The toSelf function can only be applied when a constructor is used as service identifier";b.nrb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Jmb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.wob="Invalid Container constructor argument. Container options must be an object.";b.uob="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.tob="Invalid Container option. Auto bind injectable must be a boolean";b.vob="Invalid Container option. Skip base check must be a boolean";b.jsb="Cannot apply @postConstruct decorator multiple times in the same class";b.Ctb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.iob=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.qub="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$va=b.Fi=void 0;(function(a){a[a.Rq=0]="STANDARD";a[a.yp=1]="LIMITED";})(b.Fi || (b.Fi={}));b.$va=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jg=void 0;b.jg=function(a){return setTimeout(a,0);};},function(r,b,a){var m,k,l,d,f;function c(){return m.ic.get(l.cd).GB.fa(f.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.FGb=b.J7=b.e_a=b.DGb=b.EGb=b.ipa=b.yo=void 0;m=a(206);k=a(30);l=a(19);d=a(82);f=a(5);b.yo=function(){return m.ic.get(l.cd).Tb().fa(f.ma);};b.ipa=function(){return m.ic.get(k.Eh).Bf.fa(f.Cp);};b.EGb=function(){return m.ic.get(l.cd).GB.fa(f.Cp);};b.DGb=function(){return m.ic.get(d.Bz).TA();};b.e_a=c;b.J7=function(){return m.ic.get(k.Eh).Bf.fa(f.ma);};b.FGb=function(){return c();};},function(r,b){var c,m;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.wp=b.Na=b.vk=void 0;(function(k){k[k.Rq=0]="STANDARD";k[k.yp=1]="LIMITED";k[k.Rjc=2]="PREVIEW";})(c || (c={}));(function(k){k[k.HAVE_NOTHING=0]="HAVE_NOTHING";k[k.HAVE_METADATA=1]="HAVE_METADATA";k[k.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";k[k.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";k[k.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(m || (m={}));(function(k){k.Vmb="asl_start";k.Tmb="asl_comp";k.sgc="asl_exc";k.Umb="asl_fail";k.vub="stf_creat";k.Vqb="idb_open";k.Sqb="idb_block";k.brb="idb_upgr";k.arb="idb_succ";k.Tqb="idb_error";k.Uqb="idb_invalid_state";k.Xqb="idb_open_timeout";k.Zqb="idb_open_wrkarnd";k.$qb="idb_storelen_exc";k.Wqb="idb_open_exc";k.Yqb="idb_timeout_invalid_storelen";k.dsb="msl_load_data";k.fsb="msl_load_no_data";k.esb="msl_load_failed";})(r=b.vk || (b.vk={}));(function(k){k.Jia="PlaybackRequestStart";k.Iia="PlaybackRequestEnd";k.p4="RequestPrefetchManifestStart";k.o4="RequestPrefetchManifestEnd";k.n4="RequestManifestStart";k.m4="RequestManifestEnd";k.l4="RequestLicenseStart";k.k4="RequestLicenseEnd";k.OS="RequestTimedTextUrlStart";k.NS="RequestTimedTextUrlEnd";k.MS="RequestAudioUrlStart";k.LS="RequestAudioUrlEnd";k.QS="RequestVideoUrlStart";k.PS="RequestVideoUrlEnd";k.Qfa="AppendBufferStart";k.Pfa="AppendBufferEnd";k.Dja="SetMediaKeysStart";k.Cja="SetMediaKeysEnd";k.K2="GenerateChallengeStart";k.J2="GenerateChallengeEnd";k.P1="ApplyLicenseStart";k.O1="ApplyLicenseEnd";})(b.Na || (b.Na={}));b.wp=a;a.Qha=c;a.V_a=function(k){return ["STANDARD","LIMITED","PREVIEW"][k];};a.vk=r;a.A3=m;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(238);c=a(150);b.zhc=c;c=a(388);b.FSa=c;c=a(393);b.MV=c;b.Mja=r.sQ.ie.sidx;r=a(891);b.$w=r.$w;r=a(247);b.PG=r.PG;r=a(896);b.Zw=r.Zw;b.$P=r.$P;r=a(897);b.Oha=r.Oha;r=a(83);b.oH=r.oH;a=a(898);b.eo=a.eo;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(156),b);r.__exportStar(a(940),b);r.__exportStar(a(180),b);},function(r,b,a){var m,k,l,d;function c(f,h,g){var n,p,v;h=m.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{tcb:h,so:g}));if((null === f || void 0 === f?0:f.so) && g)if(!0 === f.so)h.args=g;else {p={};h.args=p;try{for(var q=m.__values(f.so),t=q.next();!t.done;t=q.next()){v=t.value;p[v]=g[v];}}catch(w){var u;u={error:w};}finally{try{t && !t.done && (n=q.return) && n.call(q);}finally{if(u)throw u.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Eu=b.Lta=b.jb=void 0;m=a(0);k=a(9);l=m.__importDefault(a(4));d=a(7);b.jb=function(f){return function(h,g,n){var p;p=n.value;n.value=function(){var q,t,v,u,w,x;t=b.Lta(this);if(t)(v=c(f,this,arguments),u=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(g),w=t.AV(u,v,null === f || void 0 === f?void 0:f.wl,null === f || void 0 === f?void 0:f.foc));q=null === t || void 0 === t?void 0:t.Upa;t && (t.Upa=w);try{x=null === p || void 0 === p?void 0:p.apply(this,arguments);d.rva(x) && (x=x.then(function(z){w && (null === f || void 0 === f?0:f.return) && (w.data.resolve=z);return z;},function(z){w && (w.data.reject="" + z);return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{t && (t.Upa=q);w && (w.data || (w.data={}),y?(w.data.error="" + y,null === t || void 0 === t?void 0:t.fHb(w)):(null === f || void 0 === f?0:f.return) && !d.rva(x) && (w.data.lRet=x));}};};};b.Lta=function(f){if(null === f || void 0 === f?0:f.qka)return f.qka;};r=(function(){function f(h){this.Mr=[];this.I5=!1;this.qla={};this.J=m.__assign({Xo:10},h);Object.defineProperties(h.Hn,{qka:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.J.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.I5;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gYb:{get:function(){return m.__spread(this.Mr);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rVb:{get:function(){return this.qla;},enumerable:!1,configurable:!0}});f.prototype.Wu=function(h){var g,n;if(!this.I5){n=null === (g=b.Lta(this.J.Hn)) || void 0 === g?void 0:g.Upa;n && (n.data=m.__assign(m.__assign({},n.data),h));}};f.prototype.AV=function(h,g,n,p){var q,t,v,u;if(!this.I5){v=!1;u=null === (t=(q=this.J).jna) || void 0 === t?void 0:t.call(q,this.J.Hn);q=c({},this.J.Hn);g=m.__assign(m.__assign(m.__assign({},u),q),g);u=0 < Object.keys(g).length;g={methodName:h,data:u?g:void 0,time:l.default.time.ga()};p && this.qla[h]++;n && this.Mr.length && (n=this.Mr[this.Mr.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=g,v=!0));this.gHb(g);v || this.Mr.push(g);this.Mr.length > this.J.Xo && this.Mr.shift();return g;}};f.prototype.gHb=function(h){var g;k.R && (null === (g=this.J.console) || void 0 === g?void 0:g.trace(this.J.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.J,h);};f.prototype.fHb=function(h){var g;k.R && (null === (g=this.J.console) || void 0 === g?void 0:g.error(this.J.source + "::" + h.methodName,h.data));};f.prototype.lb=function(){Object.defineProperties(this.J.Hn,{qka:{enumerable:!1,value:null,configurable:!0}});this.I5=!0;this.clear();};f.prototype.clear=function(){this.Mr=[];this.qla={};};return f;})();b.Eu=r;},function(r,b,a){var m,k;function c(l,d){var f;f=b.Bp[0];f == d && (f=b.Bp[1]);f?f.close(function(){c(l,d);}):l && l(m.Pg);}Object.defineProperty(b,"__esModule",{value:!0});b.fPa=b.dPa=b.cja=b.dja=b.mD=b.eja=b.ePa=b.hja=b.gja=b.Bp=b.hPa=b.fja=void 0;m=a(17);k=a(23);b.fja=c;b.hPa=function(l,d){switch(l){case b.ePa:b.gja.push(d);return;case b.eja:b.hja.push(d);return;}(0,k.Wa)(!1);};b.Bp=[];b.gja=[];b.hja=[];b.ePa=1;b.eja=3;b.mD={index:0,sbb:void 0,Ora:void 0};b.dja="network";b.cja="media";b.dPa="timedtext";b.fPa="playback";},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.o$=b.pt=b.p$=b.SE=b.Qo=b.kf=void 0;r=a(72);c=a(58);m=a(13);b.kf=new r.sk();b.Qo=1;b.SE=2;b.p$=3;b.pt=4;b.o$=5;(0,c.jg)(function(){var l,d,f;function k(h,g){if(d)d.on(h,g);else nb.addEventListener(h,g);}l=nb.jQuery;d=l && l(nb);l=(l=nb.netflix) && l.cadmium && l.cadmium.addBeforeUnloadHandler;f=m.Gh.hidden;l?l(function(h){b.kf.Rc(b.Qo,h);}):k("beforeunload",function(h){b.kf.Rc(b.Qo,h);});k("keydown",function(h){b.kf.Rc(b.SE,h);});k("resize",function(){b.kf.Rc(b.p$);});m.Gh.addEventListener("visibilitychange",function(){f !== m.Gh.hidden && (f=m.Gh.hidden,b.kf.Rc(b.pt));});});(function(){nb.addEventListener("error",function(k){b.kf.Rc(b.o$,k);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zg={nwa:"logblob",ja:"manifest",OYb:"licensedmanifest",wh:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.$tb={IQa:"X-Netflix.Request.Attempt",Bja:"X-Netflix.Client.Request.Name",NFa:"x-netflix.browsername",OFa:"x-netflix.browserversion",sNa:"x-netflix.osname",tNa:"x-xetflix.osversion",wGa:"x-netflix.clienttype",GSa:"x-netflix.uiversion"};b.nD={IQa:"reqAttempt",Bja:"reqName",NFa:"browsername",OFa:"browserversion",sNa:"osname",tNa:"osversion",wGa:"clienttype",GSa:"uiversion"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function m(k,l){this.key=k;this.value=l;}m.prototype.toString=function(){return this.key === c.hD?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return m;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xu="EmeConfigSymbol";},function(r,b){function a(c){var m;m=Error.call(this,"TimeoutError");this.message=m.message;("stack" in m) && (this.stack=m.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.aH=b.Ds=void 0;ka(a,Error);b.Ds=a;b.aH="PromiseTimerSymbol";},function(r,b,a){var m,k,l;function c(d,f){this.tx=f?[f]:[];this.rla="$op$" + l++;this.Oa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Xb=void 0;m=a(17);k=a(23);l=0;c.prototype.addListener=function(d,f){var h;h=this;(0,k.Ypa)(d);(0,k.Wa)(0 > this.tx.indexOf(d));d[m.a4 + this.rla]=f;this.tx=this.tx.slice();this.tx.push(d);this.tx.sort(function(g,n){return h.Gac(g,n);});};c.prototype.removeListener=function(d){var f;(0,k.Ypa)(d);this.tx=this.tx.slice();0 <= (f=this.tx.indexOf(d)) && this.tx.splice(f,1);};c.prototype.set=function(d,f){var h;if(this.Oa !== d){h={oldValue:this.Oa,newValue:d,Mk:f};this.Oa=d;this.nwb=f;d=this.tx;f=d.length;for(var g=0;g < f;g++){d[g](h);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(h){function g(n){if(d(n.newValue))return (f.removeListener(g),h(n.newValue));}if(d(f.Oa))return h(f.Oa);f.addListener(g);});};c.prototype.Gac=function(d,f){return (d[m.a4 + this.rla] || 0) - (f[m.a4 + this.rla] || 0);};Ua.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Oa;}},Mk:{configurable:!0,enumerable:!0,get:function(){return this.nwb;}}});b.Xb=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ww=b.Cia=b.ResponseType=void 0;b.ResponseType={Text:1,flc:2,Inb:3};b.Cia="OPEN_CONNECT_APPLIANCE";b.Ww="LegacyHttpSymbol";},function(r,b,a){var m,k;function c(){var l,d;l=this;this.Ju={};this.on=function(f,h,g){l.addListener(f,h,g);};this.addListener=function(f,h,g){l.Ju && (l.Ju[f]=l.Ju[f] || new k.sja(!0)).add(h,g);};this.removeListener=function(f,h){l.Ju && l.Ju[f] && l.Ju[f].removeAll(h);};this.Fsa=function(f){return l.Ju && l.Ju[f]?l.Ju[f].flatten():[];};d=this;this.Rc=function(f,h,g){var n;if(d.Ju){n=d.Fsa(f);for(f={yL:0};f.yL < n.length;(f={yL:f.yL},f.yL++)){g?(function(p){return function(){var q;q=n[p.yL];(0,m.jg)(function(){q(h);});};})(f)():n[f.yL].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.sk=void 0;m=a(58);k=a(353);c.prototype.ii=function(){this.Ju=void 0;};b.sk=c;},function(r,b,a){var m,k,l,d,f;function c(h,g,n){this.context=h;this.errorCode=g;this.O8b=n;}Object.defineProperty(b,"__esModule",{value:!0});b.ai=void 0;r=a(0);m=a(1);k=a(543);l=a(5);d=a(37);f=a(40);c.prototype.send=function(h,g,n,p,q,t){var v;v=this;t=void 0 === t?f.ax.OT:t;return this.xRb(h,g,n,t,p,q).then(function(u){return v.context.dMb.send(u.context,u.request);});};c.prototype.xRb=function(h,g,n,p,q,t){var v,u;try{v=this.context.l8b.create(this.context.wB.TA(),g.url,n,q,p);u=this.zEb(g,h,p,t);return Promise.resolve({context:u,request:v});}catch(w){return Promise.reject(w);}};c.prototype.zEb=function(h,g,n,p){return {lf:this.context.lf,log:g,zo:h.name,url:this.context.vec((0,k.hZa)(this.context.gi,this.context.si,h.name,n)),AAa:this.O8b,timeout:(0,l.zi)(59),headers:(0,k.gZa)(this.context.si,this.context.EI),um:h.um,bEb:p};};c.prototype.vn=function(h){return h instanceof d.gd?h:(0,k.vn)(this.errorCode,h);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.pp)()),r.__param(1,(0,m.pp)()),r.__param(2,(0,m.pp)())],a);b.ai=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gu="Utf8EncoderSymbol";},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.jl=void 0;c=a(0);m=a(2);k=c.__importDefault(a(29));l=c.__importDefault(a(154));d=a(402);f=a(20);r=a(35);h=a(178);g=a(249);a=a(76);n=(function(p){function q(t,v,u){var w;w=p.call(this,t,v) || this;q.ta(w,t,v,u);return w;}c.__extends(q,p);q.ta=function(t,v,u,w){var x;h.Pw.ta(t,v,u);t.ue=u.index;t.IM=u.Va;t.nx=u.hb;t.WAb=u.kb?u.kb:v.kb;t.KK=u.KK;t.gta=w;t.pUa=! !u.yv;t.XUa=! !u.Wo;t.$Va=null !== (x=u.region) && void 0 !== x?x:0;t.oUa=! !u.Pra;t.WUa=! !u.ly;t.va=void 0 === u.p9 || void 0 === u.Zra || u.p9 === u.Va && u.Zra === u.hb?t:new g.UC(t,{Va:u.p9,hb:u.Zra});t.fyb=u.txa;t.rvb=u.Hk;t.mxb=v.XUb;t.yk=u.Ea?t.Wbb(u.Ea):void 0;t.AWa=u.CC;t.Ye=!1;};q.w0a=function(t){for(var v=new Uint32Array(t.length),u=new Uint32Array(t.length),w=new Uint8Array(t.length),x=new Uint8Array(t.length),y=0,z,A,B=0;B < t.length;++B){z=t[B];A=z.yd;v[B]=z.nx - z.IM;u[B]=A;w[B]=z.stream.vg;void 0 !== z.kb && null !== z.kb && (x[B]=z.kb);y+=A;}return new d.Nja(v,u,t.length?t[0].X:1E3,y);};Object.defineProperties(q.prototype,{dF:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.ue;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kb:{get:function(){return this.WAb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zna:{get:function(){return 8 * this.ca / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Va:{get:function(){return this.IM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hb:{get:function(){return this.nx;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Aj:{get:function(){var t,v;return null !== (v=null === (t=this.gta) || void 0 === t?void 0:t.call(this)) && void 0 !== v?v:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yv:{get:function(){return this.pUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wo:{get:function(){return this.XUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.$Va;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Pra:{get:function(){return this.oUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ly:{get:function(){return this.WUa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{txa:{get:function(){return this.fyb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Hk:{get:function(){return this.rvb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ea:{get:function(){return this.yk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CC:{get:function(){return this.AWa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{p9:{get:function(){return this.va.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zra:{get:function(){return this.va.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{UPb:{get:function(){return this.va.qv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{r9:{get:function(){return this.va.rd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Y3a:{get:function(){return this.va.ef;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{X3a:{get:function(){return this.va.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$ra:{get:function(){return this.va.$c;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{TPb:{get:function(){return this.va.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yx:{get:function(){var t;t=this.UPb;m.assert(t);return t / this.stream.la.bb;},enumerable:!1,configurable:!0}});q.prototype.Hwa=function(t){this.pUa=! !t;};q.prototype.cab=function(){this.XUa=!0;};q.prototype.C$b=function(t){this.KK={se:t.S4a(),get taa() {return t.Cw;}};};q.prototype.BR=function(t){this.AWa=t;};q.prototype.z$b=function(t,v,u){this.$Va=t;this.oUa=v;this.WUa=u;};q.prototype.ej=function(t){var v,u;void 0 === t && (t={});v=this.stream.la.bb;u=this.yk || ({start:0,end:this.Yx});t=this.Wbb(t);this.va && this.va !== this || (this.va=new g.UC(this,this));t.start > u.start && (this.IM=this.va.Va + t.start * v);t.end < u.end && (this.nx=this.va.Va + t.end * v);this.yk=c.__assign(c.__assign({},u),t);};q.prototype.Dqa=function(t){void 0 === t && (t=1);this.yk?this.ej({start:this.yk.start + t,end:this.yk.end}):this.ej({start:t});};q.prototype.Eqa=function(t){this.yk?this.ej({start:this.yk.start,end:(this.yk.end || 0) - t}):this.ej({start:0,end:-t});};q.prototype.Uj=function(){this.Ea?this.ej({start:this.Ea.start,end:this.Ea.start}):this.ej({start:0,end:0});};q.prototype.D$b=function(t){this.yk || this.ej();this.yk.rea=t;};q.prototype.thb=function(t){this.yk || this.ej();this.yk.uv=!0;t && (this.yk.a3a=t);};q.prototype.uhb=function(t){this.yk || this.ej();this.yk.vv=!0;t && (this.yk.b3a=t);};q.prototype.x3a=function(t){var u;if(!(t < this.ba || t >= this.Ma) && this.Hk && this.Hk.length){t=new f.K(t + 1 - this.ba,1E3).Ok(this.stream.la);for(var v=this.Hk.length - 1;0 <= v;--v){u=this.Hk[v];if(u.dj <= t)return u;}return {dj:0,Nd:this.$ra};}};q.prototype.pPb=function(t){var u;if(!(t < this.ba || t >= this.Ma) && this.Hk && this.Hk.length){t=new f.K(t + 1 - this.ba,1E3).Ok(this.stream.la);for(var v=this.Hk.length - 1;0 <= v;--v){u=this.Hk[v];if(u.dj <= t)return u;}return {dj:0,Nd:this.$ra};}};q.prototype.o3a=function(t,v){var u,w,x;if(!(t < this.ba || t >= this.Ma)){if(!v && this.mxb)return {dj:0,Nd:this.ba};u=this.la.bb;w=this.la.X;x=Math.floor(this.qv / u);t=Math.min((v?Math.ceil:Math.floor)((f.K.vbb(t,w) - this.Va + (v?-1:1) * (w / 1E3 - 1)) / u),x);u=f.K.Vea(this.Va + t * u,w);return t === x?void 0:{dj:t,Nd:u};}};q.prototype.Era=function(t){return this.mediaType === k.default.cb.Jb?this.x3a(t):this.o3a(t,!1);};q.prototype.Dra=function(t){return this.mediaType === k.default.cb.Jb?this.pPb(t):this.o3a(t,!0);};q.prototype.Q6=function(t){this.yd+=t.ca;this.nx=t.hb;this.yk && (this.va=new g.UC(this,{Va:this.p9,hb:this.nx}),this.yk.end=this.Yx);};q.prototype.hAa=function(t){var v,u,w;v={type:"logdata",target:"endplay",fields:{}};u=this.mediaType === k.default.cb.dc?"audioedit":"videoedit";w=[this.r9 === this.ba?this.Jc:this.$c,this.r9 === this.ba?-this.duration:this.duration];t && w.push(t);v.fields[u]={type:"array",value:w};return v;};q.prototype.toString=function(){return "[" + this.Pa + ", " + this.bitrate + "kbit/s, c:" + (this.$c + "-" + this.Jc + ",p:") + (this.rd + "-" + this.ef + ",d:" + this.duration + "]");};q.prototype.toJSON=function(){var t;t=h.Pw.prototype.toJSON.call(this);l.default({index:this.index,startPts:this.ba,endPts:this.Ma,"contentStartTicks:":this.Va,contentEndTicks:this.hb,contentStartPts:this.$c,contentEndPts:this.Jc,fragmentStartPts:this.r9 !== this.ba?this.r9:void 0,fragmentEndPts:this.Y3a !== this.Ma?this.Y3a:void 0,edit:this.Ea},t);return t;};q.prototype.w3a=function(t){var u;if(this.Hk)for(var v=0;v < this.Hk.length;++v){if(this.Hk[v].dj === t)u=this.Hk[v].offset;}return u;};q.prototype.Wbb=function(t){var v,u;v=t.start || 0;u=void 0 === t.end?this.Yx:Math.min(this.Yx,Math.max(v,0 > t.end?this.Yx + t.end:t.end));return c.__assign(c.__assign({},t),{start:v,end:u});};return q;})(h.Pw);b.jl=n;r.Re(a.tu,n);r.Re(a.lz,n);},function(r,b,a){var d;function c(f,h){return void 0 === f?void 0:0 === f?d.K.Ia:new d.K(f,h);}function m(f,h){return f && Math.floor(d.K.Vea(f,h));}function k(f,h){return void 0 === f || void 0 === h?void 0:f + h;}function l(f,h){return void 0 === f || void 0 === h?void 0:f - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.lz=b.tu=void 0;d=a(20);r=(function(){function f(){}Object.defineProperties(f.prototype,{qv:{get:function(){return l(this.hb,this.Va) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Q4b:{get:function(){return k(this.Va,this.Aj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{N4b:{get:function(){return k(this.hb,this.Aj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rv:{get:function(){return c(this.qv,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ec:{get:function(){return c(this.Va,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Jd:{get:function(){return c(this.hb,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fd:{get:function(){return c(this.Q4b,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Kc:{get:function(){return c(this.N4b,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Aza:{get:function(){return c(this.Aj,this.X);},enumerable:!1,configurable:!0}});return f;})();b.tu=r;r=(function(){function f(){}Object.defineProperties(f.prototype,{duration:{get:function(){return l(this.Ma,this.ba) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return m(k(this.Va,this.Aj),this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ma:{get:function(){return m(k(this.hb,this.Aj),this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tw:{get:function(){return m(this.Aj,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Lk:{get:function(){return m(this.Va,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$c:{get:function(){return m(this.Va,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Jc:{get:function(){return m(this.hb,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rd:{get:function(){return m(k(this.Va,this.Aj),this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ef:{get:function(){return m(k(this.hb,this.Aj),this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ln:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{iC:{get:function(){return this.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ly:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});return f;})();b.lz=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uu={Request:"Request",Oja:"Singleton",H4:"Transient"};b.qk={FGa:"ConstantValue",GGa:"Constructor",SHa:"DynamicValue",kha:"Factory",Function:"Function",Instance:"Instance",Crb:"Invalid",pQa:"Provider"};b.Oz={vGa:"ClassProperty",HGa:"ConstructorArgument",hka:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GKa="Injector";b.Dz=145152E5;b.gM="ProfileSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mz="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jz="PboConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nM="TimingApiSymbol";b.DT="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bz="IdProviderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(99);b.oH=function(m){c.assert("number" === typeof m);return String.fromCharCode(m >>> 24 & 255) + String.fromCharCode(m >>> 16 & 255) + String.fromCharCode(m >>> 8 & 255) + String.fromCharCode(m & 255);};b.KTa=function(m){return m.charCodeAt(3) + (m.charCodeAt(2) << 8) + (m.charCodeAt(1) << 16) + (m.charCodeAt(0) << 24);};b.nlc=function(m,k){return Math.floor(1E3 * m / k);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(l){m.prototype.parse.call(this,l);this.Xc=this.Oy([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{goc:"int32"},{Brc:"int32"},{offset:32,type:"offset"},{Bnc:"int16"},{zmc:{type:"int8",RCb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.od=!0;return k;})(a(239).default);b.default=r;a=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.jf="avc1";return k;})(r);b.anb=a;a=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.jf="avc2";return k;})(r);b.bnb=a;a=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.jf="avc3";return k;})(r);b.cnb=a;a=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.jf="avc4";return k;})(r);b.dnb=a;a=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.jf="hvc1";return k;})(r);b.Jqb=a;a=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.jf="hev1";return k;})(r);b.Cqb=a;r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.jf="av01";return k;})(r);b.$mb=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ow=void 0;r=(function(){function a(c){this.Zd=c;}a.prototype.zBa=function(c){this.Zd=c;};a.prototype.YZa=function(){this.Zd=void 0;};a.prototype.tX=function(c){return this.Zd && this.Zd.rca && this.Zd.rca(c);};a.prototype.aP=function(c){this.Zd && this.Zd.$B && this.Zd.$B(c);};a.prototype.IE=function(c){this.Zd && this.Zd.aK && this.Zd.aK(c);};a.prototype.UI=function(c){this.Zd && this.Zd.bK && this.Zd.bK(c);};a.prototype.P3a=function(c){this.Zd && this.Zd.jya && this.Zd.jya(c);};a.prototype.Bv=function(c){this.Zd && this.Zd.pm && this.Zd.pm(c);};a.prototype.o9=function(c){this.Zd && this.Zd.$Z && this.Zd.$Z(c);};a.prototype.$O=function(c,m,k){this.Zd && this.Zd.ZZ && this.Zd.ZZ(c,m,k);};a.prototype.Yra=function(c,m){this.Zd && this.Zd.sca && this.Zd.sca(c,m);};a.prototype.Q3a=function(c){this.Zd && this.Zd.qca && this.Zd.qca(c);};return a;})();b.Ow=r;r.prototype.rca=r.prototype.tX;r.prototype.$B=r.prototype.aP;r.prototype.aK=r.prototype.IE;r.prototype.bK=r.prototype.UI;r.prototype.pm=r.prototype.Bv;r.prototype.$Z=r.prototype.o9;r.prototype.ZZ=r.prototype.$O;r.prototype.jya=r.prototype.P3a;r.prototype.sca=r.prototype.Yra;r.prototype.qca=r.prototype.Q3a;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cz="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mq={start:"start",stop:"stop",PY:"keepAlive",MO:"engage",splice:"splice"};b.hha="EventPboCommandFactorySymbol";b.HRa="StartEventPboCommandSymbol";b.NRa="StopEventPboCommandSymbol";b.RKa="KeepAliveEventPboCommandSymbol";b.CRa="SpliceEventPboCommandSymbol";b.rIa="EngageEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jj={audio:"audio",video:"video",Tea:"timedtext",eDa:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uz="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Jj=b.Jsb=b.lD=void 0;c=a(15);b.lD=b.lD || (function(m,k,l){return m >= k?m <= l?m:l:k;});b.Jsb=function(m,k,l,d,f){return (m - k) * (f - d) / (l - k) + d;};b.Jj=function(m){if((0,c.Ka)(m))return (m / 1E3).toFixed(3);};},function(r,b,a){var k,l;function c(d,f,h,g,n){var p,q,v;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():h;if(q && void 0 !== h)throw Error(k.nrb);Reflect.Yta(d,f) && (p=Reflect.getMetadata(d,f));h=p[n];if(Array.isArray(h)){q=0;for(var t=h;q < t.length;q++){v=t[q];if(v.key === g.key)throw Error(k.Dpb + " " + v.key.toString());}}else h=[];h.push(g);p[n]=h;Reflect.p8(d,p,f);}function m(d,f){return function(h,g){f(h,g,d);};}Object.defineProperty(b,"__esModule",{value:!0});k=a(56);l=a(41);b.gL=function(d,f,h,g){c(l.YRa,d,f,g,h);};b.T0=function(d,f,h){c(l.ZRa,d.constructor,f,h);};b.Zp=function(d,f,h){"number" === typeof h?(d=[m(h,d)],Reflect.Zp(d,f)):"string" === typeof h?Reflect.Zp([d],f,h):Reflect.Zp([d],f);};},function(r,b,a){var m,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IL=b.Bb=void 0;m=a(119);k=a(37);l=a(3);c.IX=function(d){if(d){if(d.includes(b.IL.dC))return m.Hm.dC;if(d.includes("fps"))return m.Hm.GE;if(d.includes(b.IL.Efa))return m.Hm.Efa;}throw new k.gd(l.W.Zpb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.Dsa=function(d){switch(d){case m.Hm.dC:return b.IL.dC;case m.Hm.GE:return b.IL.GE;default:return b.IL.Efa;}};b.Bb=c;c.Kz="com.microsoft.playready";c.fe="com.microsoft.playready.hardware";c.XG="com.microsoft.playready.software";c.sqb="com.apple.fps.2_0";c.gTa="com.widevine.alpha";c.$Oa="com.microsoft.playready.recommendation.3000";c.aPa="com.microsoft.playready.recommendation.2000";c.Mqb=[c.$Oa];b.IL={GE:"fairplay",Efa:"widevine",dC:"playready"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eub="StorageValidatorSymbol";b.TC="AppStorageFactorySymbol";},function(r,b,a){var m,k;function c(l,d,f,h,g){l=void 0 === l?m.W.ho:l;return k.gd.call(this,l,d,f,void 0,void 0,h,k.gd.cf(g),g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Fh=void 0;m=a(3);k=a(37);ka(c,k.gd);b.Fh=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fz="MediaKeySystemAccessServicesSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(795),b);r.__exportStar(a(796),b);r.__exportStar(a(797),b);r.__exportStar(a(798),b);r.__exportStar(a(799),b);r.__exportStar(a(800),b);r.__exportStar(a(801),b);r.__exportStar(a(802),b);r.__exportStar(a(367),b);r.__exportStar(a(368),b);r.__exportStar(a(803),b);r.__exportStar(a(804),b);r.__exportStar(a(225),b);},function(r,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var t=p.length,v=0,u=d(p),w=d(q),x=0;x < t;x++){v+=p[x] * q[x];}return (v - u * w / t) / t;}return !1;}function m(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=k(p);return Math.sqrt(p);}function k(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=l(p);return d(p.map(function(t){return (t - q) * (t - q);})) / (p.length - 1);}function l(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,t){return q + t;},0):!1;}function f(p,q,t){return Math.max(Math.min(p,t),q);}function h(p,q){return "number" === typeof p?p:q;}function g(p){return 1 / (1 + Math.exp(-p));}n=a(10);r.exports={eb:function(p,q,t){try{p.emit(q,t);}catch(v){p.ml("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",v,"Event:",t);}},$s:function(){var p,q,t;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(v,u){return v + u.byteLength;},0);t=new Uint8Array(q);p.reduce(function(v,u){t.set(new Uint8Array(u),v);return v + u.byteLength;},0);return t.buffer;},G7:f,nGb:function(p,q,t,v){return {min:f(h(p.min,q),t,v),max:f(h(p.max,q),t,v),JA:f(p.JA || 6E4,0,6E5),CZa:f(p.CZa || 0,-3E5,3E5),scale:f(p.scale || 6E4,0,3E5),Fgb:f(p.Fgb || 0,-3E5,3E5),gamma:f(p.gamma || 1,.1,10)};},$g:function(p,q){void 0 !== p && n.K3b(p).forEach(function(t){q(t[0],t[1]);});},dra:function(p,q,t){return p.min + (p.max - p.min) * (1 - Math.pow(g(6 * (q - (p.JA + (p.CZa || 0) * (1 - t))) / (p.scale + (p.Fgb || 0) * (1 - t))),p.gamma));},dOb:function(p,q){return p.min + (p.max - p.min) * Math.pow(g(6 * (q - p.JA) / p.scale),p.gamma);},Snc:d,MQb:l,gUb:k,Qnc:m,Inc:c,Hnc:function(p,q){var t;if(p.length == q.length){t=c(p,q);p=m(p);q=m(q);if(0 < p && 0 < q)return t / (p * q);}return !1;},oi:function(p,q,t){return q.y0a?q.y0a(t):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + t:t);},z9b:function(p){return p.length?"{" + p + "} ":"";},l9b:function(p,q,t){return {min:p.min * t + (1 - t) * q.min,max:p.max * t + (1 - t) * q.max,JA:p.JA * t + (1 - t) * q.JA,scale:p.scale * t + (1 - t) * q.scale,gamma:p.gamma * t + (1 - t) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),PBa:g,oy:function(p){var q;q=p.Sa.Xa.u.id;return {ba:p.ba,duration:p.duration,offset:p.offset,ca:p.ca,bitrate:p.bitrate,profile:p.profile,Ec:p.Ec,V:q,Pa:p.Pa,Fe:p.Fe,location:p.location,Vi:p.Vi,Lk:p.Lk,Lt:{Xa:{u:{id:q}}}};}};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.assert=function(k,l){if(!k)throw new m(l || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yia="6674654e-696c-5078-6966-665374726d21";b.zia="6674654e-696c-4878-6165-6465722e7632";b.WMa="6674654e-696c-5078-6966-66496e646578";b.T3="6674654e-696c-4d78-6f6f-6653697a6573";b.S3="6674654e-696c-5378-6565-6b506f696e74";b.GNa="cedb7489-e77b-514c-84f9-7148f9882554";b.FNa="524f39a2-9b5a-144f-a244-6c427c648df4";b.xia="6674654e-696c-4678-7261-6d6552617465";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CS=b.nnb=b.bga=b.cga=void 0;(function(a){a[a.X1a=0]="downloading";a[a.xMb=1]="downloaded";a[a.Ye=2]="appended";a[a.buffered=3]="buffered";a[a.eR=4]="removed";a[a.qrc=5]="unused";})(b.cga || (b.cga={}));(function(a){a[a.waiting=1]="waiting";a[a.Bpc=2]="ondeck";a[a.X1a=4]="downloading";a[a.xMb=8]="downloaded";a[a.BY=6]="inprogress";})(b.bga || (b.bga={}));b.nnb="AseBufferViewSymbol";b.CS="AseBufferAccountingSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uia=b.co=void 0;r=b.co || (b.co={});r.VG="PRE_FETCH";r.Ttb="QC";r.Rq="STANDARD";r.x4="SUPPLEMENTAL";r.shc="DOWNLOAD";b.Uia="PboManifestCommandSymbol";},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.T6a=b.Ikb=b.hw=b.uba=b.Rab=void 0;r=a(1120);c=a(1123);m=a(1144);a=a(1148);b.Rab=r;b.uba=function(k,l){return (0,b.Rab)(function(d,f){return void 0 !== f?f:d;},k,l);};b.hw=c;b.Ikb=m;b.T6a=a;},function(r,b,a){var h,g,n,p,q,t,v,u,w,x,y,z,A;function c(){this.eg=(0,t.Vj)("Http");this.nl=new h.sk();this.pH=0;this.Wb={ssl:0,"non-ssl":0,invalid:0};this.q4={Lm:1,dvb:2,rFa:3};this.addEventListener=this.nl.addListener;this.removeEventListener=this.nl.removeListener;}function m(B){var C,D,F,G;C=B.url.split("?");D="sc=" + B.r9b;F=B.iZa?"random=" + (1E17 * (0,w.yT)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=F?"&" + F:"";B.vc && !(0,n.vaa)(G) && (B=g.config && g.config.Ioa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function k(B,C){var D,F,G;D=B.url.split("?");F=l(B);G=D[0];F && (C.Ut=F,(void 0 === B.ou?g.config.ou:B.ou) || B.du !== z.Cia?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(C.Ut=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.iZa?"random=" + (1E17 * (0,w.yT)()).toFixed(0):"";g.config.eB && B.oea && (F="sc=" + B.oea + (F?"&" + F:""));G=D[1]?G + ("?" + D[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.vc && !(0,n.vaa)(G) && (B=g.config && g.config.Ioa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function l(B){var C;C=B.offset;if(void 0 !== C)return ((0,v.AW)(C),void 0 !== B.length?(B=C + B.length - 1,(0,v.AW)(B),C + "-" + B):C + "-");}function d(B,C,D,F){var G,E;G=F.beb;E=F.headers;B.open(G?"POST":"GET",C,!D);switch(F.responseType){case b.rY:B.responseType="arraybuffer";break;case b.oua:(0,u.vZa)(B,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.qg)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,u.Ce)(C,E):C);E && (0,u.$g)(E,function(H,L){B.setRequestHeader(H,L);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}function f(B,C){switch(C.type){case b.rY:return B.response || new ArrayBuffer(0);case b.oua:return B.responseXML;default:return B.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.rY=b.oua=b.nua=b.CVb=b.qua=b.BVb=b.E7a=b.I$=b.lf=b.evb=b.fvb=b.AVb=b.pua=b.xVb=b.yVb=b.wVb=b.zVb=void 0;h=a(72);g=a(18);r=a(17);n=a(43);p=a(59);q=a(3);t=a(8);v=a(23);u=a(25);w=a(13);x=a(58);y=a(15);z=a(71);A=a(1205);c.prototype.qac=function(B){var C;C=new XMLHttpRequest();B=m(B);C.open("HEAD",B);C.onreadystatechange=function(){2 === C.readyState && !1;};C.send();};c.prototype.download=function(B,C){var R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga;function D(){var N;if(!T){T=!0;Ga && (nb.clearTimeout(Ga),Ga=null);R.nl.removeListener(b.qua,H);R.fma(sa,wa);wa && (wa.onloadstart=null,wa.onreadystatechange=null,wa.onprogress=null,wa.onerror=null,wa.onload=null,wa=wa.onabort=null);sa.ea || (sa.xa != q.T.bD?J.warn("Download failed",S,(0,q.yz)(sa)):J.trace("Download aborted",S));N=U;U=null;null === N || void 0 === N?void 0:N.reduceRight(function(Q,V){(0,x.jg)(function(){return V(sa);});},null);R.nl.Rc(b.E7a,sa,!0);}}function F(){Ga && (nb.clearTimeout(Ga),Ga=null);Ga=nb.setTimeout(L,Ba?P:M);}function G(N,Q,V,ba){var qa,La;sa.ea=!1;sa.xa=N;qa=(0,p.yo)();La=sa.km;La.bj=La.bj || qa;La.zq=La.zq || qa;Q && 0 < Q && (sa.xl=Q,sa.Kf=Q.toString());V && (sa.Qb=V);ba && (sa.RF=ba);N !== q.T.hT && N !== q.T.EG && N !== q.T.kT || !wa || (wa.onabort=null,K());D();}function E(N){var Q,V;try{V=N.getResponseHeader("X-Netflix.Retry.Server.Policy");V && (Q=JSON.parse(V));}catch(ba){!1;}return Q;}function H(){(0,b.pua)() || G(q.T.hT);}function L(){G(Ba?q.T.EG:q.T.kT);}function K(){try{null === wa || void 0 === wa?void 0:wa.abort();}catch(N){}}function I(){G(q.T.bD);}R=this;(0,v.Wa)(C);J=(null === (O=null === B || void 0 === B?void 0:B.j) || void 0 === O?0:O.log)?(0,t.Ui)(B.j,"Http"):this.eg;M=B.O7 || g.config.O7;P=B.Exa || g.config.Exa;S={Num:this.pH++};T=!1;U=[C];W={};this.NAb(B);sa=new A.TJa(B,K,L,W,function(N){T || ((0,v.Wa)(U,"Callback should be added before download starts."),U && U.unshift(N));});Ba=!1;(0,x.jg)(function(){var N,Q;if((0,y.yva)(B.url))try{if((k(B,sa),fa=sa.url,(0,v.BW)(fa),S.Url=fa,(0,b.pua)())){!1;wa=new XMLHttpRequest();N=g.config.Iec && "undefined" != typeof wa.onloadstart;N && (wa.onloadstart=function(){var V;V=(0,p.yo)();W.$r=V;sa.TZ({mediaRequest:B,timestamp:V});});wa.onreadystatechange=function(){2 === (null === wa || void 0 === wa?void 0:wa.readyState) && (Ba=!0,W.bj=(0,p.yo)(),wa.onreadystatechange=null,F(),!1,R.fma(sa,wa),sa.UZ({timestamp:W.bj,connect:!0,mediaRequest:B,start:W.$r,rt:[W.bj - W.$r],responseHeaders:sa.headers}));};wa.onprogress=function(V){Ba=!0;W.qW=V.loaded;F();R.fma(sa,wa);V={mediaRequest:B,bytes:V.loaded,timestamp:(0,p.yo)(),bytesLoaded:V.loaded,responseHeaders:sa.headers};sa.UZ(V);};wa.onload=function(V){!T && wa && ((0,v.Wa)(void 0 === W.zq),W.zq=(0,p.yo)(),W.bj=W.bj || W.zq,W.qW=V.loaded,200 <= wa.status && 299 >= wa.status?(V=f(wa,sa),sa.parsed=!1,sa.content=V,sa.ea=!0):420 === wa.status?G(q.T.jT,wa.status):G(q.T.iT,wa.status,wa.response,E(wa)),D());};wa.onabort=I;wa.onerror=function(){var V,ba;if(wa){V=wa.status;"undefined" !== typeof g.config.N3a && (V=g.config.N3a);if(0 < V){if(420 === V)G(q.T.jT,V);else {try{ba=wa.responseText;}catch(qa){}G(q.T.iT,V,ba,E(wa));}}else G(q.T.lT);}};Q=(0,p.yo)();d(wa,fa,!1,B);R.nl.Rc(b.I$,sa,!0);N || (W.$r=Q,sa.TZ({mediaRequest:B,timestamp:Q}));F();R.nl.addListener(b.qua,H);}else (0,x.jg)(G.bind(void 0,q.T.hT));}catch(V){J.error("Exception starting download",V,S);G(q.T.Aha,void 0,(0,u.cf)(V));}else G(q.T.xJa);});return sa;};c.prototype.X5b=function(B){var C,D,F;C=new XMLHttpRequest();D=B.url;F=B.U5b;C.open("HEAD",D);C.timeout=Math.max(2 * F.tZb,g.config.oza);C.onreadystatechange=function(){2 === C.readyState && (!1,F && F.zQ({url:D}));};C.ontimeout=C.onerror=function(){!1;F && F.Lxa({url:D});};C.send();};c.prototype.NAb=function(B){var C;try{C=B.url;(0,y.yva)(C)?0 === C.indexOf("https")?this.Wb.ssl++:0 === C.indexOf("http")?this.Wb["non-ssl"]++:this.Wb.invalid++:this.Wb.invalid++;}catch(D){}};c.prototype.fma=function(B,C){var D;if(!B.headers && C){D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=na(F.split(": "));F=G.next().value;G=da(G).join(": ");F && (D[F]=G);});B.headers=D;}};b.zVb=m;b.wVb=function(B){var C,D,F,G;C=B.url.split("?");D="bb_reason=" + B.reason;F=B.iZa?"random=" + (1E17 * (0,w.yT)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=F?"&" + F:"";B.vc && !(0,n.vaa)(G) && (B=g.config && g.config.Ioa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;};b.yVb=k;b.xVb=l;b.pua=r.tQa;b.AVb=function(){return !1 !== w.Ue.onLine;};b.fvb=d;b.evb=f;b.lf=new c();b.I$=1;b.E7a=2;b.BVb=3;b.qua=4;b.CVb=5;b.nua=b.lf.q4.Lm;b.oua=b.lf.q4.dvb;b.rY=b.lf.q4.rFa;nb._cad_global.http=b.lf;},function(r,b,a){b=a(202);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},function(r,b,a){var c;c=a(629);r.exports=function(m){return "symbol" === typeof m?"Symbol":"bigint" === typeof m?"BigInt":c(m);};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WG="PlatformConfigDefaultsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fHa="DebugConfigSymbol";b.pz="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iha="EventSourceSymbol";b.lha="GlobalEventSourceSymbol";b.z2="DebugEventSourceSymbol";b.uHa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lM="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TL="LoggerSinksSymbol";},function(r){var h,g,n,p;function b(){b.ta.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,t,v,u){var w,x;a(v);w=q.Bg;if(void 0 === w)(w=q.Bg=Object.create(null),q.uH=0);else {void 0 !== w.wpc && (q.emit("newListener",t,v.listener?v.listener:v),w=q.Bg);x=w[t];}void 0 === x?(w[t]=v,++q.uH):("function" === typeof x?x=w[t]=u?[v,x]:[x,v]:u?x.unshift(v):x.push(v),v=void 0 === q.MU?b.$Kb:q.MU,0 < v && x.length > v && !x.ufc && (x.ufc=!0,v=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit"),v.name="MaxListenersExceededWarning",v.ht=q,v.type=t,v.count=x.length,console && console.warn && console.warn(v)));return q;}function m(){if(!this.A3a)return (this.target.removeListener(this.type,this.omb),this.A3a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function k(q,t,v){q={A3a:!1,omb:void 0,target:q,type:t,listener:v};t=m.bind(q);t.listener=v;return q.omb=t;}function l(q){var t;t=this.Bg;if(void 0 !== t){q=t[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,t,v){"function" === typeof q.on && f(q,"error",t,v);}function f(q,t,v,u){if("function" === typeof q.on){if(u.once)q.once(t,v);else q.on(t,v);}else if("function" === typeof q.addEventListener)q.addEventListener(t,function y(x){u.once && q.removeEventListener(t,y);v(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}h="object" === typeof Reflect?Reflect:null;g=h && "function" === typeof h.apply?h.apply:function(q,t,v){return Function.prototype.apply.call(q,t,v);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,t){return new Promise(function(v,u){function w(y){q.removeListener(t,x);u(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",w);v([].slice.call(arguments));}f(q,t,x,{once:!0});"error" !== t && d(q,w,{once:!0});});};b.EventEmitter=b;b.prototype.Bg=void 0;b.prototype.uH=0;b.prototype.MU=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.ta=function(){if(void 0 === this.Bg || this.Bg === Object.getPrototypeOf(this).Bg)(this.Bg=Object.create(null),this.uH=0);this.MU=this.MU || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.MU=q;return this;};b.prototype.emit=function(q){var u,w;for(var t=[],v=1;v < arguments.length;v++){t.push(arguments[v]);}u="error" === q;v=this.Bg;if(void 0 !== v)u=u && void 0 === v.error;else if(!u)return !1;if(u){0 < t.length && (w=t[0]);if(w instanceof Error)throw w;t=Error("Unhandled error." + (w?" (" + w.message + ")":""));t.context=w;throw t;}v=v[q];if(void 0 === v)return !1;if("function" === typeof v)g(v,this,t);else {w=v.length;u=Array(w);for(var x=0;x < w;++x){u[x]=v[x];}for(v=0;v < w;++v){g(u[v],this,t);}}return !0;};b.prototype.addListener=function(q,t){return c(this,q,t,!1);};b.prototype.on=b.prototype.addListener;b.prototype.v_=function(q,t){return c(this,q,t,!0);};b.prototype.once=function(q,t){a(t);this.on(q,k(this,q,t));return this;};b.prototype.eza=function(q,t){a(t);this.v_(q,k(this,q,t));return this;};b.prototype.removeListener=function(q,t){var v,u,w,x,y;a(t);u=this.Bg;if(void 0 === u)return this;w=u[q];if(void 0 === w)return this;if(w === t || w.listener === t)0 === --this.uH?this.Bg=Object.create(null):(delete u[q],u.removeListener && this.emit("removeListener",q,w.listener || t));else if("function" !== typeof w){x=-1;for(v=w.length - 1;0 <= v;v--){if(w[v] === t || w[v].listener === t){y=w[v].listener;x=v;break;}}if(0 > x)return this;if(0 === x)w.shift();else {for(;x + 1 < w.length;x++){w[x]=w[x + 1];}w.pop();}1 === w.length && (u[q]=w[0]);void 0 !== u.removeListener && this.emit("removeListener",q,y || t);}return this;};b.prototype.wy=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var t,v,u;t=this.Bg;if(void 0 === t)return this;if(void 0 === t.removeListener)return (0 === arguments.length?(this.Bg=Object.create(null),this.uH=0):void 0 !== t[q] && (0 === --this.uH?this.Bg=Object.create(null):delete t[q]),this);if(0 === arguments.length){v=Object.keys(t);for(t=0;t < v.length;++t){u=v[t];"removeListener" !== u && this.removeAllListeners(u);}this.removeAllListeners("removeListener");this.Bg=Object.create(null);this.uH=0;return this;}v=t[q];if("function" === typeof v)this.removeListener(q,v);else if(void 0 !== v)for(t=v.length - 1;0 <= t;t--){this.removeListener(q,v[t]);}return this;};b.prototype.listeners=function(q){var t;t=this.Bg;if(void 0 === t)q=[];else if((q=t[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {t=Array(q.length);for(var v=0;v < t.length;++v){t[v]=q[v].listener || q[v];}q=t;}return q;};b.listenerCount=function(q,t){return "function" === typeof q.listenerCount?q.listenerCount(t):l.call(q,t);};b.prototype.listenerCount=l;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.b2=b.Hj=void 0;c=a(0);r=c.__importDefault(a(11));m=c.__importStar(a(10));k=r.default.Gf;l=c.__importDefault(a(4));d=l.default.zs;f=a(175);h=c.__importDefault(a(148));g=a(7);r=a(35);a(2);a(926);n=a(179);p=a(178);(function(t){t[t.wsb=0]="NOTHING_APPENDED";t[t.Psb=1]="PARTIAL";t[t.Tw=2]="COMPLETE";t[t.ag=3]="ERROR";})(q=b.Hj || (b.Hj={}));a=(function(t){function v(u,w,x,y,z,A,B){w=t.call(this,w,x) || this;w.zxb=! !y.Ec;n.sG.ta(w,u,y,z,A,B);p.Pw.ta(w,u,y);w.Q4=u.p6a(w.Ec,w.mF);u.Fc && (w.Q4+=(-1 === w.Q4.indexOf("?")?"?":"&") + "p=LIVE");w.pka=y.responseType;w.ivb=y.oea;void 0 === w.pka && (w.pka=d.Oc && !d.Oc.e0.UT?0:1);w.Ji=new k();w.Ji.on(w,d.Se.oNa,w.Tla);w.Ji.on(w,d.Se.nNa,w.Xyb);w.Ji.on(w,d.Se.pNa,w.$yb);w.Ji.on(w,d.Se.HT,w.Sla);w.Ji.on(w,d.Se.Ljc,w.Wyb);w.Ji.on(w,d.Se.UG,w.NU);w.rM=!1;w.We=!1;w.Um=!1;w.Kp=!1;w.wU=!1;w.Wzb=y.b0;w.hAb=y.tC;w.Qt=0;return w;}c.__extends(v,t);Object.defineProperties(v.prototype,{Ec:{get:function(){return this.zxb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{active:{get:function(){return this.We;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Oza:{get:function(){return this.Um;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{complete:{get:function(){return !this.rM && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{aborted:{get:function(){return this.rM;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{kva:{get:function(){return this.Kp && !this.wU;},enumerable:!1,configurable:!0}});v.prototype.ta=function(u){var w;n.sG.prototype.ta.call(this,u);if(!this.Ip && (this.Je.Wma || !this.Ec) && (u=this.Ip=h.default.instance(),this.active)){w=l.default.time.ga();u.jR(w,this.QF);this.Um && (u.Yfb(),w=this.DK,this.connect && 0 < w.length && u.wA(w[0]));}};v.prototype.xt=function(){return this.Ye || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};v.prototype.eI=function(u,w,x,y){var z;x || (x=g.oy(this));this.Ye=y?this.Je.i3b?y.every(function(A,B){return u.appendBuffer(A,0 === B?x:void 0);}):u.appendBuffer(1 < y.length?g.$s(y):y[0],x):u.appendBuffer(this.response,x);null === (z=this.N5) || void 0 === z?void 0:z.k2b();this.response && this.cR();return {status:this.Ye?q.Tw:q.ag};};v.prototype.dK=function(){var u;null === (u=this.N5) || void 0 === u?void 0:u.G2b();(this.Kp=d.prototype.open.call(this,this.Q4,{start:this.offset,end:this.offset + this.ca - 1},this.pka,{},void 0,void 0,this.ivb,this.stream.du)) && this.tX(this);return this.Kp;};v.prototype.abort=function(){var u,w;if(this.aborted)return !0;u=this.We;w=this.Ip;w && u && w.X_(l.default.time.ga(),this.Um,this.QF);this.rM=!0;this.Um=this.We=!1;d.prototype.abort.call(this);this.$O(this,u,this.kva);return !0;};v.prototype.Zc=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Ji && this.Ji.clear();t.prototype.Zc.call(this);};v.prototype.Tla=function(){var u,w;w=this.Nf || this.loadTime;null === (u=this.N5) || void 0 === u?void 0:u.z2b();f.nz.instance().push(l.default.time.ga() - w);this.We || (this.We=!0,this.Tv=this.track.Tv(),this.stream.J.eab || (u=this.Ip) && u.jR(w,this.QF),this.aP(this),this.pw=this.Nf);};v.prototype.Xyb=function(){var u,w,x,y;null === (u=this.N5) || void 0 === u?void 0:u.v2b();u=this.Nf || this.Jra;w=this.connect;x=this.DK;f.nz.instance().push(l.default.time.ga() - u);this.We || (this.We=!0);if(!this.Um){this.Um=!0;y=this.Ip;this.stream.J.eab && y && y.jR(u,this.QF);y && y.Yfb();w && 0 < x.length && y && y.wA(x[0]);this.IE(this);this.pw=u;0 >= this.ca && (u=this.ca,this.b$b(this.Lg),this.Yra(this,u));if(this.stream.Fc){if(u=this.kzb())(l.default.time.now(),this.stream.P.chb=u);}else this.getAllResponseHeaders(!0);}};v.prototype.$yb=function(){var u,w,x;u=this.Nf;w=this.bytesReceived - this.Qt;f.nz.instance().push(l.default.time.ga() - u);this.Um || (this.Um=!0);x=this.Ip;x && (void 0 === this.pw || x.UD(w,this.pw,u,this.QF),(w=this.DK) && w.length && w.forEach(function(y){x.vA(y);}));this.UI(this);this.pw=u;this.Qt=this.bytesReceived;};v.prototype.Sla=function(){var u,w,x;null === (u=this.N5) || void 0 === u?void 0:u.QZ();u=this.Nf;w=this.bytesReceived - this.Qt;f.nz.instance().push(l.default.time.ga() - u);x=this.Ip;x && (0 < w && x.UD(w,this.pw,u,this.QF),(w=this.DK) && w.length && w.forEach(function(y){x.vA(y);}),x.X_(u,this.Um,this.QF));this.Um=this.We=!1;this.wU=!0;this.Bv(this);this.pw=u;this.Qt=this.bytesReceived;this.Zc();};v.prototype.Wyb=function(){this.Q3a(this);};v.prototype.Wwb=function(){var u,w;u=(u=this.stream)?u.toString():this.url;w=this.UN;w && (u+=",range " + w.start + "-" + w.end);return u;};Object.defineProperties(v.prototype,{QF:{get:function(){return {requestId:this.Wwb(),Qk:this.Fe,type:this.mediaType,b0:this.Wzb,ca:this.ca,bytesReceived:this.bytesReceived,tC:this.hAb};},enumerable:!1,configurable:!0}});v.prototype.NU=function(){var u,w,x,y;this.G.warn("AseMediaRequest._onError:",this.toString());u=this.Nf;w=this.status;x=this.ah;y=this.vj;f.nz.instance().push(l.default.time.ga() - u);this.complete?this.G.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.G.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):m.Ka(x)?((x=this.Ip) && this.Je && this.Je.iAa && this.loadTime && void 0 === w && x.UD(this.Qt?this.bytesReceived - this.Qt:this.bytesReceived,this.pw?this.pw:this.loadTime,u,this.QF),this.o9(this)):this.G.warn("ignoring undefined request error (nativecode: " + y + ")");};v.prototype.kzb=function(){var u,w;u=this.getResponseHeader("X-TCP-Info",!0);if(u){u.split(";").some(function(x){if(0 === x.indexOf("sc="))return (w=x.slice(3),!0);});if(w)return (u=new g.oka("LIVE").decrypt(w,!0),u=u.slice(2,u.length - 2),u=u.slice(u.indexOf("=") + 1),1E3 * parseFloat(u));}};return v;})(d);b.b2=a;r.Re(n.sG,a,!1);r.Re(p.Pw,a,!1);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NG="ManifestFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iH="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eM=b.$G=void 0;r=b.$G || (b.$G={});r.Eic="ident";r.dia="main";r.gGa="credits";b.eM="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gp=void 0;b.gp=function(a,c){return [].concat.apply([],ia(a)).map(function(m){return Object.assign({name:m},null !== c && void 0 !== c?c:{});});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rpb=b.Hm=void 0;r=b.Hm || (b.Hm={});r[r.dC=0]="playready";r[r.Efa=1]="widevine";r[r.GE=2]="fairplay";r[r.umc=3]="clearkey";b.Rpb="DrmTypeSymbol";},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Od=void 0;m=a(26);c.D0a=function(k){var l;l={};l[m.rf.TT]=c.L2;l[m.rf.Q2]=c.L2;l[m.rf.oM]=c.rha;l[m.rf.OL]=c.OL;l[m.rf.Uw]=k || c.Uw;l[m.rf.SC]=c.L2;l[m.rf.sD]=c.$T;l[m.rf.Tl]=c.Tl;return l;};b.Od=c;c.jxa='video/mp4; codecs="avc1.4d0028"';c.L2="avc1.4d0028";c.rha="hev1.1.6.L93.B0";c.Lga="dvhe.05.01";c.$Ga="dvhe.05.04";c.Mga="dvhe.05.05";c.Nga="dvhe.05.06";c.Oga="dvhe.05.07";c.Pga="dvhe.05.09";c.Uw=c.Lga;c.OL=c.rha;c.Nfa="mp4a.40.2";c.Qz="mp4a.40.42";c.Fob="ec-3";c.$T="vp09.00.11.08.02";c.Tl="av01.0.04M.08";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KHa="DrmServicesSymbol";b.D2="DrmServicesProviderSymbol";},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dH=void 0;r=a(0);a=a(1);c.prototype.format=function(k,l){var f;for(var d=1;d < arguments.length;++d){;}f=Array.prototype.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(h,g){return "undefined" != typeof f[g]?f[g]:h;});};c.prototype.ajb=function(k){for(var l=k.length,d=new Uint16Array(l),f=0;f < l;f++){d[f]=k.charCodeAt(f);}return d.buffer;};c.prototype.djb=function(k){return JSON.stringify(k,null,"  ");};m=c;m=r.__decorate([(0,a.Y)()],m);b.dH=m;},function(r){var h,g,n,p,q,t;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(v){if(h === setTimeout)return setTimeout(v,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(v,0));try{return h(v,0);}catch(u){try{return h.call(null,v,0);}catch(w){return h.call(this,v,0);}}}function m(v){if(g === clearTimeout)return clearTimeout(v);if((g === a || !g) && clearTimeout)return (g=clearTimeout,clearTimeout(v));try{return g(v);}catch(u){try{return g.call(null,v);}catch(w){return g.call(this,v);}}}function k(){p && q && (p=!1,q.length?n=q.concat(n):t=-1,n.length && l());}function l(){var v;if(!p){v=c(k);p=!0;for(var u=n.length;u;){q=n;for(n=[];++t < u;){q && q[t].Ry();}t=-1;u=n.length;}q=null;p=!1;m(v);}}function d(v,u){this.jQb=v;this.yA=u;}function f(){}r=r.exports={};h="function" === typeof setTimeout?setTimeout:b;g="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;t=-1;r.zpc=function(v){var u;u=Array(arguments.length - 1);if(1 < arguments.length)for(var w=1;w < arguments.length;w++){u[w - 1]=arguments[w];}n.push(new d(v,u));1 !== n.length || p || c(l);};d.prototype.Ry=function(){this.jQb.apply(null,this.yA);};r.title="browser";r.bmc=!0;r.dX={};r.Mlc=[];r.version="";r.Arc={};r.on=f;r.addListener=f;r.once=f;r.wy=f;r.removeListener=f;r.removeAllListeners=f;r.emit=f;r.v_=f;r.eza=f;r.listeners=function(){return [];};r.Ylc=function(){throw Error("process.binding is not supported");};r.Emc=function(){return "/";};r.pmc=function(){throw Error("process.chdir is not supported");};r.prc=function(){return 0;};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Gm=void 0;c=a(0).__importDefault(a(4));m=a(98);r=(function(){function k(l){this.G=new c.default.Console("ASEJS","media|asejs","(" + l + ")");this.Lla=[];}k.prototype.iq=function(l){this.Lla[l] || (this.Lla[l]=m.oi(c.default,this.G,"[" + l + "]"));return this.Lla[l];};return k;})();b.Gm=new r(0);},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Lq=void 0;c=a(0);m=c.__importDefault(a(29));k=c.__importDefault(a(4));l=a(927);r=(function(){function d(f){this.qM=f;this.Qe=[];this.console=new k.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var f;if(void 0 === d.VM){f=a(4).default;d.VM=new d(f.HL);}return d.VM;},enumerable:!1,configurable:!0}});d.reset=function(){d.VM=void 0;};d.prototype.jv=function(f,h,g,n,p,q){var t;t=q.V$b?this.jPb(g,h,f,q.W$b):-1;-1 === t?(t={track:this.sJb(g,n,f,p,q),jk:g,I:h,Oeb:f,OF:[],tl:!1,wO:!1},this.Qe.push(t),this.W6b(t),f=!1):(f=!0,t=this.Qe[t]);f=new l.MQa(this.console,t.track,t.tl,f);t.OF.push(f);return f;};d.prototype.W6b=function(f){function h(){f.tl=!0;f.track.removeListener("created",h);}f.track.on("created",h);};d.prototype.vO=function(f){var h,g;f.zr();h=this.oX(function(n){return n.track === f.track;});if(-1 !== h){if((h=this.Qe[h],1 === h.OF.length))(h.track.zr(),h.wO=!0);else {g=h.OF.indexOf(f);0 <= g && h.OF.splice(g,1);}}else f.track.zr();};d.prototype.Lf=function(){this.qM.Lf();};d.prototype.sJb=function(f,h,g,n,p){var q,t,v,u;q=this;t=!1;v=!1;f?1 === g?(f=!1,h=1,p.Qr?(f=!0,h=p.cQ):p.ry && 2 < p.ry && (f=!0,h=p.ry),v=p.ylb || !f,v={type:this.qM.Jb,openRange:v,pipeline:f,connections:h,socketBufferSize:p.pS,minRequestSize:p.nQ}):0 === g?(t=p.Qr && (p.Dec || h && p.Eec),v=p.ylb || !t,v={type:this.qM.dc,openRange:v,pipeline:t,connections:1,socketBufferSize:p.k7,minRequestSize:p.nQ}):v={type:p.WLb?this.qM.Jb:this.qM.Aqb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.cua,minRequestSize:p.nQ}:v={type:0 === g?m.default.cb.dc:m.default.cb.Jb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === g?p.k7:p.pS,minRequestSize:p.nQ};u=new this.qM(v,n);u.on("transportreport",function(w){var x;x=q.oX(function(y){return y.track === u;});-1 !== x && (x=q.Qe[x],x.OF.length && x.OF[0].emit("transportreport",w));});u.on("mediaRequestComplete",function(w){var x;x=q.oX(function(y){return y.track === u;});-1 !== x && (x=q.Qe[x],x.OF.length && x.OF[0].emit("mediaRequestComplete",w));});u.on("destroyed",function(){var w;w=q.oX(function(x){return x.track === u;});-1 !== w && q.Qe.splice(w,1);u.removeAllListeners();});if(t && p.Cec || p.Alb)u.on("pipelinedisabled",function(){p.Alb && 1 === u.config.type?u.qda(c.__assign(c.__assign({},u.config),{socketBufferSize:p.C0b,pipeline:!1,openRange:!0,connections:1})):u.qda(c.__assign(c.__assign({},u.config),{pipeline:!1,openRange:!0}));});return u;};d.prototype.jPb=function(f,h,g,n){return this.oX(function(p){return !p.wO && (!n && p.track.config.Epc || !f?!p.jk && p.Oeb === g:p.jk && p.I === h && p.Oeb === g);});};d.prototype.oX=function(f){for(var h=0;h < this.Qe.length;++h){if(f(this.Qe[h]))return h;}return -1;};return d;})();b.Lq=r;},function(r,b,a){(function(c){var k,l,d,f,h,g;function m(n,p){return n - p;}Object.defineProperties(b,{__esModule:{value:!0}});b.yqb=b.XI=void 0;k=a(0);l=a(9);d=k.__importDefault(a(4));f="gctag" === c.dX.wqb;b.XI=function(n,p){var q;if(!f)return n;q=new g(n.name,p);return (function(t){function v(){for(var u=[],w=0;w < arguments.length;w++){u[w]=arguments[w];}u=t.apply(this,k.__spread(u)) || this;u.h4a=q.wJb(u);return u;}k.__extends(v,t);return v;})(n);};g=(function(){function n(p,q){this.name=p;this.wpa=q;this.aF=[];this.LWb=0;}Object.defineProperties(n,{console:{get:function(){h || (h=new d.default.Console("GCTAGGER"));return h;},enumerable:!1,configurable:!0}});n.prototype.wJb=function(p){var q,t;if(f){q=this.wpa;q || (q=n.console);if(!p.h4a && "undefined" !== typeof nrdp){p={type:this.name,id:this.LWb++};this.aF.push(p.id);t=JSON.stringify(p);t=nrdp.h4a(t,(function(v,u,w,x){v.aF.splice(v.aF.indexOf(u),1);v.aF=v.aF.sort(m);for(var y=[],z=0;z < v.aF.length && 5 > z;z++){y.push(v.aF[z]);}null === x || void 0 === x?void 0:x.error("Removing instance for " + w + "/" + u + ". " + (v.aF.length + " remaining, earliest: " + y + "}"));}).bind(null,this,p.id,p.type,q));l.R && q && q.info("Creating tagged instance",p);return t;}}};return n;})();b.yqb=g;}).call(this,a(123));},function(r,b,a){var k,l,d,f,h,g,n;function c(p){return p && "function" === typeof p.ii?!0:!1;}function m(p){return c(p) && (p=typeof p.hXb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Cob=b.qOb=b.gXb=b.mnb=b.AsyncIterator=void 0;k=a(0);l=a(9);f=(function(){function p(q){var t;t=this;this.lxb=q;this.EU=!1;this.Bzb=function(v){return t.b6b(v);};this.c0a();}p.dYb=function(q,t){function v(){var u;u=q.next();u.then(function(w){m(q) && q.hXb || t(w);});u.then(function(w){return !w.done && v();});}v();};Object.defineProperties(p.prototype,{yt:{get:function(){return this.EU;},enumerable:!1,configurable:!0}});p.b5a=function(){return new h([]);};p.Fta=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{IP:{get:function(){return this.Pm || !1;},enumerable:!1,configurable:!0}});p.prototype.ii=function(){this.cancel();};p.prototype.cancel=function(){this.FVa();this.Pm=!0;return this.Dka;};p.prototype.next=function(){return this.Pm?this.Dka:Promise.race([this.Dka,this.lxb()]).then(this.Bzb);};p.prototype.b6b=function(q){q.done && (this.EU=!0,this.ii());this.IP || (this.FVa(),this.c0a());return q;};p.prototype.c0a=function(){var q;q=this;this.Dka=new Promise(function(t){q.FVa=function(){t({done:!0});};});};return p;})();b.AsyncIterator=f;h=(function(p){function q(t){var v;v=p.call(this,function(){return v.HSb();}) || this;v.yA=t;v.index=0;return v;}k.__extends(q,p);q.prototype.ii=function(){c(this.yA) && this.yA.ii();p.prototype.ii.call(this);};q.prototype.HSb=function(){return this.yA.length > this.index?Promise.resolve({value:this.yA[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.mnb=h;b.gXb=c;b.qOb=m;g=(function(p){function q(t,v,u){var w;w=p.call(this,function(){return w.Axa();}) || this;w.console=v;w.Vl=u;w.uza=!1;Array.isArray(t)?w.OU=new h(t):w.OU=t;return w;}k.__extends(q,p);q.prototype.d6b=function(t){var v;this.uza=!1;v=this.console;l.R && v && v.trace("CompoundIterator: processNextOuterIterator");if(t.done)return t;t=t.value;if(this.YM)return (c(t) && t.ii(),f.Fta());Array.isArray(t)?this.Vl=new h(t):this.Vl=t;return this.Axa();};q.prototype.c6b=function(t){var v;v=this.console;l.R && v && v.trace("CompoundIterator: processNextInnerResult",this.YM,t.done);if(!t.done || this.YM)return t;this.Vl=void 0;return this.Axa();};q.prototype.ii=function(){var t;t=this.console;l.R && t && t.trace("CompoundIterator: dispose");this.YM=!0;p.prototype.ii.call(this);c(this.OU) && this.OU.ii();c(this.Vl) && this.Vl.ii();};q.prototype.toString=function(){return "CompoundIterator " + this.YM + " " + this.OU + " " + this.Vl;};q.prototype.Axa=function(){var t,v;t=this;v=this.console;l.R && v && v.trace("CompoundIterator: nextImpl");if(this.Vl)return (l.R && v && v.trace("CompoundIterator: getNextInner"),this.Vl.next().then(function(u){return t.c6b(u);}));this.uza=!0;l.R && v && v.trace("CompoundIterator: getNextOuter");return this.OU.next().then(function(u){return t.d6b(u);});};return q;})(f);b.Cob=g;b.map=function(p,q,t){return new n(p,q,t);};n=(function(p){function q(t,v,u){var w;w=p.call(this,function(){return w.Xwb();}) || this;w.source=t;w.Fwa=v;w.wpa=u;return w;}k.__extends(q,p);q.prototype.ii=function(){c(this.source) && this.source.ii();p.prototype.ii.call(this);};q.prototype.Xwb=function(){var t,v,u;t=this.wpa;v=this.Fwa;u=this.source;l.R && t && t.trace("MappedIterator: Requesting next");return u.next().then(function(w){return w.done?w:v(w.value);});};return q;})(f);b.flatten=function(p,q,t){return new g(p,q,t);};},function(r,b,a){(function(c,m){function k(l,d,f,h){this.console=new l("ASEJS_PROGRESS","media|asejs");this.now=d;this.khb=this.Rac=l=this.now();this.L8=l + f;this.o4b=f;this.S0a=l + h;this.debug=!1;this.counter=this.OB=0;this.Ox=1E4;this.Pjb=f / 100;this.Rjb=l;this.Qjb=1 * this.Pjb / 4;this.Pea=0;this.DW="";this.eg(l,"progress tracking start");}k.prototype.constructor=k;k.prototype.eg=function(l,d){var f,h;f=((l - this.khb) / 1E3).toFixed(3);f=("     ").slice(f.length - 4) + f;h=c.b0b();this.console.info(f + (" " + ((this.S0a - l) / 1E3).toFixed(3)) + (" " + Math.round(this.Ox)) + (" M:(" + Math.floor(h.coc / 1024 / 1024) + " MB/" + Math.floor(h.v7a / 1024 / 1024) + " MB) ") + this.DW + d);};k.prototype.lAb=function(l){var d;d=this.now();this.DW=l?l + ": ":l;this.OB=0;this.khb=d;this.eg(d,"starting");};k.prototype.KAb=function(l){var d,f;this.counter++;if(!(this.counter < this.Ox)){this.counter=0;d=this.now();f=d - (this.Rjb + this.Pjb);this.Rjb=d;this.Pea=.9 * this.Pea + .1 * f;this.Pea > this.Qjb?(this.Ox*=.875,this.Ox=Math.max(1,this.Ox)):this.Pea < -this.Qjb && (this.Ox*=1.5,this.Ox=Math.min(this.Ox,1E5));if(d >= this.S0a)throw (this.eg("Execution deadline exceeded after " + (d - this.Rac) + " ms" + this.DW),Error("Execution deadline exceeded" + this.DW));f=c.b0b();this.OB=Math.max(this.OB,f.v7a);if(7516192768 < f.v7a)throw Error("Heap total limit exceeded" + this.DW);if(!(d <= this.L8)){for(;d > this.L8;){this.L8+=this.o4b;}this.eg(d,l);}}};k.ta=function(l,d,f,h){m.MF=new k(l,d,f || 5E3,h || 33E5);};k.sBa=function(l){m.MF && m.MF.lAb(l);};k.update=function(l){m.MF && m.MF.KAb(l);};k.L5a=function(){if(m.MF)return m.MF.OB;};k.now=function(){return m.MF?m.MF.now():Date.now();};r.exports=k;}).call(this,a(123),a(201));},function(r){var b;b={vY:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,f;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function m(h){return d.qg(h);}function k(h){return d.Ka(h);}function l(h){return !c(h) && !m(h) && !k(h) && !Array.isArray(h) && d.Yj(h);}d=a(10);f={yG:0,w4:1,Bsb:2,X3:3,ho:4};r.exports={Mta:function(h){return c(h)?f.yG:m(h)?f.w4:k(h)?f.Bsb:l(h)?f.X3:f.ho;},eaa:c,qg:m,Ka:k,Yj:l,ys:f};},function(r,b,a){(function(c){var l,d,f,h,g,n,p,q,t;function m(v,u,w,x){var y;return u === n.Yw.OW?(u=d.K.Ia,(null === x || void 0 === x?void 0:x.xqc) === t.end && (u=d.K.Ga(null !== (y=w.dh.Z.M[v].sa) && void 0 !== y?y:0),f.assert(0 < u.U,"EndTime must be non null")),w.uh.$A({offset:u,V:v}).V):w.uh.qp({offset:d.K.Ia,V:v}).V;}function k(v,u,w){return u === n.Yw.qDa?w.uh.qp(v):w.uh.$A(v);}Object.defineProperties(b,{__esModule:{value:!0}});b.Fy=void 0;l=a(0);d=a(20);f=a(2);h=a(1056);g=a(266);n=a(188);p=a(28);q=a(1060);g=g.wgb();h=h.fZa()({bab:"combinedPlaygraph",oR:{ki:g()({map:k,hE:q.$8a}),Ae:g()({map:function(v,u,w,x){var y;y=(null === x || void 0 === x?0:x.fs)?q.P9(v,x.fs):v.position;u=k(y,u,w);v=q.jpa(v,null === x || void 0 === x?void 0:x.fs);(null === x || void 0 === x?0:x.fs)?q.vhb(v,x.fs,u):v.position=u;return v;},hE:function(v,u,w){return (null === w || void 0 === w?0:w.fs)?q.P9(v,w.fs):q.Ae(v);}}),bEa:g()({map:function(v,u,w,x){if(u === n.Yw.OW)return v.inner;u=q.jpa(v,null === x || void 0 === x?void 0:x.fs);u.inner || (u.inner=v,"gctag" === c.dX.wqb && (u.gctag=void 0));return u;},hE:function(v,u,w){return (null === w || void 0 === w?0:w.fs)?"object" === typeof q.P9(v,w.fs):"object" === typeof v;}}),V:g()({map:m,hE:q.e9a}),l0:g()({map:function(v,u,w,x){var y,z;z=null !== (y=v.V) && void 0 !== y?y:v.segmentId;u=m(z,u,w,x);return v.V?l.__assign(l.__assign({},v),{V:u}):l.__assign(l.__assign({},v),{segmentId:u});},hE:q.k7a}),O_a:g()({map:function(v,u,w){u === n.Yw.OW?(v=p.yI(w.dh.Z,v.L,v.hn,{Jgb:!0}),f.assert(void 0 !== v,"Graph position must exist in ux playgraph"),v=w.uh.$A(v),u=v.V,v=v.offset,u=w.zc.Z.M[u],w=u.L,u=u.qa,v=d.K.Ga(u).add(v)):(v=p.yI(w.zc.Z,v.L,v.hn,{Jgb:!0}),f.assert(void 0 !== v,"Graph position must exist in combined playgraph"),v=w.uh.qp(v),u=v.V,v=v.offset,u=w.dh.Z.M[u],w=u.L,u=u.qa,v=d.K.Ga(u).add(v));return {hn:v,L:w};},hE:q.J8a}),coa:g()({hE:q.G8a,map:function(v,u,w){var x,y,z,A,B;if(u === n.Yw.OW){u={V:v.u.id,offset:d.K.Ia};z=w.uh.$A(u);u=w.zc.Z.M[z.V];w=w.dh.Z.M[v.u.id];A=u.sa;B=u.qa;A=null !== (x=A && A - B) && void 0 !== x?x:0;w=v.Bd.add(d.K.Ga(u.qa - w.qa));return {Bd:w,cC:v.wq.add(d.K.Ga(A)),wq:v.wq,u:{id:z.V,Oe:d.K.Ga(u.qa),kg:d.K.Ga(null !== (y=u.sa) && void 0 !== y?y:0)}};}u={V:v.u.id,offset:d.K.Ia};y=w.uh.qp(u);B=w.Tua.JZ;u=B.M[v.u.id];z=w.dh.Z.M[y.V];x=d.K.Ga(null !== (A=z.sa && z.sa - z.qa) && void 0 !== A?A:0);z.sa && Infinity !== z.sa || (A=w.uh.iSb(y),B=B.M[A],B.sa && (x=w.uh.qp({V:A,offset:d.K.Ga(B.sa - B.qa)}).offset));A=v.wq.Aa(y.offset);B=A.add(x);w=v.Bd.add(d.K.Ga(z.qa - u.qa));v=d.K.Ga(z.qa);u=x.add(v);return {Bd:w,cC:B,wq:A,u:{id:y.V,Oe:v,kg:u}};}})}});(function(v){v[v.Xlc=0]="beginning";v[v.end=1]="end";})(t || (t={}));b.Fy=h;}).call(this,a(123));},function(r,b,a){var c;c=a(190);r.exports=function(m){return function d(l){return 0 === arguments.length || c(l)?d:m.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.G4=void 0;b.Tq={dM:"PRIMARY",Rfa:"ASSISTIVE",$Fa:"COMMENTARY",NONE:"NONE"};b.G4={assistive:b.Tq.Rfa,closedcaptions:b.Tq.Rfa,directorscommentary:b.Tq.$Fa,commentary:b.Tq.$Fa,subtitles:b.Tq.dM,primary:b.Tq.dM,none:b.Tq.NONE};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VL="ManifestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ltb=b.Epb=b.gHa=void 0;r=b.gHa || (b.gHa={});r.Zjc="PboDebugEvent";r.bkc="PlaygraphEvent";b.Epb={Yic:"Manifest",Event:"Event",Lic:"Logblob"};b.Ltb={Ykc:"UX",jhc:"Combined_1",khc:"Combined_2"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ll=void 0;r=b.ll || (b.ll={});r.tl="created";r.Yy="started";r.SR="succeeded";r.wv="failed";r.If="cancelled";r.tFb="cancelled_on_start";r.Foa="cancelled_not_encrypted";},function(r,b){var c;function a(m,k){var l;l=this;this.gla=[];c.forEach(function(d){(d=d(m,k)) && l.gla.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.AT=b.FMa=void 0;c=[];a.prototype.vC=function(m){var d;for(var k=[],l=this.gla.length;l--;){d=this.gla[l];d.vC(m) && k.push(d.a9);}if(k.length)return k;};b.FMa=a;b.AT=function(m){c.push(m);};},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y;function c(z){var A,B;A=this;this.Kca=new y.jja();this.createPlaygraphPlayer=function(C,D,F){var G;C=v.KPa.encode(C);G=d.Ba.get(u.VL);F=F?G.create(F):void 0;G=d.Ba.get(p.oja).create(C);return G.UJb(C.Cd,A.Kca.Ewa(A.tYa(D,G.ysa())),F);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,l.fja)(C);};this.init=function(C){A.WD.cZ(function(D){D.ea?A.M9b().then(function(){(0,m.WOa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.JN);C(Object.assign({success:!0},c.JN));}):C({success:!1,error:(0,d.zPa)(D.errorCode || h.W.Dha,D)});});};this.applyConfig=function(C){A.Wkb(C);(0,k.xpa)(C);};this.prepare=function(C,D){var F;C=A.ieb.FLb(C) || [];F=new Set();C=C.filter(function(G){var E;E=F.has(G.I);F.add(G.I);return !E;});if(k.config.Pt && A.wd)try{A.wd.nK(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){nb._cad_global.playerPredictionModel?(C=A.ieb.HLb(C)) && nb._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.gP)().N0().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.gP)().O0().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.gP)().L0().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.gP)().Kea().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return k.config.zNb;};this.Wkb(z);d.Ba.get(x.JEa);this.ieb=d.Ba.get(f.YOa);this.WD=d.Ba.get(t.hj);B=d.Ba.get(w.TOa).apply();(0,k.F_a)([z],B);this.wd=d.Ba.get(q.iH);(0,d.gP)().O0();}Object.defineProperty(b,"__esModule",{value:!0});b.jH=void 0;m=a(301);k=a(18);l=a(64);d=a(8);f=a(534);h=a(3);g=a(34);n=a(159);p=a(308);q=a(116);t=a(36);v=a(39);u=a(134);w=a(330);x=a(509);y=a(582);c.prototype.tYa=function(z,A){var B,C,D,F;z=void 0 === z?{}:z;F=null !== (C=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== C?C:A.qa;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=A.sa) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.Wkb=function(z){d.Ba.get(g.nT).c0b(z);};c.prototype.M9b=function(){return d.Ba.get(n.LT)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});};b.jH=c;c.JN={};},function(r,b,a){var c,m,k;c=a(44);m=a(600);k=m(c("String.prototype.indexOf"));r.exports=function(l,d){d=c(l,! !d);return "function" === typeof d && -1 < k(l,".prototype.")?m(d):d;};},function(r,b,a){var f;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function m(h,g){return null === h.aC?!1:h.aC.hh === g?!0:m(h.aC,g);}function k(h){function g(n,p){var q;void 0 === p && (p=[]);q=c(n.hh);p.push(q);return null !== n.aC?g(n.aC,p):p;}return g(h).reverse().join(" --\x3e ");}function l(h){h.Voa.forEach(function(g){if(m(g,g.hh))throw (g=k(g),Error(f.hob + " " + g));l(g);});}function d(h){var g;if(h.name)return h.name;h=h.toString();g=h.match(/^function\s*([^\s(]+)/);return g?g[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});f=a(56);b.nP=c;b.i$a=function(h,g,n){var p;p="";h=n(h,g);0 !== h.length && (p="\nRegistered bindings:",h.forEach(function(q){var t;t="Object";null !== q.wn && (t=d(q.wn));p=p + "\n " + t;q.wI.Tab && (p=p + " - " + q.wI.Tab);}));return p;};b.jGb=l;b.QYb=function(h,g){var n,p;if(g.uva() || g.iva()){n="";p=g.FSb();g=g.nRb();null !== p && (n+=p.toString() + "\n");null !== g && g.forEach(function(q){n+=q.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(r,b,a){var m,k,l,d;function c(f,h){var g,n,p,q,t,v;g=f.MB;n=f.oQ;f=f.HQ;p=h.MB;q=h.oQ;h=h.HQ;t=void 0 === g || void 0 === p;v=t || void 0 === n || void 0 === q;return t || g > p || g === p && (v || n > q) || g === p && n === q && (v || void 0 === f || void 0 === h || f >= h);}Object.defineProperty(b,"__esModule",{value:!0});b.dP=b.eP=b.YXb=b.gaa=b.IY=void 0;m=a(5);k=a(93);l=a(42);d=a(118);b.IY=function(f,h,g,n){return c({MB:f.t3b,oQ:f.u3b,HQ:f.v3b},{MB:h,oQ:g,HQ:n});};b.gaa=function(f,h){return c({MB:f.ur},{MB:h});};b.YXb=c;b.eP=function(){return {version:"6.0037.632.911",Lba:!0,bP:!0,pqa:"browser",g1a:["en-US"],mwa:"",JW:"cadmium",Ilb:!0,R6:!0};};b.dP=function(){return {gI:(0,d.gp)([l.Yd.CG,l.Yd.DG]),$n:(0,d.gp)([].concat(ia(l.Pd.h2),ia(l.Pd.N1),ia(l.Pd.M1),ia(l.Pd.Ofa))),Bn:k.Bb.gTa,NB:(0,m.qc)(31E3)};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zT="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C4=b.Oq=void 0;b.Oq=function(){};b.C4="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XRa="SystemRandomSymbol";b.r4="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NT="PlayerErrorFactorySymbol";},function(r,b){function a(m){return m && "object" === typeof m?Array.isArray(m)?m.map(a):Object.keys(m).reduce(function(k,l){k[l]=a(m[l]);return k;},{}):m;}function c(m,k){return Object.keys(m).reduce(function(l,d){return (l[k[d] || d]=m[d],l);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.ex=void 0;r=(function(){function m(k){k && (this.QK(k.Cd),this.HBa(k.se),this.BBa(k.M));}m.prototype.QK=function(k){this.Cd=k;return this;};m.prototype.HBa=function(k){this.se=k;return this;};m.prototype.Bhb=function(k){this.Dd=k;return this;};m.prototype.hg=function(k,l,d){this.M || (this.M={});this.M[k]=a(l);if(d){k=this.M[k];if(l=k.next)k.next=c(l,d);k.Kb && d[k.Kb] && (k.Kb=d[k.Kb]);}return this;};m.prototype.BBa=function(k,l,d){void 0 === l && (l=function(){return !0;});this.M={};return this.oXa(k,l,d);};m.prototype.oXa=function(k,l,d,f){var h;h=this;void 0 === l && (l=function(){return !0;});Object.keys(k).filter(function(g){return l(k[g],g);}).forEach(function(g){var n;n=k[g];f && (n=f(n,g));h.hg(g,n,d);});return this;};m.prototype.j7a=function(k){var l;return !(null === (l=this.M) || void 0 === l || !l[k]);};m.prototype.Qi=function(){var k;if(!this.M)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Cd)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.M[this.Cd])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");k={Cd:this.Cd,M:this.M};this.se && (k.se=this.se);this.Dd && (k.Dd=this.Dd);return k;};return m;})();b.ex=r;},function(r,b,a){function c(m,k){this.uN=m;this.Fk=Math.floor((m + k - 1) / k);this.Qd=k;this.reset();}a(2);c.prototype.shift=function(){this.ae.shift();this.Bx.shift();};c.prototype.By=function(m){return this.nZa(this.ae[m],m);};c.prototype.update=function(m,k){this.ae[m]=(this.ae[m] || 0) + k;};c.prototype.push=function(){this.ae.push(0);this.Bx.push(0);this.xb+=this.Qd;};c.prototype.add=function(m,k,l){var d,f,h;if(null === this.xb){d=Math.max(Math.floor((l - k + this.Qd - 1) / this.Qd),1);for(this.xb=k;this.ae.length < d;){this.push();}}for(;this.xb <= l;){this.push();this.ae.length > this.Fk && this.shift();}if(null === this.Dp || k < this.Dp)this.Dp=k;if(k > this.xb - this.Qd)this.update(this.ae.length - 1,m);else if(k == l)(d=this.ae.length - Math.max(Math.ceil((this.xb - l) / this.Qd),1),0 <= d && this.update(d,m));else for(d=1;d <= this.ae.length;++d){f=this.xb - d * this.Qd;h=f + this.Qd;if(!(f > l)){if(h < k)break;this.update(this.ae.length - d,Math.round(m * (Math.min(h,l) - Math.max(f,k)) / (l - k)));}}for(;this.ae.length > this.Fk;){this.shift();}};c.prototype.start=function(m){null === this.Dp && (this.Dp=m);null === this.xb && (this.xb=m);};c.prototype.stop=function(m){var k,l;if(null !== this.xb)if(m - this.xb > 10 * this.uN)this.reset();else {for(;this.xb <= m;){this.push();this.ae.length > this.Fk && this.shift();}k=this.ae.length - Math.ceil((this.xb - this.Dp) / this.Qd);l=this.ae.length - Math.ceil((this.xb - m) / this.Qd);if(0 <= l)if((0 > k && (this.Dp=this.xb - this.Qd * this.ae.length,k=0),k === l))this.Bx[k]+=m - this.Dp;else if(l > k)for((this.Bx[k]+=(this.xb - this.Dp) % this.Qd,this.Bx[l]+=this.Qd - (this.xb - m) % this.Qd,m=k + 1);m < l;++m){this.Bx[m]=this.Qd;}this.Dp=null;}};c.prototype.nZa=function(m,k){k=this.gsa(k);return 0 === k?null:8 * m / k;};c.prototype.gsa=function(m){var k;k=this.Bx[m];null !== this.Dp && (m=this.xb - (this.ae.length - m - 1) * this.Qd,m > this.Dp && (k=m - this.Dp <= this.Qd?k + (m - this.Dp):this.Qd));return k;};c.prototype.get=function(m,k){var l,d;l=this.ae.map(this.nZa,this);if("last" === m)for(m=0;m < l.length;++m){null === l[m] && (l[m]=0 < m?l[m - 1]:0);}else if("average" === m){k=1 - Math.pow(.5,1 / ((k || 2E3) / this.Qd));for(m=0;m < l.length;++m){null === l[m]?l[m]=Math.floor(d || 0):d=void 0 !== d?k * l[m] + (1 - k) * d:l[m];}}return l;};c.prototype.reset=function(){this.sla || (this.ae=[],this.Bx=[],this.Dp=this.xb=null);};c.prototype.setInterval=function(m){this.Fk=Math.floor((m + this.Qd - 1) / this.Qd);};r.exports=c;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);m=c.__importStar(a(10));r=a(11);k=c.__importDefault(a(147));l=c.__importDefault(a(384));d=a(850);f=a(385);h=a(851);g=a(853);n=a(4).default;p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(t){function v(u,w,x){var y;y=t.call(this) || this;y.Pp={};y.XU=0;y.DD=0;y.bU=[];y.mH=0;y.vlc=!1;y.J=x;y.iUa=new l.default(x);y.uU=new h.eha(!0);y.aU=new h.eha(!1);x.x2a && (y.gN=new g.SNa(y.J));y.reset();y.rVa=u;y.Wl=w;y.RUa=n.vq.name();y.Wl.hea(y.RUa);n.events.on("networkchange",y.D2b.bind(y));return q=y;}c.__extends(v,t);v.instance=function(){return q;};v.reset=function(){q && q.reset();};v.prototype.D2b=function(u){this.RUa=u;this.Wl.hea(u);};v.prototype.Vkb=function(){var u;if(!this.Bma){u=this.H6a();this.Wl.aI(u.default.pa,this.confidence);u["initial-throughput-ewma"] && this.Wl.YH(u["initial-throughput-ewma"].pa);u["throughput-ci"] && this.Wl.bI(u["throughput-ci"]);u.deliverytime && this.Wl.zN(u.deliverytime);this.Wl.uL(u.Rv?u.Rv.Eca:void 0,u.Rv?u.Rv.a9b:void 0);m.sb(this.Tc) || (this.Bma=!0);}};Object.defineProperties(v.prototype,{startTime:{get:function(){return this.Ug;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{confidence:{get:function(){return this.Pp.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{hr:{get:function(){return this.tM;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{UWa:{get:function(){return this.bU;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{yYb:{get:function(){return this.UUa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{location:{get:function(){return this.BH;},enumerable:!1,configurable:!0}});v.prototype.jwb=function(){var u,w,x,y;u=this.J;w=u.zwb.concat(u.Jwb);x=u.fla;y=this.iUa;w=w.reduce(function(z,A){z[A]=y.create(A,x);return z;},{});w.confidence=new f.Ria(u,new d.aNa(u,this.gca.bind(this)));return w;};v.prototype.reset=function(){var u,w,x,y;u=this.J.fla;w=this.iUa;x=this.J;this.BH=null;this.Pp=this.jwb();if(this.J.B2a){y=this.J.Jjb;this.Pp.tcc=new k.default(y.numB * y.bSizeMs,y.bSizeMs);}this.uU.reset();this.aU.reset();this.lA=w.create("respconn-ewma",u);this.aA=w.create("respconn-ewma",u);this.gN && this.gN.reset();this.MAb=this.Vkb.bind(this);this.E6=void 0;this.bA=this.Tc=this.Ug=null;this.A6=0;x.dgb && (this.DD=this.XU=this.tM=0,this.bU=[]);};v.prototype.AR=function(u){var w;w=this.Pp;if(u !== this.BH){m.oa(this.E6) || (clearInterval(this.E6),this.E6=void 0);m.sb(this.BH) && (this.A6=0,this.Ug=null);if(!m.sb(u)){for(var x in w){w[x] && w[x].reset && w[x].reset();}this.lA.reset();this.aA.reset();}m.sb(this.Ug) || (this.A6+=(m.sb(this.Tc)?n.time.ga():this.Tc) - this.Ug);this.Tc=this.Ug=null;this.BH=u;this.Wl.AR(u);}};v.prototype.hea=function(u){this.Wl.hea(u);};v.prototype.EBb=function(u){this.Pp.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.Pp.QoEEvaluator=u;};v.prototype.L7b=function(){delete this.Pp.QoEEvaluator;};v.prototype.UD=function(u,w,x,y){var z,A;this.UUa=Math.max(this.UUa || 0,x);this.DD-=u;z=this.J;A=this.Pp;if(!0 === y.vS)(y=A["throughput-wssl"]) && y.add(u,w,x,!0);else if(m.oa(w))p.warn("addDataReceived called with undefined start time");else {this.gN && this.gN.UD(u,w,x,y);z.Iwb && 10 > x - w?w=x - 10:0 === x - w && (w=x - 1);this.uU.UD(u,w,x,y);this.aU.UD(u,w,x,y);for(var B in A){A[B] && A[B].add && A[B].add(u,w,x,y);}m.sb(this.Ug) && (this.Ug=w,this.Tc=null,this.Bma=!1);m.sb(this.Tc) || (w > this.Tc && (this.Ug+=w - this.Tc),this.Tc=null,this.Bma=!1);m.sb(this.bA) || (w - this.bA > z.sVa?this.rVa.w8a(this.bA,w):x - w > z.sVa && this.rVa.w8a(w,x));this.bA=this.bA?Math.max(x,this.bA):x;}};v.prototype.wA=function(u){this.lA.add(u);this.Wl.wA(u);};v.prototype.vA=function(u){this.aA.add(u);this.Wl.vA(u);};v.prototype.start=function(u,w){var x;m.sb(this.bA) && !m.sb(this.Tc) && (this.bA=u);x=this.Pp;if(this.J.fCa)for(var y in x){x[y] && x[y].start && x[y].start(u,w);}};v.prototype.stop=function(u,w){var x,y;x=this.Pp;for(y in x){x[y] && x[y].stop && x[y].stop(u,w);}this.Tc=m.sb(this.Tc)?u:Math.min(this.Tc,u);this.bA=null;};v.prototype.flush=function(){var u,w;u=this.Pp;for(w in u){u[w] && u[w].flush && u[w].flush();}};v.prototype.e5a=function(){var u,w;u=this.Pp.lnc;if(u){w=u.OEb();u.reset();}return w;};v.prototype.H6a=function(){var u,w,x,y,z,A,B;u=n.time.ga();w=this.Pp;x=this.J;y=x.pwb;z=x.fAb;A={};for(B in w){w[B] && w[B].get && (A[B]=w[B].get(u,this.DD),"iqr" === w[B].type && (A.Rv=A[B]),"tdigest" === w[B].type && (A.Kg=A[B]),"wssl" === w[B].type && (A.vS=A[B]));}A.cdnavtp=this.uU.Oo();A.activecdnavtp=this.aU.Oo();A.default=y && A[y]?A[y]:A["throughput-ewma"];"none" !== x.XAa && "none" !== z && (A.Lgb=z && A[z]?A[z]:A["throughput-sw"]);return A;};v.prototype.Z9=function(){return this.gN?this.gN.Z9():void 0;};v.prototype.get=function(){var u,w,x,y,z,A;u=this.H6a();w=u.default;x=this.lA.get();y=this.aA.get();z=this.J;if(u.Lgb){A=u.Lgb;w=m.Ka(w.pa) && m.Ka(A.pa) && w.pa > A.pa && 0 < A.pa?A:w;}u.Qa=w;u.i8a=u["initial-throughput-ewma"];!z.HNb || !w || m.sb(w.pa) || isNaN(w.pa) || !u.vS || m.sb(u.vS.pa) || isNaN(u.vS.pa) || ("max" === z.smb?u.Qa.pa=Math.max(u.vS.pa,w.pa):"sum" === z.smb && (u.Qa.pa+=u.vS.pa));u.$k=x;u.gy=y;this.J.B2a && (w=this.J.Jjb,u.hrc=this.Pp.tcc.get(w.fillS,w.fillHl));w=this.A6 + (m.sb(this.Ug)?0:(m.sb(this.Tc)?n.time.ga():this.Tc) - this.Ug);u.time=w;return u;};v.prototype.WTb=function(){var u,w,x;u={};w=this.get();if(w.confidence && w.Qa){u.aseavtp=Number(w.Qa.pa).toFixed(2);u.asevartp=Number(w.Qa.te).toFixed(2);if(w.Rv){x=w.Rv.Eca;!x || void 0 === x.Il || void 0 === x.Hl || void 0 === x.fk || isNaN(x.Il || 0) || isNaN(x.Hl) || isNaN(x.fk) || (u.aseniqr=0 < x.fk?Number((x.Il - x.Hl) / x.fk).toFixed(2):-1,u.aseiqr=Number(x.Il - x.Hl).toFixed(2),u.asemedtp=Number(x.fk).toFixed(2));u.iqrsamples=w.Rv.a9b;}w.Kg && w.Kg.pB && (u.tdigest=w.Kg.pB());}return u;};v.prototype.jR=function(u,w){var x;x=w.requestId;1 === ++this.tM && this.emit("active",u);this.J.Aea && this.start(u,w);x && (this.J.Aea || this.start(u,w),this.bU.push(x));this.DD+=w.ca || 0;this.uU.jR(u,w);this.aU.jR(u,w);};v.prototype.Yfb=function(){++this.XU;};v.prototype.X_=function(u,w,x){var y;y=x.requestId;w && --this.XU;--this.tM;this.DD=Math.max((this.DD || 0) - ((x.ca || 0) - (x.bytesReceived || 0)),0);this.J.dgb && (this.tM=Math.max(this.tM,0),this.XU=Math.max(this.XU,0));this.J.Aea && this.stop(u,x);0 === this.tM && (this.J.Aea || this.stop(u,x),this.emit("inactive",u));y && (w=this.bU.indexOf(y),0 <= w && this.bU.splice(w,1));this.uU.X_(u,x);this.aU.X_(u,x);};v.prototype.gca=function(){this.Vkb();this.E6=setInterval(this.MAb,this.J.Lxb);};return v;})(r.EventEmitter);b.default=a;},function(r,b){function a(m,k){return "number" !== typeof m || "number" !== typeof k?!1:m && k?Math.abs(m * k / c(m,k)):0;}function c(m,k){var l;m=Math.abs(m);for(k=Math.abs(k);k;){l=k;k=m % k;m=l;}return m;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function m(k,l){"object" === typeof k?(this.uc=k.bb,this.rb=k.X):(this.uc=k,this.rb=l);}m.Ga=function(k){return new m(k,1E3);};m.Vea=function(k,l){return Math.floor(1E3 * k / l);};m.vbb=function(k,l){return Math.floor(k * l / 1E3);};m.max=function(){for(var k=[],l=0;l < arguments.length;l++){k[l]=arguments[l];}return k.reduce(function(d,f){return d.greaterThan(f)?d:f;});};m.min=function(){for(var k=[],l=0;l < arguments.length;l++){k[l]=arguments[l];}return k.reduce(function(d,f){return d.lessThan(f)?d:f;});};m.JE=function(k,l){var d;if(k.X === l.X)return new m(c(k.bb,l.bb),k.X);d=a(k.X,l.X);return m.JE(k.wg(d),l.wg(d));};Object.defineProperties(m.prototype,{bb:{get:function(){return this.uc;},enumerable:!0,configurable:!0}});Object.defineProperties(m.prototype,{X:{get:function(){return this.rb;},enumerable:!0,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return 1E3 * this.uc / this.rb;},enumerable:!0,configurable:!0}});Object.defineProperties(m.prototype,{zi:{get:function(){return this.uc / this.rb;},enumerable:!0,configurable:!0}});m.prototype.wg=function(k){k/=this.X;return new m(Math.floor(this.bb * k),Math.floor(this.X * k));};m.prototype.add=function(k){var l;if(this.X === k.X)return new m(this.bb + k.bb,this.X);l=a(this.X,k.X);return this.wg(l).add(k.wg(l));};m.prototype.Aa=function(k){return this.add(new m(-k.bb,k.X));};m.prototype.WB=function(k){return new m(this.bb * k,this.X);};m.prototype.Ok=function(k){var l;if(this.X === k.X)return this.bb / k.bb;l=a(this.X,k.X);return this.wg(l).Ok(k.wg(l));};m.prototype.I6a=function(k){return a(this.X,k);};m.prototype.pfb=function(){return new m(this.X,this.bb);};m.prototype.compare=function(k,l){var d;if(this.X === l.X)return k(this.bb,l.bb);d=a(this.X,l.X);return k(this.wg(d).bb,l.wg(d).bb);};m.prototype.equal=function(k){return this.compare(function(l,d){return l === d;},k);};m.prototype.Ixa=function(k){return this.compare(function(l,d){return l !== d;},k);};m.prototype.lessThan=function(k){return this.compare(function(l,d){return l < d;},k);};m.prototype.greaterThan=function(k){return this.compare(function(l,d){return l > d;},k);};m.prototype.kF=function(k){return this.compare(function(l,d){return l <= d;},k);};m.prototype.rj=function(k){return this.compare(function(l,d){return l >= d;},k);};m.prototype.toJSON=function(){return {ticks:this.bb,timescale:this.X};};m.prototype.toString=function(){return this.bb + "/" + this.X;};m.Ia=new m(0,1);m.ZB=new m(1,1E3);return m;})();b.K=r;},function(r){var c,m;function b(){var k,l;if(DataView.prototype && DataView.prototype.fY && !m){try{k=new ArrayBuffer(4);l=new DataView(k);l.tP(0,4,1);}catch(d){return;}try{k=new ArrayBuffer(4);l=new DataView(k);l.tP(1,2,2);}catch(d){DataView.prototype.tP=a(DataView.prototype.tP,DataView.prototype.getUint8,Uint8Array);DataView.prototype.j$=a(DataView.prototype.j$,DataView.prototype.getUint16,Uint16Array);DataView.prototype.fY=a(DataView.prototype.fY,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Psa=a(DataView.prototype.Psa,DataView.prototype.getInt8,Int8Array);DataView.prototype.Nsa=a(DataView.prototype.Nsa,DataView.prototype.getInt16,Int16Array);DataView.prototype.Osa=a(DataView.prototype.Osa,DataView.prototype.getInt32,Int32Array);}c.cUb=function(d,f,h,g,n){return h?d.tP(f,h,g || 1,n):new Uint8Array(0);};c.aUb=function(d,f,h,g,n){return h?d.j$(f,h,g || 2,n):new Uint16Array(0);};c.bUb=function(d,f,h,g,n){return h?d.fY(f,h,g || 4,n):new Uint32Array(0);};c.Mnc=function(d,f,h,g,n){return h?d.Psa(f,h,g || 1,n):new Int8Array(0);};c.Knc=function(d,f,h,g,n){return h?d.Nsa(f,h,g || 2,n):new Int16Array(0);};c.Lnc=function(d,f,h,g,n){return h?d.Osa(f,h,g || 4,n):new Int32Array(0);};m=!0;}}function a(k,l,d){return function(f,h,g,n){var p;g=g || d.BYTES_PER_ELEMENT;if(f + h * g > this.byteLength){p=new d(h);p.set(k.call(this,f,h - 1,g,n));p[h - 1]=l.call(this,f + (h - 1 * g),n);return p;}return k.call(this,f,h,g,n);};}c={tP:function(k,l,d,f,h){var g;g=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,l+=f)){g[n]=k.getUint8(l,h);}return g;},j$:function(k,l,d,f,h){var g;g=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,l+=f)){g[n]=k.getUint16(l,h);}return g;},fY:function(k,l,d,f,h){var g;g=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,l+=f)){g[n]=k.getUint32(l,h);}return g;},Psa:function(k,l,d,f,h){var g;g=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,l+=f)){g[n]=k.getInt8(l,h);}return g;},Nsa:function(k,l,d,f,h){var g;g=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,l+=f)){g[n]=k.getInt16(l,h);}return g;},Osa:function(k,l,d,f,h){var g;g=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,l+=f)){g[n]=k.getInt32(l,h);}return g;},snc:b};m=!1;c.uRb=function(){return m;};b();r.exports=c;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(240);r=(function(){function k(l,d,f){this.tag=l;this.view=d;this.N=f;this.startOffset=f.offset;}k.Xeb=function(l,d,f){var h,g;h=l.Ed();g=l.I6b();l=new (m.uO[h] || k)(h,l.R4a(g),l);l.parse(d,f);return l;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.N.offset=this.startOffset + this.length;this.N.Ld=0;return !0;};k.prototype.p3a=function(l){var d;d=[];this.tag === l && d.push(this);if(this.uO)for(var f=0;f < this.uO.length;f++){d=c.__spreadArrays(d,this.uO[f].p3a(l));}return d;};k.prototype.Vx=function(l){for(l=this.p3a(l);0 < l.length;){return l[0];}};k.prototype.VVa=function(l){for(this.uO=[];this.N.offset < this.startOffset + this.length;){this.uO.push(k.Xeb(this.N,l,this));}};return k;})();b.Xga=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=void 0;b.ta="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDXBtFvB2gDYBdsbXZoBkgA4BcA32O1C5gAYCgBIABdDAgB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcrdHJhBrgBYBBcB0BrgOYDABgOYIgLoPgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBo21kBpBhgkYCgA4AgfYUBVDEgGADA3gDoABsBygM4Gd2aWRlgO4Kc/QEdQBBBDAxAuAwAuAxAtByBlB2gAQABsBlgrIAgEICcBRG1pBuBmgBABAUB2BtgcwEgGoJAkgPIAgDYDAcBkgGAAgA4CgTwGcMdXJsAggugFAEgXAABiBsgBYBC4gA4ABzgTwDgEYFeoYXZjAxgigVgCAAgg4AggAABIgBABgAYCgEITgAAPAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwgcgABwgA4BAEgAYBADgcYCBig6YAgswBACDxgAYAAjgPIBgAYCgEYAgW4AgwQDgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hSwABlB4gC4CBtBlg0QEgzQFAggNwAgC4DgcIGgAYBADDpgBoG";b.pg=!0;b.va="EAABCgBtFvBmgA4AcAEG1mBoBkgA4BgAACABgAQBeIdHJhgC4CAYB0gC4CACAAAKgC4EgAYCADDpgF4CgC4ABkB0gF4FgCwCA0gF4AB1BugA4AAOgEYCAYgB4BCogAYAcC8QJggDYCAHDSgAgBARABBhgBYCATCNgAgBgEgAgBYDgC4DgBYAChgIgHgBYFgL4DAXgF4JAQgF6BAWgF40APCkgF4IgC4DgEYKAkBzgoQABwgBoCAmEWEagAYRgDIAcEc21kBhgs4BcCrgYFH/eq3EXpC9DmDZBIC3CWAsDYAgDZAjDuDvB4AyA2A0AgAtAgBjBvByBlAgAxA2AzAgByAzAwA2AwAgA1BkBiA2FhA2gDABBIAugEABcvTVBFBHAtgE4ABBBWBDgFIBBkBlBjgDABdDb3B5BsBlBmB0AgAyEwAzAtgAgAAyAxgCgBBoF0BwA6EvJ3AuB2BpgE4AdvbGFuAugLIABnAvgMoCAugDgABtBsgEYBgG4Ad0aW9uBzA6gJIAdhYmFjA9gGwAgPIABmA9gPAAgFoAdibG9jBrgB4AA6AwgAIAAggG4AdhbHlzBlA9AwB4gB4BgAYAgAAAAgBtgBgAdoZXggBzB1BigBIBc3IHBzB5gHQBgAoBBfByBkgBAAAugQYAgEwAgAgBgEoAdpeGVkgCQAgKIBgGICgBAAgI4ABngFoAga4AgNYAdocm9tBhBfgHQBgC4AhM4ABlFsBpBzgBIBc4eDhkBjB0gMgAgDwABxBtgAoBgQQABhBkB6gTQAgEYAgZYAAsgOIBdmYXN0BfgMIABrBpBwgFQBgIAFBxBwBfhdgABmgTAAgGgAgeQAgJAAgCYAgGIBgJAAgRoAgXIABvBrBhgTwAgBgABfgCYGgGIABzgMYABjgRYBgCAGgLwABuBygMYDBjBpgI4AB0gQ4CBpBugAwABygkIAgEgBgC4BgfgAB1gVgAgZgAgroABtBwgDoAgSICgkQBhoABgEYAgIQBgFABgBIAgEYCBmgAwAgYIAgJQAglgABigS4AB5gBYBgsQAgVQAgBYBgLwABhgqYAgKABgBIABiBpgWYAgMgCBpgOYAga4BgCIAd3ZWlnguwABigBIBguoAdlbl9ngAoAgDoBgCgEgBIAgHQABrBlB5gLYBgBAAA1gCgAgBQEgkAAgAgAgBwAgL4ABzgSgAgPAABjB1gDQAA0gDIAgPoDgqQCgAQABzBogHwBByBjBfgdwHgD4CgB4Ac9Y3JmgtoABigq4BgawCgBgBgIQBgxgAAgBxgZgCgGAAAuhJ4BgmwAgLACgA4DdheD02A5gBABgboABlgDgAhKQAgrgAg0gBhCABg4YBgJYBBhBxg/4Bg5oCAACAhagBc7ZYiEgAgAf//vdOC/ACCbBUDCAqADCSBXAKD2DKCkAmBZC5BSBrABDyCmgEAAfzSlmhC/B7DLBeDoDwAFAIgBoAdsxLMdDRAhClA4CMCPA3BDCBgHwBcNQZokBsBDC/D+CpCWgBYABvDAgCABcKQZ5CB4CFD/gBAACDgDwCAKABCegPAABCC/gBAAC2gNYCgBoBBjBqgBoDgDYCATgHQAdoSahBBoCZBMAIB3gP4AgIADDBgCwBAMgIAAeGRREsAvgIQJClgIQEgBoFCngIQEgKACgIQBCsgIQBBsgIQJgQYCgIQBDKBFAVgIQLDpgQoLDrgIQLDwgIQFBvgIQACnghYAAADegGQCgIQACfAOgIQMCfAtgQoKCfAvgIQIcSQZs0gIQFBngIQACeAQiGwAiyQCgIIBBSgIINBxgQgKCfBzgIILB3gIIFBXgIIAA4BAgqwABJgIIECVgIIBArgIIBgGYGC2gnwF";b.ng=!0;b.la={bb:1001,X:24E3};b.duration={bb:24024,X:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=4;b.$i=3;b.Qh=[176,739];b.Nh=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=void 0;b.ta="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDXBtFvB2gDYBdsbXZoBkgA4BcA32O1C5gAYCgBIABdDAgB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcrdHJhBrgBYBBcB0BrgOYDABgOYIgLoPgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBo21kBpBhgkYCgA4AgfYUBVDEgGADA3gDoABsBygM4Gd2aWRlgO4Kc/QEdQBBBDAxAuAwAuAxAtByBlB2gAQABsBlgrIAgEICcBRG1pBuBmgBABAUB2BtgcwEgGoJAkgPIAgDYDAcBkgGAAgA4CgTwGcMdXJsAggugFAEgXAABiBsgBYBC4gA4ABzgTwDgEYFeoYXZjAxgigVggQCggAABIgBABgAYCgEITgAAPAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwgcgABwgLoFgAYCAUBig6YAgswBACDxgAYAAjgPIBgAYCgEYAgW4AgwQDgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hSwABlB4gC4CBtBlg0QEgzQFAggNwAgC4DgcIGgAYBADDpgBoG";b.pg=!0;b.va="EAABCgBtFvBmgA4AcAEG1mBoBkgA4BgAACABgAQBeIdHJhgC4CAYB0gC4CACAAAKgC4EgAYCADDpgF4CgC4ABkB0gF4FgCwCA0gF4AB1BugA4AAOgEYCAYgB4BCogAYAcC8QJggDYCAHDSgAgBARABBhgBYCATCNgAgBgEgAgBYDgC4DgBYAChgIgHgBYFgL4DAXgF4JAQgF6BAWgF40APCkgF4IgC4DgEYKAkBzgoQABwgBoCAmEWEagAYRgDIAcEc21kBhgs4BcCrgYFH/eq3EXpC9DmDZBIC3CWAsDYAgDZAjDuDvB4AyA2A0AgAtAgBjBvByBlAgAxA2AzAgByAzAwA2AwAgA1BkBiA2FhA2gDABBIAugEABcvTVBFBHAtgE4ABBBWBDgFIBBkBlBjgDABdDb3B5BsBlBmB0AgAyEwAzAtgAgAAyAxgCgBBoF0BwA6EvJ3AuB2BpgE4AdvbGFuAugLIABnAvgMoCAugDgABtBsgEYBgG4Ad0aW9uBzA6gJIAdhYmFjA9gGwAgPIABmA9gPAAgFoAdibG9jBrgB4AA6AwgAIAAggG4AdhbHlzBlA9AwB4gB4BgAYAgAAAAgBtgBgAdoZXggBzB1BigBIBc3IHBzB5gHQBgAoBBfByBkgBAAAugQYAgEwAgAgBgEoAdpeGVkgCQAgKIBgGICgBAAgI4ABngFoAga4AgNYAdocm9tBhBfgHQBgC4AhM4ABlFsBpBzgBIBc4eDhkBjB0gMgAgDwABxBtgAoBgQQABhBkB6gTQAgEYAgZYAAsgOIBdmYXN0BfgMIABrBpBwgFQBgIAFBxBwBfhdgABmgTAAgGgAgeQAgJAAgCYAgGIBgJAAgRoAgXIABvBrBhgTwAgBgABfgCYGgGIABzgMYABjgRYBgCAGgLwABuBygMYDBjBpgI4AB0gQ4CBpBugAwABygkIAgEgBgC4BgfgAB1gVgAgZgAgroABtBwgDoAgSICgkQBhoABgEYAgIQBgFABgBIAgEYCBmgAwAgYIAgJQAglgABigS4AB5gBYBgsQAgVQAgBYBgLwABhgqYAgKABgBIABiBpgWYAgMgCBpgOYAga4BgCIAd3ZWlnguwABigBIBguoAdlbl9ngAoAgDoBgCgEgBIAgHQABrBlB5gLYBgBAAA1gCgAgBQEgkAAgAgAgBwAgL4ABzgSgAgPAABjB1gDQAA0gDIAgPoDgqQCgAQABzBogHwBByBjBfgdwHgD4CgB4Ac9Y3JmgtoABigq4BgawCgBgBgIQBgxgAAgBxgZgCgGAAAuhJ4BgmwAgLACgA4DdheD02A5gBABgboABlgDgAhKQAgrgAg0gBhCABg4YBgJYBBhBxg/4Bg5oCAACAhagBc7ZYiEgAgAf//vdOC/ACCbBUDCAqADCSBXAKD2DKCkAmBZC5BSBrABDyCmgEAAfzSlmhC/B7DLBeDoDwAFAIgBoAdsxLMdDRAhClA4CMCPA3BDCBgHwBcNQZokBsBDC/D+CpCWgBYABvDAgCABcKQZ5CB4CFD/gBAACDgDwCAKABCegPAABCC/gBAAC2gNYCgBoBBjBqgBoDgDYCATgHQAdoSahBBoCZBMAIB3gP4AgIADDBgCwBAMgIAAeGRREsAvgIQJClgIQEgBoFCngIQEgKACgIQBCsgIQBBsgIQJgQYCgIQBDKBFAVgIQLDpgQoLDrgIQLDwgIQFBvgIQACnghYAAADegGQCgIQACfAOgIQMCfAtgQoKCfAvgIQIcSQZs0gIQFBngIQACeAQiGwAiyQCgIIBBSgIINBxgQgKCfBzgIILB3gIIFBXgIIAA4BAgqwABJgIIECVgIIBArgIIBgGYGC2gnwF";b.ng=!0;b.la={bb:1001,X:24E3};b.duration={bb:24024,X:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=1;b.$i=1;b.Qh=[176,739];b.Nh=[44];},function(r,b){function a(c,m){var k;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,m);Object.getOwnPropertyNames(c).forEach(function(l){k=Object.getOwnPropertyDescriptor(c,l);void 0 !== k && Object.defineProperty(m,l,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Sha=b.s4=void 0;a=(function(){function m(){var k;k=this;this.ZU=[];this.Q7b=function(l){l=k.ZU.indexOf(l);0 <= l && k.ZU.splice(l,1);};}Object.defineProperties(m.prototype,{Fx:{get:function(){return 0 !== this.ZU.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{scb:{get:function(){return this.ZU.length;},enumerable:!1,configurable:!0}});m.prototype.add=function(){var k;k=new c(this.Q7b);this.ZU.push(k);return k;};m.prototype.Gfa=function(k){var l;l=this.add();try{return Promise.resolve(k()).then(function(d){l.release();return d;},function(d){l.release();return Promise.reject(d);});}catch(d){return (l.release(),Promise.reject(d));}};return m;})();b.s4=a;c=(function(){function m(k){this.Kzb=k;}m.prototype.release=function(){this.Kzb(this);};return m;})();r=(function(){function m(k,l){this.T2b=k;this.console=l;this.counter=new a();}m.prototype.Dx=function(){var k,l;k=this;this.console.trace("Acquiring lease, total count",this.counter.scb + 1);l=this.counter.add();return {release:function(){l.release();k.console.trace("Releasing lease, total count",k.counter.scb);k.T2b(function(){return !k.counter.Fx;});}};};return m;})();b.Sha=r;},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Ih=b.Jja=void 0;c=a(20);(function(d){d[d.absolute=0]="absolute";d[d.vfb=1]="relative";})(m=b.Jja || (b.Jja={}));l=(function(){function d(f,h){this.type=f;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + m[this.type];};Object.defineProperties(d,{Ia:{get:function(){k || (k=new d(m.vfb,c.K.Ia));return k;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.Lw=function(f){return new l(m.absolute,f);};Object.defineProperties(d,{sfc:{get:function(){return l.Ia;},enumerable:!1,configurable:!0}});d.qG=function(f){return new l(m.vfb,f);};d.WDa=new l(m.absolute,c.K.Pv);return d;})();b.Ih=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.VC=void 0;c=a(98);m=a(419);k=a(28);r=(function(){function l(d,f){var a00,h;a00=2;for(;a00 !== 8;){switch(a00){case 2:var P3j="1SIYb";P3j+="Zr";P3j+="N";P3j+="JCp9";h=this;this.config=d;this.bQ=f;this.Vlb=this.j7=null;this.t_=function(g,n,p){var b00;b00=2;for(;b00 !== 5;){switch(b00){case 2:g=h.Oo(g,p);return h.config.EYa?(n=c.dra(h.config.DYa,n.Kk - n.oc,1),{lower:g * (1 - n),upper:void 0}):{lower:g * h.config.W0 / 100,upper:void 0};break;}}};P3j;a00=8;break;}}}var R8;R8=2;for(;R8 !== 14;){switch(R8){case 4:l.prototype.Ty=function(d){var f00;f00=2;for(;f00 !== 1;){switch(f00){case 2:this.j7=d;f00=1;break;case 4:this.j7=d;f00=0;break;f00=1;break;}}};l.prototype.zX=function(){var g00;g00=2;for(;g00 !== 1;){switch(g00){case 2:return this.j7;break;}}};R8=9;break;case 9:l.prototype.TK=function(d){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 2:this.Vlb=d;h00=1;break;}}};l.prototype.gY=function(){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 2:return this.Vlb;break;case 4:return this.Vlb;break;i00=1;break;}}};l.prototype.tDa=function(d){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:this.config=d;j00=1;break;case 4:this.config=d;j00=3;break;j00=1;break;}}};return l;break;case 2:l.prototype.C1a=function(d,f){var c00,h;c00=2;for(;c00 !== 3;){switch(c00){case 2:h=null === this.j7?d * (100 - this.config.W0) / 100:m.wna(d,this.j7);f=null !== f && void 0 !== f?f:this.bQ;this.config.awa && f?(d=m.wna(d,f),d=Math.max(d,h)):d=h;return d;break;}}};l.prototype.LBa=function(d){var d00;d00=2;for(;d00 !== 1;){switch(d00){case 2:return this.config.mNb && (d === k.wa.jh || d === k.wa.sd);break;}}};l.prototype.Oo=function(d,f){var e00,h,g,n;e00=2;for(;e00 !== 5;){switch(e00){case 2:return this.LBa(f)?(null === (h=d.i8a) || void 0 === h?void 0:h.pa) || (null === (g=d.Qa) || void 0 === g?void 0:g.pa) || 0:(null === (n=d.Qa) || void 0 === n?void 0:n.pa) || 0;break;}}};R8=4;break;}}})();b.VC=r;},function(r,b,a){var c,m,k;c=a(132);m=a(54);k=a(190);r.exports=function(l){return function n(f,h,g){switch(arguments.length){case 0:return n;case 1:return k(f)?n:m(function(p,q){return l(f,p,q);});case 2:return k(f) && k(h)?n:k(f)?m(function(p,q){return l(p,h,q);}):k(h)?m(function(p,q){return l(f,p,q);}):c(function(p){return l(f,h,p);});default:return k(f) && k(h) && k(g)?n:k(f) && k(h)?m(function(p,q){return l(p,q,g);}):k(f) && k(g)?m(function(p,q){return l(p,h,q);}):k(h) && k(g)?m(function(p,q){return l(f,p,q);}):k(f)?c(function(p){return l(p,h,g);}):k(h)?c(function(p){return l(f,p,g);}):k(g)?c(function(p){return l(f,h,p);}):l(f,h,g);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HOa="PboPlaydataServicesSymbol";b.LT="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.GL=b.Ipb=void 0;c=a(26);b.Ipb=function(){this.gI=[];this.$n=[];this.vXa=[];this.Ina=c.Qw.qz;this.vfa=c.Om.qz;};b.GL="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VT="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ET="MslProviderSymbol";},function(r){function b(l,d){return l.some(function(f){return f.id === d;});}function a(l,d){return l.filter(c.bind(null,d)).map(m).reduce(k,0);}function c(l,d){return l.id === d.id && l.displayTime + l.duration === d.displayTime;}function m(l){return l.duration;}function k(l,d){return l + d;}r.exports={SGb:function(l,d,f){for(var h=0;h < l.length;h++){if(l[h] !== d[h])return (f.error("indexId mismatch in sidx",{sIndexId:l,mIndexId:d}),!1);}return !0;},Npa:function(l,d,f){var h;h={};h.displayTime=l.displayTime;h.duration=l.duration;h.originX=l.j3b;h.originY=l.k3b;h.sizeX=l.yac;h.sizeY=l.zac;h.imageData=d;h.id=l.rJ;h.rootContainerExtentX=f.Q8b;h.rootContainerExtentY=f.R8b;return h;},Csa:function(l,d){return "o_" + l + "s_" + d;},Sec:function(l,d){d("P" === String.fromCharCode(l[1]));d("N" === String.fromCharCode(l[2]));d("G" === String.fromCharCode(l[3]));},pd:function(l){return "undefined" !== typeof l;},vqc:b,fnc:a,KX:function(l,d){var f,h;f=Object.create({});for(h in l){f[h]=l[h];}l instanceof Error && (f.message=l.message,f.stack=l.stack);f.errorString=d;return f;},assert:function(l,d){if(!l)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},M7a:function(l){return l && 0 < l.entries.length && 0 === l.images.length;},Fbc:function(l,d){for(var f=d.entries.length,h,g=0;g < f;g++){if((h=d.entries[g],h.displayTime <= l && h.displayTime + h.duration >= l))return !0;}return !1;},Gbc:function(l,d,f){for(var h=f.entries.length,g,n,p=0;p < h;p++){g=f.entries[p];n=g.displayTime;g=n + g.duration;if(d < n)break;if(n <= l && g >= l || n > l && n <= d)return !0;}return !1;},I_a:function(l){return l.map(function(d,f){d.duration+=a(l.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},yta:function(l){return l.reduce(function(d,f){return d + f.entries.reduce(function(h,g){return g.uua + h;},0);},0);},lMb:function(l,d){return l && l.My <= d && l.Wr >= d;},MRb:function(l){if(l)return l.endTime;},hSb:function(l){try{return String.fromCharCode.apply(String,l);}catch(d){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YG="PlaygraphConfigSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.nr=b.onb=void 0;b.onb=a;b.nr=new a();},function(r,b,a){var m,k,l;function c(d,f,h,g){f=l.ai.call(this,d,f,g) || this;f.context=d;f.hra=h;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.ss=void 0;r=a(0);m=a(1);k=a(66);l=a(73);a(135);ka(c,l.ai);c.prototype.Lf=function(d,f){var h,g;h=this;g=this.cE(f);!1;!1;return this.send(d,{url:f.href,name:k.zg.events,um:k.zg.events + "/" + this.hra},g).then(function(){return f;}).catch(function(n){throw h.vn(n);});};c.prototype.cq=function(d,f,h){var g,n,p;g=this;n=this.cE(h);!1;!1;p={url:f.iP("events").href,name:k.zg.events,um:k.zg.events + "/" + this.hra};return this.send(d,p,n).then(function(q){f.Xma(q.result.links);return h;}).catch(function(q){throw g.vn(q);});};c.prototype.cE=function(d){return {event:this.hra,xid:d.da,position:d.position || 0,clientTime:d.MA,sessionStartTime:d.Rn,videoTrackId:d.qS,audioTrackId:d.vo,timedTextTrackId:d.YR,mediaId:d.fQ,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.poa(d.Nt),sessionParams:d.Qn};};c.prototype.ooa=function(d){return {downloadableId:d.Yb,duration:d.duration};};c.prototype.poa=function(d){var f;f={total:d.total,audio:d.audio.map(this.ooa),video:d.video.map(this.ooa),text:d.text.map(this.ooa)};d.total !== d.oL && (f.totalContentTime=d.oL);0 !== d.hG && (f.totalAdDuration=d.hG);0 !== d.iG && (f.totalOtherDuration=d.iG);if(0 !== d.iG || 0 !== d.hG)f.totalCombinedDuration=d.$R;return f;};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.pp)()),r.__param(1,(0,m.pp)()),r.__param(2,(0,m.pp)()),r.__param(3,(0,m.pp)())],a);b.ss=a;},function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vG="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.ota=function(){return this.buffer.length - this.position;};a.prototype.kC=function(){return this.buffer[this.position++];};a.prototype.Yk=function(c){var m;m=this.position;this.position+=c;return this.UXb(this.buffer)?this.buffer.subarray(m,this.position):this.buffer.slice(m,this.position);};a.prototype.UXb=function(c){return void 0 !== c.subarray;};a.prototype.Xr=function(c){for(var m=0;c--;){m=256 * m + this.buffer[this.position++];}return m;};a.prototype.Iza=function(c){for(var m="";c--;){m+=String.fromCharCode(this.buffer[this.position++]);}return m;};a.prototype.Vh=function(){return this.Xr(2);};a.prototype.Yr=function(){return this.Xr(4);};a.prototype.$Q=function(){return this.Xr(8);};a.prototype.Ny=function(c){for(var m,k="";c--;){m=this.kC();k+=("0123456789ABCDEF")[m >>> 4] + ("0123456789ABCDEF")[m & 15];}return k;};a.prototype.Jza=function(c){for(var m=0,k=0;k < c;k++){m+=this.kC() << (k << 3);}return m;};a.prototype.ZQ=function(){return this.Jza(4);};a.prototype.H1=function(c){this.uS(c,2);};a.prototype.PC=function(c){this.uS(c,4);};a.prototype.Ifa=function(c){this.buffer[this.position++]=c;};a.prototype.uS=function(c,m){this.position+=m;for(var k=1;k <= m;k++){this.buffer[this.position - k]=c & 255;c=Math.floor(c / 256);}};a.prototype.OC=function(c){for(var m=0;m < c.length;m++){this.buffer[this.position++]=c.charCodeAt(m);}};a.prototype.G1=function(c){for(var m=c.length,k=0;k < m;k++){this.buffer[this.position++]=c[k];}};a.prototype.tS=function(c,m){this.G1(c.Yk(m));};a.prototype.rmb=function(c){c=new a(c);for(var m,k;;){if((m=c.ota(),k=m >>> 14))(k=Math.min(4,k),this.Ifa(192 | k),this.tS(c,16384 * k));else {128 > m?this.Ifa(m):this.uS(m | 32768,2);this.tS(c,m);break;}}};a.prototype.Ueb=function(){var k;for(var c=[],m=new a(c);;){k=this.kC();if(k & 128){if(128 == (k & 192))(k&=63,k=(k << 8) + this.kC(),m.tS(this,k));else if((k&=63,0 < k && 4 >= k)){m.tS(this,16384 * k);continue;}else throw Error("bad asn1");}else m.tS(this,k);break;}return new Uint8Array(c);};return a;})();b.ZS=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j2="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DQa="ReportSyncSymbol";b.BQa="ReportApiErrorSyncSymbol";b.PIa="FtlProbeConfigSymbol";b.RIa="FtlProbeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.W1="ApiInfoSymbol";},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.uQa=b.v4=b.N9=void 0;c=a(28);m=a(3);b.N9=function(k){return k === c.Pb.kl.dc?m.T.jia:m.T.kia;};b.v4=50;b.uQa=1E3;},function(r,b){function a(c){var m;m={profile:c.spoofedProfile || c.profile,t9:c.max_framerate_value,s9:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,Kya:c.pixelAspectX,Lya:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (m.Fpc=c.profile);return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.N5a=b.Wsa=void 0;b.Wsa=function(c,m,k){var l;l=[{},{}];(0 === k?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,f){c[d].some(function(h,g){return g === m[f]?(l[f]=a(h),!0):!1;});});return l;};b.N5a=a;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.nz=void 0;c=a(176);m=a(2);r=(function(){function k(l){this.config=l;this.reset();}k.instance=function(){m.assert(void 0 !== k.VM);return k.VM;};k.dHb=function(l){k.VM=new k(l);};k.prototype.push=function(l){this.Kg && this.Kg.push(l);};k.prototype.Cb=function(){if(this.Kg)return (this.Kg.QA(),this.Kg.xj([.25,.5,.75,.9,.95,.99]).map(function(l){return l?parseFloat(l.toFixed(1)):0;}));};k.prototype.reset=function(){this.config.A2a && this.config.Lha && (this.Kg=new c.Xja(this.config.Lha.c,this.config.Lha.maxc));};return k;})();b.nz=r;},function(r,b,a){var d;function c(f,h,g){this.yO=!1 === f;this.$p=f || .01;this.Mha=void 0 === h?25:h;this.hGa=void 0 === g?1.1:g;this.qj=new d(m);this.reset();}function m(f,h){return f.Yf > h.Yf?1:f.Yf < h.Yf?-1:0;}function k(f,h){return f.ty - h.ty;}function l(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.$p:!1);this.QLb=this.config.ratio || .9;this.RLb=this.config.Zqc || 1E3;this.Mba=0;}d=a(826).Wtb;c.prototype.reset=function(){this.qj.clear();this.Xva=this.n=0;};c.prototype.size=function(){return this.qj.size;};c.prototype.Xn=function(f){var h;h=[];f?(this.l5(!0),this.qj.Jf(function(g){h.push(g);})):this.qj.Jf(function(g){h.push({Yf:g.Yf,n:g.n});});return h;};c.prototype.summary=function(){return [(this.yO?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.xj(0),"Q1  = " + this.xj(.25),"Q2  = " + this.xj(.5),"Q3  = " + this.xj(.75),"max = " + this.xj(1)].join("\n");};c.prototype.push=function(f,h){h=h || 1;f=Array.isArray(f)?f:[f];for(var g=0;g < f.length;g++){this.VTa(f[g],h);}};c.prototype.Dza=function(f){f=Array.isArray(f)?f:[f];for(var h=0;h < f.length;h++){this.VTa(f[h].Yf,f[h].n);}};c.prototype.l5=function(f){var h;if(!(this.n === this.Xva || !f && this.hGa && this.hGa > this.n / this.Xva)){h=0;this.qj.Jf(function(g){g.ty=h + g.n / 2;h=g.lO=h + g.n;});this.n=this.Xva=h;}};c.prototype.qPb=function(f){var h,g;if(0 === this.size())return null;h=this.qj.lowerBound({Yf:f});g=null === h.data()?h.qK():h.data();return g.Yf === f || this.yO?g:(h=h.qK()) && Math.abs(h.Yf - f) < Math.abs(g.Yf - f)?h:g;};c.prototype.eN=function(f,h,g){this.qj.So({Yf:f,n:h,lO:g});this.n+=h;};c.prototype.S4=function(f,h,g){h !== f.Yf && (f.Yf+=g * (h - f.Yf) / (f.n + g));f.lO+=g;f.ty+=g / 2;f.n+=g;this.n+=g;};c.prototype.VTa=function(f,h){var g,n,p;g=this.qj.min();n=this.qj.max();p=this.qPb(f);p && p.Yf === f?this.S4(p,f,h):p === g?this.eN(f,h,0):p === n?this.eN(f,h,this.n):this.yO?this.eN(f,h,p.lO):(g=p.ty / this.n,Math.floor(4 * this.n * this.$p * g * (1 - g)) - p.n >= h?this.S4(p,f,h):this.eN(f,h,p.lO));this.l5(!1);!this.yO && this.Mha && this.size() > this.Mha / this.$p && this.QA();};c.prototype.jEb=function(f){var h,g;this.qj.jo=k;h=this.qj.upperBound({ty:f});this.qj.jo=m;g=h.qK();f=g && g.ty === f?g:h.next();return [g,f];};c.prototype.xj=function(f){var h;h=(Array.isArray(f)?f:[f]).map(this.ozb,this);return Array.isArray(f)?h:h[0];};c.prototype.ozb=function(f){var h,g;if(0 !== this.size()){this.l5(!0);this.qj.min();this.qj.max();f*=this.n;h=this.jEb(f);g=h[0];h=h[1];return h === g || null === g || null === h?(g || h).Yf:this.yO?f <= g.lO?g.Yf:h.Yf:g.Yf + (f - g.ty) * (h.Yf - g.Yf) / (h.ty - g.ty);}};c.prototype.QA=function(){var f;if(!this.B_a){f=this.Xn();this.reset();for(this.B_a=!0;0 < f.length;){this.Dza(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.l5(!0);this.B_a=!1;}};l.prototype=Object.create(c.prototype);l.prototype.constructor=l;l.prototype.push=function(f){c.prototype.push.call(this,f);this.dGb();};l.prototype.eN=function(f,h,g){this.Mba+=1;c.prototype.eN.call(this,f,h,g);};l.prototype.S4=function(f,h,g){1 === f.n && --this.Mba;c.prototype.S4.call(this,f,h,g);};l.prototype.dGb=function(){!("auto" !== this.mode || this.size() < this.RLb) && this.Mba / this.size() > this.QLb && (this.mode="cont",this.yO=!1,this.$p=this.config.$p || .01,this.QA());};r.exports={TDigest:c,Digest:l};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(24);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){var f;f=k.prototype.parse.call(this,d);this.N.offset+=8;this.Loa=this.N.fh();this.KAa=this.N.fh();this.N.offset+=4;this.samplerate=this.N.fh();this.N.offset+=2;m.R && this.N.console.trace("MP4AudioSampleEntry: channelcount: " + this.Loa + ", samplesize: " + this.KAa + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.mf)(d.mf.Loa=this.Loa,d.mf.KAa=this.KAa,d.mf.samplerate=this.samplerate);return f;};l.od=!1;return l;})(a(239).default);b.default=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Pw=void 0;a(2);r=(function(){function c(m,k){c.ta(this,m,k);}c.ta=function(m,k,l){m.kd=k;m.yd=l.ca;m.Nb=l.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.kd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.yd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Nb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.kd.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{I:{get:function(){return this.kd.I;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.kd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Pa:{get:function(){return this.kd.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.kd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.kd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{X:{get:function(){return this.kd.X;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{UJ:{get:function(){return this.kd.UJ;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{la:{get:function(){return this.kd.la;},enumerable:!1,configurable:!0}});c.prototype.b$b=function(m){this.yd=m;};c.prototype.toJSON=function(){return {movieId:this.I,streamId:this.Pa,offset:this.offset,bytes:this.ca};};return c;})();b.Pw=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.sG=void 0;c=a(0);m=c.__importDefault(a(4));r=(function(k){function l(d,f,h,g,n){var p;p=k.call(this,h) || this;p.P6=!1;l.ta(p,d,f,h,g,n);return p;}c.__extends(l,k);l.ta=function(d,f,h,g,n,p){d.Zd=g;d.Y_=f;d.Je=n;d.BH=f.location || h.location;d.cV=f.Lc || h.Fe;d.nBa=f.nBa || h.nBa;d.mF=h.mF;d.Qea=m.default.time.ga();d.G=p;};Object.defineProperties(l.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{location:{get:function(){return this.BH;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fe:{get:function(){return this.cV;},enumerable:!1,configurable:!0}});l.prototype.ta=function(d){this.Sa=d;};l.prototype.ABa=function(d,f){this.BH=d;this.cV=f;};l.prototype.ADa=function(){var d,f,h;if(this.complete)return 0;d=this.Y_;f=d.P;if(!d.url)return (this.G.warn("updateurl, missing url for streamId:",d.Pa,"mediaRequest:",this,"stream:",d),1);h=d.p6a(this.Ec,this.mF);return this.url === h || (f.ABa(this,d.location,d.Lc),this.Lea(h))?0:(this.G.warn("swapUrl failed: ",this.WO),2);};return l;})(a(85).Ow);b.sG=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.$ja=b.fo=void 0;c=a(156);(function(k){k[k.pending=0]="pending";k[k.Nda=1]="running";k[k.complete=2]="complete";k[k.wO=3]="destroyed";})(m=b.fo || (b.fo={}));r=(function(){function k(l,d){void 0 === d && (d=0);this.name=l;this.priority=d;this.Pc=m.pending;}Object.defineProperties(k.prototype,{state:{get:function(){return this.Pc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{VWb:{get:function(){return this.Pc === m.pending || this.Pc === m.Nda;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Xd:{get:function(){return this.fr;},enumerable:!1,configurable:!0}});k.prototype.iDb=function(l){var d;null === (d=this.fr) || void 0 === d?void 0:d.wda(this);this.fr=l;};k.prototype.Ry=function(){this.Pc=m.Nda;this.Lf();this.Vba() === c.Ih.WDa && (this.Pc=m.complete);};k.prototype.lb=function(){var l;this.Pc=m.wO;null === (l=this.fr) || void 0 === l?void 0:l.wda(this);};k.prototype.FZa=function(l){this.fr.wda(this);this.fr=l;this.fr.ogb(this);};return k;})();b.$ja=r;},function(r,b,a){var k,l,d,f,h,g,n,p;function c(q,t){return q.done?q:{value:{value:q.value,TWa:t}};}function m(q){q.TWa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.HDb=b.Vtb=b.CL=void 0;k=a(0);r=a(11);l=a(127);d=a(9);f=k.__importDefault(a(4));h=a(7);g=a(2);a=a(35);n=(function(){function q(t,v){this.console=t;this.xg=v;this.myb=this.pU=0;this.Qg=[];this.console=h.oi(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{zLb:{get:function(){return this.pU;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{x_a:{get:function(){var t,v,u;for(v=0;v < this.Qg.length;v++){u=this.Qg[v];if(!u.HY || (null === (t=u.item) || void 0 === t?0:t.done))break;}return v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.xg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yt:{get:function(){return 0 === this.xg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oAa:{get:function(){var t;for(t=0;t < this.Qg.length && this.Qg[t].tva;t++){;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var t;t=k.__read(this.Qg,1)[0];return (t=t && t.item) && !t.done && t.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Bxa:{get:function(){var t;for(t=0;t < this.Qg.length && this.Qg[t].HY;t++){;}return t;},enumerable:!1,configurable:!0}});q.prototype.K8=function(){var t;if(void 0 === this.xg){t=this.console;d.R && t && t.trace("QueueIterator: enqueueEnd");this.uDa(this.Bxa - (this.xg || 0));}};q.prototype.Xn=function(){return this.Qg.map(function(t){return t.item;});};q.prototype.f1=function(){this.Uf || (this.Uf=this.Qg.filter(function(t){return (null === t || void 0 === t?void 0:t.item) && !t.item.done;}).map(function(t){return t.item.value;}));return this.Uf;};q.prototype.uDa=function(t){var v;d.R && this.console.trace("updateCount",{Apc:this.xg,$p:t});if(void 0 !== this.xg){v=this.Qg[this.xg];v && this.Rua(v);}this.xg=void 0 === this.xg?t:void 0 === t?t:this.xg + t;void 0 !== this.xg && (this.xg=Math.max(0,this.xg),(v=this.Qg[this.xg]) && v.CJ.resolve({done:!0}));};q.prototype.enqueue=function(t){var v;d.R && this.console.trace("Enqueue called");v=this.Bxa;this.I7();return this.p6b(v,{value:t,done:!1}).r1a.promise;};q.prototype.ggb=function(){d.R && this.console.trace("resetEnd");this.uDa(void 0);};q.prototype.clear=function(t){var v,u,w;d.R && this.console.trace("clear");this.Geb();v=this.oAa;u=this.Qg.length - v;if(0 < u){w={index:v,Rxa:u};d.R && this.console.trace("Removing items",w);this.Qg.splice(v,u);this.I7();this.emit("onRemoved",w);}for(u=1;u < v;u++){this.Rua(this.Qg[u]);}this.xg=void 0;this.uDa(t?t + v:t);this.pU && (this.pU=0);};q.prototype.getIterator=function(){var t,v;t=this;v=h.oi(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(u){return t.T5a(u);},v);};q.prototype.tO=function(){var t;if(0 < this.oAa){t=k.__read(this.Qg,1)[0];if(t.HY)return (d.R && this.console.trace("dequeue",t.id),this.Geb(1),this.emit("onDequeue",t.CJ.promise));}};q.prototype.remove=function(t){var v,u,w;for(v=0;v < this.Qg.length;v++){u=this.Qg[v];w=u.item;if(w && !w.done && w.value === t){this.Qg.splice(v,1);this.xg && this.xg > v && this.xg--;this.I7();d.R && this.console.trace("removed",{id:u.id});this.emit("onRemoved",{index:v,Rxa:1});break;}}};q.prototype.Geb=function(t){var v;t=t || Math.min(this.oAa,this.Bxa);if(0 < t){v=this.Qg.splice(0,t);this.I7();this.xg && (this.xg-=t);d.R && this.console.trace("pruned",t);Promise.resolve().then(function(){v.forEach(function(u){u.r1a.resolve();});});this.emit("onRemoved",{index:0,Rxa:t});this.pU+=t;}};q.prototype.T5a=function(t){var v;d.R && this.console.trace("getNextItemCalled",{offset:t});if(void 0 === this.count || 0 < this.count){this.d8a(t);v=this.Qg[t];v.s8b.resolve();t=v.CJ.promise;d.R && this.console.trace("getNextItem:return",{id:v.id});}else (d.R && this.console.trace("getNextItem:returnDone"),t=Promise.resolve({done:!0}));return t;};q.prototype.p6b=function(t,v){var u;u=!v.done && v.value;u=u && u.toJSON?u.toJSON():u;d.R && this.console.trace("Providing result",{QCb:t,item:u});this.d8a(t);t=this.Qg[t];u=t.CJ.resolve;u(v);return t;};q.prototype.d8a=function(t){var v;if(void 0 === this.Qg[t]){v={};this.Rua(v);this.Qg[t]=v;t === this.xg && v.CJ.resolve({done:!0});d.R && this.console.trace("Item initialized",{QCb:t});}};q.prototype.Lpa=function(t){var v;v={};v.promise=new Promise(function(u,w){v.resolve=function(x){u(x);t && t(x);};v.reject=w;});return v;};q.prototype.Rua=function(t){var v;v=this;t.CJ=this.Lpa(function(u){t.item=u;t.HY=!0;d.R && v.console.trace("Item resolved",{id:t.id});});t.id && t.tva && !t.HY && (t.CJ.resolve({done:!0}),d.R && this.console.warn("Overwriting requested queue item",t.id));t.r1a=this.Lpa();t.s8b=this.Lpa(function(){t.tva=!0;d.R && v.console.trace("Item requested",{id:t.id});});t.id=this.myb++;t.tva=!1;t.HY=!1;t.item=void 0;};q.prototype.I7=function(){this.Uf=void 0;};q.prototype.nsa=function(){var t,v,u;t=this;v=h.oi(f.default,this.console,"QueueIteratorInstance::");u=new p(this,function(w){var x,y;if(0 === t.count)return l.AsyncIterator.Fta();x=t.T5a(w);y=t.Qg[0];return x.then(function(z){return c(z,function(){u.IP || (y === t.Qg[0]?t.tO():g.assert(!t.Qg.filter(function(A){return A.CJ.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},v);return u;};return q;})();b.CL=n;a.Re(r.EventEmitter,n);p=(function(q){function t(v,u,w){var x;x=q.call(this,function(){d.R && x.console.trace("Next item requested",{index:x.index});return x.S8b(x.index++);}) || this;x.parent=v;x.S8b=u;x.console=w;x.YM=!1;x.index=0;x.tla=!1;x.Dcb=function(y){var z;z=y.index;y=y.Rxa;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.R && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}k.__extends(t,q);t.prototype.ii=function(){this.console.trace("disposed");this.YM=!0;this.Zc();q.prototype.ii.call(this);};t.prototype.next=function(){this.IP || this.FP();return q.prototype.next.call(this);};t.prototype.cancel=function(){this.Zc();return q.prototype.cancel.call(this);};t.prototype.Zc=function(){this.parent.wy("onRemoved",this.Dcb);this.tla=!1;};t.prototype.FP=function(){this.tla || (this.tla=!0,this.parent.on("onRemoved",this.Dcb));};return t;})(l.AsyncIterator);b.Vtb=p;b.HDb=function(q){return l.map(q,m);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.B4=void 0;c=a(7);r=(function(){function m(k){this.fA=k;this.F3a=new c.ZC();}Object.defineProperties(m.prototype,{M9a:{get:function(){var k,l;return null !== (k=this.jVb) && void 0 !== k?k:null === (l=this.parent) || void 0 === l?void 0:l.M9a;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{SY:{get:function(){var k,l;return null !== (k=this.s1b) && void 0 !== k?k:null === (l=this.parent) || void 0 === l?void 0:l.SY;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{im:{get:function(){var k,l;return null !== (k=this.Wh) && void 0 !== k?k:null === (l=this.parent) || void 0 === l?void 0:l.im;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{R9a:{get:function(){var k,l,d,f;return null !== (k=this.gf) && void 0 !== k?k:(null === (l=this.track) || void 0 === l?0:l.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (f=this.parent) || void 0 === f?void 0:f.gf:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U9a:{get:function(){var k,l;return null !== (k=this.hbc) && void 0 !== k?k:null === (l=this.parent) || void 0 === l?void 0:l.U9a;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qva:{get:function(){var k,l;return null !== (k=this.ibc) && void 0 !== k?k:null === (l=this.parent) || void 0 === l?void 0:l.Qva;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.G9b;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{imb:{get:function(){return this.F3a.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{parent:{get:function(){var k;return null === (k=this.fA) || void 0 === k?void 0:k.call(this);},enumerable:!1,configurable:!0}});m.prototype.lb=function(){this.fA=void 0;};m.prototype.whb=function(k){this.jVb=k;};m.prototype.t$b=function(k){this.s1b=k;};m.prototype.Lhb=function(k){this.Wh=k;this.F3a.resolve();};m.prototype.t0=function(k){this.gf=k;};m.prototype.F$b=function(k){this.hbc=k;};m.prototype.Nhb=function(k){this.ibc=k;};m.prototype.v0=function(k){this.G9b=k;};return m;})();b.B4=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(968);c=a(415);a=a(970);b.default={STARTING:a.Qgb,BUFFERING:r.$da,REBUFFERING:r.$da,PLAYING:c.Aw,PAUSED:c.Aw};},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.lP=b.VC=void 0;c=a(418);m=a(979);k=a(980);l=a(981);d=a(157);Object.defineProperties(b,{VC:{enumerable:!0,get:function(){return d.VC;}}});b.lP=function(f,h){switch(f.Gwa){case "manifold":return new c.nia(f,h);case "stddev":return new k.LRa(f,h);case "ci":return new l.DGa(f,h);default:return new m.xRa(f,h);}};},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ix=void 0;c=a(0);m=a(9);k=a(7);l=a(53);r=(function(){function d(f,h){this.Zh=f;this.options=c.__assign({xGb:!0},h);}Object.defineProperties(d.prototype,{fw:{get:function(){return "trace-" + this.Zh.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ke:{get:function(){return this.fw;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return m.R;},enumerable:!1,configurable:!0}});d.prototype.Sk=function(f){var h,g;if(f.Yi === l.he.aq || f.Yi === l.he.op){h=k.c1a(this.Zh.gYb);g=this.Zh.rVb;f.Yi === l.he.aq && this.options.xGb && this.Zh.clear();f=h;Object.keys(g).length && (f=c.__spread(h,[g]));return f;}};d.prototype.lb=function(){var f;null === (f=this.Zh) || void 0 === f?void 0:f.lb();};return d;})();b.ix=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.US=void 0;b.US=(function(){function a(){}a.caa=function(c,m){var d;function k(f){return l(d++)(f,k);}function l(f){return f >= m.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + f);}:m[f];}d=0;return k(c);};return a;})();},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.rta=b.Po=b.isEqual=b.NY=void 0;c=a(7);m=a(229);b.NY=function(k){return ! !k.L;};b.isEqual=function(k,l){var d,f;d=b.NY(k);f=b.NY(l);return d === f?d?k.L === l.L:k.Z === l.Z:!1;};b.Po=function(k){if(b.NY(k))return k.L;k=k.Z;return k.M[k.Cd].L;};b.rta=function(k,l){var d;return k.r7?k.r7 instanceof c.K?(k=m.yI(l,b.Po(k.key),k.r7),(null === k || void 0 === k?0:k.offset.greaterThan(c.K.Ia))?k:{offset:c.K.Ia,V:null !== (d=null === k || void 0 === k?void 0:k.V) && void 0 !== d?d:l.Cd}):k.r7:{offset:c.K.Ia,V:l.Cd};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yw=void 0;r=b.Yw || (b.Yw={});r[r.qDa=0]="up";r[r.OW=1]="down";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.cw,minHCInitVideoBitrate:a.lxa,maxInitVideoBitrate:a.PB,minInitAudioBitrate:a.BZ,maxInitAudioBitrate:a.mZ,minHCInitAudioBitrate:a.zZ,minAcceptableVideoBitrate:a.wba,minRequiredBuffer:a.tF,minPrebufSize:a.uj,minCheckBufferingCompleteInterval:a.Aba,rebufferingFactor:a.Nza,useMaxPrebufSize:a.IDa,maxPrebufSize:a.Jt,maxRebufSize:a.Uwa,maxBufferingTime:a.Or,minAudioMediaRequestSizeBytes:a.xba,minVideoMediaRequestSizeBytes:a.Gba,initialBitrateSelectionCurve:a.U$,initSelectionLowerBound:a.e8a,initSelectionUpperBound:a.f8a,throughputPercentForAudio:a.W0,bandwidthMargin:a.Tna,bandwidthMarginContinuous:a.Una,bandwidthMarginCurve:a.Vna,conservBandwidthMargin:a.Apa,switchConfigBasedOnInSessionTput:a.ICa,conservBandwidthMarginTputThreshold:a.oW,conservBandwidthMarginCurve:a.Bpa,switchAlgoBasedOnHistIQR:a.ujb,switchConfigBasedOnThroughputHistory:a.cG,maxPlayerStateToSwitchConfig:a.Twa,lowEndMarkingCriteria:a.swa,IQRThreshold:a.Fha,histIQRCalcToUse:a.kua,maxTotalBufferLevelPerSession:a.Yv,highWatermarkLevel:a.y7a,toStableThreshold:a.ckb,toUnstableThreshold:a.Wea,skipBitrateInUpswitch:a.YBa,watermarkLevelForSkipStart:a.ZDa,highStreamRetentionWindow:a.F$,lowStreamTransitionWindow:a.Waa,highStreamRetentionWindowUp:a.gua,lowStreamTransitionWindowUp:a.uwa,highStreamRetentionWindowDown:a.fua,lowStreamTransitionWindowDown:a.twa,highStreamInfeasibleBitrateFactor:a.eua,lowestBufForUpswitch:a.KB,lockPeriodAfterDownswitch:a.Raa,lowWatermarkLevel:a.wwa,lowestWaterMarkLevel:a.my,lowestWaterMarkLevelBufferRelaxed:a.xwa,mediaRate:a.qba,maxTrailingBufferLen:a.iba,audioBufferTargetAvailableSize:a.HV,videoBufferTargetAvailableSize:a.v1,maxVideoTrailingBufferSize:a.Eab,maxAudioTrailingBufferSize:a.hab,fastUpswitchFactor:a.X8,fastDownswitchFactor:a.sra,maxMediaBufferAllowed:a.Xv,simulatePartialBlocks:a.VBa,simulateBufferFull:a.fib,considerConnectTime:a.Cpa,connectTimeMultiplier:a.zpa,lowGradeModeEnterThreshold:a.E$a,lowGradeModeExitThreshold:a.F$a,maxDomainFailureWaitDuration:a.kab,maxAttemptsOnFailure:a.gab,exhaustAllLocationsForFailure:a.W2a,maxNetworkErrorsDuringBuffering:a.sab,maxBufferingTimeAllowedWithNetworkError:a.aba,fastDomainSelectionBwThreshold:a.e3a,throughputProbingEnterThreshold:a.Hjb,throughputProbingExitThreshold:a.Ijb,locationProbingTimeout:a.s$a,finalLocationSelectionBwThreshold:a.l3a,throughputHighConfidenceLevel:a.Fjb,throughputLowConfidenceLevel:a.Gjb,locationStatisticsUpdateInterval:a.ewa,enablePerfBasedLocationSwitch:a.y2a,probeServerWhenError:a.qw,probeRequestTimeoutMilliseconds:a.oza,allowSwitchback:a.xA,probeDetailDenominator:a.rK,maxDelayToReportFailure:a.bba,countGapInBuffer:a.X_a,bufferThresholdForAbort:a.XYa,allowCallToStreamSelector:a.BXa,pipelineScheduleTimeoutMs:a.Jya,maxPartialBuffersAtBufferingStart:a.QB,maxActiveRequestsSABCell100:a.Zaa,maxStreamingSkew:a.Vwa,maxPendingBufferPercentage:a.Rwa,headerRequestSize:a.D$,estimateHeaderSize:a.bra,minBufferLenForHeaderDownloading:a.yZ,reserveForSkipbackBufferMs:a.c0,numExtraFragmentsAllowed:a.Qxa,pipelineEnabled:a.Qr,maxParallelConnections:a.cQ,socketReceiveBufferSize:a.rib,audioSocketReceiveBufferSize:a.k7,videoSocketReceiveBufferSize:a.pS,headersSocketReceiveBufferSize:a.cua,updatePtsIntervalMs:a.lfa,bufferTraceDenominator:a.goa,bufferLevelNotifyIntervalMs:a.QN,aseReportDenominator:a.HN,aseReportIntervalMs:a.d7,enableAbortTesting:a.aNb,abortRequestFrequency:a.bBb,streamingStatusIntervalMs:a.wCa,prebufferTimeLimit:a.eC,minBufferLevelForTrackSwitch:a.zba,penaltyFactorForLongConnectTime:a.Cya,longConnectTimeThreshold:a.qwa,additionalBufferingLongConnectTime:a.hna,additionalBufferingPerFailure:a.ina,rebufferCheckDuration:a.K_,enableLookaheadHints:a.v2a,lookaheadFragments:a.B$a,enableOCSideChannel:a.eB,OCSCBufferQuantizationConfig:a.Y3,updateDrmRequestOnNetworkFailure:a.Skb,deferAseScheduling:a.l1a,maxDiffAudioVideoEndPtsMs:a.jab,defaultHeaderCacheSize:a.l8,defaultHeaderCacheDataPrefetchMs:a.k8,neverWipeHeaderCache:a.XJ,networkFailureResetWaitMs:a.xxa,networkFailureAbandonMs:a.wxa,maxThrottledNetworkFailures:a.hba,throttledNetworkFailureThresholdMs:a.Oea,lowThroughputThreshold:a.vwa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.jra,mp4ParsingInNative:a.tbb,sourceBufferInOrderAppend:a.tib,requireAudioStreamToEncompassVideo:a.AK,allowAudioToStreamPastVideo:a.AXa,enableManagerDebugTraces:a.Si,managerDebugMessageInterval:a.R$a,managerDebugMessageCount:a.Q$a,bufferThresholdToSwitchToSingleConnMs:a.foa,bufferThresholdToSwitchToParallelConnMs:a.eoa,netIntrStoreWindow:a.$0b,minNetIntrDuration:a.v0b,fastHistoricBandwidthExpirationTime:a.BOb,bandwidthExpirationTime:a.PDb,failureExpirationTime:a.yOb,historyTimeOfDayGranularity:a.qVb,expandDownloadTime:a.jOb,minimumMeasurementTime:a.I0b,minimumMeasurementBytes:a.H0b,throughputMeasurementTimeout:a.qcc,initThroughputMeasureDataSize:a.vWb,throughputMeasureWindow:a.pcc,throughputIQRMeasureWindow:a.occ,IQRBucketizerWindow:a.Arb,connectTimeHalflife:a.eHb,responseTimeHalflife:a.I8b,historicBandwidthUpdateInterval:a.pVb,throughputWarmupTime:a.vcc,minimumBufferToStopProbing:a.G0b,throughputPredictor:a.rcc,ase_stream_selector:a.XCb,enableFilters:a.hNb,filterDefinitionOverrides:a.UOb,defaultFilter:a.YKb,secondaryFilter:a.t9b,defaultFilterDefinitions:a.ZKb,initBitrateSelectorAlgorithm:a.Jua,bufferingSelectorAlgorithm:a.loa,ase_ls_failure_simulation:a.V0a,ase_dump_fragments:a.Zpa,ase_location_history:a.$pa,ase_throughput:a.W0a,ase_simulate_verbose:a.Y0a,secondThroughputEstimator:a.XAa,secondThroughputMeasureWindowInMs:a.Kgb,marginPredictor:a.Gwa,networkMeasurementGranularity:a.yxa,HistoricalTDigestConfig:a.LJa,maxIQRSamples:a.pab,minIQRSamples:a.dbb,periodicHistoryPersistMs:a.Fca,saveVideoBitrateMs:a.Uda,needMinimumNetworkConfidence:a.GZ,biasTowardHistoricalThroughput:a.Yna,maxFastPlayBufferInMs:a.cba,maxFastPlayBitThreshold:a.Owa,minAudioMediaRequestDuration:a.vy,minVideoMediaRequestDuration:a.TB,minAudioMediaRequestDurationCache:a.vy,minVideoMediaRequestDurationCache:a.TB,addHeaderDataToNetworkMonitor:a.Wma,hindsightDenominator:a.jua,hindsightDebugDenominator:a.iua,hindsightParam:a.H$,minimumTimeBeforeBranchDecision:a.uF,minimumTimeBeforeDelayedSeekToQueuedSegment:a.lbb,enableSessionHistoryReport:a.aX,earlyStageEstimatePeriod:a.Jqa,lateStageEstimatePeriod:a.X9a,maxNumSessionHistoryStored:a.fba,minSessionHistoryDuration:a.Fba,appendMediaRequestOnComplete:a.QXa,waitForDrmToAppendMedia:a.Bfa,forceAppendHeadersAfterDrm:a.k9,startMonitorOnLoadStart:a.fCa,reportFailedRequestsToNetworkMonitor:a.iAa,reappendRequestsOnSkip:a.P6b,maxActiveRequestsPerSession:a.ry,limitAudioDiscountByMaxAudioBitrate:a.awa,appendFirstHeaderOnComplete:a.tna,maxAudioFragmentOverlapMs:0,editVideoFragments:a.RMb,declareBufferingCompleteAtSegmentEnd:a.aqa,applyProfileTimestampOffset:a.fI,applyProfileStreamingOffset:a.ro,mediaSourceSupportsNegativePts:a.uZ,requireDownloadDataAtBuffering:a.Bda,requireSetupConnectionDuringBuffering:a.Cda,recordFirstFragmentOnSubBranchCreate:a.Pza,earlyAppendSingleChildBranch:a.D8,selectStartingVMAFMethod:a.sR,activateSelectStartingVMAF:a.uV,minStartingVideoVMAF:a.dw,minAcceptableVMAF:a.xZ,minAllowedVmaf:a.RJ,alwaysNotifyEOSForPlaygraph:a.CCb,enableNewAse:a.KO,useNewApi:a.q1,enableCombinedPlaygraphs:a.XW,enableAdPlaygraphs:a.KI,retainSbrOnFade:a.Ida,excludedContentPlaygraphIds:a.kra,enableDiscontiguousBuffering:a.F8,forceImmediateTransitionTypeForTitles:a.Vra,forceImmediateTransitionExitZone:a.Ura,useBufferSizeLimiter:a.nfa,useLegacyFragmentRounding:a.HDa,maxAllowedOutstandingRequests:a.$aa,alwaysRunUnderflowTimer:a.CN,minStreamableConcurrencyWindow:a.mxa,streamableConcurrencyFactor:a.tCa,bufferingConcurrencyWindow:a.aW,singleStreamablePerBranch:a.xac,enableResolutionVMAFStreamFilter:a.H8,resolutionVMAFCappingRuleList:a.Hda,percentCapTitlesForResolutionVMAFStreamFilter:a.Fya,useExitZones:a.FDa,perFragmentVMAFConfig:a.KQ,enableInitialTputLogging:a.t2a,maxResponsesInitialTput:a.E_b,paddingDurationMs:a.pya,paddingMediaType:a.qya,supportsPtsChanged:a.HCa,ciPredictorSource:a.Yoa,experimentalFilter:a.kOb,simulationDurationStrategy:a.WBa};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sT="LogblobBuilderFactorySymbol";b.Zha="LogblobBuilderCommonSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Csb="NativeLocalStorageSymbol";b.ZMa="NativeLocalStorageFactorySymbol";b.XJa="IDBFactorySymbol";},function(r,b,a){var m,k;function c(l){switch(l){case m.T.iT:return "http";case m.T.kT:return "connectiontimeout";case m.T.EG:return "readtimeout";case m.T.BJa:return "corruptcontent";case m.T.bD:return "abort";case m.T.lT:case m.T.Aha:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.qta=b.e6a=b.bta=void 0;m=a(3);k=a(13);b.bta=c;b.e6a=function(l,d){l={errorcode:l + (d.errorCode || m.W.ho)};d.xa && (l.errorsubcode=d.xa);d.Kf && (l.errorextcode=d.Kf);d.Yqa && (l.erroredgecode=d.Yqa);d.Qb && (l.errordetails=d.Qb);d.xl && (l.httperr=d.xl);d.Oba && (l.aseneterr=d.Oba);d.NI && (l.errordata=d.NI);d.tZ && (l.mediaerrormessage=d.tZ);(d=c(Number(d.xa))) && (l.nwerr=d);return l;};b.qta=function(){return {screensize:k.cx.width + "x" + k.cx.height,screenavailsize:k.cx.availWidth + "x" + k.cx.availHeight,clientsize:nb.innerWidth + "x" + nb.innerHeight,devicePixelRatio:k.YMa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qT="LicenseProviderSymbol";},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.WZb=b.ldb=b.R3b=b.T4a=b.Z3b=b.vmb=b.umb=b.jz=b.eEa=b.tmb=b.J1=void 0;c=a(25);m=a(23);b.J1="$attributes";b.tmb="$children";b.eEa="$name";b.jz="$text";b.umb="$parent";b.vmb="$sibling";b.Z3b=/^\s*<\?xml.*\?>/i;b.T4a=function(k,l,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(l=arguments[f++]) && (k=k[l]);){;}return k;};b.R3b=function(k,l){var d;k?d=(0,c.hk)(k[b.jz]):void 0 !== l && (d=l);(0,m.AW)(d);return d;};b.ldb=function(k,l){var d;k?d=k[b.jz]:void 0 !== l && (d=l);(0,m.T0a)(d);return d;};b.WZb=function(k,l){var d;d={};d[b.J1]=k;d[b.jz]=l;return d;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fD=void 0;r=b.fD || (b.fD={});r[r.Sgc=8]="Backspace";r[r.Skc=9]="Tab";r[r.Yhc=13]="Enter";r[r.Lkc=16]="Shift";r[r.ohc=17]="Ctrl";r[r.ugc=18]="Alt";r[r.Yjc=19]="PauseBreak";r[r.ghc=20]="CapsLock";r[r.$hc=27]="Escape";r[r.Nkc=32]="Space";r[r.Xjc=33]="PageUp";r[r.Wjc=34]="PageDown";r[r.Xhc=35]="End";r[r.Cic=36]="Home";r[r.Jic=37]="LeftArrow";r[r.$kc=38]="UpArrow";r[r.hkc=39]="RightArrow";r[r.Ehc=40]="DownArrow";r[r.Gic=45]="Insert";r[r.Bhc=46]="Delete";r[r.ilc=48]="Zero";r[r.Njc=49]="One";r[r.Vkc=50]="Two";r[r.Tkc=51]="Three";r[r.wic=52]="Four";r[r.uic=53]="Five";r[r.Mkc=54]="Six";r[r.Kkc=55]="Seven";r[r.Whc=56]="Eight";r[r.xjc=57]="Nine";r[r.mgc=65]="A";r[r.vgc=66]="B";r[r.Zgc=67]="C";r[r.Eob=68]="D";r[r.E=69]="E";r[r.aic=70]="F";r[r.xic=71]="G";r[r.Aic=72]="H";r[r.Dic=73]="I";r[r.Hic=74]="J";r[r.Mha=75]="K";r[r.Erb=76]="L";r[r.Nic=77]="M";r[r.ajc=78]="N";r[r.Kjc=79]="O";r[r.Pjc=80]="P";r[r.Q=81]="Q";r[r.dkc=82]="R";r[r.bub=83]="S";r[r.Nub=84]="T";r[r.Wkc=85]="U";r[r.alc=86]="V";r[r.clc=87]="W";r[r.nka=88]="X";r[r.glc=89]="Y";r[r.hlc=90]="Z";r[r.Kic=91]="LeftWindowKey";r[r.ikc=92]="RightWindowKey";r[r.Ikc=93]="SelectKey";r[r.Ajc=96]="Numpad0";r[r.Bjc=97]="Numpad1";r[r.Cjc=98]="Numpad2";r[r.Djc=99]="Numpad3";r[r.Ejc=100]="Numpad4";r[r.Fjc=101]="Numpad5";r[r.Gjc=102]="Numpad6";r[r.Hjc=103]="Numpad7";r[r.Ijc=104]="Numpad8";r[r.Jjc=105]="Numpad9";r[r.$ic=106]="Multiply";r[r.tgc=107]="Add";r[r.Okc=109]="Subtract";r[r.Ahc=110]="DecimalPoint";r[r.Dhc=111]="Divide";r[r.bic=112]="F1";r[r.fic=113]="F2";r[r.gic=114]="F3";r[r.hic=115]="F4";r[r.iic=116]="F5";r[r.jic=117]="F6";r[r.kic=118]="F7";r[r.lic=119]="F8";r[r.mic=120]="F9";r[r.cic=121]="F10";r[r.dic=122]="F11";r[r.eic=123]="F12";r[r.zjc=144]="NumLock";r[r.Gkc=145]="ScrollLock";r[r.Jkc=186]="SemiColon";r[r.Zhc=187]="Equals";r[r.lhc=188]="Comma";r[r.yhc=189]="Dash";r[r.$jc=190]="Period";r[r.vic=191]="ForwardSlash";r[r.Ukc=192]="Tilde";r[r.Ojc=219]="OpenBracket";r[r.Rgc=220]="BackSlash";r[r.ihc=221]="CloseBracket";r[r.ckc=222]="Quote";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NL=void 0;b.NL=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yga=b.CHa=void 0;b.CHa=function(){this.dc=0;this.Jb=1;this.Aqb=2;this.Lf=function(){};};b.Yga="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.xc=void 0;b.xc=a;a.Se={oNa:"mr1",nNa:"mr2",pNa:"mr3",HT:"mr4",Lsb:"mr5",UG:"mr6"};a.Sc={UNSENT:0,OPENED:1,Nz:2,Lz:3,DONE:5,ML:6,AS:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.G2={NO_ERROR:-1,lpb:0,WGa:1,xpb:2,ppb:3,oob:4,eGa:5,cGa:6,pob:7,qob:8,rob:9,lob:10,nob:11,dGa:12,mob:13,kob:14,Gqb:15,zJa:16,yJa:17,xha:18,zha:19,yha:20,CJa:21,Iqb:22,B3:23,AJa:24,Hqb:25,spb:26,mpb:27,pub:28,cpb:29,dpb:30,epb:31,fpb:32,gpb:33,hpb:34,ipb:35,jpb:36,kpb:37,npb:38,opb:39,qpb:40,rpb:41,tpb:42,upb:43,vpb:44,wpb:45,ypb:46,zpb:47,oub:48,TIMEOUT:49,vJa:50,wJa:51,Fqb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Oc={e0:{Kmb:!0,UT:!1,xsb:!0}};},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.Nk=void 0;c=a(17);m=a(18);r=a(3);k=a(23);l=a(8);d=a(503);f=a(13);h=a(36);g=a(48);n=l.Ba.get(h.hj);n.register(r.W.Eha,function(p){var q,t,v;q=l.Ba.get(g.Qq);(0,k.Wa)(m.config);(0,k.Wa)(f.jD && f.jD.getDeviceId || f.XMa || q.bP);t=l.Ba.get(d.tHa);v=(0,l.Vj)("Device");n.Ne("devs");t.create({deviceId:m.config.deviceId,bP:q.bP,w1a:"deviceid",yl:m.config.yl,bq:q.bq,JW:q.JW,userAgent:f.SG,hwa:m.config.hwa,Asa:m.config.Asa,spc:m.config.gB?"mslstoretest":"mslstore",jS:m.config.jS}).then(function(u){b.Nk=u;nb._cad_global.device=b.Nk;v.info("Esn source: " + b.Nk.N8);n.Ne("devdone");p(c.Pg);}).catch(function(u){u.ea=void 0;p(u);});});},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof nb && (b=nb);}r.exports=b;},function(r,b,a){b=a(594);r.exports=Function.prototype.bind || b;},function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},function(r,b,a){var c,m,k,l;b=a(44);c=b("%TypeError%");m=b("%SyntaxError%");k=a(105);l={"Property Descriptor":function(d){var f,h;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(h in d){if(k(d,h) && !f[h])return !1;}f=k(d,"[[Value]]");d=k(d,"[[Get]]") || k(d,"[[Set]]");if(f && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(627)};r.exports=function(d,f,h,g){var n;n=l[f];if("function" !== typeof n)throw new m("unknown record type: " + f);if("Object" !== d(g) || !n(g))throw new c(h + " must be a " + f);};},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.GG=void 0;c=/^\S+$/;a.prototype.DI=function(m){return void 0 !== m;};a.prototype.Zg=function(m){return null !== m && void 0 !== m;};a.prototype.BV=function(m){return a.GXa(m);};a.prototype.Ima=function(m){return !(!m || !a.GXa(m));};a.prototype.VD=function(m){return Array.isArray(m);};a.prototype.HXa=function(m){return !(!m || m.constructor != Uint8Array);};a.prototype.po=function(m,k,l){return a.QWa(m,k,l);};a.prototype.Hma=function(m){return a.Hma(m);};a.prototype.qna=function(m,k,l){return a.T6(m,k,l) && 0 === m % 1;};a.prototype.CV=function(m,k,l){return a.T6(m,k || 0,l);};a.prototype.oV=function(m){return a.T6(m,1);};a.prototype.$Ab=function(m){return a.T6(m,0,255);};a.prototype.aBb=function(m){return m === +m && (0 === m || m !== (m | 0)) && !0;};a.prototype.IXa=function(m){return !(!m || !c.test(m));};a.prototype.Uu=function(m){return a.RWa(m);};a.prototype.qo=function(m){return !(!a.RWa(m) || !m);};a.prototype.F6=function(m){return !0 === m || !1 === m;};a.prototype.H6=function(m){return "function" == typeof m;};a.RWa=function(m){return "string" == typeof m;};a.QWa=function(m,k,l){return "number" == typeof m && !isNaN(m) && isFinite(m) && (void 0 === k || m >= k) && (void 0 === l || m <= l);};a.Hma=function(m){return "number" == typeof m && isNaN(m);};a.T6=function(m,k,l){return a.QWa(m,k,l) && 0 === m % 1;};a.GXa=function(m){return "object" == typeof m;};b.GG=new a();},function(r,b,a){var c,m,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.ic=void 0;r=a(1);c=a(78);m=a(662);k=a(211);l=a(688);d=a(695);f=a(699);a=a(1396);b.ic=new r.l2({WK:!0});(0,f.k$a)(b.ic);b.ic.load(m.platform);b.ic.load(l.config);k.DO.load(d.i2a);b.ic.load(a.MXa);b.ic.load(a.profile);b.ic.bind(c.GKa).Cm(b.ic);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(208);r=(function(){function m(k){this.Ic=k;}m.prototype.xy=function(k){this.Ic.xy=k;return new c.tga(this.Ic);};return m;})();b.d2=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(207);a(328);r=(function(){function m(k){this.Ic=k;}m.prototype.when=function(k){this.Ic.wI=k;return new c.d2(this.Ic);};m.prototype.E1=function(){this.Ic.wI=function(k){return null !== k.target && !k.target.iva() && !k.target.uva();};return new c.d2(this.Ic);};return m;})();b.tga=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bja="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vja="StringUtilsSymbol";},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y;Object.defineProperty(b,"__esModule",{value:!0});b.DO=b.h2a=void 0;r=a(1);c=a(121);m=a(331);k=a(212);l=a(213);d=a(673);f=a(675);h=a(96);g=a(142);n=a(676);p=a(170);q=a(677);t=a(214);v=a(678);u=a(216);w=a(682);x=a(340);y=a(686);b.h2a=new r.xd(function(z){z(m.GHa).to(k.FHa).ha();z(l.Gga).to(d.kGa).ha();z(c.D2).d1(f.Eeb);z(h.Fz).gG(function(A){b.DO.parent=A.wb;return b.DO.get(h.Fz);});z(g.zT).Pe(function(){return function(){return new n.xMa();};});z(p.j2).to(q.lGa).ha();z(t.dha).to(v.jIa).ha();z(u.Zga).to(w.LHa).ha();z(x.uMa).to(y.tMa).ha();});b.DO=new r.l2({WK:!0});},function(r,b,a){var k;function c(){}function m(l){l?(this.active=!1,this.dsa(l)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=b.C2=void 0;r=a(0);a=a(1);m.prototype.dsa=function(l){this.Me=l.keySessionData?l.keySessionData.map(function(d){return {id:d.id,HJ:d.licenseContextId,aZ:d.licenseId};}):[];this.da=l.xid;this.I=l.movieId;};m.prototype.Gw=function(){return JSON.parse(JSON.stringify({keySessionData:this.Me?this.Me.map(function(l){return {id:l.id,licenseContextId:l.HJ,licenseId:l.aZ};}):[],xid:this.da,movieId:this.I}));};b.C2=m;c.prototype.create=function(){return new m();};c.prototype.load=function(l){return new m(l);};k=c;k=r.__decorate([(0,a.Y)()],k);b.FHa=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gga="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dha="EmeApiFactorySymbol";},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x,y,z){this.FZ=v;this.is=u;this.mc=w;this.Ci=x;this.Pk=y;this.$h=z;(0,l.sq)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.gx=void 0;r=a(0);k=a(1);l=a(55);d=a(3);f=a(38);h=a(27);g=a(95);n=a(31);p=a(32);q=a(68);a=a(74);c.prototype.oB=function(){if(this.yb)return this.yb.sessionId;};c.prototype.j8b=function(v,u){return this.FZ.requestMediaKeySystemAccess(v,u);};c.prototype.createMediaKeys=function(v){return v.createMediaKeys();};c.prototype.createSession=function(v,u){this.yb=v.createSession(u);};c.prototype.Y7=function(){return Promise.reject(new g.Fh(d.W.F2));};c.prototype.MXb=function(){return ! !this.yb;};c.prototype.setServerCertificate=function(v,u){return this.is.H6(v.setServerCertificate) && u?v.setServerCertificate(u):Promise.resolve();};c.prototype.generateRequest=function(v,u){return this.yb?this.yb.generateRequest(v,u[0]):Promise.reject(new g.Fh(d.W.F2,d.T.KL,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(v){return this.yb?this.yb.update(v[0]):Promise.reject(new g.Fh(d.W.aIa,d.T.KL,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(v){return this.yb?this.yb.load(v):Promise.reject(new g.Fh(d.W.aqb,d.T.KL,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var v;this.lpa=void 0;if(!this.yb)return Promise.reject(new g.Fh(d.W.THa,d.T.KL,void 0,"Unable to close a key session, key session is not valid"));v=Promise.resolve();this.oB() && (v=this.yb.close());this.yb=void 0;return v;};c.prototype.remove=function(){return this.yb?this.yb.remove():Promise.reject(new g.Fh(d.W.cqb,d.T.KL,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.tK=function(){return Promise.reject(new g.Fh(d.W.bha,void 0,"Unable to renew a key session, not supported"));};c.prototype.iXa=function(v){if(!this.yb)throw ReferenceError("Unable to add message handler, key session is not valid");this.yb.addEventListener(m.fIa,v);};c.prototype.eXa=function(v){if(!this.yb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.yb.addEventListener(m.eIa,v);};c.prototype.bXa=function(v){if(!this.yb)throw ReferenceError("Unable to add error handler, key session is not valid");this.yb.addEventListener(m.dIa,v);};c.prototype.zBb=function(v){var u;u=this;if(!this.yb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.lpa=v;this.yb.closed.then(function(w){var x;return null === (x=u.lpa) || void 0 === x?void 0:x.call(u,w);});};c.prototype.Efb=function(v){if(!this.yb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.yb.removeEventListener(m.fIa,v);};c.prototype.Bfb=function(v){if(!this.yb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.yb.removeEventListener(m.eIa,v);};c.prototype.zfb=function(v){if(!this.yb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.yb.removeEventListener(m.dIa,v);};t=m=c;t.fIa="message";t.eIa="keystatuseschange";t.dIa="error";t=m=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(f.aM)),r.__param(1,(0,k.l)(h.Og)),r.__param(2,(0,k.l)(p.Di)),r.__param(3,(0,k.l)(n.ci)),r.__param(4,(0,k.l)(q.xu)),r.__param(5,(0,k.l)(a.Gu))],t);b.gx=t;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zga="DrmTraitsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yua=b.Vw=void 0;(function(a){a.nlb="usable";a.Er="expired";a.released="released";a.Qcb="output-restricted";a.y3b="output-downscaled";a.abc="status-pending";a.NWb="internal-error";})(b.Vw || (b.Vw={}));b.Yua=function(a){return ! !a && ! !a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fka="UserAgentDataPlatformVersionProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.F4="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wk="_ANY_";b.uIa="EnricherSymbol";},function(r,b,a){var m,k,l;function c(d,f,h,g){this.Da=d;this.y7=f;this.lp=h;this.Xp=void 0 === g?"General":g;this.npa={};}Object.defineProperty(b,"__esModule",{value:!0});b.SL=void 0;m=a(6);k=a(360);l=a(728);c.prototype.ZWa=function(d,f){this.npa[d]=f;};c.prototype.fatal=function(d,f){for(var h=[],g=1;g < arguments.length;++g){h[g - 1]=arguments[g];}this.RD(m.tk.nqb,d,this.lS(d,h));};c.prototype.error=function(d,f){for(var h=[],g=1;g < arguments.length;++g){h[g - 1]=arguments[g];}this.RD(m.tk.ag,d,this.lS(d,h));};c.prototype.warn=function(d,f){for(var h=[],g=1;g < arguments.length;++g){h[g - 1]=arguments[g];}this.RD(m.tk.kka,d,this.lS(d,h));};c.prototype.info=function(d,f){for(var h=[],g=1;g < arguments.length;++g){h[g - 1]=arguments[g];}this.RD(m.tk.Cha,d,this.lS(d,h));};c.prototype.trace=function(d,f){for(var h=[],g=1;g < arguments.length;++g){h[g - 1]=arguments[g];}this.RD(m.tk.aSa,d,this.lS(d,h));};c.prototype.debug=function(d,f){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,f){for(var h=[],g=1;g < arguments.length;++g){h[g - 1]=arguments[g];}this.debug.apply(this,[d].concat(ia(h)));};c.prototype.write=function(d,f,h){for(var g=[],n=2;n < arguments.length;++n){g[n - 2]=arguments[n];}this.RD(d,f,this.lS(f,g));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Xp};};c.prototype.W7=function(d){return new c(this.Da,this.y7,this.lp,d);};c.prototype.RD=function(d,f,h){d=new k.Xha(d,this.Xp,this.Da.Tb(),f,h);f=na(this.lp.lp);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d);}};c.prototype.hRb=function(d){return 0 < Object.keys(this.npa).length?[this.npa].concat(ia(d)):d;};c.prototype.lS=function(d,f){var h;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return (0,l.eZa)(this.y7,this.hRb(f));};b.SL=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lja="SegmentManagerFactorySymbol";},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.pbc=b.efb=b.Lza=void 0;b.Lza=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.efb=a;b.pbc=function(c){return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.Uh) + " sp:" + c.sC + " pssp:") + (c.y_ + " state:") + (c.yf + " path-complete:" + c.bC + " streaming:") + (c.hu + " current:" + c.ft);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qab=b.sba=b.Tf=void 0;b.Tf=[0,1];b.sba=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.Qab=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.XL=void 0;c=a(9);m=a(28);r=(function(){function k(l,d){this.console=l;this.config=d;this.ofa=!1;}k.prototype.pn=function(l,d,f,h){void 0 === f && (f=m.K.Ia);void 0 === h && (h=!1);c.R && this.console.trace("Filtering streams for fastplay",{ofa:this.ofa,hn:f.U,yoc:h});if(this.ofa || f.U >= this.config.v_b || !1 === h){d=l.filter(this.BMb);if(d.length)return d;c.R && this.console.trace("No drm streams to return");}d=l.filter(this.yGb);if(d.length)return d;c.R && this.console.trace("No clear streams to return");return l;};k.prototype.vjb=function(){this.ofa=!0;};k.prototype.BMb=function(l){return l.Xj;};k.prototype.yGb=function(l){return !l.Xj;};return k;})();b.XL=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Eia=void 0;r=(function(){function a(c,m,k,l){var d;d=this;this.properties=c;this.transform=m;this.YN=k;this.state=l;this.ta();c.forEach(function(f){return f.addListener(d.bya);});this.bya();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(m){return m.removeListener(c.bya);});};a.prototype.L8a=function(c){return void 0 !== c.equal;};a.prototype.ta=function(){var c;c=this;this.bya=function(){var m,k;m=c.state;k=c.properties.map(function(l){return l.value;});c.state=c.transform(k);(c.L8a(c.state) && c.L8a(m)?c.state.equal(m):m === c.state) || c.YN(c.state);};};return a;})();b.Eia=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pk=void 0;r=b.pk || (b.pk={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.Lj=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fH=void 0;r=(function(){function a(c){this.iWa=c;}Object.defineProperties(a.prototype,{IP:{get:function(){return this.wxb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.iWa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zAa:{get:function(){var c;c=this;return this.iWa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.wxb=!0;};a.prototype.QZ=function(c,m){var k;k=this;this.result.then(function(l){k.IP?m && m(l):c(l);});return this;};return a;})();b.fH=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.yI=b.zOb=b.LA=b.WF=void 0;c=a(0);m=a(20);k=a(39);Object.defineProperties(b,{WF:{enumerable:!0,get:function(){return k.WF;}}});Object.defineProperties(b,{LA:{enumerable:!0,get:function(){return k.LA;}}});b.zOb=function(l,d){var f,q,t;l=Math.max(l.duration - 3E4,3E4);for(var h={},g,n=0,p=0;p < l;p+=3E4){q="s" + n++;t={L:d,qa:p,sa:p + 3E4 < l?p + 3E4:null};void 0 !== g && (g.next=(f={},f[q]={weight:1},f),g.Kb=q);g=h[q]=t;}return {Cd:"s0",M:h,se:"lazy"};};b.yI=function(l,d,f,h){var g,n,p,v,u,w;void 0 === h && (h={});p=m.K.max(f,m.K.Ia);try{for(var q=c.__values(Object.keys(l.M)),t=q.next();!t.done;t=q.next()){v=t.value;u=l.M[v];if(u.L === d){w=m.K.Ga(u.qa);if(p.rj(w) && (!isFinite(null !== (n=u.sa) && void 0 !== n?n:NaN) || p.lessThan(m.K.Ga(u.sa))))return {V:v,offset:f.Aa(w)};}}}catch(y){var x;x={error:y};}finally{try{t && !t.done && (g=q.return) && g.call(q);}finally{if(x)throw x.error;}}if(h.Jgb && (u=Object.keys(l.M).map(function(y){return {key:y,u:l.M[y]};}).filter(function(y){return y.u.L === d;}).map(function(y){var z,A;z=m.K.abs(f.Aa(m.K.Ga(y.u.qa)));if(y.u.sa && isFinite(y.u.sa)){A=m.K.abs(f.Aa(m.K.Ga(y.u.sa)));z=m.K.min(z,A);}return c.__assign(c.__assign({},y),{$p:z});}),u.sort(function(y,z){return y.$p.U - z.$p.U;}),w=c.__read(u,1)[0]))return (u=w.u,h=w.key,w=m.K.Ga(u.qa),{V:h,offset:f.Aa(w)});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Xa=b.FV=b.Vc=void 0;b.Vc=function(a,c){for(var m=0;m < a.length;m++){if(c(a[m],m,a))return a[m];}};b.FV=function(a){return a.filter(function(c,m){return a.indexOf(c) === m;});};b.$Xa=function(a,c){return a.filter(function(m,k){return a.indexOf(m) === k && -1 !== c.indexOf(m);});};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(377),b);r.__exportStar(a(821),b);r.__exportStar(a(822),b);r.__exportStar(a(823),b);},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FL=void 0;r=a(0);c=a(175);m=r.__importDefault(a(233));k=r.__importDefault(a(849));l=r.__importDefault(a(148));d=a(2);f=a(387);h=r.__importDefault(a(4));b.FL=(function(){function n(p,q,t){var v;v=this;this.mi=new m.default(p,t);this.Yo=new k.default(p);this.Vb=new l.default(this.Yo,this.mi,p);new f.A4(h.default.e8,q,p);c.nz.dHb(p);p.Fca && setInterval(function(){v.mi.save();v.Yo.save();},p.Fca);}n.X9=function(p,q,t){void 0 === g?(n.config=p,n.fG=t,g=new n(p,q,t)):(d.assert(n.config === p),d.assert(n.fG === t));return g;};n.reset=function(){n.config=void 0;g=n.fG=void 0;};return n;})();},function(r,b,a){var d,f,h,g,n,p;function c(q){var t;t=q.fla;this.J=q;this.uD=f.Ij.HAVE_NOTHING;this.Qka=q.Qka;q=new n(q);this.hV=q.create("throughput-location-history",t);this.F5=q.create("throughput-location-history",t);this.x6=q.create("throughput-location-history",t);this.y6=q.create("throughput-location-history",t);this.w6=q.create("throughput-location-history",t);this.lA=q.create("respconn-location-history",t);this.aA=q.create("respconn-location-history",t);this.u6=q.create("throughput-tdigest-history",t);this.G5=q.create("throughput-iqr-history",t);this.q5=q.create("throughput-location-history",t);this.s5=q.create("throughput-location-history",t);this.r5=q.create("throughput-location-history",t);this.t5=q.create("throughput-location-history",t);this.xb=null;}function m(q,t,v,u,w){this.Lu=new c(w);this.Qp=[];this.ayb=h.time.ga() - Date.now() % 864E5;this.Ku=null;this.J=w;for(q=0;q < u;++q){this.Qp.push(new c(w));}}function k(q,t,v){return d.has(q,t)?q[t]:q[t]=v;}function l(q,t){var v;this.J=q;this.BWa=t;this.aOb();this.wH=new c(this.J);this.IU();v=q.$pa;v && (v={confidence:f.Ij.dT,Qa:{pa:parseInt(v,10),te:0},$k:{pa:0,te:0},gy:{pa:0,te:0}},this.get=function(){return v;});}d=a(10);f=a(29).default;b=a(7);h=a(4).default;g=b.UIa;n=a(838).tqb;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.Ij.HAVE_NOTHING};c.prototype.aI=function(q,t){this.uD=t;this.hV.add(q);this.u6.add(q);this.xb=h.time.ga();};c.prototype.YH=function(q){this.F5.add(q);};c.prototype.bI=function(q){this.x6.add(q.initial);this.y6.add(q.low);this.w6.add(q.high);};c.prototype.uL=function(q,t){this.G5.set(q,t);};c.prototype.wA=function(q){this.lA.add(q);};c.prototype.vA=function(q){this.aA.add(q);};c.prototype.zN=function(q){this.q5.add(q.pa);this.s5.add(q.te);this.r5.add(q.MN);this.t5.add(q.mS);};c.prototype.getState=function(){var q,t,v,u,w,x,y,z,A,B,C,D,F,G;q=this.hV.getState();t=this.F5.getState();v=this.x6.getState();u=this.y6.getState();w=this.w6.getState();x=this.lA.getState();y=this.aA.getState();z=this.G5.getState();A=this.u6.getState();B=this.q5.getState();C=this.s5.getState();D=this.r5.getState();F=this.t5.getState();if(d.sb(q) && d.sb(x) && d.sb(y))return null;G={c:this.uD,t:h.time.sxa(this.xb)};d.sb(q) || (G.tp=q);d.sb(t) || (G.itp=t);d.sb(v) || (G.tcii=v);d.sb(u) || (G.tcil=u);d.sb(w) || (G.tcih=w);d.sb(x) || (G.rt=x);d.sb(y) || (G.hrt=y);d.sb(z) || (G.iqr=z);d.sb(A) || (G.td=A);d.sb(B) || (G.dta=B);d.sb(C) || (G.dtv=C);d.sb(D) || (G.dtta=D);d.sb(F) || (G.dttv=F);return G;};c.prototype.Gd=function(q){var t;t=h.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > f.Ij.dT || q.t > t || !this.hV.Gd(q.tp))return (this.uD=f.Ij.HAVE_NOTHING,this.Ku=this.xb=null,this.hV.Gd(null),this.lA.Gd(null),this.aA.Gd(null),!1);this.uD=q.c;this.xb=h.time.Nxa(q.t);this.lA.Gd(d.has(q,"rt")?q.rt:null);this.aA.Gd(d.has(q,"hrt")?q.hrt:null);this.F5.Gd(d.has(q,"itp")?q.itp:null);this.x6.Gd(d.has(q,"tcii")?q.tcii:null);this.y6.Gd(d.has(q,"tcil")?q.tcil:null);this.w6.Gd(d.has(q,"tcih")?q.tcih:null);this.q5.Gd(d.has(q,"dta")?q.dta:null);this.s5.Gd(d.has(q,"dtv")?q.dtv:null);this.r5.Gd(d.has(q,"dtta")?q.dtta:null);this.t5.Gd(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.G5.Gd(q.iqr);d.has(q,"td") && this.u6.Gd(q.td);return !0;};c.prototype.get=function(){var q,t,v,u,w,x,y,z,A,B,C;q=this.J;if(d.sb(this.xb))return p;t=(h.time.ga() - this.xb) / 1E3;t > q.oxb?this.uD=f.Ij.HAVE_NOTHING:t > q.Mwb && (this.uD=Math.min(this.uD,f.Ij.aD));q=this.hV.get();v=this.F5.get();u=this.x6.get().pa;w=this.y6.get().pa;x=this.w6.get().pa;y=this.lA.get();z=this.aA.get();A=this.G5.get();B=this.u6.get();C={pa:this.q5.nta().pa,te:this.s5.nta().pa,MN:this.r5.get().pa,mS:this.t5.get().pa};result={Ym:t,confidence:this.uD,Qa:q,i8a:v,"throughput-ci":{initial:u,low:w,high:x},$k:y,gy:z,Rv:A,Kg:B,Do:C};q && (result.brc=g.prototype.Hy.bind(q));y && (result.iqc=g.prototype.Hy.bind(y));z && (result.ioc=g.prototype.Hy.bind(z));return result;};c.prototype.time=function(){return this.xb;};m.prototype.ue=function(){return ((h.time.ga() - this.ayb) / 1E3 / 3600 / (24 / this.Qp.length) | 0) % this.Qp.length;};m.prototype.getState=function(){var q;q={g:this.Lu.getState(),h:this.Qp.map(function(t){return t.getState();})};d.sb(this.Ku) || (q.f=h.time.sxa(this.Ku));return q;};m.prototype.Gd=function(q){var t,v;if(!this.Lu.Gd(q.g))return !1;t=this.Qp.length;v=!1;this.Qp.forEach(function(u,w){v=!u.Gd(q.h[w * q.h.length / t | 0]) || v;});this.Ku=d.has(q,"f")?h.time.Nxa(q.f):null;return v;};m.prototype.aI=function(q,t){this.Lu.aI(q,t);this.Qp[this.ue()].aI(q,t);this.Ku=null;};m.prototype.YH=function(q){this.Lu.YH(q);this.Qp[this.ue()].YH(q);this.Ku=null;};m.prototype.bI=function(q){this.Lu.bI(q);this.Qp[this.ue()].bI(q);this.Ku=null;};m.prototype.uL=function(q,t){this.Lu.uL(q,t);this.Qp[this.ue()].uL(q,t);};m.prototype.wA=function(q){this.Lu.wA(q);this.Qp[this.ue()].wA(q);};m.prototype.vA=function(q){this.Lu.vA(q);this.Qp[this.ue()].vA(q);};m.prototype.zN=function(q){this.Lu.zN(q);this.Qp[this.ue()].zN(q);};m.prototype.fail=function(q){this.Ku=q;};m.prototype.get=function(){var q,t;if(!d.sb(this.Ku)){if((h.time.ga() - this.Ku) / 1E3 < this.J.Lwb)return {confidence:f.Ij.HAVE_NOTHING,wv:!0};this.Ku=null;}q=this.Qp[this.ue()].get();t=this.Lu.get();q=q.confidence >= t.confidence?q:t;q.wv=!1;return q;};m.prototype.time=function(){return this.Lu.time();};l.prototype.vUa=function(q,t){var v;v=this.J;q=k(this.BU,q,{});return k(q,t,new m(v.MUa || 14400,v.LUa || 100,v.KUa || 100,v.GVa || 4,v));};l.prototype.IU=function(){var q,t;q=h.storage.get("lh");t=h.storage.get("gh");q && this.rma(q);t && this.mAb(t);};l.prototype.nla=function(){var q;q={};d.Jf(this.BU,function(t,v){d.Jf(t,function(u,w){k(q,v,{})[w]=u.getState();},this);},this);return q;};l.prototype.mAb=function(q){this.wH.Gd(q);};l.prototype.rma=function(q){var t,v;t=null;v=this.J;d.Jf(q,function(u,w){d.Jf(u,function(x,y){var z;z=new m(v.MUa || 14400,v.LUa || 100,v.KUa || 100,v.GVa || 4,v);z.Gd(x)?(k(this.BU,w,{})[y]=z,t=!0):d.sb(t) && (t=!1);},this);},this);return d.sb(t)?!0:t;};l.prototype.save=function(){var q;q=this.nla();h.storage.set("lh",q);h.storage.set("gh",this.wH.getState());this.BWa && this.BWa.uBa(this.wH.getState());};l.prototype.aOb=function(){this.BU={};this.KM=this.PTa="";this.Wl=null;};l.prototype.AR=function(q){this.PTa=q;this.Wl=null;};l.prototype.hea=function(q){this.KM=q;this.Wl=null;};l.prototype.vH=function(){d.sb(this.Wl) && (this.Wl=this.vUa(this.PTa,this.KM));return this.Wl;};l.prototype.aI=function(q,t){this.vH().aI(q,t);this.wH.aI(q,t);};l.prototype.YH=function(q){this.vH().YH(q);this.wH.YH(q);};l.prototype.bI=function(q){this.vH().bI(q);this.wH.bI(q);};l.prototype.uL=function(q,t){q && q.Hl && q.fk && q.Il && (this.vH().uL(q,t),this.wH.uL(q,t));};l.prototype.wA=function(q){this.vH().wA(q);};l.prototype.vA=function(q){this.vH().vA(q);};l.prototype.zN=function(q){this.vH().zN(q);};l.prototype.fail=function(q,t){this.vUa(q,this.KM).fail(t);};l.prototype.get=function(q,t){var v,u,w,x;q=(q=this.BU[q])?q[this.KM]:null;v=null;if(q && (v=q.get(),v.confidence > f.Ij.HAVE_NOTHING))return v;if(!1 === t)return p;u=v=null;w=!1;x=null;d.Jf(this.BU,function(y){d.Jf(y,function(z,A){var B;if(!w || A == this.KM){B=z.get();B && (!u || u <= B.confidence) && (!x || u < B.confidence || x < z.time()) && (u=B.confidence,w=A == this.KM,x=z.time(),v=B);}},this);},this);return v?v:p;};r.exports=l;},function(r,b,a){var l;function c(d){this.tN=d;this.reset();}function m(d){this.Fk=new c(d);this.Nb=0;this.Tc=null;}function k(d,f){this.tN=d;this.jVa=f;this.reset();}l=a(10);c.prototype.RVa=function(d,f){this.xb+=d;this.xk+=d;this.yd+=f;this.Mp.push({d:d,b:f});};c.prototype.VU=function(){var d;for(;this.xk > this.tN;){d=this.Mp.shift();this.yd-=d.b;this.xk-=d.d;}};c.prototype.reset=function(){this.Mp=[];this.xb=null;this.xk=this.yd=0;};c.prototype.setInterval=function(d){this.tN=d;this.VU();};c.prototype.start=function(d){l.sb(this.xb) && (this.xb=d);};c.prototype.add=function(d,f,h){l.sb(this.xb) && (this.xb=f);f > this.xb && this.RVa(f - this.xb,0);this.RVa(h > this.xb?h - this.xb:0,d);this.VU();};c.prototype.get=function(){return {pa:Math.floor(8 * this.yd / this.xk),te:0};};m.prototype.reset=function(){this.Fk.reset();this.Nb=0;this.Tc=null;};m.prototype.add=function(d,f,h){!l.sb(this.Tc) && h > this.Tc && (f > this.Tc && (this.Nb+=f - this.Tc),this.Tc=null);this.Fk.add(d,f - this.Nb,h - this.Nb);};m.prototype.start=function(d){!l.sb(this.Tc) && d > this.Tc && (this.Nb+=d - this.Tc,this.Tc=null);this.Fk.start(d - this.Nb);};m.prototype.stop=function(d){this.Tc=l.sb(this.Tc)?d:Math.min(d,this.Tc);};m.prototype.get=function(){return this.Fk.get();};m.prototype.setInterval=function(d){this.Fk.setInterval(d);};k.prototype.reset=function(){this.Mp=[];this.yd=this.xk=0;};k.prototype.add=function(d,f,h,g){void 0 !== g && !0 === g && (f=h - f,this.xk+=f,this.yd+=d,this.Mp.push({d:f,b:d}),this.VU());};k.prototype.VU=function(){var d;for(;this.xk > this.tN || this.Mp.length > this.jVa;){d=this.Mp.shift();this.yd-=d.b;this.xk-=d.d;}};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.get=function(){return {pa:Math.floor(8 * this.yd / this.xk),te:0};};k.prototype.setInterval=function(d,f){this.tN=d;this.jVa=f;this.VU();};r.exports={mhc:c,Kpb:m,cvb:k};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.nHa=b.Gpb=b.Wga=b.mqb=b.Hpb=void 0;c=a(0);m=a(842);a=(function(){return function(){};})();b.Hpb=a;k=(function(){function l(d,f,h,g,n){this.alpha=d;this.pa=f;this.weight=g;this.Pja=h * this.weight;this.c1=n;}l.prototype.hi=function(){return new l(this.alpha,this.pa,this.te,this.weight,this.c1);};Object.defineProperties(l.prototype,{te:{get:function(){return this.weight?this.Pja / this.weight:0;},enumerable:!1,configurable:!0}});l.prototype.update=function(d,f,h){var g,n,p,q;g=this.alpha;n=this.weight;p=this.c1;q=g * (d - p);5 < q && (this.weight/=Math.exp(q),this.c1=p=d);d=Math.exp(g * (f - p)) - Math.exp(g * (d - p));f=this.weight+=d;g=this.pa;this.pa=p=g + d * (h - g) / f;this.Pja=n?this.Pja * (f - d) / n + d * (h - p) * (h - g):0;};return l;})();b.mqb=k;r=(function(){var k00;k00=2;for(;k00 !== 14;){switch(k00){case 2:l.prototype.hi=function(d){var m00;m00=2;for(;m00 !== 8;){switch(m00){case 2:d || (d=new l(this.Jl));d.ku=this.ku;d.dG=this.dG;d.ZK=this.ZK.hi();m00=3;break;case 3:d.$K=this.$K.hi();return d;break;}}};l.prototype.reset=function(){var n00,d;n00=2;for(;n00 !== 3;){switch(n00){case 2:d=-Math.log(.5) / this.nJ;this.ZK=new k(d,0,0,0,0);this.$K=new k(d,0,0,0,0);this.ku=this.dG=null;n00=3;break;}}};l.prototype.start=function(d){var o00;o00=2;for(;o00 !== 1;){switch(o00){case 2:null === this.ku && (this.ku=d);o00=1;break;}}};l.prototype.add=function(d,f,h){var S3z=a000;var p00,g;p00=2;for(;p00 !== 7;){switch(p00){case 5:g=this.dG;this.dG=null === g?h:Math.max(g,h);S3z.b3j(0);g=Math.max(S3z.t3j(h,f),1);p00=9;break;case 2:g=this.ku;this.ku=null === g?f:Math.min(g,f);p00=5;break;case 9:S3z.b3j(1);this.ZK.update(f,h,S3z.W3j(g,d));S3z.V3j(2);this.$K.update(f,h,S3z.W3j(d,g,8));p00=7;break;}}};k00=3;break;case 3:l.prototype.get=function(d,f){var U3z=a000;var q00,u,w,h,g,n,p,q,t,v;q00=2;for(;q00 !== 16;){switch(q00){case 10:n=1E-11 < u?Math.max(w / u,n):n + 2 * v / p;q00=14;break;case 17:(q=this.ZK,t=this.$K);q00=20;break;case 7:q00=0 === v?6:12;break;case 12:(u=new m.I3(p,v).wFb(n),w=p - u[1]);u=1 - u[0];q00=10;break;case 6:n=Math.max(n,p);q00=14;break;case 2:(h=this.ku || 0,g=this.dG || 0,n=d - g,p=this.u0b,q=this.ZK,t=this.$K);q00=1;break;case 4:void 0 === f && (f=this.cbb);n >= p && (f=Math.min(f,this.cbb));p=f * q.pa;U3z.b3j(3);var N31=U3z.t3j(1,13,15,7,6);v=Math.pow(f,N31) * q.te;q00=7;break;case 1:q00=0 < n?5:17;break;case 13:U3z.b3j(0);t.update(U3z.t3j(g,h),U3z.t3j(d,h),0);q00=20;break;case 5:q00=(q=new k(q.alpha,q.pa,q.te,q.weight,q.c1),t=new k(t.alpha,t.pa,t.te,t.weight,t.c1),0 < q.weight && 0 !== f)?4:20;break;case 14:U3z.V3j(0);q.update(U3z.W3j(g,h),U3z.W3j(d,h,U3z.V3j(0)),U3z.W3j(n,f,U3z.b3j(1)));q00=13;break;case 18:return {pa:d?q.pa:null,te:d?q.te:null,MN:f?t.pa:null,mS:f?t.te:null};break;case 20:d=q.weight;f=t.weight;q00=18;break;}}};l.prototype.toString=function(){var r00;r00=2;for(;r00 !== 1;){switch(r00){case 2:var M3j="De";M3j+="l";M3j+="iveryDist(";return M3j + this.nJ + ")";break;case 4:return (")" - this.nJ) / ")";break;r00=1;break;}}};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;break;}}function l(d){var l00,f,h;l00=2;for(;l00 !== 7;){switch(l00){case 9:this.u0b=h;this.reset();l00=7;break;case 2:var m3j="1S";m3j+="IY";m3j+="bZrNJCp9";this.Jl=d;m3j;(f=d.min_b,h=d.min_iv);this.nJ=d.hl;this.cbb=f;l00=9;break;}}}})();b.Wga=r;a=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);return d;})(a);b.Gpb=a;r=(function(l){function d(f){var h;h=l.call(this,f) || this;h.Jl=f;return h;}c.__extends(d,l);d.prototype.get=function(){var f,h,g;if(0 === this.ZK.weight || 0 === this.$K.weight)return {low:null,high:null,initial:null};switch(this.Jl.lQ){case "deliverytime":f=this.ZK;f=new m.I3(f.pa,f.te);(h=this.Jl.accuracy,g=this.Jl.y_b);return {low:8 / f.Hy(this.Jl.pY,h,g),high:8 / f.Hy(this.Jl.gZ,h,g),initial:8 / f.Hy(this.Jl.Y$,h,g)};default:return (f=this.$K,f=new m.I3(f.pa,f.te),h=this.Jl.accuracy,g=this.Jl.y_b,{low:f.Hy(this.Jl.gZ,h,g),high:f.Hy(this.Jl.pY,h,g),initial:f.Hy(this.Jl.Y$,h,g)});}};d.prototype.hi=function(){var f;f=new d(this.Jl);l.prototype.hi.call(this,f);return f;};d.prototype.toString=function(){return "DeliveryDistCI([" + (this.Jl.gZ,this.Jl.pY) + "])";};return d;})(r);b.nHa=r;},function(r){(function(){var s00;s00=2;function b(){var t00;t00=2;for(;t00 !== 5;){switch(t00){case 2:this.HD=this.yd=0;this.xb=this.Ug=void 0;t00=5;break;}}}for(;s00 !== 8;){switch(s00){case 2:b.prototype.start=function(a){var u00;u00=2;for(;u00 !== 1;){switch(u00){case 2:this.Ug?a < this.Ug?(this.HD+=this.Ug - a,this.Ug=a):a > this.xb && (this.xb=this.Ug=a):this.xb=this.Ug=a;u00=1;break;}}};b.prototype.stop=function(a){var v00;v00=2;for(;v00 !== 1;){switch(v00){case 2:this.xb && a > this.xb && (this.HD+=a - this.xb,this.xb=a);v00=1;break;}}};b.prototype.add=function(a,c,m){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:this.start(c);w00=1;break;case 9:this.start(c);w00=2;break;w00=1;break;case 1:this.stop(m);this.yd+=a;w00=4;break;}}};b.prototype.get=function(){var x00;x00=2;for(;x00 !== 1;){switch(x00){case 2:return {pa:this.HD?Math.floor(8 * this.yd / this.HD):null,y8:this.HD?this.HD:0};break;}}};s00=3;break;case 3:var G3j="1SI";G3j+="YbZrN";G3j+="J";G3j+="C";G3j+="p9";r.exports=b;G3j;s00=8;break;}}})();},function(r,b,a){function c(){c=Object.assign || (function(E){for(var H,L=1,K=arguments.length;L < K;L++){H=arguments[L];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (E[I]=H[I]);}}return E;});return c.apply(this,arguments);}function m(E,H){m=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,K){L.__proto__=K;}) || (function(L,K){for(var I in K){K.hasOwnProperty(I) && (L[I]=K[I]);}});return m(E,H);}function k(E,H){function L(){this.constructor=E;}m(E,H);E.prototype=null === H?Object.create(H):(L.prototype=H.prototype,new L());}function l(E,H){var L,K,I;L={};for(K in E){Object.prototype.hasOwnProperty.call(E,K) && 0 > H.indexOf(K) && (L[K]=E[K]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){I=0;for(K=Object.getOwnPropertySymbols(E);I < K.length;I++){0 > H.indexOf(K[I]) && Object.prototype.propertyIsEnumerable.call(E,K[I]) && (L[K[I]]=E[K[I]]);}}return L;}function d(E,H,L,K){var I,R,O;I=arguments.length;R=3 > I?H:null === K?K=Object.getOwnPropertyDescriptor(H,L):K;if("object" === typeof Reflect && "function" === typeof Reflect.Zp)R=Reflect.Zp(E,H,L,K);else for(var J=E.length - 1;0 <= J;J--){if(O=E[J])R=(3 > I?O(R):3 < I?O(H,L,R):O(H,L)) || R;}return (3 < I && R && Object.defineProperty(H,L,R),R);}function f(E,H){return function(L,K){H(L,K,E);};}function h(E,H){if("object" === typeof Reflect && "function" === typeof Reflect.Bc)return Reflect.Bc(E,H);}function g(E,H,L,K){function I(R){return R instanceof L?R:new L(function(O){O(R);});}return new (L || (L=Promise))(function(R,O){function J(S){try{P(K.next(S));}catch(T){O(T);}}function M(S){try{P(K["throw"](S));}catch(T){O(T);}}function P(S){S.done?R(S.value):I(S.value).then(J,M);}P((K=K.apply(E,H || [])).next());});}function n(E,H){var I,R,O,J,M;function L(P){return function(S){return K([P,S]);};}function K(P){if(R)throw new TypeError("Generator is already executing.");for(;I;){try{if((R=1,O && (J=P[0] & 2?O["return"]:P[0]?O["throw"] || ((J=O["return"]) && J.call(O),0):O.next) && !(J=J.call(O,P[1])).done))return J;if((O=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (I.label++,{value:P[1],done:!1});case 5:I.label++;O=P[1];P=[0];continue;case 7:P=I.Xk.pop();I.Dh.pop();continue;default:if(!(J=I.Dh,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){I=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))I.label=P[1];else if(6 === P[0] && I.label < J[1])(I.label=J[1],J=P);else if(J && I.label < J[2])(I.label=J[2],I.Xk.push(P));else {J[2] && I.Xk.pop();I.Dh.pop();continue;}}P=H.call(E,I);}catch(S){P=[6,S];O=0;}finally{R=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}I={label:0,ob:function(){if(J[0] & 1)throw J[1];return J[1];},Dh:[],Xk:[]};return (M={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,H,L,K){void 0 === K && (K=L);E[K]=H[L];}function q(E,H){for(var L in E){"default" === L || H.hasOwnProperty(L) || (H[L]=E[L]);}}function t(E){var H,L,K;H="function" === typeof Symbol && Symbol.iterator;L=H && E[H];K=0;if(L)return L.call(E);if(E && "number" === typeof E.length)return {next:function(){E && K >= E.length && (E=void 0);return {value:E && E[K++],done:!E};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(E,H){var L,K,I;L="function" === typeof Symbol && E[Symbol.iterator];if(!L)return E;E=L.call(E);I=[];try{for(;(void 0 === H || 0 < H--) && !(K=E.next()).done;){I.push(K.value);}}catch(O){var R;R={error:O};}finally{try{K && !K.done && (L=E["return"]) && L.call(E);}finally{if(R)throw R.error;}}return I;}function u(){for(var E=[],H=0;H < arguments.length;H++){E=E.concat(v(arguments[H]));}return E;}function w(){var K;for(var E=0,H=0,L=arguments.length;H < L;H++){E+=arguments[H].length;}E=Array(E);K=0;for(H=0;H < L;H++){for(var I=arguments[H],R=0,O=I.length;R < O;(R++,K++)){E[K]=I[R];}}return E;}function x(E){return this instanceof x?(this.ez=E,this):new x(E);}function y(E,H,L){var M,P,S;function K(T){M[T] && (P[T]=function(U){return new Promise(function(W,fa){1 < S.push([T,U,W,fa]) || I(T,U);});});}function I(T,U){var W;try{W=M[T](U);W.value instanceof x?Promise.resolve(W.value.ez).then(R,O):J(S[0][2],W);}catch(fa){J(S[0][3],fa);}}function R(T){I("next",T);}function O(T){I("throw",T);}function J(T,U){(T(U),S.shift(),S.length) && I(S[0][0],S[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=L.apply(E,H || []);S=[];return (P={},K("next"),K("throw"),K("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(E){var L,K;function H(I,R){L[I]=E[I]?function(O){return (K=!K)?{value:x(E[I](O)),done:"return" === I}:R?R(O):O;}:R;}return (L={},H("next"),H("throw",function(I){throw I;}),H("return"),L[Symbol.iterator]=function(){return this;},L);}function A(E){var K,I;function H(R){I[R]=E[R] && (function(O){return new Promise(function(J,M){O=E[R](O);L(J,M,O.done,O.value);});});}function L(R,O,J,M){Promise.resolve(M).then(function(P){R({value:P,done:J});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");K=E[Symbol.asyncIterator];return K?K.call(E):(E="function" === typeof t?t(E):E[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(E,H){Object.defineProperty?Object.defineProperty(E,"raw",{value:H}):E.raw=H;return E;}function C(E){var H;if(E && E.__esModule)return E;H={};if(null != E)for(var L in E){Object.hasOwnProperty.call(E,L) && (H[L]=E[L]);}H.default=E;return H;}function D(E){return E && E.__esModule?E:{default:E};}function F(E,H){if(!H.has(E))throw new TypeError("attempted to get private field on non-instance");return H.get(E);}function G(E,H,L){if(!H.has(E))throw new TypeError("attempted to set private field on non-instance");H.set(E,L);return L;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return g;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b,a){var F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga,N,Q,V,ba,qa,La,Oa,Ta,Qa,Wa,eb,ub,jb,mb;function c(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function m(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function k(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function l(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);this.OBa=Ia.config.OBa;this.oe=this.sizes=void 0;}function d(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function f(){for(var Ia=new DataView(this),Xa="",ab,kb=0;kb < this.byteLength;kb++){ab=Ia.getUint8(kb);Xa+=("00" + ab.toString(16)).slice(-2);}return Xa;}function h(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function g(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function n(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function p(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function q(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function t(Ia){function Xa(ab,kb,sb,Bb,Hb){H.call(this,ab,kb,sb,Bb,Hb);this.Ibb=Ia;}Xa.od=!1;Xa.prototype=new H();Xa.prototype.constructor=Xa;Object.defineProperties(Xa.prototype,{ZGa:{get:function(){return this.Ibb;}}});Xa.prototype.parse=function(){this.N.console.trace("renaming '" + this.type + "' to draft type '" + this.Ibb + "'");this.N.offset=this.startOffset + 4;this.Sb.qmb(this.ZGa);this.type=this.ZGa;return !0;};return Xa;}function v(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function u(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function w(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function x(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function y(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function z(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function A(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function B(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function C(Ia,Xa,ab,kb,sb){H.call(this,Ia,Xa,ab,kb,sb);}function D(Ia,Xa){Ia.forEach(function(ab){Xa[ab.jf]=ab;});}F=a(99).assert;b=a(100);G=a(149).K;E=a(388);a(150);a(83);a(83);a(83);H=a(24).$f;L=a(856).default;K=a(857).default;I=a(858).default;R=a(859).default;O=a(860).default;J=a(861).default;M=a(862).default;P=a(863).default;S=a(864).default;a(239);a(177);T=a(389).Fmb;U=a(389).Tpb;W=a(865).default;fa=a(866).default;sa=a(84).default;wa=a(84).anb;Ba=a(84).bnb;Ga=a(84).cnb;N=a(84).dnb;Q=a(867).default;V=a(868).default;ba=a(869).default;qa=a(84).Jqb;La=a(84).Cqb;Oa=a(84).$mb;Ta=a(870).default;Qa=a(871).default;Wa=a(872).default;eb=a(390).default;ub=a(391).default;a(151);a(242);a(243);a(241);jb=a(873).default;mb=a(874).Sub;a=a(890).default;c.od=!0;c.prototype=new H();c.prototype.constructor=c;m.od=!0;m.prototype=new H();m.prototype.constructor=m;k.od=!1;k.prototype=new H();k.prototype.constructor=k;k.prototype.parse=function(Ia){var Xa;this.Bh();1 === this.version?(this.N.Ml(),this.N.Ml(),this.X=this.N.bc(),this.duration=this.N.Ml()):(this.N.bc(),this.N.bc(),this.X=this.N.bc(),this.duration=this.N.bc());Xa=this.N.fh() & 32767;this.language=String.fromCharCode(96 + (Xa >>> 10),96 + (Xa >>> 5 & 31),96 + (Xa & 31));Ia && Ia.mf && (Ia.mf.X=this.X,Ia.mf.duration=this.duration);return !0;};l.od=!1;l.prototype=new H();l.prototype.constructor=l;l.prototype.jzb=function(){this.Bh();this.N.bc();this.X=this.N.bc();0 === this.version?(this.c2a=this.N.bc(),this.E3a=this.N.bc()):(this.c2a=this.N.Ml(),this.E3a=this.N.Ml());this.z8b=this.N.fh();this.ufb=this.N.fh();};l.prototype.dwb=function(Ia,Xa){var ab,kb,sb;ab=this.X;Ia=Ia && Ia.X || ab;kb=Ia / ab;ab=this.N.ida(Xa,12,!1);sb=1 === kb?this.N.ida(Xa,12,!1):E.from(Uint32Array,{length:Xa},function(){var Bb;Bb=Math.round(this.N.bc() * kb);this.N.offset+=8;return Bb;},this);this.LAb(Xa,sb,ab,Ia);};l.prototype.LAb=function(Ia,Xa,ab,kb){if(this.OBa){kb=this.OBa * kb / 1E3;for(var sb=0,Bb=1;Bb < Ia;Bb++){Math.abs(Xa[sb] - kb) > Math.abs(Xa[sb] + Xa[Bb] - kb)?(Xa[sb]+=Xa[Bb],ab[sb]+=ab[Bb]):(++sb,sb !== Bb && (Xa[sb]=Xa[Bb],ab[sb]=ab[Bb]));}++sb;Xa=new Uint32Array(Xa.buffer.slice(0,4 * sb));ab=new Uint32Array(ab.buffer.slice(0,4 * sb));}this.sizes=ab;this.oe=Xa;};l.prototype.parse=function(Ia){var Xa,ab,kb,sb;this.jzb();this.la=Ia.la;Xa=this.X;ab=this.la && this.la.X || Xa;kb=this.ufb;sb=this.startOffset + this.length + this.E3a;Xa=new G(this.c2a,Xa).wg(ab).bb;this.aa={X:ab,Sn:Xa,offset:sb};this.dwb(this.la,kb);this.aa.oe=this.oe;this.aa.sizes=this.sizes;Ia.Vy=this;return !0;};d.od=!1;d.prototype=new H();d.prototype.constructor=d;d.prototype.parse=function(){var Ia;this.hz=[];this.s4b=[];Ia=(this.length - 11) / 2;this.N.Ed();this.N.Ed();this.N.Ed();for(var Xa=0;Xa < Ia;Xa++){this.hz.push(this.N.Ed());this.s4b.push(this.N.Ed());}return !0;};h.od=!1;h.prototype=new H();h.prototype.constructor=h;h.prototype.parse=function(Ia){var Xa;this.Bh();this.N.offset+=1;if(0 == this.version)this.N.offset+=1;else {Xa=this.N.Ed();this.hLb=Xa >> 4;this.nLb=Xa & 15;Ia && Ia.mf && (Ia.mf.Omc=this.hLb,Ia.mf.Rmc=this.nLb);}this.j1a=this.N.Ed();this.i1a=this.N.Ed();this.Eva=this.N.offset;this.qq=this.N.kda(16);this.qq.toString=f;Ia && Ia.mf && (Ia.mf.Pmc=this.j1a,Ia.mf.jLb=this.i1a,Ia.mf.Qmc=this.qq);1 == this.j1a && 0 == this.i1a && (this.gLb=this.N.Ed(),this.fLb=this.N.kda(this.gLb),Ia && Ia.mf && (Ia.mf.iLb=this.fLb));return !0;};g.od=!1;g.prototype=new H();g.prototype.constructor=g;g.prototype.parse=function(){this.Bh();this.Br=this.N.fh();this.O_b=this.N.ida(this.Br,void 0,!0);return !0;};n.od=!1;n.prototype=new H();n.prototype.constructor=n;n.prototype.parse=function(Ia){var Xa,ab,kb,sb,Bb,Hb;Xa=Ia.Vy;F(Xa);Ia=Ia.la;ab=Xa.X;Xa=Xa.ufb;F(Ia);F(ab);F(Xa);this.Bh();F(2 > this.version);this.Br=this.N.fh();this.QQ=new Uint16Array(Xa + 1);kb=Ia.I6a(ab);sb=kb / ab;Bb=Ia.wg(kb).bb;if(0 === this.version)for((this.pR=new Uint16Array(),this.ri=new Uint32Array(),Ia=ab=0);Ia <= Xa;++Ia){if((this.QQ[Ia]=ab,Ia < this.Br)){Hb=this.N.Ed();if(0 !== Hb)for(kb=0;kb < Hb;(++kb,++ab)){this.pR[ab]=Math.floor((this.N.bc() + 1) * sb) / Bb;this.ri[ab]=this.N.bc();}}}else if(1 === this.version)for((kb=this.N.F6b(this.Br),this.N.offset+=4,this.ri=this.N.ida(this.Br,10,!1),this.N.offset-=8,this.pR=E.from(Uint16Array,{length:this.Br},function(){var Lb;Lb=Math.floor((this.N.bc() + 1) * sb) / Bb;this.N.offset+=6;return Lb;},this),ab=Ia=0);Ia <= Xa;++Ia){for(;ab < kb.length && kb[ab] < Ia;){++ab;}this.QQ[Ia]=ab;}this.Hk={QQ:this.QQ,pR:this.pR,ri:this.ri};return !0;};p.od=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.od=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.RI=function(){var Ia;Ia=this.Gq("tfhd");Ia && (this.Us=Ia.GYa?Ia.Us:this.parent.startOffset);return !0;};v.od=!1;v.prototype=new H();v.prototype.constructor=v;v.prototype.parse=function(){var Ia,Fb;Ia=this.N.offset;this.Bh();if(1 === this.version){this.N.console.trace("translating vpcC box to draft equivalent");this.N.offset+=2;for(var Xa=this.N.offset,ab=this.N.Ed(),kb=this.N.Ed(),sb=this.N.Ed(),Bb=this.N.Ed(),Hb=this.N.fh(),Lb=[],Xb=0;Xb < Hb;++Xb){Lb=this.N.Ed();}Xb=(ab & 240) >>> 4;Fb=(ab & 14) >>> 1;ab&=1;sb=16 === sb?1:0;kb != Bb && this.N.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + kb + " and matrixCoefficients " + Bb + " should be the same value!");Bb=2;switch(kb){case 1:Bb=2;break;case 6:Bb=1;break;case 9:Bb=5;break;default:this.N.console.warn("VP9: Unknown colourPrimaries " + kb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Sb.Hfa(this.version,Ia);this.Sb.Hfa(Xb << 4 | Bb,Xa++);this.Sb.Hfa(Fb << 4 | sb << 1 | ab,Xa++);Hb+=2;Lb.push(0,0);this.Sb.Kfc(Hb);Xa+=2;Lb.forEach(function(Qb){this.Sb.Hfa(Qb,Xa++);});}return !0;};u.od=!1;u.prototype=new H();u.prototype.constructor=u;u.jf="tfhd";Object.defineProperties(u.prototype,{GYa:{get:function(){return this.flags & 1;}},c9b:{get:function(){return this.flags & 2;}},kLb:{get:function(){return this.flags & 8;}},mLb:{get:function(){return this.flags & 16;}},k1a:{get:function(){return this.flags & 32;}}});u.prototype.parse=function(Ia){this.Bh();this.dS=this.N.bc();this.Us=this.GYa?this.N.Ml():void 0;this.Cgb=this.c9b?this.N.bc():void 0;this.Sx=this.kLb?this.N.bc():void 0;this.YA=this.mLb?this.N.bc():void 0;this.XA=this.k1a?this.N.bc():void 0;Ia && Ia.va && (Ia.va.dS=this.dS,Ia.va.Us=this.Us,Ia.va.Cgb=this.Cgb,Ia.va.Sx=this.Sx,Ia.va.YA=this.YA,Ia.va.XA=this.k1a?this.XA:void 0);return !0;};w.od=!1;w.prototype=new H();w.prototype.constructor=w;w.prototype.parse=function(Ia){this.Bh();this.NN=1 === this.version?this.N.Ml():this.N.bc();Ia && Ia.va && (Ia.va.NN=this.NN);return !0;};w.prototype.Ea=function(Ia){var Xa;Xa=this.startOffset + 12;this.NN+=Ia;1 === this.version?this.Sb.Lfc(this.NN,Xa):this.Sb.Mw(this.NN,Xa);};x.od=!1;x.prototype=Object.create(H.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{hI:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Ia){this.Bh();this.hI && this.N.jC();this.hI && this.N.bc();this.lLb=this.N.Ed();this.Wd=this.N.bc();this.kWb=this.N.jda(this.Wd);Ia && Ia.va && (Ia.va.d9b=this.kWb);return !0;};x.prototype.Ea=function(Ia,Xa){if(Ia && 0 === this.lLb){Ia=Xa?this.Wd - Ia:Ia;this.Sb.offset=this.startOffset + 13 + (this.hI?8:0);this.Wd-=Ia;this.Sb.Mw(this.Wd);this.FAa=0;if(Xa)this.Sb.offset+=this.Wd;else {for(Xa=0;Xa < Ia;++Xa){this.FAa+=this.Sb.Ed();}this.Sb.offset-=Ia;}this.Nn(Ia,this.N.offset);}return !0;};y.od=!1;y.prototype=Object.create(H.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{hI:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Ia){var Xa,ab,Xb,Fb;this.Bh();this.hI && this.N.jC();this.hI && this.N.bc();this.Br=this.N.bc();F(1 === this.Br,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Co=0 === this.version?this.N.mda():this.N.M6b();this.N.offset=this.Co;if(Ia && Ia.va && Ia.mf){Xa=Ia.mf.jLb;ab=Ia.va.d9b;F(0 < Xa || void 0 !== Ia.mf.iLb,"Expected per sample or constant IV");F(0 < (ab || []).length,"Expected saix box parsing to find sample info sizes");Ia.va.GK=[];for(var kb=0;kb < ab.length;kb++){for(var sb=Xa?this.N.kda(Xa):void 0,Bb=[],Hb=this.N.fh(),Lb=0;Lb < Hb;Lb++){Xb=this.N.fh();Fb=this.N.bc();Bb.push({IEb:Xb,JEb:Fb});}Ia.va.GK.push({yCa:Bb,Gha:sb});}}return !0;};y.prototype.Ea=function(Ia,Xa){this.Co+=Ia;this.Sb.offset=this.startOffset + 16 + (this.hI?8:0) + (0 === this.version?0:4);this.Sb.cEa(Xa,this.Co);return !0;};z.od=!1;z.prototype=Object.create(H.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{$cb:{get:function(){return this.flags & 1;}},Flb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Ia){var Xa,Hb,Lb;this.Bh();Xa=0;this.$cb && (Xa=this.fYb=this.N.bc() & 255,this.N.jda(16));if(Ia && Ia.va){if(Ia.va.GK)return;Ia.va.cl || (Ia.va.cl=[]);}if(0 !== Xa && 8 !== Xa && 16 !== Xa)return !0;this.Wd=this.N.bc();if(Ia && Ia.va)for(var ab=0;ab < this.Wd;ab++){if((Ia.va.cl[ab].Gha=0 < Xa?this.N.kda(Xa):void 0,this.Flb)){for(var kb=[],sb=this.N.fh(),Bb=0;Bb < sb;Bb++){Hb=this.N.fh();Lb=this.N.bc();kb.push({IEb:Hb,JEb:Lb});}Ia.va.cl[ab].yCa=kb;}}return !0;};z.prototype.Ea=function(Ia,Xa){var ab,kb;ab=Xa?this.Wd - Ia:Ia;this.Sb.offset=this.startOffset + 28 + (this.$cb?20:0);this.Wd-=ab;this.Sb.Mw(this.Wd);Ia=this.Sb.offset;if(this.Flb)for(ab=Xa?this.Wd:ab;0 < ab;--ab){this.Sb.offset+=8;kb=this.Sb.fh();this.Sb.offset+=6 * kb;}else this.Sb.offset+=8 * (Xa?this.Wd:ab);Xa?this.Nn(this.length - (this.N.offset - this.startOffset),this.N.offset):this.Nn(this.N.offset - Ia,Ia);};A.od=!1;A.prototype=Object.create(H.prototype);A.prototype.constructor=A;A.prototype.parse=function(Ia){this.Bh();if(Ia && Ia.va){void 0 === Ia.va.cl && (Ia.va.cl=[]);for(var Xa=0;Xa < this.length - 12;Xa++){Ia.va.cl[Xa].oqc=this.N.Ed();}}return !0;};A.prototype.Ea=function(Ia,Xa,ab){ab?this.Nn(Xa - Ia,this.startOffset + 12 + Ia):this.Nn(Ia,this.startOffset + 12);return !0;};B.od=!1;B.prototype=Object.create(H.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Bh();this.N.jC();1 === this.version && this.N.bc();this.Br=this.N.bc();this.h0=[];for(var Ia=0;Ia < this.Br;++Ia){for(var Xa=this.N.bc(),ab=this.N.bc(),kb=0;kb < Xa;++kb){this.h0.push(ab);}}return !0;};B.prototype.Ea=function(Ia,Xa){this.h0=Xa?this.h0.slice(0,Ia):this.h0.slice(Ia);Ia=this.h0.reduce(function(ab,kb){0 !== ab.length && ab[ab.length - 1].group === kb || ab.push({group:kb,count:0});++ab[ab.length - 1].count;return ab;},[]);this.Sb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Sb.Mw(Ia.length);Ia.forEach((function(ab){this.Sb.Mw(ab.count);this.Sb.Mw(ab.group);}).bind(this));this.Br > Ia.length && this.Nn(8 * (this.Br - Ia.length));this.Br=Ia.length;return !0;};C.od=!1;C.prototype=Object.create(H.prototype);C.prototype.constructor=C;sa={ie:{moov:m,trak:c,mdia:c,mdhd:k,minf:c,encv:sa,schi:c,sidx:l,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:u,trun:mb,sbgp:B,sdtp:A,saiz:x,saio:y,tfdt:w,mdat:C,vmaf:d},cdc:{vpcC:v,SmDm:t("smdm"),CoLL:t("coll")},qkb:{schm:Q},GAa:{}};D([V,ba,J,M,a,P,qa,La,Oa,L,R,eb,ub,O,S,K,I,jb,mb],sa.ie);D([T,W,wa,Ba,Ga,N,U,fa,Qa,Ta],sa.GAa);D([V,Q],sa.qkb);sa.ie[b.GNa]=h;sa.ie[b.T3]=g;sa.ie[b.S3]=n;sa.ie[b.FNa]=z;sa.GAa[b.xia]=Wa;sa.$f=H;r.exports={sQ:sa};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=a(24);m=a(24);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){this.N.offset+=6;this.N.fh();m.R && this.N.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.mf)d.mf.$8b=this.type;return !0;};return l;})(r.$f);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(22);r.__exportStar(a(151),b);r.__exportStar(a(241),b);r.__exportStar(a(242),b);r.__exportStar(a(243),b);r=a(242);c=a(243);a=a(241);b.uO={3:a.bIa,4:r.iHa,5:c.Fpb};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(24);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){var f;this.jqb=this.N.fh();f=this.N.Ed();this.Tib=! !(f & 128);this.ISa=! !(f & 64);this.mNa=! !(f & 32);this.lbc=f & 31;this.yLb=this.Tib?this.N.fh():void 0;this.ISa && this.N.jda(this.N.Ed());this.Ksb=this.mNa?this.N.fh():void 0;m.R && this.N.console.trace("ESDescriptor: ES_ID=" + this.jqb + ", streamDependenceFlag=" + this.Tib + ", URL_Flag=" + this.ISa + ", OCRstreamFlag=" + this.mNa + ", streamPriority=" + this.lbc + ", dependsOn_ES_ID=" + this.yLb + ", OCR_ES_Id=" + this.Ksb);this.VVa(d);return !0;};l.tag=3;return l;})(a(151).Xga);b.bIa=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(24);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){var f;this.cca=this.N.Ed();f=this.N.Ed();this.sCa=f >>> 2;this.rDa=f >>> 1 & 1;this.doa=256 * this.N.fh() + this.N.Ed();this.maxBitrate=this.N.bc();this.p7=this.N.bc();m.R && this.N.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.cca.toString(16) + ", streamType=" + this.sCa + ", upStream=" + this.rDa + ", bufferSizeDB=" + this.doa + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.p7);if(null === d || void 0 === d?0:d.Tj)(d.Tj.cca=this.cca,d.Tj.sCa=this.sCa,d.Tj.rDa=this.rDa,d.Tj.doa=this.doa,d.Tj.maxBitrate=this.maxBitrate,d.Tj.p7=this.p7);this.VVa(d);return !0;};l.tag=4;return l;})(a(151).Xga);b.iHa=r;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(24);r=a(151);k=a(240);a=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.cfb=function(){var f;f=this.N.Fd(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.N.Fd(24);};d.prototype.parse=function(f,h){if(this.fXb(h) && 64 === h.cca){if(null === f || void 0 === f?0:f.Tj){h=this.N.R4a(this.length);for(var g=new ArrayBuffer(this.length),n=new Uint8Array(g),p=0;p < this.length;p++){n[p]=h.getUint8(p);}f.Tj.Kmc=g;}this.pr=this.Veb();this.Sda=this.cfb();this.Koa=this.N.Fd(4);this.NAa=this.gX=5 === this.pr || 29 === this.pr?5:-1;this.xza=29 === this.pr?1:-1;0 < this.gX && (this.nra=this.cfb(),this.pr=this.Veb(),22 === this.pr && (this.mra=this.N.Fd(4)));switch(this.pr){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.uX=this.N.Fd(1),this.Hpa=(this.xLb=this.N.Fd(1))?this.N.Fd(14):void 0,this.N.Fd(1),this.VI=3 === this.pr?256:23 === this.pr?this.uX?480:512:this.uX?960:1024);}m.R && this.N.console.trace("AudioSpecificConfig: audioObjectType=" + this.pr + ", samplingFrequency=" + this.Sda + ", channelConfiguration=" + this.Koa + ", extensionAudioObjectType=" + this.gX + ", sbrPresentFlag=" + this.NAa + ", psPresentFlag=" + this.xza + ", extensionSamplingFrequency=" + this.nra + ", extensionChannelConfiguration=" + this.mra + ", frameLengthFlag=" + this.uX + ", coreCoderDelay=" + this.Hpa + ", frameLength=" + this.VI);if(null === f || void 0 === f?0:f.Tj)(f.Tj.pr=this.pr,f.Tj.Sda=this.Sda,f.Tj.Koa=this.Koa,f.Tj.gX=this.gX,f.Tj.NAa=this.NAa,f.Tj.xza=this.xza,f.Tj.nra=this.nra,f.Tj.mra=this.mra,f.Tj.uX=this.uX,f.Tj.Hpa=this.Hpa,f.Tj.VI=this.VI);}this.skip();return !0;};d.prototype.Veb=function(){var f;f=this.N.Fd(5);31 === f && (f=32 + this.N.Fd(6));return f;};d.prototype.fXb=function(f){return f.tag === k.iHa.tag;};d.tag=5;return d;})(r.Xga);b.Fpb=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e2=void 0;r=(function(){function a(c){this.data=c;this.Vs=this.Nb=this.Ld=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Nb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.Ld){if(8 === c)return this.data[this.Nb++];if(16 === c)return (c=this.view.getUint16(this.Nb),this.Nb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Nb),this.Nb+=4,c);}for(;this.Ld < c;){this.Vs=(this.Vs << 8) + this.data[this.Nb++];this.Ld+=8;}this.Ld-=c;return this.Vs >>> this.Ld & (1 << c) - 1;};a.prototype.advance=function(c){var m;if(c <= this.Ld)this.Ld-=c;else {c-=this.Ld;m=Math.floor(c / 8);this.Nb+=m;this.Vs=this.data[this.Nb++];this.Ld=8 - (c - 8 * m);}};a.prototype.write=function(c,m){var k,l;m&=(1 << c) - 1;if(0 === this.Ld){if(8 === c){this.data[this.Nb++]=m;return;}if(16 === c){this.view.setUint16(this.Nb,m);this.Nb+=2;return;}if(32 === c){this.view.setUint32(this.Nb,m);this.Nb+=4;return;}}if(0 < this.Ld){k=Math.min(c,this.Ld);l=this.data[this.Nb - 1] & (~((1 << this.Ld) - 1) ^ (1 << this.Ld - k) - 1);this.data[this.Nb - 1]=l ^ (c >= k?m >>> c - k:m << this.Ld - k);this.Ld-=k;c-=k;}for(;8 <= c;){c-=8;this.data[this.Nb++]=m >>> c & 255;}0 < c && (this.Ld=8 - c,l=this.data[this.Nb] & (1 << this.Ld) - 1,this.Vs=this.data[this.Nb++]=l ^ (m & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.Ld && c <= 8 - this.Ld?this.Ld+=c:(0 !== this.Ld && (c-=8 - this.Ld,--this.Nb),this.Nb-=Math.floor(c / 8),this.Vs=this.data[this.Nb - 1],this.Ld=c % 8);};a.prototype.EEb=function(){0 !== this.Ld && (this.Ld=0);};return a;})();b.e2=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(392);m=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.assert=function(k,l){if(!k)throw new m(l || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var m;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,l){return k + l.byteLength;},0);m=new Uint8Array(c);a.reduce(function(k,l){m.set(new Uint8Array(l),k);return k + l.byteLength;},0);return m.buffer;};},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(394);m=a(238);k=a(395);r=(function(){function l(d,f,h){this.console=d;this.stream=f;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}l.prototype.parse=function(d){var f;f=new k.mHa(this.view.byteLength);this.ug=new c.uga(m.sQ.ie,f,this.view,this.console,{uya:!0});d=this.ug.parse(d);this.ie=this.ug.ie;return d;};return l;})();b.PG=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.kga=void 0;c=a(0);m=a(11);k=a(920);r=a(85);l=a(399);d=a(922);f=a(925);h=a(252);g=a(14);n=c.__importDefault(a(4));p=a(2);a(7);q=a(21);t=a(929);v=a(250);u=a(126);w=a(174);x=(function(){return function(y){var z;z=y.d9a;y=y.ava;this.rZ=this.replace=z;this.df=y;};})();a=(function(y){function z(A,B){var C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga;C=B.Rb;D=B.ja;F=B.xq;G=B.Dd;E=B.Hab;H=B.Ri;L=B.config;K=B.t7a;I=B.lR;R=B.x9;O=B.Vb;J=B.mi;M=B.LZ;P=B.P2a;B=B.YF;T=y.call(this) || this;T.L=A;T.oY=!1;T.PUa=[];T.hVa=[];T.Gi=[];T.sE=[];T.ko=!1;T.$bb=!1;T.Rb=C;T.LU=D;T.xq=F;T.pc=function(N){return 0 <= G.indexOf(N);};T.config=L;T.console=new n.default.Console("ASEJS","media|asejs","<" + String(T.L) + ">");K && (A=K.LE,T.og=new f.GJa(T,T.console,T.config,K.$o,K.bY,A,K.haa,K.Xf,K.xm,K.Oh,K.WE),T.LE=A);T.Nv=new m.EventEmitter();T.x9=R;T.Vb=O;T.LZ=M;T.Dn=new h.Vha(T.ja,O,J,T.config,null === P || void 0 === P?void 0:P.$o);P && (K=P.st,R=P.Vo,T.dr=P.Pf,T.Vo=R,T.st=K,T.$ka=new d.vIa(T.Dn,T.config,T.wUb.bind(T),T.vUb.bind(T)));T.lR=I;T.YF=B;T.Ef=new x(E);T.Ri=H;U=[[],[]];W=[{},{}];fa=[0,0];sa=!1;Ba=T.pc(0);Ga=T.pc(1);["audio_tracks","video_tracks"].forEach(function(N,Q){var V;V=0 === Q;V && !Ba || 1 === Q && !Ga || T.ja[N].forEach(function(ba,qa){if(0 !== ba.type || !1 !== ba.Wi)(qa=new l.FS({P:T,Nr:ba,mediaType:Q,df:E.ava,jG:qa,SD:qa + (V?T.ja.video_tracks.length:0)},T.config,T.console),1 === Q && L.GNb && new t.iFa(L).h6b(qa.bd),1 === Q && (wa=v.pM.from({gw:ba.Xwa,ov:ba.Wwa})),U[Q].push(qa),W[Q]=c.__assign(c.__assign({},W[Q]),qa.NE()),qa.maxBitrate > fa[qa.mediaType] && (fa[qa.mediaType]=qa.maxBitrate),sa=sa || qa.Ro);});});T.cI=T.ja.cI;if(null === (S=T.cI) || void 0 === S?0:S.Dg)(p.assert(wa,"Should have video track if there are adverts"),T.cI.Dg.forEach(function(N){N.rq=wa.normalize(N.rq);}));T.xM=U;T.qCa=W;T.It=fa;T.Ro=sa;return T;}c.__extends(z,y);Object.defineProperties(z.prototype,{ja:{get:function(){return this.LU;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Fc:{get:function(){var A,B;A=this.ja;B=A.WP;return "LIVE" === A.Zib && ! !B;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qZ:{get:function(){var A;return !(null === (A=this.xM[1][0]) || void 0 === A || !A.qZ);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Rh:{get:function(){return this.PUa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{w_b:{get:function(){return this.hVa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{I:{get:function(){return this.ja.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xo:{get:function(){return this.ja.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{duration:{get:function(){return this.ja.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Uk:{get:function(){return this.ko;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Cr:{get:function(){p.assert(this.$ka,"ErrorDirector is not available on old architecture prefetch viewables.");return this.$ka;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{RO:{get:function(){return this.Cr.events;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{chb:{get:function(){return this.ehb?n.default.time.ga() - this.ehb:n.default.time.now();},set:function(A){this.ehb=n.default.time.ga() - A;},enumerable:!1,configurable:!0}});z.prototype.lb=function(){this.close();this.Zc();};z.prototype.close=function(){var A;this.sE=[];null === (A=this.$ka) || void 0 === A?void 0:A.lb();this.Dn.lb();this.ko=!0;};z.prototype.Zc=function(){this.og && this.og.Zc();};z.prototype.cz=function(A){var B,C,D,F,G,E,H;B=this;C=A.ja;D=A.df;F=void 0 === D?!1:D;D=A.Dd;G=void 0 === D?g.Tf:D;p.assert(A.Ri === this.Ri,"Updating Viewable clearplay not supported");g.Tf.forEach(function(L){p.assert(B.pc(L) === 0 <= G.indexOf(L),"Updating Viewable media types not supported");});p.assert(C.movieId === this.ja.movieId,"Changing Viewable manifest movieId unsupported");E=this.pc(0);H=this.pc(1);["audio_tracks","video_tracks"].forEach(function(L,K){var I,R,O;I=0 === K;if(!(I && !E || 1 === K && !H)){R=C[L];O=B.xM[K];p.assert(O.every(function(J){var M;M=R[J.jG];return M && M.eS === J.trackId && (1 === M.type || !1 !== M.Wi);}),"Existing tracks must still exist and be hydrated in updated manifest");R.forEach(function(J,M){var P,S;if(0 !== J.type || !1 !== J.Wi){P=B.getTrackById(J.eS);if(P){J=J.streams;S=Object.keys(P.NE());p.assert(J.length === S.length,"Expected updated manifest track to have same number of streams");J.forEach(function(T){p.assert(-1 !== S.indexOf(T.downloadable_id),"Changing Viewable track streams unsupported");});}else (P=new l.FS({P:B,Nr:J,mediaType:K,df:F,jG:M,SD:M + (I?B.ja.video_tracks.length:0)},B.config,B.console),O.push(P),B.qCa[K]=c.__assign(c.__assign({},B.qCa[K]),P.NE()),P.maxBitrate > B.It[P.mediaType] && (B.It[P.mediaType]=P.maxBitrate),p.assert(B.Ro || !P.Ro,"Can not update clear viewable with drm track."));}});}});this.LU=C;this.Dn.AN(this.ja);};z.prototype.TF=function(A){var B,C,D;B=A.fp;C=A.da;D=A.wE;A=A.Zo;B && C?(this.nea=new k.uRa(B,{da:String(C),wE:! !D,N_b:this.config.Y3.mx,sEb:this.config.Y3.lv},A),this.Cr.TF(this.nea)):this.$bb || (A("SideChannel: pbcid/xid is missing."),this.$bb=!0);};z.prototype.jy=function(){return void 0 !== this.xo;};z.prototype.Mo=function(A,B){return w.Wsa(this.ja,A,B);};z.prototype.getTracks=function(A){return this.xM[A];};z.prototype.getTrackById=function(A){var B;this.xM.some(function(C){return C.some(function(D){if(D.trackId === A)return (B=D,!0);});});B || this.console.warn("getTrackById not found:",A,"length:",this.xM.length);return B;};z.prototype.YTb=function(A,B){var C;C=this.xM[A];if(0 > B || B >= C.length)this.console.warn("getTrackByIndex out of range:",B,"length:",C.length,"mediaType:",A);else return C[B];};z.prototype.cy=function(A,B){return (A=this.NE(A)) && A[B];};z.prototype.NE=function(A){return this.qCa[A];};z.prototype.Rdc=function(A,B){this.PUa[A]=B;B.stream.aa && this.Ykb(A,B.stream.aa);};z.prototype.VXb=function(A){var B,C;if(void 0 === A.ada || void 0 === A.mza){B=this.Dn.XB.filter(function(D){return void 0 !== D.streams[A.Pa];})[0];C=B.children.filter(function(D){return D.urls.some(function(F){return F.stream.id === A.Pa;});})[0];A.ada=B.id;A.mza=C.id;}return {zva:A.location === A.ada,WXb:A.Lc === A.mza};};z.prototype.ABa=function(A,B,C){void 0 !== B && void 0 !== C && (this.Qfb(A.mediaType,B),A.ABa(B,C));};z.prototype.Qfb=function(A,B){var C,D;D=this.config.yxa;("location" === D || "video_location" === D && 1 === A) && this.Vb.AR(B);null === (C=this.x9) || void 0 === C?void 0:C.call(this).E2b(A,B);};z.prototype.Pf=function(A,B,C,D,F,G){p.assert(this.dr,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.dr(A,B,C,D,F,G);};z.prototype.Fm=function(){var A,B,C;A=this;B=[];if(this.Uk)return (this.console.error("updateRequestUrls, closed Viewable:",this.L),!1);g.Tf.forEach(function(D){A.pc(D) && A.iec(D) && (D=A.Ydc(D),0 < D.length && B.push.apply(B,D));});C=this.Sdc();0 < C.length && B.push.apply(B,C);return this.y8b(B);};z.prototype.qn=function(A,B){var C;C=this.getTracks(1)[0];p.assert(C);if(C.DP)return C.qn(A,B);};z.prototype.iec=function(A){var B;B=this;return this.Uk?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.pc(A)?this.Gi.reduce(function(C,D){return q.b7(C,D.Qe.filter(function(F){return F.mediaType === A;}));},[]).map(function(C){return B.Dn.n1(B.L,C.bd);}).every(function(C){return C;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A),!1);};z.prototype.Sdc=function(){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");return this.og.Fm();};z.prototype.Ydc=function(A){var B,C,G;C=[];if(this.Uk)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),C);if(!this.pc(A))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A),C);try{for(var D=c.__values(this.Gi),F=D.next();!F.done;F=D.next()){G=F.value.Fm(A);G.length && C.push.apply(C,G);}}catch(H){var E;E={error:H};}finally{try{F && !F.done && (B=D.return) && B.call(D);}finally{if(E)throw E.error;}}return C;};z.prototype.y8b=function(A){var B,C,D;B=this;if(0 === A.length)return !0;C=0;D=[];A.forEach(function(F){var G;if(F.Ec){G=F.P;G.Rb > B.Rb && (D.push({P:G,track:F.stream.track}),++C);}});D.forEach(function(F){var G;G=F.track;F.P.yK([0 === G.mediaType?G:void 0,1 === G.mediaType?G:void 0],void 0,G.mediaType);});return C === A.length;};z.prototype.ek=function(){var A;A=this;this.Dn.ek();this.Cr.ek();this.nea && (p.assert(this.LE),g.Tf.forEach(function(B){B=A.LE(B);A.nea.fBa("rebuffer",B.Wva);}));};z.prototype.Vxa=function(){this.Cr.Vxa();};z.prototype.zDa=function(A,B){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");this.og.zDa(A,B);};z.prototype.x$=function(){p.assert(this.og,"Headers not available on old architecture prefetch viewables..");return this.og.x$();};z.prototype.dpa=function(){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");this.og.dpa();};z.prototype.yR=function(A){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");this.og.yR(A);};z.prototype.gDa=function(){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");return this.og.gDa();};z.prototype.hq=function(A,B){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");return this.og.hq(A,B);};z.prototype.i0a=function(A,B,C){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");this.og.cfa(A,B,C,!0);};z.prototype.K6=function(A,B,C){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");return this.og.K6(A,B,! !C);};z.prototype.g$b=function(A,B){this.sE.push({stream:A,OTb:B});};z.prototype.xfb=function(){this.sE=[];};z.prototype.K7b=function(A){this.sE=this.sE.filter(function(B){return B.stream !== A;});};z.prototype.J7b=function(A){this.sE=this.sE.filter(function(B){return B !== A;});};z.prototype.qP=function(){var A;A=this;p.assert(this.Vo,"Streamables not available on old architecture prefetch viewables.");return this.Vo()?[]:this.sE.map(function(B){var C,D;C=B.stream;D=B.OTb;D=D();return {identifier:C.L + "-" + C.mediaType + "-" + C.bitrate,mediaType:C.mediaType,Uh:D.Uh,yf:D.yf,bC:D.bC,hu:D.hu,ft:D.ft,jza:0,iza:Infinity,y_:1,sC:1,D3a:0,groupId:"" + A.L,fF:!0,zt:!1,o9a:function(){return {result:!0};},s9a:function(){if(C.kG())return (A.K7b(C),{sj:!0,reason:"success"});A.J7b(B);return {sj:!1,reason:"viewableTryIssueHeaderRequest"};}};});};z.prototype.kG=function(A,B){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");return this.og.kG(A,B);};z.prototype.wN=function(A,B){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");return this.og.wN(A,B);};z.prototype.yAa=function(A){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");return this.og.yAa(A);};z.prototype.yK=function(A,B,C){p.assert(this.og,"Headers not available on old architecture prefetch viewables.");return this.og.yK(A,B,C);};z.prototype.yUb=function(A){var B,C,D;B=A.Pa;C=A.mediaType;this.Fc || this.Ykb(C,A.stream.aa);B=this.cy(C,B);D=this.jy()?this.config.oab:0;B.Qkb(n.default.jq()[C],D);this.Nv.emit("onHeaderFragments",A);};z.prototype.Tza=function(A){this.Gi.push(A);};z.prototype.pDa=function(A){A=this.Gi.indexOf(A);p.assert(-1 !== A,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Gi.splice(A,1);};z.prototype.rca=function(A){var B;null === (B=this.lR) || void 0 === B?void 0:B.Xu(A);};z.prototype.$B=function(A){this.Uk?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",A):void 0 !== A.location && this.Qfb(A.mediaType,A.location);};z.prototype.bK=function(A){this.Uk?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",A):this.Cr.hfa({timestamp:A.Nf,url:A.url});};z.prototype.pm=function(A){var B;null === (B=this.lR) || void 0 === B?void 0:B.nC(A);p.assert(this.Vo && this.LZ,"Requests cannot be handled on old architecture prefetch viewables.");this.Uk?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",A):this.Vo() || (this.Cr.hfa({timestamp:A.Nf,mediaRequest:A}),this.LZ(A));};z.prototype.ZZ=function(A,B,C){var D;C && (null === (D=this.lR) || void 0 === D?void 0:D.nC(A));};z.prototype.$Z=function(A){this.Uk?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",A):(this.Cr.Vt({url:A.url},A.status,A.ah,A.vj),this.Fm() || this.Pf(A.WO || "unknown","NFErr_MC_StreamingFailure",A.ah,A.status,A.vj));};z.prototype.Ykb=function(A,B){this.hVa[A]=B.Pwa;};z.prototype.wUb=function(A){var B,C,D;if(!this.ko){B=A.EXb;C=A.o3b;D=A.q3b;A=A.r3b;this.console.warn("Streaming failure, is permanent: " + B + ", last error code: " + C + ", last http code: " + D + ", last native code: " + A);B?(this.console.warn(" > Permanent failure, done"),B=this.Pf("Permanent failure","NFErr_MC_StreamingFailure",C,D,A)):(this.console.warn(" > We are buffering, calling it!"),B=this.Pf("Temporary failure while buffering","NFErr_MC_StreamingFailure",A,D,A,!0));B || (this.console.warn(" > Resetting failures"),this.Cr.Eda());}};z.prototype.vUb=function(){p.assert(this.st,"Error handling not available on old architecture prefetch viewables.");this.ko || (this.Fm(),this.st());};return z=c.__decorate([u.XI],z);})(r.Ow);b.kga=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.UC=void 0;r=a(35);a=a(76);c=(function(){function m(k,l){this.fA=k;this.IM=l.Va;this.nx=l.hb;}Object.defineProperties(m.prototype,{Va:{get:function(){return void 0 !== this.IM?this.IM:this.fA.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hb:{get:function(){return void 0 !== this.nx?this.nx:this.fA.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{X:{get:function(){return this.fA.X;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Aj:{get:function(){return this.fA.Aj;},enumerable:!1,configurable:!0}});m.prototype.s0=function(k){this.nx=k;};m.prototype.cpa=function(){this.nx=void 0;};return m;})();b.UC=c;r.Re(a.tu,c);r.Re(a.lz,c);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pM=void 0;c=a(20);r=(function(){function m(k,l){this.GH=k;this.tH=l;this.e9b();}m.from=function(k){return "number" === typeof k?new m(k,1):new m(k.gw,k.ov);};m.bQb=function(k){return new m(k.X,k.bb);};Object.defineProperties(m.prototype,{gw:{get:function(){return this.GH;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ov:{get:function(){return this.tH;},enumerable:!1,configurable:!0}});m.prototype.la=function(){return new c.K(this.tH,this.GH);};m.prototype.equal=function(k){return this.GH === k.GH && this.tH === k.tH;};m.prototype.normalize=function(k){var l;l=1E3 * this.ov;return Math.floor(Math.floor((Math.floor(k + 1) * this.gw - 1) / l) * l / this.gw);};m.prototype.e9b=function(){var k,l,d;k=Math.floor(1E3 * this.GH / this.tH);l=Math.floor(1001 * this.GH / this.tH);d=1E3 * Math.round(k / 1E3);this.GH=d;this.tH=Math.abs(l - d) > Math.abs(k - d)?1E3:1001;};return m;})();b.pM=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DS=void 0;c=a(0);r=c.__importDefault(a(154));m=a(114);k=a(178);a=(function(l){function d(f,h,g,n,p,q,t){h=l.call(this,f,h,g,n,p,q,t) || this;k.Pw.ta(h,f,n);return h;}c.__extends(d,l);return d;})(m.b2);b.DS=a;r.default(k.Pw.prototype,a.prototype);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(928),b);},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.xga=b.ew=void 0;c=a(0);r=a(11);m=c.__importDefault(a(29));k=c.__importDefault(a(4));l=a(20);d=a(2);f=a(930);h=a(114);g=a(62);n=a(21);b.ew=function(p){return p.Aa(l.K.Ga(p.FK));};a=(function(p){function q(t,v,u,w,x,y,z,A,B){var C,D;D=p.call(this) || this;D.G=t;D.Tg=v;D.fg=u;D.zd=w;D.J=x;D.Hyb=y;D.O=z;D.fr=A;D.Oh=B;D.OWa=!1;D.aUa=!1;D.eV=!1;D.ml=D.G.error.bind(D.G);D.Ob=D.G.warn.bind(D.G);D.Nj=D.G.trace.bind(D.G);null === (C=w.events) || void 0 === C?void 0:C.addListener("ready",function(){D.jx();});D.Pab=new f.EMa(D.J,D.Tg,D.fg.Oc,D.G);D.reset();return D;}c.__extends(q,p);Object.defineProperties(q.prototype,{endOfStream:{get:function(){return this.sU;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tfc:{get:function(){return this.Wm.length;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tYb:{get:function(){return this.ol;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{njb:{get:function(){return ! !this.zd.QNb;},enumerable:!1,configurable:!0}});q.prototype.reset=function(t){var v,u,w;null === (v=this.wVa) || void 0 === v?void 0:v.lb();this.Bk=!1;t || (this.Wm=[]);this.ol=this.jla=this.zH=void 0;this.Tka=!1;this.AH=void 0;this.eV=this.sU=!1;this.qWa(l.K.Ia);null === (w=(u=this.zd).reset) || void 0 === w?void 0:w.call(u);this.Pab.reset();};q.prototype.L3a=function(){this.jla=!0;};q.prototype.pause=function(){this.Bk=!0;};q.prototype.resume=function(){this.Bk=!1;this.jx();};q.prototype.cB=function(){this.aUa=!0;this.Bk || this.jx();};q.prototype.VF=function(t){this.OWa=t;};q.prototype.Tsa=function(){var t;return null === (t=this.ol) || void 0 === t?void 0:t.ef;};q.prototype.nDb=function(t){var v;if(this.J.p2a){d.assert(t.Sa);v=t.Sa.Xa;d.assert(void 0 !== t.$c);d.assert(void 0 !== v.Jc);if(t.$c >= v.Jc)return;}this.Wm.push(t);this.jx();};q.prototype.Jw=function(){this.jx();};q.prototype.V_=function(t){t=this.Wm.indexOf(t);-1 !== t && this.Wm.splice(t,1);};q.prototype.ccb=function(t,v){this.J.tna && v && void 0 === this.ol && this.yTa(t,0);this.jx();};q.prototype.KZ=function(t,v){var u,w;u=this;void 0 === t && (t=!1);this.sU || (this.sU=!0,this.jx(),!t && this.njb) || (v && this.fr && this.J.qLb?(t=l.K.Ga(this.J.Njb),v=v.Aa(t),t=g.Dfa(this.fr,v,!0),v=t.Vn,t=t.promise,null === (w=this.wVa) || void 0 === w?void 0:w.lb(),this.wVa=v,t.then(function(){u.sU && u.zd.endOfStream();})):this.zd.endOfStream());};q.prototype.dea=function(){return JSON.stringify(this.Wm);};q.prototype.qWa=function(t){var v;null !== (v=this.DAb) && void 0 !== v && v.equal(t) || (this.DAb=t,this.zd.K$b(t.bb,t.X));};q.prototype.jx=function(){var t,v,u,w,x,y,z,A,B;w=this.J;if(this.Wm.length || this.ol && !this.ol.Ye)if(!this.zd || !1 === this.zd.ready)this.jN("@" + k.default.time.ga() + ", append: not appending, sourceBuffer not ready");else if(!this.ol || this.ol.Ye || this.ol.xt())if(this.ol && !this.ol.Ye || this.Wm.length)if(this.Bk){x=this.ol && !this.ol.Ye?this.ol:this.Wm[0];this.jN("@" + k.default.time.ga() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(x));}else if((!this.ol || this.ol.Ye || (this.WTa(this.ol),this.ol.Ye)) && this.Wm.length)if((x=this.Wm[0],x.aborted))(this.Ob("aborted MediaRequest should not appear in the toAppend list:",x.toString(),"complete:",x.complete),this.jN("@" + k.default.time.ga() + ", append: removing aborted request from toAppend: " + x.toString()),this.Wm.shift());else {y=x.stream;z=y.P;if(y.Hg)if((x.yv && !this.eV && (null === (v=(t=this.zd).Bib) || void 0 === v?void 0:v.call(t,{L:y.track.P.L,K8a:y.Xj}),this.eV=!0),this.Z$b(y,x.index)))(this.jla=!1,this.yTa(y,x.index));else if((t=this.O.Uo(z),y=this.XVb(y),t || y || !this.Tka && !w.Bfa))if((t=this.o6a(x),this.Tg !== m.default.cb.dc || !x.Wo && !x.ly || !x.Ea || w.AK || this.sU || 1 !== this.Wm.length || !(t > w.CZ) || null !== (u=x.KK) && void 0 !== u && u.taa)){if(w.p2a || w.nNb)if((u=x.Sa.Xa,v=this.MLb())){A=u.vl;B=x.Jc >= v;t=t > w.CZ;if(v < u.Jc && B && t && !A)return;}if(w.a4b && this.Oh && (w=this.Oh(z.Rb)) && !w.EV)this.pause();else {this.Tka || (this.Tka=y);this.Wm.shift();try{this.wvb(x);}catch(C){throw (this.G.error(C),C);}}}else this.p9b();}};q.prototype.p9b=function(){var t;t=this;this.fr && (this.Ava?this.Ava.VWb || this.Ava.cj():this.Ava=this.fr.UA(function(){return t.kYb();},"JIT Appender"));};q.prototype.kYb=function(){var t,v,u,w;return c.__generator(this,function(x){switch(x.label){case 0:if(1 !== this.Wm.length)return [3,3];t=this.Wm[0];if(!t.Wo && !t.ly || (null === (w=t.KK) || void 0 === w?0:w.taa))return [2];v=this.o6a(t);u=this.J.CZ;return v > u?[4,g.Ih.qG(l.K.Ga(v - u))]:[3,2];case 1:(x.ob(),x.label=2);case 2:return (this.jx(),[3,0]);case 3:return [2];}});};q.prototype.o6a=function(t){return t.rd - this.O.Le();};q.prototype.Z$b=function(t,v){if(this.jla || void 0 === this.zH || t.Pa !== this.zH.Pa)return !0;t=t.Hg;d.assert(t);return 1 < t.length?n.a7(t,function(u){return u.ye <= v;}) !== this.zH.Q8a:!1;};q.prototype.XVb=function(t){if(0 === t.mediaType || !t.Xj)return !0;if(void 0 === this.zH)return !1;if(!t.track.qZ)return !t.Xj;t=t.Hg;d.assert(t);return !1 === t[this.zH.Q8a].em;};q.prototype.MLb=function(){throw Error("not supported");};q.prototype.yTa=function(t,v){var u,w,x,y;if(!this.OWa || this.aUa){x=t.Hg.reduce(function(z,A,B){return A.ye <= v?B:z;},0);y=t.Hg[x];this.zH || (null === (w=(u=this.zd).Bib) || void 0 === w?void 0:w.call(u,{L:t.track.P.L,K8a:t.Xj}),this.eV=!0);if(this.zd.appendBuffer(y.data,{Ec:!0,profile:t.profile,bitrate:t.bitrate,Pa:t.id}))(this.jN("@" + k.default.time.ga() + ", header appended, streamId: " + t.Pa),this.zH={Pa:t.Pa,Q8a:x},this.Szb(t.P.Rb || 0,t.Pa,x),this.jx());else throw (this.Ob("appendHeader error: " + this.zd.error),this.jN("@" + k.default.time.ga() + ", appendHeader error: " + this.zd.error),Error("appendHeaderError"));}};q.prototype.wvb=function(t){var v,u,w,x,y,z;v=this;y=t.Aza || l.K.Ia;z=t.Sa.Xa.u;z.Ma && Infinity !== z.Ma && (y=new l.K(z.Ma,1E3).add(y).zi,Infinity === this.fg.duration || this.fg.duration < y) && (this.fg.duration=y);y=void 0 !== t.CC?l.K.Ga(t.CC).add(t.Aza):void 0;z=null === (u=this.Wm[0]) || void 0 === u?void 0:u.fd;u={endOfStream:this.endOfStream || !(null === (w=t.KK) || void 0 === w || !w.taa),iQ:y,zxa:z};y=this.Pab.append(t,u);w=y.Uj;z=y.Cl;u=y.response;y=y.offset;null === z || void 0 === z?void 0:z.forEach(function(A){return v.emit(A.type,A);});z=t.stream;z.Fc && (z=z.dJ().I5b,y=y.Aa(z),(null === (x=this.fg.Oc) || void 0 === x || !x.Obc) && Math.abs(y.bb) > Math.pow(2,31) && (y=y.wg(1)));this.qWa(y);w && (t.Wo || t.ly) && t.Uj();this.WTa(t,w,u);};q.prototype.WTa=function(t,v,u){var w,x,y,z;void 0 === v && (v=!1);z=v?{status:h.Hj.Tw,Vk:void 0}:t.eI(this.zd,this.fg.Oc,void 0,u);u=z.status;(z=z.Vk) && this.emit(z.type,z);switch(u){case h.Hj.ag:this.vvb(t);break;case h.Hj.Tw:(v || (this.ol=t,void 0 === this.AH || this.Tg !== m.default.cb.dc || t.fd.equal(this.AH) || (this.Nzb(t,this.AH),this.AH=void 0),this.jN("@" + k.default.time.ga() + ", request appended, type: " + t.mediaType + ", streamId: " + t.Pa + ", pts: " + t.rd + "-" + t.ef)),t.Wo || t.ly?(this.AH=v?t.fd:t.Kc,null === (x=(w=this.zd).QNb) || void 0 === x?void 0:x.call(w,t.KK),this.eV=!1,(null === (y=t.KK) || void 0 === y?0:y.taa) && this.Hyb && this.KZ(!1,this.AH)):this.AH=void 0,this.Tzb(t),this.jx());}};q.prototype.vvb=function(t){if(void 0 !== this.zd.error){if("done" === this.zd.error)return;this.ml("failure to append queued mediaRequest:",null === t || void 0 === t?void 0:t.toString(),"err:",JSON.stringify(this.zd.error));throw this.zd.error;}t=Error("failure to append queued mediaRequest: " + (null === t || void 0 === t?void 0:t.toString()) + " err: " + this.zd.error);this.ml(t.message);throw t;};q.prototype.Szb=function(t,v,u){t={type:"headerAppended",mediaType:this.Tg,manifestIndex:t,streamId:v,isIndex:u};this.emit(t.type,t);};q.prototype.Tzb=function(t){t={type:"requestAppended",mediaType:this.Tg,request:t};this.emit(t.type,t);};q.prototype.jN=function(t){t={type:"managerdebugevent",message:t};this.emit(t.type,t);};q.prototype.Nzb=function(t,v){var u;u=t.$c;t=t.fd.Aa(v).U;u={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[u,t]}}};this.emit(u.type,u);};return q;})(r.EventEmitter);b.xga=a;},function(r,b,a){var m;function c(k,l){return k < l?-1:k > l?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.P3=void 0;m=a(0);r=(function(){function k(l,d){this.data=null !== l && void 0 !== l?l:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(l=(this.length >> 1) - 1;0 <= l;l--){this.Vka(l);}}Object.defineProperties(k.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});k.prototype.push=function(l){this.data.push(l);this.IWa(this.length - 1);};k.prototype.pop=function(){var l,d;if(!this.empty){l=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Vka(0));return l;}};k.prototype.By=function(){return this.data[0];};k.prototype.map=function(l){return this.data.map(l);};k.prototype.find=function(l){return m.__read(this.data.filter(l),1)[0];};k.prototype.clear=function(){this.data=[];};k.prototype.remove=function(l){var d,f,h;d=this.data;l=d.indexOf(l);if(-1 !== l){f=d.pop();if(l < d.length){d[l]=f;h=l - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(f,d)?this.IWa(l):this.Vka(l);}}};k.prototype.EDb=function(){for(var l=this.data,d=1;d < l.length;d++){if(0 > this.compare(l[d],l[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + l);}};k.prototype.contains=function(l){return 0 <= this.data.indexOf(l);};k.prototype.IWa=function(l){for(var d=this.data,f=this.compare,h=d[l],g,n;0 < l;){g=l - 1 >> 1;n=d[g];if(0 <= f(h,n))break;d[l]=n;l=g;}d[l]=h;};k.prototype.Vka=function(l){for(var d=this.data,f=this.compare,h=this.length >> 1,g=d[l],n,p,q;l < h;){n=(l << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > f(d[p],q) && (n=p,q=d[p]);if(0 <= f(q,g))break;d[l]=q;l=n;}d[l]=g;};return k;})();b.P3=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rca=void 0;c=a(14);b.Rca=function(m){switch(m){case c.wa.sd:m=c.Mc.sd;break;case c.wa.bg:m=c.Mc.bg;break;case c.wa.jh:case c.wa.Kj:case c.wa.Cs:m=c.Mc.Kj;break;default:m=c.Mc.Lj;}return m;};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.YL=void 0;c=a(2);m=a(21);r=(function(){function k(l){var d;d=this;void 0 === l && (l=[]);this.items=l;l.forEach(function(f){return d.vDa(f);});}Object.defineProperties(k.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{A_:{get:function(){var l;return null !== (l=this.video) && void 0 !== l?l:this.audio;},enumerable:!1,configurable:!0}});k.prototype.get=function(l){return 1 === l?this.video:this.audio;};k.prototype.every=function(l){return this.items.every(l);};k.prototype.some=function(l){return this.items.some(l);};k.prototype.forEach=function(l){this.items.forEach(l);};k.prototype.find=function(l){return m.Vc(this.items,l);};k.prototype.reduce=function(l,d){return this.items.reduce(l,d);};k.prototype.filter=function(l){return new k(this.items.filter(l));};k.prototype.replace=function(l,d){var f;f=this.items.indexOf(l);c.assert(-1 < f);c.assert(l.mediaType === d.mediaType);this.items[f]=d;this.vDa(d);};k.prototype.a$b=function(l,d){(l=this.get(l))?this.replace(l,d):this.add(d);};k.prototype.add=function(l){this.items.push(l);this.vDa(l);};k.prototype.remove=function(l){var d;d=this.items.indexOf(l);if(-1 === d)return !1;this.items.splice(d,1);this.uGb(l.mediaType);return !0;};k.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};k.prototype.vDa=function(l){1 === l.mediaType?this.video=l:this.audio=l;};k.prototype.uGb=function(l){1 === l?this.video=void 0:this.audio=void 0;};return k;})();b.YL=r;},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Z1=void 0;c=a(0);a(2);r=a(35);m=c.__importDefault(a(29));k=c.__importDefault(a(4));l=a(258);d=a(75);f=a(114);h=k.default.zs;g=a(956);a=(function(n){function p(q,t,v,u,w,x,y,z){var z00,A;z00=2;for(;z00 !== 6;){switch(z00){case 3:void 0 === v.responseType && (v.responseType=v.Ea || h.Oc && !h.Oc.e0.UT?0:1);A=n.call(this,q,t,A,v,u,x,y) || this;d.jl.ta(A,q,v,z);return A;break;case 2:var q3j="e";q3j+="d";q3j+="it";var H3j="c";H3j+="a";H3j+="ch";H3j+="e";var s3j="1S";s3j+="IY";s3j+="b";s3j+="ZrNJC";s3j+="p9";A=this;s3j;A=[H3j,q3j].filter(function(B,C){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:return [w,v.Ea][C];break;}}});A=A.length?"(" + A.join(",") + ")":"";z00=3;break;}}}var y00;y00=2;for(;y00 !== 9;){switch(y00){case 2:c.__extends(p,n);p.create=function(q,t,v,u,w,x,y,z){var B00,A,B;B00=2;for(;B00 !== 11;){switch(B00){case 5:B00=u.dQ && u.ca > u.dQ?4:12;break;case 2:B00=!t.Ch && u.Ea && q.mediaType === m.default.cb.Jb && h.Oc && h.Oc.e0.UT?1:5;break;case 1:return new g.QEa(q,v,u,w,x,t,y,z);break;case 6:B00=0 < B?14:13;break;case 13:return w;break;case 4:A=Math.ceil(u.ca / u.dQ);x=u.offset;B=u.ca;w=new l.BL(q,u,w,t,y,z);B00=7;break;case 7:z=Math.ceil(u.ca / A);B00=6;break;case 12:return new p(q,v,u,w,x,t,y,z);break;case 14:var j3j="subr";j3j+="eq";j3j+="u";j3j+="e";j3j+="st";(A={offset:x,ca:Math.min(B,z),responseType:u.responseType},x+=A.ca,B-=A.ca,w.push(new f.b2(q,v,j3j,A,w,t,y)));B00=6;break;}}};p.prototype.toString=function(){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:var C3j="I";C3j+="D";C3j+=":";C3j+=" ";return C3j + this.Vi() + ":" + d.jl.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:return {ID:this.Vi(),request:d.jl.prototype.toJSON.call(this)};break;}}};return p;break;}}})(f.b2);b.Z1=a;r.Re(d.jl,a,!1);},function(r,b,a){var c,m,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.BL=void 0;c=a(0);m=a(2);r=a(35);k=a(7);l=a(21);d=a(407);f=a(75);h=a(114);a=(function(g){function n(p,q,t,v,u,w){t=g.call(this,p,q,t,v,u) || this;f.jl.ta(t,p,q,w);t.yd=0;t.Ye=!1;return t;}c.__extends(n,g);Object.defineProperties(n.prototype,{Ec:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.yd+=p.ca;g.prototype.push.call(this,p);};n.prototype.xt=function(){var p;return !this.Ye && ! !this.La.length && !(null === (p=l.Vc(this.La,function(q){return !q.Ye;})) || void 0 === p || !p.xt());};n.prototype.eI=function(p,q){var t,v;m.assert(!this.Ye);t=h.Hj.wsb;v=k.oy(this);this.Ye=this.La.every(function(u){if(u.Ye)return !0;if(!u.xt())return !1;t=u.eI(p,q,v).status;return t === h.Hj.Tw;});t !== h.Hj.Tw || this.Ye || (t=h.Hj.Psb);return {status:t};};n.prototype.D7b=function(){this.La.forEach(function(p){p.cR();});};n.prototype.Vi=function(){return this.La?this.La[0].Vi() + "-" + this.La[this.La.length - 1].Vi():"empty";};n.prototype.toString=function(){return "ID: " + this.Vi() + ":" + f.jl.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Vi(),request:g.prototype.toJSON.call(this)};};return n;})(d.aga);b.BL=a;r.Re(f.jl,a);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(962),b);},function(r,b,a){var c,m,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.i4=void 0;c=a(0);m=a(11);k=a(7);l=a(9);d=a(62);f=c.__importDefault(a(4));h=k.K.Ga(1E3);r=(function(){function g(n,p,q,t,v,u,w,x,y,z){var A,B;this.$Pb=n;this.m3b=p;this.EN=t;this.events=v;this.Ls=u;this.jkb=x;this.priority=y;this.El=[];this.console=k.oi(f.default,p,"PresentationTracker [" + this.$Pb + "] " + this.jkb + "]");this.xya=h.add(k.K.Ga(null !== (B=null === (A=u.ER) || void 0 === A?void 0:A.U) && void 0 !== B?B:0));this.listeners=new m.Gf();this.Tya=new m.Gf();this.dV=!z;this.$Jb(w);this.Ehb(q,w,t);}g.prototype.Ehb=function(n,p,q){var t;t=this;this.EN=q;this.listeners.clear();this.Tya.clear();this.Fa=n;this.Xd=p;this.Tya.on(n.O,"skipped",this.VZ.bind(this));this.listeners.on(q,"requestAppended",function(v){return t.Zv(v.request);});this.events=n.events;this.EO.FZa(p);this.G_.FZa(p);};g.prototype.$Jb=function(n){var p;p=this;this.EO=n.UA(function(){return p.YMb();},"Presentation Emit",this.priority);this.G_=n.UA(function(){return p.s6b();},"Presentation Prune");};g.prototype.VZ=function(){this.trace("skipped, scheduler clock " + this.Xd.za.currentTime.Zb());this.dV=!0;this.EO.cj();};g.prototype.YMb=function(){var n,p;return c.__generator(this,function(q){switch(q.label){case 0:(l.R && this.console.trace("Starting emit job"),this.pK=this.j1b(this.dV),n=this.Kbb(),q.label=1);case 1:if(!n)return [3,3];this.trace("queuing task for " + n.Hw + (" at player time " + n.timestamp.Zb()) + (" scheduler clock is " + this.Xd.za.currentTime.Zb()));return [4,d.Ih.Lw(n.timestamp)];case 2:q.ob();this.trace("executing task for " + n.Hw + (" at player time " + n.timestamp.Zb()) + (" scheduler clock is " + this.Xd.za.currentTime.Zb()));p=this.dV?this.Fa.me:null === n || void 0 === n?void 0:n.timestamp;this.dV=!1;try{this.Mqa(n,p);}catch(t){this.console.error("Error in " + this.jkb + " emit, continuing",t);}this.pK++;n=this.Kbb();p=null === n || void 0 === n?void 0:n.timestamp;return [3,1];case 3:return (l.R && this.console.trace("Ending emit job"),[2]);}});};g.prototype.Kbb=function(){if(void 0 !== this.pK)return this.El[this.pK];};g.prototype.j1b=function(n){var p,q,v;void 0 === n && (n=!1);for(var t=n?0:null !== (p=this.pK) && void 0 !== p?p:0;t < this.El.length;t++){p=this.El[t];v=k.K.Ga(null !== (q=this.Ls.Uya) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.Fa.me.add(v)))return n && 0 < t?t - 1:t;}return Math.max(this.El.length - 1,0);};g.prototype.s6b=function(){var n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.El.length))return [3,2];n=c.__read(this.El,2);p=n[1];this.trace("queuing pruning task for " + p.Hw + (" at player time " + this.xya.add(p.timestamp).Zb()) + (" scheduler clock is " + this.Xd.za.currentTime.Zb()));return [4,d.Ih.Lw(this.xya.add(p.timestamp))];case 1:return (q.ob(),this.trace("executing pruning task for " + p.Hw + (" at player time " + this.xya.add(p.timestamp).Zb()) + (" scheduler clock is " + this.Xd.za.currentTime.Zb())),this.El.shift(),this.pK && this.pK--,[3,0]);case 2:return [2];}});};g.prototype.Qs=function(n,p,q){this.Ehb(n,p,q);};g.prototype.reset=function(){this.El=[];l.R && this.trace("reset");this.dV=!0;this.RP=void 0;this.pK=0;this.G_.cj();this.EO.cj();};g.prototype.close=function(){l.R && this.trace("close()");this.Tya.clear();this.EO.lb();this.G_.lb();this.listeners.clear();this.El=[];};g.prototype.Wg=function(n){var p;l.R && this.trace("canSkip() " + n);if(0 === this.El.length)return (l.R && this.trace("canSkip false, no media sequence"),!1);p=this.El[0];return p.timestamp.greaterThan(n)?(l.R && this.trace("canSkip false, before earliest item at " + p.timestamp),!1):void 0 === this.RP || this.RP.lessThan(n)?(l.R && this.trace("canSkip false, later than last appended at " + this.RP),!1):!0;};g.prototype.trace=function(n){l.R && this.console.trace(n);};g.prototype.Zma=function(n,p,q){q && (this.RP=q);q=this.El.length?this.El[this.El.length - 1]:void 0;return void 0 !== q && this.u9a(q.Hw,n)?!1:(this.El.push({Hw:n,timestamp:p}),this.EO.state === d.fo.complete && this.EO.cj(),this.G_.state === d.fo.complete && this.G_.cj(),!0);};g.prototype.u9a=function(n,p){var q;return n === p || (null === (q=n.O2a) || void 0 === q?void 0:q.call(n,p));};g.prototype.IGb=function(n){n.El=c.__spread(this.El);n.RP=this.RP;};return g;})();b.i4=r;},function(r,b,a){var l,d;function c(){}function m(f,h){this.cn=f;void 0 !== h?(d(h <= f.Pn,"require remain_sec <= chunk.sec but has " + h + " and " + f.Pn),this.Nl=h):this.Nl=f.Pn;}function k(f){var h;void 0 === f && (f=[]);this.Tt=[];this.Yh=this.Dm=0;try{for(var g=l.__values(f),n=g.next();!n.done;n=g.next()){this.add(n.value,void 0);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (h=g.return) && h.call(g);}finally{if(p)throw p.error;}}}l=a(0);d=a(2).assert;c.prototype=Error();m.prototype.constructor=m;m.prototype.hi=function(){return new m(this.cn,this.Nl);};k.prototype.constructor=k;k.prototype.add=function(f,h){f=new m(f,h);this.Tt.push(f);this.Yh+=f.Nl;this.Dm+=f.cn.rB() * f.Nl;};k.prototype.hi=function(){var f,h,p;h=new k(void 0);try{for(var g=l.__values(this.Tt),n=g.next();!n.done;n=g.next()){p=n.value;h.add(p.cn,p.Nl);}}catch(t){var q;q={error:t};}finally{try{n && !n.done && (f=g.return) && f.call(g);}finally{if(q)throw q.error;}}return h;};k.prototype.Jv=function(){try{return this.Tt[0];}catch(f){}};k.prototype.Jdb=function(f){var h;for(d(0 <= f,"unexpected play_for_x_sec: x=" + f);0 < f;){if(void 0 === this.Jv())throw new c();if(f < this.Jv().Nl){h=this.Jv().cn.rB() * f;this.Jv().Nl-=f;this.Yh-=f;this.Dm-=h;f=0;}else (h=this.Tt.shift(),this.Yh-=h.Nl,this.Dm-=h.cn.rB() * h.Nl,f-=h.Nl);}};k.prototype.F4b=function(f){var g;d(0 <= f,"unexpected play_y_kb: y=" + f);for(var h=0;0 < f;){if(void 0 === this.Jv())throw new c();if(f < this.Jv().Nl * this.Jv().cn.rB()){g=f / this.Jv().cn.rB();this.Jv().Nl-=g;this.Yh-=g;this.Dm-=f;h+=g;f=0;}else (g=this.Tt.shift(),this.Yh-=g.Nl,this.Dm-=g.cn.rB() * g.Nl,h+=g.Nl,f-=g.cn.rB() * g.Nl);}return h;};r.exports={PFa:k,cob:c};},function(r){r.exports={MLa:{code:-1,description:"MediaCache is not supported."},fkc:{code:100,description:"Resource was not found"},Trb:{code:101,description:"Resource Metadata was not found"},hM:{code:102,description:"Read failed",rs:function(b,a){return {code:this.code,description:b,cause:a};}},P4:{code:200,description:"Daily write limit exceeded"},DL:{code:201,description:"Capacity has been exceeded"},O4:{code:202,description:"Write failed, cause unknown",rs:function(b,a){return {code:this.code,description:b,cause:a};}},elc:{code:203,description:"Write failed, cause unknown"},Zob:{code:300,description:"Failed to delete resource",rs:function(b,a){return {code:this.code,description:b,cause:a};}},eD:{code:900,description:"Invalid partition name"},rrb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},VGa:{code:701,description:"Failed to initialize underlying disk cache."},Srb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={S6a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var m;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(k){c.error && c.error.code == k.error.code && c.error.description === k.error.description && (m=k);});m?m.resources.push(c.cs):a.push({error:c.error,resources:[c.cs]});});return a;}},M4a:function(b){var a;a={freeSize:b.Ko,dailyBytesRemaining:b.pO,bytesWritten:b.sl,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.Gl,itemBytes:c.yaa,error:c.error};}));return a;},Ky:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gJ=void 0;c=a(0).__importDefault(a(4));m=a(1018);b.gJ=function(){var l;if(!k){l=new c.default.Console("ASEJS","media|asejs");k=new m.DEa(l);}return k;};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.z4=void 0;r=a(11);c=a(35);m=a(20);a=(function(){function k(l){void 0 === l && (l={Zj:!1,currentTime:m.K.Ia,speed:1});this.Pc={Zj:function(){return "function" === typeof l.Zj?l.Zj():l.Zj;},currentTime:function(){return "function" === typeof l.currentTime?l.currentTime():l.currentTime;},speed:function(){return "function" === typeof l.speed?l.speed():l.speed;}};}Object.defineProperties(k.prototype,{Zj:{get:function(){return this.Pc.Zj();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.Pc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){return this.Pc.speed();},enumerable:!1,configurable:!0}});return k;})();b.z4=a;c.Re(r.EventEmitter,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wgb=b.H5a=b.map=void 0;c=a(0);a(1057);b.map=function(m){return function(k,l){void 0 === l && (l=!1);return function(d,f,h){var g,n,p,q,t,v,u,w;t=Reflect.Z5a(m,d,f) || ({});u="number" === typeof h;w=l;(v=u?null !== (n=(null !== (g=t.Eb) && void 0 !== g?g:{})[h]) && void 0 !== n?n:{}:w?t.return:t.gxa) || (v={rules:[]});g=c.__assign(c.__assign(c.__assign({},v),k),{rules:c.__spread(null !== (p=v.rules) && void 0 !== p?p:[],null !== (q=k.rules) && void 0 !== q?q:[])});u?(t.Eb || (t.Eb={}),t.Eb[h]=g):w?t.return=g:t.gxa=g;Reflect.p8(m,t,d,f);};};};b.H5a=function(m){return function(k,l){var d,f,h,g;k=null !== (g=null !== (f=null === (d=k.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== f?f:null === (h=null === k || void 0 === k?void 0:k.constructor) || void 0 === h?void 0:h.prototype) && void 0 !== g?g:k;for(var n;k && void 0 === n;){n=Reflect.Z5a(m,k,l);k=k.__proto__;}return n;};};b.wgb=function(){return function(){return function(m){return m;};};};},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.TS=void 0;c=a(0);m=a(11);k=a(2);l=a(21);d=a(9);f=0;r=(function(h){function g(n,p,q,t,v,u,w,x){p=h.call(this,"cdnList" + f++,p,q,t,v,u,w,"cdnList",x) || this;p.Fg=n;p.ta();return p;}c.__extends(g,h);g.prototype.ta=function(){var n;n=this;this.hN=new m.Gf();this.hN.on(this.Fa.O,"skipped",function(p){n.ACa(null === p || void 0 === p?void 0:p.Upc);});this.hN.on(this.Fa.O,"paused",function(){n.ACa();});this.hN.on(this.Fa.O,"playing",function(){n.wD=void 0;});this.hN.on(this.Fa.O,"underflow",function(){n.ACa();});};g.prototype.Qs=function(n,p,q){this.hN.clear();h.prototype.Qs.call(this,n,p,q);this.ta();};g.prototype.close=function(){d.R && this.console.trace("close");h.prototype.close.call(this);this.hN.clear();};g.prototype.ACa=function(n){var p;if(this.wD && (n || this.Fa.Ae) && this.cA && (n || (n=this.Fa.me),this.wD.greaterThan(n))){p=this.wD.Aa(n);this.cA.totalTime-=p.U;this.wD=n;}};g.prototype.aCa=function(n){var p,q,t;if(this.K5 && this.cA && this.wD){t=this.cA.totalTime;this.wD.rj(n) && (n=this.wD.Aa(n),t-=n.U);t=c.__assign(c.__assign({},this.Fg),(p={},p[this.K5]=c.__assign(c.__assign({},this.Fg[this.K5]),{aB:c.__assign(c.__assign({},this.Fg[this.K5].aB),(q={},q[this.cA.Yb]=c.__assign(c.__assign({},this.cA),{totalTime:t}),q))}),p));d.R && this.console.trace("getting snapshot",{ymc:this.Fg,result:t});return t;}return this.Fg;};g.prototype.Zv=function(n){var p,q,t;p=n.stream;q=n.fd;t=n.Kc;k.assert(void 0 !== q);d.R && this.console.trace("Media appended",{fd:q,Kc:t});this.Zma({request:n,mlb:p.url,O2a:function(v){return this.request === v.request;}},q,t);};g.prototype.Jsa=function(n){var p,q,t,v;n=n.Hw;t=n.mlb;n=n.request.stream;v=n.Dl;k.assert(v,"manifestStram should exist)");v=null === (p=l.Vc(v.urls,function(u){return u.url === t;})) || void 0 === p?void 0:p.wo;p=null === (q=n.P.ja.aO) || void 0 === q?void 0:q.fp;return v + "::" + p;};g.prototype.Mqa=function(n,p){var q,t,v,u,w,x,y,z,A;w=this.Fg;x=n.Hw;y=x.request;z=x.mlb;x=y.duration;y.fd && p.greaterThan(y.fd) && (p=p.Aa(y.fd).U,x-=p);p=y.stream;A=p.Dl;A && (A=null === (q=l.Vc(A.urls,function(B){return B.url === z;})) || void 0 === q?void 0:q.wo,q=null === (t=p.P.ja.aO) || void 0 === t?void 0:t.fp,t=p.track.I,n=this.Jsa(n),w=w[n] || (w[n]={Kx:A,fp:q,I:t,aB:{}}),this.K5=n,this.cA=(v=w.aB)[u=p.Dl.Fo] || (v[u]={bitrate:p.bitrate,Yb:p.Dl.Fo,mediaType:y.mediaType,totalTime:0,kb:p.kb}),this.wD=y.Kc,this.cA.totalTime+=x);};g.prototype.clone=function(n,p){p=void 0 === p?{}:p;n=new (p.ejb || g)(n,this.m3b,this.Fa,this.EN,this.events,this.Ls,this.Xd,p.priority);this.IGb(n);d.R && n.console.trace("Cloning",{Llc:n.El.length});return n;};return g;})(a(260).i4);b.TS=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Via="PboPlaydataFactorySymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var k,l,d,f;function c(h,g,n){for(var p=n.next();!p.done;){if((g=h["@@transducer/step"](g,p.value)) && g["@@transducer/reduced"]){g=g["@@transducer/value"];break;}p=n.next();}return h["@@transducer/result"](g);}function m(h,g,n,p){return h["@@transducer/result"](n[p](d(h["@@transducer/step"],h),g));}k=a(1126);l=a(1128);d=a(1129);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(h,g,n){"function" === typeof h && (h=l(h));if(k(n)){for(var p=0,q=n.length;p < q;){if((g=h["@@transducer/step"](g,n[p])) && g["@@transducer/reduced"]){g=g["@@transducer/value"];break;}p+=1;}return h["@@transducer/result"](g);}if("function" === typeof n["fantasy-land/reduce"])return m(h,g,n,"fantasy-land/reduce");if(null != n[f])return c(h,g,n[f]());if("function" === typeof n.next)return c(h,g,n);if("function" === typeof n.reduce)return m(h,g,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,m){return a.apply(this,arguments);};case 3:return function(c,m,k){return a.apply(this,arguments);};case 4:return function(c,m,k,l){return a.apply(this,arguments);};case 5:return function(c,m,k,l,d){return a.apply(this,arguments);};case 6:return function(c,m,k,l,d,f){return a.apply(this,arguments);};case 7:return function(c,m,k,l,d,f,h){return a.apply(this,arguments);};case 8:return function(c,m,k,l,d,f,h,g){return a.apply(this,arguments);};case 9:return function(c,m,k,l,d,f,h,g,n){return a.apply(this,arguments);};case 10:return function(c,m,k,l,d,f,h,g,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kja="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mia="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wha="HLSConfigSymbol";},function(r,b,a){var m,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.B2=void 0;m=a(42);k=a(120);c.et=function(){var l;l={};return (l[m.H.AG]="avc1.4D401E",l[m.H.BG]="avc1.4D401F",l[m.H.qha]="avc1.4D4028",l[m.H.aJa]="avc1.4D401E",l[m.H.bJa]="avc1.4D401F",l[m.H.cJa]="avc1.4D4028",l[m.H.sha]="hev1.2.6.L90.B0",l[m.H.tha]="hev1.2.6.L93.B0",l[m.H.uha]="hev1.2.6.L120.B0",l[m.H.vha]="hev1.2.6.L123.B0",l[m.H.l3]="hev1.2.6.L90.B0",l[m.H.o3]="hev1.2.6.L93.B0",l[m.H.r3]="hev1.2.6.L120.B0",l[m.H.u3]="hev1.2.6.L123.B0",l[m.H.fT]="hev1.2.6.L150.B0",l[m.H.gT]="hev1.2.6.L153.B0",l[m.H.m3]="hev1.2.6.L90.B0",l[m.H.p3]="hev1.2.6.L93.B0",l[m.H.s3]="hev1.2.6.L120.B0",l[m.H.v3]="hev1.2.6.L123.B0",l[m.H.x3]="hev1.2.6.L150.B0",l[m.H.z3]="hev1.2.6.L153.B0",l[m.H.k3]="hev1.2.6.L90.B0",l[m.H.n3]="hev1.2.6.L93.B0",l[m.H.q3]="hev1.2.6.L120.B0",l[m.H.t3]="hev1.2.6.L123.B0",l[m.H.w3]="hev1.2.6.L150.B0",l[m.H.y3]="hev1.2.6.L153.B0",l[m.H.S2]="hev1.2.6.L90.B0",l[m.H.V2]="hev1.2.6.L93.B0",l[m.H.eT]="hev1.2.6.L120.B0",l[m.H.a3]="hev1.2.6.L123.B0",l[m.H.d3]="hev1.2.6.L150.B0",l[m.H.g3]="hev1.2.6.L153.B0",l[m.H.T2]="hev1.2.6.L90.B0",l[m.H.W2]="hev1.2.6.L93.B0",l[m.H.Y2]="hev1.2.6.L120.B0",l[m.H.b3]="hev1.2.6.L123.B0",l[m.H.e3]="hev1.2.6.L150.B0",l[m.H.h3]="hev1.2.6.L153.B0",l[m.H.R2]="hev1.2.6.L90.B0",l[m.H.U2]="hev1.2.6.L93.B0",l[m.H.X2]="hev1.2.6.L120.B0",l[m.H.Z2]="hev1.2.6.L123.B0",l[m.H.c3]="hev1.2.6.L150.B0",l[m.H.f3]="hev1.2.6.L153.B0",l[m.H.o2]=k.Od.Lga,l[m.H.q2]=k.Od.$Ga,l[m.H.YS]=k.Od.Mga,l[m.H.t2]=k.Od.Nga,l[m.H.v2]=k.Od.Oga,l[m.H.x2]=k.Od.Pga,l[m.H.Qga]=k.Od.Mga,l[m.H.Rga]=k.Od.Nga,l[m.H.Sga]=k.Od.Oga,l[m.H.Tga]=k.Od.Pga,l[m.H.p2]=k.Od.Lga,l[m.H.r2]=k.Od.$Ga,l[m.H.s2]=k.Od.Mga,l[m.H.u2]=k.Od.Nga,l[m.H.w2]=k.Od.Oga,l[m.H.y2]=k.Od.Pga,l[m.H.ZIa]="avc1.640016",l[m.H.M2]="avc1.64001E",l[m.H.O2]="avc1.64001F",l[m.H.oha]="avc1.640028",l[m.H.$Ia]="avc1.640016",l[m.H.N2]="avc1.64001E",l[m.H.P2]="avc1.64001F",l[m.H.pha]="avc1.640028",l[m.H.gka]=k.Od.$T,l[m.H.J4]=k.Od.$T,l[m.H.K4]=k.Od.$T,l[m.H.L4]=k.Od.$T,l[m.H.jEa]=k.Od.Tl,l[m.H.kEa]=k.Od.Tl,l[m.H.QC]=k.Od.Tl,l[m.H.RC]=k.Od.Tl,l[m.H.R1]=k.Od.Tl,l[m.H.S1]=k.Od.Tl,l[m.H.T1]=k.Od.Tl,l[m.H.U1]=k.Od.Tl,l);};b.B2=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yc=void 0;r=b.Yc || (b.Yc={});r.eEb="bitraterestriction";r.BZa="cdnsel";r.dO="chgstrm";r.debug="debug";r.gMb="dlreport";r.LI="endplay";r.Vua="intrplay";r.rF="midplay";r.Mca="playbackaborted";r.Lfb="renderstrmswitch";r.hR="repos";r.nR="resumeplay";r.U9b="serversel";r.ZF="startplay";r.Kib="statechanged";r.transition="transition";r.$Aa="segmentdropped";r.YCb="asereport";r.qYa="audioswitch";r.NYa="blockedautoplay";r.config="config";r.wqa="dlreq";r.Enc="ftlProbeError";r.Hbc="subtitleerror";r.Ibc="subtitleqoe";r.Dcc="timedtextrebuffer";r.Wjb="timedtextswitch";r.xib="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NKa="IsTypeSupportedProviderFactorySymbol";b.UOa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var m,k,l;function c(){this.type=m.Qw.Gz;}Object.defineProperty(b,"__esModule",{value:!0});b.gD=void 0;m=a(26);r=a(122);k=a(93);l=new r.dH();c.CJb=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return nb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?nb.MSMediaKeys.isTypeSupported(k.Bb.Kz,d):"probably" === c.FCa(f[0],f[1]);}catch(h){return !1;}}};};c.V7=function(d,f,h){f=l.format(c.ffa,f);if(0 === h.length)return f;h=l.format('features="{0}"',h.join());return l.format("{0}|{1}{2}",d,f,h);};c.FCa=function(d,f){var h;try{h=nb.MSMediaKeys.isTypeSupportedWithFeatures?nb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(g){h="exception";}return h;};b.gD=c;c.ffa='video/mp4;codecs="{0},mp4a";';},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sf=void 0;b.Sf=a;a.qJa=/^hevc-main/;a.pJa=/^hevc-hdr-|hevc-dv/;a.OL=/^hevc-hdr-/;a.Uw=/^hevc-dv/;a.L2=/h264mpl/;a.AG=/h264mpl30/;a.BG=/h264mpl31/;a.SC=/h264hpl/;a.sD=/^vp9-/;a.Tl=/^av1-/;a.oqb=/[l|L]4[0-1]-/;a.oM=/-L5[0-1]-/;a.Nfa=/^heaac-2-/;a.Eqb=/^heaac-2hq-dash/;a.Qz=/^xheaac-dash/;a.Gob=/ddplus-2/;a.Hob=/ddplus-5/;a.Iob=/ddplus-atmos/;},function(r,b){function a(c,m){var k;k=this;this.status={};c.forEach(function(l,d){k.status[l]=m[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.j4=void 0;a.prototype.oP=function(){return this.status;};a.prototype.h$=function(){return Object.entries(this.status).filter(function(c){c=na(c);c.next();return c.next().value.supported;}).map(function(c){var m;c=na(c);m=c.next().value;c.next();return m;});};b.j4=a;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t){var v;v=l.xG.call(this,n,p,m.eo.TSa,t) || this;v.config=n;v.dk=p;v.is=q;v.kba=t;v.type=m.Om.qz;v.jfc=d.Od.D0a();return v;}Object.defineProperty(b,"__esModule",{value:!0});b.YC=void 0;m=a(26);k=a(42);l=a(478);r=a(122);d=a(120);f=a(275);h=a(103);g=a(280);new r.dH();ka(c,l.xG);c.prototype.fL=function(){return Promise.resolve(!1);};c.prototype.bJ=function(){return Promise.resolve("");};c.prototype.L9=function(){return Promise.resolve("");};c.prototype.N0=function(){return this.config().Pqa?this.kba.bva()?this.kba.jX(k.H.eT).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.Kea=function(){return this.config().Pqa?this.kba.bva()?this.kba.jX(k.H.YS).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.O0=function(){return Promise.resolve(!1);};c.prototype.L0=function(){return Promise.resolve(!1);};c.prototype.CX=function(n){return this.jfc[n];};c.prototype.Uma=function(){};c.prototype.d_b=function(n){switch(n){case m.Nq.K3:return "1.4";case m.Nq.JG:return "2.2";}};c.prototype.et=function(){return f.B2.et();};c.prototype.l6a=function(){return (0,h.Ikb)(function(n,p){return n.name === p.name;},this.config().vXa,this.config().$n);};c.prototype.YX=function(){return Promise.resolve(void 0);};c.prototype.a$=function(){return Promise.resolve(void 0);};c.prototype.U7=function(n){var p;p=[];this.is.Zg(n) && p.push(this.d_b(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:! !p.length}];};c.prototype.kX=function(n){return this.config().C3b?Promise.resolve(new g.j4(n,n.map(function(){return {supported:!0};}))):l.xG.prototype.kX.call(this,n);};b.YC=c;c.ffa="video/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jha=b.zz=void 0;r=b.zz || (b.zz={});r.Wub="unknown";r.lEa="absent";r.jQa="present";r.Error="error";b.jha="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WJa="IDBDatabaseFactorySymbol";b.BKa="IndexedDBFactorySymbol";b.DKa="IndexedDBStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I4="TransportConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VZb=b.aQ=b.TZb=void 0;b.TZb=function(a){return a;};b.aQ=function(a){return a;};b.VZb=function(a){return Object.assign({},a);};},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u;function c(w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S){this.j=w;this.trackId=x;this.iy=y;this.$b=z;this.Wi=A;this.gkb=B;this.Yb=C;this.pv=D;this.xqa=F;this.xf=G;this.displayName=E;this.Bi=H;this.dL=L;this.variant=K;this.PF=I;this.profile=R;this.aw=O;this.yQ=J;this.PPb=M;this.paa=P;this.Mv=S;this.type=d.jj.Tea;this.ou=void 0;this.Bl=!(!R || R != h.Mm.ZL);this.yh={bcp47:G,trackId:x,downloadableId:C,isImageBased:this.Bl};this.log=(0,f.Ui)(w,"TimedTextTrack");this.state=u.W3;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.eH=void 0;m=a(0);k=a(104);l=a(18);d=a(89);f=a(8);h=a(42);g=a(23);n=a(15);p=a(1206);q=a(16);t=a(3);v=a(1207);(function(w){w[w.W3=0]="NOT_LOADED";w[w.LOADING=1]="LOADING";w[w.IG=2]="LOADED";w[w.pT=3]="LOAD_FAILED";})(u || (u={}));c.prototype.T$=function(){var w;w=this;if(this.j.state.value === q.ac.CLOSED || this.j.state.value === q.ac.CLOSING)return Promise.reject({ea:!1});if(this.Bl)return this.CWb();this.S1a || (this.S1a=this.U1a());return this.S1a.then(function(x){return w.FWb(x);});};c.prototype.getState=function(){return this.state;};c.prototype.Kr=function(){return this.yQ;};c.prototype.pq=function(){return this.PPb;};c.prototype.Gv=function(w,x){var y;try{return null === (y=this.zCa) || void 0 === y?void 0:y.Gv(w,x);}catch(z){this.log.error("error in getSubtitlesCount",z,{start:w,end:x,isImageBased:this.Bl});}};c.prototype.ITb=function(){var w,x,y;if(!(0,n.pd)(this.ba))try{y=null === (x=null === (w=this.zCa) || void 0 === w?void 0:w.fP(0)) || void 0 === x?void 0:x[0];this.ba=null === y || void 0 === y?void 0:y.displayTime;}catch(z){this.log.error("exception in getStartPts",z);}return this.ba;};c.prototype.lea=function(w){return this.j.state.value === q.ac.CLOSING || this.j.state.value === q.ac.CLOSED?(this.log.info("playback is closing, abort timed text retry",w),!1):this.j.jc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",w),!1):!0;};c.prototype.z0a=function(w){var x,y,z;x=this;y=(0,f.Ui)(this.j,"TimedTextTrack");y.warn=y.trace.bind(y);y.info=y.debug.bind(y);y=(0,p.A0a)(this.j,y,this.request,this);z=new v.default(y,w);z.on("ready",function(){x.zCa=z;});return z;};c.prototype.CWb=function(){var w,x,y,z,A,B,C;w=this;if(!this.k8a){this.state=u.LOADING;x={profile:"nflx-cmisc",url:"",xYa:!1,ixa:this.aw.offset,Zab:this.aw.length,Nd:this.j.mediaTime.value || 0,bufferSize:l.config.UVb,Yda:{M:this.j.BX()}};y=(this.xqa || []).filter(function(D){return (D.id in w.pv);}).sort(function(D,F){return D.$b - F.$b;}).map(function(D){return D.id;});z=0;A={};B=!0;C=function(D,F){var G;if((0,n.pd)(D)){if(B || w.lea(w.Ev(w.mv,"","image"))){B=!1;w.aw.url=w.pv[w.mv];x.url=w.aw.url;A[D]=(A[D] || 0) + 1;G=w.z0a(x);G.on("ready",function(){F({ea:!0,track:w});});G.on("error",function(E){var H;E=Object.assign({ea:!1},E);H=w.Ev(w.mv,w.aw.url,"image");H.details={midxoffset:w.aw.offset,midxsize:w.aw.length};H.errorstring=E.errorString;A[D] <= l.config.Ujb?(w.e9(H,!0,"retry with current cdn"),w.Rna(A[D]).then(function(L){w.log.trace("retry timed text download after " + L,w.Ev(w.mv,"","image"));C(w.mv,F);})):(w.mv=y[z++],w.mv?(w.e9(H,!0,"retry with next cdn"),w.Rna(A[D]).then(function(L){w.log.trace("retry timed text download after " + L,w.Ev(w.mv,"","image"));C(w.mv,F);})):(w.e9(H,!1,"all cdns tried"),F({ea:!1,T0b:"all cdns failed for image subs",track:w})));});G.start();}else F({ea:!1,aborted:!0});}else (F({ea:!1,T0b:"cdnId is not defined for image subs downloadUrl"}),w.e9(w.Ev(0,"","image"),!1,"cdnId is undefined"));};this.mv=y[z++];this.k8a=new Promise(function(D,F){C(w.mv,function(G){G.ea?(w.log.info("Loaded image subtitle manager"),w.state=u.IG,D(G)):(w.log.error("Unable to load image subtitles manager",G),w.state=u.pT,F(G));});});}return this.k8a;};c.prototype.FWb=function(w){var x,y;x=this;y=this.j.nG.value;(0,g.Wa)(y);return new Promise(function(z,A){var B;B=x.z0a({profile:x.profile,xml:w,sh:l.config.Vjb,preferences:l.config.SCa,Nd:x.j.mediaTime.value || 0,xYa:!1,videoSize:y});B.on("ready",function(){z(B);}).on("error",function(C){A({ea:!1,error:C});}).start();}).then(function(){x.state=u.IG;return {ea:!0,track:x};}).catch(function(z){x.log.error("Unable to parse timed text track",(0,t.yz)(z),x.yh,{url:z.url});x.state=u.pT;z.reason="parseerror";z.track=x;throw z;});};c.prototype.e9=function(w,x,y){w=Object.assign({},w,{Grc:x,status:y});this.j.fireEvent(q.ia.RR,w);this.log.warn("subtitleerror event",w);};c.prototype.request=function(w,x){var y,z,A;y=this;this.log.trace("Downloading",w);A=this.ssa(this.mv);w={url:w.url,offset:w.offset,length:w.size,ou:this.ou,responseType:k.rY,headers:{},vc:A,uE:"tt-" + this.xf,du:null !== (z=null === A || void 0 === A?void 0:A.type) && void 0 !== z?z:"unknown"};this.j.J$.download(w,function(B){y.log.trace("imgsub: request status " + B.ea);B.ea?x(null,new Uint8Array(B.content)):x({xa:B.xa,Kf:B.Kf});});};c.prototype.Ev=function(w,x,y){return {currentCdnId:w,url:x,profile:this.profile,dlid:this.Yb,subtitletype:y,bcp47:this.xf,trackId:this.trackId,cdnCount:Object.keys(this.pv).length,isImageBased:this.Bl};};c.prototype.ssa=function(w){return (this.xqa || []).find(function(x){return x.id === w;});};c.prototype.U1a=function(){var z,A;function w(B){return m.__awaiter(z,void 0,void 0,function D(){var F,G,E;G=this;return Fa(D,function(H){F=y();E=G.Ev(B.vc.id,B.url,"text");E.errorstring=B.reason;return F && G.lea(E)?H.return(G.Rna(A[F.id]).then(x)):H.return(Promise.reject({ea:!1,aborted:!0}));});});}function x(){return m.__awaiter(z,void 0,void 0,function C(){var D,F,G;F=this;return Fa(C,function(E){G=(D=y()) && F.pv[D.id];return D && G?(A[D.id]=(A[D.id] || 0) + 1,E.return(F.pMb(G,D).catch(w))):E.return(Promise.reject({}));});});}function y(){return (z.xqa || []).find(function(B){return ! !((A[B.id] || 0) < l.config.Ujb && z.pv[B.id]);});}z=this;this.state=u.LOADING;A={};return x();};c.prototype.Rna=function(w){return new Promise(function(x){var y;y=1E3 * Math.min(Math.pow(2,w - 1),8);setTimeout(function(){return x(y);},y);});};c.prototype.pMb=function(w,x){var y;y=this;this.log.trace("Downloading",x && ({vc:x.id}),this.Ev(x.id,w,"text"));return new Promise(function(z,A){var B;B={responseType:k.nua,url:w,track:y,vc:x,uE:"tt-" + y.xf,du:x.type};y.j.J$.download(B,function(C){C.ea?z(C.content):(C=Object.assign(Object.assign({},C),{reason:"downloadfailed",url:B.url,track:y,vc:x}),A(C));});});};Ua.Object.defineProperties(c.prototype,{Wf:{configurable:!0,enumerable:!0,get:function(){return this.gkb.Wf;}},FF:{configurable:!0,enumerable:!0,get:function(){return this.gkb.FF;}}});b.eH=c;c.pD=u;},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},ota:function(){return this.buffer.length - this.position;},kC:function(){return this.buffer[this.position++];},Yk:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Xr:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Iza:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Vh:function(){return this.Xr(2);},Yr:function(){return this.Xr(4);},$Q:function(){return this.Xr(8);},Ny:function(a){for(var c,m="";a--;){c=this.kC();m+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return m;},Jza:function(a){for(var c=0,m=0;m < a;m++){c+=this.kC() << (m << 3);}return c;},ZQ:function(){return this.Jza(4);},H1:function(a){this.uS(a,2);},PC:function(a){this.uS(a,4);},Ifa:function(a){this.buffer[this.position++]=a;},uS:function(a,c){this.position+=c;for(var m=1;m <= c;m++){this.buffer[this.position - m]=a & 255;a=Math.floor(a / 256);}},OC:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},G1:function(a){for(var c=a.length,m=0;m < c;m++){this.buffer[this.position++]=a[m];}},tS:function(a,c){this.G1(a.Yk(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xLa="LogMessageRulerConfigSymbol";b.zLa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sia="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tia="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,f,h,g,n,p;function c(q,t,v,u){this.za=q;this.hY=t;this.Da=v;this.profile=u;}function m(){}function k(){}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.DOa=b.f4=void 0;r=a(0);d=a(1);f=a(30);h=a(5);g=a(12);n=a(19);a=a(78);l.prototype.encode=function(q){return {downloadableId:q.Yb,duration:q.duration};};l.prototype.decode=function(q){return {Yb:q.downloadableId,duration:q.duration};};k.prototype.encode=function(q){return {total:q.total,totalContentTime:q.oL,totalAdDuration:q.hG,totalCombinedDuration:q.$R,totalOtherDuration:q.iG,audio:q.audio.map(new l().encode),video:q.video.map(new l().encode),text:q.text.map(new l().encode)};};k.prototype.decode=function(q){var t;return {total:q.total,oL:null !== (t=q.totalContentTime) && void 0 !== t?t:q.total,hG:q.totalAdDuration,$R:q.totalCombinedDuration,iG:q.totalOtherDuration,audio:q.audio.map(new l().decode),video:q.video.map(new l().decode),text:q.text.map(new l().decode)};};m.prototype.encode=function(q){return {type:q.type,href:q.href,xid:q.da,movieId:q.I,position:q.position,clientTime:q.MA,sessionStartTime:q.Rn,videoTrackId:q.qS,audioTrackId:q.vo,timedTextTrackId:q.YR,mediaId:q.fQ,playTimes:new k().encode(q.Nt),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Qn,profileId:q.profileId};};m.prototype.decode=function(q){return {type:q.type,href:q.href,da:q.xid,I:q.movieId,position:q.position,MA:q.clientTime,Rn:q.sessionStartTime,qS:q.videoTrackId,vo:q.audioTrackId,YR:q.timedTextTrackId,fQ:q.mediaId,Nt:new k().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Qn:q.sessionParams,profileId:q.profileId};};b.f4=m;c.prototype.create=function(q){var t,v,u,w,x;x=Object.assign(Object.assign({},null !== (t=q.fb.Qn) && void 0 !== t?t:{}),{uiVersion:this.hY().Ar.az});return {href:q.ja && q.ja.tj?q.ja.tj.iP("events").href:"",type:"online",da:q.da.toString(),I:q.I,position:Math.floor(q.b8 || 0),MA:this.za.NK.fa(h.ma),Rn:q.CB?q.CB.fa(h.ma):-1,qS:null === (v=q.Ng.value) || void 0 === v?void 0:v.trackId,vo:null === (u=q.yc.value) || void 0 === u?void 0:u.trackId,YR:null === (w=q.jc.value) || void 0 === w?void 0:w.trackId,fQ:void 0,Nt:this.ZX(q),trackId:void 0 !== q.gl?q.gl.toString():"",sessionId:this.hY().sessionId || this.Da.id,appId:this.hY().appId || this.Da.id,Qn:x,profileId:this.profile};};c.prototype.load=function(q){return new m().decode(q);};c.prototype.kta=function(q){return q.map(function(t){return {Yb:t.downloadableId,duration:t.duration};});};c.prototype.ZX=function(q){return (q=q.qm)?(q=q.XSb(),{total:q.total,oL:q.totalContentTime,hG:q.totalAdDuration,iG:q.totalOtherDuration,$R:q.totalCombinedDuration,audio:this.kta(q.audio),video:this.kta(q.video),text:this.kta(q.timedtext)}):{total:0,oL:0,hG:0,$R:0,iG:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.Y)(),r.__param(0,(0,d.l)(f.Eh)),r.__param(1,(0,d.l)(g.Nc)),r.__param(2,(0,d.l)(n.cd)),r.__param(3,(0,d.l)(a.gM))],p);b.DOa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JOa="PboPlaydataValidatorSymbol";b.AOa="PboPlaydataArrayValidatorSymbol";b.COa="PboPlaydataCollectionValidatorSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.$ha=void 0;b.$ha=a;a.bpb="display";a.sob="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rja=b.fM=void 0;r=b.fM || (b.fM={});r.jcc="taskstart";r.hcc="taskabort";r.icc="taskfail";r.kcc="tasksuccess";b.rja="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fga="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ea="AsePrefetcherAdapterSymbol";b.aFa="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wia="PboPublisherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ega=b.he=void 0;r=b.he || (b.he={});r[r.Bq=0]="startPlayback";r[r.aq=1]="endPlayback";r[r.op=2]="underflow";b.ega="AseIntegrationFactorySymbol";},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.bL=void 0;c=a(17);m=a(18);k=a(65);l=a(59);d=a(3);f=a(23);h=a(8);g=a(25);n=a(13);p=a(300);q=a(15);r=a(36);h.Ba.get(r.hj).register(d.W.jKa,function(t){var w,x,y;function v(){var z;v=c.dx;z=setInterval(u,m.config.wZb);k.kf.addListener(k.Qo,function(A){A && A.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):((0,g.$g)(x,function(B,C){localStorage.removeItem(C.Ft);}),clearInterval(z));},c.bM);}function u(){var z;z=(0,l.ipa)();(0,g.$g)(x,function(A,B){!1;A=localStorage.getItem(B.Ft);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.Ft,JSON.stringify(A));});}(0,f.Wa)(p.storage);w=(0,h.Vj)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.bL={Dx:function(z,A,B){var D,F,G,E,H,L,K,I,R,O;function C(J){localStorage.setItem(G,JSON.stringify(J));J={Ft:G};x[G]=J;w.trace("Lock acquired",{Name:J.Ft});v();A({ea:!0,Saa:J});}D=this;B=void 0 === B?!1:B;if(localStorage){F=(0,l.ipa)();G="lock-" + z;E={updated:F,sessionId:y,count:1};try{if((G in localStorage)){H=localStorage.getItem(G);L=0;K=JSON.parse(H);(0,q.gF)(K.updated) && (L=K.updated);I=(0,n.O3)(F - L) * c.yu;R=y === K.sessionId;if(I < m.config.u$a){if(R)(K.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:y,count:K.count}),K.updated=F,C(K));else if(B){O=m.config.u$a - I + c.yu;w.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:K.count,Epoch:F,LockEpoch:L,waitTimeoutMs:O});nb.setTimeout(function(){return D.Dx(z,A,!1);},O);}else A({ea:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:L}),C(E));}else C(E);}catch(J){w.error("Error acquiring Lock",{errorSubCode:d.T.Im,errorDetails:(0,g.cf)(J)});A({ea:!0});}}else (n.dwa?w.error("Local storage access exception",{errorSubCode:d.T.xub,errorDetails:(0,g.cf)(n.dwa)}):w.error("No localstorage",{errorSubCode:d.T.yub}),A({ea:!0}));},release:function(z,A){var B,C;(0,f.Wa)(x[z.Ft] == z);if(localStorage){try{B=localStorage.getItem(z.Ft);C=JSON.parse(B);C && 1 < C.count?(--C.count,localStorage.setItem(z.Ft,JSON.stringify(C)),w.trace("Lock count decremented",{Name:z.Ft,count:C.count})):(localStorage.removeItem(z.Ft),delete x[z.Ft],w.trace("Lock released",{Name:z.Ft}));}catch(D){w.error("Unable to release Lock",{Name:z.Ft},D);}A && A(c.Pg);}}};m.config.I8?b.bL.Dx("session",function(z){b.bL.jhb=z;t(c.Pg);}):t(c.Pg);});},function(r,b,a){var c,m,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(18);m=a(17);k=a(552);r=a(3);l=a(553);d=a(555);f=a(8);a=a(36);b.storage=b.storage || void 0;f.Ba.get(a.hj).register(r.W.iKa,function(h){var g;switch(c.config.gbc){case "idb":g=l.Nib;break;case "none":g=k.Pib;break;case "ls":g=d.Oib;}g(function(n){n.ea?(b.storage=n.storage,h(m.Pg)):h(n);});});},function(r,b,a){var k,l,d,f,h,g,n,p,q,t,v,u;function c(w,x){var z;function y(){function A(B,C){return C.Me && 0 !== C.Me.length && C.Me[0].HJ?(0,k.mC)(w,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return B?B.Q_(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({cc:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.Q_(C):Promise.resolve());}m(z).then(function(B){var C;C=B.C8.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");x(l.Pg);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);x(l.Pg);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(l.Pg);});}z=(0,g.Vj)("PlayDataManager");x=x || l.dx;d.config.pu?x(l.Pg):y();}function m(w){var x;if(!b.Aqa){x=g.Ba.get(n.Gga);b.Aqa=new Promise(function(y,z){x.Yeb().then(function(){y(x);}).catch(function(A){w.error("Unable to load DRM data for license release",A);z(A);});});}return b.Aqa;}Object.defineProperty(b,"__esModule",{value:!0});b.WOa=b.VOa=b.Aqa=void 0;k=a(302);l=a(17);d=a(18);f=a(65);h=a(48);g=a(8);r=a(3);n=a(213);p=a(159);q=a(16);t=a(50);v=a(36);u=a(209);b.VOa=function(w){var z,A,B,C,D,F;function x(){A || (w.Ne("pdsb"),A=g.Ba.get(p.LT)().then(function(G){C=G;w.Ne("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);w.Ne("pdse");throw G;}));return A;}function y(){B=!0;C && C.close();f.kf.removeListener(f.Qo,y);}z=(0,g.Ui)(w,"PlayDataManager");B=!1;D=g.Ba.get(h.h4);if(!D.LL || !D.JL){F=g.Ba.get(u.bja)();D.LL=F.cc;D.JL=F.request;}w.Ne("pdctor");w.addEventListener(q.ia.Xg,function(){f.kf.removeListener(f.Qo,y);});w.addEventListener(q.ia.bZ,function(){var G;if(!d.config.pu && w.bf){G=w.P7.e0a();m(z).then(function(E){return E.aXa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});w.addEventListener(q.ia.Xg,function(){var G;if(!B){w.pfc();G=[(function(){return d.config.pu || !w.bf?Promise.resolve():new Promise(function(E){var H;z.info("Sending the expedited playdata");H=w.P7.e0a();w.bf.X2a(H).then(function(){z.info("Sent the expedited playdata");return m(z);}).then(function(L){return L?L.Q_(H):Promise.resolve();}).then(function(){E(void 0);}).catch(function(L){z.error("Unable to send the expedited playdata",L);E();});});})(),(function(){return x().then(function(E){return E.I0(w.ka);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){g.Ba.get(t.bo).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){w.aca();}).catch(function(){w.aca();});}});f.kf.addListener(f.Qo,y);return {};};b.WOa=function(){return new Promise(function(w){c({},function(x){w(x);});});};g.Ba.get(v.hj).register(r.W.dD,function(w){w(l.Pg);});},function(r,b,a){var k,l,d,f,h,g,n,p;function c(q){this.j=q;this.e$a=!1;this.log=(0,l.Ui)(this.j,"Playback");this.VP=l.Ba.get(n.qT);(0,d.Wa)(k.config);k.config.pu || (this.zMb=l.Ba.get(f.GHa));}function m(q,t){var u;function v(w){return w && 0 < w.length && w[0].HJ;}u=l.Ba.get(n.qT);return q.da && v(q.Me)?u.release({da:q.da,Me:q.Me}).then(function(){}):t.da && v(t.Me)?u.release(t).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.mC=b.MGa=void 0;k=a(18);l=a(8);d=a(23);f=a(331);h=a(60);g=a(15);n=a(194);p=a(16);c.prototype.cJ=function(q){var t;t=this;return new Promise(function(v,u){var w,x,y;w=h.wp.V_a(q.rg);x=q.Ik.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,l.DA)(z.data)};});y=t.j.ZSb(q.Ik[0].sessionId);t.VP.Dx({zh:y.zh,rg:g.is.qo(q.rg)?q.rg:w,B8:[y.dm],Ik:x,da:y.da,Go:q.Go,tj:y.ja.tj}).then(function(z){t.j.Me=z.Me;v(z);t.rPb(y);}).catch(u);});};c.prototype.release=function(q){return m(this.j,q);};c.prototype.e0a=function(){var q;q=this.zMb.create();q.Me=this.j.Me;q.da=this.j.da;q.I=this.j.I;return q;};c.prototype.rPb=function(q){this.e$a || (this.e$a=!0,this.j.fireEvent(p.ia.bZ,{I:q.I}));};b.MGa=c;b.mC=m;},function(r,b,a){var k,l,d,f,h,g,n,p,q,t,v,u;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function m(w,x,y,z){var A,B;A=this;this.j=w;this.type=x;this.log=z;this.H5=new f.Xb(!1);this.qH={data:[],state:"",operation:""};this.mimeType=this.$2a((this.type === k.Pb.cb.Jb?this.j.Ng.value:this.j.yc.value).streams);this.nl=new h.sk();this.Ila={Type:this.type};if(d.config.lF){B=!0;this.Lra=new f.Xb(!1);}this.log.trace("Adding source buffer",this.Ila,{TypeId:this.mimeType});this.zd=y.addSourceBuffer(this.mimeType);this.zd.addEventListener("updatestart",function(){!1;A.qH.state="updatestart";});this.zd.addEventListener("update",function(){!1;A.qH.state="update";});this.zd.addEventListener("updateend",function(){var C;!1;A.H5.set(!1);A.HTa && A.HTa();A.qH.state="updateend";C=0;try{C=A.zd.buffered.length;}catch(D){}B && C && (B=!1,A.Lra.set(!0),!1);});this.zd.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(F){}w.Sd(n.W.ytb,(0,l.N9)(A.type));});this.zd.addEventListener("abort",function(){!1;});w.addEventListener(t.ia.closed,function(){A.zd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Bob=b.pia=void 0;k=a(28);l=a(173);d=a(18);f=a(70);h=a(72);g=a(8);a(101);n=a(3);a(5);p=a(23);q=a(15);t=a(16);v=a(161);u=a(199);m.prototype.ji=function(){return this.H5.value;};m.prototype.updating=function(){return this.zd?this.zd.updating:!1;};m.prototype.gea=function(w){this.HTa=w;};m.prototype.ysa=function(){return this.qH;};m.prototype.buffered=function(){return this.zd.buffered;};m.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};m.prototype.toJSON=function(){return {type:this.type};};m.prototype.D9=function(){var w,x,y,z,A,B,C;try{w=this.zd.buffered;x=0;if(w){y=[];z=0;A=w.length;for(z=0;z < A;z++){B=w.start(z);C=w.end(z);x+=C - B;(0,p.Wa)(C > B);y.push(B + "-" + C);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(D){}};m.prototype.PXa=function(w,x){!1;try{(0,p.Wa)(this.zd.buffered && 1 >= this.zd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.D9()));}catch(y){}(0,p.Wa)(!this.ji());this.Whb("append",w);x=x && x.tw / 1E3;(0,q.Ka)(x) && this.zd.timestampOffset !== x && (!1,this.zd.timestampOffset=x);this.zd.appendBuffer(w);!1;this.H5.set(!0);};m.prototype.remove=function(w,x){(0,p.Wa)(!this.ji());try{this.Whb("remove");!1;this.zd.remove(w,x);this.H5.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.Ila);}};m.prototype.Whb=function(w,x){this.qH.data=x || [];this.qH.state="init";this.qH.operation=w;};m.prototype.K$b=function(w,x){this.HYb=Math.floor(w / x * 1E3);};m.prototype.GFb=function(w){var x;if(this.zd){if((w=this.$2a([{type:this.nHb,Af:w}]),w !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.zd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.zd.changeType(w);this.mimeType=w;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.Ila,{From:x,To:w}),new c(y.message));}}}else this.log.info("No SourceBuffer");};m.prototype.appendBuffer=function(w,x){!x || x.Ec?this.una(w,x):this.X6(w,x);return !0;};m.prototype.una=function(w,x){this.j.Ff.una(this,w,x || ({}));};m.prototype.X6=function(w,x){w=this.iHb(w,x);!1;this.j.Ff.X6(w);};m.prototype.iHb=function(w,x){var y;y=this.HYb || 0;return {qGb:function(){this.response=void 0;},Vi:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:u.xc.Sc.DONE,iC:x.ba,Ly:x.ba + x.duration,ln:x.duration,tw:y,Lk:x.Lk,V:x.V,Pa:x.Pa,Fe:+x.Fe,location:x.location,VN:x.offset,TN:x.offset + x.ca - 1,bitrate:x.bitrate,response:w,e7a:w && 0 < w.byteLength,dF:!0,get Ec() {return !this.dF;},Ogb:this.xk - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.V,isHeader:this.Ec,ptsStart:this.iC,ptsOffset:this.tw,responseType:this.xlc,duration:this.ln,readystate:this.ei};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};m.prototype.endOfStream=function(){var w;this.j.$H("EndOfStream");null === (w=this.j.Ff) || void 0 === w?void 0:w.KZ(this.mediaType);};m.prototype.Bib=function(w){this.tAb=w;};m.prototype.addEventListener=function(w,x,y){this.nl.addListener(w,x,y);};m.prototype.removeEventListener=function(w,x){this.nl.removeListener(w,x);};m.prototype.$2a=function(w){var x;x=g.Ba.get(v.VT);return this.type === k.Pb.cb.Jb?x.Z7(w):x.T7(w);};Ua.Object.defineProperties(m.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Cib:{configurable:!0,enumerable:!0,get:function(){return this.tAb;}},nHb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.pia=m;ka(c,Error);b.Bob=c;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.I0a=b.ywa=void 0;c=a(23);m=a(25);k=a(15);(function(){var d,f,h;function l(g){(0,c.Wa)(void 0 !== d[g]);return d[g];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;h=/[", ]/;b.I0a=function(g){return (0,k.pd)(g)?(0,k.Ka)(g)?g:(0,k.qg)(g)?g.replace(f,l):(0,k.E8a)(g)?g:isNaN(g)?"NaN":"":"";};b.ywa=function(g){var n,p;n=b.I0a;p="";(0,m.$g)(g,function(q,t){q=n(q) + "=" + n(t);h.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uk=void 0;r=b.uk || (b.uk={});r[r.wib=1]="sourceopen";r[r.yr=2]="currentTimeChanged";r[r.k0=3]="seeked";r[r.d$a=5]="licenseadded";r[r.uib=6]="sourceBuffersAdded";r[r.lca=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.inb={Glc:"adStart",WWa:"adProgress",Elc:"adComplete"};b.nEa={I6:"adBreakComplete"};b.rEa="AdImpressionLoggerrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yfa="AdEventPboCommandSymbol";b.Xfa="AdBreakEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oja="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qja="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var m,k;function c(l,d){var f;f=this;this.yj=l;this.Ah=d;this.addEventListener=function(h,g,n){return f.Ah.addListener(h,f.b1a(h,g),n);};this.removeEventListener=function(h,g){return f.Ah.removeListener(h,f.b1a(h,g));};this.getReady=function(){return f.Ah.isReady();};this.getXid=function(){return f.Gb().Iv();};this.getMovieId=function(){return f.Gb().S5a();};this.getPlaygraphId=function(){return f.Ah.aTb();};this.getElement=function(){return f.Ah.Lo();};this.isPlaying=function(){return f.Gb().Lr();};this.isPaused=function(){return f.Gb().KY();};this.isMuted=function(){return f.Gb().hva();};this.isReady=function(){return f.Gb().isReady();};this.isBackground=function(){return f.Gb().D8a();};this.setBackground=function(h){return f.Gb().qBa(h);};this.startInactivityMonitor=function(){return f.Gb().LR();};this.setTransitionTime=function(h){return f.Gb().GBa(h);};this.getDiagnostics=function(){return f.Gb().U4a();};this.getTextTrackList=function(h){return f.Gb().Hta(h);};this.getMaxRecommendedTextIndex=function(h){return f.Gb().Vsa(h);};this.getTextTrack=function(){return f.Gb().Gta();};this.setTextTrack=function(h){return f.Gb().CBa(h);};this.getVolume=function(){return f.Gb().P6a();};this.isEnded=function(){return f.Gb().Zua();};this.getBusy=function(){return f.Gb().ji();};this.getError=function(){return f.Gb().getError();};this.getCurrentTime=function(){return f.Gb().Fv();};this.getAdManager=function(){return f.Gb().gq();};this.getLivePlaybackManager=function(){var h;h=f.Gb().F5a();(0,k.Wa)(h,"Unexpected call to getLivePlaybackManager()");return {seekToLiveEdge:function(){return h.Ngb();},isAtLiveEdge:function(){return h.B8a();},getLiveEventState:function(g){return h.lSb(g);}};};this.getBufferedTime=function(){return f.Gb().z4a();};this.getSegmentTime=function(){return f.Gb().H9();};this.getDuration=function(){return f.Gb().wsa();};this.getVideoSize=function(){return f.Gb().N6a();};this.getAudioTrackList=function(){return f.Gb().q4a();};this.getMaxRecommendedAudioIndex=function(){return f.Gb().M5a();};this.getAudioTrack=function(){return f.Gb().p4a();};this.getTimedTextTrackList=function(h){return f.Gb().Hta(h);};this.getMaxRecommendedTimedTextIndex=function(h){return f.Gb().Vsa(h);};this.getTimedTextTrack=function(){return f.Gb().Gta();};this.getAdditionalLogInfo=function(){return f.Gb().n4a();};this.getTrickPlayFrame=function(h){return f.Gb().K6a(h);};this.getSessionSummary=function(){return f.Gb().xta();};this.getTimedTextSettings=function(){return f.Gb().dY();};this.setMuted=function(h){return f.Gb().Chb(h);};this.setVolume=function(h){return f.Gb().Rhb(h);};this.getPlaybackRate=function(){return f.Gb().kq();};this.setPlaybackRate=function(h){return f.Gb().Dhb(h);};this.setAudioTrack=function(h){return f.Gb().mhb(h);};this.setTimedTextTrack=function(h){return f.Gb().CBa(h);};this.setTimedTextSettings=function(h){return f.Gb().CR(h);};this.prepare=function(){return f.Gb().nK();};this.load=function(){return f.Gb().load();};this.close=function(h){return f.TXa(f.Ah.close(),h);};this.play=function(){return f.Gb().play();};this.pause=function(){return f.Gb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(h,g){return f.TXa(f.Gb().MO(h),g);};this.induceError=function(h){return f.Gb().a8a(h);};this.loadCustomTimedTextTrack=function(h,g,n,p){return f.Gb().l$a(h,g,n,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return f.Gb().I9();};this.generateScreenshots=function(h){return f.Gb().i4a(h);};this.getCurrentSegmentId=function(){return f.Ah.Q4a();};this.getPlaygraphMap=function(){return f.Ah.kJ();};this.updatePlaygraphMap=function(h){return f.Ah.Iw(h);};this.gra=new Map();this.log=(0,m.Vj)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.M4=void 0;m=a(8);a(101);k=a(23);c.prototype.Gb=function(){return this.Ah.Gb();};c.prototype.b1a=function(l,d){var f;this.gra.has(l) || this.gra.set(l,new Map());f=this.gra.get(l);f.has(d) || f.set(d,this.UKb(l,d));return f.get(d);};c.prototype.UKb=function(l,d){var f;f=this;return function(h){return d(Object.assign({},h,{type:l,target:f}));};};c.prototype.TXa=function(l,d){return d?l.then(d,d):l;};b.M4=c;},function(r,b,a){b=a(123);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ga:Date.now;},function(r){r.exports={oz:{Zja:0,RQa:1,Ul:2,name:["transient","semiTransient","permanent"]},kz:{GIa:0,QQa:1,u4:2,IT:3,Iz:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},blc:{Qkc:0,Qic:1,fhc:2,Iz:100,name:["trailer","montage","content"]},Xw:{TKa:0,vQa:1,Vub:2,Apb:3,Iz:100,name:["left","right","up","down"]},oT:{xob:0,u4:1,zic:2,Uhc:3,zgc:4,yic:5,rnb:6,Iz:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},QL:{IT:0,TGa:1,Iz:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var c,m,k,l,d,f;c=a(592);m="function" === typeof Symbol && "symbol" === typeof Symbol("foo");k=Object.prototype.toString;l=Array.prototype.concat;d=Object.defineProperty;b=a(315)();f=d && b;r.exports=function(h,g){var n,p,t,v,u,w;n=2 < arguments.length?arguments[2]:{};p=c(g);m && (p=l.call(p,Object.getOwnPropertySymbols(g)));for(var q=0;q < p.length;q+=1){t=h;v=p[q];u=g[p[q]];w=n[p[q]];if(!((v in t)) || "function" === typeof w && "[object Function]" === k.call(w) && w())f?d(t,v,{configurable:!0,enumerable:!1,value:u,writable:!0}):t[v]=u;}};},function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,m;c=b.call(a);m="[object Arguments]" === c;m || (m="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return m;};},function(r,b,a){var m;function c(){if(m)try{return (m({},"a",{value:1}),!0);}catch(k){}return !1;}m=a(44)("%Object.defineProperty%",!0);c.LUb=function(){if(!c())return null;try{return 1 !== m([],"length",{value:1}).length;}catch(k){return !0;}};r.exports=c;},function(r,b,a){var c,m;c="undefined" !== typeof Symbol && Symbol;m=a(317);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:m();};},function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},function(r,b,a){var c,m,k,l,d,f;c=a(597);m=a(598);k=a(599);l=a(167);d=a(321);f=a(608);r.exports=function(h){h=k(h);return l(h) || 0 === h?0:d(h)?f(h) * m(c(h)):h;};},function(r){var a,c,m,k,l,d,f,h;function b(g){var n;try{n=a.call(g);return l.test(n);}catch(p){return !1;}}a=Function.prototype.toString;c="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof c && "function" === typeof Object.defineProperty)try{m=Object.defineProperty({},"length",{get:function(){throw k;}});k={};c(function(){throw 42;},null,m);}catch(g){g !== k && (c=null);}else c=null;l=/^\s*class\b/;d=Object.prototype.toString;f="function" === typeof Symbol && ! !Symbol.toStringTag;h="object" === typeof document && "undefined" === typeof document.all && void 0 !== document.all?document.all:{};r.exports=c?function(g){if(g === h)return !0;if(!g || "function" !== typeof g && "object" !== typeof g)return !1;if("function" === typeof g && !g.prototype)return !0;try{c(g,null,m);}catch(n){if(n !== k)return !1;}return !b(g);}:function(g){var n;if(g === h)return !0;if(!g || "function" !== typeof g && "object" !== typeof g)return !1;if("function" === typeof g && !g.prototype)return !0;if(f){try{if(b(g))n=!1;else (a.call(g),n=!0);}catch(p){n=!1;}return n;}if(b(g))return !1;g=d.call(g);return "[object Function]" === g || "[object GeneratorFunction]" === g;};},function(r,b,a){var c;c=a(317);r.exports=function(){return c() && ! !Symbol.toStringTag;};},function(r){var b;b=Number.isNaN || (function(a){return a !== a;});r.exports=Number.isFinite || (function(a){return "number" === typeof a && !b(a) && Infinity !== a && -Infinity !== a;});},function(r,b,a){r.exports=a(319);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function m(){}m.prototype.N4a=function(k){var l;l=Reflect.getMetadata(c.Gia,k);k=Reflect.getMetadata(c.YRa,k);return {u_a:l,Kec:k || ({})};};m.prototype.hTb=function(k){return Reflect.getMetadata(c.ZRa,k) || [];};return m;})();b.ria=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);b.f9a=function(m){return m instanceof RangeError || m.message === c.qub;};},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);m=a(41);k=a(67);l=a(92);r=(function(){function d(f){this.Svb=f;}d.prototype.Hdc=function(){return this.Svb();};return d;})();b.Rha=r;b.l=function(d){return function(f,h,g){var n;if(void 0 === d)throw Error(c.Tub(f.name));n=new k.Metadata(m.mT,d);"number" === typeof g?l.gL(f,h,g,n):l.T0(f,h,n);};};},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);m=a(107);k=a(67);l=a(643);r=(function(){function d(f,h,g,n){this.id=m.id();this.type=f;this.hh=g;this.name=new l.Utb(h || "");this.Bc=[];f=null;"string" === typeof n?f=new k.Metadata(c.hD,n):n instanceof k.Metadata && (f=n);null !== f && this.Bc.push(f);}d.prototype.l7a=function(f){for(var h=0,g=this.Bc;h < g.length;h++){if(g[h].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.l7a(c.MG);};d.prototype.o_b=function(f){return this.Kwa(c.MG)(f);};d.prototype.iva=function(){return this.l7a(c.hD);};d.prototype.uva=function(){return this.Bc.some(function(f){return f.key !== c.mT && f.key !== c.MG && f.key !== c.R3 && f.key !== c.YT && f.key !== c.hD;});};d.prototype.W8a=function(){return this.Kwa(c.rNa)(!0);};d.prototype.FSb=function(){return this.iva()?this.Bc.filter(function(f){return f.key === c.hD;})[0]:null;};d.prototype.nRb=function(){return this.uva()?this.Bc.filter(function(f){return f.key !== c.mT && f.key !== c.MG && f.key !== c.R3 && f.key !== c.YT && f.key !== c.hD;}):null;};d.prototype.Kwa=function(f){var h;h=this;return function(g){var q;for(var n=0,p=h.Bc;n < p.length;n++){q=p[n];if(q.key === f && q.value === g)return !0;}return !1;};};return d;})();b.E4=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(207);m=a(208);r=(function(){function k(l){this.Ic=l;this.gU=new m.tga(this.Ic);this.xka=new c.d2(this.Ic);}k.prototype.when=function(l){return this.gU.when(l);};k.prototype.E1=function(){return this.gU.E1();};k.prototype.xy=function(l){return this.xka.xy(l);};return k;})();b.tG=r;},function(r,b,a){var k;function c(l){return function(d){function f(h){return null !== h && null !== h.target && h.target.Kwa(l)(d);}f.Tab=new k.Metadata(l,d);return f;};}function m(l,d){l=l.aC;return null !== l?d(l)?!0:m(l,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(41);k=a(67);b.skb=m;b.yjb=c;a=c(r.hD);b.Cbb=a;b.Bkb=function(l){return function(d){var f;if(null !== d){f=d.WV[0];return "string" === typeof l?f.hh === l:l === d.WV[0].wn;}return !1;};};},function(r,b,a){var k;function c(l,d){this.Mg=d;this.LB=Math.floor(l);this.display=this.LB + " " + this.Mg.name;}function m(l,d,f){this.Mg=l;this.name=d;this.qr=f?f:this;(0,k.sq)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Au=b.ZT=void 0;k=a(55);m.prototype.eX=function(l){return this.Mg == l.Mg;};m.prototype.toJSON=function(){return this.name;};b.ZT=m;c.prototype.fa=function(l){return this.Mg.eX(l)?this.LB:Math.floor(this.LB * this.Mg.Mg / l.Mg);};c.prototype.feb=function(l){return this.Mg.eX(l)?this.LB:this.LB * this.Mg.Mg / l.Mg;};c.prototype.as=function(l){return new c(this.fa(l),l);};c.prototype.to=function(l){return new c(this.fa(l),l);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.LB,units:this.Mg.name};};c.prototype.add=function(l){return this.n_a(l);};c.prototype.Aa=function(l){return this.n_a(l,function(d){return -d;});};c.prototype.scale=function(l){return new c(this.fa(this.Mg.qr) * l,this.Mg.qr);};c.prototype.bm=function(l){return this.fa(this.Mg.qr) - l.fa(this.Mg.qr);};c.prototype.eX=function(l){return 0 == this.bm(l);};c.prototype.p9a=function(){return 0 == this.LB;};c.prototype.jva=function(){return 0 > this.LB;};c.prototype.GXb=function(){return 0 < this.LB;};c.prototype.n_a=function(l,d){d=void 0 === d?function(f){return f;}:d;return new c(this.fa(this.Mg.qr) + d(l.fa(this.Mg.qr)),this.Mg.qr);};b.Au=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TOa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GHa="DrmDataFactorySymbol";},function(r,b,a){var m;function c(k,l,d,f,h){this.version=k;this.hK=l;this.pCa=d;this.Cq=f;this.Gw=h;this.Pl=new m.vKa(k,l,d,f,h);this.$m=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Hha=void 0;m=a(674);c.prototype.load=function(k){var l;l=this;return this.Pl.load(k).then(function(){var d;l.$m=null !== (d=l.Pl.$m) && void 0 !== d?d:[];});};c.prototype.add=function(k){this.$m.push(k);return this.Pl.set(this.$m);};c.prototype.remove=function(k,l){k=this.D4a(this.cP(k,l));return 0 <= k?(this.$m.splice(k,1),this.Pl.set(this.$m)):Promise.resolve();};c.prototype.update=function(k,l){l=this.D4a(this.cP(k,l));return 0 <= l?(this.$m[l]=k,this.Pl.set(this.$m)):Promise.resolve();};c.prototype.cP=function(k,l){for(var d=0;d < this.$m.length;++d){if(l(this.$m[d],k))return this.$m[d];}};c.prototype.D4a=function(k){return k?this.$m.indexOf(k):-1;};b.Hha=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hTa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.KIa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.ZOa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gH=void 0;r=b.gH || (b.gH={});r[r.Request=0]="Request";r[r.zQa=1]="Renewal";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.y4=void 0;a.iWb=function(c){return "ID" + (c + 1);};a.bjb=function(c){return Number(c.substr(2)) - 1;};b.y4=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N3='video/mp4; codecs="avc1.640028"';b.M3='audio/mp4; codecs="mp4a.40.5"';b.Fhc="DrmTraitsSymbol";},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w;function c(x,y,z,A,B,C){var D;D=this;this.Da=y;this.YD=z;this.config=A;this.St=B;this.UB=C;this.keyStatuses=new p.Xb({});this.aya=function(F){var G,E,H,L,K,I;try{E=D.Em.Gpa(F);H=E.OJ;L=E.messageType;K=E.sessionId;D.ky=D.ky || E.ky;D.q0(K);D.log.trace("Received " + F.type + " event",{sessionId:K,messageType:L,keyIds:D.ky});if(L === b.gia){if(D.config.tqa){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.rg=l.Fi.Rq;D.Gl=v.uK;}D.Gl === v.wh && D.kr(d.vu.lfb);D.Gl === v.uK && D.kr(d.vu.mfb);I={Ik:H,DZa:L,rg:D.rg};null === (G=D.Acb) || void 0 === G?void 0:G.call(D,I);D.$Y && (D.Xta(H)?D.iF(new n.gd(k.W.YHa)):(D.$Y.resolve(I),D.$Y=void 0));}catch(R){D.iF(R);}};this.Zxa=function(F){var G,E,H,L,K,O,J,M,P,S,T,U,sa,wa,Ba,Ga,N;E=F.target;H=E.keyStatuses;D.q0(E.sessionId);D.log.trace("Received event: " + F.type);try{K=null === (G=D.context) || void 0 === G?void 0:G.Daa;F=[];for(var I=na(H),R=I.next();!R.done;R=I.next()){O=na(R.value);J=O.next().value;M=O.next().value;P=D.YD.encode(new Uint8Array(J));F.push({qq:P,status:M,height:null === K || void 0 === K?void 0:K[P]});}F.sort(function(Q,V){return (Q.height || 0) - (V.height || 0);});S=F.map(function(Q){return Q.qq;});T=F.map(function(Q){return Q.height;});U=F.map(function(Q){return Q.status;});D.Fva=S + ", " + T + ", " + U;D.log.trace("KeyStatus: " + D.Fva);K={};for(var W=na(H),fa=W.next();!fa.done;fa=W.next()){sa=na(fa.value);wa=sa.next().value;Ba=sa.next().value;Ga=D.YD.encode(new Uint8Array(wa));N=u[Ba];K[Ga]=N.status;D.yJ(Ga,N.error) && (L=new h.Fh(N.error));}D.keyStatuses.set(K);}catch(Q){L=new h.Fh(k.W.stb);L.IW(Q);}L?D.Dt?D.waa(L):D.OY(L):(D.Em.L7() || D.r9a(),D.rg !== l.Fi.yp || D.Em.Mna() || (D.config.tqa?D.log.trace("Disabling license renewal"):D.V7b()));};this.Gn=function(F){var G;G=D.Em.SA(F);D.log.error("Received event: " + F.type,G);D.iF(G);D.waa(G);D.Fr || D.Dt || D.OY(G);};this.s2b=function(F){D.log.error("MediaKeySession closed unexpectedly: " + F);D.OY(new n.gd(k.W.cha,w[F]));};this.iF=function(F){var G;D.Fr && D.close().then(function(){var E;D.log.trace("Issuing a generate challenge error");null === (E=D.Fr) || void 0 === E?void 0:E.reject(F);D.Fr=void 0;},function(E){var H;D.log.error("EmeSession closed with an error.",D.Em.SA(E));null === (H=D.Fr) || void 0 === H?void 0:H.reject(F);D.Fr=void 0;});null === (G=D.$Y) || void 0 === G?void 0:G.reject(F);};this.bYb=function(){var F;null === (F=D.Fr) || void 0 === F?void 0:F.resolve();D.Fr=void 0;};this.waa=function(F){D.log.error("Failed to add license",F);return D.close().then(function(){var G;D.log.trace("Issuing a license error");D.Fr=void 0;null === (G=D.Dt) || void 0 === G?void 0:G.reject(F);D.Dt=void 0;},function(G){var E;D.log.error("EmeSession closed with an error.",D.Em.SA(G));D.Gl === v.uK && D.kr(d.vu.nXa);D.Fr=void 0;null === (E=D.Dt) || void 0 === E?void 0:E.reject(F);D.Dt=void 0;}).then(function(){throw F;});};this.r9a=function(){D.Dt && (D.log.info("Successfully added license"),D.Gl === v.wh?D.kr(d.vu.gXa):D.Gl === v.uK && D.kr(d.vu.mXa),D.Dt.resolve(),D.Dt=void 0);};this.OY=function(F){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.Fr=void 0;D.Dt=void 0;null === (G=D.xcb) || void 0 === G?void 0:G.call(D,F);},function(G){var E;D.log.error("EmeSession closed with an error.",D.Em.SA(G));D.Fr=void 0;D.Dt=void 0;null === (E=D.xcb) || void 0 === E?void 0:E.call(D,F);});};this.kr=function(F){D.qd.push({time:D.Da.Tb(),wZ:F});};this.Mfb=!1;this.log=x.mb("EmeSession");this.Gl=v.Bdc;this.gi=C.h0a();this.Em=C.g0a();this.qd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.nIa=b.gia=b.hia=void 0;m=a(5);k=a(3);l=a(57);d=a(338);r=a(217);f=a(334);h=a(95);g=a(69);n=a(37);p=a(70);q=a(339);t=a(49);(function(x){x[x.Bdc=0]="unknown";x[x.create=1]="create";x[x.load=2]="load";x[x.wh=3]="license";x[x.uK=4]="renewal";x[x.stop=5]="stop";x[x.closed=6]="closed";})(v || (v={}));b.hia="license-request";b.gia="license-renewal";u={usable:{status:r.Vw.nlb},expired:{status:r.Vw.Er,error:k.W.Kia},released:{status:r.Vw.released},"output-not-allowed":{status:r.Vw.Qcb,error:k.W.KNa},"output-restricted":{status:r.Vw.Qcb,error:k.W.Lia},"output-downscaled":{status:r.Vw.y3b},"status-pending":{status:r.Vw.abc},"internal-error":{status:r.Vw.NWb,error:k.W.rtb}};w={"internal-error":k.T.Ypb,"closed-by-application":k.T.Upb,"release-acknowledged":k.T.bqb,"hardware-context-reset":k.T.aha,"resource-evicted":k.T.dqb};c.prototype.NX=function(){return this.UB.Eaa;};c.prototype.x5a=function(){return this.Fva;};c.prototype.oB=function(){return this.sessionId;};c.prototype.close=function(){var x;x=this;this.Acb=this.context=void 0;this.Gl=v.closed;this.qd=[];return this.gi.MXb()?(this.log.trace("Closing the session"),this.gi.Efb(this.aya),this.gi.Bfb(this.Zxa),this.gi.zfb(this.Gn),this.mediaKeys=void 0,this.St.Yt(this.config.KXa,this.gi.close()).then(function(){x.log.info("Closed the session");}).catch(function(y){x.log.error("Close failed",y);x.Em.SA(y).code=k.W.utb;throw y;})):Promise.resolve(void 0);};c.prototype.Dv=function(){return this.UB.Dv();};c.prototype.A$=function(){return void 0 !== this.$j;};c.prototype.createSession=function(x,y,z){var A;A=this;this.context=z;this.rg=y;this.Gl=v.create;this.kr(d.vu.c$a);return (x.f7a()?Promise.resolve():this.St.Yt(this.config.LXa,this.gi.createMediaKeys(this.UB)).then(function(B){A.log.trace("Created media keys");return A.NCb(B).then(function(){return x.hXa(B);}).catch(function(C){return Promise.reject(A.qza(C,k.W.eqb));});})).then(function(){A.mediaKeys=x.mediaKeys;try{A.gi.createSession(A.mediaKeys,t.TEMPORARY);A.gi.iXa(A.aya);A.gi.eXa(A.Zxa);A.gi.bXa(A.Gn);A.gi.zBb(A.s2b);A.q0(A.gi.oB());}catch(B){return Promise.reject(A.qza(B,k.W.Vpb));}}).catch(function(B){return Promise.reject(A.qza(B,k.W.aT));});};c.prototype.w$b=function(x){this.ik=x;this.log.ZWa("xid",x.da);};c.prototype.qQb=function(x){var y;y=this;return this.generateRequest(x).then(function(){y.log.trace("Returning the challenge promise");return y.$Y.promise;});};c.prototype.rQb=function(x){this.generateRequest(x);return this.Fr.promise;};c.prototype.fXa=function(x){this.Me=x.Me;x=x.$j.map(function(y){return y.data;});this.Xta(x)?(this.log.error("The license buffer is empty"),this.iF(new h.Fh(k.W.XHa,k.T.VHa))):(this.Gl === v.wh && (this.kr(d.vu.kfb),this.$j=x,this.Z1a=this.Em.hP(this.ky,x),this.bYb()),this.Gl === v.uK && (this.kr(d.vu.nfb),this.$j=x,this.Z1a=this.Em.hP(this.ky,x),this.yna()));};c.prototype.KBb=function(x){this.Gl === v.uK?(this.kr(d.vu.ofb),this.OY(x)):this.iF(x);};c.prototype.yna=function(){var x,y;x=this;if(!this.$j)return this.waa(new h.Fh(k.W.XHa,k.T.$Ha));this.Dt=new q.QT();y=this.$j;this.$j=void 0;this.St.Yt(this.config.OXa,this.gi.update(y,this.Gl === v.wh?f.gH.Request:f.gH.zQa,this.ky)).then(function(){x.Em.L7() && x.r9a();}).catch(function(z){z=x.Em.SA(z);z.code=k.W.d4;z.message="Unable to update the EME";x.log.error(z.message,z);x.waa(z);});return this.Dt.promise;};c.prototype.p$b=function(x){this.Acb=x;};c.prototype.j$b=function(x){this.xcb=x;};c.prototype.hP=function(){return this.Z1a;};c.prototype.generateRequest=function(x){var y;y=this;this.Gl=v.wh;this.log.trace("Generating a license challenge");this.Fr=new q.QT();this.$Y=new q.QT();return x?this.Xta(x)?(x=new h.Fh(k.W.WHa,k.T.VHa),this.iF(x),Promise.reject(x)):this.St.Yt(this.config.W6,this.gi.generateRequest(this.Em.MX(),x)).then(function(){y.q0(y.gi.oB());}).catch(function(z){var A,B;A=new h.Fh(k.W.F2,z instanceof g.Ds?k.T.bT:k.T.Im);try{B=y.Em.SA(z);A.Ud=B.Ud;A.message="Unable to generate request.";A.IW(z);}catch(C){}y.log.error("Unable to generate a license request",A);y.iF(A);return Promise.reject(A);}):(x=new h.Fh(k.W.WHa,k.T.$Ha),this.iF(x),Promise.reject(x));};c.prototype.NCb=function(x){return this.St.Yt(this.config.NXa,this.gi.setServerCertificate(x,this.Em.F9()));};c.prototype.q0=function(x){x && x !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + x),this.sessionId=x,this.log.ZWa("sessionId",x));};c.prototype.V7b=function(){var x;x=this;this.Mfb || (this.Mfb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.lF}),setTimeout(function(){x.tK();},this.config.lF.fa(m.ma)));};c.prototype.TXb=function(x){var y,z,A;return 1080 < (null !== (A=null === (z=null === (y=this.context) || void 0 === y?void 0:y.Daa) || void 0 === z?void 0:z[x]) && void 0 !== A?A:0);};c.prototype.yJ=function(x,y){return y === k.W.Lia?this.TXb(x)?this.config.Scb:this.config.Rcb:! !y;};c.prototype.tK=function(){this.log.trace("Initiating a renewal request");this.rg=l.Fi.Rq;this.Gl=v.uK;this.Em.Eoa()?this.Em.Sua(this.gi):this.Y7();};c.prototype.Y7=function(){var x;x=this;this.gi.Y7(this.mediaKeys,t.TEMPORARY,this.aya,this.Zxa,this.Gn).then(function(){x.log.debug("Creating session to renew license");x.q0(x.gi.oB());}).catch(function(){x.OY(new h.Fh(k.W.F2));});};c.prototype.Xta=function(x){return 0 === x.length || x.reduce(function(y,z){return y || 0 === z.length;},!1);};c.prototype.qza=function(x,y){var z,A;if((null === x || void 0 === x?0:x.code) && (null === x || void 0 === x?0:x.Hc))return x;A=(0,t.hta)(null === x || void 0 === x?void 0:x.message);return new h.Fh(y,x instanceof g.Ds?k.T.bT:k.T.Im,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === x || void 0 === x?void 0:x.message,x);};b.nIa=c;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.$1a=b.vu=void 0;(function(c){c[c.c$a=0]="licenseStarted";c[c.lfb=1]="receivedLicenseChallenge";c[c.kfb=2]="receivedLicense";c[c.mfb=3]="receivedRenewalChallengeComplete";c[c.nfb=4]="receivedRenewalLicenseComplete";c[c.ofb=5]="receivedRenewalLicenseFailed";c[c.S6b=6]="receivedIndivChallengeComplete";c[c.T6b=7]="receivedIndivLicenseComplete";c[c.gXa=8]="addLicenseComplete";c[c.mXa=9]="addRenewalLicenseComplete";c[c.nXa=10]="addRenewalLicenseFailed";})(a=b.vu || (b.vu={}));b.$1a=function(c){switch(c){case a.c$a:return "lg";case a.lfb:return "lc";case a.kfb:return "lr";case a.mfb:return "renew_lc";case a.nfb:return "renew_lr";case a.ofb:return "renew_lr_failed";case a.S6b:return "ilc";case a.T6b:return "ilr";case a.gXa:return "ld";case a.mXa:return "renew_ld";case a.nXa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QT=void 0;b.QT=function(){var a;a=this;this.promise=new Promise(function(c,m){a.resolve=c;a.reject=m;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uMa="MediaKeySystemAccessInternalFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vja="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cNa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IHa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mIa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zGa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vNa="OneWayCounterFactorySymbol";},function(r,b,a){var m,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qga=void 0;r=a(0);a=a(1);m={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(l){for(var d=new Uint8Array(l.length / 2),f=0;f < d.length;f++){d[f]=this.dkb(l.substr(2 * f,2));}return d;};c.prototype.encode=function(l){var g;for(var d="",f=l.length,h=0;h < f;h++){g=l[h];d+=("0123456789ABCDEF")[g >>> 4] + ("0123456789ABCDEF")[g & 15];}return d;};c.prototype.WI=function(l,d){var f;f="";for(d<<=1;d--;){f=(("0123456789ABCDEF")[l & 15] || "0") + f;l>>>=4;}return f;};c.prototype.dkb=function(l){var d;d=l.length;if(7 < d)throw Error("hex to long");for(var f=0,h=0;h < d;h++){f=16 * f + m[l[h]];}return f;};k=c;k=r.__decorate([(0,a.Y)()],k);b.qga=k;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rga=void 0;r=a(0);a=a(1);k=Array.prototype.slice;l=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};h={};g={};n=/\s+/g;[l,k].forEach(function(p){var t;for(var q=p.length;q--;){t=p[q];d[t]=q << 18;f[t]=q << 12;h[t]=q << 6;g[t]=q;}});c.prototype.encode=function(p){return m.Rqa(p,l,"=");};c.prototype.decode=function(p){return m.cqa(p);};c.cqa=function(p){var q,t,v;p=p.replace(n,"");q=p.length;t=p.charAt(q - 1);"=" !== t && "." !== t || q--;t=p.charAt(q - 1);"=" !== t && "." !== t || q--;t=3 * (q >> 2);v=0;switch(q % 4){case 2:v=1;break;case 3:v=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(t + v);for(var u=0,w=0,x;w < t;){x=d[p[u++]] + f[p[u++]] + h[p[u++]] + g[p[u++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[w++]=x >>> 16;q[w++]=x >>> 8 & 255;q[w++]=x & 255;}if(0 < v && (x=d[p[u++]] + f[p[u++]],q[w++]=x >>> 16,1 < v && (x+=h[p[u++]],q[w++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < v?255:65535)))))throw Error("bad base64");return q;};c.Rqa=function(p,q,t){for(var v="",u=0,w=p.length,x=w - 2,y;u < x;){y=(p[u++] << 16) + (p[u++] << 8) + p[u++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");v+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(u == x){y=(p[u++] << 8) + p[u++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");v+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + t;}else if(u == w - 1){y=p[u++];if(!(0 <= y && 255 >= y))throw Error("not bytes");v+=q[y >>> 2] + q[y << 4 & 63] + t + t;}return v;};k=m=c;k=m=r.__decorate([(0,a.Y)()],k);b.rga=k;},function(r,b,a){var m,k;function c(){this.Dr={};this.id="$es$" + m.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.sk=void 0;r=a(0);a=a(1);c.prototype.addListener=function(l,d,f){var h,g;h="$netflix$player$order" + this.id + "$" + l;if(this.Dr){g=this.Dr[l]?this.Dr[l].slice():[];f && (d[h]=f);0 > g.indexOf(d) && (g.push(d),g.sort(function(n,p){return (n[h] || 0) - (p[h] || 0);}));this.Dr[l]=g;}};c.prototype.removeListener=function(l,d){if(this.Dr && this.Dr[l]){for(var f=this.Dr[l].slice(),h;0 <= (h=f.indexOf(d));){f.splice(h,1);}this.Dr[l]=f;}};c.prototype.Rc=function(l,d,f){var h;if(this.Dr){h=this.Fsa(l);for(l={zL:0};l.zL < h.length;(l={zL:l.zL},l.zL++)){f?(function(g){return function(){var n;n=h[g.zL];setTimeout(function(){n(d);},0);};})(l)():h[l.zL].call(this,d);}}};c.prototype.ii=function(){this.Dr=void 0;};c.prototype.on=function(l,d,f){this.addListener(l,d,f);};c.prototype.Fsa=function(l){var d;return null !== (d=this.Dr && (this.Dr[l] || (this.Dr[l]=[]))) && void 0 !== d?d:[];};k=m=c;k.counter=0;k=m=r.__decorate([(0,a.Y)()],k);b.sk=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PGa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uga="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uia=b.psb=void 0;b.psb=function(){};b.uia="MseConfigSymbol";},function(r,b,a){var m;function c(k){this.Dxb=void 0 === k?!1:k;this.tf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.sja=void 0;r=a(0);a=a(1);c.prototype.add=function(k,l){var d;l=void 0 === l?0:l;d=this.tf[l];d?this.Dxb && -1 !== d.indexOf(k) || d.push(k):this.tf[l]=[k];};c.prototype.remove=function(k,l){this.jA(k,void 0 === l?0:l);};c.prototype.removeAll=function(k){this.jA(k);};c.prototype.flatten=function(){var k;k=this;return Object.keys(this.tf).sort().reduce(function(l,d){return l.concat(k.tf[d]);},[]);};c.prototype.jA=function(k,l){Object.entries(this.tf).forEach(function(d){var f,h;f=na(d);d=f.next().value;f=f.next().value;if(void 0 === l || l === parseInt(d)){-1 < (h=f.indexOf(k)) && f.splice(h,1);}});};m=c;m=r.__decorate([(0,a.Y)()],m);b.sja=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JSa="UrlFactorySymbol";},function(r,b,a){var m,k,l;function c(d,f,h,g,n,p,q){this.debug=d;this.config=f;this.platform=h;this.oba=g;this.debug.assert(n && n != k.W.ho,"There should always be a specific error code");this.errorCode=n || k.W.ho;p && "object" === typeof p?(this.xa=p.xa || p.Hc,this.Kf=p.Kf || p.Ud,this.Yqa=p.Yqa || p.Ho,this.Qb=p.Qb || p.details,this.NW=p.Rk,this.M8=p.M8 || p.rpc || p.VB,this.NI=p.NI || p.data,p.tZ && (this.tZ=p.tZ),this.xl=p.xl,this.method=p.method,this.Oba=p.Oba,this.alert=p.alert,this.lna=p.lna,this.qJ=p.qJ,!this.Qb && this.qJ && (this.Qb=JSON.stringify(this.qJ)),this.debug.assert(!this.xl || this.xl == this.Kf)):(this.xa=p,this.Kf=q);this.stack=[this.errorCode];this.xa?this.stack.push(this.xa):this.Kf && this.stack.push(k.T.ho);this.Kf && this.stack.push(this.Kf);this.w8=this.platform.kt + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.APa=void 0;m=a(17);k=a(3);l=a(15);a(25);c.prototype.Fhb=function(d){this.O4b=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.w8 + "]";this.Qb && (d+=" " + this.Qb);this.NW && (d+=" (CustomMessage: " + this.NW + ")");return d;};c.prototype.e1=function(){var d,f,h,g;this.NW && (h=["streaming_error"]);h || this.oba.Dv() !== m.E2 || ("80080017" == this.Kf && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Kf && (h=["pause_timeout"]));h || this.oba.Dv() !== m.$ga || this.errorCode !== k.W.UHa && this.errorCode !== k.W.aT || (h=["no_cdm","platform_error","plugin_error"]);h || this.errorCode !== k.W.cha || this.xa !== k.T.aha || (h=["pause_timeout"]);this.M8 === k.Q3.eka && (this.Noa("2018") || this.Noa("2020")?h=["received_soad"]:this.Noa("5000") && (h=["should_reset_device"]));g=this.aRb();g && (h=[g],this.NW=void 0);if(!h)switch(this.errorCode){case k.W.c4:case k.W.F3:case k.W.Xmb:case k.W.Kia:this.O4b && (h=["pause_timeout"]);break;case k.W.pKa:case k.W.qKa:h=this.xa?["platform_error"]:["multiple_tabs"];break;case k.W.Eha:case k.W.ONa:case k.W.Mia:case k.W.INa:h=["platform_error","plugin_error"];break;case k.W.JT:h=["no_cdm","platform_error","plugin_error"];break;case k.W.aIa:case k.W.Bs:case k.W.d4:switch(this.Kf){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case k.W.KNa:case k.W.Lia:h=["unsupported_output"];}!h && (0,k.xIa)(this.xa) && (h=this.xa == k.T.jT?["geo"]:["internet_connection_problem"]);h || this.errorCode !== k.W.aT || this.xa !== k.T.Im || "S" !== this.platform.kt || (h=["private_mode"]);if(!h)switch(this.fjb(this.xa)){case k.T.lka:h=["should_upgrade"];break;case k.T.DNa:h=["should_reset_device"];break;case k.T.CNa:h=["should_reload_device"];break;case k.T.BNa:h=["should_exit_device"];break;case k.T.qsb:case k.T.QLa:h=["should_signout_and_signin"];break;case k.T.rsb:h=["internet_connection_problem"];break;case k.T.UGa:h=["platform_error","plugin_error"];break;case k.T.apb:case k.T.ZJa:case k.T.$Ja:h=["private_mode"];break;case k.T.eia:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.kt + this.errorCode);if(this.xa)switch(this.fjb(this.xa)){case k.T.ENa:h.push("incorrect_pin");break;default:h.push("" + this.xa);}h={display:{code:this.w8,text:this.NW},messageIdList:h,alert:this.alert,alertTag:this.lna,preferredAudioLocale:null === (d=this.qJ) || void 0 === d?void 0:d.H7a,preferredTextLocale:null === (f=this.qJ) || void 0 === f?void 0:f.I7a};this.config().oOb && (h.debugData=this.NI);return h;};c.prototype.fjb=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.Noa=function(d){return ((0,l.Ka)(this.Kf)?this.Kf.toString():(0,l.qg)(this.Kf)?this.Kf:"").endsWith(d);};c.prototype.aRb=function(){if(this.errorCode === k.W.RL && (this.xa === k.T.Hia || this.xa === k.T.ANa))return this.bRb(this.xa === k.T.Hia);};c.prototype.bRb=function(d){var f,h,g,n;g=this.config().browserInfo || ({});n=null === (f=g.os) || void 0 === f?void 0:f.name;f=((null === (h=g.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.APa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oia="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cT="EventSourceFactorySymbol";},function(r,b,a){var m,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cT=b.BIa=void 0;r=a(0);m=a(349);a=a(1);c.prototype.create=function(){return new m.sk();};k=c;k=r.__decorate([(0,a.Y)()],k);b.BIa=k;b.cT="EventSourceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cHa="DebouncerFactorySymbol";},function(r,b,a){var m;function c(k,l,d,f,h,g){this.level=k;this.Xp=l;this.timestamp=d;this.message=f;this.Xc=h;this.index=void 0 === g?0:g;this.Frb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Xha=void 0;m=a(5);c.prototype.Uea=function(k,l){var d;d="" + this.message;this.Xc.forEach(function(f){d+=f.nL(k,l);});return (this.timestamp.fa(m.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Frb[this.level] || this.level) + "|" + this.Xp + "| " + d;};b.Xha=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PMa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jRa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kPa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WSa="VideoPlayerFactorySymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(741),b);r.__exportStar(a(742),b);r.__exportStar(a(743),b);r.__exportStar(a(744),b);r.__exportStar(a(745),b);r.__exportStar(a(746),b);r.__exportStar(a(747),b);r.__exportStar(a(748),b);r.__exportStar(a(749),b);r.__exportStar(a(750),b);r.__exportStar(a(751),b);r.__exportStar(a(752),b);r.__exportStar(a(756),b);r.__exportStar(a(223),b);r.__exportStar(a(757),b);r.__exportStar(a(224),b);r.__exportStar(a(758),b);r.__exportStar(a(759),b);r.__exportStar(a(760),b);r.__exportStar(a(761),b);r.__exportStar(a(762),b);r.__exportStar(a(763),b);r.__exportStar(a(764),b);r.__exportStar(a(765),b);r.__exportStar(a(766),b);r.__exportStar(a(767),b);r.__exportStar(a(768),b);r.__exportStar(a(769),b);r.__exportStar(a(770),b);r.__exportStar(a(771),b);r.__exportStar(a(772),b);r.__exportStar(a(773),b);r.__exportStar(a(774),b);r.__exportStar(a(775),b);r.__exportStar(a(776),b);r.__exportStar(a(785),b);r.__exportStar(a(788),b);r.__exportStar(a(789),b);r.__exportStar(a(790),b);r.__exportStar(a(791),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xna=void 0;b.xna=function(a,c,m){var k,l;k=!0;m.forEach(function(d){var f;if(k && a === d.profile){f=d.ranges;k=void 0 === f?c >= d.min && c <= d.max:f.some(function(h){return c >= h.min && c <= h.max;});!k && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (l=h.disallowedBy,!0);});}});return {inRange:k,v8:l};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TG=void 0;b.TG={pn:function(a){return a;}};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Du=b.kM=void 0;c=a(367);(function(k){k[k.UQ=0]="primary";k[k.QI=1]="fallback";})(m=b.kM || (b.kM={}));r=(function(){function k(l,d){var f,h;h=this;void 0 === d && (d=!1);this.nFb=d;this.filters=(f={},f[m.UQ]=[],f[m.QI]=[],f);Array.isArray(l)?l.forEach(function(g){return h.and(g,m.UQ);}):this.and(l);}k.prototype.and=function(l,d){void 0 === d && (d=m.UQ);l !== c.TG && this.filters[d].push({filter:l,H_a:!0});return this;};k.prototype.or=function(l,d){void 0 === d && (d=m.UQ);this.filters[d].push({filter:l,H_a:!1});return this;};k.prototype.filter=function(l){var d;d=this;[m.UQ,m.QI].forEach(function(f){d.filters[f]=d.filters[f].filter(function(h){return l(f,h.filter);});});};k.prototype.pn=function(l,d,f,h){var g;g=this;return [m.UQ,m.QI].reduce(function(n,p){return g.filters[p].reduce(function(q,t){t.H_a?q=t.filter.pn(q,d,f,h):0 === q.length && (q=t.filter.pn(l,d,f,h));return q;},n);},l);};return k;})();b.Du=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.As=b.Ztb=void 0;c=a(0);m=a(226);r=(function(){function k(l,d){this.Oa=l;this.tB=d?[d]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Oa;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(l){-1 === this.tB.indexOf(l) && (this.tB=this.tB.slice(),this.tB.push(l));};k.prototype.removeListener=function(l){l=this.tB.indexOf(l);-1 !== l && (this.tB=this.tB.slice(),this.tB.splice(l,1));};return k;})();b.Ztb=r;r=(function(k){function l(d,f){return k.call(this,d,f) || this;}c.__extends(l,k);l.XDa=function(d,f,h){return new m.Eia(d,f,h,!1);};Object.defineProperties(l.prototype,{value:{get:function(){return this.Oa;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});l.prototype.set=function(d){var f;f=this.Oa;f !== d && (this.Oa=d,this.tB.forEach(function(h){return h({oldValue:f,newValue:d});}));};return l;})(r);b.As=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JE=void 0;b.JE=function(a,c){var m;a=Math.abs(a);for(c=Math.abs(c);c;){m=c;c=a % c;a=m;}return a;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iPa=void 0;c=a(0);r=(function(m){function k(l,d){l=m.call(this,l) || this;l.Q2a=d;l.name="PlaybackError";return l;}c.__extends(k,m);k.FXb=function(l){return l && l.message && l.stack && l.Q2a?"PlaybackError" === (null === l || void 0 === l?void 0:l.name):!1;};return k;})(Error);b.iPa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.he=void 0;r=a(0);r.__exportStar(a(373),b);r.__exportStar(a(806),b);r.__exportStar(a(227),b);r.__exportStar(a(807),b);r.__exportStar(a(808),b);r.__exportStar(a(809),b);r.__exportStar(a(374),b);r.__exportStar(a(811),b);c=a(53);Object.defineProperties(b,{he:{enumerable:!0,get:function(){return c.he;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vp=b.ES=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.KZb=2]="lowCpuPlaybackStarting";})(b.ES || (b.ES={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.vp || (b.vp={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(0);m=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.AssertionError=m;b.assert=function(k,l){if(!k)throw new m(l || "Assertion failed");};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.c9=b.nPb=b.Bra=void 0;c=a(230);b.Bra=function(m,k){var l;l=void 0;return Object.keys(m.M).some(function(d){var f;return null === (f=(l=m.M[d]).next) || void 0 === f?void 0:f[k];})?l:void 0;};b.nPb=function(m,k){return c.Vc(Object.keys(m.M),function(l){var d;return null === (d=m.M[l].next) || void 0 === d?void 0:d[k];});};b.c9=function(m,k){return Object.keys(m.M).filter(function(l){var d;return null === (d=m.M[l].next) || void 0 === d?void 0:d[k];});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MEa=void 0;c=a(28);r=(function(){function m(k){this.Tp=k;this.GY=this.VE=!1;}Object.defineProperties(m.prototype,{id:{get:function(){return this.Tp.id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{startTime:{get:function(){return c.K.Ga(this.Tp.qa);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{endTime:{get:function(){return c.K.Ga(this.Tp.sa);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sV:{get:function(){return this.Tp.sV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rea:{get:function(){return this.Tp.Rea;},enumerable:!1,configurable:!0}});return m;})();b.MEa=r;},function(r){function b(){}function a(c){this.EWa=c;this.Vq=[];this.Sg=null;}b.prototype.clear=function(){this.tf=null;this.size=0;};b.prototype.find=function(c){var k;for(var m=this.tf;null !== m;){k=this.jo(c,m.data);if(0 === k)return m.data;m=m.Ph(0 < k);}return null;};b.prototype.lowerBound=function(c){var d;for(var m=this.tf,k=this.iterator(),l=this.jo;null !== m;){d=l(c,m.data);if(0 === d)return (k.Sg=m,k);k.Vq.push(m);m=m.Ph(0 < d);}for(d=k.Vq.length - 1;0 <= d;--d){if((m=k.Vq[d],0 > l(c,m.data)))return (k.Sg=m,k.Vq.length=d,k);}k.Vq.length=0;return k;};b.prototype.upperBound=function(c){for(var m=this.lowerBound(c),k=this.jo;null !== m.data() && 0 === k(m.data(),c);){m.next();}return m;};b.prototype.min=function(){var c;c=this.tf;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.tf;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Jf=function(c){for(var m=this.iterator(),k;null !== (k=m.next());){c(k);}};a.prototype.data=function(){return null !== this.Sg?this.Sg.data:null;};a.prototype.next=function(){var c;if(null === this.Sg){c=this.EWa.tf;null !== c && this.oVa(c);}else if(null === this.Sg.right){do {if((c=this.Sg,this.Vq.length))this.Sg=this.Vq.pop();else {this.Sg=null;break;}}while(this.Sg.right === c);}else (this.Vq.push(this.Sg),this.oVa(this.Sg.right));return null !== this.Sg?this.Sg.data:null;};a.prototype.qK=function(){var c;if(null === this.Sg){c=this.EWa.tf;null !== c && this.kVa(c);}else if(null === this.Sg.left){do {if((c=this.Sg,this.Vq.length))this.Sg=this.Vq.pop();else {this.Sg=null;break;}}while(this.Sg.left === c);}else (this.Vq.push(this.Sg),this.kVa(this.Sg.left));return null !== this.Sg?this.Sg.data:null;};a.prototype.oVa=function(c){for(;null !== c.left;){this.Vq.push(c);c=c.left;}this.Sg=c;};a.prototype.kVa=function(c){for(;null !== c.right;){this.Vq.push(c);c=c.right;}this.Sg=c;};r.exports=b;},function(r,b){function a(c){var m,k;m=Math.abs(c);k=1 / (1 + m / 2);m=k * Math.exp(-m * m - 1.26551223 + k * (1.00002368 + k * (.37409196 + k * (.09678418 + k * (-.18628806 + k * (.27886807 + k * (-1.13520398 + k * (1.48851587 + k * (-.82215223 + .17087277 * k)))))))));return 0 <= c?m:2 - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.bOb=b.K7a=b.QO=void 0;b.QO=a;b.K7a=function(c){var m,k,d;if(2 <= c)return -100;if(0 >= c)return 100;m=1 > c?c:2 - c;k=Math.sqrt(-2 * Math.log(m / 2));k=-.70711 * ((2.30753 + .27061 * k) / (1 + k * (.99229 + .04481 * k)) - k);for(var l=0;2 > l;l++){d=a(k) - m;k+=d / (1.1283791670955126 * Math.exp(-(k * k)) - k * d);}return 1 > c?k:-k;};b.bOb=function(c){return 1 - a(c);};},function(r){function b(a){this.Kla=a;this.Cg=[];this.Ms=!1;this.PH=void 0;this.Ck={};}b.prototype.L6=function(a){this.Cg.length === this.Kla && this.Cg.shift();Array.isArray(a)?this.Cg=this.Cg.concat(a):this.Cg.push(a);this.Ms=!0;};b.prototype.mP=function(){return this.Cg.length;};b.prototype.yoa=function(){var a;a=this.Cg;return 0 < a.length?a.reduce(function(c,m){return c + m;},0) / this.Cg.length:void 0;};b.prototype.D7=function(){var a,c;a=this.Cg;if(0 < a.length){c=this.yoa();a=a.reduce(function(m,k){return m + k * k;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.ev=function(a){var c,m,k;if(this.Ms || void 0 === this.PH)(this.PH=this.Cg.slice(0).sort(function(l,d){return l - d;}),this.Ck={},this.Ms=!1);if(void 0 === this.Ck[a]){c=this.PH;m=Math.floor(a / 100 * (c.length - 1) + 1) - 1;k=(a / 100 * (c.length - 1) + 1) % 1;this.Ck[a]=m === c.length - 1?c[m]:c[m] + k * (c[m + 1] - c[m]);}return this.Ck[a];};r.exports=b;},function(r,b,a){var l;function c(d){this.reset();this.v$b(d);}function m(d){this.setInterval(d);this.reset();}function k(d){this.xD=new m(d);this.Nb=0;this.Tc=null;}l=a(10);c.prototype.v$b=function(d){this.wM=Math.pow(.5,1 / d);this.yU=d;};c.prototype.reset=function(d){d && d.pa && l.Ka(d.pa)?d.te && l.Ka(d.te)?(this.ox=this.rxb,this.Wq=d.pa,this.tD=d.te + d.pa * d.pa):(this.ox=this.rxb,this.Wq=d.pa,this.tD=d.pa * d.pa):this.tD=this.Wq=this.ox=0;};c.prototype.add=function(d){var f;if(l.Ka(d)){this.ox++;f=this.wM;this.Wq=f * this.Wq + (1 - f) * d;this.tD=f * this.tD + (1 - f) * d * d;}};c.prototype.nta=function(){var d,f,h;if(0 === this.ox)return {pa:0,te:0};d=this.Wq;f=this.tD;h=1 - Math.pow(this.wM,this.ox);d/=h;f/=h;h=d * d;return {pa:d,te:f > h?f - h:0};};c.prototype.get=function(){var d;d=this.nta();return {pa:Math.floor(d.pa),te:Math.floor(d.te)};};c.prototype.getState=function(){return 0 === this.ox?null:{a:Number(this.Wq.toPrecision(6)),s:Number(this.tD.toPrecision(6)),n:this.ox};};c.prototype.Gd=function(d){if(l.sb(d) || !l.has(d,"a") || !l.has(d,"s") || !l.isFinite(d.a) || !l.isFinite(d.s))return (this.tD=this.Wq=this.ox=0,!1);this.Wq=d.a;this.tD=d.s;l.has(d,"n") && l.Ka(d.n)?this.ox=d.n:this.ox=16 * this.yU;return !0;};m.prototype.setInterval=function(d){this.yU=d;this.wM=-Math.log(.5) / d;};m.prototype.reset=function(d){this.xb=this.Ug=null;d && l.isFinite(d.pa)?this.Wq=d.pa:this.Wq=0;};m.prototype.start=function(d){l.sb(this.Ug) && (this.xb=this.Ug=d);};m.prototype.add=function(d,f,h){var g,n,p;l.sb(this.Ug) && (this.xb=this.Ug=f);this.Ug=Math.min(this.Ug,f);f=Math.max(h - f,1);g=this.wM;n=Math.max(h,this.xb);p=n - this.xb;h=n - h;this.Wq=this.Wq * (0 < p?Math.exp(-g * p):1) + 8 * d / f * (1 - Math.exp(-g * f)) * (0 < h?Math.exp(-g * h):1);this.xb=n;};m.prototype.get=function(d){var f;d=Math.max(d,this.xb);f=this.Wq * Math.exp(-this.wM * (d - this.xb));d=1 - Math.exp(-this.wM * (d - this.Ug));0 < d && (f/=d);return {pa:Math.floor(f)};};m.prototype.toString=function(){return "ewmav(" + this.yU + ")";};k.prototype.setInterval=function(d){this.xD.setInterval(d);};k.prototype.reset=function(d){this.xD.reset(d);this.Nb=0;this.Tc=null;};k.prototype.start=function(d){!l.sb(this.Tc) && d > this.Tc && (this.Nb+=d - this.Tc,this.Tc=null);this.xD.start(d - this.Nb);};k.prototype.add=function(d,f,h){!l.sb(this.Tc) && h > this.Tc && (this.Nb+=f > this.Tc?f - this.Tc:0,this.Tc=null);this.xD.add(d,f - this.Nb,h - this.Nb);};k.prototype.stop=function(d){this.Tc=Math.max(l.sb(this.xD.xb)?0:this.xD.xb + this.Nb,l.sb(this.Tc)?d:Math.min(this.Tc,d));};k.prototype.get=function(d){return this.xD.get((l.sb(this.Tc)?d:this.Tc) - this.Nb);};k.prototype.toString=function(){return this.xD.toString();};r.exports={Lpb:c,nhc:m,Jpb:k};},function(r,b,a){var m,k;function c(l,d,f,h){m.call(this,f,h);this.vx=new k(l);this.byb=d;}m=a(147);k=a(380);c.prototype=Object.create(m.prototype);c.prototype.shift=function(){var l;l=this.By(0);m.prototype.shift.call(this);null !== l && this.vx.L6(l);return l;};c.prototype.flush=function(){var l;l=this.get();this.vx.L6(l);m.prototype.reset.call(this);return l;};c.prototype.get=function(){var l;l=this.hJ();return {sampleSize:this.mP(),Eca:l,Cxa:l.fk?(l.Il - l.Hl) / l.fk:void 0};};c.prototype.mP=function(){return this.vx.mP();};c.prototype.hJ=function(){return this.vx.mP() < this.byb?{Hl:void 0,fk:void 0,Il:void 0,sampleSize:void 0,xj:void 0}:{Hl:this.vx.ev(25),fk:this.vx.ev(50),Il:this.vx.ev(75),sampleSize:this.vx.mP(),xj:this.vx.ev.bind(this.vx)};};c.prototype.toString=function(){return "biqr(" + this.uN + "," + this.Qd + "," + this.Fk + ")";};r.exports=c;},function(r,b,a){var m,k;function c(l){this.J={oZ:l.maxc || 25,upa:l.c || .5,Afc:l.w || 15E3,EA:l.b || 5E3};m.call(this,this.J.Afc,this.J.EA);this.aV();}m=a(147);k=a(176).TDigest;c.prototype=Object.create(m.prototype);c.prototype.shift=function(){var l;l=this.By(0);m.prototype.shift.call(this);null !== l && (this.uf.push(l,1),this.Ms=!0);return l;};c.prototype.flush=function(){var l;l=this.get();this.uf.push(l,1);this.Ms=!0;m.prototype.reset.call(this);return l;};c.prototype.get=function(){return this.G6a();};c.prototype.pB=function(){var l;l=this.G6a();return {min:l.min,p10:l.uca,p25:l.Hl,p50:l.fk,p75:l.Il,p90:l.vca,max:l.max,centroidSize:l.DFb,sampleSize:l.sampleSize,centroids:l.qj};};c.prototype.G6a=function(){var l;if(0 === this.uf.size())return null;l=this.uf.xj([0,.1,.25,.5,.75,.9,1]);if(l[2] === l[4])return null;if(this.Ms || !this.jd)(this.Ms=!1,this.jd={min:l[0],uca:l[1],Hl:l[2],fk:l[3],Il:l[4],vca:l[5],max:l[6],xj:this.uf.xj.bind(this.uf),DFb:this.uf.size(),sampleSize:this.uf.n,qj:this.dRb(),pB:this.pB.bind(this)});return this.jd;};c.prototype.dRb=function(){var l;if(0 === this.uf.size())return null;if(!this.Ms && this.jd)return this.jd.centroids;l=this.uf.xj([.25,.75]);if(l[0] === l[1])return null;this.uf.size() > this.J.oZ && this.uf.QA();l=this.uf.Xn(!1).map(function(d){return {mean:d.Yf,n:d.n};});return JSON.stringify(l);};c.prototype.C6a=function(){return this.uf.summary();};c.prototype.size=function(){return this.uf.size();};c.prototype.toString=function(){return "btdtput(" + this.uN + "," + this.Qd + "," + this.Fk + "): " + this.uf.summary();};c.prototype.aV=function(){this.uf=new k(this.J.upa,this.J.oZ);};r.exports=c;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y;function c(z){this.config=z;this.qwb=z.Qka;}m=a(385).Ria;k=a(843).CGa;b=a(381);l=b.Lpb;d=b.Jpb;f=a(234).Kpb;h=a(235).Wga;g=a(235).nHa;n=a(234).cvb;p=a(382);q=a(383);t=a(386).cSa;v=a(844);u=a(845);w=a(236);x=a(846).EPa;y=a(847).FEa;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,C,D,F;B=this.qwb[z];C=A[z];D={};B && Object.keys(B).forEach(function(G){D[G]=B[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":F=new m(this.config,new f(D.mw));break;case "discontiguous-ewma":F=new m(this.config,new d(D.mw));break;case "initial-discontiguous-ewma":F=new x(new d(D.mw),D.playerStates);break;case "wssl":F=new n(D.mw,D.max_n);break;case "iqr":F=new p(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":F=new q(D);break;case "ci":F=new m(this.config,new y(D,new k(D)));break;case "discrete-ewma":F=new l(D.hl);break;case "tdigest-history":F=new t(D);break;case "iqr-history":F=new v(D);break;case "avtp":F=new w();break;case "entropy":F=new u(D);break;case "deliverytime":F=new m(this.config,new y(D,new h(D)));break;case "deliverytime-ci":F=new m(this.config,new y(D,new g(D)));}F && (F.type=D.type);return F;};r.exports=c;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Ria=void 0;new (a(4).default.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(m,k){this.config=m;this.filter=k;}c.prototype.hi=function(){return new c(this.config,this.filter);};c.prototype.gac=function(m,k,l,d){var f,h,g;g=d.b0;if(!g || !g.qaa())return !0;switch(this.config.RVb){case "requested":return !1;case "requested-low":return (g=g.OAa(this.config.Kqa),g.gbb() > ((null === (f=d.tC) || void 0 === f?void 0:f.u_) || 0));case "inferred":g=g.OAa(this.config.Kqa);m=g.Lwa(m,k,l,this.config.d_);if(!m)break;return g.gbb() > ((null === (h=d.tC) || void 0 === h?void 0:h.u_) || 0);case "inferred-strict":if((g=g.OAa(this.config.Kqa),g.Lwa(m,k,l,this.config.d_)))return !1;}return !0;};c.prototype.add=function(m,k,l,d){this.gac(m,k,l,d) && this.filter.add(m,k,l,d);};c.prototype.get=function(m){if(this.filter.get)return this.filter.get(m);};c.prototype.start=function(m){this.filter.start && this.filter.start(m);};c.prototype.stop=function(m){this.filter.stop && this.filter.stop(m);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.Ria=r;},function(r,b,a){var m,k;function c(l){this.J={oZ:l.maxc || 25,upa:l.c || .5,U6b:l.rc || "none",nJ:l.hl || 7200};this.aV();this.Jzb=this.J.U6b;this.yU=this.J.nJ;this.wka=Math.exp(Math.log(2) / this.yU);this.wka=Math.max(this.wka,1);this.k5=1;}m=a(10);k=a(176).TDigest;new (a(4).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var l;if(0 === this.uf.size())return null;l=this.uf.xj([.25,.75]);if(l[0] === l[1])return null;this.uf.size() > this.J.oZ && this.uf.QA();l=this.uf.Xn(!1).reduce((function(d,f){m.Ka(f.Yf) && m.Ka(f.n) && d.push({mean:f.Yf,n:f.n / this.k5});return d;}).bind(this),[]);return {tdigest:JSON.stringify(l)};};c.prototype.Gd=function(l){var d;if(m.sb(l) || !m.has(l,"tdigest") || !m.qg(l.tdigest))return !1;try{d=JSON.parse(l.tdigest);}catch(f){return !1;}d.forEach(function(f){m.isFinite(f.n) || (f.n=1);});l=d.map(function(f){return {Yf:f.mean,n:f.n};});this.k5=1;this.uf.Dza(l);void 0 === this.uf.xj(0) && this.aV();};c.prototype.get=function(){var l,d;l=this.uf;d=l.xj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],uca:d[1],Hl:d[2],fk:d[3],Il:d[4],vca:d[5],max:d[6],qj:l.Xn(!1)};};c.USb=function(l){var d;d=new c({});m.sb(l) || m.oa(l) || !m.isArray(l.qj) || (d.uf.Dza(l.qj),void 0 === d.uf.xj(0) && d.aV());l=d.uf.xj([.25,.75]);return l[0] === l[1]?null:function(f){return d.uf.xj(f);};};c.prototype.add=function(l){var d;d=1;"ewma" === this.Jzb && (this.k5=d=this.k5 * this.wka);this.uf.push(l,d);};c.prototype.toString=function(){return "TDigestHist(" + this.uf.summary() + ")";};c.prototype.aV=function(){this.uf=new k(this.J.upa,this.J.oZ);};r.exports={cSa:c};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.A4=void 0;c=a(2);b.A4=(function(){function k(l,d,f){f.KI && (m=new (a(854).KRa)(l,d));}k.instance=function(){c.assert(m,"expected StaticMediaProvider to exist");return m;};return k;})();},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,m){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),m * a.byteLength / a.length);}:function(a,c,m){a.set(c,m);};r.exports={from:function(a,c,m,k){a=new a(c.length);for(var l="function" === typeof m,d=0;d < c.length;++d){a[d]=l?m.call(k,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){var l;l=null !== m && m.apply(this,arguments) || this;l.VI=1536;return l;}c.__extends(k,m);k.od=!0;return k;})(a(177).default);b.default=r;a=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.jf="ac-3";return k;})(r);b.Fmb=a;r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.jf="ec-3";return k;})(r);b.Tpb=r;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(100);r=a(24);k=m.yia;r=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.parse=function(){this.Bh();this.fileSize=this.N.Ml();this.X=this.N.Ml();this.duration=this.N.Ml(!1,!0);this.b2b=this.N.Ml();this.N.Ml();this.f2b=this.N.Ml();this.l1b=this.N.bc();this.c2b=this.N.Ml();this.CPb=this.N.bc();this.N.nda();this.sm={moof:{offset:this.b2b},sidx:{offset:this.c2b,size:this.CPb}};this.sm[m.WMa]={offset:this.f2b,size:this.l1b};this.N.offset - this.startOffset <= this.length - 24 && (this.e2b=this.N.Ml(),this.b1b=this.N.bc(),this.d2b=this.N.Ml(),this.a1b=this.N.bc(),this.sm[m.T3]={offset:this.e2b,size:this.b1b},this.sm[m.S3]={offset:this.d2b,size:this.a1b});return !0;};d.jf=k;d.od=!1;return d;})(r.$f);b.default=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=a(100);a=a(24);m=r.zia;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){var d,g,n;this.Bh();1 <= this.version && this.N.nda();d=this.N.bc();this.sm={};for(var f=this.startOffset + this.length,h=0;h < d;++h){g=this.N.jC();"uuid" === g && (g=this.N.nda());n=this.N.Ml();this.sm[g]={offset:f,size:n};f+=n;}return !0;};l.jf=m;l.od=!1;return l;})(a.$f);b.default=a;},function(r,b,a){function c(){c=Object.assign || (function(E){for(var H,L=1,K=arguments.length;L < K;L++){H=arguments[L];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (E[I]=H[I]);}}return E;});return c.apply(this,arguments);}function m(E,H){m=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,K){L.__proto__=K;}) || (function(L,K){for(var I in K){K.hasOwnProperty(I) && (L[I]=K[I]);}});return m(E,H);}function k(E,H){function L(){this.constructor=E;}m(E,H);E.prototype=null === H?Object.create(H):(L.prototype=H.prototype,new L());}function l(E,H){var L,K,I;L={};for(K in E){Object.prototype.hasOwnProperty.call(E,K) && 0 > H.indexOf(K) && (L[K]=E[K]);}if(null != E && "function" === typeof Object.getOwnPropertySymbols){I=0;for(K=Object.getOwnPropertySymbols(E);I < K.length;I++){0 > H.indexOf(K[I]) && Object.prototype.propertyIsEnumerable.call(E,K[I]) && (L[K[I]]=E[K[I]]);}}return L;}function d(E,H,L,K){var I,R,O;I=arguments.length;R=3 > I?H:null === K?K=Object.getOwnPropertyDescriptor(H,L):K;if("object" === typeof Reflect && "function" === typeof Reflect.Zp)R=Reflect.Zp(E,H,L,K);else for(var J=E.length - 1;0 <= J;J--){if(O=E[J])R=(3 > I?O(R):3 < I?O(H,L,R):O(H,L)) || R;}return (3 < I && R && Object.defineProperty(H,L,R),R);}function f(E,H){return function(L,K){H(L,K,E);};}function h(E,H){if("object" === typeof Reflect && "function" === typeof Reflect.Bc)return Reflect.Bc(E,H);}function g(E,H,L,K){function I(R){return R instanceof L?R:new L(function(O){O(R);});}return new (L || (L=Promise))(function(R,O){function J(S){try{P(K.next(S));}catch(T){O(T);}}function M(S){try{P(K["throw"](S));}catch(T){O(T);}}function P(S){S.done?R(S.value):I(S.value).then(J,M);}P((K=K.apply(E,H || [])).next());});}function n(E,H){var I,R,O,J,M;function L(P){return function(S){return K([P,S]);};}function K(P){if(R)throw new TypeError("Generator is already executing.");for(;I;){try{if((R=1,O && (J=P[0] & 2?O["return"]:P[0]?O["throw"] || ((J=O["return"]) && J.call(O),0):O.next) && !(J=J.call(O,P[1])).done))return J;if((O=0,J))P=[P[0] & 2,J.value];switch(P[0]){case 0:case 1:J=P;break;case 4:return (I.label++,{value:P[1],done:!1});case 5:I.label++;O=P[1];P=[0];continue;case 7:P=I.Xk.pop();I.Dh.pop();continue;default:if(!(J=I.Dh,J=0 < J.length && J[J.length - 1]) && (6 === P[0] || 2 === P[0])){I=0;continue;}if(3 === P[0] && (!J || P[1] > J[0] && P[1] < J[3]))I.label=P[1];else if(6 === P[0] && I.label < J[1])(I.label=J[1],J=P);else if(J && I.label < J[2])(I.label=J[2],I.Xk.push(P));else {J[2] && I.Xk.pop();I.Dh.pop();continue;}}P=H.call(E,I);}catch(S){P=[6,S];O=0;}finally{R=J=0;}}if(P[0] & 5)throw P[1];return {value:P[0]?P[1]:void 0,done:!0};}I={label:0,ob:function(){if(J[0] & 1)throw J[1];return J[1];},Dh:[],Xk:[]};return (M={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (M[Symbol.iterator]=function(){return this;}),M);}function p(E,H,L,K){void 0 === K && (K=L);E[K]=H[L];}function q(E,H){for(var L in E){"default" === L || H.hasOwnProperty(L) || (H[L]=E[L]);}}function t(E){var H,L,K;H="function" === typeof Symbol && Symbol.iterator;L=H && E[H];K=0;if(L)return L.call(E);if(E && "number" === typeof E.length)return {next:function(){E && K >= E.length && (E=void 0);return {value:E && E[K++],done:!E};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(E,H){var L,K,I;L="function" === typeof Symbol && E[Symbol.iterator];if(!L)return E;E=L.call(E);I=[];try{for(;(void 0 === H || 0 < H--) && !(K=E.next()).done;){I.push(K.value);}}catch(O){var R;R={error:O};}finally{try{K && !K.done && (L=E["return"]) && L.call(E);}finally{if(R)throw R.error;}}return I;}function u(){for(var E=[],H=0;H < arguments.length;H++){E=E.concat(v(arguments[H]));}return E;}function w(){var K;for(var E=0,H=0,L=arguments.length;H < L;H++){E+=arguments[H].length;}E=Array(E);K=0;for(H=0;H < L;H++){for(var I=arguments[H],R=0,O=I.length;R < O;(R++,K++)){E[K]=I[R];}}return E;}function x(E){return this instanceof x?(this.ez=E,this):new x(E);}function y(E,H,L){var M,P,S;function K(T){M[T] && (P[T]=function(U){return new Promise(function(W,fa){1 < S.push([T,U,W,fa]) || I(T,U);});});}function I(T,U){var W;try{W=M[T](U);W.value instanceof x?Promise.resolve(W.value.ez).then(R,O):J(S[0][2],W);}catch(fa){J(S[0][3],fa);}}function R(T){I("next",T);}function O(T){I("throw",T);}function J(T,U){(T(U),S.shift(),S.length) && I(S[0][0],S[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");M=L.apply(E,H || []);S=[];return (P={},K("next"),K("throw"),K("return"),P[Symbol.asyncIterator]=function(){return this;},P);}function z(E){var L,K;function H(I,R){L[I]=E[I]?function(O){return (K=!K)?{value:x(E[I](O)),done:"return" === I}:R?R(O):O;}:R;}return (L={},H("next"),H("throw",function(I){throw I;}),H("return"),L[Symbol.iterator]=function(){return this;},L);}function A(E){var K,I;function H(R){I[R]=E[R] && (function(O){return new Promise(function(J,M){O=E[R](O);L(J,M,O.done,O.value);});});}function L(R,O,J,M){Promise.resolve(M).then(function(P){R({value:P,done:J});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");K=E[Symbol.asyncIterator];return K?K.call(E):(E="function" === typeof t?t(E):E[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(E,H){Object.defineProperty?Object.defineProperty(E,"raw",{value:H}):E.raw=H;return E;}function C(E){var H;if(E && E.__esModule)return E;H={};if(null != E)for(var L in E){Object.hasOwnProperty.call(E,L) && (H[L]=E[L]);}H.default=E;return H;}function D(E){return E && E.__esModule?E:{default:E};}function F(E,H){if(!H.has(E))throw new TypeError("attempted to get private field on non-instance");return H.get(E);}function G(E,H,L){if(!H.has(E))throw new TypeError("attempted to set private field on non-instance");H.set(E,L);return L;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return g;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(r,b){var a,c,m;Object.defineProperty(b,"__esModule",{value:!0});r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,qea:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,qea:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,qea:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};m={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,qea:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.MV={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":m},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":m};},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(24);k=a(83);r=(function(l){function d(f,h,g,n,p){g=l.call(this,g,n,p) || this;g.kEb=f;g.OR=h;g.ie={};return g;}c.__extends(d,l);d.prototype.parse=function(f){var h,g,n,p,q,t;this.offset=0;h=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){g=this.offset;n=this.bc();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=k.oH(this.bc());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.nda();}if(0 === h.length && this.OR.T3a(p,g,n))break;if(g + n > this.view.byteLength)break;q=this.kEb[p];t=void 0;if(q){if((t=new q(this,p,g,n,h[0]),(h[0] || this).yV(t),t.parse(f)))this.config.uya && q.od?h.unshift(t):this.offset=g + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=g + n;for(;h.length && this.offset > h[0].byteOffset + h[0].eK - 8;){t=h.shift();if(!t.RI(f))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.eK;}if(0 === h.length && this.OR.M1a(p,g,n,t))break;}return !this.OR.done && (f=this.OR.endOffset?this.OR.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,Dbb:f}:{done:!0,offset:Math.min(this.OR.endOffset || Infinity,this.offset)};};d.prototype.yV=function(f){m.$f.yV(this,f);};return d;})(a(893).$ub);b.uga=r;},function(r,b,a){var m;function c(k,l){k=l.indexOf(k);-1 !== k && l.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});m=a(100);r=(function(){function k(l){this.endOffset=l;this.done=!1;}k.prototype.T3a=function(){return this.done;};k.prototype.M1a=function(l,d,f){return this.done=d + f >= this.endOffset;};return k;})();b.mHa=r;r=(function(){function k(l,d,f,h){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === h && (h=!1);this.ww=l;this.r8=d;this.Bjb=f;this.mdb=h;this.done=!1;this.sm={};}k.prototype.T3a=function(l,d,f){-1 !== k.cVb.indexOf(l) && (this.sm[l]={offset:d,size:f});if(-1 !== this.Bjb.indexOf(l)){if((this.sm[l]={offset:d,size:f},this.mdb))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.ww && -1 !== this.ww.indexOf(l)?(l=1 < this.ww.length?4096:0,this.endOffset=Math.max(d + f + l,this.endOffset || 0)):-1 !== this.r8.indexOf(l) && (l=this.ww?4096:0,this.endOffset=Math.max(d + f + l,this.endOffset || 0));return this.done;};k.prototype.M1a=function(l,d,f,h){var g;g=this;if(-1 !== this.Bjb.indexOf(l))return this.done=!0;l === m.yia && this.Jhb(h.sm);l === m.zia && this.Jhb(h.sm);this.ww && c(l,this.ww);c(l,this.r8);return this.ww && 0 === this.ww.length && !this.r8.some(function(n){return g.sm[n];})?this.done=!0:this.done;};k.prototype.Jhb=function(l){var d;d=this;this.sm=l;this.endOffset=(this.ww || []).concat(this.r8).reduce(function(f,h){return d.sm[h]?(h=d.sm[h],Math.max(h.offset + (h.size || 4096),f)):f;},this.endOffset || 0);};k.cVb=["moov","sidx"];return k;})();b.Lqb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.b4a=b.Slb=b.a4a=void 0;b.a4a={23976:{bb:24E3,X:1001},24:{bb:24E3,X:1E3},25:{bb:25E3,X:1E3},2997:{bb:3E4,X:1001},30:{bb:3E4,X:1E3}};b.Slb=["23976","24","25","2997","30"];b.b4a=function(a,c){return a.bb / a.X === c.bb / c.X;};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(237);m=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.assert=function(k,l){if(!k)throw new m(l || "Assertion failed");};},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.KJa=b.Bha=void 0;c=a(0);m=c.__importStar(a(10));k=c.__importDefault(a(4));l=a(916);d=a(917);f=(function(){return function(){this.q7=new d.MT(100);this.Rba=new d.MT(100);};})();r=(function(){function h(g,n,p){var q,t,v;this.J=n;this.G=p;this.i6=g;q=this.lN=this.AM=this.zM=0;t=0;v=0;this.i6.length >= this.J.Dba && (this.i6.forEach(function(u){!(u=u.get().GPb) || m.oa(u.avtp) || m.oa(u.neuhd) || (q+=u.avtp,t+=1 * u.neuhd,v++);}),this.lN=v,this.zM=q / v,this.AM=t / v);}Object.defineProperties(h.prototype,{KDb:{get:function(){return this.zM;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{MDb:{get:function(){return this.AM;},enumerable:!1,configurable:!0}});h.prototype.naa=function(){return this.lN >= this.J.Dba && this.zM >= this.J.baselineHighAndStableThreshold.bwThreshold && this.AM < this.J.baselineHighAndStableThreshold.nethreshold;};return h;})();b.Bha=r;r=(function(h){function g(n,p,q){n=h.call(this,n,p,q) || this;n.nka=[];n.JOb={};n.Ejb=[];n.VA=new f();n.i6.length >= n.J.Dba && (n.KWa("avtp",n.VA.q7),n.KWa("neuhd",n.VA.Rba));return n;}c.__extends(g,h);g.prototype.naa=function(){var n;this.TSb();n=new l.GLa(this.G,this.Ejb,this.ZDb);n.bza(this.nka);n=n.pGb(this.J.E$.Wpc);return this.Aec && 1 === n && this.lN >= this.J.Dba;};g.prototype.GX=function(){var n,p,q,t;n={};p=k.default.time.now();q=new Date(p);t=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=t;return n;};g.prototype.V4a=function(n,p,q){n="avtp" === n?this.zM:this.AM;for(var t=p.D7(),v=0,u="skew" === q?3:4,w=0;w < p.Cg.length;w++){m.oa(n) || m.oa(t) || (v+=Math.pow(p.Cg[w] - n,u));}v/=p.Cg.length;return !m.oa(t) && 0 < t?v / Math.pow(t,u) - 3 * ("skew" === q?0:1):NaN;};g.prototype.l5a=function(n,p,q){var t;t=0;"lte" === q?t=n.reduce(function(v,u){return u <= p?v + 1:v;},0) / (1 * n.length):"gte" === q && (t=n.reduce(function(v,u){return u >= p?v + 1:v;},0) / (1 * n.length));return t;};g.prototype.DSb=function(n){var p,q;p=n.ev(25);q=n.ev(50);n=n.ev(75);return m.oa(p) || m.oa(q) || m.oa(n)?NaN:0 < q?(n - p) / q:NaN;};g.prototype.WQb=function(n,p){n="avtp" === n?this.zM:this.AM;p=p.D7();return !m.oa(p) && !m.oa(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};g.prototype.hJ=function(n,p){n=n.ev(p);return m.oa(n)?NaN:n;};g.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};g.prototype.TSb=function(){var n,p,q,t,v,u,w,x,y,z,A,B;n=this;p=this.J.E$.J$a.Moc;q=this.J.E$.J$a.Koc;t=this.J.E$.J$a.Loc;x=[];B=0;this.Aec=!Object.keys(p).some(function(C){var D;A=NaN;if(!(p.hasOwnProperty(C) && q.hasOwnProperty(C) && t.hasOwnProperty(C) && !m.oa(n.VA) && n.VA.q7 && n.VA.Rba) || 1 > n.lN || "number" !== typeof p[C] || "number" !== typeof q[C] || "number" !== typeof t[C])return !0;v=p[C];u=q[C];w=t[C];x=C.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":D=n.VA.q7;break;case "neuhd":D=n.VA.Rba;break;default:D=void 0;}if("avtp" === y || "neuhd" === y){if(D)switch(z){case "last":A=D.Cg[n.lN - 1];break;case "mean":A="avtp" === y?n.zM:n.AM;break;case "niqr":A=n.DSb(D);break;case "skew":A=n.V4a(y,D,"skew");break;case "kurtosis":A=n.V4a(y,D,"kurtosis");break;case "std":A=D.D7();break;case "b":A=n.WQb(y,D);break;default:-1 !== C.search("[p][1-9]?[1-9]") && (A=n.hJ(D,Number(C.split("_p",2)[1])));}}else switch(C){case "fracAbove20Mbps":D=n.VA.q7;A=m.oa(D)?NaN:n.l5a(D.Cg,2E4,"gte");break;case "fracBelow20p":D=n.VA.Rba;A=m.oa(D)?NaN:n.l5a(D.Cg,.15,"lte");break;case "hour_current":A=n.GX().currentHour;break;case "session_ct":A=n.lN;break;case "intercept":(A=v,n.ZDb=A);}A=n.normalize(A,u,w);if(isNaN(A))return !0;"intercept" !== C && (n.nka.push(A),n.Ejb.push(v),n.JOb[C]=B,B+=1);});};g.prototype.KWa=function(n,p){this.i6.forEach(function(q){q=q.get().GPb;!q || "avtp" !== n && "neuhd" !== n || m.oa(q[n]) || p.L6(Number(q[n]));});};return g;})(r);b.KJa=r;},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FS=void 0;c=a(0);m=a(400);k=a(2);l=a(7);d=a(401);f=a(250);h=a(403);g=a(404);r=(function(){function n(p,q,t){this.J=q;this.G=t;this.Zz=new l.vRa();this.U5=0;this.Nr=p.Nr;this.P=p.P;this.mediaType=p.mediaType;this.jG=p.jG;this.SD=p.SD;1 === this.mediaType?(q=this.Nr,t=c.__read(q.streams,1)[0],this.aAb=new h.ika({w:q.maxWidth,qt:q.maxHeight},{w:q.Kya,qt:q.Lya}),void 0 !== t.framerate_value && void 0 !== t.framerate_scale && (this.kla=f.pM.from({gw:t.framerate_value,ov:t.framerate_scale}),this.Jla=this.kla.la()),void 0 !== q.Xwa && void 0 !== q.Wwa && (this.Sxb=f.pM.from({gw:q.Xwa,ov:q.Wwa}))):0 === this.mediaType && (this.Tvb=this.Nr.streams[0].channels,this.cAb=48E3);this.rb=(this.TM=this.Jla) && this.TM.X;this.ola=this.MVa=!1;this.hua=-Infinity;this.H$a=Infinity;p=n.hwb(this,p.df);q=p.maxBitrate;t=p.bd;this.Ro=p.Ro;this.maxBitrate=q;this.bd=t;this.wAb=t.reduce(function(v,u){v[u.Pa]=u;return v;},{});!1;}n.hwb=function(p,q){var t,v,u,w,x,y;t=p.J;v=1 === p.mediaType;u=!1;w=0;x=p.Nr.streams.some(function(z){return z.Xj;});y=[];p.Nr.streams.forEach(function(z,A){var B,C,D;B=z.bitrate;C=!0;if(v){D=z.Xj;C=t.KO && t.q1?q?!0:D === x:q && !D || !q && (D || !x);u=u || D;}C && B > w && (w=B);z=new g.fFa({Dl:z,vg:A,track:p,Sv:C},t,p.G);y.push(z);});return {Ro:u,maxBitrate:w,bd:y};};Object.defineProperties(n.prototype,{Nba:{get:function(){return !this.Vd && 0 === this.U5;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Vd:{get:function(){var p;return this.Fc?!(null === (p=this.Zz.value) || void 0 === p || !p.Vd):! !this.Fq && ! !this.Zz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{lza:{get:function(){return this.MVa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{I:{get:function(){return String(this.P.I);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.Nr.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kt:{get:function(){return this.iyb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{la:{get:function(){return this.TM;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{frameRate:{get:function(){return this.kla;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{dba:{get:function(){return this.Sxb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wm:{get:function(){return this.aAb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{channels:{get:function(){return this.Tvb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sampleRate:{get:function(){return this.cAb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.Nr.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{D0:{get:function(){return this.Nr.D0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{X:{get:function(){return this.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{UJ:{get:function(){return this.hyb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fq:{get:function(){return this.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{DP:{get:function(){return this.Zz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{t9:{get:function(){return this.la.X;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{s9:{get:function(){return this.la.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ba:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Nra:{get:function(){return this.Zz;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qZ:{get:function(){return this.bd.some(function(p){var q;return 1 < ((null === (q=p.Hg) || void 0 === q?void 0:q.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fc:{get:function(){return this.P.Fc;},enumerable:!1,configurable:!0}});n.prototype.cy=function(p){return this.NE()[p];};n.prototype.NE=function(){return this.wAb;};n.prototype.equals=function(p){return ! !p && this.I === p.I && this.mediaType === p.mediaType && this.trackId === p.trackId;};n.prototype.jca=function(){this.U5++;};n.prototype.ica=function(){0 < this.U5 && this.U5--;};n.prototype.hca=function(p,q,t,v,u,w){if(this.Fc || v && void 0 !== v.Sn && (this.Vd || void 0 !== v.oe && v.oe.length)){if(p.Xj || !p.track.Ro)this.MVa=!0;if(this.Vd)!this.ola && !this.Fc && v.oe && v.oe.length > this.Fq.length && (this.Uc=new m.bka(this.mediaType,this.la,v,u),this.Zz.kgb(),this.hua=-Infinity,this.ola=!0);else {this.oWa(q);this.iyb=w;if(t=t || this.Jla)(this.nWa(t || this.Jla),void 0 === this.X && this.pWa(t.X));this.Fc || (this.Uc=new m.bka(this.mediaType,this.la,v,u));if(p.Xj || !p.track.Ro)this.ola=!0;}}else this.Fc || this.G && this.G.error("AseTrack.onHeaderReceived with missing fragments data");};n.prototype.x2b=function(p){void 0 === this.Zz.value && this.Zz.set(p);};n.prototype.vHb=function(p){this.Vd || (this.pWa(p.X),this.oWa(p.UJ),this.nWa(p.la),this.Uc=p.Fq,p.Nra.value?this.Zz.set(p.Nra.value):this.Zz.kgb());};n.prototype.qn=function(p,q,t,v){k.assert(this.DP);return d.qn(this.mediaType,p,this.DP,q,t,v);};n.prototype.jB=function(p,q,t){k.assert(this.DP);return d.jB(this.mediaType,p,this.DP,q,t);};n.prototype.Mo=function(){var p;if(0 === this.mediaType){k.assert(0 === this.mediaType);k.assert(void 0 !== this.channels);k.assert(void 0 !== this.sampleRate);p={channels:this.channels,profile:this.profile,D0:this.D0,bitrate:this.bd[this.bd.length - 1].bitrate,sampleRate:this.sampleRate,Kt:this.Kt};}else (k.assert(1 === this.mediaType),k.assert(void 0 !== this.dba),k.assert(void 0 !== this.wm),p={L:this.P.L,Ro:this.Ro,profile:this.profile,t9:this.dba.gw,s9:this.dba.ov,D0:this.D0,wm:this.wm,maxWidth:this.wm.wm.w,maxHeight:this.wm.wm.qt,Kya:this.wm.ddb.w,Lya:this.wm.ddb.qt,Kt:this.Kt});return p;};n.prototype.toJSON=function(){return {movieId:this.I,mediaType:this.mediaType,trackId:this.trackId};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};n.prototype.pWa=function(p){this.rb=p;};n.prototype.oWa=function(p){this.hyb=p;};n.prototype.nWa=function(p){this.TM=p;1 === this.mediaType && (this.kla=f.pM.bQb(p));};return n;})();b.FS=r;},function(r,b,a){var m,k,l,d;function c(f){return function(){for(var h=Array(this.length),g=0;g < this.length;++g){h[g]=f.call(this,g);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.SCb=b.ny=b.bka=b.rSa=void 0;r=a(0);m=a(2);r=r.__importDefault(a(4));k=a(20);l=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function f(h,g){this.Uc=h;this.ue=g;}Object.defineProperties(f.prototype,{index:{get:function(){return this.ue;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ec:{get:function(){return new k.K(this.Va,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Jd:{get:function(){return new k.K(this.hb,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Va:{get:function(){return this.Uc.m6 + this.Uc.OD[this.ue];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{hb:{get:function(){return this.Va + this.Uc.Gs[this.ue];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qv:{get:function(){return this.Uc.Gs[this.ue];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{la:{get:function(){return this.Uc.la;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{X:{get:function(){return this.Uc.X;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return Math.floor(1E3 * this.Va / this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ma:{get:function(){return Math.floor(1E3 * (this.Va + this.qv) / this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.Ma - this.ba;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.Va / this.la.X,endPts:1E3 * this.hb / this.la.X,duration:1E3 * this.qv / this.la.X,index:this.index};};return f;})();b.rSa=d;a=(function(){function f(h,g,n,p){this.mediaType=h;this.length=n.oe.length;this.rb=n.X;this.Gs=n.oe;this.N6=p && p.QQ;this.uXa=p && p.pR;this.TM=g;this.lDa=this.mDa=this.gVa=void 0;this.m6=n.Sn;this.OD=new Uint32Array(this.length + 1);if(this.length){for(g=h=0;g < this.length;++g){this.OD[g]=h;h+=this.Gs[g];}this.OD[g]=h;this.vka=Math.floor((this.Ma - this.ba) / this.length);}}Object.defineProperties(f.prototype,{Sn:{get:function(){return this.Hib(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Uqa:{get:function(){return this.Hib(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return this.lk(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ma:{get:function(){return this.lk(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kg:{get:function(){return new k.K(this.Uqa,this.X);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pwa:{get:function(){return this.gVa || this.Pvb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{la:{get:function(){return this.TM;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{X:{get:function(){return this.rb;},enumerable:!1,configurable:!0}});f.prototype.Hib=function(h){return this.m6 + this.OD[h];};f.prototype.lk=function(h){return Math.floor(1E3 * (this.m6 + this.OD[h]) / this.X);};f.prototype.cX=function(h){return this.lk(h + 1);};f.prototype.oe=function(h){return this.cX(h) - this.lk(h);};f.prototype.get=function(h){return new d(this,h);};f.prototype.Jo=function(h,g,n){if(0 === this.length || h < this.lk(0))return -1;h=Math.max(h,g || 0);for(var p=0,q=this.length - 1,t,v;q >= p;){if((t=p + (q - p >> 1),v=this.lk(t),h < v))q=t - 1;else if(h >= v + this.oe(t))p=t + 1;else {for(;g && t < this.length && this.lk(t) < g;){++t;}return t < this.length?t:n?this.length - 1:-1;}}return n?this.length - 1:-1;};f.prototype.d9=function(h,g,n){h=this.Jo(h,g,n);return 0 <= h?this.get(h):void 0;};f.prototype.S7=function(h,g){var n,p;n=Math.floor(g * this.X / 1E3);g=Math.min(h + Math.ceil(g / this.vka),this.length);p=this.OD[g] - this.OD[h];if(p > n){for(;p >= n;){--g;p-=this.Gs[g];}return g - h + 1;}for(;p < n && g <= this.length;){p+=this.Gs[g];++g;}return g - h;};f.prototype.subarray=function(h,g){m.assert(void 0 === h || 0 <= h && h < this.length);m.assert(void 0 === g || g > h && g <= this.length);return new f(this.mediaType,this.la,{X:this.X,Sn:this.m6 + this.OD[h],oe:this.Gs.subarray(h,g)},this.N6 && ({QQ:this.N6.subarray(h,g + 1),pR:this.uXa}));};f.prototype.forEach=function(h){for(var g=0;g < this.length;++g){h(this.get(g),g,this);}};f.prototype.map=function(h){for(var g=[],n=0;n < this.length;++n){g.push(h(this.get(n),n,this));}return g;};f.prototype.reduce=function(h,g){for(var n=0;n < this.length;++n){g=h(g,this.get(n),n,this);}return g;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.vka};};f.prototype.dump=function(){var g;l.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.vka + "ms");for(var h=0;h < this.length;++h){g=this.get(h);l.trace("TrackFragments: " + h + ": [" + g.ba + "-" + g.Ma + "]");}};f.prototype.Pvb=function(){for(var h=0,g=0;g < this.length;g++){h=Math.max(this.Gs[g],h);}return this.gVa=h;};return f;})();b.bka=a;b.ny=c;a.prototype.Gib=c(a.prototype.lk);c(a.prototype.cX);c(a.prototype.oe);b.SCb=function(f){return "[" + Array(f.length).map(function(h,g){return f[g].toString();}).join(",") + "]";};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.F2a=b.jB=b.qn=b.O9=void 0;c=a(75);m=a(2);k=a(124);b.O9=function(l,d){return l.Jo(d,void 0,!0);};b.qn=function(l,d,f,h,g,n){var p,q,t,v;k.Gm.iq(l);if(f.Fc){p=f.dJ();d=p.wea;g=p.rv;p=d + Math.floor(h / g.U);0 === l && (p=Math.max(d,p - 1));l=g.WB(p - d);h=l.add(g);return new c.jl(f,{index:p,Va:l.bb,hb:h.bb,X:f.X,offset:0,ca:0});}m.assert(f.aa,"findFirstFragment called without stream fragments");q=f.aa;h=Math.max(f.aa.lk(0),h);0 === l && !n && d.ro && !d.fI && f.nf && (h=Math.max(f.aa.lk(0),h + f.nf.U));p=b.O9(q,h);t=f.zl(p);if(t.Ma < h)return t;v=t.Era(h);v?(0 < v.dj && t.ej({start:v.dj}),0 !== l || d.uZ || (0 > v.Nd && t.ej({start:v.dj}),v.Nd < (d.ro && !d.fI && f.nf?Math.floor(f.nf.U):0) && t.Dqa())):h >= t.Ma && p < q.length - 1 && (t=f.zl(p + 1));1 === l && g && t.Ma === g && p < q.length - 1 && (t=f.zl(p + 1));0 === l && !t.Ea && (d.r8a || d.MMb) && n && t.ej({});t.BR(h);return t;};b.jB=function(l,d,f,h,g,n){var p,q;if(f.Fc)return (m.assert(Infinity === h),new c.jl(f,{index:Infinity,Va:Infinity,hb:Infinity,X:f.X,offset:0,ca:0}));k.Gm.iq(l);p=f.aa;void 0 === h && (h=p.Ma);if(g && (g=g.fPb(f,h,l,d,n)))return g;g=p.la;n=h?h + b.F2a(l,g,d.AK,d.Vda):p.cX(p.length - 1);p=p.Jo(n,void 0,!0);g=f.zl(p);0 === p || g.ba !== h || 1 !== l && d.AK || (--p,g=f.zl(p));n=1 === l?n:h;if(n < g.Ma){q=g.Dra(n);q && 0 !== q.dj?g.ej({end:q.dj}):0 === l && (q || n < g.ba) && 0 !== p?g=f.zl(p - 1):1 !== l || (f.$Wb || d.HDa) && !q || 0 === p || (g=f.zl(p - 1));}0 === l && !g.Ea && d.r8a && g.ej();g.BR(h);return g;};b.F2a=function(l,d,f,h){var g;return 1 === l || h?0:f?null !== (g=null === d || void 0 === d?void 0:d.U) && void 0 !== g?g:0:d?-d.U:0;};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Nja=void 0;c=a(0);m=a(61);a(2);c.__importDefault(a(33));r=(function(){function k(l,d,f,h){this.oe=l;this.X=f;this.length=Math.min(l.length,d.length);this.oo=d;this.yd=h;}Object.defineProperties(k.prototype,{ca:{get:function(){return void 0 !== this.yd?this.yd:this.yd=this.Cka();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sizes:{get:function(){return this.oo;},enumerable:!1,configurable:!0}});k.prototype.subarray=function(l,d){return new k(this.oe.subarray(l,d),this.sizes.subarray(l,d),this.X);};k.prototype.concat=function(){var f,h;for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}d=[this];l=d.concat.apply(d,c.__spread(l));d=l.reduce(function(g,n){return g + n.length;},0);f=new Uint32Array(d);h=new Uint32Array(d);d=l[0].X;l.reduce(function(g,n){m.FSa.set(f,n.oe,g);m.FSa.set(h,n.sizes,g);return g + n.length;},0);return new k(f,h,d);};k.prototype.Cka=function(){for(var l=this.sizes,d=this.length,f=0,h=0;h < d;++h){f+=l[h];}return f;};k.prototype.N8a=function(l){return void 0 === this.PAb?!1:0 < this.PAb[l];};return k;})();b.Nja=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ika=void 0;c=a(370);b.ika=(function(){return function(m,k){var l;void 0 === k && (k={w:1,qt:1});this.wm=m;this.ddb=k;l=m.w * k.w;m=m.qt * k.qt;k=c.JE(l,m);this.AA={w:l / k,qt:m / k};};})();},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.fFa=void 0;c=a(0);m=a(921);k=a(20);l=a(2);d=a(75);r=(function(){function f(h,g,n){var p,q,t;this.J=g;this.G=n;this.Ek=h.track;this.p6=h.vg;this.Dl=h.Dl;this.xxb=h.Dl.Xj;this.xH=this.Ua=void 0;g=h.Sv;this.Sv=void 0 === g?!0:g;this.v8=h.v8;this.SM=void 0;this.iVa=this.Ag=0;this.url=this.OK=this.Lc=this.cu=this.fwa=this.location=this.Qa=this.Cb=void 0;this.uB=!1;this.zva=this.Cf=void 0;g=(h=this.J) && "object" === typeof h.Aeb && h.Aeb[this.profile];"object" === typeof g && (g=g[this.bitrate]) && (this.Ezb=new k.K(g.ticks,g.timescale));this.oyb=0 <= (null === (p=h.zDb) || void 0 === p?void 0:p.indexOf(this.profile));if((null === (q=h.KQ) || void 0 === q?0:q.hnc) && 1 === this.mediaType && (p=this.Dl,0 < (null === (t=p.ds) || void 0 === t?void 0:t.length))){t=p.ds.splice(0,p.ds.length);p=new Uint8Array(t.length);for(q=0;q < t.length;q++){p[q]=t[q].kb;}this.ds=p;}}Object.defineProperties(f.prototype,{Vd:{get:function(){return this.Fc?! !this.xH:! !this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{A8a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{P:{get:function(){return this.Ek.P;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{L:{get:function(){return this.P.L;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{I:{get:function(){return this.Ek.I;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mediaType:{get:function(){return this.Ek.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{la:{get:function(){return this.Ek.la;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{X:{get:function(){return this.Ek.X;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{UJ:{get:function(){return this.Ek.UJ;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{trackId:{get:function(){return this.Ek.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{track:{get:function(){return this.Ek;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{vg:{get:function(){return this.p6;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pa:{get:function(){return this.Dl.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{id:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Xj:{get:function(){return this.xxb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fc:{get:function(){return this.track.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bitrate:{get:function(){return this.Dl.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kb:{get:function(){var h;return this.O8?this.O8:null !== (h=this.Dl.vmaf) && void 0 !== h?h:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{C8b:{get:function(){return this.Dl.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Gda:{get:function(){return this.Dl.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{profile:{get:function(){return this.Dl.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Af:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vy:{get:function(){return this.Dl.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{nf:{get:function(){return this.Ezb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{XUb:{get:function(){return this.oyb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{aa:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sy:{get:function(){return this.Ua && this.Ua.sy;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{t9:{get:function(){return this.Ek.t9;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{s9:{get:function(){return this.Ek.s9;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ba:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zv:{get:function(){return void 0 !== this.SM?this.SM:this.PXb();},set:function(h){this.SM=h;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Uv:{get:function(){return this.Sv && !this.uB;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hg:{get:function(){return this.xH;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$Wb:{get:function(){l.assert(! !this.aa,"Initial header should have been received already");return this.P.jy() && -1 < this.Af.indexOf("h264mpl") && void 0 === this.aa.kna;},enumerable:!1,configurable:!0}});f.prototype.hq=function(){return this.P.hq(this.mediaType,this.Pa);};f.prototype.Q9=function(){var h;h=this.hq();return h && h.stream.aa;};f.prototype.kG=function(h){return this.P.kG(this,h);};f.prototype.jca=function(){this.track.jca();};f.prototype.ica=function(){this.track.ica();};f.prototype.hca=function(h,g,n,p,q,t,v,u){this.Fc || p && void 0 !== p.Sn && (this.track.Vd || void 0 !== p.oe && p.oe.length) && void 0 !== p.offset && void 0 !== p.sizes && p.sizes.length?(!this.Fc && this.J.ro && this.nf && 0 === p.Sn && (p.Sn+=this.nf.wg(p.X).bb),this.Vd || (this.xH=h,this.track.hca(this,g,n,p,t,u),this.Fc || (this.Ua=new m.QRa(this.p6,this.track.Fq,p,q,t,v,this.I)),this.track.x2b(this))):this.Fc || (p?this.G.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== p.Sn) + "," + this.track.Vd + "," + this.track.lza + "," + (void 0 !== p.oe) + "," + !(!p.oe || !p.oe.length) + "," + (void 0 !== p.offset) + "," + (void 0 !== p.sizes) + "," + !(!p.sizes || !p.sizes.length)):this.G.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};f.prototype.R7=function(h){this.Vd || (this.track.vHb(h.track),this.Ua=h.aa,this.xH=h.Hg);};f.prototype.zl=function(h){return new d.jl(this,this.aa.get(h));};f.prototype.f5a=function(h){var g;g=this.zl(h.index);h.Ea && (g.ej(h.Ea),g.BR(h.CC));return g;};f.prototype.Qkb=function(h,g){this.Ag=h;this.iVa=g;};f.prototype.zGb=function(){this.Qa=this.Cb=this.Lc=this.location=this.url=void 0;};f.prototype.Mo=function(){return 0 === this.mediaType?this.FQb():this.iUb();};f.prototype.p6a=function(h,g){if(this.Fc){if(h)return this.mSb();l.assert(void 0 !== g,"liveSegmentId is required for live media requests");return this.nSb(g);}return this.url;};f.prototype.dJ=function(){var h;l.assert(this.Fc && this.P.ja.WP,"liveMetadata missing from manifest");h=this.P.ja.WP;h=h.Pgb[h.V1a[this.Pa]];return c.__assign(c.__assign({},h),{Uib:this.P.chb - new Date(h.AYa).getTime(),wea:Number(h.wea),I5b:new k.K(Number(h.H5b),h.X).wg(this.X),rv:new k.K(h.duration,h.X).wg(this.X)});};f.prototype.toJSON=function(){return {movieId:this.I,mediaType:this.mediaType,streamId:this.Pa,bitrate:this.bitrate,streamIndex:this.vg,isAvailable:this.Sv,fittable:this.zv,vmaf:this.kb,resolutionWidth:this.C8b,resolutionHeight:this.Gda};};f.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Pa + ":" + this.bitrate;};f.prototype.mSb=function(){var h;l.assert(this.Fc,"Unexpected call to getLiveHeaderRequestUrl for non-live stream");return this.url + this.dJ().AWb.replace("$RepresentationID$",null !== (h=this.Dl.kAa) && void 0 !== h?h:"");};f.prototype.nSb=function(h){var g,n,p,q;l.assert(this.Fc,"Unexpected call to getLiveMediaRequestUrl for non-live stream");n=this.url;p=null !== (g=this.Dl.kAa) && void 0 !== g?g:"";g=this.dJ().media.replace("$Number$",h.toString());q=g.replace;for(h=h.toString();5 > h.length;){h="0" + h;}return n + q.call(g,"$Number%05d$",h).replace("$RepresentationID$",p);};f.prototype.PXb=function(){var h,g,n,p,q,t,v;if(!this.Vd)return !0;if(this.track.hua >= this.bitrate)return this.SM=!0;if(this.track.H$a <= this.bitrate)return this.SM=!1;(v=this.Fc?this.J.qba * this.bitrate * 8 * (this.J.tF + (null !== (g=null === (h=this.P) || void 0 === h?void 0:h.YF.U) && void 0 !== g?g:0)) < this.Ag:this.Ua.TEb(this.J.tF,this.Ag,null !== (p=null === (n=this.P) || void 0 === n?void 0:n.YF.U) && void 0 !== p?p:0,null !== (t=null === (q=this.P) || void 0 === q?void 0:q.YF.ca) && void 0 !== t?t:0,this.iVa))?this.track.lza && !this.Xj && this.track.Ro || (this.track.hua=this.bitrate):this.track.H$a=this.bitrate;return this.SM=v;};f.prototype.iUb=function(){return c.__assign(c.__assign({},this.track.Mo()),{profile:this.Af});};f.prototype.FQb=function(){return c.__assign(c.__assign({},this.track.Mo()),{profile:this.Af,bitrate:this.bitrate});};return f;})();b.fFa=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.dga=void 0;c=a(0);m=a(61);r=a(11);k=c.__importDefault(a(4));l=a(7);d=a(35);f=a(2);h=a(14);g=a(251);n=a(406);a=a(407);p=k.default.MediaSource;a=(function(q){function t(v,u,w,x,y,z,A){u=q.call(this,v,x,y,u,A) || this;n.a2.c8a(u,v,x,A);u.Tt=w;u.track=w.track;u.Wx=! !x.Wx;u.tQ=! !x.tQ;u.yE=! !x.yE;u.l3b=x.ca;u.IR=! !x.IR;u.Cla=(z?"(cache)":"") + u.Pa + " header";v=x.offset;x=x.ca;u.Rm && (v+=u.Rm.byteLength,x-=u.Rm.byteLength);u.oN(v,x);return u;}c.__extends(t,q);Object.defineProperties(t.prototype,{Ec:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Aca:{get:function(){return this.lzb;},enumerable:!1,configurable:!0}});t.prototype.Zc=function(){var v;if(!this.complete){v={type:"headerRequestCancelled",request:this};this.emit(v.type,v);}q.prototype.Zc.call(this);};t.prototype.tX=function(v){this.stream.jca();q.prototype.tX.call(this,v);};t.prototype.$O=function(v,u,w){this.stream.ica();q.prototype.$O.call(this,v,u,w);};t.prototype.pm=function(v){v.response && this.sTa(v.response);f.assert(this.Rm);v.cR();this.stream.ica();this.hzb()?q.prototype.pm.call(this,v):this.wTa?(this.oN(v.offset + v.ca,this.wTa),this.stream.jca(),q.prototype.pm.call(this,v)):this.o9(this);};t.prototype.qca=function(v){v.response && this.sTa(v.response);q.prototype.qca.call(this,v);};t.prototype.oN=function(v,u){v=new g.DS(this.stream,this.track,this.Cla + " (" + this.La.length + ")",{Ec:!0,offset:v,ca:u,tC:{ff:h.wa.jh},location:this.location,Fe:this.Fe,responseType:0},this,this.Je,this.G);this.push(v);this.yd=this.La.reduce(function(w,x){return w + x.ca;},0);};t.prototype.hzb=function(){var v,u,w,x,y,z,A;x=this.Je;y=new m.$w(t.Q0b,this.stream,this.Rm,this.stream.Fc?["moov"]:["sidx"],x.M3b,{Fqc:this.stream.track.lza,tya:void 0 === this.la,pkb:!p.Oc || !p.Oc.h_a,bDa:x.bDa,ro:x.ro,iS:this.Je.iS,rgb:!0,sea:!p.Oc || !p.Oc.ybb,eAa:this.Je.eAa});z=y.parse({la:this.la});this.Jec=x.iS && y.UUb;if(z.Ay){f.assert(z.Hg);this.xH=z.Hg;this.lzb=z.Aca;this.bUa=! !z.ONb;void 0 === this.la && void 0 === z.la && this.G.error("No frame duration available for " + this.Pa);y=z.la?new l.K(z.la):this.la;A=void 0;if(1 === this.Y_.mediaType && (null === (v=x.KQ) || void 0 === v?0:v.enabled))if(null === (u=this.Y_.ds) || void 0 === u?0:u.length)A=this.Y_.ds;else if((v=this.Y_.Dl.ds,0 < (null === v || void 0 === v?void 0:v.length)))for((A=new Uint8Array(v.length),w=0);w < v.length;w++){A[w]=v[w].kb;}else if(null === (w=z.hz) || void 0 === w?0:w.length)for((A=new Uint8Array(z.hz.length),w=0);w < z.hz.length;w++){A[w]=z.hz[w];}this.stream.hca(z.Hg,z.X,y,z.aa,z.rQ,z.Hk,A,z.trackId);this.Rm=void 0;}else this.wTa=z.iCb || 0;return ! !z.Ay;};t.prototype.sTa=function(v){this.Rm=this.Rm?l.$s(this.Rm,v):v;};t.Q0b=new k.default.Console("MP4","media|asejs");return t;})(a.aga);b.dga=a;d.Re(n.a2,a,!1,!1);d.Re(r.EventEmitter,a);},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.a2=void 0;c=a(0);m=a(2);k=a(178);r=(function(l){function d(f,h,g){var n;n=l.call(this,f,h) || this;n.IR=!1;n.Wx=!1;n.tQ=!1;n.yE=!1;n.Tt=void 0;d.c8a(n,f,h,g);return n;}c.__extends(d,l);d.c8a=function(f,h,g,n){k.Pw.ta(f,h,g);f.xH=g.Hg;f.Rm=g.wya;f.bUa=g.em;f.G=n;};Object.defineProperties(d.prototype,{Ec:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Hg:{get:function(){return this.xH;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wya:{get:function(){return this.Rm;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{em:{get:function(){return this.bUa;},enumerable:!1,configurable:!0}});d.prototype.Zc=function(){};d.prototype.ADa=function(){};d.prototype.qCb=function(f){m.assert(this.kd.Pa === f.Pa);!f.Vd && this.kd.Vd && f.R7(this.kd);!f.location && this.kd.location && (f.location=this.kd.location,f.Lc=this.kd.Lc,f.OK=this.kd.OK,f.url=this.kd.url,f.Cb=this.kd.Cb);this.kd=f;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},l.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.aa});};return d;})(k.Pw);b.a2=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aga=void 0;c=a(0);c.__importDefault(a(4));a(2);r=(function(m){function k(l,d,f,h,g){l=m.call(this,l,d,f,h,g) || this;l.rUa=!1;l.qUa=!1;l.wU=!1;l.La=[];l.Kp=!1;l.CVa=!1;l.QUa=!1;l.We=!1;l.Um=!1;l.Hi=!1;l.rM=!1;l.$M=void 0;l.rx=void 0;return l;}c.__extends(k,m);Object.defineProperties(k.prototype,{kva:{get:function(){return this.Kp && !this.wU;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.We;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Oza:{get:function(){return this.Um;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Hi || (this.Hi=this.La.every(function(l){return l.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.rM;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Lg:{get:function(){return this.La.reduce(function(l,d){return l + d.Lg;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.La.reduce(function(l,d){return l + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Nf:{get:function(){return this.$M || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{url:{get:function(){return this.La[0] && this.La[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{readyState:{get:function(){return this.ei || this.La.reduce(function(l,d){return Math.min(l,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.rx && this.rx.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ah:{get:function(){return this.rx && this.rx.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{WO:{get:function(){return this.rx && this.rx.WO;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vj:{get:function(){return this.rx && this.rx.vj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Tv:{get:function(){return ! !this.La.length && this.La[0].Tv;},enumerable:!1,configurable:!0}});k.prototype.push=function(l){this.QUa && l.ta(this.Sa);this.La.push(l);this.Kp && l.dK();};k.prototype.ta=function(l){m.prototype.ta.call(this,l);this.La.forEach(function(d){return d.ta(l);});this.QUa=!0;};k.prototype.dK=function(){this.CVa=!0;(this.Kp=this.La.every(function(l){return l.dK();})) && this.tX(this);this.CVa=!1;return this.Kp;};k.prototype.Zc=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.La.forEach(function(l){return l.Zc();});};k.prototype.Lea=function(l){this.ei=this.rx=void 0;return this.La.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.Lea(l):!0;});};k.prototype.abort=function(){var l,d,f;l=this.active;d=this.aborted;this.ei=7;this.rM=!0;this.Um=this.We=!1;f=this.La.map(function(h){return h.abort();}).every(function(h){return h;});d || this.$O(this,l,this.kva);return f;};k.prototype.getResponseHeader=function(l,d){var f;f=null;this.La.some(function(h){return ! !(f=h.getResponseHeader(l,d));});return f;};k.prototype.getAllResponseHeaders=function(l){var d;void 0 === l && (l=!1);d=null;this.La.some(function(f){return ! !(d=f.getAllResponseHeaders(l));});return d;};k.prototype.rca=function(){};k.prototype.$B=function(l){this.We || (this.We=!0);this.rUa || (this.rUa=!0,this.Qt=0,this.$M=this.pw=l.Nf,this.aP(this));};k.prototype.aK=function(l){this.Um || (this.Um=!0);this.qUa || (this.qUa=!0,this.$M=l.Nf,this.IE(this));};k.prototype.bK=function(l){this.$M=l.Nf;this.UI(this);this.Qt=this.bytesReceived;this.pw=l.Nf;};k.prototype.pm=function(l){this.$M=l.Nf;this.complete?(this.Hi=!0,this.ei=5,this.Um=this.We=!1,this.wU=!0,this.Bv(this)):this.UI(this);this.Qt=this.bytesReceived;this.pw=l.Nf;};k.prototype.$Z=function(l){this.$M=l.Nf;this.rx=l;this.ei=6;this.o9(this);};k.prototype.ZZ=function(){};k.prototype.Vi=function(){return this.La[0].Vi() + "-" + this.La[this.La.length - 1].Vi();};k.prototype.toString=function(){return "Compound[" + this.La.map(function(l){return l.toString();}).join(",") + "]";};k.prototype.toJSON=function(){return {requests:this.La};};return k;})(a(179).sG);b.aga=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ara=void 0;b.Ara=function(a,c){for(var m,k,l=a.length - 1;0 <= l;--l){if((k=a[l],k.Uv)){if(k.bitrate <= c)return l;m=l;}}return m;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zsa=b.yCb=void 0;b.yCb=function(a){return a.Vda;};b.Zsa=function(a,c){return void 0 !== a.mQ?a.mQ:c && void 0 !== c.mQ?c.mQ:100;};},function(r,b,a){var k;function c(l,d){this.nzb=l.KQ && l.KQ.enabled;this.q6=void 0;this.Zxb=d;this.nma=[];this.Gma=[];this.Wla=[];l=l.cWa || [];d=l.map(function(f){return f.Vmc;});d.unshift(0);this.uzb=l;this.vzb=d;this.$la=[];this.jd=[];}function m(l,d){var t,v,u,w;for(var f=[],h=[],g=0;g < l.length;g++){for(var n=l[g],p=[],q=0;q < n.length;q++){t=n[q] - (h[q] || 0);v=d && d[q];u=p;w=u.push;1 <= v && (v=Math.pow(10,v || 0),t=Math.round(t * v) / v);w.call(u,t);}f.push(p);h=n;}return f;}k=a(33).AJ;c.prototype.reset=function(l){this.q6=void 0;this.nma=[];this.Gma=[];this.Wla=[];this.$la=[];l && (this.jd=[]);};c.prototype.add=function(l,d){var f,h,g,n;f=d.filter(function(p,q){return k(p) || q === l.gf;});h=f.map(function(p){return p.bitrate;});d=d[l.gf];f=f.indexOf(d);g=this.q6;if(g && (g.length !== h.length || g.some(function(p,q){return p !== h[q];}))){n=this.P4a();n && (this.jd.push(n),this.reset(!1));}void 0 === g && (this.q6=h);this.nma.push([f,l.ku,l.Cc,l.noa,l.cZa,l.u_,l.V1b,l.ff,l.hr,l.Lk,l.dG - l.ku,l.R4b]);void 0 !== l.zy && this.Wla.push([l.ku,l.zy.xC,l.zy.RA,l.zy.lC]);f=d && d.aa;this.nzb && void 0 !== f && (g=f.Jo(l.Lk),-1 != g && (f=f.get(g),g=f.duration,d=f.kb || d.kb,void 0 !== d && this.Gma.push({ba:f.ba,duration:g,kb:d})));(d=l.l5b) && d.length && (d=d.slice(0),d.unshift(l.ku),this.$la.push(d));};c.prototype.P4a=function(){var l,d;l=m(this.nma);if(0 !== l.length){l={dltype:this.Zxb,bitrates:this.q6,seltrace:l,vmaftrace:this.Gma,paceratetrace:m(this.Wla)};d=m(this.$la,this.vzb);d && d.length && (l.predtrace={config:this.uzb,data:d});return l;}};c.prototype.get=function(){var l,d;l=this.P4a();d=this.jd;l && d.push(l);if(0 !== d.length)return d;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LGa=void 0;c=a(946);r=(function(){var E00;E00=2;function m(k){var F00;F00=2;for(;F00 !== 5;){switch(F00){case 2:this.G=k;F00=1;break;case 9:"";F00=2;break;F00=5;break;case 1:var N3j="1SIYbZ";N3j+="r";N3j+="N";N3j+="JCp";N3j+="9";N3j;F00=5;break;}}}for(;E00 !== 3;){switch(E00){case 2:m.prototype.yvb=function(k,l){var G00,d;G00=2;for(;G00 !== 14;){switch(G00){case 2:l=c.Q_a(l,k);d=k.steeringAdditionalInfo;G00=5;break;case 4:var p3j="app";p3j+="lyin";p3j+="g manifest b";p3j+="ased st";p3j+="reamingClientConfig";return (k=d.streamingClientConfig,this.G.trace(p3j + JSON.stringify(k)),this.DVa(l,k));break;case 8:return l;break;case 5:G00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 3:k=k.cdnResponseData;G00=9;break;case 7:var i3j="using s";i3j+="ab";i3j+=" cell >= 10";i3j+="0,";i3j+=" pipelineEnabled: ";var x3j="using sab ce";x3j+="ll >= ";x3j+="200, pipe";x3j+="lineEnabled: ";var E3j=", ";E3j+="allowSw";E3j+="it";E3j+="c";E3j+="hback";var O3j=", probeDe";O3j+="tai";O3j+="lDenominator: ";var K3j="using ";K3j+="sab cell >";K3j+="= 3";K3j+="0";K3j+="0, probeServerWhenError: ";var F3j=", allowSwi";F3j+="tch";F3j+="back";var X3j=", probeDetai";X3j+="lDenom";X3j+="inator: ";var d3j="us";d3j+="ing sab ";d3j+="cell >= 400, p";d3j+="robeServerWhenError: ";(k=k.sessionABTestCell) && (k=k.split(".")) && 1 < k.length && (k=parseInt(k[1].replace(/cell/i,""),10),400 <= k?(l.set?(l.set({probeServerWhenError:!0}),l.set({probeDetailDenominator:1}),l.set({allowSwitchback:!0})):(l.qw=!0,l.rK=1,l.xA=!0),this.G.trace(d3j + l.qw + X3j + l.rK + F3j + l.xA)):300 <= k?(l.set?(l.set({probeServerWhenError:!0}),l.set({probeDetailDenominator:1}),l.set({allowSwitchback:!1})):(l.qw=!0,l.rK=1,l.xA=!1),this.G.trace(K3j + l.qw + O3j + l.rK + E3j + l.xA)):200 <= k?(l.set?l.set({pipelineEnabled:!1}):l.Qr=!1,this.G.trace(x3j + l.Qr)):100 <= k && (l.set?(l.set({pipelineEnabled:!0}),l.set({maxParallelConnections:1}),l.set({maxActiveRequestsPerSession:l.Zaa}),l.set({maxPendingBufferLen:l.uab})):(l.Qr=!0,l.cQ=1,l.ry=l.Zaa,l.gba=l.uab),this.G.trace(i3j + l.Qr)));return l;break;case 9:G00=!k?8:7;break;}}};m.prototype.zvb=function(k,l){var H00;H00=2;for(;H00 !== 9;){switch(H00){case 1:return l;break;case 6:return l;break;H00=5;break;case 2:H00=!l.Fpa || k === this.Exb?1:5;break;case 5:this.Exb=k;for(var d in l.Fpa){new RegExp(d).test(k) && (l=this.DVa(l,l.Fpa[d]));}return l;break;}}};m.prototype.DVa=function(k,l){var I00,d,f,h;I00=2;for(;I00 !== 4;){switch(I00){case 2:for(f in l){if(l.hasOwnProperty(f)){var S3j="I";S3j+="nv";S3j+="alid k";S3j+="ey";h=l[f];k.set?0 === k.set((d={},d[f]=h,d)) && this.G.trace(S3j + f):k[f]=h;}}return k;break;}}};return m;break;}}})();b.LGa=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.VKa=b.ST=void 0;c=a(0);m=a(11);k=c.__importStar(a(10));l=c.__importDefault(a(86));d=a(14);f=a(255);h=a(20);r=a(35);g=c.__importDefault(a(4));n=a(951);p=a(413);(function(t){t[t.R3a=0]="forwards";t[t.Sna=1]="backwards";t[t.yQ=2]="none";})(q=b.ST || (b.ST={}));a=(function(t){function v(u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I){var R,O,J;O=t.call(this,void 0,w,y,D.P,u,D,void 0,F,H,h.K.Ga(G),B.Le.bind(B),E,I,void 0,new m.EventEmitter(),void 0) || this;O.yb=u;O.Ki=x;O.tc=z;O.w5=A;O.O=B;O.mN=C;O.Jg=E;O.AX=L;O.mh=K;O.kj=I;O.active=!1;O.FUa=[];O.bma=0;null === (R=O.P) || void 0 === R?void 0:R.Tza(O);O.children=Object.create(null);O.Zy=[];O.Be=void 0;void 0 === H && (H=h.K.Ga(D.ba));J=[O.J.oYa,O.J.rCa];F.forEach(function(M){var P;P=M.mediaType;M=new p.J3(u,O.Ki,O.G,O,M,H.U,J[P],w,O.w5,O.mh,null === E || void 0 === E?void 0:E.$a(P));O.ve.a$b(P,M);});O.Qu=O.ve.A_;return O;}c.__extends(v,t);Object.defineProperties(v.prototype,{I:{get:function(){return this.P.I;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{On:{get:function(){var u,w,x,y;return [null !== (w=null === (u=this.$a(0)) || void 0 === u?void 0:u.On) && void 0 !== w?w:0,null !== (y=null === (x=this.$a(1)) || void 0 === x?void 0:x.On) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ao:{get:function(){var u,w,x,y;return [null !== (w=null === (u=this.$a(0)) || void 0 === u?void 0:u.Ao) && void 0 !== w?w:{U:0,ca:0},null !== (y=null === (x=this.$a(1)) || void 0 === x?void 0:x.Ao) && void 0 !== y?y:{U:0,ca:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Zda:{get:function(){return this.u.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Vya:{get:function(){return this.Zda + this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Jc:{get:function(){return this.u.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ef:{get:function(){return this.Jc + this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{pc:{get:function(){return this.P.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{weight:{get:function(){return this.u.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{u:{get:function(){return this.Op;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kl:{get:function(){return this.ve;},enumerable:!1,configurable:!0}});v.prototype.vd=function(){var u;this.If || (this.active=!1,this.Jg && (delete this.Jg.children[this.u.id],this.Jg=void 0),k.Jf(this.children,function(w){w && w.Jg && (w.Jg=void 0);}),this.children=Object.create(null),this.FM=void 0,t.prototype.vd.call(this),null === (u=this.P) || void 0 === u?void 0:u.pDa(this),this.ve.clear());};v.prototype.tAa=function(u,w){void 0 === w && (w=q.Sna);this.Kl.forEach(function(x){(k.oa(u) || x.mediaType === u) && x.reset();});switch(w){case q.Sna:this.Jg && this.Jg.tAa(u,w);break;case q.R3a:this.children && k.Jf(this.children,function(x){x && x.tAa(u,w);});}};v.prototype.HP=function(u){var w,x,y;if(!this.active)return !1;w=this.Jg;if(w){x=w.$a(u);y=x.Sa.vdb;if(0 !== y && (w.KN(u),y=x.Sa.vdb,0 !== y))return !1;}return !0;};v.prototype.ce=function(u){return this.Kl.get(u);};v.prototype.WUb=function(){return this.Kl.every(function(u){return 0 === u.pC;});};v.prototype.toJSON=function(){return c.__assign(c.__assign({},t.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.rd,playerEndPts:this.ef,pipelines:this.Kl,previousBranch:this.Jg});};v.prototype.Qhb=function(u,w){this.P.pDa(this);this.P=this.u.P=u;this.zBa(this.P);this.P.Tza(this);this.Kl.forEach(function(x){var y;y=w[x.mediaType];y && x.v0(y);});};v.prototype.$Sb=function(u){return this.kj[u];};v.prototype.$a=function(u){return this.Kl.get(u);};v.prototype.rTb=function(u){return this.$a(u).pC;};v.prototype.wBa=function(u,w,x){var y,z,A,B;y=this;z=this.u;u=this.C7(z.ba,this.P,u,this.I === (u?u.I:this.tc.Wc.I));A=u.XQ;B=u.kB;void 0 === w && (w=[0,1]);0 === B.length || w.forEach(function(C){var D,F;D=y.$a(C);x && (D.md=B[C]);F=y.lX(z.Ma);D.jea(F[C]);});return A;};v.prototype.sfb=function(u,w){var x,y,z;x=this.yb;y=this.$a(0);void 0 === w && (w=y.zWb);this.Jg && (z=this.Jg.ce(0));x=new p.J3(x,this.Ki,this.G,this,u,w,y.vR,this.J,this.w5,this.mh,z);this.ve.replace(y,x);this.Qu=this.ve.A_;this.wBa(this.Jg,[0],!0);x.SK(w,! !this.Jg);y.vd();k.Jf(this.children,function(A){A && A.sfb(u);});};v.prototype.xv=function(u,w){if(w=this.$a(w))return w.Sa.xv(u);};v.prototype.KN=function(u){void 0 === u?this.Kl.forEach(function(w){w.KN();}):this.$a(u).KN();};v.prototype.F_=function(u,w,x){(u=this.$a(u)) && u.Sa.F_(w,x);};v.prototype.e$=function(u,w){(w=this.$a(w)) && w.Sa.e$(u);};v.prototype.h_b=function(u){this.FUa[u]=!0;};v.prototype.PFb=function(){var u;u=this;return [0,1].every(function(w){return !u.pc(w) || u.FUa[w];});};v.prototype.KFb=function(u,w,x,y){var z,A,B,C,D,F,G,E,H;z=this.J;A=this.yb;B=this.O.getState();C=B === d.wa.sd || B === d.wa.bg;if(!C && void 0 === x)return {$e:!0};if(B === d.wa.bg && g.default.time.ga() < this.bma + z.oxa)return {$e:!1};D=this.$a(0);F=this.$a(1);G=this.tc.Jx(this,0);E=this.tc.Jx(this,1);H=f.Rca(B);G=!D || D.JZa(H,this.O.Le(),w,G,this.O.kq(),y);E=!F || F.JZa(H,this.O.Le(),u,E,this.O.kq(),y);void 0 !== x && G && (x=x.trackId,u=this.P.getTrackById(x),this.Fvb(x,u.jG),A.CA=void 0);if(G && E)return (this.mN(),this.$V=g.default.time.ga(),B === d.wa.bg && (this.bma=g.default.time.ga()),{$e:!0,dv:F?F.jI:D.jI});G=this.th(0);E=this.th(1);if(C){A=!F || E > z.uj;if((!D || G > z.uj) && A && (D=this.AX(),D >= z.eC))return (this.Ob("buffering longer than limit: " + D + " >= " + z.eC + ", audio buffer: " + G + " ms, video buffer: " + E + " ms"),this.mN(),this.$V=g.default.time.ga(),B === d.wa.bg && (this.bma=g.default.time.ga()),{$e:!0,dv:"prebufferTimeLimit"});this.Ki.tyb();}return {$e:!1};};v.prototype.Roa=function(u,w){var x,y,z,A,B,C;x=this.J;y=this.$a(0);z=this.$a(1);w?(w=this.th(0,u),u=this.th(1,u)):(w=this.tc.Jx(this,0,u),u=this.tc.Jx(this,1,u));A=x.uj;B=!this.pc(0) || y.Ei && 0 === y.Sa.CF && 0 === y.Sa.lu;y=!this.pc(1) || z.Ei && 0 === z.Sa.CF && 0 === z.Sa.lu;C=B && y;x=!B && w < x.uj;if(!C && (x || !y && u < A))return !1;if(z && z.$e || !this.pc(1))return !0;if(C)if(this.yb.W5 && 0 === w && 0 === u)this.Ob("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};v.prototype.fea=function(u,w){var x,y;x=this;y=this.J;this.Kl.forEach(function(z){z.seeking=void 0;});u && y.Si && this.Kl.forEach(function(z){var A;if(z){A=x.tc.nI(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Ao.ca + ", completedMs: " + z.gO + ", completedBytes: " + A + ", partials: " + z.Sa.CF + ", streamingPts: " + z.Cc + ", completeStreamingPts: " + z.wr + ", fragments: " + JSON.stringify(z.Sa.aa) + ", toAppend: " + w(z.mediaType);x.Ki.Fn(z);}});};v.prototype.Xy=function(u,w,x){var y,z,A;y=this;z=g.default.time.ga();A={};k.Jf(this.children,function(B){var C,D,F,G;if(B){if(B.Be){B.Be.yMb=z - B.Be.V$;B.Be.V$=void 0;C=B.Be.weight;}else C=y.tc.v6a(y.u.id,B.u.id);D=B.lB();F=y.$a(0) && 0 === D.Ns;G=y.$a(1) && 0 === D.rp;A[B.u.id]={weight:C,Ws:D,mY:!F && !G};}});x={$r:z,Ee:u,iqa:x,uea:this.u.id,Be:A};u || (u=w.Le(),x.JR=u - (this.u.ba + this.Ze),x.JR=Math.max(0,x.JR),x.q8=0,x.startTime=z);this.Zy.unshift(x);return x;};v.prototype.XGb=function(u){var w,x;w=this.Zy[0];w.Ee && (w.JR=this.Jc - this.u.ba,w.JR=Math.max(0,w.JR));w.nkb={};x=u.lB();l.default(x,w.nkb);w.mY=u.Ao.every(function(y){return 0 < y.U;});this.Zy=[];return w;};v.prototype.Rl=function(u){var w;w=this.u;u-=this.Ze;if(w.ba < u && u < w.Ma)this.Zy.shift();else if(w=this.Zy[0])w.Rl=!0;};v.prototype.C7=function(u,w,x,y){var z,A,B,C;z=this;void 0 === w && (w=this.P);A=!1;if(x){A=!0;B=x.$a(1).pe;x=x.$a(0).pe;if(!B || !x)return {XQ:[],kB:[]};B=B.Ma;y || (B=void 0);}C=this.q3a(u,B,A,w);w.Rb === this.tc.tKb && [1,0].forEach(function(D){var F;F=z.$a(D);F && (F.md=C[D]);});return {XQ:C.map(function(D){return D.ba;}),kB:C};};v.prototype.q3a=function(u,w,x,y){var z;z=this;void 0 === y && (y=this.P);return this.MWa(y)?[1,0].map(function(A){var B;if(!z.pc(A))return {};B=y.Rh[A];A=z.$a(A).qn(B.stream,u,w,x);u=A.ba;return A;}).reverse():[];};v.prototype.lX=function(u,w){var x;x=this;void 0 === w && (w=this.P);return this.MWa(w)?[1,0].map(function(y){var z;if(!x.pc(y))return {};z=w.Rh[y].stream;y=x.$a(y).jB(z,u);u=x.J.Ch?new h.K(y.hb,z.la.X).U:y.Ma;return y;}).reverse():[];};v.prototype.Vdc=function(u,w){var x;x=this.u.Ma;x && x < w && (u=this.lX(x));w=this.ce(1);x=this.ce(0);w && w.jea(u[1]);x && x.jea(u[0]);};v.prototype.MWa=function(u){var w;w=u.Rh;if(!w)return !1;u=w[1];u=!this.pc(1) || u && u.stream.Vd;w=w[0];w=!this.pc(0) || w && w.stream.Vd;return u && w?!0:!1;};v.prototype.Fvb=function(u,w){this.Ki.ryb(u,w);};return v;})(n.$Ka);b.VKa=a;r.Re(m.EventEmitter,a);},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.J3=void 0;c=a(0);r=a(414);m=c.__importDefault(a(29)).default.cb;k=a(401);l=a(14);d=c.__importDefault(a(4));f=a(184);h=a(2);g=a(20);n=a(982);a=(function(p){function q(t,v,u,w,x,y,z,A,B,C,D){u=p.call(this,w,A,u,w,w,x,g.K.Ga(y),z,!1,function(){return null === D || void 0 === D?void 0:D.re;}) || this;u.yb=t;u.Ki=v;u.Gg=B;u.mh=C;u.koa=0;u.HE=[];u.Tz=!1;u.Np.olb=!1;u.vU=new n.WKa(w,u.mh,A,u.G,u.mediaType,u.Ki,u.Sa,u.yb);u.FYb=d.default.time.ga();u.wYb=void 0;u.NJ=A.Mua;u.oeb=d.default.time.ga();v=f.lP(A);t=v.t_;v=v.mK;u.k5b=0 === u.mediaType?t:v;u.v0(x);return u;}c.__extends(q,p);Object.defineProperties(q.prototype,{Os:{get:function(){return this.Sa.Os;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gO:{get:function(){return this.Sa.gO;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lE:{get:function(){return this.Sa.lE;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pC:{get:function(){return this.Sa.pC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ei:{get:function(){return this.vU.Ei;},set:function(t){this.vU.Ei=t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ws:{get:function(){return this.vU.ws;},set:function(t){this.vU.ws=t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Maa:{get:function(){return this.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zWb:{get:function(){return this.OUa.U;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vR:{get:function(){return this.Ej.vR;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CTb:{get:function(){return this.yb.hma;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$e:{get:function(){return this.Tz;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jI:{get:function(){return this.GTa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.Ei=!1;this.Np.reset();};q.prototype.vd=function(){this.reset();p.prototype.vd.call(this);};q.prototype.jB=function(t,v){return k.jB(this.Ek.mediaType,this.J,t,v,this.Ch,this.yb.W_b);};q.prototype.qn=function(t,v,u,w){return k.qn(this.Ek.mediaType,this.J,t,v,u,w);};q.prototype.Rl=function(){this.NJ=this.J.Mua;};q.prototype.KN=function(){this.Sa.dfa();};q.prototype.v0=function(t){var v,u;v=this.yb;u=this.mediaType;h.assert(t.mediaType === u);h.assert(t.P === this.Xa.P);this.Ek=t;this.Xa.P.zDa(u,t.bd);v.hxb(this,t.Nr);this.UEb(t.bd);this.re.v0(t);this.Xa.P.dpa();this.Ei=!1;};q.prototype.yra=function(t){var v;v=this.Xa.P.Rh[this.mediaType];if(v && v.stream.Vd && (t=v.stream.aa.Jo(t),-1 !== t))return t;};q.prototype.SK=function(t,v){var u,w,x;if(this.md && this.md.ba === t){v=this.md.index;u=t;}else {w=this.Xa.P;x=w.Rh[this.mediaType];if(!x || !x.stream.Vd){this.gK=t;this.k4b=v;return;}u=x.stream.aa;this.md=this.qn(x.stream,t,void 0,v);if(void 0 === this.md){if((v=u.length - 1,u=u.lk(v),this.Ob("setStreamingPts out of range of fragments, pts:",t,"last startPts:",u,"fragment index:",v,"fastplay:",w.Ef.df),w.Ef.df)){this.gK=t;return;}}else (v=this.md.index,u=this.md.ba);}this.mm=v;this.gV=u;this.gK=void 0;};q.prototype.Wec=function(t){var v,u;v=this.Ek.cy(t);u="verifying streamId: " + t + " stream's track: " + (v?v.Pa:"unknown") + " currentTrack: " + this.Ek.trackId;return v?!0:(this.Ki.Fn(u),this.Ki.Fn("unknown streamId: " + t),!1);};q.prototype.UEb=function(t){this.oVb=t.reduce(function(v,u){return u.Uv && u.bitrate > v.bitrate?u:v;},t[0]);};q.prototype.jea=function(t){this.pe=t;};q.prototype.XZb=function(t,v,u,w,x){this.wkb(t,v,w,x);u && ++this.koa;this.yb.Dk();};q.prototype.$B=function(t){t.Ma && t.ba && (this.NJ-=t.Ma - t.ba);p.prototype.$B.call(this,t);};q.prototype.pm=function(t){this.X6a(t);this.Bv(t);};q.prototype.Xdc=function(t){var v;v=d.default.time.ga();this.NJ+=t * (v - this.oeb);this.oeb=v;};q.prototype.A8b=function(){this.NJ=this.J.Mua;};q.prototype.cO=function(t){this.Sa.Moa();this.Ch || this.vU.cO(t,this.Jc);};q.prototype.X6a=function(t){var v,u,w;u=this.Maa;w=this.yb;this.Gg.xWa() || (this.Ki.Qyb(t.mediaType,t.P.Rb,t.stream.track.SD,this.wr,this.V),null === (v=this.Ch) || void 0 === v?void 0:v.fWb(t),v=u.O.Le() || 0,w.Fb.Vz() || (u=u.$a(m.Jb)) && !u.$e && u.y$ && w.Fb.Ata(u),this.cO(v),this.yb.W6a(t),this.Gg.f5(this) && this.Gg.Dk());};q.prototype.jya=function(t){this.yb.r$(t);};q.prototype.JZa=function(t,v,u,w,x,y){var z,A;z=this.J;A=z.uj;if(u >= z.uj && (z.Bda && (A=u + 1E3),z.Cda && !this.connected))return !1;if(this.Ch)return this.Ch.KA();u=this.Ei && 0 === this.Sa.vya && 0 === this.Sa.lu;return !u && w < A?!1:u?y && 0 === w?(this.Ob("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.ZFb(t,v,x);};q.prototype.s$b=function(t){this.gV=t;};q.prototype.fea=function(t){this.Tz=!0;this.GTa=t;};q.prototype.bpa=function(){this.Tz=!1;this.GTa=void 0;};q.prototype.ZFb=function(t,v,u){if(this.$e || 0 === this.mediaType)return !0;if(void 0 === this.im)return !1;v=this.Twb(v,t);this.track.P.Dn.n1(this.track.P.L,this.track.bd);this.Ej.cza([this.im],!1,l.Qca(t),v,this.k5b);t=this.Ej.KA(v,t,u,this.im,this.Xa.P.Cr);t.complete?this.fea(t.reason):(this.bpa(),this.oF=t.oF,this.progress=t.progress);return this.$e;};q.prototype.Twb=function(t,v){var u,w,x,y,z;y=d.default.jq()[this.mediaType];z=this.Sa.e$();t={Xs:y,ba:null !== (u=z.rd) && void 0 !== u?u:0,oc:t,Cc:null !== (w=z.PQ || t) && void 0 !== w?w:0,Kk:null !== (x=z.mW || t) && void 0 !== x?x:0,Lg:z.Lg,wj:z.wj,hp:z.hp,W3a:z.aa.length,aa:z.aa};"number" !== typeof t.ba?(t.ba=0,t.Cc=0):v === l.Mc.sd && t.oc !== t.ba && (t.oc=t.ba);return t;};return q;})(r.Yia);b.J3=a;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.Yia=void 0;c=a(0);m=a(11);k=a(952);l=a(85);d=a(953);f=a(955);h=a(961);g=a(182);n=a(259);p=a(7);q=a(2);t=a(20);v=c.__importDefault(a(4));r=a(76);u=a(35);w=a(417);x=a(125);y=a(126);a=(function(z){function A(B,C,D,F,G,E,H,L,K,I,R,O,J){var M;M=z.call(this,B) || this;M.J=C;M.$d=G;M.Ek=E;M.OUa=H;M.zx=O;M.Ep=J;M.events=new m.EventEmitter();M.connected=!1;M.Wta=!1;M.Pm=!1;M.sxb=0;M.CWa=0;M.q9=new d.iNa(M.mediaType,C,D,M);M.G=p.oi(v.default,D,"[" + M.mediaType + "]");M.ml=M.G.error.bind(M.G);M.Ob=M.G.warn.bind(M.G);M.Nj=M.G.trace.bind(M.G);M.gV=H.U;"string" === typeof L || void 0 === L?(B=0 === M.mediaType && C.Nqa || 1 === M.mediaType && C.Oqa,M.wma=new n.Uja(L,C,new g.B4(I),B)):M.wma=L;M.Yl=new k.ROa(M,F,M.J,M.G,M.mediaType);M.Np=new f.KQa(M,C,M.G,M.Yl,M.$d,M.mediaType,M.zx,function(){return M.Aj;});C.Ch && (M.Ch=new h.FRa(C.Ch,M.G));K && (M.Qf=null !== R && void 0 !== R?R:w.jv(M.mediaType,M.track.P,M.J,M.G,M.Yl.SPb.bind(M.Yl),M.Yl.RPb.bind(M.Yl),function(){}),M.Qf.on("created",function(){return M.events.emit("requestQueueCreated");}));return M;}c.__extends(A,z);Object.defineProperties(A.prototype,{mediaType:{get:function(){return this.Ek.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{track:{get:function(){return this.Ek;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Xa:{get:function(){return this.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{V:{get:function(){return this.$d.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Sa:{get:function(){return this.Np;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{bd:{get:function(){return this.Ek.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ao:{get:function(){return this.Np.Ao;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{On:{get:function(){return this.Np.On;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Cc:{get:function(){return this.gV;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{yea:{get:function(){var B;return null !== (B=this.fd) && void 0 !== B?B:this.vt;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{lW:{get:function(){var B;return null !== (B=this.Sa.lW) && void 0 !== B?B:this.yea;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Oma:{get:function(){return this.Sa.lW;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{wr:{get:function(){return this.Sa.wr;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{spa:{get:function(){return this.Sa.spa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{uYb:{get:function(){var B;B=this.Sa.J9a;return null === B || void 0 === B?void 0:B.Jd;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Vv:{get:function(){return ! !this.pe && (this.mm > this.pe.index || this.gV >= this.pe.Jc);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{oj:{get:function(){return this.Vv && 0 === this.Np.CF;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{DCb:{get:function(){return ! !this.Sa.J9a;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Os:{get:function(){return this.Sa.Os;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Hq:{get:function(){return this.Kc?t.K.max(this.Kc.Aa(this.bG),t.K.Ia):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{SI:{get:function(){return this.Xa.SI;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{J0a:{get:function(){return this.Sa.aa.rv;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ej:{get:function(){return this.wma;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{re:{get:function(){return this.Ej.re;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{im:{get:function(){return this.Ej.re.im;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{X:{get:function(){var B,C;return null !== (C=null === (B=this.md) || void 0 === B?void 0:B.X) && void 0 !== C?C:1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Va:{get:function(){var B;return null === (B=this.md) || void 0 === B?void 0:B.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hb:{get:function(){var B;return null === (B=this.pe) || void 0 === B?void 0:B.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Aj:{get:function(){return this.Xa.Bd.wg(this.X).bb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{y$:{get:function(){return this.Sa.y$;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Yy:{get:function(){return this.Sa.Yy;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{gCa:{get:function(){return this.Sa.gCa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vt:{get:function(){return this.OUa.add(this.Xa.Bd);},enumerable:!1,configurable:!0}});A.prototype.pV=function(){var B;B=this;this.Np.pV(void 0,function(C){var D;D=C[0];C=D.$c;D=D.index;D < B.mm && B.RK(C,D);});};A.prototype.reset=function(){this.Sa.reset();this.md && this.RK(this.md.$c,this.md.index);this.Qf && this.Xa.P.wN(this.mediaType,this.Qf);};A.prototype.vd=function(){var B;this.Pm=!0;this.Np.vd();null === (B=this.wma) || void 0 === B?void 0:B.re.lb();this.Qf && (this.Xa.P.wN(this.mediaType,this.Qf),x.Lq.instance.vO(this.Qf),this.Qf.removeAllListeners(),this.Qf=void 0);};A.prototype.toJSON=function(){return {started:this.Yy,startOfSequence:this.gCa,segmentId:this.V,requestedBufferLevel:this.On,viewableId:this.$d.P.L,hasFragments:this.y$};};A.prototype.Fm=function(){return this.Sa.Fm();};A.prototype.RK=function(B,C){this.gV=B;this.mm=C;};A.prototype.by=function(){return this.Sa.by();};A.prototype.BE=function(){this.Sa.close();};A.prototype.mE=function(B){return (B=this.Sa.xv(B.U))?B.complete:!1;};Object.defineProperties(A.prototype,{Uh:{get:function(){return this.$d.Uh;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{bG:{get:function(){var B,C,D,F;return null !== (F=null !== (B=this.Sa.bG) && void 0 !== B?B:null === (D=null === (C=this.md) || void 0 === C?void 0:C.ec) || void 0 === D?void 0:D.add(this.Xa.Bd)) && void 0 !== F?F:this.vt;},enumerable:!1,configurable:!0}});A.prototype.xkb=function(B,C,D){var F;q.assert(this.Qf);q.assert(!this.Pm,"pipeline.tryIssueRequest on disabled pipeline");if(!B.Vd)return (B=B.kG(this.Qf))?{sj:B,reason:"success"}:{sj:B,reason:"pipelineTryIssueHeaderRequest"};if(B.Fc)return (q.assert(this.track.Fc,"Unexpected live stream."),this.qdc(B,this.Qf,D));F=B.Q9();q.assert(F,"initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:" + B.Vd + ", headerFragments:" + F);return this.wkb(B,F,this.Qf,C,D);};A.prototype.$$=function(B,C){B && (this.md=B);C && (this.pe=C);q.assert(this.md);q.assert(this.pe);q.assert(void 0 === this.mm);this.RK(this.md.$c,this.md.index);};A.prototype.truncate=function(B){var C;C=this;q.assert(this.md,"expected first fragment to exist on updateStreaming");this.pe=B;this.Vv && (B=c.__read(this.Np.cBb(B),2),this.RK(B[0],B[1]),this.zt() && (this.Sa.lhb(),this.Sa.Moa(),Promise.resolve(function(){C.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:C.mediaType});})));};A.prototype.fF=function(){return this.zt()?!1:this.vh()?!0:this.track.Nba;};A.prototype.vh=function(){return void 0 !== this.md && void 0 !== this.pe;};A.prototype.zt=function(){return this.Pm || this.Vv;};Object.defineProperties(A.prototype,{meb:{get:function(){var B;B=!0;this.J.Cda && (B=this.connected);this.J.Bda && (B=B && this.Wta);return B;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{A3b:{get:function(){return void 0 !== this.Ch;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Tcb:{get:function(){var B;return (null === (B=this.Ch) || void 0 === B?0:B.KA())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});A.prototype.pm=function(B){this.Yl.C1b(B);"oncomplete" === this.J.$7a && (this.Wta=!0);this.Bv(B);};A.prototype.$B=function(B){B.Ec || this.Yl.hcb(B.stream,B.ba,B.$c);this.Yl.y1b(this.V,B.stream,B.Ec);this.aP(B);};A.prototype.aK=function(B){B.P6 || (this.connected=!0);"onfirstbyte" === this.J.$7a && (this.Wta=!0);this.IE(B);};A.prototype.n5a=function(B){var C,D;C=this.Sa.aa;if(0 === C.length)return {aa:[],Bca:0,wj:0,hp:0};D=C.XO(B.U);0 > D && (D=void 0 === C.ba || B.U <= C.ba?0:C.length);return {aa:C.D9b(D),Bca:Math.max(0,C.y_a - D),wj:C.wj,hp:C.hp};};A.prototype.QX=function(){var B;q.assert(this.track.Fc,"Unexpected call to getLiveEdgeTimestamp. Not a live pipeline.");B=(this.im?this.im:this.bd[0]).dJ().Uib;return t.K.Ga(Math.max(0,B - this.J.Jt));};A.prototype.wkb=function(B,C,D,F,G){var E,H,L,K,I,R,O,J,M,P;O=this.$d;J=O.P;M=this.mediaType;P=this.mm;if(P >= C.length)return (this.Ob("makeRequest nextFragmentIndex:",P,"past fragments length:",C.length),{sj:!1,reason:"insufficientFragments"});if(!this.md || !this.pe)return (this.Ob("makeRequest delayed, first or last fragment not set","first:",! !this.md,"last:",! !this.pe),{sj:!1,reason:"noFirstOrLastFragment"});C=0 === M && ! !this.J.yw && (null === (E=this.Xa.u.u) || void 0 === E?void 0:E.uv) && this.md.ln < this.J.yw && void 0 !== this.md.Ea;E=0 === M && ! !this.J.yw && (null === (H=this.Xa.u.u) || void 0 === H?void 0:H.vv) && this.pe.ln < this.J.yw && void 0 !== this.pe.Ea;H=this.q9.m5a(B,P,C,E);if(0 === M && this.J.yw){if(null === (L=this.Xa.u.u) || void 0 === L?0:L.uv)H.yv?H.thb():H.index === this.md.index + 1 && this.md.ln < this.J.yw && void 0 !== this.md.Ea && H.thb(this.md.Ea.end - this.md.Ea.start);if(null === (K=this.Xa.u.u) || void 0 === K?0:K.vv)H.Wo?H.uhb():H.index === this.pe.index - 1 && this.pe.ln < this.J.yw && void 0 !== this.pe.Ea && H.uhb(this.pe.Ea.end - this.pe.Ea.start);}if(this.Ep && !this.Ep.SFb(this.mediaType,H.ca))return {sj:!1,reason:1 === this.mediaType?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.Jva=H.region;H.tC=G;null === (I=this.Ch) || void 0 === I?void 0:I.hWb(H,B);H.Wo && 1 === M && this.Yl.Pla(O.u,H.Ma);this.J.dQ && (H.dQ=this.J.dQ);void 0 !== B && (H.location=B.location,H.Fe=B.Lc,H.nBa=B.cu);(G=O.P.nea) && "OPEN_CONNECT_APPLIANCE" === B.du && (M=0 === M && this.J.Nqa || 1 === M && this.J.Oqa,L=this.J.yNb && 1 === this.mediaType && this.J.Qr,H.b0=M?F:void 0,H.oea=G.hv({bE:O.th(this.mediaType),Wba:this.J.tNb?this.J.Wba:void 0,Yjb:String(v.default.time.ga()),sW:M?F:void 0,aoa:L?{start:H.offset,size:H.ca}:void 0}));v.default.time.ga();D=this.Sa.u0a(H,D,B);if(!D.dK()){this.Ob("MediaRequest.open error: " + D.ah + " native: " + D.vj);if(7 === D.readyState)return {sj:!1,reason:"requestAborted"};this.Ob("makeRequest caught:",D.ah);J.Pf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {sj:!1,reason:"openAseMediaRequest"};}null === (R=this.Ch) || void 0 === R?void 0:R.SNb(D,H,B);this.Yl.D1b(D);this.RK(D.Jc,H.uQ);this.zt() && (this.Sa.lhb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {sj:!0,reason:"success"};};A.prototype.qdc=function(B,C,D){var F,G,E,H,L,K;F=this.$d.P;G=this.mm;E=B.dJ();H=E.Uib;L=E.rv;K=L.WB(G - E.wea);E=K.add(L);0 === this.CWa && (this.CWa=v.default.time.ga(),this.sxb=E.U);if(E.add(L).U > H)return {sj:!1,reason:"exceedsLiveEdge"};B=this.Sa.u0a({mF:G,index:G,Va:K.bb,hb:E.bb,X:B.X,offset:0,ca:0,tC:D,Bec:!this.J.mjb},C,B);if(!B.dK()){this.Ob("MediaRequest.open error: " + B.ah + " native: " + B.vj);if(7 === B.readyState)return {sj:!1,reason:"requestAborted"};this.Ob("makeRequest caught:",B.ah);F.Pf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {sj:!1,reason:"openAseMediaRequest"};}this.RK(E.U,this.mm + 1);return {sj:!0,reason:"success"};};return A=c.__decorate([y.XI],A);})(l.Ow);b.Yia=a;u.Re(r.lz,a);u.Re(r.tu,a);},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Hqa=b.At=b.Aw=void 0;r=a(0);m=r.__importStar(a(10));k=a(21);l=a(75);d=r.__importDefault(a(29));f=r.__importDefault(a(33));h=r.__importDefault(a(969));g=a(14);n=f.default.assert;p=f.default.Sq;b.Aw=(c=(function(){var J00;J00=2;for(;J00 !== 5;){switch(J00){case 2:var D3j="1SIYbZr";D3j+="N";D3j+="J";D3j+="Cp9";D3j;return {At:q,Aw:function(w,x,y,z,A,B,C){var P00,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W;P00=2;for(;P00 !== 21;){switch(P00){case 2:var J3j="n";J3j+="u";J3j+="mbe";J3j+="r";var Z3j="n";Z3j+="um";Z3j+="b";Z3j+="e";Z3j+="r";var w3j="invalid";w3j+=" pl";w3j+="ayer fragmentInde";w3j+="x";var o3j="Must have";o3j+=" at le";o3j+="ast one selecte";o3j+="d stream";n(!m.oa(z),o3j);void 0 === x.ye && (x.ye=0);n(m.Ka(x.ye),w3j);n(Z3j === typeof x.buffer.Xs);n(J3j === typeof x.RW);P00=8;break;case 6:P00=C?14:13;break;case 8:F=new p();A=y[z];P00=6;break;case 14:return (A=u(y,z,A.Qa || 0,w.EOb,x.playbackRate),null !== (D=A.aa) && void 0 !== D && D.length || (A.Eea=!0),F.Wh=A,F);break;case 13:(G=A,E=x.buffer.ba,H=x.buffer.oc,L=x.buffer.Cc,K=x.buffer.Kk,I=x.ye);a000.b3j(0);C=a000.t3j(K,H);D=this.re.M9a || d.default.j3.jh;P00=10;break;case 17:return t.call(this,x,w,y,A);break;case 10:(R=x.state === g.wa.Dc || x.state === g.wa.Hh?x.buffer.wj:0,O=w.iba,J=w.my?w.my:1E3,M=A.P.duration);C > J && M <= w.t_b && (J+=(1 - Math.min(M / (w.F$ + w.Waa),1)) * (C - J));P00=18;break;case 18:P00=D === d.default.j3.Uub || !A.Qa?17:16;break;case 16:A.aa && A.aa.length || (A.Eea=!0);(S=l.jl.w0a(x.buffer.aa),T=x.buffer.Xs - S.ca);D=w.YBa && C >= w.ZDa?y.length:z + 2;(U=(function(fa){var Q00,R00;Q00=2;for(;Q00 !== 4;){switch(Q00){case 2:var R3j="v";R3j+="ariab";R3j+="le";R00=w.WBa;Q00=R00 === R3j?1:3;break;case 5:return y.slice(0,fa).map(function(sa,wa){var T00;T00=2;for(;T00 !== 1;){switch(T00){case 2:return wa < z?[w.fua,w.twa]:wa === z?[w.F$,w.Waa]:[w.gua,w.uwa];break;}}});break;case 3:Q00=5;break;case 1:return y.slice(0,fa).map(function(sa){var S00;S00=2;for(;S00 !== 1;){switch(S00){case 2:return [v(w,x.buffer.Xs,sa),0];break;}}});break;}}})(D),W=y.slice(0,D).map(function(fa,sa){var U00,wa;U00=2;for(;U00 !== 5;){switch(U00){case 2:a000.V3j(5);wa=a000.t3j(z,sa);return function(){var V00,Ba,Ga,N,Q,V,ba,qa;V00=2;for(;V00 !== 5;){switch(V00){case 2:a:{Ba=y[Math.max(a000.t3j(sa,1,a000.V3j(0)),0)];Ga=U[sa][1];N=x.playbackRate;Q=fa.aa?fa.aa.S7(I,U[sa][0]):0;V=Ba.aa?Ba.aa.S7(I + Q,Ga):0;Ga=fa.Qa || 0;ba=fa.aa && fa.aa.length;qa=wa?w.sra:ba?w.X8:w.FOb;if(P && !P.Y8 && P.Qa >= Ga && P.bitrate <= fa.bitrate){Ba=!1;}else {wa || ba || (fa.Eea=!0);if(!wa || !ba)if(ba && !w.K0){if(Ga >= Math.max(fa.sy * N,fa.bitrate * N * qa) && fa.zv){Ba=!0;break a;}}else if(Ga >= fa.bitrate * N * qa){Ba=!0;break a;}N=!w.Cpa || fa === G || fa.Lc === G.Lc && B?0:(N=fa.Cb) && N.$k && N.$k.pa?N.$k.pa + w.zpa * (N.$k.te?Math.sqrt(N.$k.te):0):0;(Ba=q(w,y,fa,Ba,S,H + N - E,O,K - E,L - E,I,S.length,R,T,Q,V,J,x.RW,x.playbackRate,! !x.C$a)) && Ba.result && (F.Joc=Ba.hZ);P={Y8:Ba && Ba.result,Qa:Ga,bitrate:fa.bitrate};Ba=Ba && Ba.result;}}return Ba;break;}}};break;}}}));n(W.length === U.length);W[z]()?z + 1 < y.length && C > w.KB && (void 0 === this.Haa || this.Vva && this.Vva > this.Haa || L - this.Haa > w.Raa && C > w.wwa) && (A=k.Ana(y.slice(z + 1,D),function(fa,sa){var W00;W00=2;for(;W00 !== 1;){switch(W00){case 2:return W[z + 1 + sa]();break;case 4:return W[(z - 2) / sa]();break;W00=1;break;}}})):A.aa && A.aa.length && (A=k.Ana(y.slice(0,z),function(fa,sa){var X00;X00=2;for(;X00 !== 1;){switch(X00){case 2:return W[sa]();break;}}}),C=y[0],A && A.vg < C.vg || !A) && (A=C);F.Wh=A || G;P00=22;break;case 22:return F;break;}}},Hqa:v};break;}}function v(w,x,y){var M00,z;M00=2;for(;M00 !== 3;){switch(M00){case 5:z=(y.ucc || y.Qa) / y.Qa;return 1 >= z?w.Bab:Math.min(Math.max((w.wac * Math.min(8 * x / y.bitrate,w.Xv) - w.my) / (z - 1),w.hbb),w.Bab);break;case 1:return w.hbb;break;case 2:M00=!y.Qa?1:5;break;}}}function t(w,x,y){var L00;L00=2;for(;L00 !== 4;){switch(L00){case 2:w=new p();w.Wh=y[0];return w;break;}}}function u(w,x,y,z,A){var N00,B;N00=2;for(;N00 !== 3;){switch(N00){case 2:a000.V3j(4);B=a000.t3j(A,z,y);y=k.uo(w,function(C){var O00;O00=2;for(;O00 !== 1;){switch(O00){case 4:return C.bitrate < B;break;O00=1;break;case 2:return C.bitrate > B;break;}}});y=0 < y?y - 1:0 === y?0:w.length - 1;return w[Math.max(x,y)];break;}}}function q(w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M){var K00,P,S,T;K00=2;for(;K00 !== 15;){switch(K00){case 11:K00=0 < M?10:20;break;case 7:return !1;break;case 20:M=I;K00=19;break;case 19:K00=0 < M?18:17;break;case 13:K00=M?12:16;break;case 12:M=K;K00=11;break;case 10:(S=Math.min(M,y.aa.length - G),P.push(y.aa.VK.subarray(G,G + S)),M-=S,G+=S,G >= y.aa.length && (G=0));K00=11;break;case 2:var U3j="Second ";U3j+="stream unde";U3j+="fined";var L3j="First st";L3j+="re";L3j+="am und";L3j+="efine";L3j+="d";n(y,L3j);n(z,U3j);x=y.Qa;(P=D - B,S=y.aa && y.aa.length,T=z.aa && z.aa.length);n(A.length === E);w.xwa && (R=Math.min(R,P));K00=8;break;case 8:K00=!x || x < y.bitrate * J * w.eua || !S?7:6;break;case 17:return 0 < K || 0 < I?h.default({aa:A.concat(P),blocks:E + K + I,oc:B,Kk:D,Bac:C,wj:H,Cc:F,ye:E,xPb:E + K,RW:O,e4a:L,Qa:x / J,yba:R,tF:w.tF,XXb:w.K0,eNb:!1}):x > y.sy?{result:!0,hZ:0,zv:!0}:{result:!1,hZ:0,zv:!0};break;case 6:T || (z=y);K00=14;break;case 14:P=[];K00=13;break;case 18:(S=Math.min(M,z.aa.length - G),P.push(z.aa.VK.subarray(G,G + S)),M-=S,G+=S,G >= z.aa.length && (G=0));K00=19;break;case 16:(K=Math.max(0,Math.min(K,y.aa.length - G)),I=Math.max(0,Math.min(I,z.aa.length - G - K)),0 < K && P.push(y.aa.VK.subarray(G,G + K)),0 < I && P.push(z.aa.VK.subarray(G + K,G + K + I)));K00=17;break;}}}})(),c.Aw);b.At=c.At;b.Hqa=c.Hqa;},function(r,b,a){var k,l,d,f,h,g;function c(n,p,q,t){f(!k.oa(t),"Must have at least one selected stream");return new g(t);}function m(n,p,q,t){f(!k.oa(t),"Must have at least one selected stream");return new g(t);}k=a(10);b=a(33);l=b.console;d=b.debug;f=b.assert;h=b.AJ;g=b.Sq;r.exports={STARTING:function(n,p,q){var v,u,w,x;function t(y,z){var A,B,C,D;A=y.id;B=y.bitrate;C=y.Qa || 0;D=! !C;d && l.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.Uv)return (d && !y.Sv && l.log("  Not available"),d && y.uB && l.log("  Failed"),!1);if(B > n.mZ)return (d && l.log("  Above maxInitAudioBitrate (" + n.mZ + " Kbps)"),!1);if(!(B * n.Eba / 8 < p.buffer.Xs))return (d && l.log("  audio buffer too small to handle this stream"),!1);if(D){d && l.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(B * p.playbackRate < C / u)return (d && l.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && l.log(" bitrate requires more than available throughput");return !1;}y=n.BZ;p.cva && (y=Math.max(y,n.zZ));if(B <= y)return (d && l.log("  Bitrate is less than max of minInitAudioBitrate (" + n.BZ + " Kbps) " + (p.cva?" and also minHCInitAudioBitrate (" + n.zZ + " Kbps)":"")),d && l.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && l.log("  No throughput history");return !1;}v=new g();u=n.Olc || 1;for(w=q.length - 1;0 <= w;--w){x=q[w];if(t(x,w)){v.gf=w;break;}h(x) && (v.gf=w);}return v;},BUFFERING:c,REBUFFERING:c,PLAYING:m,PAUSED:m};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jv=void 0;c=a(9);m=a(125);k=a(2);b.jv=function(l,d,f,h,g,n,p){var q;c.R && h.trace("AsePlaygraph.createRequestQueue()");q=m.Lq.instance.jv(l,d.I,!0,!1,{dB:f.dB},f);q.xh.on(q,"networkfailing",function(){var t;c.R && h.trace("requestQueue OnNetworkFailing: ",q);q.W8 && (k.assert(q.iX),null === (t=d.Cr) || void 0 === t?void 0:t.Vt(q.iX,void 0,q.ah,q.vj));d.Fm();});q.xh.on(q,"error",function(){p(q.ah,q.vj);});q.on("transportreport",g);q.on("mediaRequestComplete",n);q.ta();return q;};},function(r,b,a){var c,m,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nia=void 0;c=a(0);r=c.__importDefault(a(98));m=c.__importDefault(a(4));a=a(157);k=r.default.G7;l=r.default.nGb;d=r.default.dra;f=r.default.dOb;h=r.default.l9b;new m.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(g){var Y00;Y00=2;function n(p,q){var Z00,t;Z00=2;for(;Z00 !== 13;){switch(Z00){case 2:t=g.call(this,p,q) || this;t.mK=function(v,u,w,x){var a10,y,z,A;a10=2;for(;a10 !== 12;){switch(a10){case 6:void 0 !== v && (z=f(t.m1b,v),u=Math.min(u * z,1));a000.b3j(6);z=t.C1a(a000.W3j(u,A,1),x);return {lower:z,upper:z * t.config.EDa};break;case 2:a10=1;break;case 1:x=null !== x && void 0 !== x?x:t.bQ;A=t.Oo(v,w);w=t.LBa(w)?A:(null === (y=v[t.filter]) || void 0 === y?void 0:y.pa) || A;y=Math.pow(Math.max(1 - w / t.TDb,0),t.QDb);a10=9;break;case 9:w=u.Kk - u.oc;t.vac?(u=d(t.M0a,w,1),w=d(t.L0a,w,1),u=u * y + w * (1 - y)):u=d(h(t.M0a,t.L0a,y),w,1);v=t.Obb && (null === (z=v[t.Obb]) || void 0 === z?void 0:z.Cxa);a10=6;break;}}};Array.isArray(p.av.curves) && (t.M0a=l(p.av.curves[0],0,0,1),t.L0a=l(p.av.curves[1],0,0,1));Z00=4;break;case 4:t.TDb=k(p.av.threshold || 6E3,1,1E5);t.QDb=k(p.av.gamma || 1,.1,10);Z00=9;break;case 9:t.filter=p.av.filter;t.vac=! !p.av.simpleScaling;p.av.niqrfilter && p.av.niqrcurve && (t.Obb=p.av.niqrfilter,t.m1b=l(p.av.niqrcurve,1,0,4));Z00=6;break;case 6:var Q3j="1SIYb";Q3j+="ZrNJC";Q3j+="p9";Q3j;return t;break;}}}for(;Y00 !== 5;){switch(Y00){case 2:c.__extends(n,g);return n;break;}}})(a.VC);b.nia=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wna=b.t_=b.S2a=void 0;c=a(0).__importDefault(a(98)).default.dra;b.S2a=function(m,k,l){var d,f,h;d=0;if(l){m.some(function(g){var n;n=g.b;g=g.m;if(k <= n)return (d=h && n !== f?h + (g - h) / (n - f) * (k - f):g,!0);f=n;d=h=g;return !1;});}else m.some(function(g){d=g.m;return k <= g.b;});return d;};b.t_=function(m,k,l){var d;k=(null === (d=k.Qa) || void 0 === d?void 0:d.pa) || 0;return m.EYa?(m=c(m.DYa,l.Kk - l.oc,1),k * (1 - m)):k * m.W0 / 100;};b.wna=function(m,k){return m < 2 * k?m / 2:m - k;};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t;Object.defineProperties(b,{__esModule:{value:!0}});b.iga=void 0;c=a(0);r=a(11);m=a(9);k=c.__importDefault(a(4));l=a(7);d=a(984);f=a(127);h=a(985);g=a(20);n=a(988);p=a(989);q=a(990);t=a(2);a=(function(v){function u(){var w;w=null !== v && v.apply(this,arguments) || this;w.dWa=0;w.kma=0;w.g5=0;w.Jka=0;return w;}c.__extends(u,v);u.prototype.mAa=function(w){var x,y;v.prototype.mAa.call(this,w);this.dWa++;this.kma++;this.DWa=k.default.time.ga();this.QM || (this.QM={Jc:w.Jc,$c:w.$c,index:w.index},this.z5 || (this.z5=this.QM));x=this.M5;y=!1;x && 100 > Math.abs(x.ef - w.rd) && (this.g5+=w.ef - x.ef,this.Jka++,y=!0);y || (this.g5=w.ln,this.Jka=1);this.M5=w;};u.prototype.stop=function(){v.prototype.stop.call(this);this.kma=0;this.QM=void 0;};u.prototype.w5a=function(){var w,x,y,z;w=this.Su;x=w.wW;if(x){z=x.$a(this.Tg);z && z.Sa && (y=z.Sa.mta());return {RM:y,currentBranch:{sId:x.u && x.u.id,cancelled:x.If},currentReceivedCount:w && w.rKb,totalReceivedCount:this.dWa,currentState:w && w.K0a || "Uninitialized",lastRequestPushed:this.M5 && ({contentEndPts:this.M5.Jc,fragmentIndex:this.M5.index}),tslp:this.DWa && k.default.time.ga() - this.DWa,cpts:this.g5,crq:this.Jka,rslp:this.kma,firstRequestSSPushed:this.QM && ({contentStartPts:this.QM.$c,fragmentIndex:this.QM.index}),firstRequestPushed:this.z5 && ({contentStartPts:this.z5.$c,fragmentIndex:this.z5.index})};}};return u;})((function(v){function u(w,x,y,z,A,B,C,D,F,G,E){var H;H=v.call(this) || this;H.dg=w;H.Tg=x;H.J=z;H.G=A;H.O=B;H.o_=C;H.vi=D;H.np=F;H.AD=new l.As(!1);H.zD=new l.As(g.K.Ga(-Infinity));H.G=l.oi(k.default,H.G,"AsePlayerBuffer [" + x + "]:");H.Su=new d.JFa(H.G,y,x);H.resume();B && C && D && (E?(H.SQ=E,E.Qs(B,D,H.dg)):H.k0a(),w=new n.DIa(null === B || void 0 === B?void 0:B.vi,g.K.Ga(H.J.CZ),A),H.Su.ena(w),H.J.RXa && (A=new p.UNa(null === B || void 0 === B?void 0:B.vi,H.J.RXa,g.K.Ga(H.J.JCb),A),H.Su.ena(A)),G && (H.lWa=new q.dRa(G),H.Su.ena(H.lWa)));H.dg.on("requestAppended",function(L){H.AD.set(!0);L.request.Kc && H.zD.set(L.request.Kc);H.emit("requestAppended");});return H;}c.__extends(u,v);Object.defineProperties(u.prototype,{Zv:{get:function(){return this.AD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{QY:{get:function(){return this.zD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{XWb:{get:function(){return this.Su.Zj;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{RBa:{get:function(){return this.dg.endOfStream;},enumerable:!1,configurable:!0}});u.prototype.k0a=function(){t.assert(this.O && this.o_ && this.vi,"Player should be defined");this.SQ=new h.lQa(this.Tg,this.G,this.O,this.dg,this.O.events,this.o_,this.vi,this.np);};Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.Tg;},enumerable:!1,configurable:!0}});u.prototype.w5a=function(){};u.prototype.resume=function(){m.R && this.G.trace("resume");this.dCa();};u.prototype.H8a=function(w){return this.dg.Tsa() > w;};Object.defineProperties(u.prototype,{oDb:{get:function(){return this.yM;},enumerable:!1,configurable:!0}});u.prototype.sac=function(){this.dg.KZ(!0);};u.prototype.reset=function(w){var x,y;void 0 === w && (w=!1);m.R && this.G.trace("reset");this.stop();this.dg.reset(w);this.AD.set(!1);this.zD.set(g.K.Ga(-Infinity));w || (this.yM=void 0,null === (x=this.SQ) || void 0 === x?void 0:x.reset(),null === (y=this.lWa) || void 0 === y?void 0:y.C2b());};u.prototype.cj=function(w){void 0 === w && (w=!1);m.R && this.G.trace("restart");this.reset(w);this.dCa(!0);};u.prototype.stop=function(){m.R && this.G.trace("stop");this.Su.Lib();};u.prototype.close=function(){var w;m.R && this.G.trace("start");null === (w=this.SQ) || void 0 === w?void 0:w.close();};u.prototype.lb=function(){this.stop();this.close();};u.prototype.RZ=function(){this.J.k9 && this.dg.L3a();this.dg.cB();};u.prototype.VF=function(w){this.dg.VF(w);};u.prototype.yPb=function(w){this.dg.ccb(w,!0);};u.prototype.Wg=function(w){var x;return !(null === (x=this.SQ) || void 0 === x || !x.Wg(w));};u.prototype.dCa=function(w){if(!this.Su.Zj || w)(this.Su.K8b(),f.AsyncIterator.dYb(this.Su,this.Aaa.bind(this)));};u.prototype.Aaa=function(w){w.done || this.mAa(w.value);};u.prototype.mAa=function(w){var x,y;m.R && this.G.trace("requestReceived: " + (null === (x=this.Su.wW) || void 0 === x?void 0:x.u.id) + (" " + w.toString() + ", edit: " + JSON.stringify(w.Ea)));this.dg.endOfStream?m.R && this.G.error("Buffer manager has declared EOS, ignoring request",w.toString()):(this.yM?(this.yM.xYb=w.Jc,this.yM.zYb=w.ef,this.yM.Q9a=w.Kc):this.yM={vnc:w.$c,wnc:w.rd,xYb:w.Jc,zYb:w.ef,Q9a:w.Kc},w.yv && w.stream.track.Ro && (null === (y=this.O) || void 0 === y || !y.Uo(w.P.L)) && this.emit("drmNeeded",{L:w.P.L,Ey:w.fd}),this.dg.nDb(w));};return u;})(r.EventEmitter));b.iga=a;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.wga=void 0;r=a(0);c=r.__importStar(a(10));m=r.__importDefault(a(86));k=r.__importDefault(a(4));l=a(991);d=a(14);f=a(181);h=a(7);g=a(2);n=a(20);p=a(366);q=a(412);a=(function(){function t(v,u,w,x,y,z,A,B,C,D){this.yb=v;this.Ki=u;this.G=w;this.mN=x;this.J=A;this.w5=B;this.IVa=C;this.AX=D;this.Ob=this.G.warn.bind(this.G);this.Nj=this.G.trace.bind(this.G);this.eg=this.G.log.bind(this.G);this.Gi=[];this.Jh={};y.xo?(g.assert(!y.xq),this.zka=!0,this.izb(y,y.xo,z)):(this.Gp=this.Wz(y.xq || "",y,0,void 0,void 0,{},!0),this.Gp.om=!0,this.Gp.Ma=Infinity,this.v6=[this.Gp]);this.$d=this.i5(this.Gp,void 0,z);this.$d.active=!0;v=h.oi(k.default,this.G,"BranchQueue::");this.lj=new f.CL(v);this.lj.enqueue(this.$d);this.cma=this.FU=void 0;}t.fsa=function(v){return "m" + v;};Object.defineProperties(t.prototype,{jy:{get:function(){return ! !this.zka;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Uk:{get:function(){return this.$d.If;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Cd:{get:function(){return this.Gp;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Mh:{get:function(){return this.$d.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{tKb:{get:function(){return this.$d.P.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Wc:{get:function(){return this.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ya:{get:function(){return this.Gi;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ze:{get:function(){return this.$d.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mh:{get:function(){return this.yb.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{wi:{get:function(){return this.FU?this.FU:this.Ya[0];},enumerable:!1,configurable:!0}});t.prototype.lb=function(){this.Gi.forEach(function(v){v.vd();});this.Gi=[];this.lj.clear();};t.prototype.ze=function(v){return this.Jh[v];};t.prototype.w6a=function(){return this.lj.getIterator();};t.prototype.v6a=function(v,u){var w;w=this.Jh[v];if(w)return (v=w.cm[u]) && v.weight;this.Ob("getSegmentWeight, unknown segment:",v);};t.prototype.yTb=function(v){var u;u=this.Jh[v];if(u)return u.ba;this.Ob("getSegmentStartPts, unknown segment:",v);};t.prototype.xTb=function(v){var u;u=this.Jh[v];if(!u)this.Ob("getSegmentDuration, unknown segment:",v);else if(c.Ka(u.Ma) && isFinite(u.Ma) && c.Ka(u.ba) && isFinite(u.ba))return u.Ma - u.ba;};t.prototype.uda=function(v){var u;u=-1;this.Gi.some(function(w,x){return w === v?(u=x,!0):!1;});-1 !== u?this.Gi.splice(u,1):this.Ob("Unable to find branch:",v,"in branches array");};t.prototype.nI=function(v,u){var w;w=0;this.Rwb(v).forEach(function(x){(x=x.ce(u)) && (w+=x.lE);});return w;};t.prototype.Jx=function(v,u,w){var x;if(!v.pc(u))return 0;x=v.$a(u);for(x=w?x.Cc:x.wr;void 0 === x;){if(!v.Jg)return 0;v=v.Jg;x=v.$a(u);x=w?x.Cc:x.wr;}v=this.IVa.Le();return Math.max(x - v,0);};t.prototype.xra=function(v){return this.Gi.filter(function(u){if(u.P.Rb === v)return !0;});};t.prototype.bPb=function(v,u){return this.jUa(v,!1,u);};t.prototype.aPb=function(v,u){return this.jUa(v,!0,u);};t.prototype.X7b=function(v,u,w){c.Jf(this.Gi,function(x){x.P === v && x.Qhb(u,w);});c.Jf(this.Jh,function(x){x.P === v && (x.P=u);});};t.prototype.hgb=function(){var v;v=this;c.Jf(this.Gi,function(u){var w;w=v.yb.Oh(u.P.Rb);u.Iq(n.K.Ga(w.py));});};t.prototype.gs=function(v){var u;u=this;c.Jf(this.Gi,function(w){w.$a(1).track.bd.forEach(function(x){var y;y=p.xna(x.Af,x.bitrate,v,u.G);m.default(y,x);});});};t.prototype.xv=function(v,u,w,x){var y;for(;u;){y=u.xv(v,w);if(y)return y;if(x)break;u=u.Jg;}};t.prototype.R0a=function(v){var u,w;u=this;void 0 === v && (v=!1);w=this.Gi;v && (w=w.filter(function(x){return x !== u.$d;}));w.forEach(function(x){x.active=!1;u.lj.remove(x);});v || this.lj.clear();return w;};t.prototype.r6b=function(){var v;for(;0 < this.Gi.length;){v=this.Gi[0];v.$a(0);v.$a(1);if(!v.active)break;if(v === this.$d)break;if(!v.WUb())break;v.vd();this.Gi.shift();}};t.prototype.F_=function(v,u,w,x,y){if(w > x){for(w-=x;v;){v.F_(u,w,y);v=v.Jg;}return w;}};t.prototype.O$a=function(v,u){for(var w={mW:null,PQ:null,rd:null,wj:0,hp:0,Lg:0,aa:[]};v;){v.e$(w,u);v=v.Jg;}return w;};t.prototype.HGb=function(v){var u,w,x;u=this.$d;if(u.D$a)w=u.D$a;else {x=this.$d.Ze;w=this.i5(u.u,u);d.Tf.forEach(function(y){var z;z=w.ce(y);z && (z.SK(0),y=u.ce(y),z.jea(y.pe));});w.Iq(n.K.Ga(x + v));u.D$a=w;}this.sM(w,u);};t.prototype.VBb=function(v,u,w){var x,y;g.assert(!v.jy());if(!this.zka){this.zka=!0;this.FU=this.wi;x=this.Gp.id || t.fsa(0);this.Gp.id=x;this.Jh[x]=this.Gp;this.Gp.Ma=this.yb.ZRb().z5a();this.Gp.JF=!0;}y=void 0 !== v.xq?v.xq:t.fsa(v.Rb);v=this.Wz(y,v,u,w,void 0,{},!0);v.JF=!0;this.v6.forEach(function(z){z.cm={};z.cm[y]={weight:100};z.FW=y;z.Cw=!1;});this.v6=[v];};t.prototype.Ys=function(v,u){var w,x,y,z;w=this.wi;x=w.Xy(u,this.yb.O);y=w.u;z=w.children[v];if(u){if(!y.cm[v])return (this.$d.Ob("chooseNextSegment, invalid destination:",v,"for current segment:",y.id),!1);if(w.vl)return w.vl === v;w.vl=v;z && w.n9 && this.sM(z,w);return !0;}if(void 0 !== w.vl)return !1;if(!z)return (x.Fbb=!0,!1);x.Fbb=!z.Roa();this.yb.lma(void 0,q.ST.yQ);w.n9=void 0;w.vl=v;this.sM(z,w);w.BE();this.yb.bV();return !0;};t.prototype.sVb=function(v,u){var w,x,y,z;w=this;z=v.u;u && !v.vl && (v.vl=z.FW,v.Xy(!0,this.yb.O,!0));v.children=Object.create(null);c.Jf(z.cm,function(A,B){v.vl && B !== v.vl || (x=w.Jh[B],y=w.iwb(x,v),v.children[B]=y);});v.vl && (u=v.children[v.vl]) && this.sM(u,v);v.n9=!0;};t.prototype.Qcc=function(){var v;v=0;c.Jf(this.Gi,function(u){d.Tf.forEach(function(w){u.pc(w) && (w=u.ce(w),v+=w.Sa.hr);});});return v;};t.prototype.Xbc=function(v,u){var w,x,y;w=this;x=this.Pwb(v,u);if(x){if(x !== this.$d.u){this.R0a();y=this.i5(x,this.$d,v);y.Jg=void 0;y.wBa(void 0,void 0,!0);this.lvb(this.$d);this.sM(y,this.$d);}else this.R0a(!0).forEach(function(z){z.vd();w.uda(z);w.lj.remove(z);});x === this.wi.u && (this.wi.Zy.shift(),y && (y.Zy=this.wi.Zy,y.vl=this.wi.vl));this.Ki.T5(x,this.$d.Ze);this.$d.n9=void 0;}else this.Ob("findSegment no segment for manifestIndex:",u);};t.prototype.N$a=function(v,u){var w;w=v.u;u || (u=w.FW);v.vl || (v.vl=u,v.Xy(!0,this.yb.O,!0));(u=v.children[v.vl]) && this.sM(u,v);};t.prototype.qhb=function(v,u){if(this.$d !== v){if(u)for(u=this.$d;u && u !== v;){u.active=!1;this.lj.remove(u);u=u.Jg;}this.$d=v;}};t.prototype.Jw=function(v,u){var w,x,y,z,A;w=this;if(this.jy){x=this.J;y=this.wi;z=y.u;A=h.z9b(z.id);!y.vl && !z.Cw && y.Jc - u <= x.uF && (this.Ob(A + "updatePts making fork decision at playerPts:",v,"contentPts:",u),this.N$a(y));}d.Tf.forEach(function(B){w.$d.pc(B) && w.mh[B].Jw();});};t.prototype.E1b=function(v,u){var w,x;if(this.jy){w=this.FU;if(!(this.J.SVb && v && this.cma && v.ba === this.cma || (v=v.Sa.Xa,w && v.u.id === w.u.id))){x=null === w || void 0 === w?void 0:w.ce(1);x=null === x || void 0 === x?void 0:x.pe;this.cma=null === x || void 0 === x?void 0:x.ba;this.FU=v;this.Jvb(w);w=w && w.XGb(v);this.Ki.Myb(v.u,u,w);}}};t.prototype.Xba=function(v,u,w){u.om || (u.ba=this.V5a(v,u.ba,!0),w || (u.Ma=this.V5a(v,u.Ma,!1)),u.om=!0,!1);};t.prototype.hS=function(v,u){var w;w=this.Jh[v];w?c.Jf(w.cm,function(x,y){x.weight=u[y] || 0;}):this.Ob("updateChoiceMapEntry, unknown segment:",v);};t.prototype.V5a=function(v,u,w){v=w?v.q3a(u):v.lX(u);if(!v.length)return u;u=v[1];return w?u.ba:u.Ma;};t.prototype.SUa=function(v,u,w){var x;x=u?w.Jc:w.ef;return (u?w.Zda:w.Vya) <= v && v < x;};t.prototype.jUa=function(v,u,w){var A;for(var x=this.yb,y=this.$d;y;){if((!c.Ka(w) || x.$ua(w,y.P.Rb)) && this.SUa(v,u,y))return y;y=y.Jg;}if(u){y=Object.keys(this.$d.children);for(var z=0;z < y.length;z++){A=this.$d.children[y[z]];if((!c.Ka(w) || x.$ua(w,A.P.Rb)) && this.SUa(v,u,A))return A;}}};t.prototype.iwb=function(v,u){var w,x;w=this.i5(v,u);x=w.wBa(u,void 0,this.J.Pza);d.Tf.forEach(function(y){var z,A,B;if(w.pc(y)){z=w.ce(y);A=u.ce(y);B=x[y];1 === y && w.Iq(n.K.Ga(A.Cc + u.Ze - B));z.SK(B);}});this.Ki.T5(v,w.Ze);return w;};t.prototype.lvb=function(v){for(var u=[v.u.id];v.Jg;){v=v.Jg;u.unshift(v.u.id);}this.rka(v);};t.prototype.rka=function(v){var u,w;u=this;w=v.u;c.Jf(v.children,function(x){x && u.rka(x);});this.lj.remove(v);v.vd();this.uda(v);this.Ki.Qla(w);};t.prototype.sM=function(v,u){var w,x,y,z;w=this;x=u.u;u.P !== v.P && this.yb.eVa(v.P.Rb);v.active=!0;this.lj.enqueue(v);v.KN();y=k.default.time.ga();z={};c.Jf(u.children,function(A){var B,C;if(A){if(A.Be){B=A.ce(0);C=A.ce(1);A.Be.bE=[B?B.Ao.U:0,C?C.Ao.U:0];A.Be.yMb=y - A.Be.V$;A.Be.V$=void 0;z[A.u.id]=A.Be;}A.u.id !== v.u.id && w.rka(A);}});u.children=Object.create(null);u.children[v.u.id]=v;u.FM=void 0;this.qhb(v);this.Ki.Kyb(v.u,z);1 < Object.keys(x.cm).length && v.Roa();};t.prototype.Jvb=function(v){var u,w;if(v){u=k.default.time.ga();w=v.Zy[0];w && void 0 === w.q8?w.q8=u - w.$r:w || (this.Ob("missing metrics for branch:",v.u.id),w={uea:v.u.id,Ee:!0,q8:0,Be:{}},v.Zy.unshift(w));void 0 === w.startTime && (w.startTime=u);}};t.prototype.Pwb=function(v,u){var x,y,z,A;g.assert(0 <= v);for(var w in this.Jh){x=this.Jh[w];if(this.yb.$ua(x.P.Rb,u)){if(x.ba <= v && (Infinity === x.Ma || void 0 === x.Ma || v < x.Ma))return x;y=Math.min(Math.abs(v - x.ba),Math.abs(v - x.Ma));if(c.oa(z) || y < z)(z=y,A=x);}}return A;};t.prototype.Wz=function(v,u,w,x,y,z,A,B,C){u=new l.hRa(v,u,w,x,y,z,A,B,void 0,C);return this.Jh[v]=u;};t.prototype.izb=function(v,u,w){var x,y,z;x=this;this.Gp=void 0;this.v6=[];y=null;z=null;c.Jf(u.segments,function(A,B){var C,D,F,G,E;C=A.startTimeMs;D=A.endTimeMs;F={};c.Jf(A.next,function(H,L){F[L]={weight:H.weight || 0,adc:H.transitionHint || A.transitionHint,gnc:"number" === typeof H.earliestSkipRequestOffset?H.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});G=A.defaultNext;c.oa(G) && (G=Object.keys(F)[0]);E=c.oa(G);G=x.Wz(B,v,C,D,G,F,E,A.exitZones,A.transitionHint);C <= w && (w < D || c.oa(D))?x.Gp=G:C > w && (!y || C < z) && (y=B,z=C);E && x.v6.push(G);});this.Gp || (this.Gp=y?this.Jh[y]:this.Jh[u.initialSegment]);};t.prototype.i5=function(v,u,w){var x,y,z,A;x=v.P;y=this.yb.Oh(x.Rb);z=y.py;A=[];[0,1].forEach(function(B){x.pc(B) && A.push(y.Gr(B));});v=new q.VKa(this.yb,this.J,this.Ki,this.G,this,this.w5,this.IVa,this.mN,v,A,z,u,w?n.K.Ga(w):void 0,this.AX,this.yb.mh,this.yb.yx);this.ovb(v);this.Gi.push(v);return v;};t.prototype.ovb=function(v){var w;function u(x){w.yb.emit(x.type,x);}w=this;v.addListener("locationSelected",u);v.addListener("logdata",u);v.addListener("serverSwitch",u);v.addListener("streamSelected",u);v.addListener("lastSegmentPts",u);v.addListener("managerdebugevent",u);v.addListener("requestCreated",function(x){x=x.request;w.yb.pma(x.mediaType,x.ba);});};t.prototype.Rwb=function(v){for(var u=[v];v.Jg;){v=v.Jg;u.push(v);}return u;};return t;})();b.wga=a;},function(r,b,a){var l,d,f,h;function c(g,n,p){this.IF=n;this.am=p;this.zC=this.xY=this.Bya=this.sdb=this.rdb=this.AQ=this.bd=this.K4b=this.am=this.Tn=this.Cc=this.ba=this.qu=this.rp=this.aa=this.o8a=this.SV=void 0;}function m(g,n,p){this.Ma=n;this.b9a=p;this.YXa=this.emb=this.Ns=this.rp=this.LJ=this.Tx=void 0;}function k(g,n,p,q,t,v,u){var w;w=new c(p,n,g.am);g.forEach(function(x){var y,z;y=x.buffer;z=y.aa;x.mediaType === d.cb.dc?w.SV=z.length?z[0].bitrate:void 0:x.mediaType === d.cb.Jb && (w.o8a=z.length?z[0].bitrate:void 0,w.aa=z,w.rp=y.Kk - y.oc,w.qu=y.Lg,w.ba=y.oc,w.Cc=y.Cc,w.Tn=x.ye,w.am=x.am,w.K4b=n - x.am,w.bd=x.bd,w.AQ=z.filter(function(A){return w.ba <= A.Ly;}).length);});this.mk=w;this.sv=void 0;this.X0a=q;this.Qy=t;this.UYa=v;this.Mza=this.oda=this.Jcb=this.EC=this.DN=this.m3a=this.fz=this.bd=this.sv=void 0;this.vCb=u;this.$ya={};}l=a(0);d=a(29).default;f=a(33).assert;h=a(14).wa;c.prototype.constructor=c;m.prototype.constructor=m;k.prototype.constructor=k;k.prototype.RI=function(g,n){var p,q,t,v,u,w,x,y,z,A,B,C,D,H,L,K,I,R,O;p=this.mk;q=[];t=g[d.cb.Jb];v=g[d.cb.dc];if(void 0 === t || void 0 === v)return !1;u=t.buffer;w=v.buffer;x=p.bd.filter(function(J){return J.Q9();});if(void 0 === u || void 0 === w || void 0 === x || 0 === x.length)return !1;y=new m(n?h[n]:"maxbitratechanged",t.oc,n === h.bg);z=0;A=0;B=0;C=0;D=p.ba;g=g[d.cb.Jb].oc;for(var F=p.aa,G=p.AQ,E=0;E < G;E++){H=F[E];L=H.offset;K=H.offset + H.ca - 1;I=H.ln;R=H.iC;O=R + I;H && R <= g && O > D && (I=H.ln,R=Math.min(I,Math.min(g,O) - Math.max(R,D) + 1),C+=R,z+=R / I * (K - L + 1),A+=H.bitrate * R,B+=H.kb * R);}p.rdb=z;p.sdb=C;p.Bya=0 < C?A / C:0;p.g4b=0 < C?B / C:0;p.xY || (p.xY=0,x.some(function(J,M){if(J.bitrate === p.o8a)return (p.xY=M,!0);}));x.forEach(function(J){var M,S;J=J.Q9();M=[];p.zC || (p.zC=J.Jo(p.ba,void 0,!0));y.Tx || (y.Tx=J.Jo(y.Ma,void 0,!0),y.LJ=J.length - 1);p.Tn !== p.zC + p.AQ && (p.Tn=p.zC + p.AQ);G=Math.min(y.LJ,y.Tx + 1);for(var P=p.zC;P <= G;P++){S=J.get(P);M[P]=S;}q.push(M);});n === h.bg && (y.rp=u.Kk - u.oc,y.Ns=w.Kk - w.oc,y.emb=t.hfb,y.YXa=v.hfb);this.sv=y;this.bd=x;this.fz=q;return this.m3a=!0;};k.prototype.pB=function(){var g,n,p,q,t,v,u,w,x,y,z,D,F,G,E,H,I,R;if(this.Vk)return this.Vk;p=this.EC;q=this.mk;t=this.sv;v=this.bd;u=this.Jcb;w=this.vCb;f(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(t.b9a)(x=!1,y=!0);else t.Tx - q.zC + 1 <= q.AQ?y=x=!0:(x=!0,y=!1);z=!0;}if(u)for(var A=u.baa,B=u.TO,C=0;C < w.length;C++){D=w[C];(p=u[D]) && p.Dxa && (y=!0);}t={bst:q.am,pst:q.IF,s:q.zC,e:t.Tx,prebuf:q.AQ,brsi:q.Tn,pbdlbytes:q.rdb,pbdur:q.sdb,pbtwbr:q.Bya,pbvmaf:q.g4b};this.Qy && (t.fragmentsPrebuffered=q.aa);z && (t.nt=z);y && (t.nd=y);A && (t.invalid=A);B && (t.exception=B);this.Mza && (t.rr=this.Mza);this.oda && (t.ra=this.oda);if(!y && !A && !B && (this.X0a || this.Qy)){t.bitrate=v.map(function(O){return O.bitrate;});p=this.EC;D=p.trace;F=[];E=0;D.forEach(function(O){O=Number(O).toFixed(0);F.push(O - E);E=O;});t.tput={ts:p.timestamp,trace:F,bkms:p.EA};}if(y || z || A || B)t.feasible=x;else for((t.sols={},t.elapsed=u.SMb,C=0);C < w.length;C++){D=w[C];p=u[D];y={};if(p && p.js){y.algelapsed=p.uCb;y.maxHeapTotal=p.OB;y.f=p && p.At || !1;y.dltwbr=p.G1a;y.dlvmaf=p.J1a;y.dlvdur=p.I1a;y.dlvbytes=p.H1a;y.dlabytes=p.E1a;if(this.X0a || this.Qy){G=p.js.filter(function(O){return O;}).map(function(O){return O.gf;});E=0;H=[];G.forEach(function(O){H.push(O - E);E=O;});y.strmsel=H;}if(this.Qy){z=[];x=this.mk.Tn;try{for(var L=(g=void 0,l.__values(G)),K=L.next();!K.done;K=L.next()){I=K.value;R=this.fz[I][x];R.vg=I;z.push(R);x++;}}catch(O){g={error:O};}finally{try{K && !K.done && (n=L.return) && n.call(L);}finally{if(g)throw g.error;}}y.fragsel=z;y.streamList=this.bd;y.pause_dlnd_sec=p.js.filter(function(O){return O;}).map(function(O){return O.yya;});y.buffer_sec=p.js.filter(function(O){return O;}).map(function(O){return O.ioa;});y.buffer_kb=p.js.filter(function(O){return O;}).map(function(O){return O.hoa;});y.buffer_frags=p.js.filter(function(O){return O;}).map(function(O){return O.ZYa;});y.elapsed_secs=p.js.filter(function(O){return O;}).map(function(O){return O.g2a;});y.throughput=p.js.filter(function(O){return O;}).map(function(O){return O.Qa;});}}t.sols[D]=y;}return this.Vk=t;};k.prototype.mPb=function(g){var q;if(void 0 !== this.$ya[g])return this.$ya[g];for(var n=this.fz[this.mk.xY],p=0;p < n.length;p++){q=n[p];if(q && q.ba <= g && q.ba + q.duration > g)return this.$ya[g]=q;}throw Error("findPlayingFragment: missing");};r.exports=k;},function(r,b,a){var k,l;function c(d,f,h){this.ca=d;this.Pn=f;this.quality=h;}function m(d,f){this.Bwa=f;void 0 === f && (this.Bwa=!0);this.dn=d;this.Avb();}k=a(0);l=a(2).assert;c.prototype.constructor=c;c.prototype.rB=function(){return 8 * this.ca / 1E3 / this.Pn;};m.prototype.constructor=m;m.prototype.hi=function(d,f,h,g,n){void 0 === f && (f=0);void 0 === h && (h=d.vP());void 0 === g && (g=0);void 0 === n && (n=d.dn.length);for(var p=[],q,t=g;t < n;t++){g=[];for(var v=f;v < h;v++){q=d.dn[t][v];g.push(q);}p.push(g);}return new m(p,d.Bwa);};m.prototype.Avb=function(){var d,f,n;f=this.dn[0].length;try{for(var h=k.__values(this.dn.slice(1)),g=h.next();!g.done;g=h.next()){n=g.value;l(n.length === f,"expect chunk.length === n but got " + n.length + " and " + f);}}catch(q){var p;p={error:q};}finally{try{g && !g.done && (d=h.return) && d.call(h);}finally{if(p)throw p.error;}}this.Bwa && this.Bvb();this.Cvb();};m.prototype.vP=function(){return this.dn[0].length;};m.prototype.Bvb=function(){for(var d=0;d < this.dn.length - 1;d++){for(var f=0;f < this.vP();f++){l(this.dn[d][f].ca <= this.dn[d + 1][f].ca,"Chunk size for epoch " + f + " is not monotonic");}}};m.prototype.Cvb=function(){for(var d=0;d < this.dn.length - 1;d++){for(var f=0;f < this.vP();f++){l(1E-8 > Math.abs(this.dn[d][f].Pn - this.dn[d + 1][f].Pn),"Chunk duration for epoch " + f + " is not consistent");}}};m.prototype.oUb=function(){var d;d=[];this.dn[0].forEach(function(f){d.push(f.Pn);});return d;};r.exports={zob:c,Aob:m};},function(r,b,a){var l;function c(){}function m(d,f,h){void 0 === h && (h=!1);l(d.length === f.length,"bitrates_kbps and durations_sec must be of the same length.");l(1E-8 < k(d),"bitrate zero, won't be able to send anything.");this.$D=d;this.a2a=f;this.repeat=h;this.jn=this.Yp=0;}function k(d){return d.reduce(function(f,h){return f + h;},0);}l=a(2).assert;c.prototype=Error();m.prototype.constructor=m;m.prototype.hi=function(){var d;d=new m(this.$D,this.a2a,this.repeat);d.Yp=this.Yp;d.jn=this.jn;return d;};m.prototype.Ota=function(){return this.$D[this.Yp % this.$D.length];};m.prototype.RE=function(){return this.a2a[this.Yp % this.$D.length];};m.prototype.vMb=function(d){l(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Yp && this.Yp < this.$D.length))throw new c();l(this.jn < this.RE(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.RE() - this.jn;f=d < f?d:f;d-=f;this.jn+=f;if(this.jn < this.RE())break;this.jn-=this.RE();this.Yp+=1;if(!this.repeat && this.Yp >= this.$D.length){if(0 < d)throw new c();break;}}};m.prototype.pdb=function(d){this.vMb(d);};m.prototype.wMb=function(d){l(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Yp && this.Yp < this.$D.length))throw new c();l(this.jn < this.RE(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,h=0;;){f=this.RE() - this.jn;f=d < f * this.Ota()?d / this.Ota():f;d-=this.Ota() * f;h+=f;this.jn+=f;if(this.jn < this.RE())return h;this.jn-=this.RE();this.Yp+=1;if(!this.repeat && this.Yp >= this.$D.length){if(0 < d)throw new c();return h;}}};r.exports={Qub:m,Rub:c};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Fub=b.qia=b.Hub=b.JRa=void 0;r=a(0);c=r.__importStar(a(10));m=r.__importDefault(a(4));k=r.__importDefault(a(33)).default.AJ;l=r.__importStar(a(7)).oi;d=r.__importDefault(a(422));f=a(408);h=a(224);g=a(14);n=a(21);p=a(2);q=a(97);t=a(255);a=(function(){function x(y,z,A,B,C,D,F,G,E,H,L){var K;K=this;this.G=y;this.kh=z;this.J=A;this.pc=B;this.O=C;this.xR=D;this.Vb=F;this.Hb=G;this.Gg=E;this.u7=H;this.KH=L;this.o6=[];this.uma=[];this.nVa=[];this.ATa=void 0;[0,1].forEach(function(I){K.pc(I) && (K.o6[I]=new w(K.G,I),K.uma[I]=new v(I),K.nVa[I]=new u(I));});this.Plb=new q.hH(this.G);this.MC=q.oE(this.J,this.Plb);this.Kna=q.nE();this.rH=void 0;}Object.defineProperties(x.prototype,{Zf:{get:function(){return this.o6;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{AC:{get:function(){return this.uma;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{uy:{get:function(){return this.nVa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{CA:{get:function(){return this.ATa;},set:function(y){this.ATa=y;},enumerable:!1,configurable:!0}});x.prototype.gs=function(y,z){this.Plb.gs(y,z);};x.prototype.Awa=function(y){var z,A,B,C,D,F;z=this.J;A=y.mediaType;B=m.default.jq()[A];C=z.xec?0 === A?z.HV:z.v1:1 === A?z.HV:z.v1;D=this.O.getState();F=this.O.Le();z=y.Sa.Xa;A=this.u7.O$a(z,A);B={Xs:B,ba:A.rd,oc:F,Cc:A.PQ || F,Kk:A.mW || F,Lg:A.Lg,wj:A.wj,hp:A.hp,W3a:A.aa.length,aa:[]};C={state:D,Lr:this.O.Lr(),ye:y.mm,buffer:B,RW:C,C$a:! !this.xR.Vaa,FO:! !this.xR.Wt,hr:this.Vb && this.Vb.hr,pda:y.CTb,playbackRate:this.O.kq()};void 0 === C.ye && (C.ye=y.yra(B.Cc));C.$V=z.$V;B.aa=A.aa;c.Ka(B.ba)?y.seeking && B.oc != B.ba && (B.oc=B.ba):(B.ba=0,B.Cc=0);this.kh.TFb(C);this.kh.UBb(C);return C;};x.prototype.Qoa=function(y,z,A){var G,E;y=this.o6[y];for(var B=y.maxBitrate,C="manifest",D=0,F=z.length - 1;0 <= F;F--){G=z[F];E=G.bitrate;if(k(G)){D=Math.max(D,E);break;}else this.J.K0 && !G.zv?C="bc":G.Sv?G.uB && (C="hf"):C="av";}if(void 0 === B || D !== B)(y.maxBitrate=D,this.Hb.z1b(B,D,C,A));};x.prototype.ATb=function(y){return this.Ata(y).vg;};x.prototype.Ata=function(y){var z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T;z=this.J;A=y.mediaType;B=1 == A;C=0;D=this.o6[A];F=this.uma[A];if(!D.Qf)return {vg:void 0};G=this.Awa(y);E=y.re;H=E.im;L=y.Maa.P;K=y.track.bd;if(!L.Dn.n1(L.L,K))return (y.ml("location selector did not find any urls"),{vg:void 0});I=t.Rca(G.state);R=B?this.MC:this.Kna;try{O=R.pn(K,I);}catch(U){this.G.error("StreamFilters: filterStreams: " + U);O=[K[0]];}0 === O.length && (this.G.error("StreamFilters: empty list"),O=[K[0]]);if(this.KH.jt && (y.HE.length !== O.length || 0 < n.Yu(y.HE,O).length || 0 < n.Yu(O,y.HE).length)){try{this.rH && this.ZOb();}catch(U){this.Hb.Zo("Hindsight: Error when handling maxbitrate chagned: " + U);}y.HE=O;}I=H?H.vg:D.Qra;try{if(H && (C=H.bitrate,H && E.track && !H.track.equals(E.track))){J=f.Ara(O,C) || 0;M=O[J];if(H.bitrate !== M.bitrate || 1 === A)G.state=g.wa.jh;H=M;I=K.indexOf(M);}}catch(U){this.G.error("StreamFilters: track change: " + U);}if(!B && (C=z.TR,!(C && 0 < C.length) && I && K[I] && H && H.location === K[I].location))return {vg:I};H=this.kh;try{P=H.lP(A);S=B?H.zX():H.gY();T=y.Ej.eBa(G,O,S,P,D.Qf.config.Lt,L.Cr);if(!T)return (y.ml("stream selector did not find a stream"),{vg:void 0});}catch(U){this.G.error("StreamFilters: stream selector: " + U);T={gf:0};}T.gf=K.indexOf(O[T.gf]);this.xR.Wt && this.xR.Wt.ZBb(y.mediaType,T,K);B && this.Qoa(A,O,y.Cc);G=T.gf;O=K[G];P=O.bitrate;G != I && (B && z.HO && this.Gg.rTa(y,P),B?H.TK(P):H.Ty(P));c.Ka(D.Qra) || (D.Qra=G);y.$e || (T.$e?(p.assert(void 0 !== T.v7),y.fea(T.v7),F.dv=T.v7):(y.oF=T.oF,y.BK=T.BK,y.progress=T.progress));this.Vz();if(B)if(T.ZA)L.yR(T.ZA);else if(!L.x$() && !z.oib)for(y=0;y < K.length;++y){if((z=K[y],z.Uv && !L.hq(A,z.Pa))){L.yR([z.Pa]);break;}}T.rYa && this.Hb.G1b(T.rYa);return {Pa:O.Pa,vg:G,zy:T.zy};};x.prototype.Vz=function(){var y,z,A,B,C,D;A=this.Zf[0];B=this.Zf[1];C=this.AC[1];D=this.AC[0];A=this.u7.Wc.KFb(null !== (y=null === B || void 0 === B?void 0:B.lw) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.lw) && void 0 !== z?z:0,this.CA,this.xR.q_);A.dv && (this.xR.Zn && C?C.dv=A.dv:D && (D.dv=A.dv));return A.$e;};x.prototype.vra=function(y,z){var A,B,C,D;A=this;if(this.rH){B=this.rH;C=this.O.Le();D=[];z && (C=z.Ma);h.Tf.forEach(function(F){var G,E;G=A.u7.Wc.ce(F);if(G){E=A.Awa(G);E.mediaType=F;E.oc=C;y === g.wa.bg && (E.hfb=G.Sa.rna(C));D[F]=E;}});B.m3a || B.RI(D,y) || this.rAa();return B;}};x.prototype.ZOb=function(){var y,z;y=this.rH;z=this.J;y && (this.vra(void 0),y && !y.DN && this.kh.Eza.cra(y));this.n0a(z);};x.prototype.rAa=function(){this.rH=void 0;};x.prototype.aec=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.rH;B=this.J;y === g.wa.Dc && z !== g.wa.Dc?(A && this.G.warn("override an existing play segment!"),this.n0a(B,z,!0)):y !== g.wa.Dc && z === g.wa.Dc && A && (this.vra(y),A && !A.DN && this.kh.Eza.cra(A),this.rAa());};x.prototype.n0a=function(y,z,A){var B,C,D;B=this;C=[];h.Tf.forEach(function(F){var G,E,H;G=B.u7.Wc.ce(F);if(G){E=B.Awa(G);if(A){H=B.Zf[F];H.$Ba?(E.am=H.$Ba,H.$Ba=void 0):E.am=H.am;}else E.am=m.default.time.ga();E.bd=G.HE;E.mediaType=F;C[F]=E;}});D=m.default.jq();D={Dlc:D[0],Nlb:D[1],Woc:y.xab,Xv:y.Xv};this.rH=new d.default(C,m.default.time.ga(),z,this.KH.YW,y.Qy,D,y.G$);};return x;})();b.JRa=a;v=(function(){function x(y){this.mediaType=y;this.bW=this.Xx=this.zB=this.dv=this.AB=void 0;}x.prototype.eec=function(y,z,A){this.AB=y?y:this.AB;this.dv=this.dv;this.zB=z?z:this.zB;this.Xx=A?A:this.Xx;};return x;})();b.Hub=v;u=(function(){return function(x){this.mediaType=x;this.Pva=this.Wva=this.Rva=this.GJ=void 0;};})();b.qia=u;w=(function(){return function(x,y){this.mediaType=y;this.G=l(m.default,x,"[" + y + "]");this.ml=this.G.error.bind(this.G);this.Ob=this.G.warn.bind(this.G);this.Nj=this.G.trace.bind(this.G);this.eg=this.G.log.bind(this.G);this.G.debug.bind(this.G);this.Qra=this.am=this.Sp=this.Qf=void 0;this.r_=this.lw=0;this.sS=!1;this.maxBitrate=void 0;};})();b.Fub=w;},function(r,b,a){var q,t,v,u,w,x,y,z,A,B,C,D,F;function c(){}function m(G,E){var H,L,K,I;H=q.ed(E)?E:c;this.J=G || ({});(function(R,O,J){this.Ak[R].Xe[O]=J;}).bind(this);(function(R,O){return this.Ak[R].Xe?this.Ak[R].Xe[O]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.eb=G.knc?D.eb:c;L=u.qJb(G);K=this.J.dailyDiskCacheWriteLimit;if(L){this.qx=L;I=g(G.dpc || F,u.wRb());this.qA=function(R){return q.oa(I) || null === I || void 0 === this.Ak[R]?!1:!q.oa(I[R]);};I?(this.Ak={},E=t.Promise.all(Object.keys(I).map(function(R){return new t.Promise(function(O,J){var M;M=I[R];M.xlb=G.xlb;new w(R,L,M,function(P,S){P?J(P):O(S);},K);});})).then((function(R){R.map((function(O){var J;J=O.xx;this.Ak[J]=O;I[J].YPb=I[J].Xs - O.pA;this.Ak[J].on(w.Se.REPLACE,(function(M){M=M || ({});M.partition=J;M.type="save";this.eb("mediacache",M);}).bind(this));this.Ak[J].on(w.Se.fTa,(function(M){M=M || ({});M.partition=J;M.type="save";this.eb("mediacache",M);}).bind(this));this.Ak[J].on(w.Se.ag,(function(M){M=M || ({});M.partition=J;M.type=w.Se.ag;this.eb("mediacache-error",M);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(R){f(L,t.storage.FT,Object.keys(I));return R;}).bind(this)).then((function(R){Object.keys(R.Ak).map(function(O){R.Ak[O].Gsa().map(function(J){R.delete(O,J);});});R.Qv=!0;H(null,R);}).bind(this)).catch((function(R){v.error("Failed to initialize media cache ",R);this.vJ=B.VGa;H(this.vJ,this);}).bind(this)),C.Ky(E)):(this.vJ=B.rrb,H(this.vJ,this));}else (this.vJ=B.VGa,H(this.vJ,this));}function k(G,E,H,L,K,I){var R;R=I?"mediacache-error":"mediacache";E={partition:H,type:E,resource:L,time:t.time.now()};I && (E.error=I);K && (q.Ka(K.duration) && (E.duration=K.duration),q.Ka(K.GA) && (E.bytesRead=K.GA));try{G.eb(R,E);}catch(O){v.warn("caught exception while emitting basic event",O);}}function l(G,E,H,L,K){var I;I=K?"mediacache-error":"mediacache";E={partition:H,type:E,resources:L,time:t.time.now()};K && (E.error=K);try{G.eb(I,E);}catch(R){v.warn("caught exception while emitting basic event",R);}}function d(G){return !x.MP(G) && !z.rXb(G);}function f(G,E,H){G.query(E,"",function(L,K){L || Object.keys(K).filter(function(I){return 0 > H.indexOf(I.slice(0,I.indexOf(".")));}).map(function(I){G.remove(E,I,c);});});}function h(G,E,H){var K,I;function L(R){G.delete(K,function(O){O?H(O):(delete G.Xe[I],O=Object.keys(R.resourceIndex),O=t.Promise.all(O.map(function(J){return new t.Promise(function(M,P){G.delete(J,function(S){S?P(S):M(J);});});})).then(function(){H();},function(J){H(J);}),C.Ky(O));});}if(x.MP(E))(K=E,I=x.V8(E));else (K=x.Jpa(E),I=E);(E=G.Xe[I])?L(E):G.read(K,function(R,O){R?H(R):L(O);});}function g(G,E){var H,L,K;H={};L=G.partitions.reduce(function(I,R){return I + R.capacity;},0);K=E / L;G.partitions.map(function(I){var R;R=I.key;H[R]={};H[R].Xs=Math.floor(K * I.capacity);H[R].vKb=I.dailyWriteFactor || 1;H[R].Gpc=I.owner;H[R].fOb=I.evictionPolicy;});return H;}function n(G,E,H){if(H)return z.bMb(G,E).reduce(function(L,K){Object.keys(K).map(function(I){L[I]=K[I];});return L;},{});H={};H[G]=E;return H;}function p(G,E,H,L,K,I,R,O,J,M,P){return function(S,T){S?q.isArray(S)?(T=S.map(function(U){return U.error;}),T.some(function(U){return U.code === B.DL.code;}) && !T.some(function(U){return U.code === B.P4.code;})?P(M,S,function(){J.save(E,H,L,K,I,R);}):(M.delete(O),delete M.Xe[H],I({error:S[0].error,hw:S[0].hw,type:S[0].type,zXa:S}))):I({error:S,hw:E,type:"save"}):(S=T.items.filter(function(U){return 0 <= Object.keys(G).indexOf(U.key);}).reduce(function(U,W){return U + W.yaa;},0),M.Xe[H].Mhb(S),S={YPb:T.Ko,Gmc:T.pO,sl:0,items:T},0 < T.sl && (S.sl=T.sl),0 < T.duration && (S.duration=T.duration),I(null,S));};}q=a(10);t=a(129);v=new t.Console("MEDIACACHE","media|asejs");u=a(1005);w=a(1006);x=a(427);y=a(130);z=a(1013);A=a(1014);B=a(262);C=a(263);D=a(428).EventEmitter;F={Lpc:[]};m.prototype.H_=function(G,E,H){var L;L=q.ed(H)?H:c;this.qA(G)?this.Ak[G].query(E,function(K,I){K?(v.error("Failed to query resources",K),L([])):L(I.filter(d));}):L([]);};m.prototype.read=function(G,E,H){var L,K,I,R;L=q.ed(H)?H:c;if(this.qA(G)){K=this.Ak[G];I=K.Xe[E];if(!x.MP(E) && this.J.T_b){R=(function(O){K.lda(Object.keys(O),(function(J,M,P){J?L(B.hM.rs("Failed to read " + E,J)):(k(this,"read",G,E,P),L(null,z.MWb(M)));}).bind(this),O);}).bind(this);I?R(I.resourceIndex):this.J6b(G,E,function(O,J){O?L(B.hM.rs("Failed to read " + E,O)):R(J.resourceIndex);});}else K.read(E,(function(O,J,M){O?L(B.hM.rs("Failed to read " + E,O)):(I && I.convertToBinaryData && (J=A.rHb(J)),k(this,"read",G,E,M),L(null,J));}).bind(this));}else L(B.eD);};m.prototype.lda=function(G,E,H){var L,K;L=q.ed(H)?H:c;if(this.qA(G)){K={};E=t.Promise.all(E.map((function(I){return new t.Promise((function(R,O){this.read(G,I,function(J,M){J?(M={},M[I]=J,O(M)):(K[I]=M,R());});}).bind(this));}).bind(this))).then(function(){L(null,K);},function(I){L(I);});C.Ky(E);}else L(B.eD);};m.prototype.Dgb=function(G,E,H){var L;L=q.ed(H)?H:c;this.qA(G)?"[object Object]" !== Object.prototype.toString.call(E)?L(B.O4.rs("items must be a map of keys to objects")):(H=new t.Promise((function(K){var I,R;I=this.Ak[G].Gsa();R=Object.keys(E);(I=I.filter(function(O){return -1 === R.indexOf(O);})) && 0 < I.length?this.p1a(G,I,function(){K();}):K();}).bind(this)).then((function(){return t.Promise.all(Object.keys(E).map((function(K){return new t.Promise((function(I,R){this.save(G,K,E[K].cs,E[K].Bc,function(O,J){O?(v.error("Received an error saving",K,O),R(O)):I(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(K){var I,R,O;try{I=Number.MAX_VALUE;R=Number.MAX_VALUE;O=K.reduce(function(J,M){M.Ko && M.Ko < I && (I=M.Ko);M.pO && M.pO < R && (R=M.pO);I < Number.MAX_VALUE && (J.freeSize=I);R < Number.MAX_VALUE && (J.dailyBytesRemaining=R);q.Ka(M.sl) && (J.bytesWritten+=M.sl);q.Ka(M.duration) && (J.duration+=M.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(E),time:t.time.now(),bytesWritten:0,duration:0});this.eb("mediacache",O);L(null,O);}catch(J){L(err);}}).bind(this),(function(K){q.isArray(K.zXa)?K.zXa.forEach((function(I){this.eb("mediacache-error",{partition:G,type:"saveMultiple",error:I.error,resources:I.resources});}).bind(this)):this.eb("mediacache-error",{partition:G,type:"saveMultiple",error:K});L(K);}).bind(this)),C.Ky(H)):(q.ed(H)?H:c)(B.eD);};m.prototype.save=function(G,E,H,L,K,I){var R,O,J,M,P,S,T,U,W;R=q.ed(K)?K:c;if(this.qA(G)){O=this.Ak[G];J=x.Jpa(E);K=O.Gsa();K=K.filter(function(fa){return fa !== E;});if(q.oa(L) || q.sb(L) || !q.Ka(L.lifespan))R(B.Srb);else {M=n(E,H,this.J.T_b);P=O.Xe[E] || ({});S=P.resourceIndex;S && Object.keys(S).map(function(fa){q.oa(M[fa]) && O.delete(fa);});L.convertToBinaryData && (H=A.sHb(M),M=n(E,H,!1));S=t.time.now();T={};T.partition=G;T.resourceIndex=Object.keys(M).reduce(function(fa,sa){fa[sa]=y.Mta(M[sa]);return fa;},{});T.creationTime=P.creationTime || S;T.lastRefresh=S;T.lifespan=L.lifespan;T.lastMetadataUpdate=S;T.size=P.size;T.convertToBinaryData=L.convertToBinaryData;U=(function(fa,sa,wa){fa.uLb((function(Ba,Ga){Ba && v.error("Evicting","Failed to delete some orphaned records",Ba);Ga.Rza?wa():(Ba=fa.HRb())?this.delete(fa.xx,Ba,(function(N){N?(I || (q.isArray(sa)?sa.forEach((function(Q){l(this,"save",fa.ESb,Q.resources,Q.error);}).bind(this)):k(this,"save",fa.xx,E,void 0,sa)),R(sa)):wa();}).bind(this)):R(B.DL);}).bind(this));}).bind(this);W=(function(){var fa,sa,wa;fa=this.Ak;sa=0;wa=t.time.now();if(!q.oa(fa))for(var Ba in fa){sa+=fa[Ba].XQb(wa);}return sa;}).bind(this);this.p1a(G,K,(function(){O.replace(J,T,(function(fa,sa){sa?(O.Xe[E]=x.csa(T),O.Z7b(M,p(M,G,E,H,L,R,I,J,this,O,U),I,W)):fa.code === B.DL.code?U(O,fa,(function(){this.save(G,E,H,L,R,I);}).bind(this)):R(fa);}).bind(this),I,W);}).bind(this));}}else R(B.eD);};m.prototype.delete=function(G,E,H){var L;L=q.ed(H)?H:c;this.qA(G)?h(this.Ak[G],E,(function(K){k(this,"delete",G,E,void 0,K);L(K);}).bind(this)):L(B.eD);};m.prototype.p1a=function(G,E,H){var L,K;L=q.ed(H)?H:c;if(this.qA(G)){K=this.Ak[G];H=t.Promise.all(E.map((function(I){return new t.Promise((function(R){h(K,I,(function(O){R({ea:q.oa(O),error:O,cs:I});}).bind(this));}).bind(this));}).bind(this))).then((function(I){var P,S;for(var R=[],O=[],J=[],M=0;M < I.length;M++){P=I[M];P.ea?R.push(P.cs):P.error && O.push(P);}0 < R.length && l(this,"delete",G,R);if(0 < O.length){J=O.map(function(T){return T.cs;});I=C.S6a(O);S=I[0];I.forEach((function(T){v.error("Failed to delete resources ",T.error,T.resources);l(this,"delete",G,T.resources,T.error);}).bind(this));}I={};I.gqc=R;0 < J.length && (I.hqc=J);S?L(S,I):L(void 0,I);}).bind(this),(function(I){l(this,"delete",G,E,I);L(I);}).bind(this));C.Ky(H);}else L(B.eD);};m.prototype.clear=function(G,E){var H;H=q.ed(E)?E:c;this.qA(G)?this.Ak[G].clear(function(L){H(L.filter(d));}):H(B.eD);};m.prototype.J6b=function(G,E,H){var L,K;L=q.ed(H)?H:c;if(this.qA(G)){K=this.Ak[G];K.read(x.Jpa(E),function(I,R){var O;if(I)L(B.Trb);else {O=x.csa(R) || ({});K.$5a(Object.keys(O.wAa),function(J){O.size=J;(J=K.Xe[E]) && (O.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= O.lastMetadataUpdate?K.Xe[E]=O:J.lastMetadataUpdate && (J.lastMetadataUpdate > O.lastMetadataUpdate || q.oa(O.lastMetadataUpdate)) && (O=J));L(null,O);});}});}else L(B.eD);};m.prototype.constructor=m;r.exports=m;},function(r,b,a){var l,d;function c(f,h,g,n,p,q){return new k(f,h,g,n,p,q);}function m(f){return f && 0 <= f.indexOf(".__metadata__");}function k(f,h,g,n,p,q){this.partition=f;this.lifespan=g;this.resourceIndex=h;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.fkb();}l=a(10);d=a(129);a(130);new d.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.fkb();};k.prototype.Mhb=function(f){this.size=f;};k.prototype.C_a=function(){var f;f=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - f) / 1E3;};k.prototype.fkb=function(){this.lastMetadataUpdate=d.time.now();return this;};k.prototype.constructor=k;r.exports={create:c,csa:function(f){var h;h=f;"string" === typeof f && (h=JSON.parse(f));if(h && h.partition && !l.oa(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (f=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (f.lastMetadataUpdate=h.lastMetadataUpdate),!l.oa(h.size) && 0 <= h.size && f.Mhb(h.size),f.C_a(),f.convertToBinaryData=h.convertToBinaryData,f);},Jpa:function(f){return f + ".__metadata__";},V8:function(f){return m(f)?f.slice(0,f.length - 13):f;},MP:m};},function(r,b,a){r.exports={EventEmitter:a(1009),Gf:a(1010)};},function(r){r.exports="4.1.2137";},function(r,b,a){var p,q,t;function c(v){return v.hu - v.ft;}function m(v,u){return Math.exp(-(Math.log(2) / v) * u);}function k(v,u){v=Math.log(2) * u / v;return (1 - Math.exp(-v)) / v;}function l(v,u){var w,x,y,z,A;w=u.jza;x=u.iza;y=u.y_;if(0 === u.Uh.length)return {O6:!1};z=u.Uh[0];u=z.Ee;A=z.YE;z=z.duration;if(!A || 1 === y)return {O6:!1};q.assert(z,"duration should be defined when immediate probability is included in probabilities array");q.assert(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(w < x)return {O6:!1};x=w - x;w=y + x / z * (1 - y);z-=x;A=A * (1 - w) / (1 - y);v=u * w / y * m(v,z) + A * k(v,z);q.assert(1 >= v);return {O6:!0,oCb:v};}function d(v){var u,w,x,y,z;u=v.ln;w=v.Xib;x=v.sC;y=v.hu;z=v.ft;v=v.D3a;q.assert(void 0 !== w);q.assert(void 0 !== u);x=1 - x;y-=z;v?(z=w - v - y,u-=v,0 >= z?v=Math.max(0,(w - v) / u):(w=u - z,v=0 < w?y / w:0,x*=0 < w?w / u:1)):(z=w - y,0 >= z?v=w / u:(w=u - z,v=0 < w?y / w:0,x*=0 < w?w / u:1));q.assert(0 <= v);q.assert(1 >= v);q.assert(0 <= x);q.assert(1 >= x);return 1 - v * x;}function f(v,u){v=Math.log(2) / v.ifb;return h(u) * Math.exp(-v * c(u));}function h(v){var u;return (null !== (u=v.lJ) && void 0 !== u?u:1) * v.Uh.reduce(function(w,x){var y;y=x.YE;return w * (x.Ee + (void 0 === y?0:y));},1);}function g(v){var u,w,x,y;if(0 === v.Uh.length)return 0;w=0;if(1 > v.y_){w=v.jza;x=v.iza;y=null !== (u=v.Uh[0].duration) && void 0 !== u?u:0;w=Math.max(0,Math.min(y,w - (x - y)));}return v.Uh.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - w;}function n(v){return v.Uh.filter(function(u){return !u.YE;}).reduce(function(u,w){return u * w.Ee;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Boa=b.uZa=b.cFb=b.tZa=b.gFb=void 0;p=a(14);q=a(2);t=a(9);b.gFb=c;b.tZa=function(v,u,w){var x,y,z,A,B,C,D,F;if(!v.F8 || p.oq(u.yf))return f(v,u);y=v.ifb;v=c(u);z=g(u);A=n(u);B=l(y,u);C=B.O6;B=B.oCb;B=void 0 === B?1:B;D=1 > u.sC?d(u):1;F=(null !== (x=u.lJ) && void 0 !== x?x:1) * A * m(y,v - z) * B * D * u.Uh.filter(function(G,E){return G.YE && (0 < E || !C);}).reduce(function(G,E){var H,L;H=E.YE;L=E.duration;L=void 0 === L?0:L;H=void 0 === H?0:H;E=E.Ee * m(y,L) + H * k(y,L);return G * E;},1);t.R && (null === w || void 0 === w?void 0:w.log("{" + u.groupId + "} [" + u.mediaType + "] calculateStreamablePriority: sp: " + (u.sC + ", pssp: ") + (u.y_ + ", streamingDuration: ") + (u.Xib + ", duration: ") + (u.ln + ", seamlessProbability: ") + (A + ", distance: ") + (v + ", immediateDistance: " + z + ", risk:") + (m(y,v - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + D + ", probabilities: ") + (JSON.stringify(u.Uh) + " => " + F)));return F;};b.cFb=f;b.uZa=h;b.Boa=n;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CT=void 0;r=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.Yma=function(c,m){this[c]+=Math.max(m || 0,0);};return a;})();b.CT=r;0;1;},function(r,b,a){var m,k,l,d;function c(){return m.__awaiter(this,void 0,void 0,function(){var f;return m.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return m.__importStar(a(264));})];case 1:return (f=h.ob().gJ,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.WX=void 0;m=a(0);k=a(1031);l=m.__importDefault(a(4));b.WX=function(f){var h;h=new l.default.Console("ASEJS","media|asejs");d || (d=new k.eQa(function(){return c();},f,h));return d;};},function(r,b,a){var c,m,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.vga=b.WC=b.osb=b.lG=void 0;c=a(0);m=a(11);k=a(9);l=c.__importDefault(a(4));d=a(7);f=a(2);b.lG=function(g,n){return (1 === g.mediaType?0:1) - (1 === n.mediaType?0:1);};b.osb={lG:b.lG};(function(g){g[g.SS=0]="CREATED";g[g.KS=1]="CANCELLED";})(h=b.WC || (b.WC={}));r=(function(){function g(n,p,q,t,v){this.Op=n;this.xUa=p;this.Xq=q;this.An=t;this.Pc=h.SS;this.jV=[];this.events=new m.EventEmitter();this.console=d.oi(l.default,v,n.id && n.id.length?"{" + n.id + "}":"");}Object.defineProperties(g.prototype,{state:{get:function(){return this.Pc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{If:{get:function(){return this.Pc === h.KS;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{u:{get:function(){return this.Op;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qe:{get:function(){return this.jV;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{parent:{get:function(){var n;return null === (n=this.xUa) || void 0 === n?void 0:n.call(this,this);},enumerable:!1,configurable:!0}});g.prototype.ta=function(){return c.__awaiter(this,void 0,void 0,function(){var n,p,q;q=this;return c.__generator(this,function(){if(n=this.parent)(n.Kc && (p=n.Kc.Aa(this.An),this.Iq(p,"init from parent")),n.D1.then(function(){var t;if(!q.If){t=q.parent;f.assert(t,"Parent is undefined after parent normalization");t.Kc && (t=t.Kc.Aa(q.An),q.Iq(t,"parent normalization"));}}));return [2];});});};g.prototype.Iq=function(n,p){void 0 === p && (p="unknown");k.R && this.console.log("AseBranch adjusting branchOffset to " + n.U + (" from " + this.Xq.U + ".  " + p));this.Xq=n;};g.prototype.vd=function(){this.xUa=void 0;};g.prototype.B$=function(n){return this.Qe.some(function(p){return p.mediaType === n;});};return g;})();b.vga=r;},function(r,b,a){var k,l,d;function c(f,h,g,n,p){var q,t;g=null !== (q=h.md) && void 0 !== q?q:h.track.qn(f,g.U,void 0,p);f=null !== (t=h.pe) && void 0 !== t?t:h.track.jB(f,null === n || void 0 === n?void 0:n.U,h.Ch);return [!h.vh(),g,f];}function m(f,h){var B,C;for(var g=[],n=0,p=f[n],q=null === p || void 0 === p?void 0:p[0],t=null === p || void 0 === p?void 0:p[1],v=h.pe.index,u=h.track.Fq,w=0,x=h.md.ec,y=h.md.Jd.U > p[0],z=y,A=h.md.index;A <= v;++A){B=!1;if(p){C=u.get(A);y && (C.ec.U >= t?(y=!1,++n >= f.length?t=q=p=void 0:(p=f[n],q=null === p || void 0 === p?void 0:p[0],t=null === p || void 0 === p?void 0:p[1])):z?z=!1:(g.push(new l.t4(w,x,C.ec)),x=C.ec,B=!0));!y && p && C.Jd.U > q && (y=!0,B=C.ec,(C=h.track.DP.zl(A).x3a(q)) && 0 !== C.dj && (B=d.K.Ga(C.Nd)),g.push(new l.t4(w,x,B)),x=B,B=!0);}B && ++w;}g.push(new l.t4(w,x,h.pe.Jd));return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.l_b=b.dab=b.Xbb=b.Vbb=b.dAa=void 0;k=a(0);l=a(435);d=a(7);b.dAa=function(f,h,g){var n,p,q;q=h.get(0);h=h.get(1);h=null === h || void 0 === h?void 0:h.track.jB(f,null === g || void 0 === g?void 0:g.U,h.Ch);return [null === q || void 0 === q?void 0:q.track.jB(f,null !== (p=null === (n=null === h || void 0 === h?void 0:h.Jd) || void 0 === n?void 0:n.U) && void 0 !== p?p:null === g || void 0 === g?void 0:g.U,q.Ch),h];};b.Vbb=function(f,h,g,n,p){var q,t,v,u;q=h.get(0);h=h.get(1);t=k.__read(h?c(f,h,g,n,p):[!1],3);v=t[0];u=t[1];t=t[2];n=k.__read(q?c(f,q,v && void 0 !== (null === u || void 0 === u?void 0:u.ba)?d.K.Ga(u.ba):g,void 0 !== (null === t || void 0 === t?void 0:t.Ma)?d.K.Ga(null === t || void 0 === t?void 0:t.Ma):n,p):[!1],3);f=n[0];g=n[1];n=n[2];f && (null === q || void 0 === q?void 0:q.$$(g,n));v && (null === h || void 0 === h?void 0:h.$$(u,t));return [f,v];};b.Xbb=function(f,h,g){return h.track.qn(f,g.U,void 0,!0).ec;};b.dab=function(f,h,g){var n;n=h.u;if(!n.fq || 0 === n.fq.length)return [];f=n.fq.map(function(p){return [n.qa + p[0],n.qa + p[1]];});return m(f,g.A_);};b.l_b=m;},function(r,b,a){var m,k,l;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.WPa=b.t4=b.P8a=void 0;m=a(0);k=a(7);l=a(2);b.P8a=c;r=(function(){function d(f,h,g){this.region=f;this.ec=h;this.Jd=g;}d.prototype.toJSON=function(){return {region:this.region,ba:this.ec.lK,Ma:this.Jd.lK};};return d;})();b.t4=r;r=(function(){function d(f,h,g){var n,p,q;n=this;this.id=f;this.u=h;this.tVa=!1;this.sP=function(t){var v,u,w,x;return (null === (v=n.Py) || void 0 === v?0:v.length)?"immediate":null !== (x=null === (w=null === (u=n.u.next) || void 0 === u?void 0:u[t]) || void 0 === w?void 0:w.se) && void 0 !== x?x:n.se;};this.fV=new k.K(h.qa,1E3);this.tU=void 0 !== h.sa && null !== h.sa?new k.K(h.sa,1E3):k.K.Pv;this.FAb=null !== (q=null !== (p=h.se) && void 0 !== p?p:g) && void 0 !== q?q:"lazy";this.m8a();l.assert(this.fV.lessThan(this.tU),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{L:{get:function(){return this.u.L;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{om:{get:function(){return this.tVa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oe:{get:function(){return this.fV;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kg:{get:function(){return this.tU;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.tU.Aa(this.fV);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ba:{get:function(){return this.fV.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ma:{get:function(){return this.tU.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{JF:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Cw:{get:function(){return this.YB.length?!this.u.Kb && 0 === this.xQ.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xXb:{get:function(){return !this.u.type || "content" === this.u.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{k1b:{get:function(){return this.BD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{YB:{get:function(){var f,h;return Object.keys(null !== (h=null === (f=this.u) || void 0 === f?void 0:f.next) && void 0 !== h?h:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xQ:{get:function(){var f;f=this;return this.YB.filter(function(h){return ! !f.BD[h];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{BCa:{get:function(){var f;return null !== (f=this.yWa) && void 0 !== f?f:this.yWa=this.hFb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Iea:{get:function(){var f;return null !== (f=this.zWa) && void 0 !== f?f:this.zWa=this.iFb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sC:{get:function(){return this.u.weight?this.u.weight / (this.u.weight + this.Iea):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{se:{get:function(){var f;return (null === (f=this.Py) || void 0 === f?0:f.length)?"immediate":this.FAb;},enumerable:!1,configurable:!0}});d.prototype.normalize=function(f,h,g){this.fV=f;this.tU=h;this.Py=g;this.tVa=!0;this.lmb();};d.prototype.S4a=function(){var f;return this.xQ.length?null !== (f=this.xQ.map(this.sP).reduce(function(h,g){return h === g?g:void 0;})) && void 0 !== f?f:this.se:this.se;};d.prototype.Gj=function(f){this.m8a(f);};d.prototype.YEb=function(f){var h,g;if(this.BCa){h=(this.BD[f] || 0) / this.BCa;if(void 0 === this.u.weight || 0 === this.Iea)return {Ee:h};g=this.sC;return 1 !== g && c(this.sP(f)) && this.BD[f]?{Ee:g * h,YE:this.BD[f] / this.Iea * (1 - g)}:{Ee:g * h};}return {Ee:(null === (h=this.u.next) || void 0 === h?0:h[f])?1 / this.YB.length:0};};d.prototype.VUb=function(f){return -1 < this.YB.indexOf(f);};d.prototype.TCb=function(){return this.om?m.__assign(m.__assign({},this.u),{qa:this.Oe.U,sa:this.kg.U}):this.u;};d.prototype.m8a=function(f){var h;if(void 0 === this.u.next)this.BD={};else {h=this.u.next;this.BD=Object.keys(h).reduce(function(g,n){var p;p=f?f[n] || 0:h[n].weight;void 0 !== p && null !== p && 0 <= p && (g[n]=p);return g;},{});}this.lmb();};d.prototype.hFb=function(){var f;f=this;return this.xQ.reduce(function(h,g){return h + f.BD[g];},0);};d.prototype.iFb=function(){var f;f=this;return this.xQ.filter(function(h){return c(f.sP(h));}).reduce(function(h,g){return h + f.BD[g];},0);};d.prototype.lmb=function(){this.zWa=this.yWa=void 0;};return d;})();b.WPa=r;},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mja=void 0;c=a(0);m=a(11);k=a(7);l=a(2);d=a(14);r=a(131);f=c.__importDefault(a(4));h=a(9);g=r.Fy.fqa;a=(function(){function n(){this.IQ=[];this.AD=new k.As(!1);this.zD=new k.As(k.K.Ga(-Infinity));this.events=new m.EventEmitter();this.G=new f.default.Console("ASEJS","media|asejs");}Object.defineProperties(n.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{vi:{get:function(){return this.zx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{np:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gC:{get:function(){return {};},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{playbackRate:{get:function(){return this.kq();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{SXa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Zv:{get:function(){return this.AD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{QY:{get:function(){return this.zD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ae:{get:function(){return this.Kv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{me:{get:function(){return this.$I();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ig:{get:function(){var p,q;p=this.me;q=this.Jn(p,!1);h.R && l.assert(q,"Could not find current branch for " + p.U);return q;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xWb:{get:function(){return this.Ya[0];},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ct:{get:function(){return this.Kv?this.Ya[this.Ya.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wi:{get:function(){var p,q;p=this.me;q=this.z9(p);l.assert(q,"Could not find presenting branch for " + p.U);return q;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kv:{get:function(){return 0 < this.Ya.length;},enumerable:!1,configurable:!0}});n.prototype.zR=function(){};n.prototype.iea=function(){};n.prototype.Wg=function(){return !1;};n.prototype.wP=function(){return 0 < this.Ya.length;};n.prototype.Tk=function(){l.assert(0 < this.Ya.length,"Could not find presenting branch. Player has no branches.");return this.wi;};n.prototype.$6a=function(p){return -1 !== this.Ya.indexOf(p);};n.prototype.h7=function(){return void 0 !== this.na?!1:!0;};n.prototype.FQ=function(){};n.prototype.lb=function(){};n.prototype.dy=function(p){var q,t,v;q=this.Ya.filter(function(u){return u.u.id === p.V;});if(0 !== q.length){t=this.$I();v=new k.K(Infinity,1);q.forEach(function(u){u=u.wq.add(p.offset);t.xO(u).lessThan(t.xO(v)) && (v=u);});return v;}};n.prototype.kY=function(p){var q,t,v,u,w,x,y,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:q=this.Ya.filter(function(D){return D.u.id === p.V;});if(0 === q.length)return [2,void 0];t=this.$I();C.label=1;case 1:(C.Dh.push([1,6,7,8]),v=c.__values(q),u=v.next(),C.label=2);case 2:if(u.done)return [3,5];w=u.value;x=w.wq.add(p.offset);y=t.xO(x);return [4,{Ey:x,xO:y}];case 3:(C.ob(),C.label=4);case 4:return (u=v.next(),[3,2]);case 5:return [3,8];case 6:return (z=C.ob(),A={error:z},[3,8]);case 7:try{u && !u.done && (B=v.return) && B.call(v);}finally{if(A)throw A.error;}return [7];case 8:return [2];}});};n.prototype.Jn=function(p,q){var t,v,u;void 0 === q && (q=!1);t=this.z9(p,q);if(t){v=t.u;q=v.id;u=v.duration;p=k.K.min(p.Aa(v.Oe.add(t.Bd)),u || k.K.Pv);return {V:q,offset:p};}};n.prototype.c$=function(){};n.prototype.reset=function(){this.iE();};n.prototype.d0=function(){};n.prototype.pause=function(p){void 0 === p && (p=d.Tf);this.IQ=null === p || void 0 === p?void 0:p.reduce(function(q,t){-1 === q.indexOf(t) && q.push(t);return q;},this.IQ);};n.prototype.resume=function(p){var q;q=this;void 0 === p && (p=d.Tf);p.forEach(function(t){t=q.IQ.indexOf(t);-1 !== t && q.IQ.splice(t,1);});};n.prototype.$Ca=function(p){var q;l.assert(this.na);l.assert(p !== this);this.aL();q=p.h7(this.na,this);q && (this.eda(),p.pause(this.IQ),p.Wqa.apply(p,c.__spread(this.Ya)),this.nqa(this.na));return q;};n.prototype.$I=function(){return this.v5a();};n.prototype.v5a=function(){var p,q;h.R && l.assert(this.Kv,"Attempted to get initial time before any branches were queued");q=c.__read(this.Ya,1)[0];h.R && l.assert(q);return null !== (p=q.fd) && void 0 !== p?p:q.vt;};n.prototype.kq=function(){return 1;};n.prototype.OX=function(){};n.prototype.z9=function(p,q){var t;void 0 === q && (q=!1);if(this.Kv){t=this.v5a();return p.lessThan(t)?this.Ya[0]:k.Fra(this.Ya,p) || (q?this.Ct:void 0);}};n.prototype.jRb=function(){var p,q,u,w,x,y,z,A;q={};try{for(var t=c.__values(this.Ya),v=t.next();!v.done;v=t.next()){u=v.value;w=void 0;x=void 0;y=u.lB();for(w in y){z=w;A=y[z];A && (q[z]=(null !== (x=q[z]) && void 0 !== x?x:0) + A);}if(!u.oj)break;}}catch(C){var B;B={error:C};}finally{try{v && !v.done && (p=t.return) && p.call(t);}finally{if(B)throw B.error;}}return q;};c.__decorate([g.return.ki()],n.prototype,"ig",null);c.__decorate([g.return.coa(),g.return.Un],n.prototype,"Tk",null);c.__decorate([c.__param(0,g.ki())],n.prototype,"dy",null);c.__decorate([c.__param(0,g.ki())],n.prototype,"kY",null);c.__decorate([g.return.ki()],n.prototype,"Jn",null);return n;})();b.mja=a;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Mda=void 0;c=a(0);m=a(2);k=a(188);b.Mda=function(l,d,f,h,g,n){var p,q;void 0 === g && (g=k.Yw.OW);p=l();if(h && p){q=h.pna;l=h.Un;h=h.rules.map(function(t){return ["function" === typeof t.Ol?t.Ol(f):f[t.Ol],t.config];});q || m.assert(d,"Param is null");n && h.push([{map:n,hE:function(){return !0;}},void 0]);n=h.filter(function(t){t=c.__read(t,2);return t[0].hE(d,p,t[1]);});l && m.assert(n.length,"No rules matched for " + d);if(n.length)return n.reduce(function(t,v){v=c.__read(v,2);return v[0].map(t,g,p,v[1]);},d);}return d;};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.w4a=b.a6a=b.rsa=b.JQa=void 0;c=a(0);m=a(9);k=a(53);r=(function(){function l(d){this.Fa=d;}Object.defineProperties(l.prototype,{ke:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fw:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return m.R;},enumerable:!1,configurable:!0}});l.prototype.Sk=function(d){var f,h,p;d=d.Yi;if(d === k.he.aq || d === k.he.op)if(d=this.Fa.msa()){h={};try{for(var g=c.__values(d.L4b),n=g.next();!n.done;n=g.next()){p=n.value;h[p.mediaType]=this.e_b(p);}}catch(t){var q;q={error:t};}finally{try{n && !n.done && (f=g.return) && f.call(g);}finally{if(q)throw q.error;}}return {branchQueue:b.w4a(d.C6b),playerIterator:h,driftStats:this.Fa.YDa};}};l.prototype.e_b=function(d){return null === d || void 0 === d?void 0:d.w5a();};return l;})();b.JQa=r;b.rsa=function(l){var d,f;if(l){d=l.u;f={};l.hm().forEach(function(h){f[h.mediaType]=b.a6a(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:l.If,RM:f};}return l;};b.a6a=function(l){var d,f,h;if(l && l.Sa)return c.__assign(c.__assign({},l.Sa.mta()),{unsentRequests:l.Sa.lu,lastFragmentContentEndPts:null === (d=l.pe) || void 0 === d?void 0:d.Jc,trackAttributes:null === (f=l.track) || void 0 === f?void 0:f.Mo(),bitrate:null === (h=l.pe) || void 0 === h?void 0:h.bitrate});};b.w4a=function(l){return l.map(function(d){return b.rsa(d);});};},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.LAa=b.Zoa=b.Jn=b.Q6a=b.Mlb=void 0;c=a(7);m=a(2);k=a(9);b.Mlb=function(d,f){d=d.M[f.V];if(void 0 === d)return {PP:!1,reason:"Segment " + f.V + " was not found"};if(0 > f.offset.U)return {PP:!1,reason:"Offset " + f.offset.U + " was negative"};if(void 0 === d.sa || null === d.sa || Infinity === d.sa)return {PP:!0};d=d.sa - d.qa;return f.offset.U >= d?{PP:!1,reason:"Offset " + f.offset.U + " was greater than segment duration " + d}:{PP:!0};};l=c.K.Ga(100);b.Q6a=function(d,f){if(d === f)return !0;if(d && f && d.V === f.V){if(d.offset === f.offset)return !0;d=c.K.abs(d.offset.Aa(f.offset));if(l.greaterThan(d))return !0;}return !1;};b.Jn=function(d,f,h){var g,n,p,q;p=f.na;f=f.yWb;void 0 === h && (h={});q=p.Z;p=p.navigator;q=p.ze(null !== (g=null === f || void 0 === f?void 0:f.id) && void 0 !== g?g:q.Cd);g=null !== (n=null === f || void 0 === f?void 0:f.A9b) && void 0 !== n?n:q.Oe;if(g.greaterThan(d))return h.pib?{offset:d.Aa(g),V:q.id}:void 0;f=p.A9a(q);for(p=f.next();!p.done;){n=p.value;p=n.kg.Aa(n.Oe);q=g;g=q.add(p);if(g.greaterThan(d))return (d=d.Aa(q),k.R && m.assert(d.rj(c.K.Ia) && d.lessThan(p)),{V:n.id,offset:d});p=f.next();if(p.done && h.qib)return {V:n.id,offset:d.Aa(q)};}};b.Zoa=function(d,f){f=f.M[d.V];return d.offset.lessThan(c.K.Ia)?{H7:c.K.Ia,$p:d.offset}:f.sa && (f=c.K.Ga(f.sa - f.qa),f.isFinite() && d.offset.greaterThan(f))?{H7:f,$p:d.offset.Aa(f)}:{H7:d.offset,$p:c.K.Ia};};b.LAa=function(d,f){d=d.M[f.V];if(void 0 !== d)return null === d.sa || void 0 === d.sa?{V:f.V,offset:c.K.max(c.K.Ia,f.offset)}:{V:f.V,offset:c.K.max(c.K.Ia,c.K.min(f.offset,c.K.Ga(d.sa - d.qa)))};};},function(r,b,a){var m,k,l,d;function c(f){return 0 === f.length || void 0 === f[0].parent && f.every(function(h,g){return 0 === g || d.uo(f,function(n){return n.value === h.parent;}) < g;});}Object.defineProperties(b,{__esModule:{value:!0}});b.peb=b.dka=void 0;a(0);m=a(9);k=a(441);l=a(2);d=a(21);r=(function(){function f(){this.S=new k.wja();}Object.defineProperties(f.prototype,{empty:{get:function(){return !this.qC;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{root:{get:function(){var h;return null === (h=this.qC) || void 0 === h?void 0:h.value;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{values:{get:function(){var h;h=[];this.ZO(function(g){return ! !h.push(g);});return h;},enumerable:!1,configurable:!0}});f.prototype.has=function(h){return ! !this.S.get(h);};f.prototype.parent=function(h){var g;h=this.S.get(h);m.R && l.assert(h,"Attempted to find the parent of a node not in the tree");return null === (g=null === h || void 0 === h?void 0:h.parent) || void 0 === g?void 0:g.value;};f.prototype.children=function(h){h=this.S.get(h);m.R && l.assert(h,"Attempted to find the children of a node not in the tree");return (null === h || void 0 === h?0:h.children)?h.children.map(function(g){return g.value;}):[];};f.prototype.Vta=function(h){h=this.S.get(h);m.R && l.assert(h,"Attempted to find the children of a node not in the tree");return void 0 !== (null === h || void 0 === h?void 0:h.children) && 0 < h.children.length;};f.prototype.add=function(h,g){var n;m.R && l.assert(!this.S.get(h),"Attempted to add a value to tree that is already present");n={value:h};void 0 === this.qC?(m.R && l.assert(void 0 === g,"a parent cannot be specified when the tree is empty"),this.qC=n):(m.R && l.assert(void 0 !== g,"a parent must be specified when the tree is non-empty"),g=this.S.get(g),m.R && l.assert(g,"Parent value does not exist in tree"),this.lYa(n,g));this.S.set(h,n);return this;};f.prototype.remove=function(h){h=this.S.get(h);m.R && l.assert(h,"Attempted to remove a node not in the tree");this.removeNode(h);return this;};f.prototype.removeNode=function(h){var g;g=this;this.Sra(function(n){return g.S.delete(n);},h.value);void 0 === h.parent?this.qC=void 0:this.detach(h);};f.prototype.move=function(h,g){h=this.S.get(h);g=this.S.get(g);m.R && l.assert(h,"cannot move a value that is not in the tree");m.R && l.assert(g,"cannot move a value to a parent value not in the tree");m.R && l.assert(null === h || void 0 === h?void 0:h.parent,"cannot move the root node");m.R && l.assert(!this.WWb(h,g),"cannot move a node below itself or one of its decendants");h.parent !== g && (this.detach(h),this.lYa(h,g));return this;};f.prototype.$7b=function(h){var g,n;g=this;h=this.S.get(h);m.R && l.assert(h,"cannot replant at a value that is not in the tree");n=[];this.detach(h);this.Sra(function(p){g.S.delete(p);n.unshift(p);return !0;});this.qC=h;};f.prototype.clear=function(){this.qC && this.remove(this.qC.value);return this;};f.prototype.K3a=function(h,g){var n,p;n=this;h=this.S.get(h);m.R && l.assert(h,"cannot iterate children of a value not in the tree");null === (p=h.children) || void 0 === p?void 0:p.forEach(function(q){return g(q.value,n);});};f.prototype.ZO=function(h,g,n){var p;p=this;void 0 === n && (n=0);m.R && l.assert(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.qC.value,h(g,this,n) && this.K3a(g,function(q){return p.ZO(h,q,n + 1);}));};f.prototype.Sra=function(h,g){var n;n=this;m.R && l.assert(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.qC.value,this.K3a(g,function(p){return n.Sra(h,p);}),h(g,this));};f.prototype.Q6b=function(h){var g,n,p;g=this;m.R && l.assert(c(h),"entries must be in topological order");if(0 === h.length){n=this.values;p=[];this.clear();}else (p=h.filter(function(q){return g.has(q.value) && q.parent !== g.parent(q.value);}),n=this.values.filter(function(q){return -1 === d.uo(h,function(t){return t.value === q;});}),this.clear(),h.forEach(function(q){return g.add(q.value,q.parent);}));return {eR:n,Ofb:p};};f.prototype.lYa=function(h,g){var n;h.parent=g;(null !== (n=g.children) && void 0 !== n?n:g.children=[]).push(h);};f.prototype.detach=function(h){var g;m.R && l.assert(h.parent,"cannot detach the root");m.R && l.assert(void 0 !== h.parent.children,"logic error: parent node does not have children");g=h.parent.children.indexOf(h);l.assert(0 <= g,"logic error: node does not appear in the children of its parent");h.parent.children.splice(g,1);h.parent=void 0;};f.prototype.WWb=function(h,g){for(;void 0 !== g;){if(g === h)return !0;g=g.parent;}return !1;};return f;})();b.dka=r;b.peb=function(f,h){var g;g="";f.ZO(function(n,p,q){g+="" + Array(q + 1).join("-") + h(n) + "\n";return !0;});return g;};},function(r,b){var m,k,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.oTa);}function c(d){return (a(d)?d:Object.defineProperties(d,{oTa:{value:{},configurable:!1,enumerable:!1}})).oTa;}Object.defineProperties(b,{__esModule:{value:!0}});b.wja=void 0;k=null !== (m=Number.MAX_SAFE_INTEGER) && void 0 !== m?m:1E9;l=Date.now() % k;r=(function(){function d(){this.id=l=(l + 1) % k;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,h){c(f)[this.id]=h;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.wja=r;},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Bia=void 0;c=a(0);m=a(11);k=a(9);l=a(2);r=(function(){function d(){this.events=new m.EventEmitter();}d.prototype.ta=function(f){var h;h=this;this.na=f;this.na.events.on("segmentNormalized",function(){h.rda();});this.rda();};Object.defineProperties(d.prototype,{JZ:{get:function(){return this.pyb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{oDa:{get:function(){l.assert(this.na,"Must be initialized");return this.na.Z;},enumerable:!1,configurable:!0}});d.prototype.rda=function(){var f,h,g;f=this;if(this.na){h={};g=this.na.Z;this.pyb=c.__assign(c.__assign({},g),{M:new Proxy(g.M,{get:function(n,p){var q;if(h[p])return h[p];n=g.M[p];if(!n)return n;q=f.bTb(p);q?(q=q.TCb(),h[p]=c.__assign(c.__assign(c.__assign({},q),n),{qa:q.qa,sa:q.sa})):h[p]=g.M[p];return h[p];}})});this.events.emit("updated");}};d.prototype.bTb=function(f){var h;k.R && l.assert(this.na,"Must be initialized");h=this.na.navigator;return h.j7a(f)?h.ze(f):void 0;};return d;})();b.Bia=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.mha=void 0;c=a(0);m=a(39);k=a(20);l=c.__importDefault(a(4));d=a(63);f=a(439);h=a(2);g=a(1083);n=a(9);p=a(444);r=(function(){function q(t,v,u,w){var y,z;function x(A,B){return A.V === B.V && A.offset.equal(B.offset);}y=this;this.fA=t;this.c5=v;this.config=u;this.console=new l.default.Console("GRAPHLOCATIONSERVICE");this.Zh=new d.Eu({Hn:this,source:(w || "") + "GraphLocation",console:this.console});p.Uza(this,"d",new p.cia(u,x));p.Uza(this,"u",new p.cia(u,x));"temp" !== w && (null === (z=this.c5.events) || void 0 === z?void 0:z.on("updated",function(){p.E4a(y).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.fA();},enumerable:!1,configurable:!0}});q.prototype.Jlb=function(t,v){return new q(function(){return t;},{JZ:v,oDa:v},this.config,"temp");};q.prototype.$A=function(t){var v,u,w;n.R && this.console.trace("downConverting",t);v=this.parent;u=this.c5;w=u.JZ;if(v === u.oDa)return t;if(w.M[t.V])return (v.M[t.V] || n.R && this.console.warn("Received a down converted position unexpectedly",t,Error().stack),t);u=f.Zoa(t,v);t=m.Klb(v,w,{offset:u.H7.U,u:t.V});t={offset:u.$p.add(k.K.Ga(t.offset)),V:t.u};n.R && this.console.trace("downConverting ret:",t);return t;};q.prototype.qp=function(t){var v,u,w;n.R && this.console.trace("upConverting",t);v=this.parent;u=this.c5;w=u.JZ;if(v === u.oDa)return t;if(v.M[t.V])return (w.M[t.V] || n.R && this.console.warn("Received a up converted position unexpectedly",t,Error().stack),t);u=f.Zoa(t,w);t=m.p_a(v,w,{offset:u.H7.U,u:t.V});t={offset:u.$p.add(k.K.Ga(t.offset)),V:t.u};n.R && this.console.trace("upConverting ret:",t);return t;};q.prototype.iSb=function(t){var v;v=m.L4a(this.parent,this.c5.JZ,{u:t.V,offset:t.offset.U});v=g.O9a(v);h.assert(v,"Could not find any segments in the path of " + t);return v;};c.__decorate([d.jb({methodName:"downConvertPosition",wl:!0,so:!0,return:!0}),p.woa("d")],q.prototype,"$A",null);c.__decorate([d.jb({methodName:"upConvertPosition",wl:!0,so:!0,return:!0}),p.woa("u")],q.prototype,"qp",null);return q;})();b.mha=r;},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.B4a=b.E4a=b.Uza=b.woa=b.cia=void 0;c=a(0);m=c.__importDefault(a(4));k=a(33);l=a(7);r=(function(){function f(h,g,n){void 0 === n && (n={});this.config=h;this.$Nb=g;this.jd=[];this.voa=new l.cH();this.jZa=new l.cH();this.options=c.__assign({Xo:10},n);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.bNb;},enumerable:!1,configurable:!0}});f.prototype.X9=function(h,g){var n;if(!this.isEnabled)return g();n=this.DQb(h);if(n)return n.value;g=g();this.So(h,g);return g;};f.prototype.findIndex=function(h){var g,n,p,q;g=Infinity;n=Infinity;if(this.options.rV || this.options.bR){p=m.default.time.ga();this.options.bR && (g=p - this.options.bR);this.options.rV && (n=p - this.options.rV);}for(p=0;p < this.jd.length;p++){q=this.jd[p];if(this.options.bR && q.W9a < g){this.jd.splice(p,this.jd.length - p);break;}if(this.options.rV && q.tl < n)(this.jd.splice(p,1),p--);else if(this.$Nb(q.key,h))return p;}return -1;};f.prototype.DQb=function(h){var g;h=this.findIndex(h);if(-1 !== h){g=this.jd[h];this.jd.splice(h,1);this.jd.unshift(g);this.options.bR && (g.W9a=m.default.time.ga());this.jZa.push(h);this.voa.push(1);return g;}this.voa.push(0);};f.prototype.So=function(h,g){this.jd.unshift({key:h,value:g});if(this.options.bR || this.options.rV)(h=m.default.time.ga(),this.options.bR && (this.jd[0].W9a=h),this.options.rV && (this.jd[0].tl=h));this.OFb();};f.prototype.OFb=function(){this.jd.length > this.options.Xo && this.jd.pop();};f.prototype.clear=function(){this.jd=[];};return f;})();b.cia=r;d=new WeakMap();b.woa=function(f){void 0 === f && (f="default");return function(h,g,n){var p;p=n.value;n.value=function(q){var t,v,u;t=this;u=null === (v=d.get(this)) || void 0 === v?void 0:v[f];k.assert(u,"lruCache not defined");return u.X9(q,function(){return p.call(t,q);});};};};b.Uza=function(f,h,g){d.has(f) || d.set(f,{});d.get(f)[h]=g;};b.E4a=function(f){var h;if(!d.has(f))return [];h=d.get(f);return Object.keys(h).map(function(g){return h[g];});};b.B4a=function(f){return d.has(f)?d.get(f):{};};},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.cya=b.IGa=void 0;c=a(0);m=a(39);k=a(1084);l=a(63);d=a(2);r=(function(f){function h(g,n,p,q){void 0 === q && (q="CphAsePlaygraph");q=f.call(this,g,n,p,q,!0) || this;q.Mn=g;q.Icb=n;q.xgb=p;g.zc.gg(new k.JGa(q));return q;}c.__extends(h,f);h.prototype.LF=function(g){var n,p;n=f.prototype.LF.call(this,g);if(n){p=g.ja.Bo;p && !this.e5 && (this.Lka.Wu({applyingContentPlaygraph:!0}),this.e5=p,this.kxb=this.mHb(g.ja),this.N_());}return n;};Object.defineProperties(h.prototype,{g7a:{get:function(){return this.kxb;},enumerable:!1,configurable:!0}});h.prototype.qE=function(g){if(this.e5)return (g=c.__assign(c.__assign({},g),{M:c.__assign({},g.M)}),m.dxa(g,this.e5.Z));};h.prototype.mHb=function(g){var n,p;n=g.$u;p=g.UE;return !(!n || !n.some(function(q){return q.UE !== p;}));};Object.defineProperties(h.prototype,{Bo:{get:function(){var g;return null === (g=this.e5) || void 0 === g?void 0:g.Z;},enumerable:!1,configurable:!0}});c.__decorate([l.jb({methodName:"processViewableResponse"})],h.prototype,"LF",null);return h;})(a(446).nja);b.IGa=r;b.cya=function(f){var h;h=[];return {Xt:function(g,n){var p,q,t,v,u,w,x;t=g.L;v=g.W_;u=f();if(u.Ona && u.Ona !== t){w=null === (p=null === v || void 0 === v?void 0:v.rl) || void 0 === p?void 0:p.Ke;p=null === (q=null === v || void 0 === v?void 0:v.rl) || void 0 === q?void 0:q.Th;q=u.Ke;v=u.Ona;d.assert(v,"did not receive parent viewable id");v={rl:{Ke:null !== w && void 0 !== w?w:q,Th:null !== p && void 0 !== p?p:v}};}u.zc.console.trace("In wrapped request viewable",t,v);x=n(c.__assign(c.__assign({},g),{W_:v}));h.forEach(function(y){return y({L:t,pG:x.pG});});return x;},gjb:function(g){h.push(g);}};};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.nja=void 0;c=a(0);m=a(185);k=a(63);l=a(21);d=a(2);f=a(9);h=a(441);g=a(20);n=a(1085);p=a(447);q=a(1086);r=(function(){function t(v,u,w,x,y){var z;z=this;void 0 === x && (x="CphAsePlaygraph");void 0 === y && (y=!0);this.Mn=v;this.Icb=u;this.xgb=w;this.Tcc=x;this.nxb=new h.wja();y && this.ta();this.Icb(function(A){var B;B=A.pG;return c.__awaiter(z,void 0,void 0,function(){var C;return c.__generator(this,function(D){switch(D.label){case 0:return [4,B];case 1:return (C=D.ob(),this.LF(C),[2]);}});});});}Object.defineProperties(t.prototype,{zc:{get:function(){return this.Mn.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Sj:{get:function(){return this.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Z:{get:function(){return this.lo;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{uh:{get:function(){return this.Mn.uh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G:{get:function(){return this.zc.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{J:{get:function(){return this.zc.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{g7a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.ta=function(){var v,u,w;v=this;u=this.Mn;this.Lka=new k.Eu({Xo:10,Hn:this,source:this.Tcc,console:this.G});this.events=p.Ipa(function(){return u;},u.zc.events,this.xgb,q.Tdb);this.lo=u.zc.Z;w=u.uh;u.zc.gg(new m.ix(this.Lka));u.zc.gg(new m.ix(u.uh.Zh));u.zc.gg(new n.iGa(u.$9a + "::gls",w));u.zc.events.on("playgraphUpdating",function(){v.Mn.Tua.rda();});};t.prototype.Qs=function(v){var u,w,x;x=null !== (u=this.O) && void 0 !== u?u:this.zc.O;this.O=v;v.yBa && v.yBa(this.Mn);(u=this.Mn.zc.Qs(null !== (w=v.AY) && void 0 !== w?w:v))?(this.O=v,x !== v && x.gpa && x.gpa()):this.O=x;return u;};t.prototype.N_=function(v,u,w,x){if(v=this.qE(null !== v && void 0 !== v?v:this.lo))return this.F2b(v,this.g7a,u,w,x);};t.prototype.F2b=function(v,u,w,x,y){var z,A,B,C,D,F;z=this.Mn.dh;A=z.O;B=z.Z;if(w=w?w:z.lq && A.Ae?A.ig:z.tt?z.Cj:void 0){C=this.zc.Z.M[w.V];C && C.kc && (w=this.uh.qp(w));}z.config.ofc && u && A.VF(!0);u=z.B5a();f.R && this.G.log("onNewInnerPlaygraph: outer: " + JSON.stringify(B));f.R && this.G.log("onNewInnerPlaygraph: combined: " + JSON.stringify(v));this.nxb.set(v,!0);B=this.zc.Iw(v);try{if(!B.ea || w && !A.Ae && !z.tt)if((d.assert(!A.za.Zj,"Player is not paused"),z.vd(!0),B=this.zc.Iw(v),w)){D=this.uh.$A(w);F=v.M[D.V];"padding" === (null === F || void 0 === F?void 0:F.type) && (D={V:F.Kb,offset:g.K.Ia});this.zc.Xda(D,x,y);A.resume();}return B;}finally{u.release();}};t.prototype.Iw=function(v){var w,x,y;function u(){w.lo=v;}w=this;y=null !== (x=this.qE(v)) && void 0 !== x?x:v;try{return (this.zc.events.eza("playgraphUpdating",u),this.zc.Iw(y));}finally{this.zc.events.removeListener("playgraphUpdating",u);}};Object.defineProperties(t.prototype,{Ke:{get:function(){return this.BTa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ona:{get:function(){var v,u,w,x;v=this;w=Object.keys(this.zc.Z.M);if(w=l.Vc(w,function(y){return ! !v.zc.Z.M[y].kc;})){w=this.zc.Z.M[w].kc;x=this.Z.M[w];return null !== (u=null === x || void 0 === x?void 0:x.L) && void 0 !== u?u:Number(w.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.LF=function(v){var u,w,x,y;w=v.ja;x=w.Ke;w=w.Bo;y=null !== (u=this.J.kra) && void 0 !== u?u:[];if(w && y.some(function(z){return z == v.I;}))return (u=v.I + " was excluded from content playgraph",this.Lka.Wu(u),f.R && this.G.trace(u),!1);x && !this.BTa && (this.BTa=x);return !0;};t.prototype.vd=function(v){this.zc.vd(v);};c.__decorate([k.jb({methodName:"attachPlayer"})],t.prototype,"Qs",null);c.__decorate([k.jb({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"N_",null);c.__decorate([k.jb({methodName:"processViewableResponse"})],t.prototype,"LF",null);c.__decorate([k.jb({methodName:"cancelStreaming"})],t.prototype,"vd",null);return t;})();b.nja=r;},function(r,b,a){var m,k,l,d;function c(f,h){return h && !Array.isArray(h) && -1 === h.U2a.indexOf(f)?h.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.Ipa=void 0;m=a(0);r=a(11);k=a(188);l=a(437);d=(function(f){function h(g,n){var p;p=f.call(this) || this;p.c_b=g;p.p8a=n;p.dla={};return p;}m.__extends(h,f);h.prototype.emit=function(g){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.prototype.emit.call(this,g,this.c_b(g,n[0]));};h.prototype.subscribe=function(g){var n,p;n=this;if(!this.listeners(g).length){p=function(){for(var q=[],t=0;t < arguments.length;t++){q[t]=arguments[t];}return n.emit.apply(n,m.__spread([g],q));};this.dla[g]=p;this.p8a.addListener(g,p);}};h.prototype.addListener=function(g,n){this.subscribe(g);f.prototype.addListener.call(this,g,n);return this;};h.prototype.removeListener=function(g,n){f.prototype.removeListener.call(this,g,n);n=this.dla[g];!this.listeners(g).length && n && (this.p8a.removeListener(g,n),this.dla[g]=void 0);return this;};h.prototype.on=function(g,n){this.addListener(g,n);return this;};h.prototype.wy=function(g,n){this.removeListener(g,n);return this;};h.prototype.once=function(g,n){var q;function p(){for(var t=[],v=0;v < arguments.length;v++){t[v]=arguments[v];}q.removeListener(g,p);n.apply(void 0,m.__spread(t));}q=this;this.addListener(g,p);return this;};h.prototype.v_=function(g,n){this.subscribe(g);f.prototype.v_.call(this,g,n);return this;};h.prototype.eza=function(g,n){var q;function p(){for(var t=[],v=0;v < arguments.length;v++){t[v]=arguments[v];}q.removeListener(g,p);n.apply(void 0,m.__spread(t));}q=this;this.v_(g,p);return this;};return h;})(r.EventEmitter);b.Ipa=function(f,h,g,n){return new d(function(p,q){var t,v;v=c(p,n["*"]);p=null !== (t=n[p]) && void 0 !== t?t:[];t=v.concat(p).filter(function(u){return "object" === typeof u;});v=m.__read(p.filter(function(u){return "function" === typeof u;}),1)[0];return t.length?l.Mda(f,q,g,{rules:t,Un:!1,pna:!0},k.Yw.qDa,v):q;},h);};},function(r,b,a){var m,k;function c(l){var d;d=(/^.+:ad\-(\d+)\-(\d+)$/).exec(l);if(d)return {Qma:parseInt(d[2]),Xm:parseInt(d[1]),JY:!1};if(l=(/^.+:pad((end)|(start))-(\d+)$/).exec(l))return {Xm:parseInt(l[4]),JY:!0,cdb:l[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.O4a=b.xX=b.zEa=void 0;m=a(7);k=a(231);r=(function(){function l(d,f,h){this.Mi=d;this.dz=f;this.rh=h;}l.prototype.AQb=function(d){var f,h,g,n,p,q,t,v,u;g=c(null === d || void 0 === d?void 0:d.V);n=this.Mi.Z;p=this.dz().Z;t=n.M[d.V];v=t;u=[d.V];for(p=p.M[v.kc].L;v && v.kc === t.kc && v.L !== p;){u.push(v.Kb);v=n.M[v.Kb];}u.pop();n=null !== (q=u.pop()) && void 0 !== q?q:d.V;q=c(n);d=this.Mi.Z.M[d.V];n=this.Mi.Z.M[n];d=(null !== (f=d.sa) && void 0 !== f?f:Infinity) - d.qa;f=(null !== (h=n.sa) && void 0 !== h?h:Infinity) - n.qa;return {start:(null === g || void 0 === g?0:g.JY)?new k.fga(k.c2.start,d):void 0,end:(null === q || void 0 === q?0:q.JY)?new k.fga(k.c2.end,f):void 0};};Object.defineProperties(l.prototype,{Ur:{get:function(){var d,f,h,g,n,p,q,t,v;if(this.Mi.O.Ae){f=this.Mi.O.ig;h=c(f.V);if(h){g=null === (d=this.dz().uh) || void 0 === d?void 0:d.qp(f);d=this.dz().Z.M[g.V];d=this.rh.Dg[d.L][h.Xm];g=this.AQb(f);g=new k.NEa(d,g.start,g.end);n=this.Mi.Z;p=this.dz().Z;q=n.M[f.V];t=q;v=-f.offset.U;for(p=p.M[t.kc].L;t && t.kc === q.kc && t.L !== p;){v+=t.sa - t.qa;t=n.M[t.Kb];}n=m.K.Ga(v);q=n.Aa(g.bX.duration);h.JY && ("end" === h.cdb?q=m.K.Ia:(t=g.xea.duration.Aa(f.offset),q=q.Aa(t)));g={jr:g,progress:{nBb:d.duration.Aa(q),oBb:1 - Math.max(0,q.U) / d.duration.U,pBb:g.duration.Aa(n),qBb:1 - Math.max(0,n.U) / g.duration.U},position:f,index:h.Xm};n=this.Mi.Z.M[f.V];n=n.sa - n.qa;f=f.offset.U / n;h.JY?g.xca={I3b:f,yca:h.cdb,wca:m.K.Ga(n)}:g.wV={Tp:d.Oj[h.Qma],WWa:f,index:h.Qma};return g;}}},enumerable:!1,configurable:!0}});l.prototype.xX=function(d){return c(d);};return l;})();b.zEa=r;b.xX=c;b.O4a=function(l){if(l=(/^.+-(\d+)$/).exec(l))return {P_a:parseInt(l[1])};};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Epa=void 0;c=a(131);m=a(1106);b.Epa=function(k,l){var d;k=l(k);d=new m.BPa(k,c.Fy.CAa.oR);return c.Fy.wza(k,d,function(){return d.Mn;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tSa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vHa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mOa="PboGenerateScreenshotsCommandSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,m,k,l,d,f;b=a(54);c=a(455);m=a(1125);k=a(453);l=a(270);d=a(1130);f=a(458);a=b(c(["filter"],d,function(h,g){return k(g)?l(function(n,p){h(g[p]) && (n[p]=g[p]);return n;},{},f(g)):m(h,g);}));r.exports=a;},function(r,b,a){var c,m;c=a(456);m=a(1124);r.exports=function(k,l,d){return function(){var f,h;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);h=f.pop();if(!c(h)){for(var g=0;g < k.length;){if("function" === typeof h[k[g]])return h[k[g]].apply(h,f);g+=1;}if(m(h))return l.apply(null,f)(h);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={ta:function(){return this.I1["@@transducer/init"]();},result:function(b){return this.I1["@@transducer/result"](b);}};},function(r,b,a){var c,m,k,l,d;b=a(132);c=a(269);m=a(1131);k=!({toString:null}).propertyIsEnumerable("toString");l=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var h,g,n,p;if(Object(f) !== f)return [];h=[];g=d && m(f);for(n in f){!c(n,f) || g && "length" === n || (h[h.length]=n);}if(k)for(g=l.length - 1;0 <= g;){n=l[g];if(p=c(n,f)){a:{for(p=0;p < h.length;){if(h[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (h[h.length]=n);--g;}return h;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,m=a.length,k=Array(m);c < m;){k[c]=b(a[c]);c+=1;}return k;};},function(r,b,a){var c,m,k;c=a(271);m=a(132);b=a(54);k=a(1134);a=b(function(l,d){return 1 === l?m(d):c(l,k(l,[],d));});r.exports=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sJa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DPa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tja="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vT="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FJa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PJa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JJa="HLSHeaderParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uJa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sGa="CdnPartitionerSymbol";},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vga=void 0;m=a(42);c.et=function(){var k;k={};return (k[m.Yd.CG]="mp4a.40.2",k[m.Yd.i3]="mp4a.40.2",k[m.Yd.DG]="mp4a.40.2",k[m.Yd.Qz]="mp4a.40.42",k[m.Yd.WS]="ec-3",k[m.Yd.m2]="ec-3",k[m.Yd.XS]="ec-3",k);};b.Vga=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mic="LogblobBuilderSymbol";b.sT="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hSa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kSa="ThroughputTrackerSymbol";b.iSa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FIa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nGa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pFa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p){p=k.xG.call(this,g,n,m.eo.Audio,p) || this;p.config=g;p.dk=n;p.type=m.Qw.qz;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.A2=void 0;m=a(26);k=a(478);l=a(120);r=a(122);d=a(470);f=a(280);h=new r.dH().format;ka(c,k.xG);c.prototype.L0=function(){var g;g=h(c.ffa,l.Od.Fob);return Promise.resolve(this.config().IO && this.dk.isTypeSupported(g));};c.prototype.et=function(){return d.Vga.et();};c.prototype.l6a=function(){return this.config().gI;};c.prototype.kX=function(g){return this.config().B3b?Promise.resolve(new f.j4(g,g.map(function(){return {supported:!0};}))):k.xG.prototype.kX.call(this,g);};b.A2=c;c.ffa="audio/mp4;codecs={0};";},function(r,b,a){var m,k,l,d,f;function c(h,g,n,p){this.config=h;this.dk=g;this.mediaType=n;this.RB=p;this.bxa={};this.bxa[m.eo.Audio]="audio";this.bxa[m.eo.TSa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.xG=void 0;m=a(26);r=a(122);k=a(279);l=a(13);d=a(280);f=new r.dH().format;c.prototype.E6a=function(h){return this.NLb(this.gTb(this.l6a(),h));};c.prototype.oI=function(h){return this.dk.isTypeSupported(h);};c.prototype.oRb=function(){return [k.Sf.Nfa,k.Sf.Eqb,k.Sf.AG,k.Sf.BG];};c.prototype.EWb=function(){this.Vr=[];this.Jy=[];this.config().D3b && this.Jy.push(k.Sf.Qz);this.config().Ycb && this.Jy.push(k.Sf.qJa);this.config().Xcb && this.Jy.push(k.Sf.pJa);this.config().Wcb && this.Jy.push(k.Sf.Uw);this.config().Vcb && this.Jy.push(k.Sf.SC);this.config().Zcb && this.Jy.push(k.Sf.sD);this.config().Ucb && this.Jy.push(k.Sf.Tl);this.Jy=this.Jy.concat(this.oRb());!this.config().INb && this.Vr.push(k.Sf.Qz);!this.config().o2a && this.Vr.push(k.Sf.Gob);!this.config().n2a && this.Vr.push(k.Sf.Hob);!this.config().IO && this.Vr.push(k.Sf.Iob);!this.config().uNb && this.Vr.push(/prk$/);this.config().Wcb || this.config().gNb || this.Vr.push(k.Sf.Uw);this.config().Ycb || this.config().jNb || this.Vr.push(k.Sf.qJa);this.config().Xcb || this.config().Pqa || this.Vr.push(k.Sf.pJa);this.config().Vcb || this.config().GO || this.Vr.push(k.Sf.SC);this.config().Zcb || this.config().ENb || this.Vr.push(k.Sf.sD);this.config().Ucb || this.config().$Mb || this.Vr.push(k.Sf.Tl);!this.config().CNb && this.Vr.push(k.Sf.oM);};c.prototype.gTb=function(h,g){var n;n=l.Ue.hardwareConcurrency && l.Ue.hardwareConcurrency;return h.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === g || void 0 === g?void 0:g.de) || !p.restrictToUILabels.includes(g.de))?!1:!0;}).map(function(p){return p.name;});};c.prototype.kX=function(h){var g,n;g=this;n=h.map(function(p){for(var q=na(g.Jy),t=q.next();!t.done;t=q.next()){if(t.value.test(p))return Promise.resolve({supported:!0});}q=na(g.Vr);for(t=q.next();!t.done;t=q.next()){if(t.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return g.jX(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.j4(h,p);});};c.prototype.jX=function(h){var g;g=this;return this.qva(h).then(function(n){return n.supported?g.config().rNb?g.RB.jX(h):g.ura(h):n;});};c.prototype.ura=function(h){var g;h=this.C_[h];g="";return h?(Array.isArray(h) && (g=1 < h.length?" " + h[1]:"",h=h[0]),h=f("{0}/mp4;codecs={1};{2}",this.bxa[this.mediaType],h,g),this.oI(h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.NLb=function(h){this.EWb();return this.kX(h);};c.prototype.qva=function(){return Promise.resolve({supported:!0});};Ua.Object.defineProperties(c.prototype,{C_:{configurable:!0,enumerable:!0,get:function(){this.PVa || (this.PVa=this.et());return this.PVa;}}});b.xG=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iMa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mMa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lMa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kQa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H3="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lLa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JMa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EFa="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CFa="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BFa="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WFa="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZLa="ManifestProviderConfigSymbol";},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Wja=void 0;m=a(13);c.j6a=function(){var k;k=m.cx && m.cx.height;return k?1080 <= k?1080:720:720;};b.Wja=c;},function(r,b,a){var m;function c(k){this.log=k;}Object.defineProperty(b,"__esModule",{value:!0});b.BT=void 0;m=a(493);c.prototype.mkb=function(k,l){var d,f;d=this;if(!k)return (this.log.warn("There are no media streams for " + l.type + " track - " + l.trackId),[]);f=k.map(function(h){var g,n,p,q,t,v,u,w;w=new m.MediaStream(l,l.type,h.Fo,h.bitrate,h.kb,h.size,d.zRb(h.urls),h.zI,h.d4a / h.c4a,h.Xj,h.Fj);w.N$b(h.cgb,h.qAa,h.Ddb,h.Cdb);w.c$b(null !== (g=h.pKb) && void 0 !== g?g:void 0,null !== (n=h.qKb) && void 0 !== n?n:void 0,null !== (p=h.oKb) && void 0 !== p?p:void 0,null !== (q=h.nKb) && void 0 !== q?q:void 0,null !== (t=h.Ddb) && void 0 !== t?t:void 0,null !== (v=h.Cdb) && void 0 !== v?v:void 0);l.dm && (w.dm=l.dm);h.HI && (w.HI=null !== (u=h.HI) && void 0 !== u?u:void 0);h.zI && (w.Af=h.zI);return w;});f.sort(function(h,g){return h.bitrate - g.bitrate;});f.forEach(function(h,g){h.lower=f[g - 1];h.doc=f[g + 1];});return f;};c.prototype.zRb=function(k){return k.reduce(function(l,d){l[d.wo]=d.url;return l;},{});};b.BT=c;},function(r,b,a){var m,k,l;function c(d,f,h,g,n,p,q,t,v,u,w){this.track=d;this.type=f;this.Yb=h;this.bitrate=g;this.kb=n;this.size=p;this.pv=q;this.Af=t;this.framerate=v;this.Xj=u;this.Fj=w;this.yh={Type:f,Bitrate:g,DownloadableId:h};}Object.defineProperty(b,"__esModule",{value:!0});b.yob=b.MediaStream=void 0;m=a(17);k=a(15);l=a(89);c.prototype.toJSON=function(){return this.yh;};c.prototype.N$b=function(d,f,h,g){(0,k.pd)(d) && (0,k.pd)(f) && (this.width=d,this.height=f,(0,k.Ka)(h) && (0,k.Ka)(g) && (this.width=Math.round(h / g * d)),this.yh.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.c$b=function(d,f,h,g,n,p){(0,k.pd)(d) && (0,k.pd)(f) && (0,k.pd)(h) && (0,k.pd)(g) && (this.Qpa=d,this.H0a=f,this.G0a=h,this.F0a=g);(0,k.pd)(n) && (0,k.pd)(p) && (this.Edb=n,this.Fdb=p);};b.MediaStream=c;b.yob=function(d,f,h,g,n){if(d == m.L3 || d === l.jj.audio)return f;if(d == m.xT || d === l.jj.video)return h;if(d == l.jj.Tea)return g;if(d == l.jj.eDa)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FPa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wSa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cMa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sOa="PboLinksManagerSymbol";b.qOa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VLa="ManifestEnricherSymbol";},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wia="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qHa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,m,k){if(null != k){if(0 < k(c,m))throw a.t0a(c,m);}else if(c.bm && 0 < c.bm(m))throw a.t0a(c,m);this.start=c;this.end=m;}Object.defineProperty(b,"__esModule",{value:!0});b.zja=void 0;a.t0a=function(c,m){return new RangeError("end [" + m + "] must be >= start [" + c + "]");};b.zja=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tHa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cOa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DLa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LMa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uOa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QSa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JEa="AppLogSinkSymbol";},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F;function c(G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga){var N;N=this;this.j=G;this.ya=E;this.Kjb=H;this.sg=L;this.Zwa=K;this.pra=I;this.Ge=R;this.z8=O;this.lf=J;this.config=M;this.wd=P;this.za=S;this.Da=T;this.Rr=U;this.JB=W;this.zj=fa;this.Cv=sa;this.QJ=wa;this.Ac=Ba;this.gQ=Ga;this.Y0=[];this.hxa=this.cF=this.U_=0;this.zO=[];this.dna=!1;this.ZF=function(Q){var V,ba,qa,La,Oa,Ta;ba={};try{ba={playdelaysdk:(0,n.mg)(N.j.cW()),applicationPlaydelay:(0,n.mg)(N.j.xoa()),playdelay:(0,n.mg)(N.j.zoa()),trackid:N.j.gl,bookmark:(0,n.mg)(N.j.cv || 0),pbnum:N.j.index,endianness:(0,d.d5a)()};N.config().FNb && (ba.transitiontime=N.j.Yn,ba.uiplaystarttime=N.j.fb.gS,ba.playbackrequestedat=N.j.yj.fa(p.ma),ba.clockgettime=N.getTime(),ba.clockgetpreciseepoch=N.za.Bf.fa(p.ma),ba.clockgetpreciseappepoch=N.Da.GB.fa(p.ma),ba.absolutestarttime=N.j.YI(),ba.relativetime=N.j.n6a());N.w9(ba,"startplay");}catch(Qa){N.log.error("error in startplay log fields",Qa);}N.j.Ni && (ba.blocked=N.j.Ni);N.Ac.S7a(ba);(0,y.Ka)(N.j.QYa) && (ba.bookmarkact=(0,n.mg)(N.j.QYa));qa=N.j.qd.at && N.j.qd.ats?N.j.qd.at - N.j.qd.ats:void 0;qa && (ba.nccpat=qa);(qa=N.j.qd.lr && N.j.qd.lc?N.j.qd.lr - N.j.qd.lc:void 0) && (ba.nccplt=qa);(qa=N.j.qd.lc && N.j.qd.lg?N.j.qd.lc - N.j.qd.lg:void 0) && (ba.lct=qa);(qa=N.aB()) && (ba.downloadables=qa);nb._cad_global.device && (0,y.pd)(nb._cad_global.device.N8) && (ba.esnSource=nb._cad_global.device.N8);(0,n.Ce)(ba,N.Rr,{prefix:"pi_"});N.j.Wp && N.j.Wp.initBitrate && (ba.initvbitrate=N.j.Wp.initBitrate);N.j.Wp && N.j.Wp.selector && (ba.selector=N.j.Wp.selector);ba.fullDlreports=N.slb;if(N.j.state.value >= x.ac.He)try{La=N.j.gv();if(La){N.maxBitrate=(0,d.BS)(La.map(function(Qa){return Qa.bitrate;}));N.yab=(0,d.BS)(La.map(function(Qa){return Qa.height;}));Oa=0 < La.length?(0,D.T6a)(function(Qa,Wa){return Qa.height === Wa.height;},La).map(function(Qa){return (0,z.Nwa)(Qa,function(Wa){return Wa.bitrate;});}):void 0;ba.maxbitrate=N.maxBitrate;ba.maxresheight=N.yab;}}catch(Qa){N.log.error("Exception computing max bitrate",Qa);}try{Ta=(0,d.jJ)();Ta && (ba.pdltime=Ta);}catch(Qa){}try{(0,n.Ce)(ba,N.j.qd,{prefix:"sm_"});(0,n.Ce)(ba,N.j.l$(),{prefix:"vd_"});}catch(Qa){}Q && N.j.rw && (ba.pssh=N.j.rw);N.W7a(N.j,ba);ba.avtp=N.jL.Oo().QCa;(null === (V=N.j.Ha) || void 0 === V?0:V.yD) && N.O$(ba);if(N.j.jc.value)try{ba.ttTrackFields=N.j.jc.value.yh;}catch(Qa){}N.Ac.P7a(ba,N.j.yc.value,N.ya);N.Ac.CP(ba,!0,N.j.Ng.value,N.ya);N.j.ja && (ba.packageId=N.j.ja.ab.ep);N.j.ja && N.j.ja.ab.xo && (ba.hasChoiceMap=!0);N.qYb(Oa);N.pYb();Q && (N.Cua(ba),N.Eua(ba));N.R7a(N.j,ba);N.tJ(N.j,ba);N.uJ(N.j,ba);N.ZE(N.j,ba,N.dna);N.wY(N.j,ba);N.YVb(N.j,ba);N.Dua(ba);N.Gua(ba);N.Ac.BP(ba);N.Q7a(ba);N.Ac.Q$(ba,N.ya);N.Fua(ba);N.Gc(A.Yc.ZF,Q,F.Te | F.Bu | F.ij | F.Cu | F.wG | F.g2 | F.zG | F.Kq,ba);};this.nR=function(Q,V,ba){V={playdelay:(0,n.mg)(Q),reason:ba,intrplayseq:N.cF - 1,skipped:V};"repos" === ba && (V.prstate=!0 === N.j.paused.value?"paused":"playing");N.uJ(N.j,V);N.Gc(A.Yc.nR,!1,F.Te | F.Bu | F.ij,V);"rebuffer" !== ba && "force_rebuffer" !== ba || N.j.qm.HBb(Number((0,n.mg)(Q)));};this.dO=function(Q,V,ba,qa){Q={moff:(0,n.rn)(ba),moffms:(0,n.mg)(ba),vbitrate:V.bitrate,vbitrateold:Q.bitrate,vdlid:V.Yb,vdlidold:Q.Yb,vheight:V.height,vheightold:Q.height,vwidth:V.width,vwidthold:Q.width,bw:qa};N.uJ(N.j,Q);N.ZE(N.j,Q);N.Gc(A.Yc.dO,!1,F.ij,Q);};this.cAa=function(Q,V,ba){Q={moff:(0,n.rn)(ba),moffms:(0,n.mg)(ba),vdlidold:Q.Yb,vbitrateold:Q.bitrate};N.uJ(N.j,Q);N.ZE(N.j,Q);N.Ac.Jr(Q,V,N.j.Of.value && N.j.Of.value.stream);N.Gc(A.Yc.Lfb,!1,F.ij,Q);};this.Nya=function(){var Q,V;Q={waittime:(0,n.mg)(N.j.n6a()),abortedevent:"startplay",trackid:N.j.gl,prstate:N.qB(),paustate:N.j.paused.value};N.w9(Q,"endplay");N.Cv.$W && (Q.eventlist_version=1,Q.eventlist=N.QJ.c6a(N.j));N.j.Wp && N.j.Wp.initBitrate && (Q.initvbitrate=N.j.Wp.initBitrate);try{V=(0,d.jJ)();V && (Q.pdltime=V);(0,n.Ce)(Q,N.j.qd,{prefix:"sm_"});}catch(ba){}N.zua(Q,!0);N.Ac.Q$(Q,N.ya);N.Ac.CP(Q,!1,N.j.Ng.value,N.ya);N.Cua(Q);N.Ac.Jr(Q,N.j.pf.value,N.j.Kh.value);N.W7a(N.j,Q);N.tJ(N.j,Q);N.wY(N.j,Q);N.Fua(Q);N.Eua(Q);N.Gc(A.Yc.Mca,!1,F.Te | F.ij | F.wG | F.Cu | F.Kq,Q);};this.Mya=function(Q,V){Q={waittime:(0,n.mg)(Q),abortedevent:"resumeplay",resumeplayreason:V};N.j.Wp && N.j.Wp.initBitrate && (Q.initvbitrate=N.j.Wp.initBitrate);N.Ac.Jr(Q,N.j.pf.value,N.j.Kh.value);N.wY(N.j,Q);N.Gc(A.Yc.Mca,!1,F.Te | F.ij | F.Kq,Q);};this.jCa=function(Q,V,ba){Q={newstate:V?"Paused":"Playing",oldstate:Q?"Paused":"Playing",reason:ba};N.uJ(N.j,Q);N.ZE(N.j,Q);N.Ac.Jr(Q,N.j.De.value && N.j.De.value.stream,N.j.Of.value && N.j.Of.value.stream);N.Gc(A.Yc.Kib,!1,F.Te | F.ij,Q);};this.Vua=function(Q,V,ba){var qa,La;Q=(0,n.Ce)({vdlid:N.j.pf.value.Yb,playingms:Q,pausedms:V,intrplayseq:N.cF++,prstate:N.qB(),paustate:N.j.paused.value},ba);N.w9(Q,"intrplay");V=N.j.vc[m.Pb.cb.Jb].value;ba=N.j.vc[m.Pb.cb.dc].value;Q.cdnid=Q.vcdnid=V && V.id;Q.acdnid=ba && ba.id;Q.locid=N.RY && N.RY.gwa;Q.loclv=N.RY && N.RY.v$a;Q.avtp=N.jL.Oo().QCa;Q.mediabuffered=null === (qa=N.j.Ff) || void 0 === qa?void 0:qa.C9();if(null === (La=N.j.Ha) || void 0 === La?0:La.yD)(N.zua(Q,!0),N.O$(Q),N.U7a(Q));try{(0,n.Ce)(Q,N.j.l$(),{prefix:"vd_"});}catch(Oa){}N.uJ(N.j,Q);N.ZE(N.j,Q);N.Ac.Jr(Q,N.j.De.value && N.j.De.value.stream,N.j.Of.value && N.j.Of.value.stream);N.Gc(A.Yc.Vua,!1,F.Te | F.ij,Q);};this.hR=function(Q,V,ba){Q={moffold:(0,n.rn)(Q),reposseq:N.U_++,prstate:N.qB(),paustate:N.j.paused.value};N.ZE(N.j,Q);N.Ac.Jr(Q,ba && ba.stream,V && V.stream);N.Gc(A.Yc.hR,!1,F.Te | F.ij,Q);};this.Lna=function(){var Q,V,ba,qa;V=N.j.yc.value;ba=N.j.Kh.value.Yb;V=V?{trackId:V.trackId,bcp47:V.xf,downloadableId:ba,rank:V.$b,chan:V.channels}:{};ba=N.EB;qa=null === (Q=N.Gva) || void 0 === Q?void 0:Q.Yb;Q=ba?{trackId:ba.trackId,bcp47:ba.xf,downloadableId:qa,rank:ba.$b,chan:ba.channels}:{};N.Gc(A.Yc.qYa,!1,F.Te | F.ij,{switchdelay:(0,n.mg)(N.getTime() - N.Hva),track:V,oldtrack:Q});};this.C0=function(Q){N.Gc(A.Yc.xib,!1,F.Te | F.ij,{speedold:Math.floor(1E3 * Q.oldValue),speed:Math.floor(1E3 * Q.newValue)});};this.WR=function(){N.Gc(A.Yc.Dcc,!1,F.Te | F.ij,{track:N.j.jc.value.yh});};this.DC=function(Q){var V,ba;V=N.j.jc.value;if(Q.newValue || V && V.Kr() && !V.pq()){ba=(Q=null !== (ba=Q.newValue) && void 0 !== ba?ba:V)?{trackId:Q.trackId,bcp47:Q.xf,downloadableId:Q.Yb,rank:Q.$b,isImageBased:Q.Bl}:{};Q=(Q=N.Uva)?{trackId:Q.trackId,bcp47:Q.xf,downloadableId:Q.Yb,rank:Q.$b,isImageBased:Q.Bl}:{};ba={switchdelay:(0,n.mg)(N.getTime() - N.Tva),track:ba,oldtrack:Q};N.Ac.Jr(ba,N.j.De.value && N.j.De.value.stream,N.j.Of.value && N.j.Of.value.stream);N.Gc(A.Yc.Wjb,!1,F.Te | F.ij,ba);}};this.sr=function(Q){N.Gc(A.Yc.eEb,!1,F.Te | F.ij,Q.newValue);};this.AFb=function(Q,V){var ba,qa;ba=V.serverid;qa={locid:V.location,loclv:V.locationlv,selocaid:ba,selcdnid:ba,selocaname:V.servername};qa.mediatype=V.mediatype;qa.selreason=V.selreason || "unknown";qa.seldetail=V.seldetail;qa.cdnbwdata=JSON.stringify([{id:ba}]);Q && (qa.oldlocid=Q.gwa,qa.oldloclv=Q.v$a,qa.oldocaid=Q.S9b,qa.oldocaname=Q.OK);N.Gc(A.Yc.BZa,!1,F.g2,qa);};this.D1a=function(){var Q,V,ba;if(N.j.Fg)try{Q=!1;N.slb || (Q=!0,N.zO=N.zO.filter(function(qa){return !qa.ea;}));if(0 < N.zO.length){V=N.z8.construct(N.zO,N.j.yj.fa(p.ma));N.zO=[];V.erroronly=Q;ba={};(0,n.$g)(V,function(qa,La){ba[qa]=JSON.stringify(La);});N.Gc(A.Yc.gMb,!1,F.ij,ba);}}catch(qa){N.log.error("Exception in dlreport.",qa);}};this.qB=function(){var Q;Q=N.j.zb.value;return Q === x.ib.Dc?"playing":Q === x.ib.Hh?"paused":Q === x.ib.us?"ended":"waiting";};this.rF=function(){var Q,V,ba;if(N.j.state.value == x.ac.He){ba=N.l_();N.config().jAa && (ba.avtp=N.jL.Oo().QCa,(null === (Q=N.j.Ha) || void 0 === Q?0:Q.yD) && N.O$(ba));ba.mediabuffered=null === (V=N.j.Ff) || void 0 === V?void 0:V.C9();ba.midplayseq=N.hxa++;ba.prstate=N.qB();ba.paustate=N.j.paused.value;N.config().P9b && N.ijb("midplay");N.config().Pt && N.Hua(ba);N.Dua(ba);N.Gua(ba);N.Ac.BP(ba);N.Gc(A.Yc.rF,!1,F.Te | F.ij | F.wG | F.Cu,ba);}};this.ijb=function(Q){var V,ba;V={};V.trigger=Q;try{ba=N.j.ita();V.subtitleqoescore=N.j.mp.QTb(ba);V.metrics=JSON.stringify(N.j.mp.Dta(ba));}catch(qa){N.log.error("error getting subtitle qoe data",qa);}N.Gc(A.Yc.Ibc,!1,F.Te | F.wG | F.Bu,V);};this.transition=function(Q){N.ZE(N.j,Q);N.wY(N.j,Q);N.Gc(A.Yc.transition,!1,0,Q);};this.$Aa=function(Q,V){N.Gc(A.Yc.$Aa,V,0,Q);};this.LI=function(Q){var V,ba,qa,La,Oa,Ta,Qa;ba=N.l_();N.w9(ba,"endplay");ba.prstate=N.qB();ba.paustate=N.j.paused.value;ba.muted=N.j.muted.value;N.j.FC && "downloaded" === N.j.FC.oP() && (ba.trickplay_ms=N.j.h1.offset,ba.trickplay_res=N.j.h1.bgb);N.config().Blb && (ba.rtinfo=N.j.tTb());N.config().jAa && (null === (V=N.j.Ha) || void 0 === V?0:V.yD) && N.O$(ba);ba.endreason=Q?"error":N.j.zb.value === x.ib.us?"ended":"stopped";(V=N.Rr) && (0,n.Ce)(ba,V,{prefix:"pi_"});try{(0,n.Ce)(ba,N.j.qd,{prefix:"sm_"});}catch(ub){}N.j.yua && (ba.inactivityTime=N.j.yua);N.zua(ba,Q);N.U7a(ba);if(N.j.x7){V=N.j.x7;qa=N.config().QN;La=N.j.loadTime;Oa={iv:qa,seg:[]};Ta=function(ub,jb,mb){return 0 === jb || void 0 === mb[jb - 1]?ub:ub - mb[jb - 1];};Qa=V.JV.map(Ta);Ta=V.x1.map(Ta);for(var Wa,eb=0;eb < Qa.length;eb++){if(Qa[eb] || Ta[eb])Wa?(Wa.ams.push(Qa[eb]),Wa.vms.push(Ta[eb])):Wa={ams:[V.JV[eb]],vms:[V.x1[eb]],soffms:V.startTime + eb * qa - La};eb !== Qa.length - 1 && Qa[eb] && Ta[eb] || !Wa || (Oa.seg.push(Wa),Wa=void 0);}ba.bt=JSON.stringify(Oa);}Q && (N.Cua(ba),N.Eua(ba));N.ijb("endplay");N.config().Pt && N.Hua(ba);N.Ac.CP(ba,!1,N.j.Ng.value,N.ya);N.R7a(N.j,ba);N.tJ(N.j,ba);N.uJ(N.j,ba);N.ZE(N.j,ba,N.dna);N.wY(N.j,ba);N.Dua(ba);N.Gua(ba);N.Ac.BP(ba);N.ZVb(ba);N.Q7a(ba);N.aWb(ba);N.$Vb(ba);N.cWb(ba);N.Fua(ba);N.dWb(ba);N.Gc(A.Yc.LI,Q,F.Te | F.Bu | F.ij | F.wG | F.Cu | F.zG | F.Kq,ba);};this.nMb=function(Q){N.zO.push(N.z8.tHb(Q.response));};this.wqa=function(Q){var V,ba,qa,La,Oa,Ta;Q=Q.response;V=Q.request;ba=Q.request.SB;qa=V.track;if(qa){La=!Q.ea && Q.xa != q.T.bD;Oa=qa.type;Ta=Q.km;if(La || N.ya.lwa){ba={dltype:Oa,url1:V.url,url2:Q.url || "",cdnid:V.vc && V.vc.id,tresp:(0,n.mg)(Ta.bj - Ta.$r),brecv:(0,n.O3a)(Ta.qW),trecv:(0,n.mg)(Ta.zq - Ta.bj),sbr:ba && ba.bitrate};Q.Ut && (ba.range=Q.Ut);switch(Oa){case f.jj.audio:ba.adlid=V.stream.Yb;break;case f.jj.video:ba.vdlid=V.stream.Yb;break;case f.jj.Tea:ba.ttdlid=qa.Yb;}(V=(0,B.bta)(Q.xa)) && (ba.nwerr=V);Q.xl && (ba.httperr=Q.xl);N.Gc(A.Yc.wqa,La,F.ij,ba);}}};this.Ni=function(){N.Gc(A.Yc.NYa,!1,F.Te | F.wG | F.Kq,{});};this.OGb=function(Q){var V,ba;V=Q.response.km;Q=(0,p.qc)(V.bj);ba=(0,p.qc)(V.zq);V=(0,t.ca)(V.qW || 0);V.p9a() || V.jva() || (Q=new v.zja(Q,ba),N.jL.ABb(new u.yHa(Q,V)));};this.Cca=function(Q){var V,ba,qa;qa=Q.newValue;Q.Mk && Q.Mk.Zba && qa && (null === (V=Q.Mk) || void 0 === V || !V.reason) || qa == N.EJ || (N.jCa(N.EJ,qa,null === (ba=Q.Mk) || void 0 === ba?void 0:ba.reason),N.EJ=qa);};this.FA=function(Q){function V(ba){var qa;if(N.j.Ub && N.j.Ub.sourceBuffers){qa=N.j.Ub.sourceBuffers.filter(function(La){return La.type === ba;}).pop();if(qa)return {busy:qa.ji(),updating:qa.updating(),ranges:qa.D9()};}}Q={cause:Q.cause};Q.cause && Q.cause === l.cja && (Q.mediaTime=N.j.mediaTime.value,Q.buf_audio=V(k.L3),Q.buf_video=V(k.xT));N.Vua(N.Y0[x.ib.Dc] || 0,N.Y0[x.ib.Hh] || 0,Q);};this.ikb=function(Q){var V;Q=Q.oldValue;V=N.getTime();Q === x.ib.cg?N.Y0=[]:N.Y0[Q]=(N.Y0[Q] || 0) + (V - N.BYb);N.BYb=V;};this.Zm=function(Q){N.Hva=N.getTime();N.EB=Q.oldValue;};this.Bm=function(Q){N.Tva=N.getTime();N.Uva=Q.oldValue;};this.NV=function(Q){N.Gva=Q.oldValue;};this.eZ=function(Q){function V(ba,qa){var La;if(!ba || ba.gwa !== qa.location){La={gwa:qa.location,v$a:qa.locationlv,S9b:qa.serverid,OK:qa.servername};N.AFb(ba,qa);return La;}}if("audio" === Q.mediatype){if(Q=V(N.vYb,Q))N.vYb=Q;}else if(Q=V(N.RY,Q))N.RY=Q;};this.p0=function(Q){var V,ba;V=Q.mediatype;ba=Q.reason;"video" === V?"serverswitchaway" === ba?(N.nk.summary.fmb++,N.nk.Jaa=N.za.Bf.fa(p.ma)):"serverswitchback" === ba && (N.nk.summary.gmb++,N.nk.Jaa && (N.nk.summary.hmb.push(N.za.Bf.fa(p.ma) - N.nk.Jaa),N.nk.Jaa=void 0)):"audio" === V && ("serverswitchaway" === ba?(N.nk.summary.cYa++,N.nk.Faa=N.za.Bf.fa(p.ma)):"serverswitchback" === ba && (N.nk.summary.dYa++,N.nk.Faa && (N.nk.summary.eYa.push(N.za.Bf.fa(p.ma) - N.nk.Faa),N.nk.Faa=void 0)));N.Gc(A.Yc.U9b,!1,F.Te | F.ij,{mediatype:Q.mediatype,server:Q.server,selreason:Q.reason,location:Q.location,bitrate:Q.bitrate,confidence:Q.confidence,throughput:Q.throughput,oldserver:Q.oldserver});};this.GN=function(Q){N.Gc(A.Yc.YCb,!1,F.ij,{strmsel:Q.strmsel});};this.RR=function(Q){Q=Object.assign({},Q);Q.details && (Q.details=JSON.stringify(Q.details));N.Gc(A.Yc.Hbc,!0,F.Te | F.Bu | F.g2,Q);};this.dna=fa.LDa || fa.qfa || fa.M3a;this.jL=H();this.log=(0,h.Ui)(G,"LogblobBuilder");this.EJ=G.paused.value;this.da=this.ya.da;this.nk={summary:{fmb:0,gmb:0,hmb:[],cYa:0,dYa:0,eYa:[]},Jaa:void 0,Faa:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.tT=void 0;m=a(28);k=a(17);l=a(64);d=a(43);f=a(89);h=a(8);g=a(23);n=a(25);p=a(5);q=a(3);t=a(52);v=a(502);u=a(1238);w=a(13);x=a(16);y=a(15);z=a(1239);A=a(276);B=a(193);C=a(136);D=a(103);c.prototype.W7a=function(G,E){var H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba;if(this.config().Pt)try{H={};L=this.wd.getStats(void 0,void 0,G.I);K=G.YI();I=L.iL.YGb || [];H.attempts=L.Xca || 0;H.num_completed_tasks=I.length;R=this.Ge.SOb;O={};J=C.ll.SR;M=C.ll.wv;P=C.ll.Foa;L.fm && (O.scheduled=L.fm - K);S=G.ja;S && (0,y.Ka)(S.zK) && (O.preauthsent=S.zK - G.loadTime,O.preauthreceived=S.kR - G.loadTime);T=I.filter(function(Ga){return "manifest" === Ga.type;});H.mf_succ=T.filter(R("status",J)).length;H.mf_fail=T.filter(R("status",M)).length;U=G.qd;(0,y.pd)(U.lg) && 0 > U.lg && G.loadTime && (O.ldlsent=U.lc,O.ldlreceived=U.lr);W=I.filter(function(Ga){return "ldl" === Ga.type;});H.ldl_succ=W.filter(R("status",J)).length;H.ldl_fail=W.filter(R("status",M)).length;L=!0;K=[];"notcached" === G.mI && (L=!1,K.push("Missing cached manifest"));this.config().ZW || (L=!1,K.push("LDL prefetch disabled"));fa=W.filter(R("status",P)).length;this.config().ZW && 0 === fa && (!O.ldlreceived || 0 <= O.ldlreceived) && (L=!1,K.push("LDL received after start"));if(this.config().w2a)if(E.isPrefetchItem){sa=E.prefetchedAudioMs / E.bcABufferLevelMs;if(1 > E.prefetchedVideoMs / E.bcVBufferLevelMs || 1 > sa)(L=!1,K.push("Insufficient media fetched"));}else (L=!1,K.push("aseStats not initialized"));wa=I.filter(function(Ga){return "getHeaders" === Ga.type;});H.header_succ=wa.filter(R("status",J)).length;H.header_fail=wa.filter(R("status",M)).length;Ba=I.filter(function(Ga){return "getMedia" === Ga.type;});H.media_succ=Ba.filter(R("status",J)).length;H.media_fail=Ba.filter(R("status",M)).length;H.hm_succ=H.header_succ + H.media_succ;H.hm_fail=H.header_fail + H.media_fail;(0,n.Ce)(E,H,{prefix:"pr_"});this.Cv.$W && (E.eventlist_version=1,E.eventlist=this.QJ.c6a(G));(E.prefetchCompleted=L) || (E.prefetchFailed=K,(0,n.Ce)(E,O,{prefix:"pe_"}));this.Hua(E);}catch(Ga){this.log.warn("error in collecting video prepare data",Ga);}};c.prototype.zTb=function(G,E){if(G=G.BX())if(E=G[E])return E.qa;};c.prototype.R7a=function(G,E){G.fb.Sh && (E.isBranching=!0);};c.prototype.tJ=function(G,E){var H,L;L=(null === (H=G.ja) || void 0 === H?void 0:H.gva) || "videopreparer" === G.lI;E.cachedManifest=G.mI;E.cachedLicense=G.lI;E.usedldl=this.config().ZW?L.toString():"not_capable";};c.prototype.uJ=function(G,E){var H,L;if(this.config().bWb){H=G.jta();L=G.ka.ja;H && L && (E.segment=H,L=G.ME(),E.segmenttime=L,G=this.zTb(G,H),null !== L && void 0 !== G && (E.segmentoffset=L - G));}};c.prototype.ZE=function(G,E,H){E.pxid=G.Tca;(void 0 === H?0:H) && (E.playgraph_trace=G.Xdb);};c.prototype.wY=function(G,E){E.hasContentPlaygraph=G.v$();};c.prototype.YVb=function(G,E){var H,L;if(G.v$()){H=G.rE;L=G.ja.ab.Bo.Z;E.auxViewables=Object.keys(L.M).map(function(K){return L.M[K].L;}).filter(function(K,I,R){return K !== H && R.indexOf(K) === I;});}};c.prototype.U7a=function(G){var E,H;E=this.j.eoc;H=E && E.dqc;E && E.FVb && (G.htwbr=E.FVb,G.pbtwbr=E.Bya,G.hptwbr=E.hoc);E && E.V8b && (G.rr=E.V8b,G.ra=E.$pc);E && H && 0 < (H.length || 0) && (G.qe=JSON.stringify(H));};c.prototype.Cua=function(G){var E,H,L;try{E=this.Ge.createElement("canvas");H=E.getContext("webgl") || E.getContext("experimental-webgl");if(H){L=H.getExtension("WEBGL_debug_renderer_info");L && (G.WebGLRenderer=H.getParameter(L.UNMASKED_RENDERER_WEBGL),G.WebGLVendor=H.getParameter(L.UNMASKED_VENDOR_WEBGL));}}catch(K){}};c.prototype.cWb=function(G){G.switchAwaySummary={vsa:this.nk.summary.fmb,vsb:this.nk.summary.gmb,vsbt:this.nk.summary.hmb,asa:this.nk.summary.cYa,asb:this.nk.summary.dYa,asbt:this.nk.summary.eYa};};c.prototype.Kwb=function(G){var E;E=[];return G?Object.keys(G).map(function(H){return +H;}):E;};c.prototype.aB=function(){var G,E;G=this;if(this.j.NC && this.j.pj){E=[];this.j.NC.concat(this.j.pj).forEach(function(H){H.streams.forEach(function(L){E.push({dlid:L.Yb,type:L.type,bitrate:L.bitrate,vmaf:L.kb,cdn_ids:G.Kwb(L.pv)});});});return JSON.stringify(E);}};c.prototype.zFb=function(){var E,H,L;function G(K,I){var R,O,J;R=K.cdnId + "$" + K.correlationId;O=L[R];O || (O={cdnid:K.cdnId,pbcid:K.correlationId,dls:[]},L[R]=O,H.push(O));(0,g.qO)(K.bitrate);(0,g.qO)(K.duration);R={bitrate:K.bitrate,tm:(0,w.zp)(K.duration)};J=K.vmaf;J && ((0,g.qO)(K.vmaf),R.vf=J);R[I]=(0,n.hk)(K.downloadableId);O.dls.push(R);}E=this.j.qm.JQb();H=[];L={};E.audio.forEach(function(K){G(K,"adlid");});E.video.forEach(function(K){G(K,"dlid");});return JSON.stringify(H);};c.prototype.l_=function(){var G,E,H,L,K,I,R,O,J,M,P,S,T;G=this.j.qm;E={totaltime:(0,n.rn)(G.ot("content")),totalcontenttime:(0,n.rn)(G.eY("content")),totaladtime:(0,n.rn)(G.ot("ads")),totalothertime:(0,n.rn)(G.ot("other")),cdndldist:this.zFb(),reposcount:this.U_,intrplaycount:this.cF};try{H={numskip:0,numlowqual:0};L=this.j.Ff;K=L.nB();(0,y.Ka)(K) && (E.totfr=K,H.numren=K);K=L.aJ();(0,y.Ka)(K) && (E.totdfr=K,H.numrendrop=K);K=L.EX();(0,y.Ka)(K) && (E.totcfr=K,H.numrenerr=K);E.playqualvideo=JSON.stringify(H);I=this.j.pf.value;I && (E.videofr=I.framerate.toFixed(3));R=G.osa();R && (E.abrdel=R);O=G.C$() && G.t4a();O && (E.tw_vmaf=O);J=G.r4a();J && (0,n.Ce)(E,J);E.rbfrs=this.cF;E.maxbitrate=this.maxBitrate;E.maxresheight=this.yab;M=this.j.PE();for(G=0;G < M.length;G++){P=M[G];S=this.ya.jQ.vC(P);if(S){(0,g.Wa)(T);E.maxbitrate=T?T.bitrate:0;E.maxresheight=T?T.height:0;E.bitratefilters=S.join("|");break;}T=P;}this.j.FC && (E.trickplay=this.j.FC.oP());null !== this.j.mp.BYa && (E.avg_subt_delay=this.j.mp.BYa);}catch(U){this.log.error("Exception reading some of the endplay fields",U);}(0,n.Ce)(E,this.j.l$(),{prefix:"vd_"});return E;};c.prototype.getTime=function(){return this.Da.Tb().fa(p.ma);};c.prototype.wta=function(){return this.getTime() - this.ya.yj.fa(p.ma);};c.prototype.Hua=function(G){var E;try{E=this.wd.getStats();G.pr_cache_size=JSON.stringify(E.cache);G.pr_stats=JSON.stringify(E.lQb);}catch(H){}};c.prototype.Dua=function(G){this.log.debug("httpstats",this.lf.Wb);(0,n.Ce)(G,this.lf.Wb,{prefix:"http_"});};c.prototype.zua=function(G,E){var H,L,K;H=this.config().U0a && !(this.da % this.config().U0a);L=this.j.Ha;K=null === L || void 0 === L?void 0:L.Ii;H && K && (G.ASEstats=JSON.stringify(L.aaa(E)));};c.prototype.O$=function(G){Object.assign(G,this.j.Ha.Vb.WTb());};c.prototype.Gua=function(G){var E;try{E=w.bx.memory;(0,y.n9a)(E) && (G.totalJSHeapSize=E.totalJSHeapSize,G.usedJSHeapSize=E.usedJSHeapSize,G.jsHeapSizeLimit=E.jsHeapSizeLimit);}catch(H){}};c.prototype.Q7a=function(G){var E;try{if(this.config().eW){E=this.j.RQb();G.battery=E;this.log.trace("batterystatuses",E);}}catch(H){}};c.prototype.ZVb=function(G){this.j.h8 && (G.dqec=this.j.h8);};c.prototype.Fua=function(G){var E,H,L;(null === (E=this.j.bf) || void 0 === E?0:E.NX)?G.keysys=this.j.bf.NX():(null === (L=null === (H=this.j.bf) || void 0 === H?void 0:H.mediaKeys) || void 0 === L?0:L.keySystem)?G.keysys=this.j.bf.mediaKeys.keySystem:this.gQ.G9a && (G.keysys=this.gQ.G9a);};c.prototype.Eua=function(G){var E;if(null === (E=this.j.bf) || void 0 === E?0:E.x5a)G.keystatus=this.j.bf.Fva;};c.prototype.$Vb=function(G){this.ora && (G.externaldisplay=this.ora.UO);};c.prototype.aWb=function(G){var E,H;if(this.PDa){E=this.PDa.map(function(L){return L.Oc;}).filter(function(L){return void 0 !== L;});H=(0,z.Nwa)(E,function(L){return L.height;});H && (G.media_capabilities_smooth=H.smooth,G.media_capabilities_efficient=H.powerEfficient,G.media_capabilities_bitrate=H.bitrate,G.media_capabilities_height=H.height,G.media_capabilities_width=H.width);G.media_capabilities=E.map(function(L){return {smooth:L.smooth,efficient:L.powerEfficient,bitrate:L.bitrate,height:L.height,width:L.width};});}};c.prototype.dWb=function(G){G.didHydrateTracks=this.j.u8;};c.prototype.pYb=function(){void 0 === this.ora && (this.ora=this.pra.KOb());};c.prototype.qYb=function(G){var E;E=this;void 0 === this.PDa && void 0 !== G && (this.PDa=G.map(function(H){return E.Zwa.tra(H);}));};c.prototype.w9=function(G,E){(E=this.j.pB(E)) && Object.entries(E).forEach(function(H){var L;L=na(H);H=L.next().value;L=L.next().value;G[H]=L;});};c.prototype.Gc=function(G,E,H,L){var K,I;I=E?"error":"info";E && this.j.Ti && (0,q.fha)(this.j.Ti.errorCode,this.j.Ti.xa,this.wta(),null === (K=this.j.Ff) || void 0 === K?void 0:K.nB()) && (I="info");this.Sma(L,this.j,E,H);G=this.JB.hv(G,I,L,this.ya);this.sg.Gc(G);};c.prototype.P$=function(G,E){var H,L;L=null === (H=E.Ha) || void 0 === H?void 0:H.sKb;(H=L && (null === L || void 0 === L?void 0:L.L) !== E.rE) && !G.auxMid && (G.auxMid=L.L);H && !G.auxPlaybackcontextid && (G.auxPlaybackcontextid=E.No(L.L).zh);};c.prototype.Sma=function(G,E,H,L){var K,I,R,O,J;this.Ac.P$(G,E);this.P$(G,E);L & F.Te && ((0,g.Wa)(!G || void 0 === G.moff),this.Ac.V7a(G,E,E.v$()));L & F.Bu && this.Ac.X7a(G,E);L & F.ij && (null === (K=E.Ha) || void 0 === K?0:K.Ii) && (G.abuflbytes=null !== (I=G.abuflbytes) && void 0 !== I?I:E.Gna(),G.abuflmsec=null !== (R=G.abuflmsec) && void 0 !== R?R:E.GV(),G.vbuflbytes=null !== (O=G.vbuflbytes) && void 0 !== O?O:E.ODa(),G.vbuflmsec=null !== (J=G.vbuflmsec) && void 0 !== J?J:E.u1());L & F.Cu && this.Ac.Y7a(G,E.ip);L & F.wG && (K=w.Ue.hardwareConcurrency,0 <= K && (G.numcores=K),K=this.ya.Fqa) && (I=K.psa(),G.droppedFrames=JSON.stringify(I),K=K.hJ(this.config().HMb),(0,n.$g)(K,function(M,P){G["droppedFramesP" + M]=JSON.stringify(P);}));if(L & F.g2)try{E.Fg && (G.cdninfo=JSON.stringify(E.Fg.map(function(M){return {id:M.id,nm:M.name,rk:M.$b,wt:M.location.weight,lv:M.location.level};})));}catch(M){}H && L & F.zG && ((0,g.Wa)(E.Ti),this.Ac.T7a(G,E,E.Ti));L & F.Kq && this.Ac.Bua(G);};Ua.Object.defineProperties(c.prototype,{slb:{configurable:!0,enumerable:!0,get:function(){return this.j.dB || this.j.FO;}}});b.tT=c;(function(G){G[G.Te=1]="MOFF";G[G.Bu=2]="PRESENTEDSTREAMS";G[G.ij=4]="BUFFER";G[G.Cu=8]="SCREEN";G[G.wG=16]="CPU";G[G.g2=32]="CDN";G[G.zG=64]="FATALERROR";G[G.Kq=128]="BROWSERINFO";})(F || (F={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="DownloadReportBuilderSymbol";},function(r,b,a){var m,k,l,d,f,h,g,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(0);m=a(193);k=a(89);l=a(25);d=a(3);f=a(23);h=a(13);g=a(15);n=a(1);a=a(12);c.prototype.construct=function(q,t){var v,u,w;v=this;u={};q.forEach(function(x){var y;y=x.url;u[y] || (u[y]=[]);u[y].push(x);});w=[];(0,l.$g)(u,function(x,y){w.push(v.fUb(y,t));});return {urls:w};};c.prototype.fUb=function(q,t){var v,u,w,x;v=this;u=q[0];w={url:u.url,bitrate:u.bitrate,cdnid:(0,g.Yj)(u.vc)?u.vc.id:u.vc,dltype:u.iMb,id:u.Yb};x={};q.forEach(function(y){var z;z=v.jXb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,l.$g)(x,function(y,z){"fail" === y?w.failures=v.JRb(z,t):"success" === y && (w.downloads=v.BRb(z,t));});return w;};c.prototype.BRb=function(q,t){var v,u,w;v=this;u={};q.forEach(function(x){var y;y=x.CGb;u[y] || (u[y]=[]);u[y].push(x);});w=[];(0,l.$g)(u,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);v.UWb(A) && (w.push(v.W4a(z,t,x)),z=[]);});0 < z.length && w.push(v.W4a(z,t,x));});return w;};c.prototype.W4a=function(q,t,v){var u,w,x,y,A;u=q.sort(function(B,C){return B.km.bj < C.km.bj?-1:B.km.bj > C.km.bj?1:0;});w=u[0].km;x=w.$r;y=w.bj;w=w.zq;for(var z=1;z < q.length;z++){A=q[z].km;A.$r < x && (x=A.$r);A.bj < y && (y=A.bj);A.zq > w && (w=A.zq);}z=this.kTb(u);A=u[u.length - 1];return {time:x - t,tcpid:v?parseInt(v):-1,tresp:y - x,first:z,ranges:this.lTb(u,z),dur:w - y,trace:this.OE(q),status:this.oP(A)};};c.prototype.kTb=function(q){var t;t=0;q.forEach(function(v){v.Ut && (t=(0,h.Ez)(t,v.Ut[0]));});return t;};c.prototype.lTb=function(q,t){var v;v=[];q.forEach(function(u){u.Ut?v.push([u.Ut[0] - t,u.Ut[1] - t]):v.push([0,-1]);});return v;};c.prototype.OE=function(q){var t,v;t=[];q.forEach(function(u){var w;u=u.km;if(v){w=u.$r - v.zq;0 < w && t.push([w,-2]);w=(0,h.zu)(v.zq,u.$r);w=u.bj - w;0 < w && t.push([w,-3]);}t.push([u.zq - u.bj,u.qW || 0]);v=u;});return t;};c.prototype.UWb=function(q){if(q.xa === d.T.bD || q.xa === d.T.EG)return !0;};c.prototype.oP=function(q){if(q.ea)return "complete";if(q.xa === d.T.bD)return "abort";if(q.xa === d.T.EG)return "stall";(0,f.Wa)(!1,"download status should never be: other");return "other";};c.prototype.JRb=function(q,t){var v,u;v=this;u=[];q.forEach(function(w){var x;x=w.km;w={time:x.bj - t,tresp:x.bj - x.$r,dur:x.zq - x.bj,range:w.Ut,reason:v.nTb(w),httpcode:w.xl,nwerr:(0,m.bta)(w.xa)};u.push(w);});return u;};c.prototype.nTb=function(q){return q.xl || q.xa === d.T.iT?"http":q.xa === d.T.kT?"timeout":"network";};c.prototype.jXb=function(q){return q.ea || void 0 === q.ea || q.xa === d.T.bD || q.xa === d.T.EG?!1:!0;};c.prototype.tHb=function(q){var t,v,u,w,x,y;t=q.request;v=t.stream;u=t.track;w=t.url;x=this.yRb(u,w);switch(x){case k.jj.audio:case k.jj.video:y=t.stream.Yb;break;case k.jj.Tea:case k.jj.eDa:y=u.Yb;}q={bitrate:v && v.bitrate,iMb:x,Yb:y,km:q.km,vc:t.vc,url:w,Kf:q.Kf,xl:q.xl,xa:q.xa,ea:q.ea,CGb:this.uOb(q)};void 0 !== t.offset && void 0 != t.length && (q.Ut=[t.offset,t.offset + t.length - 1]);return q;};c.prototype.yRb=function(q,t){if(q)return q.type;if(0 <= t.indexOf("netflix.com")){if(0 <= t.indexOf("nccp"))return "nccp";if(0 <= t.indexOf("api"))return "api";}return "other";};c.prototype.uOb=function(q){if(q.headers && (q=q.headers["X-TCP-Info"] || q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(t){return 0 == t.indexOf("port=");}).map(function(t){return t.split("=")[1];})[0])?(0,l.hk)(q):q;};p=c;p=r.__decorate([(0,n.Y)(),r.__param(0,(0,n.l)(a.Nc))],p);b.zHa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vT="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nTa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fNa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eNa="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NIa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SJa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZNa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,f,h,g,n,p;function c(q){var t;q=new h.ZS(q);if(1481462272 != q.Yr())throw Error("Invalid header");t={XMR:{Version:q.Yr(),RightsID:q.Ny(16)}};m(q,t.XMR,q.buffer.length);return t;}function m(q,t,v){var u,w,x,y,z;for(;q.position < v;){u=q.Vh();w=q.Yr();w-=8;switch(u){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:k(u)};z=t[x];z?(0,p.isArray)(z)?z.push(y):(t[x]=[],t[x].push(z),t[x].push(y)):t[x]=y;switch(u){case 1:case 2:case 4:case 7:case 9:case 54:m(q,y,q.position + w);break;case 5:y.Reserved1=q.Vh();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Vh();y.MinimumAnalogVideoOutputProtectionLevel=q.Vh();y.Reserved2=q.Vh();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Vh();break;case 10:y.Reserved=q.Ny(16);y.SymmetricCipherType=q.Vh();y.AsymmetricCipherType=q.Vh();w=q.Vh();y.EncryptedKeyLength=w;u=q.Ny(w);y.EncryptedKeyData=10 >= w?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 11:y.SignatureType=q.Ny(2);w=q.Vh();u=q.Ny(w);y.SignatureData=10 >= w?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 13:y.Reserved=q.Vh();break;case 18:y.BeginDate=q.Yr();y.EndDate=q.Yr();break;case 42:y.CurveType=q.Ny(2);w=q.Vh();u=q.Ny(w);y.Key=10 >= w?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 48:y.ExpireAfterFirstPlay=q.Yr();break;case 50:y.Sequence=q.Yr();break;case 51:y.LicenseProcessingIndicator=q.Vh();break;case 52:y.MinimumSecurityLevel=q.Vh();break;case 57:y.PlayEnablerType=l(q.Ny(16));break;case 85:break;default:y.OtherData=q.Ny(w);}}}function k(q){return "0x" + q.toString(16);}function l(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.MKb=b.NKb=b.LKb=b.KKb=b.JKb=void 0;d=a(17);f=a(8);h=a(169);g=a(195);n=a(521);p=a(15);b.JKb=function(q,t,v){switch(t){case d.E2:q && (q=(0,f.FYa)(q),(0,n.wmb)(q,function(u){u.ea && (u=u.object) && (u=(0,g.T4a)(u,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (u=(0,g.ldb)(u)) && (u=(0,f.Ts)(u)) && (u=c(u)) && v(u);}));}};b.KKb=c;b.LKb=m;b.NKb=k;b.MKb=l;},function(r,b,a){var c,m,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.wmb=void 0;c=a(8);m=a(3);k=a(522);l=a(523);d=a(58);b.wmb=function(f,h){var g,n;try{n=(0,k.xmb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.jg)(function(){if(n && n.documentElement)try{g=(0,l.ymb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.jg)(function(){g?h({ea:!0,object:g}):h({ea:!1,xa:m.T.pqb});});});};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.xmb=void 0;c=a(8);m=a(15);b.xmb=function(k){var l,d;if((0,m.QP)(k)){l=new DOMParser().parseFromString(k,"text/xml");d=l.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:k.slice(0,300),fileSize:k.length});}catch(f){}throw Error("xml parser error");}return l;}throw Error("bad xml text");};},function(r,b,a){var m;function c(k){var l,d,f,h,g,n,p;d={};d[m.eEa]=k.localName;f={};d[m.J1]=f;h=[];d[m.tmb]=h;g=k.attributes;n=g.length;for(l=0;l < n;l++){p=g[l];f[p.localName]=p.value;}k=k.childNodes;n=k.length;f={};for(l=0;l < n;l++){switch((g=k[l],g.nodeType)){case b.Bmb:g=c(g);p=g[m.eEa];g[m.umb]=d;h.push(g);d[p]?f[p][m.vmb]=g:d[p]=g;f[p]=g;break;case b.Cmb:case b.zmb:(g=g.text || g.nodeValue,h.push(g),d[m.jz] || (d[m.jz]=g));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Amb=b.zmb=b.Cmb=b.Ofc=b.Bmb=b.Pfc=b.ymb=void 0;m=a(195);b.ymb=function(k){return c(k.nodeType == b.Amb?k.documentElement:k);};b.Pfc=c;b.Bmb=1;b.Ofc=2;b.Cmb=3;b.zmb=4;b.Amb=9;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MOa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oOa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eOa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uPa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sia={PY:"keepAlive",splice:"splice"};b.kOa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FOa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OHa="DxDisplaySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RHa="DxManagerSymbol";b.QHa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rLa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kTa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YOa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hQa="PreparerManifestFetcherSymbol";b.gQa="PreparerLicenseFetcherSymbol";b.fQa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var m,k,l,d;function c(f){this.Kn=f;}Object.defineProperty(b,"__esModule",{value:!0});b.pja=b.VPa=void 0;r=a(0);m=a(18);k=a(1);l=a(117);d=a(39);c.prototype.Z$a=function(f){var h,g;h=this;if(f.ee.key.Z)return Promise.resolve(f.ee.key.Z);g=f.ee.key.L;return f.ee.ih.gm(g).up.then(function(n){n=n.ja;return n.xo?(0,d.LA)(n.xo,{config:m.config}):(0,d.WF)(g,h.Kn.mt(g));});};a=c;a=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(l.eM))],a);b.VPa=a;b.pja="PlaygraphResolverSymbol";},function(r,b){function a(c){this.Px=void 0 === c?function(){}:c;this.oG=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.jka=void 0;a.prototype.store=function(c,m){c=this.generateKey(c);this.oG.has(c) && this.acb(this.oG.get(c),!0);this.oG.set(c,m);};a.prototype.gm=function(c,m){var k,l,d;d=null === (k=null === m || void 0 === m?void 0:m.rl) || void 0 === k?void 0:k.Ke;k=null === (l=null === m || void 0 === m?void 0:m.rl) || void 0 === l?void 0:l.Th;l={L:c,Th:k,Ke:d};this.has(l) || this.Px(c,m);return this.get(l);};a.prototype.has=function(c){c=this.generateKey(c);return this.oG.has(c) && !this.oG.get(c).Er;};a.prototype.clear=function(){var c;c=this;this.oG.forEach(function(m){c.acb(m,!1);});this.oG.clear();};a.prototype.get=function(c){return this.oG.get(this.generateKey(c));};a.prototype.generateKey=function(c){var m,k;m=c.Ke;k=c.Th;return c.L.toString() + (k?":" + k:"") + (m?":" + m:"");};a.prototype.acb=function(c,m){var k;null === (k=c.events) || void 0 === k?void 0:k.emit("viewableEvicted",{type:"viewableEvicted"});c.DCa=m;};b.jka=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sMa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yNa="OpenConnectSideChannelSymbol";b.CMa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AMa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iOa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vSa="TransportFactorySymbol";b.UMa="MslTransportSymbol";b.ERa="SslTransportSymbol";},function(r,b,a){var h,g;function c(n){return !(!n || !n.DF && !n.pboc || !n.code && !n.code);}function m(n){return !(!n || !n.Hc);}function k(n){return ! !(n instanceof Error);}function l(n){switch(n){case "ACCOUNT_ON_HOLD":return g.T.Qsb;case "STREAM_QUOTA_EXCEEDED":return g.T.Usb;case "INSUFFICICENT_MATURITY":return g.T.Zsb;case "TITLE_OUT_OF_WINDOW":return g.T.ftb;case "CHOICE_MAP_ERROR":return g.T.Tsb;case "BadRequest":return g.T.atb;case "Invalid_SemVer_Format":return g.T.$sb;case "RESTRICTED_TO_TESTERS":return g.T.dtb;case "AGE_VERIFICATION_REQUIRED":return g.T.Rsb;case "BLACKLISTED_IP":return g.T.Ssb;case "DEVICE_EOL_WARNING":return g.T.Hia;case "DEVICE_EOL_FINAL":return g.T.ANa;case "INCORRECT_PIN":return g.T.ENa;case "MOBILE_ONLY":return g.T.ctb;case "MDX_CONTROLLER_CTICKET_INVALID":return g.T.btb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return g.T.gtb;case "RESET_DEVICE":return g.T.DNa;case "RELOAD_DEVICE":return g.T.CNa;case "EXIT_DEVICE":return g.T.BNa;case "FREE_PREVIEW_ENDED":return g.T.Ysb;case "STREAMING_LOCATION_DISALLOWED":return g.T.etb;case "EXTRA_MEMBER_STREAM_HOLD":return g.T.Xsb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return g.T.Wsb;default:return g.T.TIa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new h.gd(n,l(p.code),"BadRequest" === p.code?g.D3.Hnb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(n,p){return new h.gd(n,p.Hc,p.Ud,void 0,p.VB,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.gZa=b.hZa=b.aQb=b.fQb=b.vn=b.eQb=b.GY=b.cXb=b.X8a=void 0;h=a(37);g=a(3);b.X8a=c;b.cXb=m;b.GY=k;b.eQb=l;b.vn=function(n,p){return m(p)?f(n,p):c(p)?d(n,p):k(p)?h.gd.bsa(n,p):new h.gd(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.fQb=d;b.aQb=f;b.hZa=function(n,p,q,t,v){var u,w,x,y;u=p.fhb[q];if(void 0 === u)throw {DF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};w=u.version;if(void 0 === w)throw {DF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=u.service;if(void 0 === x)throw {DF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=u.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {DF:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return u.isPlayApiDirect?n.WSb(t) + "/" + y + "/" + x + "/" + w:n.MSb(t) + "/" + y + "/" + x + "/" + w + "/" + (void 0 === v?"router":v);};b.gZa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.tXa && p && (q["X-Esn"]=p.yl);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OOa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ASa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uq=void 0;r=b.Uq || (b.Uq={});r[r.W3=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.IG=2]="LOADED";r[r.pT=3]="LOAD_FAILED";r[r.zNa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wFa="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mPa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HQa="RepositionTraceSymbol";b.FQa="RepositionTraceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vEa="AdManagerFactorySymbol";},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga;function c(N,Q,V,ba,qa,La,Oa,Ta,Qa,Wa,eb,ub,jb,mb,Ia,Xa,ab,kb,sb,Bb,Hb,Lb,Xb,Fb,Qb,bc,ad,Qd,Df,Ef,Ff,Gf,Hf,Rd){var xb,If;function Ze(tb){tb.newValue && tb.newValue.stream && (xb.De.removeListener(Ze),xb.Z$=tb.newValue.stream.bitrate);}function $e(tb){tb.newValue !== S.ib.cg && tb.newValue !== S.ib.Hh && (xb.zb.removeListener($e),xb.CB=xb.za.NK,xb.Lb.Rc(S.ia.iw));}function af(tb){tb.newValue !== S.ib.cg && (xb.zb.removeListener(af),xb.rm=!0,xb.m_=xb.za.Bf.fa(F.ma),xb.Lb.Rc(S.ia.rm));}xb=this;this.tb=qa;this.il=La;this.wB=Oa;this.Da=Qa;this.WD=Wa;this.za=eb;this.lZ=ub;this.Dwa=Ia;this.ZP=Xa;this.wd=ab;this.ti=kb;this.zj=sb;this.ON=Bb;this.n_=Hb;this.ck=Lb;this.dDa=Xb;this.sg=Fb;this.Ge=Qb;this.Oya=bc;this.In=ad;this.Rfb=Qd;this.Bna=Df;this.QJ=Ef;this.zya=Ff;this.Rma=Gf;this.FN=Hf;this.Xdb=[];this.Tr=new Map();this.yc=new t.Xb(null);this.Ng=new t.Xb(null);this.jc=new t.Xb(null);this.nj=new t.Xb(null);this.Dw=new t.Xb(void 0);this.pf=new t.Xb(null);this.Kh=new t.Xb(null);this.mediaTime=new t.Xb(void 0);this.playbackRate=new wa.qPa(1,v.config.Swa);this.sDa=function(tb){return xb.yc.set(tb.newValue);};this.nec=function(tb){return xb.Ng.set(tb.newValue);};this.lec=function(tb){return xb.jc.set(tb.newValue);};this.Idc=function(tb){return xb.nj.set(tb.newValue);};this.kec=function(tb){return xb.Dw.set(tb.newValue);};this.mec=function(tb){return xb.pf.set(tb.newValue);};this.Kdc=function(tb){return xb.Kh.set(tb.newValue);};this.cec=function(tb){return xb.De.set(tb.newValue);};this.bec=function(tb){return xb.Of.set(tb.newValue);};this.Zdc=function(tb){return xb.mediaTime.set(tb.newValue);};this.kfa=function(tb){return xb.playbackRate.set(tb.newValue);};this.Vk={};this.xAa=this.WCa=0;this.Lb=new u.sk();this.wfa={};this.G0=this.Ndb=this.rm=!1;this.nG=new t.Xb(void 0);this.state=new t.Xb(S.ac.$L);this.jk=new t.Xb(!1);this.paused=new t.Xb(!1);this.muted=new t.Xb(!1);this.volume=new t.Xb(v.config.eLb / 100);this.zb=new t.Xb(S.ib.cg);this.yf=new t.Xb(S.Rf.sd);this.Ss=new t.Xb(S.Rf.sd);this.Wn=new t.Xb(S.Rf.sd);this.Of=new t.Xb(null);this.De=new t.Xb(null);this.qoa=new t.Xb(null);this.J$=(0,p.QJa)(this);this.vc=[new t.Xb(null),new t.Xb(null)];this.Xna={};this.FO=!1;this.Qa=this.$k=-1;this.tta=function(tb,Sb){var Hc;tb=void 0 === tb?null:tb;return (0,I.Ka)(tb)?Sb && !xb.Wj(Sb).ja?tb:(null === (Hc=xb.Ha) || void 0 === Hc?0:Hc.Ii)?xb.Ha.fv(tb):tb:null;};this.wcb=function(){xb.cCa();};this.rE=N;this.addEventListener=this.Lb.addListener;this.removeEventListener=this.Lb.removeListener;this.fireEvent=this.Lb.Rc;this.ana({L:N,V:ba,fb:V || ({})},v.config.Pt?this.wd.Iv(N):void 0,Q);this.log=(0,D.Ui)(this);this.y1a=Ta(this);this.RDb=jb(this);this.ip=(0,M.createElement)("DIV",q.yja,void 0,{id:this.I});this.qWb();this.dd=this.log.W7("Playback");(0,d.VOa)(this);y.mD.sbb=this;y.mD.Ora || (y.mD.Ora=this);this.dd.info("Playback created",this.yh);this.lwa?this.dd.info("Playback selected for trace playback info logging"):this.dd.trace("Playback not selected for trace playback info logging");v.config.Pt && (this.wd.EUb(this.I),this.addEventListener(S.ia.iw,function(){xb.wd.GUb(xb.I);xb.jc.addListener(function(){xb.wd.Y6a();});xb.yc.addListener(function(){xb.wd.Y6a();});}),this.addEventListener(S.ia.Xg,function(){xb.wd.DUb(xb.I);}));this.state.addListener(function(tb){xb.dd.info("Playback state changed",{From:tb.oldValue,To:tb.newValue});(0,E.Wa)(tb.newValue > tb.oldValue);});x.kf.addListener(x.Qo,this.wcb,q.b4);If=mb((0,F.zi)(1));this.mediaTime.addListener(function(){xb.tPb();If.xm(function(){return xb.z3a();});});this.zb.addListener(function(tb){xb.dd.info("PresentingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,H.Jj)(xb.mediaTime.value)},xb.$v());});this.zb.addListener(function(){xb.jk.set(xb.zb.value === S.ib.Dc);});this.yf.addListener(function(tb){xb.dd.info("BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,H.Jj)(xb.mediaTime.value)},xb.$v());});this.Ss.addListener(function(tb){xb.dd.info("AV BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,H.Jj)(xb.mediaTime.value)},xb.$v());});this.Wn.addListener(function(tb){xb.dd.info("Text BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,H.Jj)(xb.mediaTime.value)},xb.$v());});this.yc.addListener(function(tb){(0,E.Wa)(tb.newValue && tb.newValue.Wi);xb.dd.info("AudioTrack changed",tb.newValue && ({ToBcp47:tb.newValue.xf,To:tb.newValue.trackId}),tb.oldValue && ({FromBcp47:tb.oldValue.xf,From:tb.oldValue.trackId}),{MediaTime:(0,H.Jj)(xb.mediaTime.value)});});this.jc.addListener(function(tb){(0,E.Wa)(!tb.newValue || tb.newValue.Wi);xb.dd.info("TimedTextTrack changed",tb.newValue?{ToBcp47:tb.newValue.xf,To:tb.newValue.trackId}:{To:"none"},tb.oldValue?{FromBcp47:tb.oldValue.xf,From:tb.oldValue.trackId}:{From:"none"},{MediaTime:(0,H.Jj)(xb.mediaTime.value)});});this.zb.addListener(af,q.bM);this.zb.addListener($e);this.addEventListener(S.ia.iw,function(){xb.G0=!0;xb.Dib=xb.cW();xb.Ne("start");});this.De.addListener(Ze);(0,C.gPa)(this);y.Bp.push(this);v.config.R_ && (this.Ica=this.Oya(this),this.Lca=new A.sPa(this));y.gja.forEach(function(tb){tb(xb);});this.RBb=function(){xb.addEventListener(S.ia.xK,function(tb){var Sb;tb=tb.cause;tb !== S.Ve.Az && tb !== S.Ve.jM && (null === (Sb=xb.Ha) || void 0 === Sb?void 0:Sb.stop());});xb.addEventListener(S.ia.Zk,function(tb){var Sb,Hc,bf,Jf,zc,Sd,Kf,Td,cf,Lf;xb.Rfb.Zk(tb);bf=tb.cause;Jf=tb.skip;zc=tb.Tba;Sd=tb.Uxa;Kf=tb.I;Td=tb.Lk;xb.ka.qm.Mxa(Sd,zc);if(bf !== S.Ve.jM && bf !== S.Ve.Az)if(Jf){if(null !== (Sb=xb.Ha) && void 0 !== Sb && Sb.Wg(zc)){xb.dd.trace("Repositioned. Skipping from " + Sd + " to " + zc);tb=function(Tb){xb.log.error("streamingSession.skipped threw an exception",Tb);Tb=T.gd.bsa(G.W.Omb,Tb);xb.Rt(Tb.code,Tb);};try{xb.Ha.Rl(zc).then(function(Tb){var Ic;Tb.IP || (null === (Ic=xb.Ha) || void 0 === Ic?void 0:Ic.play());}).catch(tb);}catch(Tb){tb(Tb);}}else xb.log.error("can skip returned false");}else {xb.dd.trace("Repositioned. Seeking from " + Sd + " to " + zc);try{cf=xb.tb.b$(xb.ka);Lf=Object.keys(cf.M).find(function(Tb){var Ic;Tb=cf.M[Tb];return Tb.L === Kf && Tb.qa <= Td && (null !== (Ic=Tb.sa) && void 0 !== Ic?Ic:Infinity) > Td;});null === (Hc=xb.Ha) || void 0 === Hc?void 0:Hc.au(Td,Lf);}catch(Tb){xb.log.error("streamingSession.seekByContentPts threw an exception",Tb);zc=T.gd.bsa(G.W.Mmb,Tb);xb.Rt(zc.code,zc);}}});};this.playbackRate.addListener(function(){var tb,Sb;if(null === (tb=xb.Ha) || void 0 === tb?0:tb.Ii)null === (Sb=xb.Ha) || void 0 === Sb?void 0:Sb.Qya();});this.addEventListener(S.ia.FA,function(tb){var Sb;tb.cause == y.dja && (xb.yf.set(S.Rf.sd),null === (Sb=xb.Ha) || void 0 === Sb?void 0:Sb.op(xb.Ff.a5a()));});Rd && (this.ka.ja=Rd,this.ck.J0(N,Rd));}Object.defineProperty(b,"__esModule",{value:!0});b.lPa=void 0;m=a(0);k=a(28);l=a(299);d=a(301);f=a(165);h=a(556);g=a(1313);n=a(1314);p=a(559);q=a(17);t=a(70);v=a(18);u=a(72);w=a(560);x=a(65);y=a(64);z=a(137);A=a(562);B=a(1317);C=a(566);D=a(8);F=a(5);G=a(3);E=a(23);H=a(91);L=a(25);K=a(58);I=a(15);R=a(567);O=a(103);J=a(305);M=a(43);P=a(102);S=a(16);T=a(37);U=a(302);W=a(569);fa=a(133);sa=a(1321);wa=a(1322);Ba=a(39);Ga=a(59);c.prototype.Ne=function(N,Q){var V;Q=void 0 === Q?this.rE:Q;null === (V=this.Tr.get(Q)) || void 0 === V?void 0:V.Ne(N);};c.prototype.xB=function(N){this.ka.xB(N);};c.prototype.v$=function(){var N;return !(null === (N=this.ja) || void 0 === N || !N.ab.Bo);};c.prototype.s$=function(){var N,Q,V;return !(null === (V=null === (Q=null === (N=this.ja) || void 0 === N?void 0:N.ab.cI) || void 0 === Q?void 0:Q.Dg.length) || void 0 === V || !V);};c.prototype.qWb=function(){var N;N=this;this.yc.addListener(function(Q){return N.ka.yc.set(Q.newValue);});this.Ng.addListener(function(Q){return N.ka.Ng.set(Q.newValue);});this.jc.addListener(function(Q){return N.ka.jc.set(Q.newValue);});this.nj.addListener(function(Q){return N.ka.nj.set(Q.newValue);});this.Dw.addListener(function(Q){return N.ka.Dw.set(Q.newValue);});this.pf.addListener(function(Q){return N.ka.pf.set(Q.newValue);});this.Kh.addListener(function(Q){return N.ka.Kh.set(Q.newValue);});this.De.addListener(function(Q){return N.ka.De.set(Q.newValue);});this.Of.addListener(function(Q){return N.ka.Of.set(Q.newValue);});this.vc[k.Pb.cb.dc].addListener(function(Q){return N.ka.vc[k.Pb.cb.dc].set(Q.newValue);});this.vc[k.Pb.cb.Jb].addListener(function(Q){return N.ka.vc[k.Pb.cb.Jb].set(Q.newValue);});this.mediaTime.addListener(function(Q){return N.ka.mediaTime.set(Q.newValue);});this.playbackRate.addListener(function(Q){return N.ka.playbackRate.set(Q.newValue);});this.tgb();};c.prototype.tgb=function(){var N;N=this;this.ka !== this.cBa && (this.ka.mediaTime.set(this.mediaTime.value),this.ka.playbackRate.set(this.playbackRate.value),this.qs(function(Q){return Q.yc;},this.sDa),this.qs(function(Q){return Q.Ng;},this.nec),this.qs(function(Q){return Q.Dw;},this.kec),this.qs(function(Q){return Q.jc;},this.lec),this.qs(function(Q){return Q.nj;},this.Idc),this.qs(function(Q){return Q.pf;},this.mec),this.qs(function(Q){return Q.Kh;},this.Kdc),this.qs(function(Q){return Q.Of;},this.bec),this.qs(function(Q){return Q.De;},this.cec),this.qs(function(Q){return Q.vc[k.Pb.cb.dc];},function(Q){return N.vc[k.Pb.cb.dc].set(Q.newValue);}),this.qs(function(Q){return Q.vc[k.Pb.cb.Jb];},function(Q){return N.vc[k.Pb.cb.Jb].set(Q.newValue);}),this.qs(function(Q){return Q.mediaTime;},this.Zdc),this.qs(function(Q){return Q.playbackRate;},this.kfa),this.jc.set(this.ka.jc.value),this.yc.set(this.ka.yc.value,{FXa:!0}),this.Ng.set(this.ka.Ng.value),this.nj.set(this.ka.nj.value),this.Dw.set(this.ka.Dw.value),this.pf.set(this.ka.pf.value),this.Kh.set(this.ka.Kh.value),this.cBa=this.ka);};c.prototype.qs=function(N,Q){this.cBa && N(this.cBa).removeListener(Q);N(this.ka).addListener(Q);};c.prototype.qFb=function(){var N;return !(null === (N=this.Gk) || void 0 === N?0:N.Vu.value);};c.prototype.load=function(N){var Q,V;Q=this;this.load=function(){};this.aeb=N;if(this.state.value == S.ac.$L){this.dd.info("Playback loading",this);this.w1b();this.Ne("asl_load_start");V=this.WD;N=V.startTime;V=V.endTime;(0,I.pd)(N)?(0,I.pd)(V)?this.Ne("asl_ended"):this.Ne("asl_in_progress"):this.Ne("asl_not_started");this.WD.cZ(function(ba){Q.Ne("asl_load_complete");ba.ea?Q.lJb():Q.Rt(ba.errorCode || G.W.Dha,ba);});}};c.prototype.d5b=function(){!1;try{this.state.value === S.ac.LOADING && (this.glb(),this.Et.Fc?this.Et.Ngb():this.cv=this.ON.nCb({tL:(0,F.qc)(this.ba),I:this.I,Hca:this.Nx,fb:this.fb,BF:this.fb.Sh?v.config.kya:v.config.BF}).fa(F.ma),this.zna(),this.lKb());}catch(N){this.Rt(G.W.hrb,{xa:G.T.Im,Qb:(0,L.cf)(N)});}};c.prototype.glb=function(){var N,Q,V;V={width:1,height:1};this.PE({qlb:!0}).forEach(function(ba){V.width * V.height < ba.width * ba.height && (V={width:ba.width,height:ba.height});});V.height === (null === (N=this.nG.value) || void 0 === N?void 0:N.height) && V.width === (null === (Q=this.nG.value) || void 0 === Q?void 0:Q.width) || this.nG.set(V);};c.prototype.yy=function(){var N,Q;!1;Q=this.tb.b$(this);this.p0a(Q);null === (N=this.Ha) || void 0 === N?void 0:N.Iw(Q);};c.prototype.$J=function(N){var Q,V;!1;(0,E.Wa)(this.Ha,"ASE should be initialized");V=this.tb.VX(N);V?N === this.tb.Mh?this.Ha.Ys(V,!0,!0) || this.jY(V,{}):null === (Q=this.Ha) || void 0 === Q?void 0:Q.fj(N,V,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.jY=function(N,Q,V){var ba,qa,La,Oa,Ta;ba=this;V=void 0 === V?!0:V;!1;Oa=this.tb.ze(N);if(this.zj.qfa && this.tb.ka.L === Oa.L)return Promise.resolve(this.Ff.seek(Oa.qa,S.Ve.oD,void 0));Oa=this.il.uP(Oa.L);Q=(0,O.uba)(Oa.Eb,Q);if(null === (qa=this.Ha) || void 0 === qa || !qa.Ii)throw (!1,Error("No streaming session"));!1;this.$H("Transition " + this.tb.Mh + "->" + N);Ta=this.Wj(N);Ta.Yn=this.Da.Tb().fa(F.ma);Ta.fb=Q;return "seamless" !== (null !== (La=this.tb.ze(N).se) && void 0 !== La?La:"seamless") || V?(this.Ha.kP(N).RN?this.qUb(N,Ta.I):this.j0(N,Ta.I)).then(function(){ba.OPb(Ta.I);}):Promise.resolve();};c.prototype.j0=function(N,Q){var V;V=this.tb.Ll.M[N].qa;!1;this.$H("NO DATA " + N + ", SEEKING " + V + ", viewableId: " + Q);return Promise.resolve(this.Ff.seek(V,S.Ve.oD,N,!0));};c.prototype.qUb=function(N,Q){var V,ba,qa,La,Oa;V=this;!1;ba=this.Ha;if(null === ba || void 0 === ba || !ba.Ii)throw Error("No streaming session");qa=new Promise(function(Ta){function Qa(){!1;ba.removeEventListener("stop",Qa);Ta();}ba.addEventListener("stop",Qa);});La=!1;Oa=new Promise(function(Ta){function Qa(eb){!1;V.removeEventListener(S.ia.Zk,Qa);La=eb.skip;Ta();}function Wa(){!1;V.removeEventListener(S.ia.xK,Wa);ba.stop();}V.addEventListener(S.ia.xK,Wa);V.addEventListener(S.ia.Zk,Qa);});qa=Promise.all([qa,Oa]).then(function(){var Ta;Ta=!1;La && (Ta=ba.Ys(N,!1,!0));if(!Ta)return (V.$H("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),V.j0(N,Q));});Oa=ba.hO(N,this.tb.Ll.M[N].qa);!1;this.Ff.seek(Oa,S.Ve.jM,N,!0);return qa;};c.prototype.ana=function(N,Q,V){var ba,qa,La,Oa,Ta,Qa,Wa;Q=void 0 === Q?this.wB.TA():Q;V=void 0 === V?this.Da.Tb():V;La=! !v.config.Olb && !(Q % v.config.Olb);Oa=N.L;Ta=N.V;Qa=N.fb;N=N.Oi;if(this.Tr.has(Oa))Q=this.Tr.get(Oa);else {Q=this.n_(y.mD.index++,Oa,Ta,Qa,Q,V,La,this.ka,this.tta,N,this);this.Tr.set(Oa,Q);1 < this.Tr.size && (Q.YP=this.ZP.create(this,Q,!1));Q.jQ=new z.FMa(this,Q);Wa=null === N || void 0 === N?void 0:N.Ke;(V=null === (qa=null === (ba=this.ka.ja) || void 0 === ba?void 0:ba.$u) || void 0 === qa?void 0:qa.find(function(eb){return eb.ab.I === Oa && (void 0 === Wa || eb.ab.Ke === Wa);})) && this.dda(V,Q);1 < this.Tr.size && this.ck.t$(Q.I) && this.hda(Q);}};c.prototype.o0a=function(N,Q,V){var ba,qa,La,Oa,Ta,Qa,Wa,eb;ba=this;!1;Qa={saa:!0,Sh:!1,gS:Date.now()};(0,E.Wa)(Q.rl,"Auxiliary viewable config request options must have auxiliary options");Wa=Q.rl;Q=Wa.Ke;Wa=Wa.Th;eb=null === (qa=this.No(Wa).ja) || void 0 === qa?void 0:qa.ab;qa={Ke:Q,mya:this.zh,Th:Wa,e_:eb};(0,E.Wa)(null === (La=this.Ha) || void 0 === La?void 0:La.Sj,"If we have auxiliary viewables combined playgraph must exist");La=Object.keys(null === (Ta=null === (Oa=this.Ha) || void 0 === Oa?void 0:Oa.Sj) || void 0 === Ta?void 0:Ta.M).find(function(ub){var jb,mb;return (null === (mb=null === (jb=ba.Ha) || void 0 === jb?void 0:jb.Sj) || void 0 === mb?void 0:mb.M[ub].L) === N;});(0,E.Wa)(! !La,"Segment for the auxiliary viewable should exist in the combined playgraph");this.ana({Oi:qa,fb:Qa,V:La,L:N},V);};c.prototype.Zta=function(N){return ! !this.Tr.has(N);};c.prototype.$Ub=function(N){try{return (this.Wj(N),!0);}catch(Q){return !1;}};c.prototype.No=function(N){if(N === Ba.Pq)return this.ka;if(!this.Tr.has(N))throw Error("Playback segment not found: " + N);return this.Tr.get(N);};c.prototype.Wj=function(N){var V,ba,qa,La,Oa,Ta;function Q(Qa){for(var Wa=na(V.NQ),eb=Wa.next();!eb.done;eb=Wa.next()){if((eb=eb.value,eb.V === Qa))return eb;}}V=this;Ta=Q(N);return Ta?Ta:(null === (qa=null === (ba=this.Ha) || void 0 === ba?void 0:ba.Sj) || void 0 === qa?0:qa.M[N]) && (ba=null === (La=this.Ha) || void 0 === La?void 0:La.Sj.M[N].kc) && this.tb.Sy(ba)?(La=this.tb.ze(ba).L,N=null === (Oa=this.Ha) || void 0 === Oa?void 0:Oa.Sj.M[N].L,La === N && (Ta=Q(ba)),null !== Ta && void 0 !== Ta?Ta:this.No(N)):this.ka;};c.prototype.ZSb=function(N){for(var Q,V,ba=na(this.NQ),qa=ba.next();!qa.done;qa=ba.next()){if((qa=qa.value,(null === (V=null === (Q=qa.bf) || void 0 === Q?void 0:Q.Ib) || void 0 === V?void 0:V.sessionId) === N))return qa;}return this.ka;};c.prototype.hda=function(N){var Q,V;Q=this;!1;V=N.I;this.il.l$b(V);return this.o0(N).then(function(ba){Q.dda(ba,N);ba=N.BJ?Q.Ub.jm.Sfb(N):Promise.resolve();Q.p5b(N);return ba.then(function(){return Q.il.rhb(V);});}).catch(function(ba){Q.log.error("queueManifest failed",ba);Q.il.k$b(V,ba);throw Q.ti(ba.code,ba);});};c.prototype.LQb=function(){if((0,I.Ka)(this.qd.ats) && (0,I.Ka)(this.qd.at))return this.qd.at - this.qd.ats;};c.prototype.y4a=function(){var N,Q;N=this.u1();Q=this.GV();return Math.min(N,Q);};c.prototype.LR=function(){this.background || (this.dd.info("Starting inactivity monitor for movie " + this.I),new w.xKa(this));};c.prototype.close=function(N){N && (this.state.value == S.ac.CLOSED?N():this.addEventListener(S.ia.closed,function(){N();}));this.cCa();};c.prototype.Sd=function(N,Q,V){N=this.ti(N,Q,V);this.sI(N,void 0);};c.prototype.sI=function(N,Q){var V,ba,qa,La;V=this;!1;N.Fhb(this.rm);if(this.state.value == S.ac.$L)this.Ti || (this.Ti=N,this.load());else {Q && (this.state.value == S.ac.CLOSED?Q():this.addEventListener(S.ia.closed,function(){Q();}));ba=function(){V.cCa(N);};qa=v.config.m1a && N && v.config.m1a[N.errorCode];La=-1;(0,I.QP)(qa) && (La=(0,L.hk)(qa));this.dd.error("Fatal playback error",{Error:"" + N,HandleDelay:"" + qa});0 <= La?setTimeout(ba,La):ba();}};c.prototype.$H=function(N){var Q;Q=void 0 === Q?this.V:Q;N=this.Da.Tb().fa(F.ma) + "-" + Q + "-" + N;!1;this.Xdb.push(N);};c.prototype.FPb=function(){this.z3a();};c.prototype.jta=function(){var N;if(null === (N=this.Ha) || void 0 === N?0:N.Ii)if((N=this.Ha.Tk().id,void 0 !== N))return N;return null;};c.prototype.ME=function(){var N,Q;Q=null === (N=this.Ha) || void 0 === N?void 0:N.Ii;return void 0 === this.ka.rW || Q?this.tta(this.mediaTime.value):this.ka.rW;};c.prototype.ita=function(){var N;N=this.tta(this.Ff.a5a());return null === N?null:Math.min(this.Nx.fa(F.ma),Math.max(0,N));};c.prototype.BX=function(){var N,Q;return null === (Q=null === (N=this.ja) || void 0 === N?void 0:N.ab.xo) || void 0 === Q?void 0:Q.M;};c.prototype.jfa=function(N){!1;this.fb=(0,O.uba)(this.fb,N);this.zna();};c.prototype.O6a=function(N){return (null === N || void 0 === N?0:N.L)?N.L:(null === N || void 0 === N?0:N.qlb) && this.tI?this.tI.L === Ba.Pq?(N=this.tI.Kb) && this.Ha && this.Ha.Sj?this.Ha.Sj.M[N].L:this.I:this.tI.L:this.I;};c.prototype.GQb=function(){var N;N=this.No(this.O6a(void 0)).yc;return N.value?N.value.streams:[];};c.prototype.PE=function(N){return (N=this.No(this.O6a(N)).Ng) && N.value?N.value.streams:[];};c.prototype.b7a=function(N){for(var Q=na(this.NQ),V=Q.next();!V.done;V=Q.next()){if(V=(V=V.value.Fg) && V.find(function(ba){return ba.id === N;}))return V;}!1;};c.prototype.p5b=function(N){N=void 0 === N?this.ka:N;!1;N.jc.value?this.mp.m5b(N.jc.value):Promise.resolve();};c.prototype.Z6a=function(N){for(var Q=na(this.NQ),V=Q.next();!V.done;V=Q.next()){V=na(V.value.pj);for(var ba=V.next();!ba.done;ba=V.next()){if(ba=ba.value.streams.find(function(qa){return qa.Yb === N;}))return ba;}}!1;};c.prototype.m7a=function(N){for(var Q=na(this.NQ),V=Q.next();!V.done;V=Q.next()){V=na(V.value.NC);for(var ba=V.next();!ba.done;ba=V.next()){if(ba=(ba=ba.value) && ba.streams.find(function(qa){return qa.Yb === N;}))return ba;}}!1;};c.prototype.gv=function(){var N,Q,V;return null !== (V=null === (Q=null === (N=this.Lca) || void 0 === N?void 0:N.uW) || void 0 === Q?void 0:Q.call(N)) && void 0 !== V?V:this.vJb().HE;};c.prototype.Phb=function(N){var Q,V;null !== (Q=this.Ha) && void 0 !== Q && Q.Ii && this.Tr.has(N) && ((null === (V=this.Lca) || void 0 === V?0:V.uW)?this.Lca.Nkb():(Q=this.Ppa(N),this.Ha.gs(Q,N)));};c.prototype.SXb=function(){return "trailer" === this.de;};c.prototype.ZWb=function(){return ! !this.de && 0 <= this.de.indexOf("billboard");};c.prototype.ZXb=function(){return ! !this.de && 0 <= this.de.indexOf("video-merch");};c.prototype.yXb=function(){return ! !this.de && 0 <= this.de.indexOf("mini-modal");};c.prototype.OP=function(){return this.SXb() || this.ZWb() || this.ZXb() || this.yXb();};c.prototype.I9=function(){var N;if(this.NC){this.PE({qlb:!0}).forEach(function(Q){var V,ba;if((0,I.Ka)(Q.Qpa) && (0,I.Ka)(Q.H0a) && (0,I.Ka)(Q.G0a) && (0,I.Ka)(Q.F0a) && (0 < Q.Qpa || 0 < Q.H0a)){V=1;ba=1;(0,I.Ka)(Q.Edb) && (0,I.Ka)(Q.Fdb) && (V=Q.Edb,ba=Q.Fdb);V=Q.F0a * ba / (Q.G0a * V);N=(0,I.Ka)(N)?0 < Q.Qpa?Math.max(N,V):Math.min(N,V):V;}});return N;}};c.prototype.tTb=function(){return {tr:this.WCa,rt:this.xAa};};c.prototype.pB=function(N){return this.Vk[N];};c.prototype.xoa=function(){return this.Yn?this.Da.Tb().fa(F.ma) - this.Yn:this.za.Bf.fa(F.ma) - this.YI();};c.prototype.cW=function(){var N;if(this.Yn)return this.Da.Tb().fa(F.ma) - this.Yn;N=this.Da.GB;return this.m_ - (this.yj.fa(F.ma) + N.fa(F.ma));};c.prototype.zoa=function(){return this.Yn?this.Da.Tb().fa(F.ma) - this.Yn:this.m_ - this.YI();};c.prototype.RQb=function(){var N,Q;N=this.loadTime;Q={};(0,L.$g)(this.Xna,function(V,ba){Q[V]=ba.map(function(qa){return qa - N;});});return h.Ix?{level:h.Ix.C5a(),charging:h.Ix.tsa(),statuses:Q}:null;};c.prototype.l$=function(){this.y3a();return this.wfa;};c.prototype.YI=function(){var N;N=this.fb.gS;N=(0,I.Ka)(N)?N:this.yj.fa(F.ma) + this.Da.GB.fa(F.ma);(0,E.Wa)((0,I.gF)(N));return N;};c.prototype.n6a=function(){return this.Da.Tb().fa(F.ma) - this.yj.fa(F.ma);};c.prototype.pfc=function(){this.nac=!0;};c.prototype.aca=function(){this.wfb();};c.prototype.u1=function(){var N;N=this.e7();return N && N.vbuflmsec || 0;};c.prototype.GV=function(){var N;N=this.e7();return N && N.abuflmsec || 0;};c.prototype.ODa=function(){var N;N=this.e7();return N && N.vbuflbytes || 0;};c.prototype.Gna=function(){var N;N=this.e7();return N && N.abuflbytes || 0;};c.prototype.o0=function(N,Q,V){var ba,qa,La,Oa;ba=this;N=void 0 === N?this.ka:N;V=void 0 === V?!0:V;!1;qa=! !Q;La=!qa && N !== this.ka;Oa=v.config.fda.enabled?P.co.Ttb:La?P.co.VG:this.OP()?P.co.x4:P.co.Rq;qa=this.OP() || qa || La?void 0:this.Ub.jm.S9(La);return this.ck.eJ({da:N.da,fb:N.fb,L:N.I,Av:Oa,rg:qa,Zea:Q,Oi:N.Oi},N.Oi?!1:V).then(function(Ta){Ta.fva && ba.fireEvent(S.ia.bZ,{I:N.I});return Ta;});};c.prototype.dda=function(N,Q,V){var ba,qa,La;Q=void 0 === Q?this.ka:Q;V=void 0 === V?!1:V;!1;if(Q.fb.Sh && !N.ab.xo)this.Sd(G.W.Anb);else {ba=this.lZ.create(this);qa=! !(Q.Oi && Q.Oi.Ke && Q.Oi.e_);if(V){La=ba.IVb(Q.ja,Q.Qc,N);N=La.ja;La=La.Qc;}else (N=qa?ba.f9b(N,null === (La=Q.Oi) || void 0 === La?void 0:La.e_):N,La=ba.kdb(N));Q.ja=N;Q.Qc=La;V || (Q.Ng.set(La.o8),Q.yc.set(La.EW),Q.jc.set(La.GW));}};c.prototype.OPb=function(N){var Q;Q=void 0 === Q?!1:Q;!1;this.JK({L:N,yJ:Q});};c.prototype.c7a=function(N,Q){if(!this.zj.LDa)return !0;N=this.Ot.fa(F.ma) - N;return 0 > N || N > Q;};c.prototype.L8b=function(){!1;this.Ff.seek(this.ME() || 0,S.Ve.I2);};c.prototype.G7a=function(N,Q){var V,ba;V=this;!1;ba=this.ka;ba.u8=!0;return this.o0(ba,{mya:ba.zh,u8b:N,x8b:Q},!1).then(function(qa){var La;V.dda(qa,ba,!0);V.ck.J0(ba.I,ba.ja);return null === (La=V.Ha) || void 0 === La?void 0:La.cz(V.Wdb);}).then(function(){var qa,La;qa=ba.pj.find(function(Oa){return Oa.trackId === N;});La=ba.Ai.find(function(Oa){return Oa.trackId === Q;});if(!(qa && qa.Wi && La && La.Wi))throw Error("Track hydration failed: requiredAudioTrackId=" + N + " requiredTextTrackId=" + Q);V.fireEvent(S.ia.kkb);return {yc:qa,V0:La};});};c.prototype.gq=function(){return this.Gk;};c.prototype.JK=function(N){var Q,V,ba;Q=N.L;V=N.yJ;N=N.tI;!1;N !== this.tI && (this.tI=N,this.glb());if(this.TQ){if(Q === this.rE){this.TQ=Q;return;}N=this.No(Q);ba=N.ja;ba && (0,I.pd)(ba.zK) && (0,I.pd)(ba.kR) && N.xB({pr_ats:ba.zK,pr_at:ba.kR});this.fireEvent(S.ia.Cwa,{I:this.rE});this.rE=Q;this.zna();V || this.tgb();this.CB=this.za.NK;this.ka.Yn || (this.ka.Yn=this.Da.Tb().fa(F.ma));}("boolean" === typeof this.fb.LO?this.fb.LO:v.config.LO) && !V && this.dDa.LO(this);V={I:Q,yJ:V,TQ:this.TQ};this.TQ=Q;this.fireEvent(S.ia.IJ,V);};c.prototype.lJb=function(){!1;try{this.Ub=new g.pMa(this);this.P7=new U.MGa(this);this.YP=this.ZP.create(this,this.ka,!0);v.config.uFb && new W.CIa(this,this.sg,this.log);v.config.eW && this.eW(this);this.Rec();}catch(N){this.Rt(G.W.grb,{xa:G.T.Im,Qb:(0,L.cf)(N)});}};c.prototype.Rec=function(){!1;this.Ti?this.sI(this.Ti):(0,I.ova)(this.I)?this.YFb():this.Rt(G.W.drb,{Qb:"" + this.I});};c.prototype.YFb=function(){var N;!1;N=l.bL.jhb;N?N.ea?this.kpa():this.Rt(G.W.qKa,N):((0,E.Wa)(!v.config.I8),this.Kma());};c.prototype.kpa=function(){var N;N=this;!this.background && v.config.kpa?(0,y.fja)(function(){N.Kma();},this):this.Kma();};c.prototype.Kma=function(){var N;N=this;!1;this.state.value == S.ac.LOADING && (v.config.Vqa && !this.OP()?l.bL.Dx(y.fPa,function(Q){Q.ea?(N.Saa=Q.Saa,N.uYa()):N.Rt(G.W.pKa);},!0):this.uYa());};c.prototype.uYa=function(){var N,Q,V;N=this;if(this.state.value == S.ac.LOADING){this.log.info("Authorizing",this);Q=this.Da.Tb().fa(F.ma);this.Ne("ats");(0,E.qO)(this.I);(0,E.qO)(this.gl);V=this.e6b.bind(this,Q);Promise.all([this.ja,v.config.Pt && this.ck.t$(this.I)?this.ck.E9(this.I).catch(function(){}):void 0]).then(function(ba){var qa,La;qa=na(ba);ba=qa.next().value;qa=qa.next().value;ba && qa?La=qa.ab.expiration > ba.ab.expiration?qa:ba:ba?La=ba:qa && (La=qa);La && 18E5 > La.ab.expiration - (0,Ga.J7)() && (La=void 0);return La?(N.mI=La === ba?"ui":"videopreparer",La):N.o0();}).then(function(ba){try{N.dda(ba);V(q.Pg);N.Ndb || (N.Ndb=!0,N.zya.Bq(N));}catch(qa){N.log.error("Exception processing authorization response",qa);V({ea:!1,xa:G.T.Etb});}}).catch(V);}};c.prototype.e6b=function(N,Q){var V,ba;V=this;!1;if(this.state.value == S.ac.LOADING){this.Ne("at");ba=this.ja;this.xB({pr_ats:ba && (0,I.pd)(ba.zK)?ba.zK:N,pr_at:ba && (0,I.pd)(ba.kR)?ba.kR:this.Da.Tb().fa(F.ma)});Q.ea?0 < this.Qc.Fg.length && this.Qc.EW && this.Qc.o8 && this.Qc.GW?this.aeb?(this.log.info("Processing post-authorize",this),this.aeb(this,function(qa){qa.ea?V.Rkb():V.Rt(G.W.krb,qa);})):this.Rkb():this.Rt(G.W.ILa,this.Dwa(this.Qc)):this.Rt(G.W.UL,Q);}};c.prototype.Rkb=function(){var N,Q;m.__awaiter(this,void 0,void 0,function ba(){var qa;qa=this;return Fa(ba,function(La){!1;if(qa.state.value != S.ac.LOADING)return La.return();(null === (N=qa.ka.ja) || void 0 === N?0:N.ab.xo) && qa.tb.reset((0,Ba.LA)(null === (Q=qa.ka.ja) || void 0 === Q?void 0:Q.ab.xo,{config:v.config}));qa.Ha=qa.Bna(qa.tb,qa);qa.Ha.Q$b({nr:f.nr,config:v.config,Ge:qa.Ge,dd:qa.dd,$v:qa.$v.bind(qa),Vj:D.Vj,r0:qa.r0.bind(qa),JK:qa.JK.bind(qa)});qa.d5b();La.yF=0;});});};c.prototype.lKb=function(){var N,Q,V,ba,qa,La,Oa;N=this;!1;try{if(this.state.value === S.ac.LOADING){this.Ub.open();Q=new Promise(function(Ta){N.Ub.addEventListener(J.uk.wib,Ta);});this.Ff=new R.yMa(this);V=this.Qc.EW.Bi === fa.Tq.NONE;ba={mG:this.Qc.EW.Kr || V};qa={da:this.da,fp:this.Wf,dB:this.dB};try{if(this.state.value !== S.ac.LOADING)return;La=this.Ha;La.$$({flags:ba,Qx:qa,V:this.Wdb,Ppa:this.Ppa.bind(this)});Oa=this.tb.b$(this);this.p0a(Oa);La.Iw(Oa);this.RBb();La.cEb({Vk:this.Vk,loadTime:this.loadTime});this.Gk=this.Rma(La,this);this.Gk.Vu.addListener(function(Ta){Ta.newValue?(N.mp.lVb(),v.config.Pt && N.wd.V6a()):N.mp.pac();});this.Gk.addEventListener(S.V1.I6,function(){N.wd.V6a();});}catch(Ta){throw (this.log.error("Failed to initialize ASE streaming",{error:Ta,startPts:this.ba,flags:ba}),Ta);}Q.then(function(){var Ta;N.state.value !== S.ac.CLOSING && N.state.value !== S.ac.CLOSED && (null === (Ta=N.Ha) || void 0 === Ta?void 0:Ta.open());});this.mediaTime.set(this.ba);this.mp=new n.nSa(this);if("boolean" === typeof this.fb.xda?this.fb.xda:v.config.xda)this.Z0=new B.oSa(this);this.LR();y.hja.forEach(function(Ta){Ta(N);});this.v1b();}}catch(Ta){this.Rt(G.W.irb,{xa:G.T.Im,Qb:(0,L.cf)(Ta)});}};c.prototype.w1b=function(){(0,E.Wa)(this.state.value == S.ac.$L);this.loadTime=this.Da.Tb().fa(F.ma);this.state.set(S.ac.LOADING);};c.prototype.Rt=function(N,Q){this.done || (this.done=!0,Q instanceof T.gd?this.Sd(Q.code,Q):this.Sd(N,Q));};c.prototype.eW=function(N){var V,ba;function Q(){var qa,La;qa=h.Ix.tsa() + "";La=N.Xna[qa];La || (La=N.Xna[qa]=[]);La.push(V.Da.Tb().fa(F.ma));V.log.trace("charging change event",{level:h.Ix.C5a(),charging:h.Ix.tsa()});}V=this;ba=h.Ix.gob;h.Ix.addEventListener(ba,Q);N.addEventListener(S.ia.Xg,function(){h.Ix.removeEventListener(ba,Q);});};c.prototype.cCa=function(N){var Q,V;Q=this;if(this.state.value == S.ac.$L || this.state.value == S.ac.LOADING || this.state.value == S.ac.He){this.dd.info("Playback closing",this,N?{ErrorCode:N.w8}:void 0);this.$H("Closing");x.kf.removeListener(x.Qo,this.wcb);this.Ti=N;this.ka.rW=this.ME();this.y3a();(null === (V=this.Ha) || void 0 === V?0:V.Ii) && this.Ha.flush();try{this.Lb.Rc(S.ia.Xg,{movieId:this.rE});}catch(ba){this.dd.error("Unable to fire playback closing event",ba);}this.state.set(S.ac.CLOSING);this.Lmb();this.nac || (0,K.jg)(function(){return Q.wfb();});}};c.prototype.tPb=function(){this.Lb.Rc(S.ia.Lkb);};c.prototype.z3a=function(){var N;N=this.mediaTime.value;this.GYb != N && (!1,this.GYb=N,this.Lb.Rc(S.ia.OCa));};c.prototype.wfb=function(){var N,Q;N=this;(0,E.Wa)(this.state.value == S.ac.CLOSING);Q=this.Saa;this.Saa=void 0;Q?l.bL.release(Q,function(V){(0,E.Wa)(V.ea);N.rpa();}):this.rpa();};c.prototype.Lmb=function(){var N;null === (N=this.Ha) || void 0 === N?void 0:N.Zc();delete this.Ha;};c.prototype.rpa=function(){var N;this.rpa=q.dx;(0,E.Wa)(this.state.value == S.ac.CLOSING);N=y.Bp.indexOf(this);(0,E.Wa)(0 <= N);y.Bp.splice(N,1);this.state.set(S.ac.CLOSED);this.Lb.Rc(S.ia.closed,void 0,!0);this.Lb.ii();delete this.bf;this.ka.aca();};c.prototype.zna=function(){this.fb.playbackState && ("number" === typeof this.fb.playbackState.volume && this.volume.set((0,H.lD)(this.fb.playbackState.volume,0,1)),"boolean" === typeof this.fb.playbackState.muted && this.muted.set(this.fb.playbackState.muted),"number" === typeof this.fb.playbackState.playbackRate && this.playbackRate.set(this.fb.playbackState.playbackRate));};c.prototype.y3a=function(){this.Lb.Rc(S.ia.cib,{wfa:this.wfa});};c.prototype.r0=function(N,Q,V){Q=this.b7a(Q);N=this.Wj(N);Q && N.vc[V].set(Q);};c.prototype.$v=function(){return {AudioBufferLength:this.GV(),VideoBufferLength:this.u1()};};c.prototype.e7=function(){var N;if(null === (N=this.Ha) || void 0 === N?0:N.Ii)return this.Ha.aaa(!1);};c.prototype.v1b=function(){this.state.value == S.ac.LOADING && this.state.set(S.ac.He);};c.prototype.vJb=function(){var N,Q,V;N=void 0 === N?this.I:N;Q=this.PE({L:N});V=this.No(N);return (0,sa.gv)(Q,function(ba){return V.jQ.vC(ba);});};c.prototype.Ppa=function(N){var Q,V;N=void 0 === N?this.I:N;Q=this.PE({L:N});V=this.No(N);return (0,sa.M6a)(Q,function(ba){return V.jQ.vC(ba);});};c.prototype.p0a=function(N){var Q;Q=this;Object.keys(N.M).filter(function(V){return !Q.Tr.has(N.M[V].L);}).forEach(function(V){var ba,qa,La;qa=N.M[V];La=qa.L;qa=Object.assign(null !== (ba=Q.il.uP(La).Eb) && void 0 !== ba?ba:{},{ba:qa.qa,Ma:qa.sa,Sh:!1,gS:Date.now(),saa:!0});Q.ana({L:La,V:V,fb:qa});});};Ua.Object.defineProperties(c.prototype,{NQ:{configurable:!0,enumerable:!0,get:function(){return this.Tr.values();}},ka:{configurable:!0,enumerable:!0,get:function(){return this.Tr.get(this.rE);}},ba:{configurable:!0,enumerable:!0,get:function(){var N,Q;return void 0 !== this.cv?this.cv:null !== (Q=null === (N=this.NQ.next()) || void 0 === N?void 0:N.value.fb.ba) && void 0 !== Q?Q:0;}},Qc:{configurable:!0,enumerable:!0,get:function(){return this.ka.Qc;},set:function(N){this.ka.Qc=N;}},l9:{configurable:!0,enumerable:!0,get:function(){return this.ka.fb.l9;}},m9:{configurable:!0,enumerable:!0,get:function(){return this.ka.fb.m9;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ka.index;}},V:{configurable:!0,enumerable:!0,get:function(){return this.ka.V;}},Wdb:{configurable:!0,enumerable:!0,get:function(){return this.tb.MDa?this.tb.Mh:this.ka.V;}},bf:{configurable:!0,enumerable:!0,get:function(){return this.ka.bf;},set:function(N){this.ka.bf=N;}},Yn:{configurable:!0,enumerable:!0,get:function(){return this.ka.Yn;},set:function(N){this.ka.Yn=N;}},mI:{configurable:!0,enumerable:!0,get:function(){return this.ka.mI;},set:function(N){this.ka.mI=N;}},lI:{configurable:!0,enumerable:!0,get:function(){return this.ka.lI;},set:function(N){this.ka.lI=N;}},Z$:{configurable:!0,enumerable:!0,get:function(){return this.ka.Z$;},set:function(N){this.ka.Z$=N;}},ja:{configurable:!0,enumerable:!0,get:function(){return this.ka.ja;},set:function(N){this.ka.ja=N;}},cv:{configurable:!0,enumerable:!0,get:function(){return this.ka.cv;},set:function(N){this.ka.cv=N;}},R0:{configurable:!0,enumerable:!0,get:function(){return this.ka.R0;},set:function(N){this.ka.R0=N;}},fb:{configurable:!0,enumerable:!0,get:function(){return this.ka.fb;},set:function(N){this.ka.fb=N;}},YP:{configurable:!0,enumerable:!0,get:function(){return this.ka.YP;},set:function(N){this.ka.YP=N;}},qm:{configurable:!0,enumerable:!0,get:function(){return this.ka.qm;}},I:{configurable:!0,enumerable:!0,get:function(){return this.ka.I;}},de:{configurable:!0,enumerable:!0,get:function(){return this.ka.de;}},pj:{configurable:!0,enumerable:!0,get:function(){return this.ka.pj;}},NC:{configurable:!0,enumerable:!0,get:function(){return this.ka.NC;}},GC:{configurable:!0,enumerable:!0,get:function(){return this.ka.GC;}},Ai:{configurable:!0,enumerable:!0,get:function(){return this.ka.Ai;}},zh:{configurable:!0,enumerable:!0,get:function(){return this.ka.zh;}},BJ:{configurable:!0,enumerable:!0,get:function(){return this.ka.BJ;}},rw:{configurable:!0,enumerable:!0,get:function(){return this.ka.rw;}},dm:{configurable:!0,enumerable:!0,get:function(){return this.ka.dm;}},Fg:{configurable:!0,enumerable:!0,get:function(){return this.ka.Fg;}},Nx:{configurable:!0,enumerable:!0,get:function(){return this.ka.Nx;},set:function(N){this.ka.Nx=N;}},da:{configurable:!0,enumerable:!0,get:function(){return this.ka.da;}},gl:{configurable:!0,enumerable:!0,get:function(){return this.ka.gl;}},yj:{configurable:!0,enumerable:!0,get:function(){return this.ka.yj;}},CB:{configurable:!0,enumerable:!0,get:function(){return this.ka.CB;},set:function(N){this.ka.CB=N;}},Wf:{configurable:!0,enumerable:!0,get:function(){return this.ka.Wf;}},PK:{configurable:!0,enumerable:!0,get:function(){return this.ka.PK;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ka.background;},set:function(N){this.ka.background=N;}},b8:{configurable:!0,enumerable:!0,get:function(){return this.ka.b8;}},qd:{configurable:!0,enumerable:!0,get:function(){return this.ka.qd;}},sr:{configurable:!0,enumerable:!0,get:function(){return this.ka.sr;}},Fqa:{configurable:!0,enumerable:!0,get:function(){return this.ka.Fqa;}},jQ:{configurable:!0,enumerable:!0,get:function(){return this.ka.jQ;}},dB:{configurable:!0,enumerable:!0,get:function(){return 0 !== v.config.A8 && 0 === this.ka.da % v.config.A8;}},u8:{configurable:!0,enumerable:!0,get:function(){return this.ka.u8;}},Et:{configurable:!0,enumerable:!0,get:function(){return this.ka.Et;}},yh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.I,TrackingId:this.gl,Xid:this.da};}},Tca:{configurable:!0,enumerable:!0,get:function(){return this.tb.Tca;}}});b.lPa=c;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.Pib=void 0;c=a(17);m=a(8);k=a(3);a(25);b.Pib=function(l){var d;(0,m.Vj)("Storage");d={};l({ea:!0,storage:{load:function(f,h){var g;if(d.hasOwnProperty(f)){g=d[f];!1;h({ea:!0,data:g,Bea:f});}else (!1,h({xa:k.T.qD}));},save:function(f,h,g,n){g && d.hasOwnProperty(f)?n({ea:!1}):(d[f]=h,!1,n && n({ea:!0,Bea:f}));},remove:function(f,h){delete d[f];!1;h && h(c.Pg);}}});};},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.Nib=void 0;c=a(8);m=a(94);k=a(31);l=a(554);b.Nib=function(d){c.Ba.get(m.TC).create().then(function(f){d({ea:!0,storage:new l.Tha(f,c.Ba.get(k.ci))});}).catch(function(f){d(f);});};},function(r,b){function a(c,m){this.Gx=c;this.Ge=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Tha=void 0;a.prototype.load=function(c,m){var k;k=this;this.Gx.load(c).then(function(l){m && m(a.kjb(l));}).catch(function(l){m && m(k.ara(c,l));});};a.prototype.save=function(c,m,k,l){var d;d=this;this.Gx.save(c,m,k).then(function(){l && l(a.kjb({key:c,value:m}));}).catch(function(f){l && l(d.ara(c,f));});};a.prototype.remove=function(c,m){var k;k=this;this.Gx.remove(c).then(function(){m && m({ea:!0,Bea:c});}).catch(function(l){m && m(k.ara(c,l));});};a.kjb=function(c){return {ea:!0,data:c.value,Bea:c.key};};a.prototype.ara=function(c,m){return {ea:!1,Bea:c,xa:m.xa,Qb:m.cause?this.Ge.cf(m.cause):void 0};};b.Tha=a;},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.Oib=void 0;c=a(554);m=a(8);k=a(484);l=a(31);b.Oib=function(d){d({ea:!0,storage:new c.Tha(m.Ba.get(k.lLa),m.Ba.get(l.ci))});};},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ix=void 0;c=a(17);m=a(18);r=a(3);k=a(8);l=a(13);d=a(36);f=a(15);h=a(69);g=a(5);a=k.Ba.get(d.hj);n=k.Ba.get(h.aH);a.register(r.W.bKa,function(p){var u,w;function q(){p(c.Pg);q=c.dx;}function t(x){if(!(x instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(y){if(!(0,f.ed)(x[y]))throw y + " is not a function";});}function v(){return Promise.resolve().then(function(){var x;x=l.Ue.getBattery();if(!(0,f.ed)(x.then))throw "getBattery did not return a promise";return x;});}u=(0,k.Vj)("BatteryManager");b.Ix={gob:"chargingchange",C5a:function(){return w?w.level:null;},tsa:function(){return w?w.charging:null;},addEventListener:function(x,y){w && w.addEventListener(x,y);},removeEventListener:function(x,y){w && w.removeEventListener(x,y);}};m.config.eW && (0,f.ed)(l.Ue.getBattery)?n.Yt((0,g.qc)(m.config.QQb),v()).then(function(x){t(x);w=x;}).catch(function(x){u.error("getBattery failed",x);}).then(q):q();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dLa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,m){var k;k=this;this.P5a=c;this.ucb=m;this.UCa=!1;this.EQ=function(){k.Eq=void 0;k.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.pSa=void 0;a.prototype.update=function(c){var m,k,l,d,f;l=this.P5a();if(this.jlb !== l){d=null === (k=null === (m=this.tq) || void 0 === m?void 0:m.fP(l)) || void 0 === k?void 0:k[0];if(d && ("startTime" in d))if(d.startTime <= l && l <= d.endTime){f=d;this.Xkb(d.endTime - l);}else this.Xkb(d.startTime - l);this.jlb=l;this.Nma !== f && (this.Nma=f,!c && this.ucb && this.ucb());}};a.prototype.start=function(){this.UCa=!0;this.update();};a.prototype.Ahb=function(c){this.tq=c;this.Nma=this.jlb=void 0;c || this.stop();};a.prototype.stop=function(){this.UCa=!1;this.gu();};a.prototype.wQb=function(){this.update(!0);return this.Nma;};a.prototype.Xkb=function(c){this.gu();this.UCa && 0 < c && (this.Eq=setTimeout(this.EQ,c + a.ssb));};a.prototype.gu=function(){this.Eq && (clearTimeout(this.Eq),this.Eq=void 0);};b.pSa=a;a.ssb=10;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.QJa=void 0;c=a(16);m=a(104);b.QJa=function(k){function l(d){k.fireEvent(c.ia.xE,{response:d,I:k.ka.I});}return {download:function(d,f){d.j=k;d=m.lf.download(d,f);d.J6(l);return d;}};};},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;c=a(18);m=a(59);k=a(3);l=a(561);d=a(13);f=a(15);h=a(16);g=a(8);n=a(219);b.xKa=function(p){var t,v,u,w;function q(){p.state.value !== h.ac.He || p.zb.value !== h.ib.Hh && p.zb.value !== h.ib.us?v.gu():v.MI();}t=c.config.b4b;if(!p.OP() && t){v=g.Ba.get(n.F4)(t,function(){p.fireEvent(h.ia.AP,k.W.c4);});p.zb.addListener(q);p.state.addListener(q);if(c.config.xua){u=(0,m.yo)();w=new l.yQa(c.config.xua,function(){var x,y;x=(0,m.yo)();y=x - u;y > t && (p.fireEvent(h.ia.AP,k.W.F3),w.a_a());y > 2 * c.config.xua && (p.yua=(0,d.zu)(y,p.yua || 0));u=x;});w.J$b();}p.addEventListener(h.ia.Xg,function(){v.gu();(0,f.pd)(w) && w.a_a();});}};},function(r,b){function a(c,m){this.TCa=c;this.ey=m;}Object.defineProperty(b,"__esModule",{value:!0});b.yQa=void 0;a.prototype.J$b=function(){this.z6 || (this.z6=setInterval(this.ey,this.TCa));};a.prototype.a_a=function(){this.z6 && (clearInterval(this.z6),this.z6=void 0);};b.yQa=a;},function(r,b,a){var m,k,l,d,f,h,g;function c(n){var p,q,t,v;p=this;this.j=n;this.uW=void 0;this.Xka=(0,l.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Kka=(0,l.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Bka=(0,l.createElement)("DIV","width:100%;text-align:center");this.Dvb=this.Mka("Audio Bitrate");this.Ema=this.Mka("Video Bitrate");this.Eka=this.Mka("CDN");this.PU={};this.hY=d.Ba.get(f.xp);this.Xka.appendChild(this.Kka);this.Kka.appendChild(this.Bka);q=(0,l.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.xvb.bind(this),!1);this.Bka.appendChild(q);q=(0,l.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Yzb.bind(this),!1);this.Bka.appendChild(q);t=this.fzb.bind(this);k.kf.addListener(k.SE,t);n.addEventListener(g.ia.IJ,function(){p.PU={};});n.addEventListener(g.ia.Xg,function(){k.kf.removeListener(k.SE,t);});v=this.Lzb.bind(this);n.vc.forEach(function(u){u.addListener(v);});n.yc.addListener(v);n.Ng.addListener(v);}Object.defineProperty(b,"__esModule",{value:!0});b.sPa=void 0;m=a(28);k=a(65);l=a(43);d=a(8);f=a(40);h=a(196);g=a(16);c.prototype.show=function(){this.nV || (this.bWa(),document.body.appendChild(this.Xka),this.nV=!0);};c.prototype.fy=function(){this.nV && (document.body.removeChild(this.Xka),this.nV=!1);};c.prototype.toggle=function(){this.nV?this.fy():this.show();};c.prototype.Nkb=function(){var q,t,v,u;function n(w,x,y){var z,A,B;A=[];x.filter(function(C){return C.Af === w;}).forEach(function(C){0 <= y.indexOf(C)?(void 0 === B?B=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(w,x,y){var z;z=[];x.filter(function(A){return A.Af === w;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}t=this.j.gv();v=this.j.PE().sort(function(w,x){return w.bitrate - x.bitrate;});u=v.reduce(function(w,x){0 > w.indexOf(x.Af) && w.push(x.Af);return w;},[]).map(function(w){return {profile:w,ranges:n(w,v,t),disallowed:p(w,v,t)};});!1;null === (q=this.j.Ha) || void 0 === q?void 0:q.gs(u,this.j.I);};c.prototype.xvb=function(){var q,t;this.PU={};for(var n=this.Ema.options,p=n.length;p--;){q=n[p];q.selected && (this.PU[q.value]=1);}this.uW=this.bwb.bind(this);this.Nkb();if(n=this.j.Fg){t=this.Eka.value;n=n.filter(function(v){return v.id == t;})[0];p=this.j.vc[m.Pb.cb.Jb].value;n && n != p && (n.BZa={testreason:"streammanager",selreason:"userselection"},this.j.vc[m.Pb.cb.Jb].set(n));}this.fy();};c.prototype.Yzb=function(){this.uW=void 0;this.j.Phb(this.j.I);this.fy();};c.prototype.bwb=function(){var n;n=this;return this.j.PE().filter(function(p){return n.PU[p.bitrate];});};c.prototype.bWa=function(){var n,p,q,t;n=this;p=this.j.yc.value;q=this.j.Ng.value;t=this.j.Fg;p && (t=t.slice(),t.sort(function(v,u){return v.$b - u.$b;}),this.qma(this.Dvb,p.streams.map(function(v){return {value:v.bitrate,caption:v.bitrate,selected:v == n.j.Kh.value};})));q && (this.qma(this.Ema,q.streams.map(function(v){var u,w;u=n.j.jQ.vC(v);v=v.bitrate;w="" + v;u && (w+=" (" + u.join("|") + ")");return {value:v,caption:w,selected:n.uW?n.PU[v]:!u};})),this.Ema.removeAttribute("disabled"));t && (this.qma(this.Eka,t.map(function(v){return {value:v.id,caption:"[" + v.id + "] " + v.name,selected:v == n.j.vc[m.Pb.cb.Jb].value};})),this.Eka.removeAttribute("disabled"));};c.prototype.Lzb=function(){this.nV && this.bWa();};c.prototype.Mka=function(n){var p,q;p=(0,l.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,l.createElement)("DIV",void 0,n);q=(0,l.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Kka.appendChild(p);return q;};c.prototype.qma=function(n,p){n.innerHTML="";p.forEach(function(q){var t;t={title:q.caption};q.selected && (t.selected="selected");t=(0,l.createElement)("option",void 0,q.caption,t);t.value=q.value;n.appendChild(t);});};c.prototype.fzb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.fD.bub && this.hY.vva && this.toggle();};b.sPa=c;},function(r,b,a){var m,k,l,d,f;function c(h,g){this.i9=h;this.JI={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,m.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.shb(g);this.Rra=this.k5a(this.i9);}Object.defineProperty(b,"__esModule",{value:!0});b.mSa=void 0;m=a(43);k=a(564);l=a(565);d=a(13);f=a(25);c.prototype.Lo=function(){return this.element;};c.prototype.X9b=function(h){this.AA=h;};c.prototype.h$b=function(h){this.entry=h;this.gR();};c.prototype.o$b=function(h){this.shb(h);this.gR();};c.prototype.gR=function(){var h,g,n,p,q,t,v,u,w,x,y,A,B,C;h=this;g=this.Lo();n=g.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;t=n=0;v={width:p,height:q};if(0 < p && 0 < q && this.entry){this.AA && (v=(0,m.h9)(p,q,this.AA),n=Math.round((p - v.width) / 2),t=Math.round((q - v.height) / 2));w=this.eFb(v);x=(0,m.h9)(w.width,w.height,this.AA);w=(u=this.entry.blocks) && u.map(function(D){var F;F=(0,l.Xqa)(D,x,h.i9,h.Rra);D=(0,l.K2a)(D) + ";position:absolute";return (0,m.createElement)("div",D,F,c.Iga);});}Object.assign(this.JI,{left:n + "px",right:n + "px",top:t + "px",bottom:t + "px"});g.style.display="none";g.style.direction=this.JI.direction;g.innerHTML="";if(w && w.length){p=v.width;n=v.height;y=v;this.XV && (y=this.fBb(v,this.XV,q,t));this.JI.margin=this.Ht?this.B7(v,"top") + "px " + this.B7(v,"right") + "px " + this.B7(v,"bottom") + "px " + this.B7(v,"left") + "px ":void 0;w.forEach(function(D){return g.appendChild(D);});q=(0,m.tW)(this.JI);g.style.cssText=q + ";visibility:hidden;z-index:-1";t=[];for(var z=w.length - 1;0 <= z;z--){A=w[z];B=u[z];C=this.Tbb(A,B,p,n);C.width > p && (A.innerHTML=(0,l.Xqa)(B,v,this.i9,this.Rra,p / C.width),C=this.Tbb(A,B,p,n));t[z]=C;}t=(0,k.Fkb)(t,y);if(z=u && u[0] && u[0].textNodes && u[0].textNodes[0] && u[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (A=Math.round(n / 50),v=(0,l.M2a)(u,t,A,y,v),v=(0,m.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,v,c.Iga),g.insertBefore(v,g.firstChild)));g.style.display="none";for(v=t.length - 1;0 <= v;v--){z=t[v];y=w[v].style;A=u[v].region;z=(0,l.L2a)(A,z,p,n,0);Object.assign(y,z);}g.style.cssText=q;}};c.prototype.DBa=function(h){this.XV=h;this.gR();};c.prototype.Ita=function(){return this.XV;};c.prototype.EBa=function(h){this.Ht=h;this.gR();};c.prototype.Jta=function(){return this.Ht;};c.prototype.Kta=function(){return "block" === this.JI.display;};c.prototype.FBa=function(h){var g;g=h?"block":"none";this.element.style.display=g;this.JI.display=g;h && this.gR();};c.prototype.Qdc=function(h){this.i9=h;this.Rra=this.k5a(h);};c.prototype.k5a=function(h){var g,n;g=this;n={};(0,f.$g)(h,function(p,q){n[p]=g.R_b(q);});return n;};c.prototype.shb=function(h){this.JI.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.B7=function(h,g){if(this.Ht){if("left" === g || "right" === g)return h.width * (this.Ht[g] || 0);if("top" === g || "bottom" === g)return h.height * (this.Ht[g] || 0);}return 0;};c.prototype.eFb=function(h){return this.Ht?{height:h.height * (1 - (this.Ht.top || 0) - (this.Ht.bottom || 0)),width:h.width * (1 - (this.Ht.left || 0) - (this.Ht.right || 0))}:h;};c.prototype.R_b=function(h){var g;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,m.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Iga);d.Gh.body.appendChild(h);g={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.Gh.body.removeChild(h);return g;};c.prototype.Tbb=function(h,g,n,p){var q,t,v,u,w;q=g.region;t=(q.marginTop || 0) * p;v=(q.marginBottom || 0) * p;u=(q.marginLeft || 0) * n;w=(q.marginRight || 0) * n;g=h.clientWidth || 1;h=h.clientHeight || 1;switch(q.verticalAlignment){case "top":p=t;break;case "center":p=(t + p - v - h) / 2;break;default:p=p - v - h;}switch(q.horizontalAlignment){case "left":n=u;break;case "right":n=n - w - g;break;default:n=(u + n - w - g) / 2;}return {top:p,left:n,width:g,height:h};};c.prototype.fBb=function(h,g,n,p){return {height:n - Math.max(p,g.bottom || 0) - Math.max(p,g.top || 0),width:h.width};};b.mSa=c;c.Iga={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Fkb=void 0;c=a(13);b.Fkb=function(m,k){function l(h,g,n){var v,w,x,y,z;if(h && 1 < h.length){for(var p=[],q=[],t=0;t < h.length;t++){p[t]=0;q[t]=0;}v=!1;for(t=0;t < h.length;t++){for(var u=t + 1;u < h.length;u++){w=h[t];x=h[u];if(0 > w.width || 0 > x.width || x.left > w.left + w.width || x.left + x.width < w.left || x.top > w.top + w.height?0:x.top + x.height >= w.top){y=(0,c.zu)(w.left,x.left);z=(0,c.zu)(w.top,x.top);y={width:(0,c.zu)((0,c.Ez)(w.left + w.width,x.left + x.width) - y,0),height:(0,c.zu)((0,c.Ez)(w.top + w.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,w=d(h[t]),x=d(h[u]),z && g || !z && !g))(y=(0,c.zu)(y.width / 2,.25),w.x <= x.x?(q[t]-=y,q[u]+=y):(q[u]-=y,q[t]+=y));else if(z && !g || !z && g)(w=(0,c.zu)(y.height / 2,.25),p[t]-=w,p[u]+=w);}}for(t=0;t < h.length;t++){if(-.25 > q[t] && 0 <= h[t].left + q[t] || .25 < q[t] && h[t].left + h[t].width + q[t] <= n.width)(h[t].left+=q[t],v=!0);if(-.25 > p[t] && 0 <= h[t].top + p[t] || .25 < p[t] && h[t].top + h[t].height + p[t] <= n.height)(h[t].top+=p[t],v=!0);}return v;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}m=m.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,g){h.forEach(function(n){0 > n.left && n.left + n.width < g.width?n.left+=(0,c.Ez)(-n.left,g.width - (n.left + n.width)):n.left + n.width > g.width && 0 < n.left && (n.left-=(0,c.Ez)(n.left + n.width - g.width,n.left));0 > n.top && n.top + n.height < g.height?n.top+=(0,c.Ez)(-n.top,g.height - (n.top + n.height)):n.top + n.height > g.height && 0 < n.top && (n.top-=(0,c.Ez)(n.top + n.height - g.height,n.top));});})(m,k);for(var f=0;50 > f && l(m,!0,k);f++){;}for(f=0;50 > f && l(m,!1,k);f++){;}return m;};},function(r,b,a){var f,h,g;function c(n,p,q,t,v){var u;u={};"right" == n.horizontalAlignment?u.right=100 * (q - p.left - p.width - v) / q + "%":u.left=100 * (p.left - v) / q + "%";"bottom" == n.verticalAlignment?u.bottom=100 * (t - p.top - p.height - v) / t + "%":u.top=100 * (p.top - v) / t + "%";return u;}function m(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function k(n,p,q,t,v){var u,w;u=n.style;w=(0,h.mua)(n.text);for(n=n.lineBreaks;n--;){w="<br />" + w;}return l(w,u,p,q,t,v);}function l(n,p,q,t,v,u){var w;w=p.characterStyle;v=v[w];w=0 <= w.indexOf("MONOSPACE")?m(v,p.cellResolution) || v.lineHeight:v.lineHeight;t=p.characterSize * t.height / (w || 1);t=0 < u?(0,g.WL)(t * u):(0,g.zp)(t);u={"font-size":t + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (u["font-style"]="italic");p.characterUnderline && (u["text-decoration"]="underline");p.characterColor && (u.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (u["background-color"]=d(p.backgroundColor,p.backgroundOpacity));t=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":u["text-shadow"]=t + " 0px 0px 7px";break;case "UNIFORM":u["text-shadow"]="-1px 0px " + t + ",0px 1px " + t + ",1px 0px " + t + ",0px -1px " + t;break;case "RAISED":u["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":u["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}u=(0,f.tW)(u);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (u+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + u + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.K2a=b.WNb=b.UNb=b.XNb=b.VNb=b.L2a=b.M2a=b.Xqa=void 0;f=a(43);h=a(25);g=a(13);b.Xqa=function(n,p,q,t,v){var u;u="";n.textNodes.forEach(function(w){u+=k(w,q,p,t,v);});n.region && n.region.multiRowAlignment && (u='<span style="display:inline-block;text-align:' + n.region.multiRowAlignment + '">' + u + "</span>");return u;};b.M2a=function(n,p,q,t,v){var u,w,y,z,A;u="";w=v.width;v=v.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;A="position:absolute;background:" + t + ";width:" + (0,g.zp)(y.width + 2 * q) + "px;height:" + (0,g.zp)(y.height + 2 * q) + "px;";y=c(z,y,w,v,q);(0,h.$g)(y,function(B,C){A+=B + ":" + C + ";";});u+='<div style="' + A + '"></div>';}return u;};b.L2a=c;b.VNb=m;b.XNb=k;b.UNb=l;b.WNb=d;b.K2a=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,f.tW)(p);};},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.gPa=void 0;c=a(17);m=a(18);k=a(59);l=a(91);d=a(13);f=a(58);h=a(15);g=a(16);b.gPa=function(n){var v,u,w,x,y,z;function p(){return n.state.value === g.ac.LOADING || n.state.value === g.ac.He && n.zb.value === g.ib.cg;}function q(){p()?z || (z=setInterval(t,100)):z && (clearInterval(z),z=void 0,(0,f.jg)(t));}function t(){var A,B,C,D,F,G,E,H;A=(0,k.yo)();B=v.value;C=B?B.progress:0;D=n.state.value == g.ac.LOADING || p() && A - u > m.config.DEb;if(D && n.state.value == g.ac.He){if(n.yf.value === g.Rf.UQa)(F=C,G=!0);else {E=A;w=w || A;x=x || w + m.config.s0b + 1;(0,h.Ka)(E) && (E=(0,d.zu)(E,x),F=(0,d.zp)(1E3 * (0,l.lD)((A - w) / (E - w),0,.99)) / 1E3);}if(F < C)if(C - F < m.config.n6b / 100)(F=C,y=void 0);else if(y){if(A - y > m.config.m6b){H=!0;y=void 0;}else F=C;}else (y=A,F=C);}else y=x=w=void 0;A=D?{fu:G,progress:F,o6b:H}:null;(!A || !v || !B || (0,h.Ka)(A.progress) && !(0,h.Ka)(B.progress) || (0,h.Ka)(A.progress) && (0,h.Ka)(B.progress) && .01 < (0,d.O3)(A.progress - B.progress) || A.fu !== B.fu) && v.set(A);}v=n.qoa;u=0;n.state.addListener(function(){q();t();},c.b4);n.zb.addListener(function(A){if(A.oldValue !== g.ib.cg || A.newValue !== g.ib.cg)u=(0,k.yo)();q();});n.yf.addListener(function(){q();});n.Ss.addListener(function(){q();});n.Wn.addListener(function(){q();});z || (z=setInterval(t,100));};},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K;function c(I){var R;R=this;this.j=I;this.Ub=this.j.Ub;this.log=(0,n.Ui)(this.j,"MediaPresenterASE");this.Qba=this.g8=0;this.$=this.Ub.$;this.vib=this.Hdb=this.ydb=this.uaa=this.Pya=!1;this.Oaa=new Set();this.$bc=n.Ba.get(C.lM)((0,B.qc)(z.v4));this.FN=void 0;this.ym=n.Ba.get(F.eRa)(this.j);this.gz={};this.Nab={};this.iY={};this.bh=new E.gMa(this.j,this.ym);this.Ybc=function(){var O,J,M;R.j.R0=(0,g.yo)();if(!R.Uk() && R.Qv){O=R.Ub.u6a();O || (R.m4b(),R.bh.vkb(R.mediaTime));R.j.paused.value || !R.bh.dqa(R.mediaTime) || !R.moa() || O || R.ym.raa?R.DAa():R.Pya || R.EAa();R.l4b();if(!R.Ub.u6a() && !R.uaa){O=R.Ub.GX(!0);J=R.j.zb.value;M=R.ZGb();J !== M && !1;M === x.ib.us?(R.mediaTime=R.j.Ot.fa(B.ma),R.DAa()):M !== x.ib.cg && R.$dc(O);R.alb();R.bh.Ooa(R.mediaTime);R.j.zb.set(M);M !== x.ib.cg || J !== x.ib.Dc && J !== x.ib.Hh || R.S2b();}}};this.Am=(0,G.Deb)(this.Ybc);this.mediaTime=I.ba;this.j.Ni=!1;this.Ub.addEventListener(A.uk.uib,function(){R.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");R.vib=!0;try{R.ta();}catch(O){R.log.error("Exception while initializing",O);R.Sd(p.W.ltb);}});this.Ub.addEventListener(A.uk.d$a,function(O){O=O.L;R.vib?R.zcb(O):R.Oaa.add(O);});}Object.defineProperty(b,"__esModule",{value:!0});b.yMa=void 0;m=a(28);k=a(17);l=a(18);d=a(64);f=a(65);h=a(43);g=a(59);n=a(8);a(101);p=a(3);q=a(351);t=a(23);v=a(91);u=a(25);w=a(58);x=a(16);y=a(15);z=a(173);A=a(305);B=a(5);C=a(111);D=a(219);F=a(568);G=a(1318);E=a(1319);H=a(61);L=a(217);K=a(13);c.prototype.a5a=function(){return this.Ub.GX(!1);};c.prototype.K9=function(){return this.Ub.K9();};c.prototype.nB=function(){return this.Ub.nB();};c.prototype.aJ=function(){return this.Ub.aJ();};c.prototype.EX=function(){return this.Ub.EX();};c.prototype.ta=function(){var I;I=this;this.log.trace("Video element initializing");this.Ub.sourceBuffers.forEach(function(R){return I.bh.E$b(R);});this.sWb(this.j.BJ);};c.prototype.sWb=function(I){var R,O;R=this;I?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.I}),null === (O=this.j.Ha) || void 0 === O?void 0:O.cB(this.j.I));0 < this.Oaa.size && setTimeout(function(){R.log.trace("Notifying about licenses that were added before source buffers created");Array.from(R.Oaa).forEach(function(J){R.Oaa.delete(J);R.zcb(J);});},0);this.log.trace("Waiting for loadedmetadata");(0,h.pXa)(this.$,"loadedmetadata",function(){R.log.trace("Video element event: loadedmetadata");R.j.Ne("md");});f.kf.addListener(f.Qo,this.iY[f.Qo]=function(){return R.close();},k.bM);this.j.addEventListener(x.ia.Xg,function(){return R.close();},k.bM);this.j.addEventListener(x.ia.Bgb,function(){return R.EAa();});this.j.addEventListener(x.ia.IJ,function(){return R.A2b();});this.j.paused.addListener(function(){return R.Am();});this.j.muted.addListener(function(){return R.BDa();});this.j.volume.addListener(function(){return R.BDa();});this.j.playbackRate.addListener(function(){return R.kfa();});this.j.Ss.addListener(function(){return R.Am();});this.j.Wn.addListener(function(){return R.Am();});this.BDa();this.kfa();this.bh.gea(function(){return R.nba();});this.nba();this.mdc();};c.prototype.zcb=function(I){var R;this.j.Ne("ld",I);null === (R=this.j.Ha) || void 0 === R?void 0:R.cB(I);this.j.fireEvent(x.ia.a$a);};c.prototype.X6=function(I){var R;R=this;!1;this.bh.ICb(I);this.FFb(I).then(function(){R.nba();R.j.fireEvent(x.ia.mba);}).catch(function(O){R.Sd(p.W.ptb,{Qb:(0,u.cf)(O)});});};c.prototype.una=function(I,R,O){O=void 0 === O?{}:O;R=this.OMb(I,R);this.bh.HCb(I,R,O);this.nba();this.ydb || I.type !== m.Pb.kl.Jb || (this.ym.raa || this.seek(this.j.ba,x.Ve.Az),this.ydb=!0);};c.prototype.mdc=function(){var I;I=this;this.Ub.addEventListener(A.uk.k0,this.gz[A.uk.k0]=function(){return I.W2b();});this.Ub.addEventListener(A.uk.yr,this.gz[A.uk.yr]=function(){return I.fca();});this.$.addEventListener("ended",this.gz.ended=function(){return I.u2b();});this.$.addEventListener("play",this.gz.play=function(){return I.J2b();});this.$.addEventListener("pause",this.gz.pause=function(){return I.H2b();});this.$.addEventListener("playing",this.gz.playing=function(){return I.P2b();});this.Qv=!0;this.bh.vkb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Ne("vi");l.config.n1a?setTimeout(function(){I.Txa=!0;I.Am();},l.config.n1a):this.Txa=!0;this.Qac();(0,w.jg)(function(){return I.Am();});};c.prototype.Qac=function(){var O;function I(){var J;O.j.zb.value !== x.ib.Dc || 0 !== (null === (J=O.j.Ff) || void 0 === J?void 0:J.K9()) || K.Gh.hidden?(O.Sbb.gu(),J="stopTimer"):(O.Sbb.MI(),J="ensureTimer");O.log.trace("No render timer update: " + J,{presentingState:x.ib[O.j.zb.value],hidden:K.Gh.hidden});}function R(J){var M,P;J=void 0 === J?!0:J;M=O.j.Ha;P=(null === M || void 0 === M?void 0:M.Ii) && M.A$();O.j.zb.value == x.ib.cg && O.j.state.value == x.ac.He && O.j.Ss.value == x.Rf.He && O.j.Wn.value == x.Rf.He && !O.j.Ni && P?(J && O.i8.gu(),O.i8.MI(),M="ensureTimer"):(O.i8.gu(),M="stopTimer");O.log.trace("Timer update: " + M,{presentingState:x.ib[O.j.zb.value],playbackState:x.ac[O.j.state.value],avBufferingState:x.Rf[O.j.Ss.value],textBufferingState:x.Rf[O.j.Wn.value],autoplayWasBlocked:O.j.Ni,hasLicense:P,restartTimer:J});}O=this;l.config.$0a && ((0,t.Wa)(!this.i8),this.i8=n.Ba.get(D.F4)(l.config.$0a,function(){var J;J=n.Ba.get(q.Uga).x1a(O.j);O.Sd(J.code,J);}),this.j.zb.addListener(function(){return R();}),this.j.Ss.addListener(function(){return R();}),this.j.Wn.addListener(function(){return R();}),this.j.state.addListener(function(){return R();}),this.j.addEventListener(x.ia.a$a,function(){return R();}),this.j.addEventListener(x.ia.Ni,function(){return R();}),this.j.addEventListener(x.ia.Nna,function(){return R();}),this.j.addEventListener(x.ia.xK,function(){return R(!0);}),R());l.config.Rbb && (this.Sbb=n.Ba.get(D.F4)(l.config.Rbb,function(){var J;0 === (null === (J=O.j.Ff) || void 0 === J?void 0:J.nB()) && (J=n.Ba.get(q.Uga).x1a(O.j),O.Sd(J.code,J));O.j.zb.removeListener(I);f.kf.removeListener(f.pt,O.iY[f.pt]);}),this.j.zb.addListener(I),f.kf.addListener(f.pt,this.iY[f.pt]=I),I());};c.prototype.OMb=function(I,R){var O;O=this.j.bf;(O=(0,L.Yua)(O)?O.hP():void 0) && I.type === m.Pb.kl.Jb && ((I=new H.Oha(this.log,{mediaType:H.eo.Jb,url:"http://some-url"},R).Ea(O))?R=I:!1);return R;};c.prototype.nba=function(){this.Qv && this.Am();this.bh.KZa();};c.prototype.Yac=function(){!1;this.j.zb.set(x.ib.cg);this.uaa=!0;this.Am();};c.prototype.WGb=function(){var I;I=this;this.uaa && (!1,this.uaa=!1,(0,w.jg)(function(){return I.H1b();}));};c.prototype.C9=function(){return this.bh.C9();};c.prototype.H1b=function(){var I,R;I=this.j.ME() || 0;if(this.j.fb.Sh){if(l.config.oEb){I=I - (this.Ub.ZAa + 1) - l.config.YAa;R=this.j.Ha.Tk().$c;I=Math.max(I,R);}}else (I-=l.config.u9b,I=Math.max(I,this.ym.Ova));this.seek(I,x.Ve.D4);};c.prototype.KZ=function(I){var R;R=this;this.bh.G$b(I);(0,w.jg)(function(){return R.Am();});};c.prototype.aSb=function(){return {g8:this.g8,Qba:this.Qba};};c.prototype.FFb=function(I){var R;R=this.Ub && this.Ub.O5a();(0,t.Wa)(this.j.Ot,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Ot && R && Infinity !== I.Ogb && (I=I.Ogb + I.tw,I > this.j.Ot.feb(B.ma) && (this.j.Ot=(0,B.qc)(I)));return Promise.resolve();};c.prototype.l4b=function(){var I;I=this;this.ym.Dca && (!1,this.moa() && this.bh.dqa(this.mediaTime) && (this.Ub.seek(this.mediaTime),this.ym.Dca=!1,(0,w.jg)(function(){return I.Am();})));};c.prototype.$dc=function(I){var R;if(I < this.mediaTime){R=this.mediaTime - I;l.config.n4b && I && R > z.v4 && (I={ElementTime:(0,v.Jj)(I),MediaTime:(0,v.Jj)(this.mediaTime)},R > z.uQa?this.Sd(p.W.ztb,{Qb:Object.assign({Trace:this.Ub.OE()},I)}):this.log.warn("VIDEO.currentTime became smaller",I));}else this.mediaTime=(0,v.lD)(I,0,this.j.Ot.fa(B.ma));};c.prototype.moa=function(){return this.j.Ss.value === x.Rf.He && this.j.Wn.value === x.Rf.He;};c.prototype.ZGb=function(){var I,R,O;I=this;R=this.j.zb.value;O=R;this.ym.raa?O=x.ib.cg:this.$ && this.$.ended?R === x.ib.Dc && (O=x.ib.us):this.moa() && this.bh.dqa(this.mediaTime)?this.Ub.PLb()?O=this.$ && this.$.paused?x.ib.Hh:x.ib.Dc:this.$bc.xm(function(){return I.Zbc();}):O=this.j.Ot?this.j.c7a(this.mediaTime,this.bh.f8())?x.ib.cg:x.ib.us:x.ib.cg;return O;};c.prototype.S2b=function(){var I;if(this.j.zb.value === x.ib.cg){I=this.bh.Gcc() > this.bh.f8();this.j.Wn.value !== x.Rf.He?this.j.nj.value?(this.j.fireEvent(x.ia.FA,{cause:d.dPa}),this.log.warn("rebuffer due to timed text",this.j.nj.value.yh)):this.j.fireEvent(x.ia.WR):I?(this.g8++,this.j.fireEvent(x.ia.FA,{cause:d.cja})):(this.Qba++,this.j.fireEvent(x.ia.FA,{cause:d.dja}));}};c.prototype.Zbc=function(){this.Uk() || (l.config.L1b && this.bh.K1b(),this.Am());};c.prototype.W2b=function(){this.Am();};c.prototype.fca=function(){this.Am();this.j.fireEvent(x.ia.yr);};c.prototype.u2b=function(){this.log.trace("Video element event: ended");this.Am();};c.prototype.J2b=function(){this.log.trace("Video element event: play");this.Am();};c.prototype.H2b=function(){this.log.trace("Video element event: pause");this.Am();};c.prototype.P2b=function(){this.log.trace("Video element event: playing");this.Am();};c.prototype.BDa=function(){this.Uk() || (this.$ && this.$.volume !== this.j.volume.value && (this.$.volume=this.j.volume.value),this.$ && this.$.muted !== this.j.muted.value && (this.$.muted=this.j.muted.value));};c.prototype.kfa=function(){!this.Uk() && this.$ && (this.$.playbackRate=this.j.playbackRate.value);};c.prototype.EAa=function(){var I;I=this;this.Uk() || !(0,y.pd)(this.$) || this.$.ended || !this.Txa || !this.nS && void 0 !== this.nS || (this.log.trace("Calling play on element"),Promise.resolve(this.$.play()).then(function(){I.closed || (I.nS=!1,I.Pya=!1,I.$.style.display=null,I.j.Ni=!1,I.j.fireEvent(x.ia.Nna));}).catch(function(R){"NotAllowedError" === R.name?(I.log.warn("Playback is blocked by the browser settings",R),I.j.Ni=!0,I.closed || (I.Pya=!0,I.$.style.display="none",I.j.fireEvent(x.ia.Ni,{player:{play:function(){return I.EAa();}}}))):I.closed || (I.nS=!1,I.Hdb || (I.Hdb=!0,I.log.error("Play promise rejected",R)));}));};c.prototype.A2b=function(){this.ym.Ova=this.j.ME() || 0;};c.prototype.DAa=function(){this.Uk() || !(0,y.pd)(this.$) || this.$.ended || !this.Txa || this.nS && void 0 !== this.nS || (this.log.trace("Calling pause on element"),this.$.pause(),this.nS=!0);};c.prototype.alb=function(I){this.j.mediaTime.set(this.mediaTime);I && this.j.FPb();};c.prototype.seek=function(I,R,O,J){var M,P;O=void 0 === O?this.j.V:O;J=void 0 === J?!1:J;P=null === (M=this.j.Ha) || void 0 === M?void 0:M.Ii;!this.Uk() && P && (this.j.fireEvent(x.ia.xK,{cause:R}),this.ym.i_={time:I,cause:R,V:O,MPb:J},this.j.zb.set(x.ib.cg),this.Am());};c.prototype.m4b=function(){var I,R,O,J,M,P,S,T;if(this.ym.i_){I=this.ym.i_;R=I.time;O=I.cause;J=I.V;M=I.MPb;if(!this.bh.ji() || O === x.Ve.Az){I=this.j.Wj(J).I;P=this.bh.ji()?void 0:this.bh.VQb();P=this.ym.GSb(R,O,J,M,P);J=P.Tba;M=P.Lk;S=P.P4b;P=P.Wg;this.bh.Ooa(this.mediaTime);T=this.mediaTime;R=(0,v.Jj)(R);this.j.$H("SEEKING: Requested: (" + I + ":" + O + ":" + R + ") - Actual: (contentPts: " + M + ",playerPts: " + (S + ", newMediaTime: " + J + ")"));this.log.info("Seeking",{Requested:R,Actual:(0,v.Jj)(J),Cause:O,Skip:P});O === x.Ve.Az || P || (this.bh.egb(),this.bh.A$b());this.mediaTime=J;this.ym.Ova=M;R=this.j.Of.value;S=this.j.De.value;this.j.Of.set(null);this.j.De.set(null);this.alb(!0);this.ym.i_=void 0;this.ym.Dca=!0;this.j.fireEvent(x.ia.Zk,{Uxa:T,Tba:J,Lk:M,cause:O,skip:P,Of:R,De:S,I:I});P && this.bh.skip(J);}}};c.prototype.Sd=function(I,R,O){this.closed || this.j.Sd(I,R,O);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.bh.close();this.Ub.removeEventListener(A.uk.k0,this.Nab[A.uk.k0]);this.Ub.removeEventListener(A.uk.yr,this.Nab[A.uk.yr]);this.$.removeEventListener("ended",this.gz.ended);this.$.removeEventListener("play",this.gz.play);this.$.removeEventListener("pause",this.gz.pause);this.$.removeEventListener("playing",this.gz.playing);f.kf.removeListener(f.Qo,this.iY[f.Qo]);f.kf.removeListener(f.pt,this.iY[f.pt]);this.closed=!0;try{this.$.volume=0;this.$.muted=!0;this.DAa();this.Ub.close();}catch(I){}this.$=void 0;this.bh.egb();}};c.prototype.Uk=function(){return this.closed?!0:(0,y.pd)(this.$)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.yMa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eRa="SeekManagerFactorySymbol";},function(r,b,a){var c,m,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.CIa=void 0;c=a(18);m=a(65);k=a(25);l=a(3);d=a(16);b.CIa=function(f,h,g){function n(q){var t,v;t=q.error || q;v=(0,k.cf)(t);g.error("uncaught exception",t,v);(t=(t=t && t.stack) && c.config.Hkb && c.config.Adc?0 <= t.indexOf(c.config.Hkb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.Sd(l.W.HSa));}function p(){m.kf.removeListener(m.o$,n);f.removeEventListener(d.ia.Xg,p);f.removeEventListener(d.ia.iw,p);}try{m.kf.addListener(m.o$,n);f.addEventListener(d.ia.Xg,p);c.config.TVb && f.addEventListener(d.ia.iw,p);}catch(q){g.error("exception in exception handler ",q);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lja="PlayedSegmentsTrackerFactorySymbol";},function(r,b,a){var c,m,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.L$a=void 0;c=a(18);m=a(17);k=a(59);r=a(3);l=a(13);d=a(15);f=a(8);a=a(36);f.Ba.get(a.hj).register(r.W.fKa,function(h){var p,q,t,v,u;function g(){return (0,l.WL)((0,k.yo)() / t);}function n(){var w;w=g();if(w != u){for(var x=(0,l.Ez)(w - u,30);x--;){v.push(0);}(x=(0,l.zu)(v.length - 31,0)) && v.splice(0,x);u=w;}v[v.length - 1]++;}p=c.config.OZb;q=-6 / (p - 2 - 2);t=m.yu;v=[];u=g();(0,d.ova)(p) && (setInterval(n,1E3 / p),b.L$a={VRb:function(){var y;for(var w=[],x=v.length - 1;x--;){y=v[x];w.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,l.zp)((y - 2) * q + 7));}return w;}});h(m.Pg);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ija="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uha={tub:"START_SLATE",Grb:"LIVE_EVENT",gqb:"END_SLATE"};b.iLa="LivePlaybackManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wOa="PboManifestRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aOa="PboBindCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Laa=void 0;b.Laa=function(a,c,m){var k;if(m.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");k=m.get;m.get=function(){var l,d;l=k.apply(this,arguments);d={enumerable:m.enumerable,value:l};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return l;};};},function(r,b,a){var m,k,l,d,f;function c(h,g){this.Ub=h;this.j=g;this.YY=[];}Object.defineProperty(b,"__esModule",{value:!0});b.JS=void 0;r=a(0);m=a(3);k=a(1);l=a(15);d=a(25);f=a(8);c.prototype.f9=function(h){this.YY.forEach(function(g){return g(h);});};c.prototype.Sd=function(h,g,n){this.j.Sd(h,g,n);};c.prototype.JBb=function(h){-1 === this.YY.indexOf(h) && this.YY.push(h);};c.prototype.M7b=function(h){h=this.YY.indexOf(h);0 <= h && this.YY.splice(h,1);};c.prototype.L6a=function(h){var g,n;g={};(0,l.pd)(h.code)?g.xa=(0,m.zIa)(h.code):g.xa=m.T.Im;try{n=h.message.match(/\((\d*)\)/)[1];g.Kf=(0,f.Wna)(n,4);}catch(p){}g.Qb=(0,d.cf)(h);return g;};a=c;a=r.__decorate([(0,k.Y)()],a);b.JS=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TPa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XPa="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aLa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var m;function c(k,l,d,f,h){var g;g=this;this.tb=k;this.il=l;this.zw=d;this.Lb=f;this.Kn=h;this.Yca=new Map();this.S$b();this.Lb.addListener(m.Ja.loaded,function(){return g.leb();});}Object.defineProperty(b,"__esModule",{value:!0});b.QG=void 0;m=a(16);c.prototype.sXa=function(k){var l,d;l=this;d=Object.keys(this.tb.Ll.M).find(function(f){return l.tb.Ll.M[f].L === k.I;});k.id || (k.id=null !== d && void 0 !== d?d:this.Kn.mt(k.I));d || (this.tb.Ll=this.Kn.KCb(this.tb.Ll,k));d=this.oK(k.id);k.bk && this.tb.fec(k.id,k.bk);return d;};c.prototype.zkb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Qta=function(k,l){var d;d=this;l=void 0 === l?{}:l;return this.zw.transition(k,l).then(function(){d.tb.Mh=k;});};c.prototype.close=function(k){return this.zw.close(k);};c.prototype.isReady=function(){return this.zw.mTb();};c.prototype.Lo=function(){return this.zw.Lo();};c.prototype.iJ=function(){return this.zw.iJ();};c.prototype.oK=function(k){this.Yca.has(k) || this.Yca.set(k,this.zw.hg(this.CEb(k)));return this.Yca.get(k);};c.prototype.S$b=function(){var k;k=this;this.zw.addListener(m.ZG.m0,function(){return k.Lb.Rc(m.ZG.m0);});Object.values(m.Ja).forEach(function(l){k.zw.addListener(l,function(d){return k.Lb.Rc(l,d);});});};c.prototype.yy=function(){this.leb();};c.prototype.dya=function(k){this.zw.dec({id:k,I:this.tb.ze(k).L,bk:this.tb.FTb(k)});};c.prototype.$J=function(){};c.prototype.leb=function(){var k,l;if(this.isReady()){k=this.tb.Mh;l=this.tb.VX(k);l && !this.Yca.has(l) && (this.dya(k),this.oK(l));}};c.prototype.CEb=function(k){var l,d,f,h;d=this.tb.ze(k);f=this.il.uP(d.L);h=null === f || void 0 === f?void 0:f.Eb;f=null === f || void 0 === f?void 0:f.ja;return {id:k,I:d.L,ba:d.qa,bk:null !== (l=null === h || void 0 === h?void 0:h.bk) && void 0 !== l?l:d.sa,Eb:h,ja:f};};b.QG=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.jja=void 0;a.prototype.Ewa=function(c){c=void 0 === c?{}:c;return {gl:c.trackingId,n7:c.authParams,Qn:c.sessionParams,de:c.uiLabel,sfa:c.uxLabels,uqa:c.disableTrackStickiness,gS:c.uiPlayStartTime,l9:c.forceAudioTrackId,m9:c.forceTimedTextTrackId,Sh:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,LO:c.enableTrickPlay,dua:c.heartbeatCooldown,saa:c.isPlaygraph,Paa:c.loadImmediately || !1,Adb:c.pin,s_:c.preciseSeeking,ba:c.startPts,Ma:c.endPts,bk:c.logicalEnd,xda:c.renderTimedText,Y2a:c.extraManifestParams,Ena:c.assetId,wDb:c.audioLanguages,lcc:c.textLanguages,Rlb:c.videoLanguage,ep:c.packageId,t1a:c.desiredDownloadables,nAa:c.requestReference,gCb:c.additionalAudioAssets,kCb:c.additionalTextAssets};};b.jja=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SIa=void 0;b.SIa=function(a){var k,l,d,f;function c(){if(d)for(var h;h=k.pop();){h(f);}}function m(h){d=!0;f=h;c();}k=[];return function(h){k.push(h);l || (l=!0,a(m));c();};};},function(r,b,a){var m,k,l,d;function c(f){var h;(0,m.Vj)("MediaSourceASE").trace("Inside MediaSourceASE");h=f.SX();this.readyState=d.Sc.CLOSED;this.sourceBuffers=h.sourceBuffers;this.addSourceBuffer=function(g){return h.addSourceBuffer(g);};this.M6=function(g){return h.M6(g);};this.removeSourceBuffer=function(g){return h.removeSourceBuffer(g);};this.zr=function(g){return h.zr(g);};this.duration=void 0;this.readyState=d.Sc.OPEN;this.Oc=k.Ba.get(l.ci).SJ(d.Oc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.DMa=void 0;m=a(8);k=a(8);l=a(31);Object.defineProperty(c.prototype,"duration",{get:function(){return this.xk;},set:function(f){var h;this.xk=f || Infinity;h=Math.floor(1E3 * f) || Infinity;this.sourceBuffers.forEach(function(g){g.xk=h;});}});d={Sc:{CLOSED:0,OPEN:1,us:2,name:["CLOSED","OPEN","ENDED"]},Oc:{h_a:!0,ybb:!0,Obc:!0}};b.DMa=Object.assign(c,d);},function(r,b,a){var h,g,n,p,q,t,v,u;function c(w){return w.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function m(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function k(w,x,y){var z;if("string" === typeof w)return k.call(this,c(w),x,y);z=0;Object.keys(w).forEach(function(A){var B,C,D;B=q[A];C=w[A];if(B){if(D=t[A] || u[typeof h[B]])try{C=D(C);}catch(F){y && y.error("Failed to convert value '" + C + "' for config '" + A + "' : " + F.toString());return;}D=p[B];this[B]=C;p[B] !== D && (y && y.debug("Config changed for '" + A + "' from " + m(D) + " (" + typeof D + ") to " + m(C) + " (" + typeof C + ")"),++z);}else x?(B=(B=v[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,C]),v[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function l(){return Object.keys(q).reduce(function(w,x){var y,z;y=q[x];z=w[y];z?(z.push(x),w[y]=z.sort(function(A,B){return B.length - A.length;})):w[y]=[x];return w;},{});}function d(w,x){return w.hasOwnProperty(x)?m(w[x]):void 0;}function f(w,x){return "undefined" === typeof w?x:w;}b=a(86);a=a(1412).EventEmitter;h={};g=Object.create(h);n=Object.create(g);p=Object.create(n);q={};t={};v={};p.declare=function(w){Object.keys(w).forEach(function(x){var y,z,A,B;y=w[x];z=y[0];A=y[1];B=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof A && (A=A()),h[x]=A);q[C]=x;"function" === typeof B && (t[C]=B);if(D=v[C])(D.forEach(function(F){var G,E;G=F[0];E={};E[C]=F[1];k.call(G,E,!1);}),delete v[C]);});});return p;};u={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};p.set=k.bind(g);p.b_=k.bind(n);p.dump=function(w,x){var z,A,B,C;function y(){C && w && w.log("===========================================");}z=Object.keys(v).sort();A={};B=l();x=f(x,!0);Object.keys(q).sort().forEach(function(D){var F,G,E;D=q[D];if(!A[D]){A[D]=!0;F=d(g,D);G=d(n,D);if(x || "undefined" !== typeof F || "undefined" !== typeof G){E=B[D].join(",");E+=" = " + m(p[D]) + " (" + typeof p[D] + ") [";E+=f(G,"<unset>") + ",";E+=f(F,"<unset>") + ",";E+=d(h,D) + "]";C || (C=!0,w && w.log("Current config values"),y());w && w.log(E);}}});(x || z.length) && w && w.log("<undeclared> :",z);y();};p.hi=function(w){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});w && k.call(x,w);return x;};p.zdb=function(){var w;w=l();return Object.getOwnPropertyNames(g).reduce(function(x,y){x[w[y][0]]=g[y];return x;},{});};p.reset=function(){Object.keys(g).forEach(function(w){delete g[w];});};p.Hd={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var m;function c(k){for(var l="",d=0;d < k.length;d++){l+=k[d].L + "|";}return l;}m=a(312);r.exports={assert:function(k,l){if(!k)throw Error("PlayPredictionModel assertion failed" + (l?" : " + l:""));},qoc:function(k,l,d){Array.prototype.splice.apply(k,[l,0].concat(d));},kRb:function(k){for(var l=[],d=0;d < k.length;d++){if(k[d].context === m.oT.xob){l=k[d].list;break;}}return l;},SQb:function(k){for(var l=[],d=0;d < k.length;d++){if(k[d].context === m.oT.rnb){l=k[d].list;break;}}return l;},LLb:function(k,l){for(var d=0,f,h,g,n=0,p=k.length - 1;n < p;n++){f=c(k[n].list || []);g=!1;for(var q=0,t=l.length;q < t;q++){if((h=c(l[q].list || []),h == f)){g=!0;break;}}if(!1 === g){d=n;break;}}return d;},$1b:function(k,l,d){for(var f=[],h,g=0;g < Math.min(l,k.length);g++){h=k[g].list || [];f=f.concat(h.slice(0,d));}return f;},Z1b:function(k,l){for(var d=[],f,h=0;h < k.length && (f=k[h].list || [],f=f.slice(0,Math.min(f.length,l)),l-=f.length,d=d.concat(f),0 !== l);h++){;}return d;},Y1b:function(k,l,d){var f;l < k.length && 0 <= l && (k=k[l].list || [],d < k.length && (f=k[d]));return f;},u3a:function(k){for(var l={},d=k.length,f,h=0;h < d;h++){f=k[h].list || [];for(var g=0;g < f.length;g++){if(f[g].property === m.QL.IT || f[g].property === m.QL.TGa){l.al=h;l.en=g;break;}}}void 0 === l.al && void 0 === l.en && (l.al=0,l.en=0);return l;}};},function(r,b,a){var l;function c(d,f,h,g,n,p,q){this.t1=g;this.Dmb=d;this.Pbb=f;this.rxa=h;this.aYb=p;this.SF=q;this.split=n;}function m(){this.S={};this.S["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.S["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.S["3"]=new c("7","8","7","10","1.5",0,0);this.S["7"]=new c("15","16","15","9","4.5",0,0);this.S["15"]=new c("31","32","31","2","5.5",0,0);this.S["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.S["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.S["123"]=new c("123","124","123","0","0",1,.207298);this.S["124"]=new c("123","124","123","0","0",1,.49076);this.S["64"]=new c("125","126","125","4","40.5",0,0);this.S["125"]=new c("125","126","125","0","0",1,-.00157835);this.S["126"]=new c("125","126","125","0","0",1,.934205);this.S["32"]=new c("65","66","65","135","5.5",0,0);this.S["65"]=new c("127","128","128","4","1272.5",0,0);this.S["127"]=new c("127","128","128","0","0",1,-.510333);this.S["128"]=new c("127","128","128","0","0",1,.18363);this.S["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.S["129"]=new c("129","130","129","0","0",1,-.0464542);this.S["130"]=new c("129","130","129","0","0",1,.458833);this.S["16"]=new c("33","34","34","10","2.00001",0,0);this.S["33"]=new c("67","68","67","0","29.5",0,0);this.S["67"]=new c("131","132","131","2","39.5",0,0);this.S["131"]=new c("131","132","131","0","0",1,-.37577);this.S["132"]=new c("131","132","131","0","0",1,.512087);this.S["68"]=new c("133","134","134","140","1.5",0,0);this.S["133"]=new c("133","134","134","0","0",1,.321272);this.S["134"]=new c("133","134","134","0","0",1,-.675396);this.S["34"]=new c("69","70","70","2","24.5",0,0);this.S["69"]=new c("135","136","136","9","28.5",0,0);this.S["135"]=new c("135","136","136","0","0",1,-.0573845);this.S["136"]=new c("135","136","136","0","0",1,-.507455);this.S["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.S["137"]=new c("137","138","137","0","0",1,-.503909);this.S["138"]=new c("137","138","137","0","0",1,.450886);this.S["8"]=new c("17","18","17","4","44189.5",0,0);this.S["17"]=new c("35","36","35","2","21.5",0,0);this.S["35"]=new c("71","72","72","0","19.5",0,0);this.S["71"]=new c("139","140","140","9","2.5",0,0);this.S["139"]=new c("139","140","140","0","0",1,.00403497);this.S["140"]=new c("139","140","140","0","0",1,-.312656);this.S["72"]=new c("141","142","141","135","96",0,0);this.S["141"]=new c("141","142","141","0","0",1,-.465786);this.S["142"]=new c("141","142","141","0","0",1,.159633);this.S["36"]=new c("73","74","73","130","89.5",0,0);this.S["73"]=new c("143","144","144","10","4.5",0,0);this.S["143"]=new c("143","144","144","0","0",1,-.76265);this.S["144"]=new c("143","144","144","0","0",1,-.580804);this.S["74"]=new c("145","146","146","10","16.5",0,0);this.S["145"]=new c("145","146","146","0","0",1,.296357);this.S["146"]=new c("145","146","146","0","0",1,-.691659);this.S["18"]=new c("37","38","38","9","1.5",0,0);this.S["37"]=new c("37","38","38","0","0",1,.993951);this.S["38"]=new c("75","76","75","0","19",0,0);this.S["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.S["147"]=new c("147","148","147","0","0",1,-.346535);this.S["148"]=new c("147","148","147","0","0",1,-.995745);this.S["76"]=new c("147","148","147","0","0",1,-.99978);this.S["4"]=new c("9","10","9","5","4.5",0,0);this.S["9"]=new c("19","20","19","2","4.5",0,0);this.S["19"]=new c("39","40","39","140","7.5",0,0);this.S["39"]=new c("77","78","78","134","6.5",0,0);this.S["77"]=new c("149","150","150","7","11.5",0,0);this.S["149"]=new c("149","150","150","0","0",1,.729843);this.S["150"]=new c("149","150","150","0","0",1,.383857);this.S["78"]=new c("151","152","151","133","4.5",0,0);this.S["151"]=new c("151","152","151","0","0",1,.39017);this.S["152"]=new c("151","152","151","0","0",1,.0434342);this.S["40"]=new c("79","80","79","133","3.5",0,0);this.S["79"]=new c("153","154","154","8","4.5",0,0);this.S["153"]=new c("153","154","154","0","0",1,-.99536);this.S["154"]=new c("153","154","154","0","0",1,-.00943396);this.S["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.S["155"]=new c("155","156","155","0","0",1,.266272);this.S["156"]=new c("155","156","155","0","0",1,.959904);this.S["20"]=new c("41","42","42","10","65.5",0,0);this.S["41"]=new c("81","82","82","7","10.5",0,0);this.S["81"]=new c("157","158","158","2","37.5",0,0);this.S["157"]=new c("157","158","158","0","0",1,-.701873);this.S["158"]=new c("157","158","158","0","0",1,.224649);this.S["82"]=new c("159","160","159","133","9.5",0,0);this.S["159"]=new c("159","160","159","0","0",1,.0955181);this.S["160"]=new c("159","160","159","0","0",1,-.58962);this.S["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.S["83"]=new c("161","162","161","135","31",0,0);this.S["161"]=new c("161","162","161","0","0",1,-.229692);this.S["162"]=new c("161","162","161","0","0",1,.88595);this.S["84"]=new c("163","164","164","1","13.5",0,0);this.S["163"]=new c("163","164","164","0","0",1,-.992157);this.S["164"]=new c("163","164","164","0","0",1,.922159);this.S["10"]=new c("21","22","22","4","486",0,0);this.S["21"]=new c("43","44","44","133","4.5",0,0);this.S["43"]=new c("85","86","86","10","4.5",0,0);this.S["85"]=new c("165","166","166","4","158.5",0,0);this.S["165"]=new c("165","166","166","0","0",1,-.127778);this.S["166"]=new c("165","166","166","0","0",1,.955189);this.S["86"]=new c("165","166","166","0","0",1,-.994012);this.S["44"]=new c("87","88","88","1","3.5",0,0);this.S["87"]=new c("167","168","168","135","7",0,0);this.S["167"]=new c("167","168","168","0","0",1,-.997015);this.S["168"]=new c("167","168","168","0","0",1,.400821);this.S["88"]=new c("169","170","169","130","36",0,0);this.S["169"]=new c("169","170","169","0","0",1,-.898638);this.S["170"]=new c("169","170","169","0","0",1,.56129);this.S["22"]=new c("45","46","45","9","2.5",0,0);this.S["45"]=new c("89","90","90","9","1.5",0,0);this.S["89"]=new c("171","172","171","10","10.5",0,0);this.S["171"]=new c("171","172","171","0","0",1,.573986);this.S["172"]=new c("171","172","171","0","0",1,-.627266);this.S["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.S["173"]=new c("173","174","173","0","0",1,.925273);this.S["174"]=new c("173","174","173","0","0",1,-.994805);this.S["46"]=new c("91","92","91","136","5.5",0,0);this.S["91"]=new c("175","176","175","10","10.5",0,0);this.S["175"]=new c("175","176","175","0","0",1,.548352);this.S["176"]=new c("175","176","175","0","0",1,-.879195);this.S["92"]=new c("177","178","178","8","14.5",0,0);this.S["177"]=new c("177","178","178","0","0",1,.457305);this.S["178"]=new c("177","178","178","0","0",1,-.998992);this.S["2"]=new c("5","6","5","10","2.5",0,0);this.S["5"]=new c("11","12","11","9","4.5",0,0);this.S["11"]=new c("23","24","24","10","4.00001",0,0);this.S["23"]=new c("47","48","48","133","5.5",0,0);this.S["47"]=new c("93","94","93","3","13.5",0,0);this.S["93"]=new c("179","180","179","138","15.5",0,0);this.S["179"]=new c("179","180","179","0","0",1,.658398);this.S["180"]=new c("179","180","179","0","0",1,-.927007);this.S["94"]=new c("181","182","182","3","15.5",0,0);this.S["181"]=new c("181","182","182","0","0",1,-.111351);this.S["182"]=new c("181","182","182","0","0",1,-.99827);this.S["48"]=new c("95","96","95","7","167",0,0);this.S["95"]=new c("183","184","183","132","36.5",0,0);this.S["183"]=new c("183","184","183","0","0",1,.895161);this.S["184"]=new c("183","184","183","0","0",1,-.765217);this.S["96"]=new c("185","186","186","137","6.00001",0,0);this.S["185"]=new c("185","186","186","0","0",1,-.851095);this.S["186"]=new c("185","186","186","0","0",1,.674286);this.S["24"]=new c("49","50","49","137","5.5",0,0);this.S["49"]=new c("97","98","97","5","23.5",0,0);this.S["97"]=new c("187","188","187","3","28.5",0,0);this.S["187"]=new c("187","188","187","0","0",1,.951654);this.S["188"]=new c("187","188","187","0","0",1,-.993808);this.S["98"]=new c("187","188","187","0","0",1,-.99705);this.S["50"]=new c("187","188","187","0","0",1,-.997525);this.S["12"]=new c("25","26","25","8","8.5",0,0);this.S["25"]=new c("51","52","52","10","4.00001",0,0);this.S["51"]=new c("99","100","100","133","5.5",0,0);this.S["99"]=new c("189","190","190","7","40.5",0,0);this.S["189"]=new c("189","190","190","0","0",1,.151839);this.S["190"]=new c("189","190","190","0","0",1,-.855517);this.S["100"]=new c("191","192","192","133","14.5",0,0);this.S["191"]=new c("191","192","192","0","0",1,.86223);this.S["192"]=new c("191","192","192","0","0",1,.544394);this.S["52"]=new c("101","102","101","135","47.5",0,0);this.S["101"]=new c("193","194","194","4","24.5",0,0);this.S["193"]=new c("193","194","194","0","0",1,.946185);this.S["194"]=new c("193","194","194","0","0",1,.811859);this.S["102"]=new c("193","194","194","0","0",1,-.991561);this.S["26"]=new c("53","54","54","132","6.5",0,0);this.S["53"]=new c("103","104","103","131","85",0,0);this.S["103"]=new c("195","196","196","134","16.5",0,0);this.S["195"]=new c("195","196","196","0","0",1,.0473538);this.S["196"]=new c("195","196","196","0","0",1,-.999401);this.S["104"]=new c("197","198","198","8","15.5",0,0);this.S["197"]=new c("197","198","198","0","0",1,.816129);this.S["198"]=new c("197","198","198","0","0",1,-.99322);this.S["54"]=new c("105","106","105","133","3.5",0,0);this.S["105"]=new c("105","106","105","0","0",1,-.998783);this.S["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.S["199"]=new c("199","200","199","0","0",1,.528588);this.S["200"]=new c("199","200","199","0","0",1,-.998599);this.S["6"]=new c("13","14","14","10","7.5",0,0);this.S["13"]=new c("27","28","28","133","7.5",0,0);this.S["27"]=new c("55","56","56","10","4.5",0,0);this.S["55"]=new c("107","108","107","3","3.5",0,0);this.S["107"]=new c("201","202","201","4","17.5",0,0);this.S["201"]=new c("201","202","201","0","0",1,-.379512);this.S["202"]=new c("201","202","201","0","0",1,.15165);this.S["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.S["203"]=new c("203","204","203","0","0",1,-.884606);this.S["204"]=new c("203","204","203","0","0",1,.265406);this.S["56"]=new c("109","110","109","136","6.5",0,0);this.S["109"]=new c("205","206","205","4","157.5",0,0);this.S["205"]=new c("205","206","205","0","0",1,-.0142737);this.S["206"]=new c("205","206","205","0","0",1,.691279);this.S["110"]=new c("205","206","205","0","0",1,-.998086);this.S["28"]=new c("57","58","58","138","11.5",0,0);this.S["57"]=new c("111","112","112","2","6.5",0,0);this.S["111"]=new c("207","208","208","7","67.5",0,0);this.S["207"]=new c("207","208","208","0","0",1,.763925);this.S["208"]=new c("207","208","208","0","0",1,-.309645);this.S["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.S["209"]=new c("209","210","209","0","0",1,-.306635);this.S["210"]=new c("209","210","209","0","0",1,.556696);this.S["58"]=new c("113","114","113","138","50.5",0,0);this.S["113"]=new c("211","212","212","8","25.5",0,0);this.S["211"]=new c("211","212","212","0","0",1,.508234);this.S["212"]=new c("211","212","212","0","0",1,.793551);this.S["114"]=new c("211","212","212","0","0",1,-.998438);this.S["14"]=new c("29","30","29","134","27.5",0,0);this.S["29"]=new c("59","60","60","7","17.5",0,0);this.S["59"]=new c("115","116","115","135","5.5",0,0);this.S["115"]=new c("213","214","214","137","5.5",0,0);this.S["213"]=new c("213","214","214","0","0",1,.401747);this.S["214"]=new c("213","214","214","0","0",1,.0367503);this.S["116"]=new c("215","216","216","8","5.5",0,0);this.S["215"]=new c("215","216","216","0","0",1,-.0241984);this.S["216"]=new c("215","216","216","0","0",1,-.999046);this.S["60"]=new c("117","118","117","0","12.5",0,0);this.S["117"]=new c("217","218","218","132","5.5",0,0);this.S["217"]=new c("217","218","218","0","0",1,-.997294);this.S["218"]=new c("217","218","218","0","0",1,.210398);this.S["118"]=new c("219","220","219","137","1.5",0,0);this.S["219"]=new c("219","220","219","0","0",1,-.55763);this.S["220"]=new c("219","220","219","0","0",1,.074493);this.S["30"]=new c("61","62","62","133","42.5",0,0);this.S["61"]=new c("119","120","119","135","5.5",0,0);this.S["119"]=new c("221","222","222","4","473.5",0,0);this.S["221"]=new c("221","222","222","0","0",1,-.920213);this.S["222"]=new c("221","222","222","0","0",1,-.17615);this.S["120"]=new c("223","224","224","5","144",0,0);this.S["223"]=new c("223","224","224","0","0",1,-.954295);this.S["224"]=new c("223","224","224","0","0",1,-.382538);this.S["62"]=new c("121","122","121","133","50",0,0);this.S["121"]=new c("225","226","226","10","18.5",0,0);this.S["225"]=new c("225","226","226","0","0",1,-.0731343);this.S["226"]=new c("225","226","226","0","0",1,.755454);this.S["122"]=new c("227","228","228","0","30",0,0);this.S["227"]=new c("227","228","228","0","0",1,.25);this.S["228"]=new c("227","228","228","0","0",1,-.997101);}function k(d,f,h,g,n,p){this.Lda=n;this.K7=p;}b=a(585);l=a(311);a={};a.qDb=new (function(){this.Qwb=l();this.Oa=0;this.update=function(){this.Oa=l() - this.Qwb;};this.type="num";})();a.RYb=new (function(){this.type="cat";})();a.SYb=new (function(){this.type="cat";})();a.UYb=new (function(){this.type="cat";})();a.VYb=new (function(){this.type="cat";})();a.TYb=new (function(){this.type="cat";})();a.WYb=new (function(){this.type="cat";})();a.XYb=new (function(){this.type="cat";})();a.YYb=new (function(){this.type="cat";})();a.ZYb=new (function(){this.type="cat";})();a.$Yb=new (function(){this.type="cat";})();a.aZb=new (function(){this.type="cat";})();a.bZb=new (function(){this.type="cat";})();a.dZb=new (function(){this.type="cat";})();a.eZb=new (function(){this.type="cat";})();a.fZb=new (function(){this.type="cat";})();a.cZb=new (function(){this.type="cat";})();a.XDb=new (function(){this.update=function(d){for(var f in d.Mb){if("becauseYouAdded" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.YDb=new (function(){this.update=function(d){for(var f in d.Mb){if("becauseYouLiked" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.aEb=new (function(){this.update=function(d){for(var f in d.Mb){if("billboard" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.qHb=new (function(){this.update=function(d){for(var f in d.Mb){if("continueWatching" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.$Db=new (function(){this.update=function(d){for(var f in d.Mb){if("bigRow" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.tQb=new (function(){this.update=function(d){for(var f in d.Mb){if("genre" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.c1b=new (function(){this.update=function(d){for(var f in d.Mb){if("netflixOriginals" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.f1b=new (function(){this.update=function(d){for(var f in d.Mb){if("newRelease" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.b5b=new (function(){this.update=function(d){for(var f in d.Mb){if("popularTitles" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.Tt=new (function(){this.update=function(d){for(var f in d.Mb){if("queue" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.V6b=new (function(){this.update=function(d){for(var f in d.Mb){if("recentlyAdded" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.uac=new (function(){this.update=function(d){for(var f in d.Mb){if("similars" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.ddc=new (function(){this.update=function(d){for(var f in d.Mb){if("trendingNow" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.ydc=new (function(){this.update=function(d){for(var f in d.Mb){if("ultraHD" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.vfc=new (function(){this.update=function(d){for(var f in d.Mb){if("watchAgain" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.Pcc=new (function(){this.update=function(d){for(var f in d.Mb){if("topTen" === d.Mb[f].context){this.Oa=Math.max(d.Mb[f].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.AHb=new (function(){this.type="cat";})();a.BHb=new (function(){this.type="cat";})();a.CHb=new (function(){this.type="cat";})();a.DHb=new (function(){this.type="cat";})();a.EHb=new (function(){this.type="cat";})();a.FHb=new (function(){this.type="cat";})();a.GHb=new (function(){this.type="cat";})();a.HHb=new (function(){this.type="cat";})();a.IHb=new (function(){this.type="cat";})();a.JHb=new (function(){this.type="cat";})();a.KHb=new (function(){this.type="cat";})();a.LHb=new (function(){this.type="cat";})();a.MHb=new (function(){this.type="cat";})();a.NHb=new (function(){this.type="cat";})();a.OHb=new (function(){this.type="cat";})();a.PHb=new (function(){this.type="cat";})();a.QHb=new (function(){this.type="cat";})();a.RHb=new (function(){this.type="cat";})();a.SHb=new (function(){this.type="cat";})();a.THb=new (function(){this.type="cat";})();a.UHb=new (function(){this.type="cat";})();a.VHb=new (function(){this.type="cat";})();a.WHb=new (function(){this.type="cat";})();a.XHb=new (function(){this.type="cat";})();a.YHb=new (function(){this.type="cat";})();a.ZHb=new (function(){this.type="cat";})();a.$Hb=new (function(){this.type="cat";})();a.aIb=new (function(){this.type="cat";})();a.bIb=new (function(){this.type="cat";})();a.cIb=new (function(){this.type="cat";})();a.dIb=new (function(){this.type="cat";})();a.eIb=new (function(){this.type="cat";})();a.fIb=new (function(){this.type="cat";})();a.gIb=new (function(){this.type="cat";})();a.hIb=new (function(){this.type="cat";})();a.iIb=new (function(){this.type="cat";})();a.jIb=new (function(){this.type="cat";})();a.kIb=new (function(){this.type="cat";})();a.lIb=new (function(){this.type="cat";})();a.mIb=new (function(){this.type="cat";})();a.nIb=new (function(){this.type="cat";})();a.oIb=new (function(){this.type="cat";})();a.pIb=new (function(){this.type="cat";})();a.qIb=new (function(){this.type="cat";})();a.rIb=new (function(){this.type="cat";})();a.sIb=new (function(){this.type="cat";})();a.tIb=new (function(){this.type="cat";})();a.uIb=new (function(){this.type="cat";})();a.vIb=new (function(){this.type="cat";})();a.wIb=new (function(){this.type="cat";})();a.xIb=new (function(){this.type="cat";})();a.yIb=new (function(){this.type="cat";})();a.zIb=new (function(){this.type="cat";})();a.AIb=new (function(){this.type="cat";})();a.BIb=new (function(){this.type="cat";})();a.CIb=new (function(){this.type="cat";})();a.DIb=new (function(){this.type="cat";})();a.EIb=new (function(){this.type="cat";})();a.FIb=new (function(){this.type="cat";})();a.GIb=new (function(){this.type="cat";})();a.HIb=new (function(){this.type="cat";})();a.IIb=new (function(){this.type="cat";})();a.JIb=new (function(){this.type="cat";})();a.KIb=new (function(){this.type="cat";})();a.LIb=new (function(){this.type="cat";})();a.MIb=new (function(){this.type="cat";})();a.NIb=new (function(){this.type="cat";})();a.OIb=new (function(){this.type="cat";})();a.PIb=new (function(){this.type="cat";})();a.QIb=new (function(){this.type="cat";})();a.RIb=new (function(){this.type="cat";})();a.SIb=new (function(){this.type="cat";})();a.TIb=new (function(){this.type="cat";})();a.UIb=new (function(){this.type="cat";})();a.VIb=new (function(){this.type="cat";})();a.WIb=new (function(){this.type="cat";})();a.XIb=new (function(){this.type="cat";})();a.YIb=new (function(){this.type="cat";})();a.ZIb=new (function(){this.type="cat";})();a.Y6b=new (function(){this.type="cat";})();a.Z6b=new (function(){this.type="cat";})();a.$6b=new (function(){this.type="cat";})();a.a7b=new (function(){this.type="cat";})();a.b7b=new (function(){this.type="cat";})();a.c7b=new (function(){this.type="cat";})();a.d7b=new (function(){this.type="cat";})();a.e7b=new (function(){this.type="cat";})();a.f7b=new (function(){this.type="cat";})();a.g7b=new (function(){this.type="cat";})();a.h7b=new (function(){this.type="cat";})();a.i7b=new (function(){this.type="cat";})();a.j7b=new (function(){this.type="cat";})();a.k7b=new (function(){this.type="cat";})();a.l7b=new (function(){this.type="cat";})();a.m7b=new (function(){this.type="cat";})();a.n7b=new (function(){this.type="cat";})();a.o7b=new (function(){this.type="cat";})();a.p7b=new (function(){this.type="cat";})();a.q7b=new (function(){this.type="cat";})();a.r7b=new (function(){this.type="cat";})();a.s7b=new (function(){this.type="cat";})();a.t7b=new (function(){this.type="cat";})();a.Jbc=new (function(){this.update=function(d){"down" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.Lbc=new (function(){this.update=function(d){"right" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.Kbc=new (function(){this.update=function(d){"left" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.Mbc=new (function(){this.update=function(d){"up" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.L_b=new (function(){this.Oa=0;this.update=function(d){this.Oa=Math.max(this.Oa,d.rowIndex);};this.type="num";})();a.M_b=new (function(){this.Oa=0;this.update=function(d){this.Oa=Math.max(this.Oa,d.k_a);};this.type="num";})();a.P_b=new (function(){this.pH=this.Oa=0;this.update=function(d){this.pH++;this.Oa=1 * (this.Oa + d.rowIndex) / this.pH;};this.type="num";})();a.Q_b=new (function(){this.pH=this.Oa=0;this.update=function(d){this.pH++;return this.Oa=1 * (this.Oa + d.k_a) / this.pH;};this.type="num";})();a.J5b=new (function(){this.type="num";})();a.K5b=new (function(){this.type="num";})();m.prototype.SF=function(d){return this.kWa(this.S["0"].Hgb(d),d);};m.prototype.kWa=function(d,f){return "string" == typeof d?this.kWa(this.S[d].Hgb(f),f):d;};c.prototype.Hgb=function(d){switch(this.aYb){case 0:switch(d.features[this.t1].type){case "cat":return null === d.features[this.t1].value?this.Pbb:"missing" == d.features[this.t1].value?this.rxa:this.Dmb;case "num":return null === d.features[this.t1].value?this.rxa:d.features[this.t1].value < this.split?this.Dmb:this.Pbb;default:return this.rxa;}case 1:return this.SF;default:return this.SF;}};b.declare({DZ:["modelSelector","modelone"],NGb:["colEpisodeList",5],tVb:["holdDuration",15E3],ugb:["rowFirst",2],j_a:["colFirst",5],vgb:["rowScroll",2],l_a:["colScroll",6],U8b:["rowScrollHorizontal",6],s9b:["searchTop",3],O0a:["cwFirst",2],qY:["horizontalItemsFocusedMode",3],cYb:["itemsPerRank",1],B_b:["maxNumberPayloadsStored",10],tab:["maxNumberTitlesScheduled",5],jnc:["enableDetailedLogging",!0],lqc:["rowStep",20],wmc:["colStep",15],Ipc:["pageRows",100],Hpc:["pageColumns",75],Iwa:["maskParamsList",new (function(){var d,f;this.Iwa=[];this.sm={};this.Lda=20;this.K7=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.Lda) + "_" + Math.floor(f / this.K7) in this.sm) || (this.sm[Math.floor(d / this.Lda) + "_" + Math.floor(f / this.K7)]=1,this.Iwa.push(new k("grid",10,5,5,Math.floor(d / this.Lda),Math.floor(f / this.K7))));}}})().Iwa],S:["nodes",new m().S],mapping:["mapping",{M_b:"0",Q_b:"1",L_b:"2",P_b:"3",qDb:"4",Mbc:"5",Kbc:"6",Lbc:"7",Jbc:"8",K5b:"9",J5b:"10",RYb:"11",SYb:"12",UYb:"13",VYb:"14",TYb:"15",WYb:"16",XYb:"17",YYb:"18",ZYb:"19",$Yb:"20",aZb:"21",bZb:"22",cZb:"23",dZb:"24",eZb:"25",fZb:"26",Y6b:"27",Z6b:"28",$6b:"29",a7b:"30",b7b:"31",c7b:"32",d7b:"33",e7b:"34",f7b:"35",g7b:"36",h7b:"37",i7b:"38",j7b:"39",k7b:"40",l7b:"41",m7b:"42",n7b:"43",o7b:"44",p7b:"45",q7b:"46",r7b:"47",s7b:"48",t7b:"49",AHb:"50",BHb:"51",CHb:"52",DHb:"53",EHb:"54",FHb:"55",GHb:"56",HHb:"57",IHb:"58",JHb:"59",KHb:"60",LHb:"61",MHb:"62",NHb:"63",OHb:"64",PHb:"65",QHb:"66",RHb:"67",SHb:"68",THb:"69",UHb:"70",VHb:"71",WHb:"72",XHb:"73",YHb:"74",ZHb:"75",$Hb:"76",aIb:"77",bIb:"78",cIb:"79",dIb:"80",eIb:"81",fIb:"82",gIb:"83",hIb:"84",iIb:"85",jIb:"86",kIb:"87",lIb:"88",mIb:"89",nIb:"90",oIb:"91",pIb:"92",qIb:"93",rIb:"94",sIb:"95",tIb:"96",uIb:"97",vIb:"98",wIb:"99",xIb:"100",yIb:"101",zIb:"102",AIb:"103",BIb:"104",CIb:"105",DIb:"106",EIb:"107",FIb:"108",GIb:"109",HIb:"110",IIb:"111",JIb:"112",KIb:"113",LIb:"114",MIb:"115",NIb:"116",OIb:"117",PIb:"118",QIb:"119",RIb:"120",SIb:"121",TIb:"122",UIb:"123",VIb:"124",WIb:"125",XIb:"126",YIb:"127",ZIb:"128",vfc:"129",V6b:"130",uac:"131",Tt:"132",qHb:"133",tQb:"134",ddc:"135",Pcc:"136",aEb:"137",f1b:"138",ydc:"139",b5b:"140",XDb:"141",$Db:"142",YDb:"143",c1b:"144"}],features:["features",a],tlc:["_modelName","tree"],olc:["_format","xgboost"],slc:["_itemsToKeep",5],rlc:["_itemsThreshold",null],emc:["cacheLimit",20]});r.exports={config:b,Qoc:k,Fmc:c};},function(r,b,a){r.exports=a(589);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(590);a(591)();a(616)();nb._cad_global={};nb.DEBUG=!1;a(17);a(13);a(15);a(25);a(43);a(91);a(1398);a(583);a(58);a(59);a(23);a(72);a(65);a(1399);a(304);a(355);a(1400);a(561);a(1401);a(558);a(565);a(563);a(564);a(552);a(553);a(555);a(300);a(299);a(1402);a(18);a(571);a(1403);a(200);a(104);a(559);a(195);a(522);a(523);a(521);a(1404);a(1405);a(520);a(1406);a(512);a(302);a(510);a(301);a(551);a(1407);a(303);a(567);a(198);a(584);a(165);a(1408);a(137);a(1415);a(1416);a(1418);a(1420);a(566);a(64);a(562);a(493);a(560);a(569);a(1421);a(310);a(138);a(1422);a(1423);a(1424);a(1426);a(1427);a(556);},function(r,b,a){(function(c){var m;(function(k){var G,E,H,L,K,I,R,O,J;function l(M,P,S){var T;T=J.get(M);if(!T){if(!S)return;T=new R();J.set(M,T);}M=T.get(P);if(!M){if(!S)return;M=new R();T.set(P,M);}return M;}function d(M,P,S){if(f(M,P,S))return !0;P=w(P);return null !== P?d(M,P,S):!1;}function f(M,P,S){P=l(P,S,!1);return void 0 !== P && ! !P.has(M);}function h(M,P,S){if(f(M,P,S))return g(M,P,S);P=w(P);return null !== P?h(M,P,S):void 0;}function g(M,P,S){P=l(P,S,!1);return void 0 === P?void 0:P.get(M);}function n(M,P){var S,U;S=p(M,P);M=w(M);if(null === M)return S;P=n(M,P);if(0 >= P.length)return S;if(0 >= S.length)return P;M=new O();for(var T=0;T < S.length;T++){U=S[T];M.add(U);}for(S=0;S < P.length;S++){U=P[S];M.add(U);}return z(M);}function p(M,P){var S;M=l(M,P,!1);S=[];M && y(M,function(T,U){return S.push(U);});return S;}function q(M){return void 0 === M;}function t(M){return Array.isArray?Array.isArray(M):M instanceof Array || "[object Array]" === Object.prototype.toString.call(M);}function v(M){return "object" === typeof M?null !== M:"function" === typeof M;}function u(M){return "symbol" === typeof M?M:String(M);}function w(M){var P,S;P=Object.getPrototypeOf(M);if("function" !== typeof M || M === I || P !== I)return P;S=M.prototype;S=S && Object.getPrototypeOf(S);if(null == S || S === Object.prototype)return P;S=S.constructor;return "function" !== typeof S || S === M?P:S;}function x(M){M=M.next();return M.done?void 0:M;}function y(M,P,S){var T,U,W;T=M.entries;if("function" === typeof T){T=T.call(M);try{for(;U=x(T);){W=U.value;P.call(S,W[1],W[0],M);}}finally{U && (M=T["return"]) && M.call(T);}}else (T=M.forEach,"function" === typeof T && T.call(M,P,S));}function z(M){var P;P=[];y(M,function(S,T){P.push(T);});return P;}function A(M,P,S){var T;T=0;return {next:function(){var U;if((M || P) && T < (M || P).length){U=T++;switch(S){case "key":return {value:M[U],done:!1};case "value":return {value:P[U],done:!1};case "key+value":return {value:[M[U],P[U]],done:!1};}}P=M=void 0;return {value:void 0,done:!0};},"throw":function(U){if(M || P)P=M=void 0;throw U;},"return":function(U){if(M || P)P=M=void 0;return {value:U,done:!0};}};}function B(){var M;M={};return (function(){function P(){this.sf=[];this.Uf=[];this.lx=M;this.Hu=-2;}Object.defineProperty(P.prototype,"size",{get:function(){return this.sf.length;},enumerable:!0,configurable:!0});P.prototype.has=function(S){return 0 <= this.Yz(S,!1);};P.prototype.get=function(S){S=this.Yz(S,!1);return 0 <= S?this.Uf[S]:void 0;};P.prototype.set=function(S,T){S=this.Yz(S,!0);this.Uf[S]=T;return this;};P.prototype.delete=function(S){var T;T=this.Yz(S,!1);if(0 <= T){S=this.sf.length;for(T+=1;T < S;T++){this.sf[T - 1]=this.sf[T];this.Uf[T - 1]=this.Uf[T];}this.sf.length--;this.Uf.length--;this.lx=M;this.Hu=-2;return !0;}return !1;};P.prototype.clear=function(){this.sf.length=0;this.Uf.length=0;this.lx=M;this.Hu=-2;};P.prototype.keys=function(){return A(this.sf,void 0,"key");};P.prototype.values=function(){return A(void 0,this.Uf,"value");};P.prototype.entries=function(){return A(this.sf,this.Uf,"key+value");};P.prototype.Yz=function(S,T){var U;if(this.lx === S)return this.Hu;U=this.sf.indexOf(S);0 > U && T && (U=this.sf.length,this.sf.push(S),this.Uf.push(void 0));return (this.lx=S,this.Hu=U);};return P;})();}function C(){return (function(){function M(){this.ph=new R();}Object.defineProperty(M.prototype,"size",{get:function(){return this.ph.size;},enumerable:!0,configurable:!0});M.prototype.has=function(P){return this.ph.has(P);};M.prototype.add=function(P){return (this.ph.set(P,P),this);};M.prototype.delete=function(P){return this.ph.delete(P);};M.prototype.clear=function(){this.ph.clear();};M.prototype.keys=function(){return this.ph.keys();};M.prototype.values=function(){return this.ph.values();};M.prototype.entries=function(){return this.ph.entries();};return M;})();}function D(){var T,U;function M(W,fa){for(var sa=0;sa < fa;++sa){W[sa]=255 * Math.random() | 0;}return W;}function P(){var W,wa;do {W="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):M(new Uint8Array(16),16):M(Array(16),16);W[6]=W[6] & 79 | 64;W[8]=W[8] & 191 | 128;for(var fa="",sa=0;16 > sa;++sa){wa=W[sa];if(4 === sa || 6 === sa || 8 === sa)fa+="-";16 > wa && (fa+="0");fa+=wa.toString(16).toLowerCase();}W="@@WeakMap@@" + fa;}while(K.has(T,W));T[W]=!0;return W;}function S(W,fa){if(!G.call(W,U)){if(!fa)return;Object.defineProperty(W,U,{value:L()});}return W[U];}T=L();U=P();return (function(){function W(){this.Pu=P();}W.prototype.has=function(fa){fa=S(fa,!1);return void 0 !== fa?K.has(fa,this.Pu):!1;};W.prototype.get=function(fa){fa=S(fa,!1);return void 0 !== fa?K.get(fa,this.Pu):void 0;};W.prototype.set=function(fa,sa){S(fa,!0)[this.Pu]=sa;return this;};W.prototype.delete=function(fa){fa=S(fa,!1);return void 0 !== fa?delete fa[this.Pu]:!1;};W.prototype.clear=function(){this.Pu=P();};return W;})();}function F(M){M.klc=1;delete M.llc;return M;}G=Object.prototype.hasOwnProperty;E="function" === typeof Object.create;H=(function(){var P;function M(){}P={};M.prototype=P;return new M().__proto__ === P;})();L=E?function(){return F(Object.create(null));}:H?function(){return F({__proto__:null});}:function(){return F({});};(function(M){var P;P=!E && !H;M.has=P?function(S,T){return G.call(S,T);}:function(S,T){return (T in S);};M.get=P?function(S,T){return G.call(S,T)?S[T]:void 0;}:function(S,T){return S[T];};})(K || (K={}));I=Object.getPrototypeOf(Function);R="function" === typeof Map?Map:B();O="function" === typeof Set?Set:C();J=new ("function" === typeof WeakMap?WeakMap:D())();k.Zp=function(M,P,S,T){var W;if(q(T)){if(q(S)){if(!t(M))throw new TypeError();if("function" !== typeof P)throw new TypeError();for(S=M.length - 1;0 <= S;--S){if((T=(0,M[S])(P),!q(T))){if("function" !== typeof T)throw new TypeError();P=T;}}return P;}if(!t(M))throw new TypeError();if(!v(P))throw new TypeError();S=u(S);for(T=M.length - 1;0 <= T;--T){(0,M[T])(P,S);}}else {if(!t(M))throw new TypeError();if(!v(P))throw new TypeError();if(q(S))throw new TypeError();if(!v(T))throw new TypeError();S=u(S);for(var U=M.length - 1;0 <= U;--U){W=(0,M[U])(P,S,T);if(!q(W)){if(!v(W))throw new TypeError();T=W;}}return T;}};k.Bc=function(M,P){return function(S,T){if(q(T)){if("function" !== typeof S)throw new TypeError();l(S,void 0,!0).set(M,P);}else {if(!v(S))throw new TypeError();T=u(T);l(S,T,!0).set(M,P);}};};k.p8=function(M,P,S,T){if(!v(S))throw new TypeError();q(T) || (T=u(T));l(S,T,!0).set(M,P);};k.TUb=function(M,P){var S;if(!v(P))throw new TypeError();q(S) || (S=u(S));return d(M,P,S);};k.Yta=function(M,P){var S;if(!v(P))throw new TypeError();q(S) || (S=u(S));return f(M,P,S);};k.getMetadata=function(M,P,S){if(!v(P))throw new TypeError();q(S) || (S=u(S));return h(M,P,S);};k.Z5a=function(M,P,S){if(!v(P))throw new TypeError();q(S) || (S=u(S));return g(M,P,S);};k.Nnc=function(M,P){if(!v(M))throw new TypeError();q(P) || (P=u(P));return n(M,P);};k.Pnc=function(M,P){if(!v(M))throw new TypeError();q(P) || (P=u(P));return p(M,P);};k.Smc=function(M,P,S){var T;if(!v(P))throw new TypeError();q(S) || (S=u(S));T=l(P,S,!1);if(q(T) || !T.delete(M))return !1;if(0 < T.size)return !0;M=J.get(P);M.delete(S);if(0 < M.size)return !0;J.delete(P);return !0;};(function(M){if("undefined" !== typeof M.Reflect){if(M.Reflect !== k)for(var P in k){G.call(k,P) && (M.Reflect[P]=k[P]);}}else M.Reflect=k;})("undefined" !== typeof nb?nb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(m || (m={}));}).call(this,a(201));},function(r,b,a){var c,m;c=a(313);m=a(595);r.exports=function(){var k;k=m();c(Array.prototype,{includes:k},{includes:function(){return Array.prototype.includes !== k;}});return k;};},function(r,b,a){var c,m,k,l,d;c=Array.prototype.slice;m=a(314);k=Object.keys;l=k?function(f){return k(f);}:a(593);d=Object.keys;l.zm=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return m(f)?d(c.call(f)):d(f);}):Object.keys=l;return Object.keys || l;};r.exports=l;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;m=Object.prototype.toString;k=a(314);b=Object.prototype.propertyIsEnumerable;l=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");h=function(q){var t;t=q.constructor;return t && t.prototype === q;};g={Qfc:!0,Rfc:!0,Sfc:!0,Tfc:!0,Ufc:!0,Vfc:!0,Wfc:!0,Xfc:!0,Yfc:!0,Zfc:!0,$fc:!0,agc:!0,bgc:!0,cgc:!0,dgc:!0,egc:!0,fgc:!0,ggc:!0,hgc:!0,igc:!0,jgc:!0,kgc:!0,lgc:!0};n=(function(){if("undefined" === typeof nb)return !1;for(var q in nb){try{if(!g["$" + q] && c.call(nb,q) && null !== nb[q] && "object" === typeof nb[q])try{h(nb[q]);}catch(t){return !0;}}catch(t){return !0;}}return !1;})();p=function(q){var t,v,u,w,x,z;t=null !== q && "object" === typeof q;v="[object Function]" === m.call(q);u=k(q);w=t && "[object String]" === m.call(q);x=[];if(!t && !v && !u)throw new TypeError("Object.keys called on a non-object");t=d && v;if(w && 0 < q.length && !c.call(q,0))for(w=0;w < q.length;++w){x.push(String(w));}if(u && 0 < q.length)for(u=0;u < q.length;++u){x.push(String(u));}else for(var y in q){t && "prototype" === y || !c.call(q,y) || x.push(String(y));}if(l){if("undefined" !== typeof nb && n)try{z=h(q);}catch(A){z=!1;}else z=h(q);for(u=0;u < f.length;++u){z && "constructor" === f[u] || !c.call(q,f[u]) || x.push(f[u]);}}return x;};}r.exports=p;},function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var m;m=this;if("function" !== typeof m || "[object Function]" !== a.call(m))throw new TypeError("Function.prototype.bind called on incompatible " + m);for(var k=b.call(arguments,1),l,d=Math.max(0,m.length - k.length),f=[],h=0;h < d;h++){f.push("$" + h);}l=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var g;if(this instanceof l){g=m.apply(this,k.concat(b.call(arguments)));return Object(g) === g?g:this;}return m.apply(c,k.concat(b.call(arguments)));});m.prototype && (d=function(){},d.prototype=m.prototype,l.prototype=new d(),d.prototype=null);return l;};},function(r,b,a){var c;c=a(596);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;c=a(318);m=a(609);k=a(611);l=a(614);d=a(167);f=a(321);b=a(44);h=a(139);g=a(615);n=h("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(t){var v,u,w;v=1 < arguments.length?c(arguments[1]):0;if(p && !d(t) && f(v) && "undefined" !== typeof t)return -1 < p.apply(this,arguments);u=k(this);w=m(u.length);if(0 === w)return !1;for(v=0 <= v?v:q(0,w + v);v < w;){if(l(t,g(u)?n(u,v):u[v]))return !0;v+=1;}return !1;};},function(r,b,a){var c;c=a(44)("%Math.abs%");r.exports=function(m){return c(m);};},function(r){var b;b=Math.floor;r.exports=function(a){return b(a);};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u;c=a(44);m=c("%TypeError%");k=c("%Number%");b=c("%RegExp%");l=c("%parseInt%");c=a(139);d=a(601);f=a(602);h=c("String.prototype.slice");g=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);t=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;v=c("String.prototype.replace");u=a(603);r.exports=function y(x){var z;x=f(x)?x:u(x,k);if("symbol" === typeof x)throw new m("Cannot convert a Symbol value to a number");if("bigint" === typeof x)throw new m("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof x){if(g(x))return y(l(h(x,2),2));if(n(x))return y(l(h(x,2),8));if(q(x) || p(x))return NaN;z=v(x,t,"");if(z !== x)return y(z);}return k(x);};},function(r,b,a){var m,k,l,d,f,h,g;function c(){return d(m,k,arguments);}m=a(202);b=a(44);k=b("%Function.prototype.apply%");l=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || m.call(l,k);f=b("%Object.getOwnPropertyDescriptor%",!0);h=b("%Object.defineProperty%",!0);g=b("%Math.max%");if(h)try{h({},"a",{value:1});}catch(n){h=null;}r.exports=function(n){var p;p=d(m,l,arguments);f && h && f(p,"length").configurable && h(p,"length",{value:1 + g(0,n.length - (arguments.length - 1))});return p;};h?h(r.exports,"apply",{value:c}):r.exports.apply=c;},function(r,b,a){var c;c=a(139)("RegExp.prototype.exec");r.exports=function(m){return function(k){return null !== c(m,k);};};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c;c=a(604);r.exports=function(m){return 1 < arguments.length?c(m,arguments[1]):c(m);};},function(r,b,a){var c,m,k,l,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;m=a(605);k=a(319);l=a(606);d=a(607);r.exports=function(f){var h,g,n;if(m(f))return f;h="default";1 < arguments.length && (arguments[1] === String?h="string":arguments[1] === Number && (h="number"));if(c)if(Symbol.toPrimitive){g=Symbol.toPrimitive;n=f[g];if(null !== n && "undefined" !== typeof n){if(!k(n))throw new TypeError(n + " returned for property " + g + " of object " + f + " is not a function");g=n;}else g=void 0;}else d(f) && (g=Symbol.prototype.valueOf);if("undefined" !== typeof g){h=g.call(f,h);if(m(h))return h;throw new TypeError("unable to convert exotic object to primitive");}"default" === h && (l(f) || d(f)) && (h="string");a:{h="default" === h?"number":h;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof h || "number" !== h && "string" !== h)throw new TypeError('hint must be "string" or "number"');h="string" === h?["toString","valueOf"]:["valueOf","toString"];for(g=0;g < h.length;++g){if((n=f[h[g]],k(n) && (n=n.call(f),m(n))))break a;}throw new TypeError("No default value");}return n;};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c,m,k;c=Date.prototype.getDay;m=Object.prototype.toString;k=a(320)();r.exports=function(l){if("object" !== typeof l || null === l)l=!1;else if(k)try{c.call(l);l=!0;}catch(d){l=!1;}else l="[object Date]" === m.call(l);return l;};},function(r,b,a){var c,m,k;c=Object.prototype.toString;if(a(316)()){m=Symbol.prototype.toString;k=/^Symbol\(.*\)$/;r.exports=function(l){if("symbol" === typeof l)return !0;if("[object Symbol]" !== c.call(l))return !1;try{return "symbol" !== typeof l.valueOf()?!1:k.test(m.call(l));}catch(d){return !1;}};}else r.exports=function(){return !1;};},function(r){r.exports=function(b){return 0 <= b?1:-1;};},function(r,b,a){var c,m;c=a(610);m=a(318);r.exports=function(k){k=m(k);return 0 >= k?0:k > c?c:k;};},function(r,b,a){a=a(44);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},function(r,b,a){var c,m;c=a(44)("%Object%");m=a(612);r.exports=function(k){m(k);return c(k);};},function(r,b,a){r.exports=a(613);},function(r,b,a){var c;c=a(44)("%TypeError%");r.exports=function(m,k){if(null == m)throw new c(k || "Cannot call method on " + m);return m;};},function(r,b,a){var c;c=a(167);r.exports=function(m,k){return m === k || c(m) && c(k);};},function(r,b,a){var c,m,k;c=String.prototype.valueOf;m=Object.prototype.toString;k=a(320)();r.exports=function(l){if("string" === typeof l)l=!0;else if("object" !== typeof l)l=!1;else if(k)try{c.call(l);l=!0;}catch(d){l=!1;}else l="[object String]" === m.call(l);return l;};},function(r,b,a){var c,m,k;c=a(203);m=a(617);k=a(313);r.exports=function(){var l;c();l=m();k(Promise.prototype,{"finally":l},{"finally":function(){return Promise.prototype["finally"] !== l;}});return l;};},function(r,b,a){var c,m;c=a(203);m=a(618);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:m;};},function(r,b,a){var d,f,h,g;function c(n){var p,q,t;if("Object" !== h(this))throw new TypeError("receiver is not an Object");p=f(this,g);q=n;t=n;d(n) && (q=k(p,n),t=m(p,n));return this.then(q,t);}function m(n,p){return function(q){var t;t=p();return l(n,t).then(function(){throw q;});};}function k(n,p){return function(q){var t;t=p();return l(n,t).then(function(){return q;});};}function l(n,p){return new n(function(q){q(p);});}a(203)();d=a(322);f=a(619);h=a(106);g=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},function(r,b,a){var c,m,k,l;b=a(44);c=b("%Symbol.species%",!0);m=b("%TypeError%");k=a(620);l=a(106);r.exports=function(d,f){if("Object" !== l(d))throw new m("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return f;if("Object" !== l(d))throw new m("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return f;if(k(d))return d;throw new m("no constructor found");};},function(r,b,a){var c,m,k;c=a(621)("%Reflect.construct%",!0);b=a(622);try{b({},"",{"[[Get]]":function(){}});}catch(l){b=null;}if(b && c){m={};k={};b(k,"length",{"[[Get]]":function(){throw m;},"[[Enumerable]]":!0});r.exports=function(l){try{c(l,k);}catch(d){return d === m;}};}else r.exports=function(l){return "function" === typeof l && ! !l.prototype;};},function(r,b,a){r.exports=a(44);},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;c=a(44)("%TypeError%");m=a(623);k=a(624);l=a(626);d=a(630);f=a(631);h=a(632);g=a(633);n=a(634);p=a(106);r.exports=function(q,t,v){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!h(t))throw new c("Assertion failed: IsPropertyKey(P) is not true");v=m({ESa:p,LKa:f,KKa:d},v)?v:n(v);if(!m({ESa:p,LKa:f,KKa:d},v))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return k(f,g,l,q,t,v);};},function(r,b,a){var c,m;b=a(44);c=a(105);m=b("%TypeError%");r.exports=function(k,l){var d,f;if("Object" !== k.ESa(l))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in l){if(c(l,f) && !d[f])return !1;}if(k.LKa(l) && k.KKa(l))throw new m("Property Descriptors may not be both accessor and data descriptors");return !0;};},function(r,b,a){var c,m,k,l,d;b=a(315);c=a(44);m=b() && c("%Object.defineProperty%",!0);k=b.LUb();l=k && a(625);d=a(139)("Object.prototype.propertyIsEnumerable");r.exports=function(f,h,g,n,p,q){if(!m){if(!f(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== ! !q["[[Enumerable]]"])return !1;f=q["[[Value]]"];n[p]=f;return h(n[p],f);}if(k && "length" === p && ("[[Value]]" in q) && l(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);m(n,p,g(q));return !0;};},function(r,b,a){var c;b=a(44)("%Array%");c=!b.isArray && a(139)("Object.prototype.toString");r.exports=b.isArray || (function(m){return "[object Array]" === c(m);});},function(r,b,a){var c,m,k;c=a(204);m=a(628);k=a(106);r.exports=function(l){"undefined" !== typeof l && c(k,"Property Descriptor","Desc",l);return m(l);};},function(r,b,a){var c;c=a(105);r.exports=function(m){return c(m,"[[StartIndex]]") && c(m,"[[EndIndex]]") && 0 <= m["[[StartIndex]]"] && m["[[EndIndex]]"] >= m["[[StartIndex]]"] && String(parseInt(m["[[StartIndex]]"],10)) === String(m["[[StartIndex]]"]) && String(parseInt(m["[[EndIndex]]"],10)) === String(m["[[EndIndex]]"]);};},function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=! !b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=! !b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=! !b["[[Configurable]]"]);return a;};},function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},function(r,b,a){var c,m,k;c=a(105);m=a(204);k=a(106);r.exports=function(l){if("undefined" === typeof l)return !1;m(k,"Property Descriptor","Desc",l);return c(l,"[[Get]]") || c(l,"[[Set]]")?!0:!1;};},function(r,b,a){var c,m,k;c=a(105);m=a(204);k=a(106);r.exports=function(l){if("undefined" === typeof l)return !1;m(k,"Property Descriptor","Desc",l);return c(l,"[[Value]]") || c(l,"[[Writable]]")?!0:!1;};},function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},function(r,b,a){var c;c=a(167);r.exports=function(m,k){return m === k?0 === m?1 / m === 1 / k:!0:c(m) && c(k);};},function(r,b,a){var c,m,k,l,d;c=a(105);m=a(44)("%TypeError%");k=a(106);l=a(635);d=a(322);r.exports=function(f){var h,g;if("Object" !== k(f))throw new m("ToPropertyDescriptor requires an object");h={};c(f,"enumerable") && (h["[[Enumerable]]"]=l(f.enumerable));c(f,"configurable") && (h["[[Configurable]]"]=l(f.configurable));c(f,"value") && (h["[[Value]]"]=f.value);c(f,"writable") && (h["[[Writable]]"]=l(f.writable));if(c(f,"get")){g=f.get;if("undefined" !== typeof g && !d(g))throw new m("getter must be a function");h["[[Get]]"]=g;}if(c(f,"set")){f=f.set;if("undefined" !== typeof f && !d(f))throw new m("setter must be a function");h["[[Set]]"]=f;}if((c(h,"[[Get]]") || c(h,"[[Set]]")) && (c(h,"[[Value]]") || c(h,"[[Writable]]")))throw new m("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return h;};},function(r){r.exports=function(b){return ! !b;};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v;c=this && this.__awaiter || (function(u,w,x,y){return new (x || (x=Promise))(function(z,A){function B(F){try{D(y.next(F));}catch(G){A(G);}}function C(F){try{D(y["throw"](F));}catch(G){A(G);}}function D(F){F.done?z(F.value):new x(function(G){G(F.value);}).then(B,C);}D((y=y.apply(u,w || [])).next());});});m=this && this.__generator || (function(u,w){var z,A,B,C,D;function x(F){return function(G){return y([F,G]);};}function y(F){if(A)throw new TypeError("Generator is already executing.");for(;z;){try{if((A=1,B && (C=B[F[0] & 2?"return":F[0]?"throw":"next"]) && !(C=C.call(B,F[1])).done))return C;if((B=0,C))F=[0,C.value];switch(F[0]){case 0:case 1:C=F;break;case 4:return (z.label++,{value:F[1],done:!1});case 5:z.label++;B=F[1];F=[0];continue;case 7:F=z.Xk.pop();z.Dh.pop();continue;default:if(!(C=z.Dh,C=0 < C.length && C[C.length - 1]) && (6 === F[0] || 2 === F[0])){z=0;continue;}if(3 === F[0] && (!C || F[1] > C[0] && F[1] < C[3]))z.label=F[1];else if(6 === F[0] && z.label < C[1])(z.label=C[1],C=F);else if(C && z.label < C[2])(z.label=C[2],z.Xk.push(F));else {C[2] && z.Xk.pop();z.Dh.pop();continue;}}F=w.call(u,z);}catch(G){F=[6,G];B=0;}finally{A=C=0;}}if(F[0] & 5)throw F[1];return {value:F[0]?F[1]:void 0,done:!0};}z={label:0,ob:function(){if(C[0] & 1)throw C[1];return C[1];},Dh:[],Xk:[]};return (D={next:x(0),"throw":x(1),"return":x(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});k=a(637);l=a(56);d=a(77);a(41);f=a(323);h=a(638);g=a(645);n=a(647);p=a(107);q=a(140);t=a(650);v=a(651);r=(function(){function u(w){w=w || ({});if("object" !== typeof w)throw Error("" + l.wob);if(void 0 === w.CI)w.CI=d.uu.H4;else if(w.CI !== d.uu.Oja && w.CI !== d.uu.H4 && w.CI !== d.uu.Request)throw Error("" + l.uob);if(void 0 === w.TV)w.TV=!1;else if("boolean" !== typeof w.TV)throw Error("" + l.tob);if(void 0 === w.WK)w.WK=!1;else if("boolean" !== typeof w.WK)throw Error("" + l.vob);this.options={TV:w.TV,CI:w.CI,WK:w.WK};this.id=p.id();this.lH=new v.Lrb();this.sWa=[];this.parent=this.R5=null;this.$xb=new f.ria();}u.prototype.load=function(){var z,A;for(var w=[],x=0;x < arguments.length;x++){w[x]=arguments[x];}x=this.tUa();for(var y=0;y < w.length;y++){z=w[y];A=x(z.id);z.Vza(A.IYa,A.Ekb,A.q9a,A.ffb);}};u.prototype.cZ=function(){for(var w=[],x=0;x < arguments.length;x++){w[x]=arguments[x];}c(this,void 0,void 0,function(){var y,z,A,B,C;return m(this,function(D){switch(D.label){case 0:(y=this.tUa(),z=0,A=w,D.label=1);case 1:if(!(z < A.length))return [3,4];B=A[z];C=y(B.id);return [4,B.Vza(C.IYa,C.Ekb,C.q9a,C.ffb)];case 2:(D.ob(),D.label=3);case 3:return (z++,[3,1]);case 4:return [2];}});});};u.prototype.bind=function(w){var x;x=new k.Jnb(w,this.options.CI || d.uu.H4);this.lH.add(w,x);return new n.Lnb(x);};u.prototype.R6b=function(w){this.Dkb(w);return this.bind(w);};u.prototype.Dkb=function(w){try{this.lH.remove(w);}catch(x){throw Error(l.eob + " " + q.nP(w));}};u.prototype.F8a=function(w){var x;x=this.lH.d7a(w);!x && this.parent && (x=this.parent.F8a(w));return x;};u.prototype.aCa=function(){this.sWa.push(t.Dob.of(this.lH.clone(),this.R5));};u.prototype.restore=function(){var w;w=this.sWa.pop();if(void 0 === w)throw Error(l.Asb);this.lH=w.WV;this.R5=w.n0b;};u.prototype.hJb=function(){var w;w=new u(this.options);w.parent=this;return w;};u.prototype.get=function(w){return this.sUa(!1,!1,d.Oz.hka,w);};u.prototype.getAll=function(w){return this.sUa(!0,!0,d.Oz.hka,w);};u.prototype.resolve=function(w){var x;x=this.hJb();x.bind(w).bkb();return x.get(w);};u.prototype.tUa=function(){var A;function w(B){return function(C){C=A.R6b.bind(A)(C);C.Ic.N0b=B;return C;};}function x(){return function(B){return A.F8a.bind(A)(B);};}function y(){return function(B){A.Dkb.bind(A)(B);};}function z(B){return function(C){C=A.bind.bind(A)(C);C.Ic.N0b=B;return C;};}A=this;return function(B){return {IYa:z(B),q9a:x(B),ffb:w(B),Ekb:y(B)};};};u.prototype.sUa=function(w,x,y,z){var A;A=null;w={NDb:w,pHb:function(B){return B;},zXb:x,key:void 0,hh:z,gcc:y,value:void 0};if(this.R5){if((A=this.R5(w),void 0 === A || null === A))throw Error(l.qrb);}else A=this.rzb()(w);return A;};u.prototype.rzb=function(){var w;w=this;return function(x){var y;y=h.MQ(w.$xb,w,x.zXb,x.gcc,x.hh,x.key,x.value,x.NDb);y=x.pHb(y);return g.resolve(y);};};return u;})();b.l2=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(77);m=a(107);r=(function(){function k(l,d){this.id=m.id();this.Mma=!1;this.hh=l;this.scope=d;this.type=c.qk.Crb;this.wI=function(){return !0;};this.CO=this.xy=this.hC=this.VO=this.cache=this.wn=null;}k.prototype.clone=function(){var l;l=new k(this.hh,this.scope);l.Mma=!1;l.wn=this.wn;l.CO=this.CO;l.scope=this.scope;l.type=this.type;l.VO=this.VO;l.hC=this.hC;l.wI=this.wI;l.xy=this.xy;l.cache=this.cache;return l;};return k;})();b.Jnb=r;},function(r,b,a){var d,f,h,g,n,p,q,t,v,u,w,x;function c(y,z,A,B,C){var D,F;D=l(A.wb,C.hh);F=[];D.length === d.sga.gNa && A.wb.options.TV && "function" === typeof C.hh && y.N4a(C.hh).u_a && (A.wb.bind(C.hh).bkb(),D=l(A.wb,C.hh));F=z?D:D.filter(function(G){var E;E=new w.Request(G.hh,A,B,G,C);return G.wI(E);});m(C.hh,F,C,A.wb);return F;}function m(y,z,A,B){switch(z.length){case d.sga.gNa:if(A.W8a())return z;y=p.nP(y);z=f.ysb;z+=p.QYb(y,A);z+=p.i$a(B,y,l);throw Error(z);case d.sga.Osb:if(!A.isArray())return z;default:if(A.isArray())return z;y=p.nP(y);z=f.Hmb + " " + y;z+=p.i$a(B,y,l);throw Error(z);}}function k(y,z,A,B,C,D){var F;if(null === C){z=c(y,z,B,null,D);F=new w.Request(A,B,null,z,D);A=new v.Jtb(B,F);B.QBb(A);}else (z=c(y,z,B,C,D),F=C.YWa(D.hh,z,D));z.forEach(function(G){var E,H,L;E=null;if(D.isArray())E=F.YWa(G.hh,G,D);else {if(G.cache)return;E=F;}if(G.type === h.qk.Instance && null !== G.wn){H=u.qRb(y,G.wn);if(!B.wb.options.WK){L=u.OQb(y,G.wn);if(H.length < L)throw (G=f.Jmb(u.getFunctionName(G.wn)),Error(G));}H.forEach(function(K){k(y,!1,K.hh,B,E,K);});}});}function l(y,z){var A,B;A=[];B=y.lH;B.d7a(z)?A=B.get(z):null !== y.parent && (A=l(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(639);f=a(56);h=a(77);g=a(41);n=a(324);p=a(140);q=a(640);t=a(67);v=a(641);u=a(642);w=a(644);x=a(326);b.Gnc=function(y){return y.lH;};b.MQ=function(y,z,A,B,C,D,F,G){void 0 === G && (G=!1);z=new q.KGa(z);A=new t.Metadata(A?g.MG:g.mT,C);B=new x.E4(B,"",C,A);void 0 !== D && (D=new t.Metadata(D,F),B.Bc.push(D));try{return (k(y,G,C,z,null,B),z);}catch(E){throw (n.f9a(E) && z.MQ && p.jGb(z.MQ.BAa),E);}};b.Bmc=function(y,z,A,B){A=new x.E4(h.Oz.hka,"",z,new t.Metadata(A,B));y=new q.KGa(y);return new w.Request(z,y,null,[],A);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sga={Zic:2,gNa:0,Osb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);r=(function(){function m(k){this.id=c.id();this.wb=k;}m.prototype.QBb=function(k){this.MQ=k;};return m;})();b.KGa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jtb=(function(){return function(a,c){this.GQ=a;this.BAa=c;};})();},function(r,b,a){var d,f,h,g,n,p;function c(q,t,v,u){var w,x,y,z,B,C,D,F,G,E,H,L;w=q.N4a(v);x=w.u_a;if(void 0 === x)throw Error(f.Vrb + " " + t + ".");w=w.Kec;y=Object.keys(w);z=0 === v.length && 0 < y.length?y.length:v.length;y=[];for(var A=0;A < z;A++){B=A;C=u;D=t;F=x;G=w[B.toString()] || [];E=l(G);H=!0 !== E.pp;F=F[B];L=E.l || E.VJ;F=L?L:F;F instanceof d.Rha && (F=F.Hdc());if(H){H=F === Function;H=F === Object || H || void 0 === F;if(!C && H)throw Error(f.Wrb + " argument " + B + " in class " + D + ".");B=new p.E4(h.Oz.HGa,E.U0,F);B.Bc=G;G=B;}else G=null;null !== G && y.push(G);}q=m(q,v);return y.concat(q);}function m(q,t){var y,z,A;for(var v=q.hTb(t),u=[],w=0,x=Object.keys(v);w < x.length;w++){y=x[w];z=v[y];A=l(v[y]);y=new p.E4(h.Oz.vGa,A.U0 || y,A.l || A.VJ);y.Bc=z;u.push(y);}t=Object.getPrototypeOf(t.prototype).constructor;t !== Object && (q=m(q,t),u=u.concat(q));return u;}function k(q,t){var v,u;t=Object.getPrototypeOf(t.prototype).constructor;if(t !== Object){v=n.getFunctionName(t);v=c(q,v,t,!0);u=v.map(function(w){return w.Bc.filter(function(x){return x.key === g.YT;});});u=[].concat.apply([],u).length;v=v.length - u;return 0 < v?v:k(q,t);}return 0;}function l(q){var t;t={};q.forEach(function(v){t[v.key.toString()]=v.value;});return {l:t[g.mT],VJ:t[g.MG],U0:t[g.R3],pp:t[g.YT]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(325);f=a(56);h=a(77);g=a(41);n=a(140);b.getFunctionName=n.getFunctionName;p=a(326);b.qRb=function(q,t){var v;v=n.getFunctionName(t);return c(q,v,t,!1);};b.OQb=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.PR=c;}a.prototype.startsWith=function(c){return 0 === this.PR.indexOf(c);};a.prototype.endsWith=function(c){var m;m=c.split("").reverse().join("");c=this.PR.split("").reverse().join("");return this.startsWith.call({PR:c},m);};a.prototype.contains=function(c){return -1 !== this.PR.indexOf(c);};a.prototype.equals=function(c){return this.PR === c;};a.prototype.value=function(){return this.PR;};return a;})();b.Utb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);r=(function(){function m(k,l,d,f,h){this.id=c.id();this.hh=k;this.GQ=l;this.aC=d;this.target=h;this.Voa=[];this.WV=Array.isArray(f)?f:[f];this.p8b=null === d?new Map():null;}m.prototype.YWa=function(k,l,d){k=new m(k,this.GQ,this,l,d);this.Voa.push(k);return k;};return m;})();b.Request=r;},function(r,b,a){var k,l,d,f,h;function c(g){return function(n){var p,q,t,v,u;p=n.WV;q=n.Voa;t=n.target && n.target.isArray();v=!n.aC || !n.aC.target || !n.target || !n.aC.target.o_b(n.target.hh);if(t && v)return q.map(function(w){return c(g)(w);});t=null;if(!n.target.W8a() || 0 !== p.length){u=p[0];p=u.scope === l.uu.Oja;v=u.scope === l.uu.Request;if(p && u.Mma)return u.cache;if(v && null !== g && g.has(u.id))return g.get(u.id);if(u.type === l.qk.FGa)t=u.cache;else if(u.type === l.qk.Function)t=u.cache;else if(u.type === l.qk.GGa)t=u.wn;else if(u.type === l.qk.SHa && null !== u.CO)t=m("toDynamicValue",u.hh,function(){return u.CO(n.GQ);});else if(u.type === l.qk.kha && null !== u.VO)t=m("toFactory",u.hh,function(){return u.VO(n.GQ);});else if(u.type === l.qk.pQa && null !== u.hC)t=m("toProvider",u.hh,function(){return u.hC(n.GQ);});else if(u.type === l.qk.Instance && null !== u.wn)t=h.D8b(u.wn,q,c(g));else throw (q=f.nP(n.hh),Error(k.mrb + " " + q));"function" === typeof u.xy && (t=u.xy(n.GQ,t));p && (u.cache=t,u.Mma=!0);v && null !== g && !g.has(u.id) && g.set(u.id,t);return t;}};}function m(g,n,p){try{return p();}catch(q){if(d.f9a(q))throw Error(k.iob(g,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});k=a(56);l=a(77);d=a(324);f=a(140);h=a(646);b.resolve=function(g){return c(g.MQ.BAa.p8b)(g.MQ.BAa);};},function(r,b,a){var k,l,d;function c(f,h,g){var n;h=h.filter(function(p){return null !== p.target && p.target.type === l.Oz.vGa;});n=h.map(g);h.forEach(function(p,q){p=p.target.name.value();f[p]=n[q];});return f;}function m(f,h){var g;if(Reflect.TUb(d.KT,f)){g=Reflect.getMetadata(d.KT,f);try{h[g.value]();}catch(n){throw Error(k.Ctb(f.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});k=a(56);l=a(77);d=a(41);b.D8b=function(f,h,g){var n;n=null;0 < h.length?(n=h.filter(function(p){return null !== p.target && p.target.type === l.Oz.HGa;}).map(g),n=new (f.bind.apply(f,[void 0].concat(n)))(),n=c(n,h,g)):n=new f();m(f,n);return n;};},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);m=a(77);k=a(648);l=a(327);r=(function(){function d(f){this.Ic=f;}d.prototype.to=function(f){this.Ic.type=m.qk.Instance;this.Ic.wn=f;return new k.yFa(this.Ic);};d.prototype.bkb=function(){if("function" !== typeof this.Ic.hh)throw Error("" + c.srb);this.to(this.Ic.hh);};d.prototype.Cm=function(f){this.Ic.type=m.qk.FGa;this.Ic.cache=f;this.Ic.CO=null;this.Ic.wn=null;new l.tG(this.Ic);};d.prototype.gG=function(f){this.Ic.type=m.qk.SHa;this.Ic.cache=null;this.Ic.CO=f;this.Ic.wn=null;return new k.yFa(this.Ic);};d.prototype.Kcc=function(f){this.Ic.type=m.qk.GGa;this.Ic.wn=f;new l.tG(this.Ic);};d.prototype.Pe=function(f){this.Ic.type=m.qk.kha;this.Ic.VO=f;new l.tG(this.Ic);};d.prototype.Lcc=function(f){if("function" !== typeof f)throw Error(c.prb);this.Cm(f);this.Ic.type=m.qk.Function;};d.prototype.$jb=function(f){this.Ic.type=m.qk.kha;this.Ic.VO=function(h){return function(){return h.wb.get(f);};};new l.tG(this.Ic);};d.prototype.d1=function(f){this.Ic.type=m.qk.pQa;this.Ic.hC=f;new l.tG(this.Ic);};d.prototype.Mcc=function(f){this.gG(function(h){return h.wb.get(f);});};return d;})();b.Lnb=r;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(649);m=a(207);k=a(208);r=(function(){function l(d){this.Ic=d;this.gU=new k.tga(this.Ic);this.xka=new m.d2(this.Ic);this.CTa=new c.Knb(d);}l.prototype.ha=function(){return this.CTa.ha();};l.prototype.wua=function(){return this.CTa.wua();};l.prototype.when=function(d){return this.gU.when(d);};l.prototype.E1=function(){return this.gU.E1();};l.prototype.xy=function(d){return this.xka.xy(d);};return l;})();b.yFa=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(77);m=a(327);r=(function(){function k(l){this.Ic=l;}k.prototype.ha=function(){this.Ic.scope=c.uu.Oja;return new m.tG(this.Ic);};k.prototype.wua=function(){this.Ic.scope=c.uu.H4;return new m.tG(this.Ic);};return k;})();b.Knb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dob=(function(){function a(){}a.of=function(c,m){var k;k=new a();k.WV=c;k.n0b=m;return k;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);r=(function(){function m(){this.ph=new Map();}m.prototype.add=function(k,l){var d;if(null === k || void 0 === k)throw Error(c.GT);if(null === l || void 0 === l)throw Error(c.GT);d=this.ph.get(k);void 0 !== d?(d.push(l),this.ph.set(k,d)):this.ph.set(k,[l]);};m.prototype.get=function(k){if(null === k || void 0 === k)throw Error(c.GT);k=this.ph.get(k);if(void 0 !== k)return k;throw Error(c.PKa);};m.prototype.remove=function(k){if(null === k || void 0 === k)throw Error(c.GT);if(!this.ph.delete(k))throw Error(c.PKa);};m.prototype.d7a=function(k){if(null === k || void 0 === k)throw Error(c.GT);return this.ph.has(k);};m.prototype.clone=function(){var k;k=new m();this.ph.forEach(function(l,d){l.forEach(function(f){return k.add(d,f.clone());});});return k;};return m;})();b.Lrb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(107);b.xd=(function(){return function(m){this.id=c.id();this.Vza=m;};})();b.kFa=(function(){return function(m){this.id=c.id();this.Vza=m;};})();},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);m=a(41);b.Y=function(){return function(k){var l;if(Reflect.Yta(m.Gia,k))throw Error(c.Cpb);l=Reflect.getMetadata(m.$ob,k) || [];Reflect.p8(m.Gia,l,k);return k;};};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(67);m=a(92);b.xjb=function(k,l){return function(d,f,h){var g;g=new c.Metadata(k,l);"number" === typeof h?m.gL(d,f,h,g):m.T0(d,f,g);};};},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);m=a(67);k=a(92);b.Bbb=function(l){return function(d,f,h){var g;g=new m.Metadata(c.hD,l);"number" === typeof h?k.gL(d,f,h,g):k.T0(d,f,g);};};},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);m=a(67);k=a(92);b.optional=function(){return function(l,d,f){var h;h=new m.Metadata(c.rNa,!0);"number" === typeof f?k.gL(l,d,f,h):k.T0(l,d,h);};};},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);m=a(67);k=a(92);b.pp=function(){return function(l,d,f){var h;h=new m.Metadata(c.YT,!0);k.gL(l,d,f,h);};};},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);m=a(67);k=a(92);b.VJ=function(l){return function(d,f,h){var g;g=new m.Metadata(c.MG,l);"number" === typeof h?k.gL(d,f,h,g):k.T0(d,f,g);};};},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);m=a(67);k=a(92);b.U0=function(l){return function(d,f,h){var g;g=new m.Metadata(c.R3,l);k.gL(d,f,h,g);};};},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);m=a(41);k=a(67);b.ceb=function(){return function(l,d){d=new k.Metadata(m.KT,d);if(Reflect.Yta(m.KT,l.constructor))throw Error(c.jsb);Reflect.p8(m.KT,d,l.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xbb=function(a){return function(c){return function(){for(var m=[],k=0;k < arguments.length;k++){m[k]=arguments[k];}return m.forEach(function(l){return a.bind(l).Mcc(c);});};};};},function(r,b,a){var d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C;function c(){}function m(D){this.je=D;}function k(D){var F;F=g.aja.call(this) || this;D.KP?Object.assign(F,(0,x.u5a)(D)):D.laa?Object.assign(F,(0,w.g5a)(D)):D.lva?Object.assign(F,(0,u.W5a)()):D.DB || D.FY?Object.assign(F,(0,v.Y4a)()):D.MY?Object.assign(F,(0,x.q6a)(D)):Object.assign(F,(0,t.I4a)(D));return F;}function l(D){this.data=D.laa?(0,w.i5a)(D):D.lva?(0,u.Y5a)(D):D.DB || D.FY?(0,v.$4a)(D):D.MY?(0,x.s6a)(D):(0,t.K4a)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.bob=b.aob=b.$nb=b.Znb=void 0;r=a(0);d=a(1);f=a(48);h=a(108);g=a(663);n=a(168);p=a(330);q=a(209);t=a(664);v=a(665);u=a(666);w=a(667);x=a(668);y=a(669);z=a(670);Ua.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Lba:{configurable:!0,enumerable:!0,get:function(){return this.data.Lba;}},kt:{configurable:!0,enumerable:!0,get:function(){return this.data.kt;}},bq:{configurable:!0,enumerable:!0,get:function(){return this.data.bq;}},bP:{configurable:!0,enumerable:!0,get:function(){return this.data.bP;}},tE:{configurable:!0,enumerable:!0,get:function(){return this.data.tE;}},pqa:{configurable:!0,enumerable:!0,get:function(){return this.data.pqa;}},g1a:{configurable:!0,enumerable:!0,get:function(){return this.data.g1a;}},mwa:{configurable:!0,enumerable:!0,get:function(){return this.data.mwa;}},JW:{configurable:!0,enumerable:!0,get:function(){return this.data.JW;}},Ilb:{configurable:!0,enumerable:!0,get:function(){return this.data.Ilb;}},R6:{configurable:!0,enumerable:!0,get:function(){return this.data.R6;}}});A=l;A=r.__decorate([(0,d.Y)(),r.__param(0,(0,d.l)(n.vG))],A);b.Znb=A;ka(k,g.aja);B=k;B=r.__decorate([(0,d.Y)(),r.__param(0,(0,d.l)(n.vG))],B);b.$nb=B;m.prototype.apply=function(){this.je.laa?Object.assign(this,(0,w.h5a)(this.je)):this.je.lva?Object.assign(this,(0,u.X5a)(this.je)):this.je.DB || this.je.FY?Object.assign(this,(0,v.Z4a)(this.je)):this.je.MY?Object.assign(this,(0,x.r6a)(this.je)):Object.assign(this,(0,t.J4a)(this.je));return this;};C=m;C=r.__decorate([(0,d.Y)(),r.__param(0,(0,d.l)(n.vG))],C);b.aob=C;c=r.__decorate([(0,d.Y)()],c);b.bob=c;b.platform=new d.xd(function(D){D(f.Qq).to(A).ha();D(h.WG).to(B).ha();D(p.TOa).to(C).ha();D(f.h4).to(c).ha();D(q.bja).Pe(function(F){return function(){var G;G=F.wb.get(n.vG);return G.DB || G.FY?{cc:function(E,H,L){return new z.mka(E,H,L);},request:y.lTa}:G.MY?{cc:function(E,H,L){return new (a(671))(E,H,L);},request:a(672)}:{};};});});},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.aja=void 0;c=a(5);m=a(52);k=a(42);l={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.aja=function(){this.kBa=!0;this.gI=[];this.$n=[];this.GO=!1;this.Ew=[k.Mm.Jga,k.Mm.mub,k.Mm.ZL,k.Mm.YJa];this.Bn=void 0;this.Vqa=!0;this.I8=!1;this.c7=(0,m.ca)(288E4);this.f7=(0,m.ca)(335544320);this.NB=(0,c.qc)(15E3);this.x_b=(0,m.ca)(6291456);this.XP=1E3;this.Doa=!0;this.Sea=l;this.XR=(0,m.ca)(0);this.zP=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.Naa=["th"];this.Wea=(0,c.qc)(0);this.tY=!0;this.pfa=!1;this.JO=this.axa=this.u9=!0;this.vL=this.AE=this.Mx=!1;this.xI=["start"];};},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.J4a=b.I4a=b.K4a=void 0;c=a(26);m=a(42);k=a(118);l=a(141);b.K4a=function(d){return Object.assign(Object.assign({},(0,l.eP)()),{kt:d.j9a?"T":d.EY?"C":"M",bq:d.j9a?"NFCDTS-01-":d.hF?"NFCDCH-02-":d.LP?"NFCDCH-MC-":d.EY?"NFCDCH-01-":d.daa?"NFCDCH-AP-":d.DY?"NFCDCH-AT-":d.KP?"NFCDCH-PH-":"NFCDCH-LX-",tE:d.EY?"chromeos-cadmium":"chrome-cadmium"});};b.I4a=function(d){var f,h;f=(0,l.dP)();h=Object.assign(Object.assign({},f),{GO:!0,Mx:!0,AE:!0,vL:!0});d.hF && (h.$n=[].concat(ia(f.$n),ia((0,k.gp)([m.H.QC,m.H.RC],{minimumCores:5}))));d.LP && (h.$n=[].concat(ia(f.$n),ia((0,k.gp)([m.H.QC,m.H.RC],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));d.EY && (h.$n=(0,k.gp)([].concat(ia(m.Pd.h2),ia(m.Pd.N1),ia(m.Pd.M1),ia(m.Pd.Ofa),ia(m.Pd.Cga),ia(m.Pd.Dga),ia(m.Pd.Bga),ia(m.Pd.zga),ia(m.Pd.Aga),ia(m.Pd.yga))));return h;};b.J4a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Om.EL,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.ur && (f=Object.assign(Object.assign({},f),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.DY && (f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL1:!0}));d.EY && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= d.ur && (f=Object.assign(Object.assign({},f),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.ur && d.hF && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0}));d.hF && 99 <= d.ur && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var m,k,l,d,f,h;function c(){var g,n,p;p=null === (g=nb.MSMediaKeys) || void 0 === g?void 0:g.isTypeSupported(k.Bb.fe,f.Od.jxa);g=p || (null === (n=nb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(k.Bb.XG,f.Od.jxa));return {Z8a:p,Y8a:g};}Object.defineProperty(b,"__esModule",{value:!0});b.Z4a=b.CRb=b.Y4a=b.$4a=void 0;m=a(26);k=a(93);l=a(42);d=a(141);f=a(120);h=a(118);b.$4a=function(g){return Object.assign(Object.assign({},(0,d.eP)()),{kt:g.DB?"D":"H",bq:g.DB?g.LP?"NFCDIE-04-":g.uXb?"NFCDIE-LX-":g.daa?"NFCDIE-AP-":g.DY?"NFCDIE-AT-":g.KP?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",tE:"edge-cadmium",R6:!1});};b.Y4a=function(){var g,n,p;g=Object.assign(Object.assign({},(0,d.dP)()),{gI:(0,h.gp)([l.Yd.CG,l.Yd.DG,l.Yd.WS,l.Yd.XS]),$n:(0,h.gp)([].concat(ia(l.Pd.h2),ia(l.Pd.N1),ia(l.Pd.M1),ia(l.Pd.Ofa),ia(l.Pd.Cga),ia(l.Pd.Dga),ia(l.Pd.Bga),ia(l.Pd.zga),ia(l.Pd.Aga),ia(l.Pd.yga),ia(l.Pd.XFa),ia(l.Pd.YFa),ia(l.Pd.fob))),Bn:void 0,tY:!1});n=c();p=n.Z8a;n.Y8a || (g.Mx=!0,g.AE=!0,g.vL=!0);g.xI=p?[]:["start"];return g;};b.CRb=c;b.Z4a=function(g){var n,p,q,t,v,u,w;n=g.FY;p=g.DB;q=g.hF;t=c();v=t.Y8a;u=t.Z8a;t={nudgeSourceBuffer:!0,audioCapabilityDetectorType:m.Qw.Gz,videoCapabilityDetectorType:m.Om.Gz,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:u?!1:!0,enableAdPlaygraphs:u?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};u={prepareCadmium:!0,enableLdlPrefetch:!v || u,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};w={audioCapabilityDetectorType:m.Qw.qz,videoCapabilityDetectorType:m.Om.EL,microsoftScreenSizeFilterEnabled:!1,keySystemList:[k.Bb.gTa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,h.gp)([l.Yd.CG,l.Yd.DG]),videoProfiles:(0,h.gp)([l.H.AG,l.H.BG,l.H.M2,l.H.O2,l.H.N2,l.H.P2]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= g.ur && (t=Object.assign(Object.assign(Object.assign({},t),u),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= g.ur && (t=Object.assign(Object.assign({},t),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= g.ur && (t=Object.assign(Object.assign({},t),{microsoftHwdrmRequiresHevc:!1})),17 <= g.ur && (t=Object.assign(Object.assign({},t),{enableDDPlusAtmos:!0})));p && (t=Object.assign(Object.assign(Object.assign({},t),u),{useEncryptedEvent:!1}),q && (t=Object.assign(Object.assign({},t),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),v?(t=Object.assign(Object.assign({},t),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[k.Bb.$Oa,k.Bb.aPa]}),94 === g.ur && (t=Object.assign(Object.assign({},t),{enableHWDRM:!1})),102 <= g.ur && (t=Object.assign(Object.assign({},t),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0}))):t=Object.assign(Object.assign({},t),w));return t;};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.X5a=b.W5a=b.Y5a=void 0;c=a(26);m=a(141);b.Y5a=function(k){return Object.assign(Object.assign({},(0,m.eP)()),{kt:"O",bq:k.daa?"NFCDOP-AP-":k.DY?"NFCDOP-AT-":k.KP?"NFCDOP-PH-":"NFCDOP-01-",tE:"opera-cadmium"});};b.W5a=function(){return Object.assign(Object.assign({},(0,m.dP)()),{GO:!0,Mx:!0,AE:!0,vL:!0});};b.X5a=function(k){var l;l={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Om.EL,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= k.ur && (l=Object.assign(Object.assign({},l),{enableVP9:!0}));return l;};},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.h5a=b.g5a=b.i5a=void 0;c=a(26);m=a(42);k=a(118);l=a(141);b.i5a=function(d){return Object.assign(Object.assign({},(0,l.eP)()),{kt:"F",bq:d.LP?"NFCDFF-MC-":d.hF?"NFCDFF-02-":d.daa?"NFCDFF-AP-":d.DY?"NFCDFF-AT-":d.KP?"NFCDFF-PH-":"NFCDFF-LX-",tE:"firefox-cadmium"});};b.g5a=function(d){var f,h;f=(0,l.dP)();h=Object.assign(Object.assign({},f),{GO:!0,Mx:!0,AE:!0,vL:!0});d.hF && (h.$n=[].concat(ia(f.$n),ia((0,k.gp)([m.H.QC,m.H.RC],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.LP && (h.$n=[].concat(ia(f.$n),ia((0,k.gp)([m.H.QC,m.H.RC],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return h;};b.h5a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.Om.EL,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(d.hF || d.LP) && 95 <= d.ur && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var m,k,l,d,f,h;function c(g){var n;n=Object.assign(Object.assign({},(0,h.dP)()),{gI:(0,f.gp)([d.Yd.CG,d.Yd.DG,d.Yd.Qz]),$n:(0,f.gp)([].concat(ia(d.Pd.h2),ia(d.Pd.N1),ia(d.Pd.M1),ia(d.Pd.Cga),ia(d.Pd.Dga),ia(d.Pd.Bga),ia(d.Pd.zga),ia(d.Pd.Aga),ia(d.Pd.yga),ia(d.Pd.XFa),ia(d.Pd.YFa))),Bn:l.Bb.sqb,NB:(0,m.qc)(7E3),xI:[]});(0,h.gaa)(g,14) && (n.xI=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.r6a=b.q6a=b.u5a=b.s6a=void 0;m=a(5);k=a(26);l=a(93);d=a(42);f=a(118);h=a(141);b.s6a=function(g){return Object.assign(Object.assign({},(0,h.eP)()),{kt:"S",bq:g.KP?"NFCDSF-PH-":"NFCDSF-01-",tE:"safari-cadmium"});};b.u5a=function(g){return Object.assign(Object.assign({},c(g)),{pfa:!0,JO:!1,Ew:[d.Mm.N4]});};b.q6a=c;b.r6a=function(g){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:k.Om.qz,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,h.gaa)(g,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,h.IY)(g,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,h.IY)(g,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,h.IY)(g,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,h.IY)(g,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,h.gaa)(g,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));return n;};},function(r,b,a){var m;function c(k,l,d,f){this.log=k;this.cJ=l;this.mC=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.lTa=void 0;m=a(3);c.prototype.wh=function(k){var l;l=this;(this.context.Mf || this.context.Al) && this.log.trace("Requesting license",{drmType:k.Go});return this.cJ(k).catch(function(d){l.log.error("Unable to get the Playready license",d);if(l.context.vrc)throw d;throw {ea:!1,code:m.W.RL,Hc:d.Hc,Ud:d.Ud,Ho:d.Ho,Rk:d.message || d.Rk,NI:d.data,message:"Unable to send the Playready license request. " + (d.message || d.Rk)};});};c.prototype.release=function(k){var l;l=this;this.log.trace("Requesting stop data");return this.mC(k).catch(function(d){l.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.Hc,extCode:d.Ud,edgeCode:d.Ho,message:d.message || d.Rk});throw {ea:!1,code:m.W.xja,Hc:d.Hc,Ud:d.Ud,Ho:d.Ho,Rk:d.message || d.Rk,message:"Unable to release the PlayReady license. " + (d.message || d.Rk)};});};b.lTa=c;nb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.mka=void 0;c=a(3);m=a(206);k=a(210);l=a(31);d=a(79);f=a(32);h=a(26);g=a(60);(function(){var z;function n(A,B,C){var D;D=this;this.log=A;this.ap=B || y.bind(this);this.context=C;this.g_=this.challenge=this.keySystem=this.keySessionId=this.Ib=this.mediaKeys=void 0;this.qd={};this.bwa=this.oCa=!1;this.SZ=v.bind(this);this.g_=void 0;this.VDa=new Promise(function(F,G){D.uAa=F;D.Wza=G;});this.VDa.catch(function(F){D.log.error("wait for license rejected",F);});m.ic.get(h.rz).L9().then(function(F){(D.context.Mf || D.context.Al) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.Gn=function(F,G){D.Wza(F,G);D.context.onerror(F,G);};this.$xa=function(){D.uAa();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return m.ic.get(f.Di);}function q(){return m.ic.get(l.ci);}function t(A){var B,C;B=m.ic.get(k.Vja);C="";A.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.ajb(A));(this.context.Mf || this.context.Al) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function v(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Ib.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.yg.Bs,z.rD.wu,B);this.Ib=void 0;}function u(A,B,C){var F,G,E;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (D+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > D.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function w(A,B,C,D){var F,G;F=A.target && A.target.sessionId;G=p().decode(u(A.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(C.context.Mf || C.context.Al || C.context.LC) && C.log.debug("LICENSE: License challenge",p().encode(G));C.keySessionId=F;A={rg:B,messageType:"license-request",Go:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",Ik:[{data:G,sessionId:F}]};12 === C.state && (C.ap("lc"),G={data:G,Go:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.iK || (C.g_=G));C.context.vm.wh(A).then(function(E){if(12 === C.state && (C.ap("lr"),C.$xa(),!C.context.iK))(C.h_=E.$j[0].data,C.state=13,D({ea:!0,state:C.state}));else if(C.Ib)return x(C,E.$j[0].data,C.Ib).then(function(){C.state=30;D({ea:!0,state:C.state});});}).catch(function(E){D(q().SJ(E,{state:C.state}));});}function x(A,B,C){A.iaa() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(B)});return new Promise(function(D,F){try{A.Ib.update(B);D(void 0);A.iaa() && A.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){F({ea:!1,code:z.yg.d4,message:"Unable to update the EME.",Qb:q().cf(G)});}});}function y(A){this.context.za && (this.qd[A]=this.context.za.getTime(),this.log.trace("Milestone: " + A + ", " + this.qd[A]));}z={yg:c.W,rD:c.T};n.prototype.NX=function(){return this.keySystem;};n.prototype.blb=function(A,B){A.log && (this.log=A.log);A.ap && (this.ap=A.ap);B.vm && (this.context.vm=B.vm);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):m.ic.get(h.rz).bJ()).then(function(C){B.ap("lg");B.log.trace("Creating the media keys",{keySystem:C});B.keySystem=C;if(B.context.D_)C=Promise.reject({ea:!1,code:z.yg.aT,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new nb.MSMediaKeys(C);}catch(D){C=Promise.reject({ea:!1,code:z.yg.INa,message:"create MSMediaKeys(" + C + ") failed",Qb:q().cf(D)});break a;}try{B.context.$ && B.context.$.msSetMediaKeys(B.mediaKeys);}catch(D){C=Promise.reject({ea:!1,code:z.yg.cM,message:"set MSMediaKeys failed",Qb:q().cf(D)});break a;}C=Promise.resolve({ea:!0,mediaKeys:B.mediaKeys});}return C;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.$=void 0;if(this.Ib){this.log.info("Closing the session",{sessionId:this.Ib.sessionId});this.Ib.removeEventListener("mskeyerror",this.SZ);try{this.Ib.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Ib=void 0;}};n.prototype.wh=function(A,B,C){var D;if(1 < B.length)return Promise.reject({code:z.yg.MNa});if(0 === B.length)return Promise.reject({code:z.yg.LNa});B=B[0];D=this;D.context.Mf && D.log.trace("LICENSE: Setting license");return D.context.D_?Promise.reject({ea:!1,code:z.yg.ZHa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,H,L,K,I,R,O;try{H=function(J){D.Ib && (D.Ib.removeEventListener("mskeymessage",K),D.Ib.removeEventListener("mskeyadded",I),D.Ib.removeEventListener("mskeyerror",R),D.Ib.addEventListener("mskeyerror",D.SZ));J.state=11;J.ea?F(J):(D.close(),G(J));};L=function(J){var M,P;M=[];P=Array.prototype.map.call(J,function(T){return T?String.fromCharCode(T):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(P)M.push(P[1]);else {J=u(J,"KIDS");P=/VALUE="(.+?)">/g;for(var S=P.exec(J);null != S;){M.push(S[1]);S=P.exec(J);}}return M;};K=function(J){E && clearTimeout(E);w(J,A,D,H);};I=function(J){(D.context.Mf || D.context.Al) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});H({ea:!0});};R=function(J){var M,P;E && clearTimeout(E);if(J.target && J.target.error)(M=J.target.error.systemCode,P=J.target.error.code);M={code:z.yg.Bs,Hc:z.rD.wu,Ud:M?m.ic.get(d.mz).WI(M,4):P,details:q().cf(J),cause:J.target && J.target.error,Nea:M,Q8:P};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Ib && D.Ib.sessionId,keySystem:J.target.keySystem,systemCode:M.Nea,code:M.Q8});D.ap("le");D.Gn && D.Gn(z.yg.Bs,M);H({ea:!1,code:z.yg.Bs,Hc:z.rD.wu,Ud:M.Ud,message:"Received a key error.",Qb:M.details,cause:M.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.Mf || D.context.Al) && D.log.debug("LICENSE: PSSH",p().encode(B));D.ky || (D.ky=L(B));if(C){O=t.call(D,D.ky);D.Ib=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),O);}else D.Ib=D.mediaKeys.createSession("video/mp4",B,null);(D.context.Mf || D.context.Al) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Ib.keySystem,sessionId:D.Ib.sessionId});D.Ib.addEventListener("mskeymessage",K);D.Ib.addEventListener("mskeyadded",I);D.Ib.addEventListener("mskeyerror",R);D.context.Zva && (E=setTimeout(function(){H({ea:!1,code:z.yg.JT,Hc:z.rD.fqb});},D.context.Zva));}catch(J){G({code:z.yg.JT,Hc:z.rD.Im});}});})();};n.prototype.tK=function(){var A;(this.context.Mf || this.context.Al) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.wh(g.wp.Qha.Rq,A,!0);};n.prototype.Y6=function(A){this.h_ || this.log.error("pending license must exist at this point");this.context.iK=!0;try{A && (this.context.$=A,this.context.$.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ea:!1,code:z.yg.cM,message:"setMediaKeys failed",Qb:q().cf(B)});}return x(this,this.h_,this.Ib);};n.prototype.X2a=function(A){var B,C;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));C={da:A.da,Me:A.Me};return new Promise(function(D,F){(function(){B.context.vm.release.call(B.context.vm,C).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ea:!0};B.close();G.ea?D(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.Hc,extCode:G.Ud,edgeCode:G.Ho,message:G.Rk});B.close();G.ea?D(G):F(G);});})();});};n.prototype.iaa=function(){return this.context.Mf || this.context.Al;};b.mka=n;nb._cad_global.WindowsEmeSession=b.mka;})();},function(r,b,a){var w,x,y,z,A,B,C,D,F,G,E,H;function c(L,K,I){var R;R=this;this.log=L;this.ap=K || u.bind(this);this.context=I;this.g_=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.qd={};this.dk=void 0;this.url="";this.bwa=this.oCa=!1;this.SZ=g.bind(this);this.ip=this.g_=void 0;this.VDa=new Promise(function(O,J){R.uAa=O;R.Wza=J;});this.Gn=function(O,J){R.Wza(O,J);R.context.onerror(O,J);};this.$xa=function(){R.uAa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function m(){return w.Ba.get(A.Gu);}function k(){return w.Ba.get(z.Di);}function l(){return w.Ba.get(x.ci);}function d(L){return (/com.apple.fps/).test(L) && !(/com.apple.fps.2_0/).test(L);}function f(L){var K;L=(function(I){var O,J;function R(M,P,S,T){var U,W;U=new Uint8Array("piff" == P?88:72);W=new G.ZS(U);W.PC(12);W.OC("frma");W.OC(M);W.PC(20);W.OC("schm");W.H1(0);W.H1(0);W.OC(P);W.PC(S);"piff" == P?(W.PC(56),W.OC("schi"),W.PC(48),W.OC("uuid"),W.G1([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(W.PC(40),W.OC("schi"),W.PC(32),W.OC("tenc"));W.H1(0);W.H1(0);W.PC(264);W.G1(T);return U;}O=R("avc1","piff",65537,I);O=m().decode(k().encode(O));I=R("avc1",E.Sw,65536,I);I=m().decode(k().encode(I));J=new Uint8Array(7 + O.length + 8 + I.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(O,7);J.set([34,44,10,32,32,32,32,34],7 + O.length);J.set(I,7 + O.length + 8);J.set([34,10,32,32,93],7 + O.length + 8 + I.length);return J;})(L);K=new Uint8Array(13 + L.length + 2);K.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);K.set(L,13);K.set([10,125],13 + L.length);return K;}function h(L){var K;L=L.subarray(14,30);L=String.fromCharCode.apply(null,L);L=k().decode(L);L=L.subarray(4);K=new Uint8Array(16);K.set(L);return K;}function g(L){var K;K=n(L);this.log.error("LICENSE Error: Received event: " + L.type,{sessionId:this.Ib?this.Ib.sessionId:void 0,keySystem:L.target.keySystem,systemCode:K.Nea,code:K.Q8});this.Gn && this.Gn(H.yg.Bs,K);this.Ib=void 0;}function n(L){var K,I;if(L.target.error)(K=L.target.error.systemCode,I=L.target.error.code);return {code:H.yg.Bs,Hc:H.rD.wu,Ud:K?w.Ba.get(y.mz).WI(K,4):I,details:l().cf(L),cause:L.target.error,Nea:K,Q8:I};}function p(L,K,I,R){var O,J,M;O=L.target.sessionId;J=L.message;M=l().kE(J,m().decode("certificate"));I.bwa=K === F.wp.Qha.yp;I.state=M?2:12;I.log.trace("LICENSE: Received event: " + L.type,{keySystem:L.target.keySystem,sessionId:O});(I.context.Mf || I.context.Al || I.context.LC) && I.log.debug("LICENSE: License challenge",k().encode(J));I.keySessionId=O;L={qq:I.qq,rg:K,messageType:"license-request",Go:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",Ik:[{data:J,sessionId:O}]};12 === I.state && (I.ap("lc"),J={data:J,Go:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.iK || (I.g_=J));I.context.vm.wh(L).then(function(P){if(12 === I.state && (I.ap("lr"),I.$xa(),!I.context.iK))(I.h_=P.$j[0].data,I.state=13,R({ea:!0,state:I.state}));else if(I.Ib)return (P=v(I,M,P.$j[0].data,I.Ib),2 === I.state?P:P.then(function(){I.state=30;R({ea:!0,state:I.state});}));}).catch(function(P){R(l().SJ(P,{state:I.state}));});}function q(L,K,I){K.log.trace("LICENSE: Received event: " + L.type,{keySystem:L.target.keySystem,sessionId:L.target.sessionId});I({ea:!0});}function t(L,K,I){var R;R=n(L);K.Gn && K.Gn(H.yg.Bs,R);K.log.error("LICENSE Error: Received event: " + L.type,{sessionId:K.Ib?K.Ib.sessionId:void 0,keySystem:L.target.keySystem,systemCode:R.Nea,code:R.Q8});I({ea:!1,code:H.yg.Bs,Hc:H.rD.wu,Ud:R.Ud,message:"Received a key error.",Qb:R.details,cause:R.cause});}function v(L,K,I,R){R={sessionId:R.sessionId};L.iaa() && (R.license=k().encode(I));L.log.trace("calling keysession update",R);return new Promise(function(O,J){function M(){L.Ib.removeEventListener("webkitkeyadded",M);O(void 0);}try{K || L.Ib.addEventListener("webkitkeyadded",M);L.Ib.update(I);K && O(void 0);}catch(P){J({ea:!1,code:H.yg.d4,message:"Unable to update the EME.",e:P});}});}function u(L){this.qd[L]=w.Ba.get(B.cd).Tb().fa(C.ma);this.log.trace("Milestone: " + L + ", " + this.qd[L]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(8);b=a(3);x=a(31);y=a(79);z=a(32);A=a(74);B=a(19);C=a(5);D=a(13);F=a(60);G=a(169);E=a(49);H={yg:b.W,rD:b.T};c.prototype.NX=function(){return this.keySystem;};c.prototype.blb=function(L,K){L.log && (this.log=L.log);L.ap && (this.ap=L.ap);K.vm && (this.context.vm=K.vm);K.onerror && (this.context.onerror=K.onerror);};c.prototype.create=function(L){var K;K=this;K.ap("lg");K.log.trace("CREATE: Creating the media keys",{keySystem:L});K.keySystem=L;return K.context.D_?Promise.reject({ea:!1,code:H.yg.aT,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var R,O;R=l().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");O=R.lastChild;K.ip=R;K.context.$=D.Gh.createElement("VIDEO");O?K.ip.insertBefore(K.context.$,O):K.ip.appendChild(K.context.$);}return new Promise(function(R,O){function J(M){(K.context.Mf || K.context.Al || K.context.LC) && K.log.trace("CREATE: Received event: " + M.type,{readyState:M.target.readyState,duration:M.target.duration});try{K.mediaKeys=new nb.WebKitMediaKeys(L);K.context.$.webkitSetMediaKeys(K.mediaKeys);R({ea:!0,mediaKeys:K.mediaKeys});}catch(P){K.log.error("CREATE: Exception on webkitSetMediaKeys",P);O({ea:!1,code:H.yg.JT,Qb:l().cf(P)});}}if(d(K.keySystem))try{K.mediaKeys=new nb.WebKitMediaKeys(L);K.context.$ && (K.log.trace("LICENSE: calling setmediakeys on video element"),K.context.$.webkitSetMediaKeys(K.mediaKeys));R({ea:!0,mediaKeys:K.mediaKeys});}catch(M){O({ea:!1,code:H.yg.JT,Qb:l().cf(M)});}else (K.mediaKeys=new nb.WebKitMediaKeys(L),K.context.$?(K.log.trace("LICENSE: calling setmediakeys on video element"),K.context.$.webkitSetMediaKeys(K.mediaKeys)):(I(),K.dk=new D.iD(),K.dk.addEventListener("sourceopen",J),K.url=URL.createObjectURL(K.dk),K.context.$.src=K.url),R({ea:!0,mediaKeys:K.mediaKeys}));});})();};c.prototype.close=function(){this.Ib && (this.log.info("Closing the session",{sessionId:this.Ib.sessionId}),this.Ib.removeEventListener("webkitkeyerror",this.SZ),this.Ib.close(),this.Ib=void 0);};c.prototype.wh=function(L,K){var I;if(1 < K.length)return Promise.reject({code:H.yg.MNa});if(0 === K.length)return Promise.reject({code:H.yg.LNa});K=K[0];I=this;I.context.Mf && I.log.trace("LICENSE: Setting license",{initData:k().encode(K)});return I.context.D_?Promise.reject({ea:!1,code:H.yg.ZHa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(R,O){var M,P,S;function J(T){I.Ib && (I.Ib.removeEventListener("webkitkeymessage",M),I.Ib.removeEventListener("webkitkeyadded",P),I.Ib.removeEventListener("webkitkeyerror",S),I.Ib.addEventListener("webkitkeyerror",I.SZ));T.ea?R(T):(I.close(),O(T));}M=function(T){p(T,L,I,J);};P=function(T){q(T,I,J);};S=function(T){t(T,I,J);};d(I.keySystem) && (I.qq=h(K),K=f(I.qq));I.log.trace("LICENSE: Executing prefix based EME");I.context.Mf | I.context.Al && I.log.debug("LICENSE: PSSH",k().encode(K));I.Ib=I.mediaKeys.createSession("video/mp4",K,null);(I.context.Mf || I.context.Al) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Ib.keySystem,sessionId:I.Ib.sessionId});I.Ib.addEventListener("webkitkeymessage",M);I.Ib.addEventListener("webkitkeyadded",P);I.Ib.addEventListener("webkitkeyerror",S);});})();};c.prototype.tK=function(){var L;L=this;return L.oCa?Promise.resolve({ea:!0}):new Promise(function(K,I){var O,J,M;function R(P){L.Ib && (L.Ib.removeEventListener("webkitkeymessage",O),L.Ib.removeEventListener("webkitkeyadded",J),L.Ib.removeEventListener("webkitkeyerror",M));P.ea?K(P):(I(P),L.close());}O=function(P){p(P,F.wp.Qha.Rq,L,R);};J=function(P){q(P,L,R);K({ea:!0});};M=function(P){t(P,L,R);};L.bwa=!1;L.Ib.addEventListener("webkitkeymessage",O);L.Ib.addEventListener("webkitkeyadded",J);L.Ib.addEventListener("webkitkeyerror",M);L.Ib.update(m().decode("renew"));});};c.prototype.Y6=function(L){this.h_ || this.log.error("pending license must exist at this point");this.context.iK=!0;try{L && (this.context.$=L,this.log.trace("calling setmediakeys on video element"),this.context.$.webkitSetMediaKeys(this.mediaKeys));}catch(K){return new Promise(function(I,R){R({ea:!1,code:H.yg.cM,message:"setMediaKeys failed",Qb:l().cf(K)});});}return v(this,!1,this.h_,this.Ib);};c.prototype.X2a=function(L){var K,I;K=this;K.log.trace("Releasing the license of the current session",JSON.stringify(L));K.oCa=!0;I={da:L.da,Me:L.Me};return new Promise(function(R,O){(function(){K.context.vm.release.call(K.context.vm,I).then(function(){var J;K.log.trace("successfully released the license",JSON.stringify(L));J={ea:!0};J.ea?R(J):(K.close(),O(J));}).catch(function(J){K.log.error("RELEASE: Unable to get the release the license",{sessionId:K.Ib?K.Ib.sessionId:void 0,code:J.code,subCode:J.Hc,extCode:J.Ud,edgeCode:J.Ho,message:J.Rk});J.ea?R(J):(K.close(),O(J));});})();});};c.prototype.iaa=function(){return this.context.Mf || this.context.Al;};r.exports=c;},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p,q){this.log=g;this.cJ=n;this.mC=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});m=a(3);k=a(8);l=a(31);d=a(74);f=a(32);h=a(49);c.prototype.wh=function(g){var n,p;n=this;(this.context.Mf || this.context.Al) && this.log.debug("Requesting a license",g);if(k.Ba.get(l.ci).kE(k.Ba.get(d.Gu).decode("certificate"),g.Ik[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({$j:[{sessionId:g.Ik[0].sessionId,data:k.Ba.get(f.Di).decode(h.H2)}]});}else p=k.Ba.get(l.ci).kE(k.Ba.get(d.Gu).decode("content"),g.Ik[0].data)?Promise.resolve({$j:[{sessionId:g.Ik[0].sessionId,data:g.qq}]}):(function(){n.log.trace("Requesting license",{drmType:g.Go});return n.cJ(g).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:m.W.RL,Hc:q.Hc,Ud:q.Ud,Ho:q.Ho,Rk:q.message || q.Rk,NI:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.Rk),cause:q};});})();return p;};c.prototype.release=function(g){var n;n=this;this.log.trace("Requesting stop data");return this.mC(g).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.Hc,extCode:p.Ud,edgeCode:p.Ho,message:p.message || p.Rk});throw {ea:!1,code:m.W.xja,Hc:p.Hc,Ud:p.Ud,Ho:p.Ho,Rk:p.message || p.Rk,message:"Unable to release the FairPlay license. " + (p.message || p.Rk),cause:p};});};r.exports=c;},function(r,b,a){var l,d,f,h,g,n,p,q;function c(t,v,u){var w;w=this;this.is=t;this.Cq=v;this.config=u;this.Gw=function(){return {version:w.version,drmData:w.C8.map(function(x){return x.Gw();})};};this.dsa=function(x){var y;w.is.qo(x) && (x=m(x));1 === x.version && (x=k(w.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.C2(z);});}catch(z){throw new g.gd(f.W.PL,f.T.XC,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !w.is.po(x.version))throw new g.gd(f.W.PL,f.T.XC,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new g.gd(f.W.PL,f.T.SFa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.Pl=new n.Hha(2,this.config.SW,this.is.qo(this.config.SW),this.Cq,this.Gw);}function m(t){t=JSON.parse(t);t={xid:t.xid,movieId:t.movieId,keySessionIds:t.keySessionIds,licenseContextId:t.licenseContextId};if(!t.licenseContextId || !t.xid || !t.movieId)throw new g.gd(f.W.PL,f.T.XC);return {version:1,drmData:[t]};}function k(t,v){if(t.VD(v.drmData))return {version:2,drmData:v.drmData.map(function(u){var w;w=u.keySessionIds;return new q.C2({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(x){return {id:x,licenseContextId:u.licenseContextId,licenseId:void 0};}),xid:u.xid,movieId:u.movieId}).Gw();})};throw new g.gd(f.W.PL,f.T.XC);}Object.defineProperty(b,"__esModule",{value:!0});b.kGa=void 0;r=a(0);l=a(1);d=a(68);f=a(3);h=a(27);g=a(37);n=a(332);p=a(94);q=a(212);c.prototype.Yeb=function(){return this.Wac();};c.prototype.aXa=function(t){return this.Pl.add(t);};c.prototype.Q_=function(t){return this.Pl.remove(t,function(v,u){return v.da === u.da;});};c.prototype.toString=function(){return JSON.stringify(this.Gw(),null,"  ");};c.prototype.Wac=function(){var t;t=this;this.bfb || (this.bfb=new Promise(function(v,u){t.Pl.load(t.dsa).then(function(){v();}).catch(function(w){w.xa && w.cause?u(new g.gd(f.W.PL,w.xa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):u(w);});}));return this.bfb;};Ua.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Pl.version;}},C8:{configurable:!0,enumerable:!0,get:function(){return this.Pl.$m;}}});a=c;a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(h.Og)),r.__param(1,(0,l.l)(p.TC)),r.__param(2,(0,l.l)(d.xu))],a);b.kGa=a;},function(r,b,a){var m,k;function c(l,d,f,h,g){this.version=l;this.hK=d;this.pCa=f;this.Cq=h;this.Gw=g;}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;m=a(3);k=a(37);c.prototype.load=function(l){return this.jZb(l);};c.prototype.set=function(l){this.$m=l;return this.q4b();};c.prototype.jZb=function(l){var d;d=this;this.m$a || (this.m$a=new Promise(function(f,h){function g(n){d.rLb().then(function(){h(n);}).catch(function(){h(n);});}d.zta().then(function(n){d.storage=n;return d.storage.load(d.hK);}).then(function(n){var p;n=n.value;try{p=l(n);d.version=p.version;d.$m=p.data;f();}catch(q){g(q);}}).catch(function(n){n.xa !== m.T.qD?h(n):f();});}));return this.m$a;};c.prototype.q4b=function(){var l,d,f,h,g;l=this;if(!this.pCa)return Promise.resolve();if(this.Cea){h=new Promise(function(n,p){d=n;f=p;});g=function(){l.Cea=h;l.Rib().then(function(){d();}).catch(function(n){f(n);});};this.Cea.then(g).catch(g);return h;}return this.Cea=this.Rib();};c.prototype.Rib=function(){var l,d;l=this;d=this.Gw();return new Promise(function(f,h){l.zta().then(function(g){return g.save(l.hK,d,!1);}).then(function(){f();}).catch(function(g){h(c.Jcc(m.W.itb,g));});});};c.prototype.rLb=function(){var l;l=this;return this.pCa?new Promise(function(d,f){l.zta().then(function(h){return h.remove(l.hK);}).then(function(){d();}).catch(function(h){f(h);});}):Promise.resolve();};c.prototype.zta=function(){return this.storage?Promise.resolve(this.storage):this.Cq.create();};c.Jcc=function(l,d){var f;if(d.xa && d.cause)return new k.gd(l,d.xa,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.Hc){f=d.message?d.message + " ":"";d.code=l;d.message="" === f?void 0:f;return d;}return d instanceof Error?new k.gd(l,m.T.Im,void 0,void 0,void 0,void 0,d.stack,d):new k.gd(l,m.T.ho,void 0,void 0,void 0,void 0,void 0,d);};b.vKa=c;},function(r,b,a){var c,m,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Eeb=void 0;c=a(3);m=a(95);k=a(121);l=a(211);b.Eeb=function(f){l.DO.parent=f.wb;return function(){d || (d=new Promise(function(h,g){try{h(l.DO.get(k.KHa));}catch(n){g(new m.Fh(c.W.erb,c.T.orb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.xMa=void 0;a.prototype.f7a=function(){return void 0 !== this.mediaKeys;};a.prototype.hXa=function(c){this.mediaKeys=c;};a.prototype.N7b=function(){this.f7a() && (this.mediaKeys=void 0);};b.xMa=a;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t,v,u){this.II=p;this.mc=q;this.hQ=v;this.uq=u;this.log=t.mb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=void 0;r=a(0);m=a(1);k=a(121);l=a(32);d=a(6);f=a(142);h=a(96);g=a(119);n=a(333);c.prototype.vta=function(p){var q;q=this;return Promise.all([this.II(),this.Msa()]).then(function(t){var v;v=na(t);t=v.next().value;v=v.next().value;return t.nQb({type:p,initData:v},q.hQ());}).then(function(t){var v;v=na(t);t=v.next().value;v=v.next().value;v=q.mc.encode(v.data[0]);q.log.trace("Challenge generated",v);return {cc:t,Joa:v};});};c.prototype.Msa=function(){var p;p=this;return this.uq.KE().then(function(q){return q.Dv();}).then(function(q){switch(q){case g.Hm.GE:return n.KIa;case g.Hm.dC:return n.ZOa;default:return n.hTa;}}).then(function(q){return q.map(p.mc.decode);});};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.D2)),r.__param(1,(0,m.l)(l.Di)),r.__param(2,(0,m.l)(d.ub)),r.__param(3,(0,m.l)(f.zT)),r.__param(4,(0,m.l)(h.Fz))],a);b.lGa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x,y,z){this.Ge=v;this.$h=u;this.mc=w;this.is=x;this.FZ=y;this.Pk=z;}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=void 0;r=a(0);m=a(1);k=a(32);l=a(27);d=a(38);f=a(74);h=a(31);g=a(119);n=a(68);p=a(679);q=a(681);t=a(215);c.prototype.create=function(v){switch(v){case g.Hm.dC:return new q.aQa(this.FZ,this.is,this.mc,this.Ge,this.Pk,this.$h);case g.Hm.GE:return new p.JIa(this.FZ,this.is,this.mc,this.Ge,this.Pk,this.$h);default:return new t.gx(this.FZ,this.is,this.mc,this.Ge,this.Pk,this.$h);}};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(h.ci)),r.__param(1,(0,m.l)(f.Gu)),r.__param(2,(0,m.l)(k.Di)),r.__param(3,(0,m.l)(l.Og)),r.__param(4,(0,m.l)(d.aM)),r.__param(5,(0,m.l)(n.xu))],a);b.jIa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x,y,z){v=k.gx.call(this,v,u,w,x,y,z) || this;v.mc=w;v.Ci=x;v.Pk=y;v.$h=z;v.x7a=new l.IIa(v.mc,v.Ci,v.$h);return v;}Object.defineProperty(b,"__esModule",{value:!0});b.JIa=void 0;r=a(0);m=a(1);k=a(215);l=a(680);d=a(38);f=a(27);h=a(32);g=a(31);n=a(68);p=a(74);q=a(334);t=a(335);ka(c,k.gx);c.prototype.generateRequest=function(v,u){var w,x,y;w=this;try{x=u.map(function(z){return w.x7a.fSb(z);});this.b8a=x.map(function(z){return w.mc.encode(z);});y=this.x7a.jHb(x);return k.gx.prototype.generateRequest.call(this,v,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(v,u,w){var x,y,z,A,B;x=this;if(w)try{y=this.$h.encode(v[0]);z=JSON.parse(y).RESPONSES.map(function(C){var D;D=t.y4.bjb(C.ID);return {keyID:u === q.gH.zQa?x.b8a[x.b8a.length - 1]:w[D],payload:C.PAYLOAD};});if(u === q.gH.Request){A=z.map(function(C){return C.keyID;});w.forEach(function(C){-1 === A.indexOf(C) && z.push({keyID:C,error:1});});}B=JSON.stringify(z);v=[this.$h.decode(B)];}catch(C){return Promise.reject(C);}return k.gx.prototype.update.call(this,v,u);};c.prototype.tK=function(){return k.gx.prototype.update.call(this,[this.$h.decode("renew")],q.gH.Request);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(d.aM)),r.__param(1,(0,m.l)(f.Og)),r.__param(2,(0,m.l)(h.Di)),r.__param(3,(0,m.l)(g.ci)),r.__param(4,(0,m.l)(n.xu)),r.__param(5,(0,m.l)(p.Gu))],a);b.JIa=a;},function(r,b){function a(c,m,k){var l;l=this;this.mc=c;this.Ci=m;this.$h=k;this.fSb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=l.mc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.uqb={Sw:1667591779,bhc:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;a.prototype.jHb=function(c){var m;m=this.uqb.Sw;c=c.map(function(k){return {Aoc:"",oYb:k,Ena:k,Mac:k,Xec:[1]};});return this.SZb(m,c);};a.prototype.RZb=function(c){var m;m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,c);return this.zwa("fpsi",[m]);};a.prototype.QZb=function(c,m,k,l){c=[this.zwa("fkri",[c])];m.byteLength && c.push(this.iZ("fkai",[m]));k.byteLength && c.push(this.iZ("fkcx",[k]));l.length && c.push(this.iZ("fkvl",[new Uint8Array(new Uint32Array(l).buffer)]));return this.iZ("fpsk",c);};a.prototype.SZb=function(c,m){var k,d;k=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.RZb(c)];for(var l in m){d=m[l];c.push(this.QZb(d.oYb,d.Ena,d.Mac,d.Xec));}m=this.iZ("fpsd",c);l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,m.byteLength);return this.zwa("pssh",[k,l,m]);};a.prototype.zwa=function(c,m){var k,l,d;k=0;for(d in m){k+=m[d].byteLength;}k=new Uint8Array(12 + k);l=new DataView(k.buffer);d=0;l.setUint32(d,k.byteLength);d+=4;k.set(this.$h.decode(c),d);d+=4;l.setUint32(d,0);d+=4;for(var f in m){c=m[f];k.set(c,d);d+=c.byteLength;}return k;};a.prototype.iZ=function(c,m){var k,l;k=0;for(l in m){k+=m[l].byteLength;}k=new Uint8Array(8 + k);l=0;new DataView(k.buffer).setUint32(l,k.byteLength);l+=4;k.set(this.$h.decode(c),l);l+=4;for(var d in m){c=m[d];k.set(c,l);l+=c.byteLength;}return k;};b.IIa=a;},function(r,b,a){var m,k,l,d;function c(){return k.gx.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aQa=void 0;r=a(0);m=a(1);k=a(215);l=a(95);d=a(3);ka(c,k.gx);c.prototype.Y7=function(f,h,g,n,p){this.Efb(g);this.Bfb(n);this.zfb(p);this.$Ua=this.yb;this.yb=f.createSession(h);this.iXa(g);this.eXa(n);this.bXa(p);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function f(g){return g && g.sessionId?g.close():Promise.resolve();}h=this;this.lpa=void 0;return this.yb?Promise.all([f(this.yb),f(this.$Ua)]).then(function(){}).finally(function(){h.yb=void 0;h.$Ua=void 0;}):Promise.reject(new l.Fh(d.W.THa,d.T.KL,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,h){this.initDataType=f;this.initData=h;return k.gx.prototype.generateRequest.call(this,f,h);};a=c;a=r.__decorate([(0,m.Y)()],a);b.aQa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x,y,z){this.$h=v;this.Rj=u;this.mc=w;this.config=x;this.Pk=y;this.si=z;}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;r=a(0);m=a(1);k=a(79);l=a(32);d=a(74);f=a(12);h=a(80);g=a(119);n=a(68);p=a(683);q=a(684);t=a(685);c.prototype.create=function(v){switch(v){case g.Hm.dC:return new q.iIa(this.Rj,this.mc);case g.Hm.GE:return new t.$Qa(this.Rj,this.mc,this.$h,this.si);default:return new p.tGa(this.Rj,this.mc,this.Pk,this.config);}};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(d.Gu)),r.__param(1,(0,m.l)(k.mz)),r.__param(2,(0,m.l)(l.Di)),r.__param(3,(0,m.l)(f.Nc)),r.__param(4,(0,m.l)(n.xu)),r.__param(5,(0,m.l)(h.Jz))],a);b.LHa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x){this.Rj=v;this.mc=u;this.Pk=w;this.config=x;}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;r=a(0);m=a(1);k=a(3);l=a(79);d=a(32);f=a(336);h=a(95);g=a(69);n=a(68);p=a(12);q=a(37);t=a(49);c.prototype.L7=function(){return !1;};c.prototype.Mna=function(){return !0;};c.prototype.Eoa=function(){return !0;};c.prototype.MX=function(){return t.Sw;};c.prototype.F9=function(){return this.Pk.lBa?this.mc.decode(this.Pk.lBa):this.mc.decode(t.eTa);};c.prototype.pta=function(){var v;v=this;return [t.cD,t.Ija,t.Hja].map(function(u){return {initDataTypes:[v.MX()],persistentState:"required",videoCapabilities:[{contentType:f.N3,robustness:u}]};});};c.prototype.Sua=function(){Promise.reject(new q.gd(k.W.bha));};c.prototype.Gpa=function(v){var u;return {type:v.type,sessionId:null === (u=v.target) || void 0 === u?void 0:u.sessionId,OJ:[new Uint8Array(v.message)],messageType:v.messageType};};c.prototype.SA=function(v){var u,w,x;u=new h.Fh(k.W.Bs);w=null === v || void 0 === v?void 0:v.code;null != w && void 0 !== w?(w=parseInt(w,10),u.Hc=1 <= w && 9 >= w?k.T.wu + w:k.T.wu):u.Hc=v instanceof g.Ds?k.T.bT:k.T.Im;try{x=v.message.match(/\((\d*)\)/)[1];u.Ud=this.Rj.WI(x,4);}catch(y){}u.IW(v);return u;};c.prototype.hP=function(){};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.mz)),r.__param(1,(0,m.l)(d.Di)),r.__param(2,(0,m.l)(n.xu)),r.__param(3,(0,m.l)(p.Nc))],a);b.tGa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p;function c(q,t){this.Rj=q;this.mc=t;}Object.defineProperty(b,"__esModule",{value:!0});b.iIa=void 0;r=a(0);m=a(1);k=a(3);l=a(79);d=a(32);f=a(336);h=a(95);g=a(69);n=a(37);p=a(49);c.prototype.L7=function(){return !0;};c.prototype.Mna=function(){return !1;};c.prototype.Eoa=function(){return !1;};c.prototype.MX=function(){return p.Sw;};c.prototype.F9=function(){};c.prototype.pta=function(){return [{initDataTypes:[this.MX()],audioCapabilities:[{contentType:f.M3}],videoCapabilities:[{contentType:f.N3}],sessionTypes:[p.TEMPORARY]}];};c.prototype.Sua=function(){Promise.reject(new n.gd(k.W.bha));};c.prototype.Gpa=function(q){var t;t=new Uint8Array(q.message);t=this.qra(t,"PlayReadyKeyMessage","Challenge");t=this.mc.decode(t);return {type:q.type,sessionId:q.target.sessionId,OJ:[t],messageType:q.messageType};};c.prototype.SA=function(q){var t,v,u;t=new h.Fh(k.W.Bs);v=q.code;null != v && void 0 !== v?(v=parseInt(v,10),t.Hc=1 <= v && 9 >= v?k.T.wu + v:k.T.wu):t.Hc=q instanceof g.Ds?k.T.bT:k.T.Im;try{u=(/\((\d+)\)/).exec(q.message);t.Ud=this.Rj.WI(Number(u && u[1]),4);}catch(w){}t.IW(q);return t;};c.prototype.qra=function(q,t){var u,w,x;for(var v=1;v < arguments.length;++v){;}for(v=1;v < arguments.length;v++){;}v="";w=q.length;for(u=0;u < w;u++){x=q[u];0 < x && (v+=String.fromCharCode(x));}w="\\s*(.*)\\s*";for(u=arguments.length - 1;0 < u;u--){x=arguments[u];if(0 > v.search(x))return "";x="(?:[^:].*:|)" + x;w="[\\s\\S]*<" + x + "[^>]*>" + w + "</" + x + ">[\\s\\S]*";}return (v=v.match(new RegExp(w)))?v[1]:"";};c.prototype.hP=function(){};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.mz)),r.__param(1,(0,m.l)(d.Di))],a);b.iIa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v;function c(u,w,x,y){this.Rj=u;this.mc=w;this.$h=x;this.si=y;}Object.defineProperty(b,"__esModule",{value:!0});b.$Qa=void 0;r=a(0);m=a(1);k=a(3);l=a(79);d=a(74);f=a(95);h=a(69);g=a(32);n=a(49);p=a(337);q=a(37);t=a(80);v=a(335);c.prototype.L7=function(){return !1;};c.prototype.Mna=function(){return !1;};c.prototype.Eoa=function(){return !0;};c.prototype.MX=function(){return n.Sw;};c.prototype.F9=function(){return this.mc.decode(n.H2);};c.prototype.pta=function(){return [{initDataTypes:[n.Sw],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2"}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:[n.TEMPORARY]}];};c.prototype.Sua=function(u){u.tK();};c.prototype.Gpa=function(u){var w,x;w=[];if(u.messageType === p.hia || u.messageType === p.gia){if(u.messageType === p.hia){x=this.$h.encode(new Uint8Array(u.message));w=JSON.parse(x);x=w.map(function(y){return y.keyID;});w=w.map(function(y){return y.payload;});}else w=[this.mc.encode(new Uint8Array(u.message))];if(0 === w.length || !w.every(function(y){return y && y.length;}))throw new q.gd(k.W.YHa);w=this.Icc(w);w=this.$h.decode(JSON.stringify(w));}else w=new Uint8Array(u.message);return {type:u.type,sessionId:u.target.sessionId,OJ:[w],messageType:u.messageType,ky:x};};c.prototype.SA=function(u){var w,x,y,z;x=null === (w=u.target) || void 0 === w?void 0:w.error;if(x)(y=x.systemCode,z=x.code);w=new f.Fh(k.W.Bs,u instanceof h.Ds?k.T.bT:k.T.wu,y?this.Rj.WI(y,4):z,"",x);w.IW(u);return w;};c.prototype.Icc=function(u){u=u.map(function(w,x){return {ID:v.y4.iWb(x),PAYLOAD:w};});return {VERSION:this.si.Mx?3:1,CHALLENGES:u};};c.prototype.hP=function(u,w){var x,y;x=this;if(w && this.si.Mx)try{y=this.$h.encode(w[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=v.y4.bjb(z.ID);z=x.mc.decode(z.DHB).subarray(4,12);A=x.mc.decode(u[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new f.Fh(k.W.qtb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.mz)),r.__param(1,(0,m.l)(g.Di)),r.__param(2,(0,m.l)(d.Gu)),r.__param(3,(0,m.l)(t.Jz))],a);b.$Qa=a;},function(r,b,a){var m,k,l,d;function c(f,h){this.UW=f;this.WW=h;}Object.defineProperty(b,"__esModule",{value:!0});b.tMa=void 0;r=a(0);m=a(1);k=a(216);l=a(214);d=a(687);c.prototype.create=function(f,h){return new d.vMa(this.UW,this.WW,f,h);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.Zga)),r.__param(1,(0,m.l)(l.dha))],a);b.tMa=a;},function(r,b,a){var m,k;function c(l,d,f,h){this.UW=l;this.WW=d;this.UB=f;this.Go=h;}Object.defineProperty(b,"__esModule",{value:!0});b.vMa=void 0;m=a(93);k=a(49);c.prototype.createMediaKeys=function(){return this.UB.createMediaKeys();};c.prototype.getConfiguration=function(){return this.UB.getConfiguration();};c.prototype.Dv=function(){return m.Bb.IX(this.UB.keySystem);};c.prototype.h0a=function(){return this.WW.create(this.Go);};c.prototype.g0a=function(){return this.UW.create(this.Go);};Ua.Object.defineProperties(c.prototype,{keySystem:{configurable:!0,enumerable:!0,get:function(){return this.UB.keySystem;}},Eaa:{configurable:!0,enumerable:!0,get:function(){var l,d;l=this.keySystem;d=(0,k.U9)(this.UB);d && (l+="." + d);return l;}}});b.vMa=c;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(1);c=a(12);m=a(689);k=a(34);l=a(40);d=a(690);f=a(342);h=a(692);g=a(171);n=a(693);p=a(68);q=a(694);b.config=new r.xd(function(t){t(c.Nc).Pe(function(){return function(){return nb._cad_global.config;};});t(k.Hga).to(m.EGa).ha();t(k.Nm).to(m.RSa).ha();t(k.nT).to(m.EKa).ha();t(l.xp).to(d.VIa).ha();t(f.cNa).to(h.bNa).ha();t(g.PIa).to(n.OIa).ha();t(p.xu).to(q.kIa).ha();});},function(r,b,a){var l,d,f,h,g;function c(){this.WA={};this.sgb=0;}function m(n,p,q,t,v){this.debug=n;this.yB=p;this.MZ=q;this.tg=t;this.gda=v;}function k(n,p,q){this.yB=n;this.MZ=p;this.gda=q;}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=b.RSa=b.EGa=void 0;r=a(0);l=a(1);d=a(109);f=a(6);h=a(143);g=a(341);a=a(34);k=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(a.nT)),r.__param(1,(0,l.l)(h.C4)),r.__param(2,(0,l.l)(g.vja))],k);b.EGa=k;m=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(d.pz)),r.__param(1,(0,l.l)(a.nT)),r.__param(2,(0,l.l)(h.C4)),r.__param(3,(0,l.l)(f.ub)),r.__param(4,(0,l.l)(g.vja))],m);b.RSa=m;c.prototype.c0b=function(n){this.WA=Object.assign({},this.WA,n);this.sgb++;};Ua.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.WA;}},Kda:{configurable:!0,enumerable:!0,get:function(){return this.sgb;}}});a=c;a=r.__decorate([(0,l.Y)()],a);b.EKa=a;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t){p=d.qf.call(this,p,void 0 === t?"GeneralConfigImpl":t) || this;p.sh=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.VIa=b.PO=void 0;r=a(0);m=a(5);k=a(1);l=a(45);d=a(46);f=a(40);h=a(34);a=a(108);g={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.PO=function(p,q){return p.Zeb(g[q] || q,f.xz);};ka(c,d.qf);Ua.Object.defineProperties(c.prototype,{PO:{configurable:!0,enumerable:!0,get:function(){return f.xz.Stb;}},Qib:{configurable:!0,enumerable:!0,get:function(){return (0,m.zi)(8);}},mJ:{configurable:!0,enumerable:!0,get:function(){return "";}},ZN:{configurable:!0,enumerable:!0,get:function(){return "";}},k1:{configurable:!0,enumerable:!0,get:function(){return "";}},Z6:{configurable:!0,enumerable:!0,get:function(){return !0;}},tY:{configurable:!0,enumerable:!0,get:function(){return this.sh.tY;}},iOb:{configurable:!0,enumerable:!0,get:function(){return !1;}},je:{configurable:!0,enumerable:!0,get:function(){return {};}},vva:{configurable:!0,enumerable:!0,get:function(){return !1;}},ou:{configurable:!0,enumerable:!0,get:function(){return !1;}},$W:{configurable:!0,enumerable:!0,get:function(){return !0;}},aG:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},gB:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.xz.dSa,f.xz.IKa].indexOf(this.PO);}}});n=c;r.__decorate([l.config(b.PO,"environment")],n.prototype,"PO",null);r.__decorate([l.config(l.Fl,"storageTimeout")],n.prototype,"Qib",null);r.__decorate([l.config(l.string,"groupName")],n.prototype,"mJ",null);r.__decorate([l.config(l.string,"canaryGroupName",!0)],n.prototype,"ZN",null);r.__decorate([l.config(l.string,"uiGroupName")],n.prototype,"k1",null);r.__decorate([l.config(l.Ad,"applyIndexedDbOpenWorkaround")],n.prototype,"Z6",null);r.__decorate([l.config(l.Ad,"ignoreIdbOpenError")],n.prototype,"tY",null);r.__decorate([l.config(l.Ad,"executeStorageMigration")],n.prototype,"iOb",null);r.__decorate([l.config(l.object(),"browserInfo")],n.prototype,"je",null);r.__decorate([l.config(l.Ad,"isTestAccount")],n.prototype,"vva",null);r.__decorate([l.config(l.Ad,"useRangeHeader")],n.prototype,"ou",null);r.__decorate([l.config(l.Ad,"enableMilestoneEventList")],n.prototype,"$W",null);r.__decorate([l.config(l.object,"storageRules")],n.prototype,"aG",null);n=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(h.Nm)),r.__param(1,(0,k.l)(a.WG)),r.__param(2,(0,k.l)(h.k2)),r.__param(2,(0,k.optional)())],n);b.VIa=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Fia=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Fia=a;},function(r,b,a){var m,k,l,d;function c(f,h){return l.qf.call(this,f,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bNa=void 0;r=a(0);m=a(1);k=a(45);l=a(46);a=a(34);ka(c,l.qf);Ua.Object.defineProperties(c.prototype,{wlb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([k.config(k.Ad,"useNetworkMonitor")],d.prototype,"wlb",null);d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Nm)),r.__param(1,(0,m.l)(a.k2)),r.__param(1,(0,m.optional)())],d);b.bNa=d;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t,v){p=d.qf.call(this,p,"FtlProbeConfigImpl") || this;p.gi=q;p.za=t;p.sh=v;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(0);m=a(30);k=a(1);l=a(5);d=a(46);f=a(172);h=a(45);g=a(34);a=a(108);ka(c,d.qf);Ua.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.sh.u9;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.esa + (-1 === this.esa.indexOf("?")?"?":"&") + "monotonic=" + this.za.rbb + "&device=web";}},Aib:{configurable:!0,enumerable:!0,get:function(){return l.Ia;}},Wra:{configurable:!0,enumerable:!0,get:function(){return "";}},esa:{configurable:!0,enumerable:!0,get:function(){return this.gi.endpoint + "/ftl/probe" + (this.Wra?"?force=" + this.Wra:"");}}});n=c;r.__decorate([h.config(h.Ad,"ftlEnabled")],n.prototype,"enabled",null);r.__decorate([h.config(h.Fl,"ftlStartDelay")],n.prototype,"Aib",null);r.__decorate([h.config(h.string,"ftlEndpointForceParam")],n.prototype,"Wra",null);r.__decorate([h.config(h.url,"ftlEndpoint")],n.prototype,"esa",null);n=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(g.Nm)),r.__param(1,(0,k.l)(f.W1)),r.__param(2,(0,k.l)(m.Eh)),r.__param(3,(0,k.l)(a.WG))],n);b.OIa=n;},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p){g=k.qf.call(this,g,void 0 === p?"EmeConfigImpl":p) || this;g.je=n;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;r=a(0);m=a(1);k=a(46);l=a(34);d=a(5);f=a(45);a=a(168);ka(c,k.qf);Ua.Object.defineProperties(c.prototype,{l8a:{configurable:!0,enumerable:!0,get:function(){return this.je.I8a || this.je.laa || this.je.MY?!0:!1;}},lF:{configurable:!0,enumerable:!0,get:function(){return (0,d.zi)(5);}},Hya:{configurable:!0,enumerable:!0,get:function(){return (0,d.zi)(10);}},SW:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},sX:{configurable:!0,enumerable:!0,get:function(){return !1;}},tqa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Pt:{configurable:!0,enumerable:!0,get:function(){return !0;}},KXa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zi)(30);}},LXa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zi)(30);}},NXa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zi)(30);}},W6:{configurable:!0,enumerable:!0,get:function(){return (0,d.zi)(30);}},OXa:{configurable:!0,enumerable:!0,get:function(){return (0,d.zi)(30);}},lBa:{configurable:!0,enumerable:!0,get:function(){return "";}},Rcb:{configurable:!0,enumerable:!0,get:function(){return this.je.DB?!1:!0;}},Scb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([f.config(f.Ad,"initializeKeySystemAtStartup")],h.prototype,"l8a",null);r.__decorate([f.config(f.Fl,"licenseRenewalRequestDelay")],h.prototype,"lF",null);r.__decorate([f.config(f.Fl,"persistedReleaseDelay")],h.prototype,"Hya",null);r.__decorate([f.config(f.string,"drmPersistKey")],h.prototype,"SW",null);r.__decorate([f.config(f.Ad,"forceLimitedDurationLicense")],h.prototype,"sX",null);r.__decorate([f.config(f.Ad,"disableLicenseRenewal")],h.prototype,"tqa",null);r.__decorate([f.config(f.Ad,"prepareCadmium")],h.prototype,"Pt",null);r.__decorate([f.config(f.Fl,"apiCloseTimeout")],h.prototype,"KXa",null);r.__decorate([f.config(f.Fl,"apiCreateMediaKeysTimeout")],h.prototype,"LXa",null);r.__decorate([f.config(f.Fl,"apiSetServerCertificateTimeout")],h.prototype,"NXa",null);r.__decorate([f.config(f.Fl,"apiGenerateRequestTimeout")],h.prototype,"W6",null);r.__decorate([f.config(f.Fl,"apiUpdateTimeout")],h.prototype,"OXa",null);r.__decorate([f.config(f.string,"serverCertificate")],h.prototype,"lBa",null);r.__decorate([f.config(f.Ad,"outputRestrictedIsFatal")],h.prototype,"Rcb",null);r.__decorate([f.config(f.Ad,"outputRestrictedIsFatalForUhd")],h.prototype,"Scb",null);h=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Nm)),r.__param(1,(0,m.l)(a.vG)),r.__param(2,(0,m.l)(l.k2)),r.__param(2,(0,m.optional)())],h);b.kIa=h;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.i2a=void 0;r=a(1);c=a(121);m=a(696);k=a(96);l=a(697);d=a(344);f=a(698);b.i2a=new r.xd(function(h){h(c.KHa).to(m.JHa).ha();h(k.Fz).to(l.wMa).ha();h(d.mIa).to(f.lIa);});},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u;function c(w,x,y,z,A,B,C,D,F){var G;G=this;this.wc=x;this.hC=y;this.config=z;this.Cv=A;this.TMb=B;this.XN=C;this.hQ=D;this.In=F;this.Abc=function(E,H){var L;G.In.mark(u.Na.K2,E.ik.da,"generate-challenge");L=!1;H.p$b(function(K){L || (L=!0,G.In.mark(u.Na.J2,E.ik.da,"generate-challenge"));G.cJ(E,H,K).then(function(I){H.fXa(I);G.KEb(H);}).catch(function(I){return H.KBb(I);});});};this.log=w.mb("DrmServices");this.Cv().pu && this.XN.Yeb().then(function(){G.B7b();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.l8a && this.pE(D(),h.Fi.Rq).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.JHa=void 0;r=a(0);m=a(1);k=a(6);l=a(47);d=a(343);f=a(81);h=a(57);g=a(68);n=a(213);p=a(212);q=a(344);t=a(12);v=a(142);u=a(60);c.prototype.nQb=function(w,x){return this.pE(x,w.type,w.context).then(function(y){return y.qQb(w.initData).then(function(z){return [y,{Go:y.Dv(),data:z.Ik}];});});};c.prototype.wh=function(w,x){var y;y=this;this.log.info("Requesting challenges",this.D5a(w,w.type));return this.pE(x,w.type,w.context).then(function(z){y.obb(w,z);return z.rQb(w.initData).then(function(){return z;});});};c.prototype.obb=function(w,x){x.w$b(w.ik);this.Abc(w,x);};c.prototype.release=function(w,x){var y;y=this;this.log.info("Releasing server license",this.x6a(w));return this.oTb(w).then(function(){var z;z=Object.assign({active:!1,Me:[]},w.ik);y.XN.Q_(z);x.N7b();return w;});};c.prototype.D5a=function(w,x){return {movieId:w.ik.I,xid:w.ik.da,type:(0,h.$va)(x)};};c.prototype.x6a=function(w){return {movieId:w.ik?w.ik.I:void 0,xid:w.ik?w.ik.da:void 0,keySessionId:w.oB()};};c.prototype.cJ=function(w,x,y){this.log.info("Sending license request",this.D5a(w,y.rg));return this.hC.wh({da:w.ik.da,zh:w.ik.zh,B8:[w.ik.dm],Ik:[{sessionId:x.oB() || "session",data:y.Ik}],rg:y.rg,Go:x.Dv(),DZa:y.DZa,tj:w.ik.tj});};c.prototype.oTb=function(w){this.log.info("Sending release request",this.x6a(w));return this.hC.release({da:w.ik.da,Me:w.Me});};c.prototype.pE=function(w,x,y){return this.TMb.create().then(function(z){return z.createSession(w,x,y).then(function(){return z;});});};c.prototype.A7b=function(w){var x;x=this;return this.hC.release({da:w.da,Me:w.Me}).catch(function(y){x.log.error("Unable to send release data to the server",y);});};c.prototype.B7b=function(){var w;w=this;this.wc.Bj(this.config.Hya,function(){w.log.trace("Removing cached sessions",{"count:":w.XN.C8.length});w.XN.C8.filter(function(x){return !x.active;}).reduce(function(x,y){return x.then(function(){return w.A7b(y);}).then(function(){return w.XN.Q_(y);});},Promise.resolve(void 0));});};c.prototype.KEb=function(w){var x;if(w.oB() && w.ik){x=new p.C2();x.Me=w.Me;x.da=w.ik.da;x.I=w.ik.I;this.XN.aXa(x);}};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(l.Mj)),r.__param(2,(0,m.l)(d.IHa)),r.__param(3,(0,m.l)(g.xu)),r.__param(4,(0,m.l)(t.Nc)),r.__param(5,(0,m.l)(q.mIa)),r.__param(6,(0,m.l)(n.Gga)),r.__param(7,(0,m.l)(v.zT)),r.__param(8,(0,m.l)(f.DT))],a);b.JHa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w;function c(x,y,z,A,B,C){this.Gt=x;this.mc=y;this.config=z;this.J0b=A;this.UW=B;this.WW=C;this.log=this.Gt.mb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.wMa=void 0;r=a(0);m=a(1);k=a(3);l=a(6);d=a(95);f=a(119);h=a(32);g=a(12);n=a(93);p=a(49);q=a(333);t=a(55);v=a(340);u=a(216);a=a(214);c.prototype.KE=function(){this.promise || (this.promise=this.X8b());return this.promise;};c.prototype.DJb=function(x,y){var z;z=this;return new Promise(function(A,B){var C;C=n.Bb.IX(x);z.WW.create(C).j8b(x,[y]).then(function(D){z.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:D.getConfiguration?JSON.stringify(D.getConfiguration()):void 0});D=z.J0b.create(D,C);z.Eaa=D.Eaa;A(D);}).catch(function(D){z.log.warn("Unable to create the media key system access object",{keySystem:x,error:D.message});B(new d.Fh(k.W.UHa,k.T.Im,void 0,"Unable to create media keys system access. " + D.message,D));});});};c.prototype.DRb=function(){var x;x=this.config().H9a || [this.config().Bn];if(1 < x.length)return (x=x.map(function(y){return n.Bb.Dsa(n.Bb.IX(y));}),1 === new Set(x).size?Promise.resolve(x[0]):this.KE().then(function(y){return y.Dv();}).then(function(y){return n.Bb.Dsa(y);}));x=n.Bb.IX(x[0]);return Promise.resolve(n.Bb.Dsa(x));};c.prototype.NDa=function(x){var y,z,A,B;y=this;z=x.Dv();A=x.h0a();B=x.g0a();return x.createMediaKeys().then(function(C){A.createSession(C,p.TEMPORARY);return A.setServerCertificate(C,B.F9());}).then(function(){return A.generateRequest(p.Sw,y.Msa(z));}).then(function(){return A.close();}).then(function(){return x;}).catch(function(C){y.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.Msa=function(x){switch(x){case f.Hm.GE:x=q.KIa;break;case f.Hm.dC:x=q.ZOa;break;default:x=q.hTa;}return x.map(this.mc.decode);};c.prototype.X8b=function(){var y,z,A,B;function x(C){var D,F,G,E;D=C.config;C=n.Bb.Mqb.includes(C.keySystem) || p.UJa.includes(null !== (E=null === (G=null === (F=D.videoCapabilities) || void 0 === F?void 0:F[0]) || void 0 === G?void 0:G.robustness) && void 0 !== E?E:"");return y.config().s2a || !C;}y=this;try{z=(this.config().H9a || [this.config().Bn]).map(function(C){var D;D=n.Bb.IX(C);return y.UW.create(D).pta().map(function(F){return {keySystem:C,config:F};});});A=(0,t.flatten)(z).filter(x);B=A.map(function(C,D){var F,G;F=C.keySystem;G=C.config;return function(){var E,H;E=D === A.length - 1;H=y.config().NDa && !E;return y.DJb(F,G).then(function(L){return H?y.NDa(L):Promise.resolve(L);});};});return this.Y8b(B);}catch(C){return Promise.reject(C);}};c.prototype.Y8b=function(x){return x.reduce(function(y,z){return y.then(function(A){return Promise.resolve(A);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};Ua.Object.defineProperties(c.prototype,{G9a:{configurable:!0,enumerable:!0,get:function(){return this.Eaa;}}});w=c;w=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.ub)),r.__param(1,(0,m.l)(h.Di)),r.__param(2,(0,m.l)(g.Nc)),r.__param(3,(0,m.l)(v.uMa)),r.__param(4,(0,m.l)(u.Zga)),r.__param(5,(0,m.l)(a.dha))],w);b.wMa=w;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t,v,u,w){this.Gt=p;this.Da=q;this.mc=t;this.config=v;this.St=u;this.uq=w;}Object.defineProperty(b,"__esModule",{value:!0});b.lIa=void 0;r=a(0);m=a(1);k=a(6);l=a(19);d=a(32);f=a(68);h=a(69);g=a(337);a=a(96);c.prototype.create=function(){var p;p=this;return this.uq.KE().then(function(q){return new g.nIa(p.Gt,p.Da,p.mc,p.config,p.St,q);});};n=c;n=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(l.cd)),r.__param(2,(0,m.l)(d.Di)),r.__param(3,(0,m.l)(f.xu)),r.__param(4,(0,m.l)(h.aH)),r.__param(5,(0,m.l)(a.Fz))],n);b.lIa=n;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M;Object.defineProperty(b,"__esModule",{value:!0});b.k$a=void 0;c=a(700);m=a(725);k=a(734);l=a(737);d=a(1116);f=a(1149);h=a(1163);g=a(1166);n=a(1178);p=a(1187);q=a(1191);t=a(1193);v=a(1222);u=a(1224);w=a(1228);x=a(1243);y=a(1251);z=a(1257);A=a(1260);B=a(1267);C=a(211);D=a(1273);F=a(1280);G=a(1294);E=a(1300);H=a(1302);L=a(1309);K=a(1347);I=a(1369);R=a(1373);O=a(1377);J=a(1391);M=a(1394);b.k$a=function(P){P.load(c.PA,h.jL,m.A$a,g.Eo,k.nbb,l.M,d.Ulb,f.C7a,n.storage,p.ON,q.lZa,t.V$a,v.wF,u.Nk,w.z$a,x.Gbb,y.f4a,z.Feb,A.kK,B.b2a,C.h2a,D.Ge,F.wd,G.Ha,E.wbb,H.tdb,L.j,K.q_a,I.transports,R.jm,O.Ah,J.kYa,M.ja);};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga,N,Q,V,ba,qa,La,Oa,Ta,Qa,Wa,eb,ub,jb,mb,Ia,Xa,ab,kb,sb,Bb,Hb,Lb,Xb;Object.defineProperty(b,"__esModule",{value:!0});b.PA=void 0;r=a(1);c=a(38);m=a(30);k=a(47);l=a(82);d=a(144);f=a(701);h=a(702);g=a(703);n=a(704);p=a(74);q=a(79);t=a(32);v=a(31);u=a(27);w=a(110);x=a(69);y=a(346);z=a(705);A=a(347);B=a(348);C=a(706);D=a(707);F=a(205);G=a(349);E=a(708);H=a(210);L=a(122);K=a(709);I=a(19);R=a(350);O=a(710);J=a(711);M=a(109);P=a(712);S=a(6);T=a(345);U=a(713);W=a(81);fa=a(714);sa=a(351);wa=a(715);Ba=a(716);Ga=a(111);N=a(13);Q=a(717);V=a(353);ba=a(354);qa=a(718);La=a(355);Oa=a(12);Ta=a(48);Qa=a(145);Wa=a(356);eb=a(168);ub=a(719);jb=a(357);mb=a(358);Ia=a(219);Xa=a(720);ab=a(359);kb=a(721);sb=a(220);Bb=a(722);Hb=a(723);Lb=a(218);Xb=a(724);b.PA=new r.xd(function(Fb){Fb(c.g4).gG(function(){return {};}).ha();Fb(c.HG).Cm(JSON);Fb(c.iTa).Cm(nb);Fb(d.XRa).Cm(Math);Fb(c.mLa).Cm(N.U3);Fb(c.Xia).Cm(N.bx);Fb(c.MSa).Cm(N.SG);Fb(c.bHa).Cm(Date);Fb(c.aM).Cm(N.Ue);Fb(c.msb).Cm(N.iD);Fb(T.zGa).to(U.yGa).ha();Fb(I.cd).to(K.LEa).ha();Fb(m.Eh).to(n.AGa).ha();Fb(k.Mj).to(f.aRa).ha();Fb(l.Bz).to(h.uKa).ha();Fb(x.aH).to(D.oQa).ha();Fb(d.r4).to(g.wQa).ha();Fb(Wa.oia).to(Hb.oMa).ha();Fb(M.pz).to(J.hHa).ha();Fb(M.fHa).to(P.eHa).ha();Fb(p.Gu).to(z.NSa).ha();Fb(q.mz).to(A.qga).ha();Fb(t.Di).to(B.rga).ha();Fb(v.ci).to(C.OSa).ha();Fb(u.Og).Cm(F.GG);Fb(jb.cT).to(mb.BIa).ha();Fb(w.iha).to(G.sk).wua();Fb(w.z2).to(G.sk).ha();Fb(w.uHa).to(G.sk).ha();Fb(w.lha).to(G.sk).ha();Fb(H.Vja).to(L.dH).ha();Fb(R.PGa).to(O.OGa).ha();Fb(W.nM).to(fa.aka).ha();Fb(W.DT).to(fa.aka).ha();Fb("Factory<LoggerFactory>").$jb(S.ub);Fb(sa.Uga).to(wa.jHa).ha();Fb(Ga.lM).Pe(function(Qb){return function(bc){return new Ba.fSa(Qb.wb.get(I.cd),Qb.wb.get(k.Mj),bc);};});Fb(ab.cHa).Pe(function(Qb){return function(bc){return new kb.dHa(Qb.wb.get(k.Mj),bc);};});Fb(Q.tja).Kcc(V.sja);Fb(Q.Qtb).Pe(function(Qb){var bc;bc=Qb.wb.get(Q.tja);return function(){return new bc(!1);};});Fb(Q.Rtb).Pe(function(Qb){var bc;bc=Qb.wb.get(Q.tja);return function(){return new bc(!0);};});Fb(ba.JSa).Pe(function(){return function(Qb){return new qa.KSa(Qb);};});Fb(Qa.NT).Pe(function(Qb){return function(bc,ad,Qd){return new La.APa(Qb.wb.get(M.pz),Qb.wb.get(Oa.Nc),Qb.wb.get(Ta.Qq),Qb.wb.get(Wa.oia),bc,ad,Qd);};});Fb(y.vNa).Pe(function(){return function(Qb){return new E.wNa(Qb);};});Fb(eb.vG).to(ub.MFa);Fb(Lb.fka).to(Xb.LSa).ha();Fb(Ia.F4).Pe(function(Qb){return function(bc,ad){return new Xa.qSa(Qb.wb.get(k.Mj),bc,ad);};});Fb(sb.uIa).to(Bb.tIa).ha();});},function(r,b,a){var k,l,d,f;function c(h){this.ZR=h;(0,l.sq)(this,"timers");}function m(h,g){this.ZR=h;this.sFb=g;}Object.defineProperty(b,"__esModule",{value:!0});b.aRa=void 0;r=a(0);k=a(1);l=a(55);d=a(38);f=a(5);m.prototype.cancel=function(){this.sFb(this.ZR);};c.prototype.xm=function(h){return this.Bj(f.Ia,h);};c.prototype.Bj=function(h,g){var n;n=this.ZR.setTimeout(g,h.fa(f.ma));return new m(this.ZR,function(p){p.clearTimeout(n);});};c.prototype.i0=function(h,g){var n;n=this.ZR.setInterval(g,h.fa(f.ma));return new m(this.ZR,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(d.iTa))],a);b.aRa=a;},function(r,b,a){var m,k,l,d,f;function c(h,g){this.za=h;this.random=g;}Object.defineProperty(b,"__esModule",{value:!0});b.uKa=void 0;r=a(0);k=a(1);l=a(5);d=a(30);a=a(144);c.prototype.TA=function(){return this.za.Bf.fa(l.Cp) * m.fGa + Math.floor(this.random.random() * m.fGa);};f=m=c;f.fGa=1E8;f=m=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(d.Eh)),r.__param(1,(0,k.l)(a.r4))],f);b.uKa=f;},function(r,b,a){var m,k;function c(l){this.bcc=l;}Object.defineProperty(b,"__esModule",{value:!0});b.wQa=void 0;r=a(0);m=a(1);a=a(144);c.prototype.random=function(){return this.bcc.random();};c.prototype.Qeb=function(l,d){if("number" !== typeof l)(d=l.end,l=l.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(l + this.random() * (d - l));};k=c;k=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.XRa))],k);b.wQa=k;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t){var v;v=this;this.config=n;this.xKb=p;this.Lb=q;this.performance=t;this.Y2b=function(u){v.mBa=u.Aa(v.Bf);};(0,m.sq)(this,"date");(0,m.sq)(this,"performance");this.ECb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.mBa=k.Ia;this.Lb.addListener(g.Jha.dhb,this.Y2b);}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;r=a(0);m=a(55);k=a(5);l=a(1);d=a(38);f=a(345);h=a(110);g=a(16);c.prototype.mCb=function(n){return n.add(this.mBa);};Ua.Object.defineProperties(c.prototype,{Bf:{configurable:!0,enumerable:!0,get:function(){return this.rbb?(0,k.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,k.qc)(this.xKb.now());}},NK:{configurable:!0,enumerable:!0,get:function(){return this.Bf.add(this.mBa);}},rbb:{configurable:!0,enumerable:!0,get:function(){return this.config.zlb && this.ECb;}}});a=c;a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(f.zGa)),r.__param(1,(0,l.l)(d.bHa)),r.__param(2,(0,l.l)(h.lha)),r.__param(3,(0,l.l)(d.Xia)),r.__param(3,(0,l.optional)())],a);b.AGa=a;},function(r,b,a){var m,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.NSa=void 0;r=a(0);a=a(1);c.prototype.encode=function(l){return m.Rqa(l);};c.prototype.decode=function(l){return m.cqa(l);};c.Rqa=function(l){if(!l)throw new TypeError("Invalid byte array");for(var d=0,f,h=l.length,g="";d < h;){f=l[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (l[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((l[d++] & 63) << 6) + (l[d++] & 63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(f);}return g;};c.cqa=function(l){var d,f,h,g,n;d=l.length;f=0;g=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=l.charCodeAt(h);128 > n?f++:f=2048 > n?f + 2:f + 3;}f=new Uint8Array(f);for(h=0;h < d;h++){n=l.charCodeAt(h);128 > n?f[g++]=n:(2048 > n?f[g++]=192 | n >>> 6:(f[g++]=224 | n >>> 12,f[g++]=128 | n >>> 6 & 63),f[g++]=128 | n & 63);}return f;};k=m=c;k=m=r.__decorate([(0,a.Y)()],k);b.NSa=k;},function(r,b,a){var m,k,l,d;function c(f,h){this.is=f;this.Rj=h;}Object.defineProperty(b,"__esModule",{value:!0});b.OSa=void 0;r=a(0);m=a(1);a(3);k=a(27);l=a(79);d=a(13);c.prototype.SJ=function(f,h,g){var n,p,q,t;n=this;if(h)if(g){p=g.jZ;q=g.prefix;t=g.pca;this.CE(h,function(v,u){if(!t || n.is.Zg(u))f[(q || "") + (p?v.toLowerCase():v)]=u;});}else this.CE(h,function(v,u){f[v]=u;});return f;};c.prototype.CE=function(f,h){for(var g in f){f.hasOwnProperty(g) && h(g,f[g]);}};c.prototype.kE=function(f,h){if(f.length == h.length){for(var g=f.length;g--;){if(f[g] != h[g])return !1;}return !0;}return !1;};c.prototype.M_a=function(f,h){if(f.length != h.length)return !1;f.sort();h.sort();for(var g=f.length;g--;){if(f[g] !== h[g])return !1;}return !0;};c.prototype.cf=function(f){var h,g,n;if(f){h=f.stack;g=f.number;n=f.message;n || (n="" + f);h?(f="" + h,0 !== f.indexOf(n) && (f=n + "\n" + f)):f=n;g && (f+="\nnumber:" + g);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.usa=function(f){return this.getFunctionName(f.constructor);};c.prototype.Sxa=function(f){var h,g;h=this;g="";this.is.VD(f) || this.is.HXa(f)?g=Array.prototype.reduce.call(f,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Uu(f)?g=f:this.CE(f,function(n,p){g+=(g?", ":"") + "{" + n + ": " + (h.is.H6(p)?h.getFunctionName(p) || "function":p) + "}";});return "[" + this.usa(f) + " " + g + "]";};c.prototype.createElement=function(f,h,g,n){var p;p=d.Gh.createElement(f);h && (p.style.cssText=h);g && (p.innerHTML=g);n && this.CE(n,function(q,t){p.setAttribute(q,t);});return p;};c.prototype.SOb=function(f,h){return function(g){return g[f] === h;};};c.prototype.f_=function(f){var h;h={};(f || "").split("&").forEach(function(g){var n,p;g=g.trim();n=g.indexOf("=");if(0 <= n){p=decodeURIComponent(g.substr(0,n)).toLowerCase();h[p]=decodeURIComponent(g.substr(n + 1));}else h[g.toLowerCase()]=void 0;});return h;};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.Og)),r.__param(1,(0,m.l)(l.mz))],a);b.OSa=a;},function(r,b,a){var m,k,l;function c(d){this.wc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.oQa=void 0;r=a(0);m=a(1);k=a(47);l=a(69);c.prototype.Yt=function(d,f){var h;h=this;return new Promise(function(g,n){var p;p=h.wc.Bj(d,function(){n(new l.Ds(d));});f.then(function(q){g(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.Mj))],a);b.oQa=a;},function(r,b,a){var m;function c(k){this.xQb=k;this.w$=!1;this.L$=this.xg=this.UR=0;this.uY=!1;this.M$=0;}Object.defineProperty(b,"__esModule",{value:!0});b.wNa=void 0;m=a(15);c.prototype.bna=function(k){k < this.UR && (this.xg+=this.UR);this.UR=k;this.w$=!0;};c.prototype.lRb=function(){if(this.w$)return this.uY?this.M$ - this.L$:this.xg + this.UR - this.L$;};c.prototype.refresh=function(){var k;k=this.xQb();(0,m.Ka)(k) && this.bna(k);};c.prototype.Oac=function(){this.uY || (this.w$ && (this.M$=this.xg + this.UR),this.uY=!0);};c.prototype.dbc=function(){this.uY && (this.w$ && (this.L$+=this.xg + this.UR - this.M$),this.M$=0,this.uY=!1);};b.wNa=c;},function(r,b,a){var m,k,l,d;function c(f,h){this.za=f;this.v9=this.za.Bf.fa(l.ma) - 1;this.CZb=this.Iaa=0;this.id="" + h.TA();}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;r=a(0);m=a(1);k=a(30);l=a(5);a=a(82);c.prototype.Tb=function(){var f,h;f=this.za.Bf.fa(l.ma) - this.v9;if(f < this.Iaa){h=this.Iaa + 1;this.v9-=h - f;f=h;}this.Iaa=f;return (0,l.qc)(this.Iaa);};c.prototype.sSb=function(){return this.CZb++;};Ua.Object.defineProperties(c.prototype,{GB:{configurable:!0,enumerable:!0,get:function(){return (0,l.qc)(this.v9);}}});d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.Eh)),r.__param(1,(0,m.l)(a.Bz))],d);b.LEa=d;},function(r,b,a){var m,k,l,d;function c(f,h){this.is=f;this.Ge=h;}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(0);k=a(1);l=a(27);a=a(31);c.prototype.encode=function(f){var h,g;h=this;g="";this.Ge.CE(f,function(n,p){n=h.D2a(n) + "=" + h.D2a(p);g=g?g + ("," + n):n;});return g;};c.prototype.D2a=function(f){return this.is.DI(f)?this.is.po(f)?"" + f:this.is.Uu(f)?(f=f.replace(m.Sza,this.Fwa.bind(this)),!m.D6b.test(f) && m.Z0b.test(f) && (f='"' + f + '"'),f):this.is.F6(f)?"" + f:this.is.Hma(f)?"NaN":"":"";};c.prototype.Fwa=function(f){return m.map[f];};d=m=c;d.map={'"':'""',"\r":"","\n":" "};d.Sza=/(?!^.+)["\r\n](?=.+$)/g;d.D6b=/["].*["]/g;d.Z0b=/[", ]/;d=m=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(l.Og)),r.__param(1,(0,k.l)(a.ci))],d);b.OGa=d;},function(r,b,a){var m,k,l,d;function c(f,h,g){this.config=f;this.Db=h;this.Ca=g.mb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;r=a(0);m=a(1);k=a(27);l=a(109);a=a(6);c.prototype.assert=function(){};c.prototype.aDb=function(f,h){this.assert(this.Db.DI(f),h);};c.prototype.bDb=function(f,h){this.assert(this.Db.Zg(f),h);};c.prototype.g7=function(f,h){this.assert(this.Db.Uu(f),h);};c.prototype.hDb=function(f,h){this.assert(this.Db.qo(f),h);};c.prototype.fDb=function(f,h){this.assert(this.Db.Uu(f) || null === f || void 0 === f,h);};c.prototype.Dna=function(f,h){this.assert(this.Db.po(f),h);};c.prototype.dDb=function(f,h){this.assert(this.Db.qna(f),h);};c.prototype.gDb=function(f,h){this.assert(this.Db.CV(f),h);};c.prototype.eDb=function(f,h){this.assert(this.Db.oV(f),h);};c.prototype.$Cb=function(f,h){this.assert(this.Db.F6(f),h);};c.prototype.cDb=function(f,h){this.assert(this.Db.H6(f),h);};c.prototype.RWb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.fHa)),r.__param(1,(0,m.l)(k.Og)),r.__param(2,(0,m.l)(a.ub))],d);b.hHa=d;},function(r,b,a){var m,k,l,d;function c(f){f=k.IS.call(this,f,"DebugConfigImpl") || this;f.Hmc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;r=a(0);m=a(45);k=a(46);l=a(1);a=a(34);ka(c,k.IS);Ua.Object.defineProperties(c.prototype,{pEb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([m.config(m.Ad,"breakOnError")],d.prototype,"pEb",null);d=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(a.Hga))],d);b.eHa=d;},function(r,b,a){var m,k,l,d;function c(f){return k.IS.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;r=a(0);m=a(45);k=a(46);l=a(1);a=a(34);ka(c,k.IS);Ua.Object.defineProperties(c.prototype,{zlb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([m.config(m.Ad,"usePerformanceApi")],d.prototype,"zlb",null);d=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(a.Hga))],d);b.yGa=d;},function(r,b,a){var m,k,l,d;function c(f,h){this.Da=f;this.entries=new Set();this.Ca=h.mb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.aka=void 0;r=a(0);m=a(1);k=a(19);l=a(5);a=a(6);c.prototype.mark=function(f,h,g){f={name:f,iu:this.Da.Tb()};h && (f.da=h);g && (f.Wf=g);this.entries.add(f);return f;};c.prototype.Usa=function(){var f;f=[];this.entries.forEach(function(h){return f.push(h);});return f;};c.prototype.J5a=function(f){return this.Usa().filter(function(h){return h.da === f;});};c.prototype.vSb=function(){var f;f={};try{f=this.Usa().filter(function(h){return !h.da;}).reduce(function(h,g){h[g.name]=g.iu.fa(l.ma);return h;},{});}catch(h){this.Ca.error(" getMapOfCommonMarks exception",h);}return f;};c.prototype.Dfb=function(f){var h;h=this;this.Usa().forEach(function(g){g.da === f && h.entries.delete(g);});};d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.cd)),r.__param(1,(0,m.l)(a.ub))],d);b.aka=d;},function(r,b,a){var m,k,l,d,f,h,g,n,p;function c(q,t){this.Da=q;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;r=a(0);k=a(1);l=a(19);d=a(37);f=a(3);h=a(16);g=a(5);n=a(13);a=a(352);c.prototype.x1a=function(q){var t,v,u,w,x,y,z,A,B,C;t=this;w=q.mediaTime.value;x=q.Ss.value;y=q.zb.value;z=q.state.value;A={segmentId:q.jta(),mediaTime:w,segmentTime:q.ME(),bufferingState:m.yEb[x],presentingState:m.L5b[y],playbackState:m.I4b[z],mseBuffersBusy:this.GTb(q),intBuffersBusy:this.$Rb(q),tabVisible:this.ccc(),decodedFrameCount:this.TKb(q),videoElementInDom:this.ffc(q),lastVideoSync:this.Da.Tb().Aa((0,g.qc)(q.R0)).fa(g.ma)};B=y === h.ib.cg?q.fb.Sh?this.config.Lcb:this.config.Kcb:this.config.kbb;if(x !== h.Rf.He){if((x=f.T.Job,this.SYa(A.mseBuffersBusy,A.intBuffersBusy)))C=m.vFa;}else (y !== h.ib.Dc?x=f.T.Lob:(x=f.T.Kob,(y=q.Ff) && 0 === y.K9() && (C=m.hvb)),(y=q.Ff) && y.Ub.sourceBuffers.forEach(function(D){var F,G;F=m.Dd[D.mediaType];A[F + "Ranges"]=D.D9();try{G=D.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - w,A[F + "Undecoded"]=D,1 < G.length && (C=m.Cnb),w < 1E3 * G.start(0) || w > 1E3 * G.end(0)?C=m.Dnb:D < B.fa(g.ma)?C=m.Enb:t.SYa(A.mseBuffersBusy,A.intBuffersBusy) && (C=m.vFa)):(A[F + "Undecoded"]=0,C=m.Bnb);}));y=q.Rfb.C6a();z=w === (null === (v=y.repositionTrace) || void 0 === v?void 0:v[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (u=q.Ha) || void 0 === u?void 0:u.qL;Object.assign(A,y);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new d.gd(f.W.JNa,x,C,void 0,void 0,void 0,q,void 0);};c.prototype.GTb=function(q){var t;if(q.Ub){t={};q.Ub.sourceBuffers.forEach(function(v){t[0 === v.type?"audio":"video"]={updating:v.updating()};});return t;}};c.prototype.$Rb=function(q){var t;if(q.Ub){t={};q.Ub.sourceBuffers.forEach(function(v){t[0 === v.type?"audio":"video"]={updating:v.ji()};});return t;}};c.prototype.ccc=function(){return !n.Gh.hidden;};c.prototype.TKb=function(q){return (q=q.Ff) && (q=q.Ub.$) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.ffc=function(q){if(q=q.Ff)if(q=q.Ub.$)return n.Gh.body.contains(q);return !1;};c.prototype.SYa=function(q,t){var v,u,w,x;return !((null === (v=q.audio) || void 0 === v?void 0:v.updating) === (null === (u=t.audio) || void 0 === u?void 0:u.updating) && (null === (w=q.video) || void 0 === w?void 0:w.updating) === (null === (x=t.video) || void 0 === x?void 0:x.updating));};p=m=c;p.Bnb="1";p.Cnb="2";p.Dnb="3";p.vFa="4";p.Enb="5";p.hvb="6";p.Dd=["Audio","Video"];p.yEb=["","NORMAL","BUFFERING","STALLED"];p.L5b=["","WAITING","PLAYING ","PAUSED","ENDED"];p.I4b=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=m=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(l.cd)),r.__param(1,(0,k.l)(a.uia))],p);b.jHa=p;},function(r,b,a){var m,k,l,d;function c(f,h,g){var n;n=this;this.Eg=f;this.wc=h;this.Q7=g;this.EQ=function(p){n.kk=void 0;n.odc(p || n.Q7);};this.K9a=(0,l.qc)(-this.Q7.fa(l.ma));}Object.defineProperty(b,"__esModule",{value:!0});b.fSa=void 0;r=a(0);m=a(1);k=a(19);l=a(5);a=a(47);c.prototype.xm=function(f){this.SAa=f;this.kk=this.kk || this.jg(this.EQ);};c.prototype.ii=function(){this.kk && this.kk.cancel();this.kk=void 0;};c.prototype.odc=function(f){var h,g;h=this.Eg.Tb();if(this.SAa){g=f.Aa(h.Aa(this.K9a));0 >= g.bm(l.Ia)?(f=this.SAa,this.SAa=void 0,this.K9a=h,f()):this.kk=this.kk || this.wc.Bj(g,this.EQ.bind(this,f));}};c.prototype.jg=function(f){return this.wc.Bj(l.Ia,f);};d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.cd)),r.__param(1,(0,m.l)(a.Mj))],d);b.fSa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tja="PrioritizedSetOfListsSymbol";b.Qtb="PrioritizedSetOfListsFactorySymbol";b.Rtb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(m){this.qr=m;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.KSa=void 0;c.prototype.toString=function(){return this.href;};Ua.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.qr + this.searchParams.toString();}}});b.KSa=c;a.prototype.get=function(m){return this.searchParams[m];};a.prototype.set=function(m,k){this.searchParams[m]=k;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(m,k,l){var d;d=na(k);k=d.next().value;d=d.next().value;return "" + m + (0 == l?"?":"&") + k + "=" + d;},"");};},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p){this.userAgentData=p;this.je=this.tOb(g,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.SSa=b.MFa=void 0;r=a(0);m=a(1);k=a(12);l=a(34);d=a(38);a=a(218);c.prototype.k$=function(g,n){var p;if(n=this.hUb(n))switch(g){case h.MB:p=0 < n.length?Number(n[0]):0;break;case h.oQ:p=1 < n.length?Number(n[1]):0;break;case h.HQ:p=2 < n.length?Number(n[2]):0;break;case h.Kda:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.hUb=function(g){return null === g || void 0 === g?void 0:g.split(".");};c.prototype.xJ=function(g){return this.je.name === g;};c.prototype.zJ=function(g){return this.je.tca.name === g;};c.prototype.oXb=function(g){return this.je.KUb === g;};c.prototype.tOb=function(g,n){return Object.assign(Object.assign({KUb:this.vOb(g,n)},this.sOb(g,n)),{tca:this.wOb(g,n)});};c.prototype.vOb=function(g,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(g)?k.C3.phone:(/Android/).test(g)?k.C3.dcc:k.C3.aHb;};c.prototype.sOb=function(g,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(g)?{name:k.ao.opera,version:""}:(/Tesla/).test(g)?{name:k.ao.Cjb,version:""}:(n=g.match(/Edge\/(\d*)\./))?{name:k.ao.Ar,version:n[1]}:(n=g.match(/Edg\/(\d*)\./))?{name:k.ao.d2a,version:n[1]}:(n=g.match(/Chrome\/(\d*)\./))?{name:k.ao.Xoa,version:n[1]}:(n=g.match(/Firefox\/(\d*)\./))?{name:k.ao.C3a,version:n[1]}:(g=g.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:k.ao.zgb,version:g[1]}:{name:k.ao.Xoa,version:""};};c.prototype.wOb=function(g,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(g)?{name:k.Ap.TZa,version:""}:(n=g.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:k.Ap.K$a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(g)?{name:k.Ap.aEa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(g) || (/Android.*Chrome\/[.0-9]* /).test(g)?{name:k.Ap.U6,version:""}:(/Linux/).test(g)?{name:k.Ap.h$a,version:""}:(/iPhone/).test(g)?{name:k.Ap.y8a,version:""}:{name:k.Ap.aEa,version:""};};Ua.Object.defineProperties(c.prototype,{I8a:{configurable:!0,enumerable:!0,get:function(){return this.xJ(k.ao.Xoa);}},FY:{configurable:!0,enumerable:!0,get:function(){return this.xJ(k.ao.Ar);}},DB:{configurable:!0,enumerable:!0,get:function(){return this.xJ(k.ao.d2a);}},laa:{configurable:!0,enumerable:!0,get:function(){return this.xJ(k.ao.C3a);}},lva:{configurable:!0,enumerable:!0,get:function(){return this.xJ(k.ao.opera);}},MY:{configurable:!0,enumerable:!0,get:function(){return this.xJ(k.ao.zgb);}},j9a:{configurable:!0,enumerable:!0,get:function(){return this.xJ(k.ao.Cjb);}},DY:{configurable:!0,enumerable:!0,get:function(){return this.zJ(k.Ap.U6);}},KP:{configurable:!0,enumerable:!0,get:function(){return this.zJ(k.Ap.y8a);}},daa:{configurable:!0,enumerable:!0,get:function(){return this.zJ(k.Ap.U6) && this.oXb(k.C3.phone);}},EY:{configurable:!0,enumerable:!0,get:function(){return this.zJ(k.Ap.TZa);}},uXb:{configurable:!0,enumerable:!0,get:function(){return this.zJ(k.Ap.h$a);}},LP:{configurable:!0,enumerable:!0,get:function(){return this.zJ(k.Ap.K$a);}},hF:{configurable:!0,enumerable:!0,get:function(){return this.zJ(k.Ap.aEa);}},ur:{configurable:!0,enumerable:!0,get:function(){return this.k$(h.MB,this.je.version);}},t3b:{configurable:!0,enumerable:!0,get:function(){return this.k$(h.MB,this.je.tca.version);}},u3b:{configurable:!0,enumerable:!0,get:function(){return this.k$(h.oQ,this.je.tca.version);}},v3b:{configurable:!0,enumerable:!0,get:function(){return this.k$(h.HQ,this.je.tca.version);}}});f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(d.MSa)),r.__param(1,(0,m.l)(l.nT)),r.__param(2,(0,m.l)(a.fka))],f);b.MFa=f;(function(g){g[g.MB=0]="major";g[g.oQ=1]="minor";g[g.HQ=2]="patch";g[g.Kda=3]="revision";})(h=b.SSa || (b.SSa={}));},function(r,b,a){var m,k,l;function c(d,f,h){this.wc=d;this.TCa=f;this.ey=h;}Object.defineProperty(b,"__esModule",{value:!0});b.qSa=void 0;r=a(0);m=a(47);k=a(1);l=a(5);c.prototype.MI=function(){this.kk || (this.kk=this.wc.Bj((0,l.qc)(this.TCa),this.ey));};c.prototype.gu=function(){this.kk && this.kk.cancel();this.kk=void 0;};a=c;a=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(m.Mj))],a);b.qSa=a;},function(r,b,a){var m,k;function c(l,d){this.wc=l;this.Q7=d;}Object.defineProperty(b,"__esModule",{value:!0});b.dHa=void 0;r=a(0);m=a(1);a=a(47);c.prototype.xm=function(l){this.ii();this.kk=this.wc.Bj(this.Q7,l);};c.prototype.ii=function(){this.kk && this.kk.cancel();this.kk=void 0;};k=c;k=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Mj))],k);b.dHa=k;},function(r,b,a){var m,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.tIa=void 0;r=a(0);m=a(1);k=a(220);c.prototype.NO=function(l,d){var f;f=this;l && Object.entries(d).forEach(function(h){var g,n,p;g=na(h);h=g.next().value;g=g.next().value;if(f.eXb(g)){n=na(g);g=n.next().value;p=n.next().value;n=l[g];Array.isArray(n)?(f.jqa(l,h,g),n.forEach(function(q){f.NO(q,p);})):g === k.wk?Object.values(l).forEach(function(q){f.NO(q,p);}):(f.jqa(l,h,g),"object" === typeof n && f.NO(n,p));}else f.jqa(l,h,g);});};c.prototype.eXb=function(l){return Array.isArray(l);};c.prototype.jqa=function(l,d,f){l.hasOwnProperty(d) || d === f || Object.defineProperty(l,d,{get:function(){return l[f];},set:function(h){return l[f]=h;},enumerable:!0});};a=c;a=r.__decorate([(0,m.Y)()],a);b.tIa=a;},function(r,b,a){var m,k,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.oMa=void 0;r=a(0);m=a(12);k=a(17);a=a(1);c.prototype.Dv=function(){return this.dXb()?k.MHa:(/widevine/i).test(this.config().Bn)?k.$ga:(/fps/i).test(this.config().Bn)?"fairplay":k.E2;};c.prototype.dXb=function(){return (/clearkey/i).test(this.config().Bn);};l=c;l=r.__decorate([(0,a.Y)(),r.__param(0,(0,a.l)(m.Nc))],l);b.oMa=l;},function(r,b,a){var m,k,l,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LSa=void 0;r=a(0);l=a(1);a=a(13);null === (k=null === (m=null === a.Ue || void 0 === a.Ue?void 0:a.Ue.userAgentData) || void 0 === m?void 0:m.getHighEntropyValues) || void 0 === k?void 0:k.call(m,["platformVersion"]).then(function(f){d=(f=f.platformVersion)?f:"undefined";}).catch(function(){d="exception";});Ua.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});m=c;m=r.__decorate([(0,l.Y)()],m);b.LSa=m;},function(r,b,a){var c,m,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.A$a=void 0;c=a(726);m=a(727);r=a(1);k=a(112);l=a(6);d=a(732);b.A$a=new r.xd(function(f){f(l.ub).to(m.ELa).ha();f(k.TL).to(c.FLa).ha();f(l.Yha).to(d.tLa).ha();});},function(r,b,a){var m;function c(){this.iib={};this.lp=[];}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(0);a=a(1);c.prototype.tda=function(k,l){l && (this.iib[k]=l,this.lp=Object.values(this.iib));};m=c;m=r.__decorate([(0,a.Y)()],m);b.FLa=m;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q){this.Da=n;this.lp=p;this.iwa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.ELa=void 0;r=a(0);m=a(221);k=a(1);l=a(729);d=a(19);f=a(112);h=a(6);g=a(730);c.prototype.mb=function(n,p,q,t,v){q=void 0 === q?this.lp:q;return p?new l.oPa(this.Da,this.iwa,q,p,n):v?new g.XEa(this.Da,this.iwa,q,n,t || "",v):new m.SL(this.Da,this.iwa,q,n);};a=c;a=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(d.cd)),r.__param(1,(0,k.l)(f.TL)),r.__param(2,(0,k.l)(h.Yha))],a);b.ELa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eZa=void 0;b.eZa=function(a,c){var k;a=a.pSb();for(var m=0;m < c.length;++m){k=c[m];void 0 != k && null != k && (k.yh && (k=k.yh),k.constructor === Uint8Array?a.bCb(k):"MediaRequest" === k.constructor.name?a.MBb(k):"string" === typeof k?a.$Bb(k):"function" === typeof k?a.GBb(k):k instanceof Error?a.DBb(k):k instanceof Object?a.NBb(k):a.cCb(k));}return a.Qi();};},function(r,b,a){var m,k,l;function c(d,f,h,g,n){d=l.SL.call(this,d,f,h,n) || this;d.j=g;(0,m.sq)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.oPa=void 0;m=a(55);k=a(360);l=a(221);ka(c,l.SL);c.prototype.W7=function(d){return new c(this.Da,this.y7,this.lp,this.j,d);};c.prototype.RD=function(d,f,h){d=new k.Xha(d,this.Xp,this.Da.Tb(),f,h,this.j.index);f=na(this.lp.lp);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d,this.j);}};b.oPa=c;},function(r,b,a){var m,k;function c(l,d,f,h,g,n){l=m.SL.call(this,l,d,f,h) || this;l.groups=g;Array.isArray(n)?l.prefix=n:n && "string" === typeof n && (l.prefix=[],l.prefix.push(n));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;m=a(221);k=a(731);ka(c,m.SL);c.prototype.RD=function(l,d,f){l=new k.WEa(l,this.Xp,this.Da.Tb(),d,f,this.prefix);d=na(this.lp.lp);for(f=d.next();!f.done;f=d.next()){f=f.value;f(l);}};c.prototype.W7=function(l){return new c(this.Da,this.y7,this.lp,l,this.groups,this.prefix);};b.XEa=c;},function(r,b,a){var m,k;function c(l,d,f,h,g,n,p){this.level=l;this.Xp=d;this.timestamp=f;this.message=h;this.Xc=g;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;m=a(5);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.Uea=function(l,d){l=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.wbc(! !l));return (this.timestamp.fa(m.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (k[this.level] || this.level) + "|" + this.Xp + "| " + l;};c.prototype.wbc=function(l){var g;for(var d=this.Xc.length,f="",h=0;h < d;++h){g=this.Xc[h].uw;h && f.length && (f+=" ");if("object" === typeof g){if(null === g)f+="null";else if(g instanceof Error)f+=this.vbc(g,l);else try{f+=JSON.stringify(g);}catch(n){f+=this.ubc(g);}}else f+=g;}return f;};c.prototype.vbc=function(l,d){return l.toString() + (l.stack && !d?"\n" + l.stack:"") + "\n";};c.prototype.ubc=function(l){var d;d=[];return JSON.stringify(l,function(f,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.WEa=c;},function(r,b,a){var m,k,l,d;function c(f,h){this.mc=f;this.Ge=h;}Object.defineProperty(b,"__esModule",{value:!0});b.tLa=void 0;r=a(0);m=a(1);k=a(733);l=a(32);a=a(31);c.prototype.pSb=function(){return new k.uLa(this.mc,this.Ge);};d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Di)),r.__param(1,(0,m.l)(a.ci))],d);b.tLa=d;},function(r,b,a){var p,q,t;function c(v,u){this.mc=v;this.Ge=u;this.Xc=[];}function m(v){return n.call(this,v,function(u){return {Details:u};}) || this;}function k(v){return n.call(this,v,function(u){return JSON.parse(u.toJSON());}) || this;}function l(v,u){u=n.call(this,u,function(w){return {Base64:v.encode(w)};}) || this;u.mc=v;return u;}function d(v,u){u=n.call(this,u,function(w){return w();}) || this;u.Ge=v;return u;}function f(v){return n.call(this,v,function(u){return {Exception:u.message || "" + u,StackTrace:u.stack || "nostack"};}) || this;}function h(v,u,w){u=n.call(this,u,w) || this;u.Ge=v;return u;}function g(v){return n.call(this,v,function(u){return {Details:u};}) || this;}function n(v,u){this.uw=v;this.value=u?u(v):v;}Object.defineProperty(b,"__esModule",{value:!0});b.uLa=void 0;r=a(0);p=a(1);q=a(31);a=a(32);n.prototype.eX=function(v){return this.uw === v;};ka(g,n);g.prototype.nL=function(v,u){return u?"":"\r\n" + this.uw;};ka(h,n);h.prototype.nL=function(){var v;v="";this.Ge.CE(this.value,function(u,w){try{v+=", " + u + ": " + w;}catch(x){try{v+=", " + u + ": " + JSON.stringify(w);}catch(y){v+=", error stringifying " + u;}}});return v.replace(/[\r\n]+ */g," ");};ka(f,n);f.prototype.nL=function(v){var u;u="\r\n" + this.uw.message;v || (u+="\r\n" + this.uw.stack);return u;};ka(d,n);d.prototype.nL=function(){var v;v="";this.Ge.CE(this.value,function(u,w){v+=", " + u + ": " + w;});return v.replace(/[\r\n]+ */g," ");};ka(l,n);l.prototype.nL=function(v,u){return this.uw && !u?"\r\n" + this.mc.encode(this.uw):"";};ka(k,n);k.prototype.nL=function(){return this.uw?this.uw.toJSON():"";};ka(m,n);m.prototype.nL=function(){return ", " + (this.uw.toString?"" + this.uw.toString():"");};c.prototype.$Bb=function(v){this.Xc.push(new g(v));};c.prototype.NBb=function(v){this.Xc.push(new h(this.Ge,v));};c.prototype.DBb=function(v){this.Xc.push(new f(v));};c.prototype.GBb=function(v){this.Xc.push(new d(this.Ge,v));};c.prototype.bCb=function(v){this.Xc.push(new l(this.mc,v));};c.prototype.MBb=function(v){this.Xc.push(new k(v));};c.prototype.cCb=function(v){this.Xc.push(new m(v));};c.prototype.Qi=function(){return this.Xc;};t=c;t=r.__decorate([(0,p.Y)(),r.__param(0,(0,p.l)(a.Di)),r.__param(1,(0,p.l)(q.ci))],t);b.uLa=t;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.nbb=void 0;r=a(1);c=a(361);m=a(735);b.nbb=new r.xd(function(k){k(c.PMa).to(m.OMa).ha();});},function(r,b,a){var m,k,l;function c(d){this.wc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;r=a(0);m=a(1);k=a(736);a=a(47);c.prototype.l0a=function(d,f){return new k.QMa(this.wc,d,f);};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Mj))],l);b.OMa=l;},function(r,b){function a(c,m,k){this.wc=c;this.config=m;this.getTime=k;}Object.defineProperty(b,"__esModule",{value:!0});b.QMa=void 0;a.prototype.observe=function(c,m){var k;k=this;this.cancel();this.kk=this.wc.i0(this.config.i6a(),function(){k.getTime() >= c && (k.cancel(),m());});};a.prototype.cancel=function(){this.kk && (this.kk.cancel(),this.kk=void 0);};b.QMa=a;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.M=void 0;r=a(1);c=a(222);m=a(362);k=a(738);l=a(1114);d=a(450);f=a(1115);b.M=new r.xd(function(h){h(c.Lja).to(k.nRa).ha();h(m.jRa).to(l.iRa).ha();h(d.tSa).to(f.sSa).ha();});},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u;function c(w,x,y,z,A,B,C,D,F,G){this.Da=w;this.tg=x;this.pQ=y;this.RDa=z;this.k_=A;this.wc=B;this.FN=C;this.ti=D;this.ira=F;this.Ci=G;}Object.defineProperty(b,"__esModule",{value:!0});b.nRa=void 0;r=a(0);m=a(1);k=a(19);l=a(6);d=a(361);f=a(145);h=a(363);g=a(364);n=a(739);p=a(740);q=a(101);t=a(47);v=a(358);a=a(31);c.prototype.HJb=function(w,x,y){return new n.oRa(this.Da,this.tg,this.pQ,this.RDa,x,w,this.ti,this.k_,this.Ci,this.ira,y);};c.prototype.cJb=function(w,x){return new p.LFa(this.tg,w,x,this.pQ,this.wc,this.FN);};u=c;u=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.cd)),r.__param(1,(0,m.l)(l.ub)),r.__param(2,(0,m.l)(d.PMa)),r.__param(3,(0,m.l)(g.WSa)),r.__param(4,(0,m.l)(h.kPa)),r.__param(5,(0,m.l)(t.Mj)),r.__param(6,(0,m.l)(q.CS)),r.__param(7,(0,m.l)(f.NT)),r.__param(8,(0,m.l)(v.cT)),r.__param(9,(0,m.l)(a.ci))],u);b.nRa=u;},function(r,b,a){var d,f,h;function c(g,n,p,q,t,v,u,w,x,y,z){var A;A=this;this.Da=g;this.pQ=p;this.Sya=q;this.config=t;this.tb=v;this.ti=u;this.k_=w;this.Ci=x;this.il=z;this.eOb=Object.values(d.Ja).map(function(B){return {event:B,ey:function(C){return A.Lb.Rc(B,C);}};});this.Lb=y.create();this.NF=[];this.log=n.mb("SegmentManager");this.TI=!0;this.ip=this.Ci.createElement("div",h.yja);}function m(g,n,p,q,t,v,u,w,x,y,z){var A;A=this;this.log=g;this.config=n;this.X1b=p;this.Sya=q;this.ti=t;this.k_=v;this.zw=u;this.u=w;this.ip=x;this.tb=y;this.il=z;this.$N=function(){A.zF && (A.zF.cancel(),A.zF=void 0);};this.Sta=function(B){A.log.trace("Received the transition event",{movieId:B.I});A.O6b();};this.cwa=function(){};this.log.debug("Constructing session data",k(w));this.Fcc=new Promise(function(B){A.O6b=B;});}function k(g){return {movieId:g.I};}function l(g){return JSON.stringify({movieId:g.I,startPts:g.ba,logicalEnd:g.bk,params:g.Eb?{trackingId:g.Eb.gl,authParams:g.Eb.n7,sessionParams:g.Eb.Qn,disableTrackStickiness:g.Eb.uqa,uiPlayStartTime:g.Eb.gS,loadImmediately:g.Eb.Paa,playbackState:g.Eb.playbackState?{currentTime:g.Eb.playbackState.currentTime,volume:g.Eb.playbackState.volume,muted:g.Eb.playbackState.muted,playbackRate:g.Eb.playbackState.playbackRate}:void 0,pin:g.Eb.Adb,heartbeatCooldown:g.Eb.dua,uiLabel:g.Eb.de,uxLabels:g.Eb.sfa}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.oRa=void 0;d=a(16);f=a(5);h=a(17);m.prototype.load=function(g){var n,p;n=this;this.log.trace("Loading new segment",k(this.u));this.O=this.Sya.jO(this.config,this.k_,this.ti,this.u,this.tb,this.il);this.O.addEventListener(d.Ja.AP,function(q){n.log.trace("Segment is inactive",k(n.u));n.zw.close(n.ti(q.errorCode));});this.O.addEventListener(d.Ja.closed,this.$N);if(g)(this.log.debug("Pausing background segment",k(this.u)),this.O.addEventListener(d.Ja.sva,this.Sta),this.O.pause());else {this.ip.appendChild(this.O.Lo());p=function(q){n.Sta(q);n.O.removeEventListener(d.Ja.loaded,p);};this.O.addEventListener(d.Ja.loaded,p);}};m.prototype.observe=function(){var g,n,p;g=this;this.log.trace("Observing segment",l(this.u));if(this.zF)this.log.trace("Segment is currently observing",k(this.u));else if(this.u.Eb && this.u.Eb.Paa)this.cwa(this);else {n=this.X1b.l0a(this.config,function(){var q;if(g.O){q=g.O.Fv();if(q)return q;}return 0;});p=this.VEb(this.u);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){g.log.trace("Segment has reached its loading point",k(g.u));g.cwa(g);g.$N();});}};m.prototype.close=function(g){this.log.info("Closing segment",{segment:l(this.u),error:g});return this.O?(this.O.removeEventListener(d.Ja.sva,this.Sta),this.O.close(g)):Promise.resolve();};m.prototype.a3b=function(g){this.cwa=g;};m.prototype.VEb=function(g){var n,p;n=g.bk;g=g.Eb?g.Eb.Paa:!1;p=0;n && !g && (p=n - this.config.G5a(),p < this.config.I5a() && (g=n - this.config.I5a(),p=n - g / 2));return p;};c.prototype.mTb=function(){return this.Lh && this.Lh.O?this.Lh.O.isReady():!1;};c.prototype.Lo=function(){return this.ip;};c.prototype.iJ=function(){if(!this.Lh || !this.Lh.O)throw Error("Player not ready");return this.Lh.O;};c.prototype.dec=function(g){var n,p;p=this.Cra(g);p?this.clb(p,g):this.tb.ze(g.id) || this.log.error("Tried to update a non-existent segment",{segment:l(g),currentMovieId:this.Lh.u.I,queuedMovieIds:this.NF.map(function(q){return q.u.I;}),xid:null === (n=this.Lh.O) || void 0 === n?void 0:n.Iv()});};c.prototype.hg=function(g){var n;this.log.info("Adding segment",l(g));if(this.TI){this.log.trace("First segment, loading",k(g));n=this.n$a(g);this.TI=!1;}else (this.log.trace("Subsequent segment, caching",k(g)),(n=this.Cra(g))?this.clb(n,g):(n=this.createSession(g),this.NF.push(n),this.Lh.observe()));return n?n.Fcc:null;};c.prototype.transition=function(g,n){var p,q,t;q=this.YJ;t=null === q || void 0 === q?void 0:q.O;if(q && t)return (this.YJ=void 0,this.log.info("Transitioning segment",l(q.u)),t.GBa(this.Da.Tb().fa(f.ma)),this.okb(q,n));n=null === q || void 0 === q?void 0:q.u;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Lh.u.I,xid:null === (p=this.Lh.O) || void 0 === p?void 0:p.Iv(),nextSegmentId:g,currentSegment:l(this.Lh.u),nextSegment:n?l(n):void 0,queuedMovieIds:this.NF.map(function(v){return v.u.I;})});return Promise.reject();};c.prototype.close=function(g){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.Lh.u)),nextSession:this.YJ?JSON.stringify(k(this.YJ.u)):void 0});g=[this.Lh.close(g)];this.YJ && g.push(this.YJ.close());return Promise.all(g).then(function(){n.YJ=void 0;n.NF=[];n.TI=!0;});};c.prototype.addListener=function(g,n,p){this.Lb.addListener(g,n,p);};c.prototype.removeListener=function(g,n){this.Lb.removeListener(g,n);};c.prototype.clb=function(g,n){this.E3b(g.u,n);this.log.trace("Overwrote existing segment data",l(g.u));};c.prototype.n$a=function(g){var n,p;n=this;this.log.info("Loading the next episode",k(g));if(this.Lh){this.config.qsa()[g.I]=g.ba;p=this.Cra(g);}else p=this.createSession(g);if(p)return (this.log.trace("Found the next session",k(g)),p.a3b(function(q){n.Ojb(q);}),this.Lh?(this.log.trace("Subsequent playback, caching player and pausing",k(g)),this.YJ=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",k(g)),p.load(!1),this.okb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",k(g));};c.prototype.okb=function(g,n){var p,q,t,v,u;n=void 0 === n?{}:n;v=g.O?null === (p=g.O) || void 0 === p?void 0:p.getError():"missing player";if(v)return (null === (q=g.O) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Lh.u.I,mid:g.u.I,error:v,xid:null === (t=g.O) || void 0 === t?void 0:t.Iv()}),Promise.reject());this.log.trace("Playing episode",k(g.u));p=this.Lh;this.Lh=g;g=this.Lh.O;g.qBa(!1);this.xL(g,p?p.O:void 0);if(p && p.O){u=p.O.Lo();q=g.Lo();u.style.display="none";p=p.close();this.ip.appendChild(q);p.then(function(){u.parentElement && u.parentElement.removeChild(u);});q.style.display="block";g.jfa(n);g.LR();g.play();}return Promise.resolve();};c.prototype.Ojb=function(g){var n,p,q,t,v;if(this.NF.length && g.O){n=g.O.Fv();p=this.NF[0];q=this.Lh.u.bk;t=this.Lh.u.Eb?this.Lh.u.Eb.Paa:!1;if(q || t){t?v=0:q && (v=q - this.config.G5a());null !== n && n >= v && (this.log.info("Got a time change, loading the next player",k(p.u)),this.n$a(p.u),this.NF.splice(0,1),this.Ojb(g));}}};c.prototype.Cra=function(g){return this.Lh.u.I === g.I?this.Lh:this.NF.find(function(n){return n.u.I === g.I;});};c.prototype.E3b=function(g,n){g.ba=n.ba || g.ba;g.bk=n.bk || g.bk;g.Eb=n.Eb || g.Eb;g.ja=n.ja || g.ja;};c.prototype.createSession=function(g){return new m(this.log,this.config,this.pQ,this.Sya,this.ti,this.k_,this,g,this.ip,this.tb,this.il);};c.prototype.xL=function(g,n){this.eOb.forEach(function(p){n && n.removeEventListener(p.event,p.ey);g.addEventListener(p.event,p.ey);});this.Lb.Rc(d.ZG.m0);};b.oRa=c;},function(r,b,a){var l,d,f,h,g;function c(n,p,q,t,v,u){var w;w=this;this.O=p;this.j=q;this.pQ=t;this.wc=v;this.FN=u;this.$N=function(){w.zF && (w.zF.cancel(),w.zF=void 0);};this.log=n.mb("SegmentManager",this.j);this.M=new Map();this.j.fb.Sh && (this.j.addEventListener(f.ia.IK,function(x){return w.AF(x);}),this.j.addEventListener(f.ia.closed,this.$N));}function m(n,p){this.id=n;this.Woa=p;}function k(n,p,q,t){return d.gd.call(this,n,q,void 0,void 0,void 0,p,void 0,t) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LFa=void 0;l=a(3);d=a(37);f=a(16);h=a(5);g=a(18);ka(k,d.gd);k.prototype.toString=function(){return this.code + "-" + this.Hc + " : " + this.message + "\n" + JSON.stringify(this.data);};m.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.qa,contentEndPts:this.sa};};Ua.Object.defineProperties(m.prototype,{qa:{configurable:!0,enumerable:!0,get:function(){return this.Woa.startTimeMs;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.Woa.endTimeMs;}},YB:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Woa.next);}}});c.prototype.AF=function(n){var p;p=this;!1;n=n.position.segmentId;0 === this.M.size && Object.entries(this.j.BX()).forEach(function(q){var t;t=na(q);q=t.next().value;t=t.next().value;p.M.set(q,new m(q,t));});this.ka=this.M.get(n);};c.prototype.play=function(n){this.YQ && (this.YQ=void 0);this.$N();this.log.trace("Playing segment",n);return this.U8a(n)?this.E4b(n):this.j_(n);};c.prototype.Tt=function(n){this.log.trace("Queueing segment",n);return this.U8a(n)?this.A6b(n):this.B6b(n);};c.prototype.Gj=function(n,p){var q,t;q=this;t=this.j.Ha;if(null === t || void 0 === t || !t.Ii)return Promise.reject(this.getError(l.W.uFa,"ASE session manager is not yet initialized",l.T.pga,{segmentId:n,updates:p}));this.log.trace("Updating next segment weights",n,p);return new Promise(function(v,u){try{t.hS(n,p);q.j.fireEvent(f.ia.wDa,{V:n,pec:p});v();}catch(w){u(q.getError(l.W.uFa,"updateNextSegmentWeights threw an exception",l.T.znb,{segmentId:n,updates:p,error:w}));}});};c.prototype.U8a=function(n){return this.ka?void 0 !== this.j.BX()[this.ka.id].next[n]:!1;};c.prototype.lta=function(){var n;n=this.j.Ha;if(null === n || void 0 === n?0:n.Ii)return n.Tk().ef;};c.prototype.eTb=function(){var n;n=this.j.Ha;if(null === n || void 0 === n?0:n.Ii)return n.Tk().id;};c.prototype.eRb=function(n){var p;p=this.j.Ha;if(null === p || void 0 === p?0:p.Ii)return (n=p.G9(n)) && n.Ze;};c.prototype.E4b=function(n){var p,q;p=this;q=this.j.Ha;return null !== q && void 0 !== q && q.Ii?this.ka && 1 === this.ka.YB.length?this.j_(n):this.j.Ff?void 0 === this.eRb(n)?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.j_(n)):new Promise(function(t,v){var z,A,B,C,D,F;function u(){!B && A && z && (F.cancel(),B=!0,p.log.trace("Telling ASE to choose the next segment",{id:n,stopped:A,repositioned:z,completed:B}),q.Ys(n,!1,!0)?(t(),B=!0):(B=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),p.j_(n).then(t).catch(v)));}function w(){z=!0;p.log.trace("Player is repositioned",{id:n,stopped:A,repositioned:z,completed:B});p.j.removeEventListener(f.ia.Zk,w);u();}function x(){p.j.removeEventListener(f.ia.xK,x);q.stop();}function y(){A=!0;p.log.trace("ASE is stopped",{id:n,stopped:A,repositioned:z,completed:B});q.removeEventListener("stop",y);u();}z=!1;A=!1;B=!1;C=p.M.get(n);D=p.lta();if(void 0 === D)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),p.j_(n));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:D,currentSegment:p.ka,nextSegment:C},null,"  "));p.j.fireEvent(f.ia.Uba,{Mh:p.ka && p.ka.id,wQ:n});q.addEventListener("stop",y);p.j.addEventListener(f.ia.xK,x);p.j.addEventListener(f.ia.Zk,w);F=p.wc.Bj((0,h.zi)(10),function(){B=!0;F.cancel();v(p.getError(l.W.GS,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.T.vnb,{id:n,stopped:A,repositioned:z,completed:B}));});p.O.seek(D,f.Ve.jM);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(l.W.GS,"MediaPresenter is not initialized",l.T.wnb,{id:n}))):Promise.reject(this.getError(l.W.GS,"ASE session manager is not yet initialized",l.T.pga,{id:n}));};c.prototype.j_=function(n){var p;p=this.M.get(n);return p?this.j0(p,l.W.GS):Promise.reject(this.getError(l.W.GS,"Unable to find the separated segment",l.T.tFa,{id:n}));};c.prototype.A6b=function(n){var p;p=this.j.Ha;if(null === p || void 0 === p || !p.Ii)return Promise.reject(this.getError(l.W.HS,"ASE session manager is not yet initialized",l.T.pga,{id:n}));this.j.fireEvent(f.ia.Uba,{Mh:this.ka && this.ka.id,wQ:n});if(p.Ys(n,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.o1a(n);};c.prototype.B6b=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.I,srcsegment:this.eTb()});return this.o1a(n);};c.prototype.o1a=function(n){var p,q;p=this;if(this.YQ)return Promise.reject(this.getError(l.W.HS,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",l.T.ynb,{currentSegment:this.ka?this.ka.id:void 0,queuedSegment:this.YQ.id,failedSegment:n}));if(!this.ka)return Promise.reject(this.getError(l.W.HS,"Unable to queue segment for delayed seek because there is no currently playing segment",l.T.unb,{nextSegmentid:n}));q=this.M.get(n);if(!q)return Promise.reject(this.getError(l.W.HS,"Unable to find the separated segment",l.T.tFa,{nextSegmentid:n,currentSegmentId:this.ka.id}));this.YQ={id:n,promise:new Promise(function(t,v){var u;p.zF=p.pQ.l0a({i6a:function(){return (0,h.qc)(100);}},function(){return p.O.Fv() || 0;});u=p.lta() - g.config.lbb;p.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:u});p.zF.observe(u,function(){p.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:p.ka.id,playerEndPts:p.lta(),pts:u});p.YQ=void 0;p.$N();p.j0(q,l.W.HS).then(t).catch(v);});})};this.YQ.promise.catch(function(t){p.j.Sd(t.code,t);});return Promise.resolve();};c.prototype.j0=function(n,p){var q;q=this;return new Promise(function(t,v){var u;try{u=n.qa;!1;q.O.seek(u,f.Ve.oD);t();}catch(w){v(q.getError(p,"Seek threw an exception",l.T.xnb,{id:n.id,error:w}));}});};c.prototype.getError=function(n,p,q,t){this.log.warn(p,t);return new k(n,p,q,t);};b.LFa=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Mc=b.oq=void 0;(function(c){c[c.Kj=0]="STOPPED";c[c.sd=1]="BUFFERING";c[c.bg=2]="REBUFFERING";c[c.Lj=3]="STREAMING";c[c.WT=4]="TRACK_SWITCH";})(a || (a={}));b.Mc=a;b.oq=function(c){return c === a.sd || c === a.bg || c === a.WT;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(753),b);r.__exportStar(a(754),b);r.__exportStar(a(755),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kD=void 0;r=b.kD || (b.kD={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.aD=1]="HAVE_SOMETHING";r[r.$C=2]="HAVE_MINIMUM";r[r.dT=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.wa=b.Qca=void 0;c=a(28);(function(k){k[k.jh=0]="STARTING";k[k.sd=1]="BUFFERING";k[k.bg=2]="REBUFFERING";k[k.Dc=3]="PLAYING";k[k.Cs=4]="STOPPING";k[k.Kj=5]="STOPPED";k[k.Hh=6]="PAUSED";})(m || (m={}));b.wa=m;b.Qca=function(k){return k === c.Mc.sd?m.sd:k === c.Mc.bg?m.bg:k === c.Mc.WT?m.sd:k === c.Mc.Lj?m.Dc:m.jh;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VS=void 0;r=b.VS || (b.VS={});r[r.Rl=0]="skipped";r[r.pCb=1]="adjustment";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(777),b);r.__exportStar(a(778),b);r.__exportStar(a(779),b);r.__exportStar(a(780),b);r.__exportStar(a(781),b);r.__exportStar(a(782),b);r.__exportStar(a(783),b);r.__exportStar(a(784),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(786),b);r.__exportStar(a(787),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Fu=void 0;r=b.Fu || (b.Fu={});r[r.jtb=0]="PLAYGRAPH_CHANGED";r[r.ktb=1]="PLAYGRAPH_UNCHANGED";r[r.zsb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.hub=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.lqb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.kqb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.iub=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.Imb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.Krb=8]="LOSS_OF_POSITION";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gFa=void 0;c=a(14);r=(function(){function m(k){this.config=k;}m.prototype.pn=function(k,l){return this.config.K0 || l !== c.Mc.Lj?k.filter(function(d){return d.zv;}):k;};return m;})();b.gFa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.hH=void 0;r=a(0);c=a(9);m=r.__importDefault(a(4));k=a(366);a=(function(){function l(d){this.console=d;this.e1a=[];this.LYa={};this.z1a=!1;}l.prototype.gs=function(d,f){this.e1a=d;void 0 !== f?this.LYa[f]=d:this.z1a || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.z1a=!0);};l.prototype.pn=function(d){var f,h,g,n,p;f=this;if(0 === d.length)return d;n=d[0].L;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=m.default.gv) || void 0 === h?void 0:h.call(m.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (g=this.LYa[n]) && void 0 !== g?g:this.e1a;c.R && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(p));d=d.filter(function(q){return k.xna(q.profile,q.bitrate,p,f.console).inRange;});c.R && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return l;})();b.hH=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hFa=void 0;r=(function(){function a(c){var m;m=this;c.QR && c.QR.enabled && c.QR.profiles && c.QR.profiles.length && "keepLowest" === c.QR.action && (this.F9a={},c.QR.profiles.forEach(function(k){return m.F9a[k]=!0;}));}a.prototype.pn=function(c){var m,k;m={};k=this.F9a;return void 0 === k?c:c.filter(function(l){return !k[l.profile] || (m[l.profile]?!1:m[l.profile]=!0);});};return a;})();b.hFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eFa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.pn=function(c){var m;m=this.config;return c.filter(function(k){return !(void 0 !== k.kb && (k.kb < m.RJ || k.kb > m.fab) || (void 0 === k.kb || 0 >= m.RJ) && k.bitrate < m.kxa || (void 0 === k.kb || Infinity === m.fab) && k.bitrate > m.p_b);});};return a;})();b.eFa=r;},function(r,b,a){var m;function c(k,l){l=Math.max(k,l);return isNaN(l)?k || -Infinity:l;}Object.defineProperties(b,{__esModule:{value:!0}});b.SEa=void 0;m=a(14);r=(function(){function k(l){this.config=l;this.pda=0;this.state=m.Mc.Kj;this.mbb=c(l.kxa,l.wba);this.qxa=c(l.RJ,l.xZ);}k.prototype.pn=function(l,d){var f;f=this;if(d !== this.state){this.state=d;if(d === m.Mc.sd || d === m.Mc.WT)return l;d === m.Mc.bg && this.gfb();}return l.filter(function(h){return !(void 0 !== h.kb && h.kb < f.qxa || (void 0 === h.kb || 0 > f.qxa) && h.bitrate < f.mbb);});};k.prototype.gfb=function(){++this.pda;this.qxa=c(this.config.RJ,this.config.xZ - this.config.o0b * this.pda);this.mbb=this.config.kxa || -Infinity;};return k;})();b.SEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dFa=void 0;c=a(21);r=(function(){function m(k){this.config=k;}m.prototype.$$b=function(k){return k % 100 + 1 <= this.config.Fya;};m.prototype.pn=function(k){var l,d,f,h,g,n,p,q,t,v,u;p=Number(null === (l=k[0]) || void 0 === l?void 0:l.I);if(!(this.config.H8 && this.$$b(p) && 0 < this.config.Hda.length))return k;l=k.length;q=null !== (d=k[l - 1].Gda) && void 0 !== d?d:0;if(d=c.Vc(this.config.Hda,function(w){return w.eqc >= q && w.lgb <= q;})){for(p=0;p < l;p++){t=k[Math.max(p - 1,0)];v=k[p];if(!((null !== (f=v.Gda) && void 0 !== f?f:0) < d.lgb || (null !== (h=t.Gda) && void 0 !== h?h:0) < d.lgb)){u=null !== (g=v.kb) && void 0 !== g?g:Infinity;t=null !== (n=t.kb) && void 0 !== n?n:Infinity;if(!(t < d.ppc || t < d.opc && v.bitrate < d.maxBitrate || !u && v.bitrate < d.Roc))break;}}return k.slice(0,p);}return k;};return m;})();b.dFa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aia=b.lga=void 0;c=a(21);b.lga={pn:function(m){return m.filter(function(k){return k.Sv && !k.uB;});}};b.aia={pn:function(m){return (m=c.Vc(m,function(k){return ! !k.Sv && !k.uB;}))?[m]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bia=void 0;b.bia={pn:function(a){return a.length?[a[0]]:[];}};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.oE=b.nE=void 0;c=a(368);m=a(97);b.nE=function(k,l){l && (null === k || void 0 === k?0:k.L7a) && (l=new m.Du(l).or(m.TG));return new m.Du(m.lga).and(null !== l && void 0 !== l?l:m.TG).or(m.aia,c.kM.QI).or(m.bia,c.kM.QI);};b.oE=function(k,l){l && k.L7a && (l=new m.Du(l).or(m.TG));return new m.Du(m.lga).and(new m.gFa(k)).and(new m.eFa(k)).and(new m.SEa(k)).and(new m.hFa(k)).and(k.H8?new m.dFa(k):m.TG).and(null !== l && void 0 !== l?l:m.TG).or(m.aia,c.kM.QI).or(m.bia,c.kM.QI);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(810),b);r.__exportStar(a(374),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var m;function c(k,l){var d;void 0 === l && (l=c);d="";k.SO && (d=null === k || void 0 === k?void 0:k.SO.map(l).reduce(function(f,h){return f + "," + h;}));return (null === k || void 0 === k?void 0:k.name) + "::" + (null === k || void 0 === k?void 0:k.message) + "::{" + (null === k || void 0 === k?void 0:k.stack) + "}[" + d + "]";}Object.defineProperties(b,{__esModule:{value:!0}});b.Zfa=void 0;m=a(0);r=(function(k){function l(d,f){d=k.call(this,l.oQb(d,f)) || this;d.Ewb=f;d.name="AggregateError";return d;}m.__extends(l,k);l.oQb=function(d,f){return f.reduce(function(h,g){return h + "\n" + g;},d);};l.stringify=function(d){return c(d);};Object.defineProperties(l.prototype,{SO:{get:function(){return this.Ewb;},enumerable:!1,configurable:!0}});return l;})(Error);b.Zfa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KPa=void 0;b.KPa=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Cd,segments:a.RKb(c.M)},void 0 !== c.se?{transitionType:c.se}:{});};a.encode=function(c){return Object.assign({Cd:c.initialSegment,M:a.MNb(c.segments)},void 0 !== c.transitionType?{se:c.transitionType}:{});};a.MNb=function(c){return Object.keys(c).reduce(function(m,k){m[k]=a.LNb(c[k]);return m;},{});};a.LNb=function(c){return Object.assign({L:c.viewableId,qa:c.startTimeMs},c.endTimeMs?{sa:c.endTimeMs}:{},c.defaultNext?{Kb:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{se:c.transitionType}:{},c.next?{next:a.JNb(c.next)}:{},c.exitZones?{fq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{kc:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{uv:c.fadeIn}:{},void 0 !== c.fadeOut?{vv:c.fadeOut}:{});};a.JNb=function(c){return Object.keys(c).reduce(function(m,k){m[k]=a.KNb(c[k]);return m;},{});};a.KNb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{se:c.transitionType}:{});};a.RKb=function(c){return Object.keys(c).reduce(function(m,k){m[k]=a.QKb(c[k]);return m;},{});};a.QKb=function(c){return Object.assign({viewableId:c.L,startTimeMs:c.qa},c.sa?{endTimeMs:c.sa}:{},c.Kb?{defaultNext:c.Kb}:{},c.weight?{weight:c.weight}:{},c.se?{transitionType:c.se}:{},c.next?{next:a.OKb(c.next)}:{},c.fq?{exitZones:c.fq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.kc?{uxSegment:c.kc}:{},c.type?{type:c.type}:{},void 0 !== c.uv?{fadeIn:c.uv}:{},void 0 !== c.vv?{fadeOut:c.vv}:{});};a.OKb=function(c){return Object.keys(c).reduce(function(m,k){m[k]=a.PKb(c[k]);return m;},{});};a.PKb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.se?{transitionType:c.se}:{});};return a;})();},function(r,b,a){var f;function c(h){return Object.keys(h.segments).some(function(g){return void 0 !== d(h.segments[g]);});}function m(h){return "delayedSeamless" === h?"lazy":h;}function k(h){return Object.keys(h).reduce(function(g,n){var p,q;p=h[n];q=p.weight;p=p.transitionType || p.transitionHint;n=g[n]={};void 0 !== q && (n.weight=q);p && (n.se=m(p));return g;},{});}function l(h){var g,n;g=Object.keys(h);n=g.length;return n?g.reduce(function(p,q){return p + (h[q].weight || 0);},0) / n:void 0;}function d(h){var g;if(h.ui){g=h.ui.interactionZones;if((null === g || void 0 === g?0:g.length) && g[0].length)return g[0][0] - h.startTimeMs;h=h.ui.interactionZonesV2;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0];}else if(void 0 !== h.earliestSkipRequestOffset)return h.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.LA=void 0;f=a(146);b.LA=function(h,g){var n,p,q,t,v,u;n=void 0 === g?{}:g;g=n.Dd;p=n.Cd;q=n.M;n=n.config;t=!(!n || -1 === n.Vra.indexOf(h.viewableId));v=c(h)?0:(null === n || void 0 === n?void 0:n.Ura) || 0;n=new f.ex();u=q || h.segments;n.QK(null !== p && void 0 !== p?p:h.initialSegment).Bhb(null !== g && void 0 !== g?g:h.mediaTypes).HBa(t?"immediate":m(h.transitionType)).BBa(Object.keys(u).reduce(function(w,x){var y,z,A,B,C,D;y=u[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (t || (null === (B=y.exitZones) || void 0 === B?0:B.length))?l(y.next):void 0;}B=z;if(z=y.exitZones)C=void 0;else a:{if(t && y.endTimeMs){C=y.endTimeMs - y.startTimeMs;D=d(y);if(D && D < C){C=[[D,C]];break a;}if(v && C > v){C=[[C - v,C]];break a;}}C=void 0;}D=t?C?void 0:y.transitionHint || "lazy":y.transitionHint;B={L:h.viewableId,qa:y.startTimeMs,sa:null !== (A=y.endTimeMs) && void 0 !== A?A:Infinity,se:m(D),fq:z || C,weight:B};y.defaultNext && (B.Kb=y.defaultNext);y.next && (B.next=k(y.next));w[x]=B;return w;},{}));return n.Qi();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.WF=void 0;c=a(146);b.WF=function(m,k,l){var d;d=new c.ex();d.QK(k).HBa("lazy").Bhb(l).hg(k,{L:m,qa:0,sa:Infinity});return d.Qi();};},function(r,b,a){var f,h,g,n;function c(p){for(var q=p.Cd,t=[];q;){t.push(q);q=p.M[q].next;if(!q)break;q=Object.keys(q);if(q.length)(g.assert(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return t;}function m(p){return n.FV(Object.keys(p.M).map(function(q){return p.M[q].L;}));}function k(p,q){return Object.keys(q.M).some(function(t){t=q.M[t];return p.L === t.L && p.qa > t.qa && (!t.sa || ! !p.sa && (Infinity === p.sa || p.sa < t.sa));});}function l(p){return null === p || void 0 === p?Infinity:p;}function d(p,q){return null === p || void 0 === p?Infinity === l(q.sa):p >= q.qa && p <= l(q.sa);}Object.defineProperty(b,"__esModule",{value:!0});b.dxa=void 0;f=a(0);h=a(146);g=a(375);n=a(230);b.dxa=function(p,q){var t,v,u,w,x;t=c(q);v=m(p);u=m(q);v=n.$Xa(v,u);g.assert(1 === v.length,"Source and content playgraphs should share one viewable");w=v[0];u=Object.keys(p.M).filter(function(y){return p.M[y].L === w;}).map(function(y){var E,H,L,K,I,R;for(var z,A=p.M[y],B=A.qa,C=l(A.sa),D=0 === B,F=[],G=0;G < t.length;++G){E=t[G];H=q.M[E];L=k(p.M[y],q);if(H.L !== w)D && F.push({id:y + ":" + E,u:f.__assign(f.__assign({},H),{kc:y})});else if(D){I=Math.max(A.qa,H.qa);K=(R=!Number.isFinite(C) && G == t.length - 1)?C:Math.min(C,l(H.sa));K > I && (L=Infinity !== C || !L && !R?Infinity === K?null:K:A.sa,F.push({id:y + ":" + E,u:f.__assign(f.__assign({},H),{qa:I,sa:L,kc:y})}));if(d(C,H)){if(C === l(H.sa))for(G+=1;G < t.length;++G){B=t[G];C=q.M[B];if(C.L === w)break;F.push({id:y + ":" + B,u:f.__assign(f.__assign({},C),{kc:y})});}break;}}else if(d(B,H))if((D=!0,C <= l(H.sa)))F.push({id:y,u:A});else {I=A.qa;R=!Number.isFinite(C) && G == t.length - 1;L=R && L?A.sa:Math.min(C,l(H.sa));F.push({id:y + ":" + E,u:f.__assign(f.__assign({},H),{qa:I,sa:L,kc:y})});}}F.length || F.push({id:y,u:f.__assign(f.__assign({},A),{kc:y})});for(G=0;G < F.length - 1;++G){B=F[G + 1].id;F[G].u=f.__assign(f.__assign({},F[G].u),{Kb:B,next:(z={},z[B]={},z)});}z=F[F.length - 1];z.u=f.__assign(f.__assign({},z.u),{Kb:A.Kb,next:A.next});return {id:y,u:A,hjb:F};});x=u.reduce(function(y,z){return (y[z.id]=z.hjb[0].id,y);},{});v=new h.ex();u=u.reduce(function(y,z){z.hjb.forEach(function(A){return y[A.id]=A.u;});return y;},{});return v.BBa(u,function(){return !0;},x).oXa(p.M,function(y,z){return !x[z];},x,function(y,z){return f.__assign(f.__assign({},y),{kc:z});}).QK(x[p.Cd] || p.Cd).Qi();};},function(r,b,a){var q,t,v,u,w;function c(x,y,z,A,B){var C,D,F;C=x.M[y];D=z.M[C.kc];A=A.kc;F=f(C.sa) - C.qa;F=void 0 === B?B=0:B + F;return C.L === (null === D || void 0 === D?void 0:D.L)?{s1:f(C.sa),jW:B}:C.kc === A && (y=q.__read(m(x,y),1)[0]) && x.M[y].kc === C.kc?c(x,y,z,C,F):{s1:D.qa,jW:F};}function m(x,y){return Object.keys(x.M).filter(function(z){return x.M[z].Kb === y;});}function k(x,y,z,A,B){var C,D,F;void 0 === B && (B=0);y=x.M[y];C=z.M[y.kc];A=A.kc;D=z.M[A];F=f(y.sa) - y.qa;return y.L === (null === C || void 0 === C?void 0:C.L)?{s1:y.qa,jW:B}:y.kc === A && y.Kb?k(x,y.Kb,z,y,B + F):{s1:f(D.sa),jW:B};}function l(x,y,z){var A,B,C,D,F,G,E,H,L,K,I,R,O;A=n(x,y,z);if(A)return A;A=x.M[z.u];B=z.offset;C=Object.keys(y.M).filter(function(J){return y.M[J].kc === z.u;});D=[];C.forEach(function(J){var P,S,T;function M(U){U=t.c9(y,U);null === U || void 0 === U?void 0:U.forEach(function(W){var fa,sa;if(y.M[W].kc !== z.u){fa=y.M[W];sa=fa.sa;T={u:W,offset:sa - fa.qa};(fa=sa?p(x,y,T):void 0) && D.push({OA:T,ls:fa});fa || (T={u:W,offset:0},(fa=p(x,y,{u:W,offset:0})) && D.push({OA:T,ls:fa}));M(W);}});}P=y.M[J];S=P.sa;T={u:J,offset:S - P.qa};(P=S?p(x,y,T):void 0) && D.push({OA:T,ls:P});T={u:J,offset:0};(S=p(x,y,T)) && D.push({OA:T,ls:S});S || P || M(J);});u.assert(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");F=A.qa + B;E=Infinity;D.forEach(function(J){var M;M=J.ls;M=F - (x.M[M.u].qa + M.offset);0 <= M && M < E && (E=M,G=J);});H=[];C.forEach(function(J){var P,S,T,U;function M(W){Object.keys(y.M[W].next || ({})).forEach(function(fa){var sa,wa,Ba;if(y.M[fa].kc !== z.u){sa=y.M[fa];wa=sa.qa;sa=sa.sa;U={u:fa,offset:0};Ba=p(x,y,U);Ba && H.push({OA:U,ls:Ba});Ba || (U={u:fa,offset:sa - wa},(wa=sa?p(x,y,U):void 0) && H.push({OA:U,ls:wa}));}M(fa);});}P=y.M[J];S=P.qa;T=P.sa;U={u:J,offset:0};(P=p(x,y,U)) && H.push({OA:U,ls:P});U={u:J,offset:T - S};(S=T?p(x,y,U):void 0) && H.push({OA:U,ls:S});P || S || M(J);});u.assert(0 < H.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");K=Infinity;H.forEach(function(J){var M;M=J.ls;M=x.M[M.u].qa + M.offset - F;if(0 <= M && M < K || M > K && 0 > K || Infinity === K)(K=M,L=J);});u.assert(G);u.assert(L);B=G.OA;u.assert(B,"Segment not found in the combined playgraph");A=L.OA;u.assert(A,"Segment not found in the combined playgraph");I=y.M[B.u];C=y.M[A.u];B.offset === f(I.sa) - I.qa && y.M[I.Kb].kc === I.kc && (B.u === A.u && B.offset === A.offset && (A={u:C.Kb,offset:0},C=y.M[A.u]),B={u:I.Kb,offset:0},I=y.M[B.u]);R=x.M[G.ls.u].qa + G.ls.offset;O=x.M[L.ls.u].qa + L.ls.offset - R;R=0 === O?0:(F - R) / O;if(B.u === A.u)return (I=I.qa + B.offset,B=B.u,{u:B,offset:I + R * (C.qa + A.offset - I) - y.M[B].qa});O=d(y,B,A);I=O.path;O=O.FI;C=0 === A.offset?0:f(C.sa) - C.qa;return g(y,I,B.offset + R * (O - B.offset - (C - A.offset)));}function d(x,y,z){var A,B;if(y.u !== z.u){for(y=[y.u];y[y.length - 1] !== z.u;){A=x.M[y[y.length - 1]];u.assert(A.next,"Cannot find path between points in combined playgraph");if(A.next[z.u])break;B=Object.keys(A.next);1 === B.length?y.push(B[0]):(u.assert(A.Kb,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(A.Kb));}0 !== z.offset && y.push(z.u);return {path:y,FI:h(x,y)};}return {path:[],FI:z.offset - y.offset};}function f(x){return null === x || void 0 === x?Infinity:x;}function h(x,y){return y.reduce(function(z,A){var B;A=x.M[A];B=A.qa;return z + f(A.sa) - B;},0);}function g(x,y,z){var B,C,D;for(var A=0;A < y.length;++A){B=y[A];C=x.M[B];D=C.qa;C=f(C.sa) - D;if(C > z)return {u:B,offset:z};z-=C;}u.assert(!1,"Invalid offset given for path");}function n(x,y,z){var A,B,C,D,F,G,E,H,L;B=x.M[z.u];u.assert(B,"Graph position " + z.u + " does not exist in UX playgraph");C=z.offset;u.assert(0 <= C,"Graph position offset " + C + " cannot be negative");u.assert(!B.sa || C <= B.sa - B.qa,"Graph position " + C + " offset outside segment");if(y.M[z.u])return z;D=Object.keys(y.M).filter(function(K){return y.M[K].kc === z.u;}).sort(function(K,I){if(K === I)return 0;for(K=y.M[K];K;){if(K.Kb === I)return -1;if(!K.Kb)break;K=y.M[K.Kb];if(K.kc !== z.u)break;}return 1;});u.assert(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");F=B.qa + C;G=D.filter(function(K){return y.M[K].L === B.L;});E=q.__read(D,1)[0];G=G.map(function(K){return [K,y.M[K]];}).filter(function(K){var I;K=q.__read(K,2);I=K[0];return F >= K[1].qa || I === E;});if(G=v.Vc(G,function(K){var I;K=q.__read(K,2)[1];I=K.Kb?y.M[K.Kb]:void 0;return !K.sa || ! !K.sa && F < K.sa || (null === I || void 0 === I?void 0:I.kc) !== z.u && F >= K.qa;})){H=q.__read(G,2);G=H[0];H=H[1];L=(isFinite(F)?F:null !== (A=H.sa) && void 0 !== A?A:Infinity) - H.qa;u.assert(0 <= L,"Content playgrah graph position offset cannot be negative");A=!0;0 === L && (A=w.Bra(y,G),A=!A || A.kc !== H.kc);if(A)return {u:G,offset:L};}D=D.filter(function(K){return y.M[K].L !== B.L;});if(0 === C && (C=w.Bra(x,z.u),!C || C.kc !== z.u) && (C=v.Vc(D,function(K){return 0 === t.c9(y,K).length;}),void 0 !== C))return {u:C,offset:0};if(B.sa && Infinity !== B.sa && !(B.sa - B.qa !== z.offset || B.Kb && x.M[B.Kb]) && (C=v.Vc(D,function(K){return !y.M[K].next || 0 === Object.keys(y.M[K].next).length;}),void 0 !== C))return (D=y.M[C],x=D.qa,D=D.sa,u.assert(D,"Content playgraph segments from other viewables must have end time"),{u:C,offset:D - x});}function p(x,y,z){var A,B;A=y.M[z.u];u.assert(A,"Graph position does not exist in combined playgraph");B=z.offset;u.assert(0 <= B,"Graph position offset cannot be negative");u.assert(!A.sa || B <= A.sa - A.qa,"Graph position offset outside segment");if(void 0 === A.kc)return z;x=x.M[A.kc];u.assert(x,"Referenced ux playgraph segment must exist");if(A.L === x.L)return (B=A.qa + B - x.qa,x=f(x.sa) - x.qa,B=Math.max(Math.min(B,x),0),{u:A.kc,offset:B});if(0 === B && (z=t.c9(y,z.u).filter(function(C){return y.M[C].kc === A.kc;}),0 === B && 0 === z.length))return {u:A.kc,offset:0};B=A.Kb?y.M[A.Kb]:void 0;if((null === B || void 0 === B?void 0:B.kc) !== A.kc)return {u:A.kc,offset:x.sa?x.sa - x.qa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.L4a=b.Klb=b.p_a=void 0;q=a(0);t=a(39);v=a(230);u=a(375);w=a(376);b.p_a=function(x,y,z){var A,B,C,D;A=y.M[z.u];B=p(x,y,z);if(B)return B;u.assert(A.kc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");C=x.M[A.kc];u.assert(C,"Referenced ux playgraph segment must exist");u.assert(A.sa,"Content playgraph segments from other viewables must have end time");if(!A.Kb || !y.M[A.Kb])return (u.assert(C.sa,"Must have definite end time to add terminal content playgraph segment"),{u:A.kc,offset:C.sa - C.qa});D=c(y,z.u,x,A);B=D.s1;D=D.jW;if(null === B || void 0 === B)return (u.assert(C.sa,"Experience playgraph segment must have end time"),{u:A.kc,offset:C.sa - C.qa});y=k(y,z.u,x,A);x=y.s1;y=y.jW;null !== x && void 0 !== x && isFinite(x) || u.assert(x,"Experience playgraph segment must have end time");return {u:A.kc,offset:B + (D + z.offset) / (D + y) * (x - B)};};b.Klb=l;b.L4a=function(x,y,z){var A,B,C;return q.__generator(this,function(D){switch(D.label){case 0:(A=l(x,y,z),B=y.M[A.u],C=A.u,D.label=1);case 1:return [4,C];case 2:(D.ob(),C=B.Kb,B=y.M[C],D.label=3);case 3:if((null === B || void 0 === B?void 0:B.kc) === z.u && C !== A.u)return [3,1];D.label=4;case 4:return [2];}});};},function(r,b,a){var m,k,l;function c(d,f,h){var g;if(!h)return !1;h=h[f];return "boolean" === typeof h?!0 === h:(null === h || void 0 === h?void 0:h.length) === (null === (g=d[f].Oj) || void 0 === g?void 0:g.length);}Object.defineProperty(b,"__esModule",{value:!0});b.Z_a=b.Pq=void 0;m=a(0);k=a(146);b.Pq=-1;b.Z_a=function(d,f,h,g,n){function p(u){var w,x,y,z,A;w=f.Dg[u];x=c(f.Dg,u,h);y=! !g && !x;z=0 === w.rq;w.rq > t && q.hg(d + "-" + u,{L:d,qa:t,sa:w.rq,type:"content"});!y || z && !n || q.hg("padstart-" + u,{L:b.Pq,qa:0,sa:g,type:"padding"});t=w.rq;if(w.Oj && !x){A=null === h || void 0 === h?void 0:h[u];w.Oj.forEach(function(B,C){var D;D=!1;Array.isArray(A) && (D=-1 < A.indexOf(C));D || q.hg("ad-" + u + "-" + C,{L:B.id,qa:B.qa,sa:B.sa,type:"ad"});});y && q.hg("padend-" + u,{L:b.Pq,qa:0,sa:g,type:"padding"});}}void 0 === g && (g=0);void 0 === n && (n=!1);for(var q=new l(),t=0,v=0;v < f.Dg.length;++v){p(v);}q.hg(d + "-" + f.Dg.length,{L:d,qa:t,sa:null,type:"content"});return q.Qi();};l=(function(){function d(){this.qb=new k.ex();}d.prototype.hg=function(f,h){var g,n,p;this.TI || (this.TI=f);if(this.z_){n=m.__read(this.z_,2);p=n[0];n=n[1];n.Kb=f;n.next=(g={},g[f]={},g);"content" === n.type && -1 < ["ad","padding"].indexOf(h.type) && (n.vv=!0);"content" === h.type && -1 < ["ad","padding"].indexOf(n.type) && (h.uv=!0);this.qb.hg(p,n);}this.z_=[f,h];};d.prototype.Qi=function(){var f;if(this.z_){f=m.__read(this.z_,2);this.qb.hg(f[0],f[1]);}this.z_=void 0;this.TI && this.qb.QK(this.TI);return this.qb.Qi();};return d;})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(231),b);},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.NEa=b.fga=b.c2=b.OEa=void 0;c=a(28);m=a(377);r=(function(){function d(f,h,g){var n,p;this.mvb=f;this.Xm=h;this.KC=g;this.HUa=this.GUa=!1;this.T4=null !== (p=null === (n=f.Oj) || void 0 === n?void 0:n.map(function(q){return new m.MEa(q);})) && void 0 !== p?p:[];this.Mxb=f.rq;}Object.defineProperties(d.prototype,{rq:{get:function(){return this.Mxb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lma:{get:function(){return this.mvb.Lma;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oj:{get:function(){return this.T4;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Oj.reduce(function(f,h){return f.add(h.endTime.Aa(h.startTime));},c.K.Ia);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qXb:{get:function(){return this.T4.every(function(f){return f.VE;});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{VE:{get:function(){return this.T4.length?this.T4.every(function(f){return f.VE;}):this.GUa;},enumerable:!1,configurable:!0}});d.prototype.x$b=function(){this.Oj.length || (this.GUa=!0);};Object.defineProperties(d.prototype,{$ta:{get:function(){return this.HUa;},set:function(f){f && (this.HUa=!0);},enumerable:!1,configurable:!0}});return d;})();b.OEa=r;(function(d){d[d.start=0]="start";d[d.end=1]="end";})(k=b.c2 || (b.c2={}));l=(function(){function d(f,h){this.yca=f;this.ywb=h;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.K.Ga(this.ywb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{Oxa:{get:function(){return this.Uyb || (this.Uyb=new d(k.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{M1b:{get:function(){return this.Tyb || (this.Tyb=new d(k.end,0));},enumerable:!1,configurable:!0}});return d;})();b.fga=l;r=(function(){function d(f,h,g){this.Up=f;this.tWa=h || l.Oxa;this.Cwb=g || l.Oxa;}Object.defineProperties(d.prototype,{xea:{get:function(){return this.tWa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bX:{get:function(){return this.Cwb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{YUb:{get:function(){return this.tWa !== l.Oxa || this.bX !== l.M1b;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Up.duration.add(this.xea.duration).add(this.bX.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wca:{get:function(){return this.xea.duration.add(this.bX.duration);},enumerable:!1,configurable:!0}});return d;})();b.NEa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.TLa=void 0;c=a(0);m=a(11);k=a(232);l=a(372);r=c.__importDefault(a(4));d=a(913);r=new r.default.Console("ASEJS","media|asejs");r.trace.bind(r);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(h){function g(n,p){var q;q=h.call(this) || this;q.J=n;q.li=new d.ZKa(n,p);n.KO && q.L_a(p);q.xh=new m.Gf();f.forEach(function(t){q.xh.on(q.li,t,function(v){return q.emit(t,v);});q.zm && q.xh.on(q.zm,t,function(v){return q.emit(t,v);});});return q;}c.__extends(g,h);Object.defineProperties(g.prototype,{Vb:{get:function(){return this.li.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Yo:{get:function(){return this.li.Yo;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Bw:{get:function(){return this.li.Bw;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wC:{get:function(){return this.li.wC;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xva:{get:function(){return this.li.xva;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{XF:{get:function(){return this.li.XF;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xf:{get:function(){return this.li.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mi:{get:function(){return this.li.mi;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sua:{get:function(){return this.li.sua;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fZ:{get:function(){return this.li.fZ.bind(this.li);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{y9:{get:function(){return this.li.y9.bind(this.li);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{uoa:{get:function(){var n;n=this;return function(){n.jgb();n.li.uoa();};},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eE:{get:function(){var n;n=this;return function(){n.jgb();n.li.eE();};},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mr:{get:function(){var n;n=this;return function(p,q,t){var v;null === (v=n.Xf) || void 0 === v?void 0:v.mr(p,q,t);};},enumerable:!1,configurable:!0}});g.prototype.L_a=function(n){return this.zm=new (a(1017).sRa)(this.J,this.eE,this.mr,n);};g.prototype.ta=function(n,p,q,t,v,u,w,x){void 0 === w && (w=262144);void 0 === x && (x=1048576);this.li.ta(n,p,q,t,v,u);this.zm?this.zm.ta(n,p,q,t,v,u,w,x):this.N9a={sDb:n,bfc:p,Qx:q,wC:t,XF:v,S_b:u,Jna:w,QDa:x};};g.prototype.u0=function(n,p,q){this.li.u0(n,p,q);this.zm?this.zm.u0(n,p,q):this.T9a={rbc:n,wC:p,XF:q};};g.prototype.createSession=function(n,p,q,t,v,u,w,x,y,z){var A,B,C,D,F;A=this;x || (x=this.li.config);if(x.KO && !this.zm){B=this.L_a(this.li.fG);f.forEach(function(G){A.xh.on(A.zm,G,function(E){return A.emit(G,E);});});if(this.N9a){C=this.N9a;D=C.wC;F=C.XF;B.ta(C.sDb,C.bfc,C.Qx,D,F,C.S_b,C.Jna,C.QDa);}this.T9a && (F=this.T9a,C=F.rbc,D=F.wC,F=F.XF,B.u0(C,D,F));}return this.zm && x && x.q1?(x.Ps || x.XJ || this.li.eE(),this.zm.createSession(n,p,q,t,v,u,w,x,y,z)):this.li.createSession(n,p,q,t,v,u,w,x,y,z);};g.prototype.cz=function(n,p,q){if(this.zm)return this.zm.cz(n,p,q);throw Error("Update viewable not supported in legacy.");};g.prototype.addEventListener=function(n,p){this.addListener(n,p);return !0;};g.prototype.removeEventListener=function(n,p){this.removeListener(n,p);return !0;};g.prototype.lb=function(){var n;this.xh.clear();this.li.lb();null === (n=this.zm) || void 0 === n?void 0:n.lb();k.FL.reset();};g.prototype.jgb=function(){var n,p;this.J.Ps || this.J.XJ || (null === (n=this.zm) || void 0 === n?void 0:n.Ha.state) !== l.vp.OPEN || (null === (p=this.zm) || void 0 === p?void 0:p.Ha.ow.reset());};return g;})(m.EventEmitter);b.TLa=r;},function(r){function b(c,m,k,l){c.trace(":",k,":",l);m(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,m,k,l){k=l?k.bind(l):k;if(c){this.console && (k=b.bind(null,this.console,k,m));if("function" === typeof c.addListener)c.addListener(m,k);else if("function" === typeof c.addEventListener)c.addEventListener(m,k);else throw Error("Emitter does not have a function to add listeners for '" + m + "'");this.listeners.push([c,m,k]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(m){var k,l;k=m[0];l=m[1];m=m[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,m):"function" === typeof k.removeListener && k.removeListener(l,m);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){r.exports={Wtb:a(827),Tgc:a(828)};},function(r,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function m(f){this.tf=null;this.jo=f;this.size=0;}function k(f){return null !== f && f.red;}function l(f,h){var g;g=f.Ph(!h);f.hs(!h,g.Ph(h));g.hs(h,f);f.red=!0;g.red=!1;return g;}function d(f,h){f.hs(!h,l(f.Ph(!h),!h));return l(f,h);}b=a(378);c.prototype.Ph=function(f){return f?this.right:this.left;};c.prototype.hs=function(f,h){f?this.right=h:this.left=h;};m.prototype=new b();m.prototype.So=function(f){var h,g,n,p,q,t,v,u,w;h=!1;if(null === this.tf)(this.tf=new c(f),h=!0,this.size++);else {g=new c(void 0);n=0;p=0;q=null;t=g;v=null;u=this.tf;for(t.right=this.tf;;){null === u?(u=new c(f),v.hs(n,u),h=!0,this.size++):k(u.left) && k(u.right) && (u.red=!0,u.left.red=!1,u.right.red=!1);if(k(u) && k(v)){w=t.right === q;u === v.Ph(p)?t.hs(w,l(q,!p)):t.hs(w,d(q,!p));}w=this.jo(u.data,f);if(0 === w)break;p=n;n=0 > w;null !== q && (t=q);q=v;v=u;u=u.Ph(n);}this.tf=g.right;}this.tf.red=!1;return h;};m.prototype.remove=function(f){var h,g,v,u,w;if(null === this.tf)return !1;h=new c(void 0);g=h;g.right=this.tf;for(var n=null,p,q=null,t=1;null !== g.Ph(t);){v=t;p=n;n=g;g=g.Ph(t);u=this.jo(f,g.data);t=0 < u;0 === u && (q=g);if(!k(g) && !k(g.Ph(t)))if(k(g.Ph(!t)))(p=l(g,t),n.hs(v,p),n=p);else if(!k(g.Ph(!t)) && (u=n.Ph(!v),null !== u))if(k(u.Ph(!v)) || k(u.Ph(v))){w=p.right === n;k(u.Ph(v))?p.hs(w,d(n,v)):k(u.Ph(!v)) && p.hs(w,l(n,v));v=p.Ph(w);v.red=!0;g.red=!0;v.left.red=!1;v.right.red=!1;}else (n.red=!1,u.red=!0,g.red=!0);}null !== q && (q.data=g.data,n.hs(n.right === g,g.Ph(null === g.left)),this.size--);this.tf=h.right;null !== this.tf && (this.tf.red=!1);return null !== q;};r.exports=m;},function(r,b,a){function c(k){this.data=k;this.right=this.left=null;}function m(k){this.tf=null;this.jo=k;this.size=0;}b=a(378);c.prototype.Ph=function(k){return k?this.right:this.left;};c.prototype.hs=function(k,l){k?this.right=l:this.left=l;};m.prototype=new b();m.prototype.So=function(k){if(null === this.tf)return (this.tf=new c(k),this.size++,!0);for(var l=0,d=null,f=this.tf;;){if(null === f)return (f=new c(k),d.hs(l,f),ret=!0,this.size++,!0);if(0 === this.jo(f.data,k))return !1;l=0 > this.jo(f.data,k);d=f;f=f.Ph(l);}};m.prototype.remove=function(k){var l,d,n;if(null === this.tf)return !1;l=new c(void 0);d=l;d.right=this.tf;for(var f=null,h=null,g=1;null !== d.Ph(g);){f=d;d=d.Ph(g);n=this.jo(k,d.data);g=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,f.hs(f.right === d,d.Ph(null === d.left)),this.tf=l.right,this.size--,!0):!1;};r.exports=m;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.VMa=void 0;c=a(21);m=a(2);r=(function(){function k(){this.data={};}Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{size:{get:function(){var l;l=this;return Object.keys(this.data).reduce(function(d,f){return d + l.data[f].length;},0);},enumerable:!1,configurable:!0}});k.prototype.get=function(l){var d;return null !== (d=this.data[l]) && void 0 !== d?d:[];};k.prototype.has=function(l,d){return (l=this.data[l])?void 0 === d?!0:-1 !== l.indexOf(d):!1;};k.prototype.count=function(l){return (l=this.data[l])?l.length:0;};k.prototype.keys=function(){return Object.keys(this.data);};k.prototype.values=function(){var l;l=this;return c.flatten(this.keys().map(function(d){return l.data[d];}));};k.prototype.set=function(l,d){(this.data[l] || (this.data[l]=[])).push(d);return this;};k.prototype.clear=function(){this.data={};};k.prototype.delete=function(l,d){var f,h;f=this.data[l];if(void 0 === f)return !1;if(void 0 === d)return (m.assert(1 === arguments.length),delete this.data[l],!0);h=f.indexOf(d);if(-1 === h)return !1;1 === f.length?delete this.data[l]:f.splice(h,1);return !0;};k.prototype.forEach=function(l,d){var f;f=this;l=void 0 !== d?l.bind(d):l;this.keys().forEach(function(h){return f.data[h].forEach(function(g){return l(g,h,f);});});};k.prototype.reduce=function(l,d,f){var h,g;h=this;l=void 0 !== f?l.bind(f):l;g=d;this.forEach(function(n,p){g=l(g,n,p,h);});return g;};k.prototype.map=function(l,d){var f;f=this;l=void 0 !== d?l.bind(d):l;return c.flatten(this.keys().map(function(h){return f.data[h].map(function(g){return l(g,h,f);});}));};k.prototype.filter=function(l,d){var f;f=this;l=void 0 !== d?l.bind(d):l;return c.flatten(this.keys().map(function(h){return f.data[h].filter(function(g){return l(g,h,f);});}));};return k;})();b.VMa=r;},function(r,b,a){var m,k;function c(l,d,f){var h;void 0 === f && (f={});h=m.__assign(m.__assign({},k),f);return l.filter(function(g){var n;n=g.Kc;g=g.fd;return ! !g && g.kF(d) && (!h.t_a || n.rj(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.wra=b.$Ob=b.Fra=void 0;m=a(0);k={t_a:!1};b.Fra=function(l,d,f){void 0 === f && (f={});return c(l,d,f).pop();};b.$Ob=c;b.wra=function(l,d,f){return l.filter(function(h){var g;g=h.Kc;h=h.fd;return ! !h && ! !g && (h.rj(d) && h.kF(f) || g.rj(d) && g.kF(f) || h.kF(d) && g.rj(f));});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wRa=b.vRa=void 0;c=a(21);r=(function(){function m(k){this.Oa=k;this.listeners=[];this.YZ=[];}Object.defineProperties(m.prototype,{value:{get:function(){return this.Oa;},enumerable:!1,configurable:!0}});m.prototype.set=function(k){var l;this.Oa=k;l=this.YZ;this.YZ=[];this.listeners.forEach(function(d){return d(k);});l.forEach(function(d){return d(k);});};m.prototype.kgb=function(){this.Oa=void 0;};m.prototype.on=function(k){this.listeners=this.listeners.concat([k]);void 0 !== this.Oa && k(this.Oa);};m.prototype.once=function(k){void 0 !== this.Oa?k(this.Oa):this.YZ.push(k);};m.prototype.wy=function(k){this.listeners=this.listeners.filter(function(l){return l !== k;});this.YZ=this.YZ.filter(function(l){return l !== k;});};return m;})();b.vRa=r;r=(function(){function m(){this.listeners=[];}m.prototype.on=function(k,l){this.listeners.push({signal:k,listener:l});k.on(l);};m.prototype.once=function(k,l){var d,f;d=this;if(void 0 === k.value){f=function(h){d.remove(k,l);l(h);};this.listeners.push({signal:k,listener:l,pmb:f});k.once(f);}else k.once(l);};m.prototype.wy=function(k,l){var d,f;f=c.Vc(this.listeners,function(h){return h.signal === k && h.listener === l;});void 0 !== f && k.wy(null !== (d=f.pmb) && void 0 !== d?d:f.listener);this.remove(k,l);};m.prototype.removeAllListeners=function(){this.listeners.forEach(function(k){var l,d;l=k.listener;d=k.pmb;return k.signal.wy(null !== d && void 0 !== d?d:l);});this.listeners=[];};m.prototype.remove=function(k,l){this.listeners=this.listeners.filter(function(d){return d.signal !== k || d.listener !== l;});};return m;})();b.wRa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ZC=b.rva=void 0;b.rva=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.hWa=!1;this.promise=new Promise(function(m){c.fWa=m;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vAa:{get:function(){return this.hWa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){var m;this.hWa=!0;null === (m=this.fWa) || void 0 === m?void 0:m.call(this,c);this.fWa=void 0;};return a;})();b.ZC=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.c1a=void 0;b.c1a=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var m;function c(k,l,d){var f,g,n;if(k === l || !d.Un && k == l)return !0;if(typeof k !== typeof l)return !1;if(k && "object" === typeof k){for(var h in k){if(!c(k[h],l[h],d))return !1;}if(!d.RFb){g=Object.keys(k);n=Object.keys(l).filter(function(v){return 0 > g.indexOf(v);});try{for(var p=m.__values(n),q=p.next();!q.done;q=p.next()){if((h=q.value,!c(k[h],l[h],d)))return !1;}}catch(v){var t;t={error:v};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(t)throw t.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.j8=void 0;m=a(0);b.j8=function(k,l,d){void 0 === d && (d={});d=m.__assign({Un:!1,RFb:!1},d);return c(k,l,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cH=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.pa=NaN;}Object.defineProperties(a.prototype,{Ut:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.pa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.pa+=(c - this.pa) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.pa,count:this.count};};return a;})();b.cH=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oka=void 0;c=a(0).__importDefault(a(4));r=(function(){function m(k){this.rR=new Uint16Array(k.length);for(var l=0;l < k.length;++l){this.rR[l]=k.charCodeAt(l);}}m.prototype.encrypt=function(k){for(var l=this.rR.length,d="",f=0;f < k.length;++f){d+=String.fromCharCode(this.rR[f % l] ^ k.charCodeAt(f));}return encodeURIComponent(d);};m.prototype.decrypt=function(k,l){var d,f;void 0 === l && (l=!1);d=this.rR.length;f="";if(l)for((l=new Uint8Array(c.default.e8(k)),k=0);k < l.length;k++){f+=String.fromCharCode(this.rR[k % d] ^ l[k]);}else for((l=decodeURIComponent(k),k=0);k < l.length;k++){f+=String.fromCharCode(this.rR[k % d] ^ l.charCodeAt(k));}return f;};return m;})();b.oka=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(379);r=(function(){function m(k,l){this.pa=k;this.te=l;}m.prototype.zZa=function(k){return .5 * c.QO(-(k - this.pa) / Math.sqrt(2 * this.te));};m.prototype.Hy=function(k){return this.pa - Math.sqrt(2 * this.te) * c.K7a(2 * k);};return m;})();b.default=r;},function(r,b,a){r.exports={qnc:a(381),Iqc:a(234),Wgc:a(839),Wga:a(235),Vgc:a(382),Xgc:a(383),tqb:a(384)};},function(r,b,a){var k,l,d,f;function c(h,g,n){k.call(this,h,g,n);}function m(h,g){l.call(this,new c(h,g,!1));}k=a(840);l=a(841);d=a(98).MQb;f=a(98).gUb;c.prototype=Object.create(k.prototype);c.prototype.pa=function(){return Math.floor(8 * d(this.ae) / this.Qd);};c.prototype.te=function(){return Math.floor(64 * f(this.ae) / (this.Qd * this.Qd));};c.prototype.get=function(){return {pa:this.pa(),te:this.te(),cmc:this.ae.length};};c.prototype.toString=function(){return "bsw(" + this.uN + "," + this.Qd + "," + this.Fk + ")";};m.prototype=Object.create(l.prototype);m.prototype.setInterval=function(h){this.JM.setInterval(h);};r.exports=m;},function(r){function b(a,c,m){this.uN=a;this.Fk=Math.floor((a + c - 1) / c);this.Qd=c;this.Izb=m;this.reset();}b.prototype.shift=function(){this.ae.shift();this.Li.shift();};b.prototype.update=function(a,c){this.ae[a]+=c;};b.prototype.push=function(a){this.ae.push(0);this.Li.push(a?a:0);this.xb+=this.Qd;};b.prototype.add=function(a,c,m,k){var l,d;if(null === this.xb){l=Math.max(Math.floor((m - c + this.Qd - 1) / this.Qd),1);for(this.xb=c;this.ae.length < l;){this.push(k);}}for(;this.xb < m;){if((this.push(k),this.Izb))for(;1 < this.ae.length && m + k - (this.xb - this.Qd * this.ae.length + this.Li[0]) > this.uN;){this.shift();}else this.ae.length > this.Fk && this.shift();}if(c > this.xb - this.Qd)this.update(this.ae.length - 1,a);else if(c == m)(k=this.ae.length - Math.max(Math.ceil((this.xb - m) / this.Qd),1),0 <= k && this.update(k,a));else for(k=1;k <= this.ae.length;++k){l=this.xb - k * this.Qd;d=l + this.Qd;if(!(l > m)){if(d < c)break;this.update(this.ae.length - k,Math.round(a * (Math.min(d,m) - Math.max(l,c)) / (m - c)));}}for(;this.ae.length > this.Fk;){this.shift();}};b.prototype.reset=function(){this.ae=[];this.Li=[];this.xb=null;};b.prototype.setInterval=function(a){this.Fk=Math.floor((a + this.Qd - 1) / this.Qd);};r.exports=b;},function(r){function b(a){this.JM=a;this.Nb=0;this.pN=null;}b.prototype.add=function(a,c,m){null !== this.pN && c > this.pN && (this.Nb+=c - this.pN,this.pN=null);this.JM.add(a,c - this.Nb,m - this.Nb,this.Nb);};b.prototype.stop=function(a){null === this.pN && (this.pN=a);};b.prototype.bza=function(a,c){return this.JM.bza(a,c);};b.prototype.get=function(){return this.JM.get();};b.prototype.reset=function(){this.JM.reset();};b.prototype.toString=function(){return this.JM.toString();};r.exports=b;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.I3=void 0;c=a(379);r=(function(){function m(k,l){this.vxa=k;this.te=l;0 < l?(this.I9a=l=Math.pow(k,3) / l,k=2 * l / k,500 >= k && (this.lra=Math.exp(k))):this.lra=0;}m.prototype.zZa=function(k){var l,d,f;l=this.vxa;d=this.lra;if(d && 0 < k){f=Math.sqrt(this.I9a / (2 * k));l=k / l;k=c.QO(f * (l - 1));f=c.QO(f * (l + 1));return Math.max((2 - k + d * f) / 2,0);}return k < l?0:k > l?1:.5;};m.prototype.Hy=function(k,l,d){for(var f=0,h=this.vxa + 5 * Math.sqrt(this.te),g=1,n=0;Math.abs(g) > l && d--;){n=(f + h) / 2;g=this.zZa(n);g=k - g;0 > g?h=n:f=n;}return n;};m.prototype.wFb=function(k){var l,d,f,h;l=this.vxa;d=this.lra;if(d && 0 < k){f=Math.sqrt(this.I9a / (2 * k));h=k / l;k=2 - c.QO(f * (h - 1));d*=c.QO(f * (h + 1));return [Math.max((k + d) / 2,0),Math.max(l * (k - d) / 2,0)];}return k < l?[0,0]:k > l?[1,l]:[.5,l / 2];};return m;})();b.I3=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.CGa=void 0;c=a(0);m=a(176);new (c.__importDefault(a(4)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function k(l){this.config=l;this.vpa=l.c;this.Qwa=l.apc;this.gZ=l.gZ;this.pY=l.pY;this.Y$=l.Y$;this.dac=l.Imc;this.nJ=l.nJ;this.iab=l.iab;this.reset();}k.prototype.reset=function(){this.Kg=new m.Xja(this.vpa,this.Qwa);this.xb=null;};k.prototype.add=function(l,d,f){var h,g,n,t;f=Math.max(f - d,1);l=8 * l / f;if(this.dac){null === this.xb && (this.xb=d);g=Math.pow(2,(d - this.xb) / this.nJ);n=f * g;if(g >= this.iab){n=new m.Xja(this.vpa,this.Qwa);try{for(var p=c.__values(this.Kg.Xn()),q=p.next();!q.done;q=p.next()){t=q.value;n.push(t.Yf,t.n / g);}}catch(u){var v;v={error:u};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(v)throw v.error;}}this.Kg=n;n=f;this.xb=d;}this.Kg.push(l,n);}else this.Kg.push(l,f);};k.prototype.get=function(){var l;l=this.Kg.xj([this.gZ,this.pY,this.Y$]);return {low:l[0] || 0,high:l[1] || 0,initial:l[2] || 0};};k.prototype.hi=function(){var l,d,f,n;d=new k(this.config);f=new m.Xja(this.vpa,this.Qwa);try{for(var h=c.__values(this.Kg.Xn()),g=h.next();!g.done;g=h.next()){n=g.value;f.push(n.Yf,n.n);}}catch(q){var p;p={error:q};}finally{try{g && !g.done && (l=h.return) && l.call(h);}finally{if(p)throw p.error;}}d.Kg=f;return d;};k.prototype.flush=function(){};k.prototype.start=function(){};k.prototype.stop=function(){};return k;})();b.CGa=r;},function(r,b,a){var m;function c(){this.Ck=void 0;this.KD=0;}m=a(10);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.KD && this.Ck?{p25:this.Ck.Hl,p50:this.Ck.fk,p75:this.Ck.Il,c:this.KD}:null;};c.prototype.Gd=function(k){if(!(!m.sb(k) && m.has(k,"p25") && m.has(k,"p50") && m.has(k,"p75") && m.has(k,"c") && m.isFinite(k.p25) && m.isFinite(k.p50) && m.isFinite(k.p75) && m.isFinite(k.c)))return (this.Ck=void 0,this.KD=0,!1);this.Ck={Hl:k.p25,fk:k.p50,Il:k.p75};this.KD=k.c;};c.prototype.get=function(){return {Eca:this.Ck,cl:this.KD};};c.prototype.set=function(k,l){this.Ck=k;this.KD=l;};c.prototype.reset=function(){this.Ck=void 0;this.KD=0;};c.prototype.toString=function(){return "IQRHist(" + this.Ck + "," + this.KD + ")";};r.exports=c;},function(r,b,a){var m;function c(k){var l,d;l=k.sw;d=k.mw;this.tN=l;this.yka={uhd:k.uhdl,hd:k.hdl};this.Fk=Math.max(Math.ceil(1 * l / d),1);this.eyb=k.mins || 1;m.call(this,l,d);this.reset();}m=a(147);new (a(4).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(m.prototype);c.prototype.flush=function(){this.ae.map(function(k,l){this.rXa(k,this.gsa(l));},this);};c.prototype.OEb=function(){var k,l,d,f,h,g,n,v;k=this.yka;for(l in k){if(k.hasOwnProperty(l)){d=k[l];f=this.Ama[l];h=this.zma[l];if(f.first){g=f.first;n=f.qK;void 0 !== n && (h[g][n]+=1);f.first=void 0;}f=[];g=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,t=0;t < d;t++){q+=h[t][p];}g+=q;f.push(q);}q=-1;if(g > this.eyb){for(p=q=0;p < n;p++){if(0 < f[p])for(t=0;t < d;t++){v=h[t][p];0 < v && (q-=v * Math.log(1 * v / f[p]));}}q/=g * Math.log(2);}this.Zka[l]=q;}}return this.Zka;};c.prototype.rXa=function(k,l){var g,n;for(var d=this.Fk,f=this.yka;this.u5.length >= d;){this.u5.shift();}for(;this.v5.length >= d;){this.v5.shift();}this.u5.push(k);this.v5.push(l);k=this.u5.reduce(function(p,q){return p + q;},0);l=this.v5.reduce(function(p,q){return p + q;},0);if(0 < l){k=8 * k / l;for(var h in f){if(f.hasOwnProperty(h)){l=this.Ama[h];d=this.zma[h];g=this.x6b(k,f[h]);n=l.qK;void 0 !== n?d[g][n]+=1:l.first=g;l.qK=g;}}}};c.prototype.x6b=function(k,l){for(var d=0;d < l.length && k > l[d];){d+=1;}return d;};c.prototype.shift=function(){this.rXa(this.ae[0],this.gsa(0));m.prototype.shift.call(this);};c.prototype.reset=function(){var k,l,d,f,h,g,n;this.Ama={};this.u5=[];this.v5=[];this.zma={};this.Zka={};k=this.yka;for(l in k){if(k.hasOwnProperty(l)){d=this.zma;f=l;g=void 0;n=Array(g);g=h=k[l].length + 1;for(var p=0;p < g;p++){n[p]=Array(h);for(var q=0;q < h;q++){n[p][q]=0;}}d[f]=n;this.Ama[l]={first:void 0,qK:void 0};this.Zka[l]=0;}}m.prototype.reset.call(this);};r.exports=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EPa=void 0;r=(function(){function a(c,m){this.filter=c;this.Sca=m;}a.prototype.Jwa=function(c){return 0 < this.Sca.filter(function(m){var k;return m === (null === (k=c.tC) || void 0 === k?void 0:k.ff);}).length;};a.prototype.add=function(c,m,k,l){this.Jwa(l) && this.filter.add(c,m,k,l);};a.prototype.start=function(c,m){this.filter.start && this.Jwa(m) && this.filter.start(c);};a.prototype.stop=function(c,m){this.filter.stop && this.Jwa(m) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.filter.reset && this.filter.reset();};return a;})();b.EPa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.FEa=void 0;c=a(0);m=a(848);r=(function(){function k(l,d){this.Jl=l;this.filter=d;this.lab=Math.max(l.max_n || 10,0);this.reset();}k.prototype.reset=function(){this.L_=[];this.offset=0;this.$y=this.dG=null;this.filter.reset();this.b1=null;};k.prototype.add=function(l,d,f){var h;h=this.$y;null !== h && f > h && (this.offset+=Math.max(d - h,0),this.$y=null);for(m.q8a(this.L_,[d - this.offset,f - this.offset,l]);this.L_ && this.L_.length > this.lab;){l=c.__read(this.L_.shift(),3);this.filter.add(l[2],l[0],l[1]);}this.b1=null;};k.prototype.get=function(l,d){var f,n;if(!this.b1){this.b1=this.filter.hi();try{for(var h=c.__values(this.L_),g=h.next();!g.done;g=h.next()){n=c.__read(g.value,3);this.b1.add(n[2],n[0],n[1]);}}catch(q){var p;p={error:q};}finally{try{g && !g.done && (f=h.return) && f.call(h);}finally{if(p)throw p.error;}}}p=this.$y;return this.b1.get((null === p?l:p) - this.offset,d);};k.prototype.hi=function(){var l;l=new k(this.Jl,this.filter.hi());l.$y=this.$y;l.offset=this.offset;return l;};k.prototype.start=function(l){var d;d=this.$y;null !== d && l > d && (this.offset+=l - d,this.$y=null);this.filter.start(l - this.offset);};k.prototype.stop=function(l){this.$y=null === this.$y?l:Math.min(this.$y,l);this.filter.stop(l - this.offset);};k.prototype.flush=function(){this.filter.flush();};k.prototype.toString=function(){return "AggregatingFilter(" + this.lab + ", " + this.filter.toString() + ")";};return k;})();b.FEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.q8a=void 0;c=a(0);b.q8a=function(m,k){var h,g,n,p,q,t,v,x,y,z,A,B,C,D;for(var l,d,f=0;f < m.length;f++){h=c.__read(k,3);g=h[0];n=h[1];p=h[2];q=c.__read(m[f],3);t=q[0];h=q[1];v=q[2];if(!(g >= h)){g=[g,Math.min(h,n),t,h].filter(function(F,G,E){return E.indexOf(F) === G;}).sort(function(F,G){return F - G;});t=g.length - 1;q=Array(t);p+=v;try{for(var u=(l=void 0,c.__values([k,m[f]])),w=u.next();!w.done;w=u.next()){x=c.__read(w.value,3);y=x[0];z=x[1];A=x[2];v=z - y;for(k=0;k < t;k++){B=g[k + 1];C=Math.min(B,z) - Math.max(g[k],y);if(0 < C){D=C * A / v;p-=D;q[k]=q[k]?q[k] + D:D;}if(z <= B)break;}}}catch(F){l={error:F};}finally{try{w && !w.done && (d=u.return) && d.call(u);}finally{if(l)throw l.error;}}v=[];for(k=0;k < t;k++){A=q[k];0 < A && v.push([g[k],g[k + 1],A]);}m.splice.apply(m,c.__spread([f,1],v));if(h < n)k=[h,n,p];else return;}}k && 0 < k[2] && m.splice(m.length,0,k);};},function(r,b,a){var m,k;function c(l){this.J=l;this.IU();}m=a(10);k=a(4).default;new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var l;l=this.getState();k.storage.set("nh",l);};c.prototype.Xac=function(){this.TH || (this.TH=!0,this.iA=k.time.ga());};c.prototype.ebc=function(){var l;if(this.TH){l=k.time.ga();this.nA+=l - this.iA;this.iA=l;this.TH=!1;this.HU=null;}};c.prototype.w8a=function(l,d){this.TH && (d > this.iA && (this.nA+=d - this.iA,this.iA=d),null === this.HU || l > this.HU) && (l=d - l,this.WM.push([this.nA - l,l]),this.GAb(),this.HU=d);};c.prototype.GAb=function(){var l;l=this.nA - this.J.d1b;this.WM=this.WM.filter(function(d){return d[0] > l;});};c.prototype.IU=function(){var l;l=k.storage.get("nh");this.rma(l) || (this.iA=k.time.ga(),this.nA=0,this.TH=!1,this.HU=null,this.WM=[]);};c.prototype.rma=function(l){if(!(l && m.has(l,"t") && m.has(l,"s") && m.has(l,"i") && m.Ka(l.t) && m.Ka(l.s) && m.isArray(l.i)))return !1;this.iA=k.time.Nxa(1E3 * l.t);this.nA=1E3 * l.s;this.TH=!1;this.WM=l.i.map(function(d){return [1E3 * d[0],d[1]];});this.HU=null;return !0;};c.prototype.getState=function(){return this.TH?{t:k.time.now() / 1E3 | 0,s:(this.nA + (k.time.ga() - this.iA)) / 1E3 | 0,i:this.WM.map(function(l){return [l[0] / 1E3 | 0,l[1]];})}:{t:k.time.sxa(this.iA) / 1E3 | 0,s:this.nA / 1E3 | 0,i:this.WM.map(function(l){return [l[0] / 1E3 | 0,l[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aNa=void 0;r=a(0).__importDefault(a(4));c=a(14);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function m(k,l){this.config=k;this.gca=l;this.reset();}m.prototype.reset=function(){this.confidence=c.kD.HAVE_NOTHING;this.startTime=this.ca=0;};m.prototype.hi=function(){var k;k=new m(this.config,this.gca);k.confidence=this.confidence;k.ca=this.ca;k.startTime=this.startTime;return k;};m.prototype.add=function(k,l,d){0 === this.startTime && (this.startTime=l,this.ca=0);this.ca+=k;k=d - this.startTime;this.confidence=Math.max(this.confidence,c.kD.aD);this.confidence < c.kD.$C && (k > this.config.dyb || this.ca > this.config.cyb) && (this.confidence=c.kD.$C);this.confidence < c.kD.dT && (k > this.config.yzb || this.ca > this.config.xzb) && (this.confidence=c.kD.dT,this.gca());};m.prototype.get=function(){return this.confidence;};m.prototype.start=function(){};m.prototype.stop=function(){};m.prototype.flush=function(){};return m;})();b.aNa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eha=void 0;r=a(0);c=a(852);new (r.__importDefault(a(4)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var b10;b10=2;function m(k){var c10;c10=2;for(;c10 !== 4;){switch(c10){case 2:var I3j="1SIYbZ";I3j+="rNJC";I3j+="p9";this.Aua=k;this.fB={};I3j;c10=4;break;}}}for(;b10 !== 7;){switch(b10){case 4:m.prototype.UD=function(k,l,d,f){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:f.Qk && (this.Aua?this.eG.add(k,l,d,f.Qk):this.vV === f.Qk && this.eG.add(k,l,d,f.Qk));g10=1;break;}}};m.prototype.Oo=function(){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:return this.eG.get();break;case 4:return this.eG.get();break;h10=1;break;}}};m.prototype.Okb=function(k){var i10,l,d;i10=2;for(;i10 !== 5;){switch(i10){case 2:(l=Object.keys(this.fB),d=this.fB[l[0]]);1 === l.length && !1 === d.b9?(this.eG.start(k,d.Qk),this.vV=d.Qk):1 < l.length && this.vV && (l=this.fB[this.vV],this.eG.stop(k,this.vV),l.b9=!1,this.vV=void 0);i10=5;break;}}};return m;break;case 2:m.prototype.reset=function(){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 2:this.eG=new c.oGa();d10=1;break;case 4:this.eG=new c.oGa();d10=0;break;d10=1;break;}}};m.prototype.jR=function(k,l){var e10;e10=2;for(;e10 !== 1;){switch(e10){case 2:l.Qk && (this.Aua?this.eG.start(k,l.Qk):1 === l.type && (this.fB[l.Qk]?this.fB[l.Qk].z1+=1:this.fB[l.Qk]={Qk:l.Qk,z1:1,b9:!1},this.Okb(k)));e10=1;break;}}};m.prototype.X_=function(k,l){var f10,d;f10=2;for(;f10 !== 9;){switch(f10){case 1:f10=this.Aua?5:4;break;case 2:f10=l.Qk?1:9;break;case 7:f10=l.Qk?9:10;break;f10=l.Qk?1:9;break;case 6:f10=this.Aua?8:8;break;f10=this.Aua?5:4;break;case 5:this.eG.stop(k,l.Qk);f10=9;break;case 4:d=this.fB[l.Qk];1 === l.type && d && (--d.z1,0 === d.z1 && (d.b9 && this.eG.stop(k,l.Qk),d.b9=!1,delete this.fB[l.Qk]),this.Okb(k));f10=9;break;}}};b10=4;break;}}})();b.eha=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oGa=void 0;c=a(0).__importDefault(a(236));r=(function(){function m(){var k10;k10=2;for(;k10 !== 5;){switch(k10){case 3:this.Y5={};"";k10=2;break;k10=5;break;case 2:var B3j="1SI";B3j+="Yb";B3j+="ZrNJC";B3j+="p";B3j+="9";this.Y5={};B3j;k10=5;break;}}}var j10;j10=2;for(;j10 !== 9;){switch(j10){case 2:m.prototype.add=function(k,l,d,f){var l10,h;l10=2;for(;l10 !== 4;){switch(l10){case 2:h=this.Y5;void 0 === h[f] && (h[f]=new c.default());h[f].add(k,l,d);l10=4;break;}}};m.prototype.start=function(k,l){var m10,d;m10=2;for(;m10 !== 4;){switch(m10){case 2:d=this.Y5;void 0 === d[l] && (d[l]=new c.default());d[l].start(k);m10=4;break;}}};m.prototype.stop=function(k,l){var n10,d;n10=2;for(;n10 !== 5;){switch(n10){case 2:d=this.Y5;void 0 !== d[l] && d[l].stop(k);n10=5;break;}}};m.prototype.get=function(){var o10,k,l,d,f,h,g;o10=2;for(;o10 !== 8;){switch(o10){case 1:o10=f < l.length?5:9;break;case 2:(k=this.Y5,l=Object.keys(k),d=[],f=0);o10=1;break;case 5:(h=l[f],g=k[h].get());g && d.push({cdnid:h,avtp:g.pa,tm:g.y8});o10=3;break;case 9:return d;break;case 3:f++;o10=1;break;}}};return m;break;}}})();b.oGa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SNa=void 0;c=a(0).__importDefault(a(236));r=(function(){var q10;q10=2;for(;q10 !== 3;){switch(q10){case 2:m.prototype.reset=function(){var s10;s10=2;for(;s10 !== 4;){switch(s10){case 2:this.a0=[0,0];this.Lg=[0,0];this.c_=[0,0];s10=4;break;}}};m.prototype.UD=function(k,l,d,f){var t10,h,g;t10=2;for(;t10 !== 8;){switch(t10){case 5:t10=(null === (h=f.b0) || void 0 === h?0:h.qaa())?4:3;break;case 4:(this.a0[f.type]+=k,this.bdb.add(k,l,d),this.nya[f.type].add(k,l,d));t10=3;break;case 2:this.Lg[f.type]+=k;t10=5;break;case 3:t10=(null === (g=f.b0) || void 0 === g?0:g.Lwa(k,l,d,this.d_))?9:8;break;case 9:this.c_[f.type]+=k;t10=8;break;}}};m.prototype.Z9=function(){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return {bytesRequestedPacingVideo:this.a0[1],bytesRequestedPacingAudio:this.a0[0],estimatedBytesPacedVideo:this.c_[1],estimatedBytesPacedAudio:this.c_[0],bytestotalVideo:this.Lg[1],bytestotalAudio:this.Lg[0],pacedAvtpVideo:this.nya[1].get().pa,pacedAvtpAudio:this.nya[0].get().pa,pacedAvtp:this.bdb.get().pa};break;}}};return m;break;}}function m(k){var r10;r10=2;for(;r10 !== 7;){switch(r10){case 2:this.a0=[0,0];this.Lg=[0,0];this.c_=[0,0];r10=4;break;case 4:var f3j="1SIYb";f3j+="Zr";f3j+="NJCp";f3j+="9";f3j;this.d_=k.d_;this.nya=[new c.default(),new c.default()];this.bdb=new c.default();r10=7;break;}}}})();b.SNa=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(237);r.__exportStar(a(855),b);r.__exportStar(a(396),b);},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.KRa=void 0;c=a(237);m=a(61);k=a(149);l=a(899);d=a(396);f=a(397);h=a(910);g=a(911);n=a(912);r=(function(){function p(q,t){this.atob=q;this.console=t;this.WN=1;this.w1=[];this.IV=[];}p.prototype.KTb=function(q,t,v,u){var w,z;void 0 === v && (v={w:16,qt:9});void 0 === u && (u=1);w=h.Vc(d.Slb,function(A){return d.b4a(t,d.a4a[A]);});f.assert(w);f.assert(16 === v.w && 9 === v.qt || 4 === v.w && 3 === v.qt);v=16 === v.w?"16:9":"4:3";for(var x=0,y=this.w1;x < y.length;x++){z=y[x];if(z.type === q && z.AA === v && "h264" === z.Td && z.frameRate === w && z.trackId === u)return z;}q=this.SKb(q,v,w,u);this.w1.unshift(q);this.w1.length > this.WN && this.w1.splice(this.WN,this.w1.length - this.WN);return q;};p.prototype.JTb=function(q,t,v,u){var z;void 0 === v && (v=32);void 0 === u && (u=1);for(var w,x=0,y=this.IV;x < y.length;x++){z=y[x];"silence" === z.type && z.Td === q && z.bitrate === v && z.trackId === u && (w=z);}void 0 === w && (w=this.IKb(q,u),this.IV.unshift(w),this.IV.length > this.WN && this.IV.splice(this.WN,this.IV.length - this.WN));return c.__assign(c.__assign({},this.NMb(w,new k.K(t))),{bitrate:v});};p.prototype.SKb=function(q,t,v,u){var w;w=l.Tlb[q][t].h264[v]();return c.__assign(c.__assign({},this.decode(w,u)),{type:q,AA:t,Td:"h264",frameRate:v,width:w.width,height:w.height,Zi:w.Zi,$i:w.$i});};p.prototype.IKb=function(q,t){var v;v=l.nYa.silence[q][32]();return c.__assign(c.__assign({},this.decode(v,t)),{type:"silence",Td:q,bitrate:32,channels:v.channels});};p.prototype.decode=function(q,t){var v,u,w,x;v=q.pg?this.a1a(q.ta,q.xn,q.zn,q.yn):this.atob(q.ta);u=q.ng?this.a1a(q.va,q.sn,q.un,q.tn):this.atob(q.va);if(1 !== t){w=new DataView(v);x=new DataView(u);q.Qh.forEach(function(y){return w.setUint32(y,t);});q.Nh.forEach(function(y){return x.setUint32(y,t);});}return c.__assign(c.__assign({},q),{ta:v,va:u,trackId:t});};p.prototype.NMb=function(q,t){var v,u;v=new k.K(q.la);u=new k.K(q.duration).Ok(v);t=Math.ceil(t.Ok(v));if(u <= t)return q;u=new m.Zw(this.console,{mediaType:0},q.va).aAa(t,v.X);f.assert(u);return c.__assign(c.__assign({},q),{va:n.$s(u.va),duration:v.WB(t)});};p.prototype.a1a=function(q,t,v,u){q=void 0 === t?g.Xaa(q):u?g.Xaa(t + q):g.Xaa(q,new Uint8Array(this.atob(t)));return q.buffer.slice(q.byteOffset + (v || 0),q.byteOffset + q.byteLength);};return p;})();b.KRa=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(){this.Bh();this.Xc=1 === this.version?this.Oy([{creationTime:"int64"},{modificationTime:"int64"},{X:"int32"},{duration:"int64"}]):this.Oy([{creationTime:"int32"},{modificationTime:"int32"},{X:"int32"},{duration:"int32"}]);return !0;};k.jf="mvhd";k.od=!1;return k;})(a(24).$f);b.default=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(149);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.RI=function(d){var f;if(d && d.la && !d.p3b){f=this.Gq("mdia");f && (f=f.Gq("mdhd")) && f.X !== d.la.X && (d.la=new m.K(d.la).wg(f.X));}return !0;};l.jf="trak";l.od=!0;return l;})(a(24).$f);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(l){var d;this.Bh();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{Doc:"int16"},{Klc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Xc=this.Oy(d);this.Xc.irc=! !(this.flags & 1);this.Xc.jrc=! !(this.flags & 2);this.Xc.krc=! !(this.flags & 4);this.Xc.lrc=! !(this.flags & 8);this.N.console.trace("Finished parsing track box");if(null === l || void 0 === l?0:l.mf)(l.mf.width=this.Xc.width,l.mf.height=this.Xc.height);l && l.fl && (l.fl[this.Xc.trackId]={});return !0;};k.jf="tkhd";k.od=!1;return k;})(a(24).$f);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(){this.Bh();this.Xc=this.Oy(1 === this.version?[{X3a:"int64"}]:[{X3a:"int32"}]);return !0;};k.jf="mehd";k.od=!1;return k;})(a(24).$f);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(l){this.Xc=this.Oy([{uVb:"int32"},{Zec:"int32"}]);if(null === l || void 0 === l?0:l.mf)(l.mf.Vnc=this.Xc.uVb,l.mf.zrc=this.Xc.Zec);return !0;};k.jf="pasp";k.od=!1;return k;})(a(24).$f);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(){this.Xc=this.Oy([{dmc:"int32"},{maxBitrate:"int32"},{p7:"int32"}]);return !0;};k.jf="btrt";k.od=!1;return k;})(a(24).$f);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(){this.N.jC();this.N.jC();for(this.qpa=[];this.N.offset <= this.byteOffset + this.byteLength - 4;){this.qpa.push(this.N.jC());}return !0;};k.jf="ftyp";k.od=!1;return k;})(a(24).$f);b.default=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(83);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){var f,h,g,n,p;this.Bh();this.Xc=this.Oy([{Qpc:"int32"},{Uta:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Xc.Uta=m.oH(this.Xc.Uta);if(d && d.fl){p=null === (n=null === (g=null === (h=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === h?void 0:h.Vx("tkhd")) || void 0 === g?void 0:g.Xc) || void 0 === n?void 0:n.trackId;"number" === typeof p && d.fl[p] && (d.fl[p].ey=this.Xc.Uta);}return !0;};l.jf="hdlr";l.od=!1;return l;})(a(24).$f);b.default=r;},function(r,b,a){var c,m,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(100);k=a(149);l=a(177);r=a(24);d=a(84);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.Bh();this.OO=this.N.bc();return !0;};h.prototype.RI=function(g){var n;n=Object.keys(this.ie);n.length && (n=n[0],this.ie[n].length && (n=this.ie[n][0],n instanceof l.default?this.la=new k.K(n.VI,n.samplerate):n instanceof d.default && (n=n.ie[m.xia]) && n.length && (n=n[0].Xc,1E3 !== n.ov && 1001 !== n.ov || 0 !== n.gw % 1E3?this.N.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.gw + "/" + n.ov):this.la=new k.K(n.ov,n.gw)),g && this.la && (g.la=this.la)));return !0;};h.prototype.Gfb=function(g){void 0 !== this.ie[g] && 0 !== this.ie[g].length && (this.Sb.Mw(this.OO - 1,this.byteOffset + 12),g=this.ie[g][0],this.Nn(g.byteLength,g.byteOffset));};h.jf="stsd";h.od=!0;return h;})(r.$f);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(){this.iQb=this.N.Fd(2);this.qEb=this.N.Fd(5);this.rEb=this.N.Fd(3);this.gBb=this.N.Fd(3);this.N.Fd(1);this.N.Fd(5);this.N.Fd(5);return !0;};k.jf="dac3";return k;})(a(24).$f);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(l){var d,f;d=this.N.fh();this.Q0a=d >> 3;this.P1b=d & 7;this.Ebc=[];for(d=0;d < this.P1b;d++){f={iQb:this.N.Fd(2),qEb:this.N.Fd(5),rEb:this.N.Fd(5),gBb:this.N.Fd(3),Foc:this.N.Fd(1),O1b:this.N.Fd(4)};0 < f.O1b?f.mmc=this.N.Fd(9):this.N.Fd(1);this.Ebc.push(f);}l && l.JMb && (l.JMb.Q0a=this.Q0a);return !0;};k.jf="dec3";return k;})(a(24).$f);b.default=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(24);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){this.Bh();this.UAa=this.N.jC();m.R && this.N.console.trace("SchemeTypeBoxTranslator: " + this.UAa);if("cenc" === this.UAa){if((this.N.offset-=4,m.R && this.N.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.N.offset),this.Sb.qmb("piff"),null === d || void 0 === d?0:d.mf))d.mf.PNb="piff";}else if(null === d || void 0 === d?0:d.mf)d.mf.PNb=this.UAa;this.N.bc();return !0;};l.jf="schm";l.od=!1;return l;})(m.$f);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(l){var d;this.N.Ed();this.enb=this.N.Ed();this.N.Ed();this.N.Ed();this.N.Ed();this.tea=this.gma(this.N.Ed() & 31);this.deb=this.gma(this.N.Ed());this.WQ=this.tea.length?this.tea[0][1]:this.enb;this.QVa=this.N.offset;this.startOffset + this.length < this.N.offset && (100 === this.WQ || 110 === this.WQ || 122 === this.WQ || 144 === this.WQ) && (this.N.Ed(),this.N.Ed(),this.gma(this.N.Ed()));d=this.startOffset + this.length - this.QVa;0 < d && this.Nn(d,this.QVa);l && l.Qna && (l.Qna.tea=this.tea,l.Qna.deb=this.deb,l.Qna.WQ=this.WQ);return !0;};k.prototype.gma=function(l){var h;for(var d=[],f=0;f < l;++f){h=this.N.fh();d.push(this.N.jda(h));}return d;};k.jf="avcC";k.od=!1;return k;})(a(24).$f);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(l){this.N.Fd(1);this.N.Fd(7);this.Zgb=this.N.Fd(3);this.Ygb=this.N.Fd(5);this.$gb=this.N.Fd(1);this.z7a=this.N.Fd(1);this.Akb=this.N.Fd(1);this.qbb=this.N.Fd(1);this.RZa=this.N.Fd(1);this.SZa=this.N.Fd(1);this.QZa=this.N.Fd(2);this.N.Fd(3);(this.Qua=this.N.Fd(1))?this.j8a=this.N.Fd(4):this.N.Fd(4);l && (l.Rlc={Zgb:this.Zgb,Ygb:this.Ygb,$gb:this.$gb,z7a:this.z7a,Akb:this.Akb,qbb:this.qbb,RZa:this.RZa,SZa:this.SZa,QZa:this.QZa,Qua:this.Qua,j8a:this.j8a});return !0;};k.jf="av1C";return k;})(a(24).$f);b.default=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(99);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.RI=function(){var d;d=this.Vx("esds");if(d=d && d.iqb.Vx(5))(m.assert(this.samplerate),this.VI=d.VI * this.samplerate / d.Sda);return !0;};l.jf="mp4a";l.od=!0;return l;})(a(177).default);b.default=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(240);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){this.Bh();this.iqb=m.bIa.Xeb(this.N,d);return !0;};l.jf="esds";l.od=!1;return l;})(a(24).$f);b.default=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=a(100);a=a(24);m=r.xia;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.Bh();this.Xc=this.Oy([{gw:"int32"},{ov:"int16"}]);return !0;};l.jf=m;l.od=!1;return l;})(a.$f);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(l){var d,f,h,g,n;this.Bh();d=this.Oy([{dS:"int32"},{hqa:"int32"},{Sx:"int32"},{YA:"int32"},{XA:"int32"}]);f=d.dS;h=d.hqa;g=d.Sx;n=d.XA;d=d.YA;this.Xc={trackId:f,Lmc:h,m8:g,Mmc:n,Nmc:d};(null === l || void 0 === l?0:l.fl) && l.fl[f] && (l.fl[f].hqa=h,l.fl[f].Sx=g,l.fl[f].XA=n,l.fl[f].YA=d);this.dS=f;this.hqa=h;this.Sx=g;this.YA=d;this.XA=n;return !0;};k.jf="trex";k.od=!1;return k;})(a(24).$f);b.default=r;},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(875);k=a(99);l=a(393);r=(function(d){function f(h,g,n,p,q){h=d.call(this,h,g,n,p,q) || this;h.VW=!1;return h;}c.__extends(f,d);Object.defineProperties(f.prototype,{P0a:{get:function(){return ! !(this.flags & 1);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{g9:{get:function(){return ! !(this.flags & 4);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Pda:{get:function(){return ! !(this.flags & 256);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Rda:{get:function(){return ! !(this.flags & 512);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{JAa:{get:function(){return ! !(this.flags & 1024);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{IAa:{get:function(){return ! !(this.flags & 2048);},enumerable:!0,configurable:!0}});f.prototype.parse=function(h){var g,n,p;this.Bh();this.$na=this.N.offset;this.Wd=this.N.bc();this.Co=this.P0a?this.N.mda():0;this.EPb=this.g9?this.N.bc():void 0;this.HAa=(this.Pda?4:0) + (this.Rda?4:0) + (this.JAa?4:0) + (this.IAa?4:0);this.YO=this.N.offset;k.assert(this.P0a,"Expected data offset to be present in Track Run");k.assert(this.length - (this.N.offset - this.startOffset) === this.Wd * this.HAa,"Expected remaining data in box to be sample information");if(h && h.va){h.va.Co=this.Co;h.va.Wd=this.Wd;this.cl=[];p=null === (n=null === (g=this.parent) || void 0 === g?void 0:g.Vx("tfhd")) || void 0 === n?void 0:n.dS;for(g=0;g < this.Wd;g++){n={};this.Pda?n.Oda=this.N.bc():h.va.Sx?n.Oda=h.va.Sx:p && h.fl && h.fl[p] && (n.Oda=h.fl[p].Sx);this.Rda?n.HK=this.N.bc():h.va?n.HK=h.va.YA:p && h.fl && h.fl[p] && (n.HK=h.fl[p].YA);this.JAa?n.Qda=this.N.bc():h.va?n.Qda=h.va.XA:p && h.fl && h.fl[p] && (n.Qda=h.fl[p].XA);this.IAa && (n.nqc=0 === this.version?this.N.bc():this.N.mda());0 === g && this.g9 && (n.Qda=this.EPb);this.cl.push(n);}h.va.cl=this.cl;if(h.va.GK)for((k.assert(h.va.GK.length === h.va.cl.length,"num fragment samples: " + h.va.cl.length + ", num samples in auxiliary info: " + h.va.GK.length),p=0);p < h.va.cl.length;p++){h.va.cl[p].Gha=h.va.GK[p].Gha;h.va.cl[p].yCa=h.va.GK[p].yCa;}}return !0;};f.prototype.X5=function(h,g,n){var p,q,t;p=this.Pda?this.N.bc():h.Sx;q=this.Rda?this.N.bc():h.YA;h=this.JAa?this.N.bc():h.XA;t=this.IAa?0 === this.version?this.N.bc():this.N.mda():0;return {b9b:t,Qda:h,HK:q,Oda:p,Spc:(n || 0) + t - (void 0 !== g?g:t)};};f.prototype.Ea=function(h,g,n,p,q,t,v){var u,w,x,y;k.assert(void 0 !== this.Co);k.assert(void 0 !== this.YO);k.assert(void 0 !== this.$na);k.assert(void 0 !== this.Wd);k.assert(void 0 !== h.Us);u=0;w=0;this.Sb.offset=this.YO;for(p=0;p < q;++p){x=this.X5(g,y,w);if(0 === p)y=x.b9b;u+=x.HK;w+=x.Oda;}p=q;q=this.N.offset;x=this.X5(g,y,w);this.$za=v;this.FR=p;this.nib=w;if(v){if((this.fR=this.Co + u,this.Zr=0,p === this.Wd))return !0;}else if((this.fR=this.Co,this.Zr=u,0 === p))return !0;if(0 === p || p === this.Wd)return !1;this.VW=!0;if(v){this.Zr+=x.HK;for(v=p + 1;v < this.Wd;++v){x=this.X5(g,y,w);this.Zr+=x.HK;}this.Sb.offset=this.$na;this.Wd=p;this.Sb.Mw(this.Wd);this.Sb.cEa(t);this.g9 && (this.N.offset+=4);this.Nn(this.length - (q - this.startOffset),q);}else (g=q - this.YO,this.YO=q,this.Sb.offset=this.$na,this.Wd-=p,this.Sb.Mw(this.Wd),this.Co+=u,this.Sb.cEa(t,this.Co),this.g9 && (this.N.offset+=4),this.Nn(g,this.Sb.offset));n.Nn(this.Zr,h.Us + this.fR);return !0;};f.prototype.M0b=function(h,g,n,p,q,t,v,u){var w,y,z,A,B;void 0 === v && (v=!1);k.assert(void 0 !== this.Co);k.assert(void 0 !== this.YO);k.assert(void 0 !== this.Wd);k.assert(void 0 !== this.HAa);k.assert(void 0 !== h.Us);for(var x=p.length;x < this.Wd;++x){p[x]=p[x - 1];}p.some(function(C){return 0 >= C;}) && (y=null === (w=this.Zwb(q,t)) || void 0 === w?void 0:w.qea);this.N.offset=this.YO;h=h.Us + this.Co;q=-1 !== q.indexOf("heaac")?"aac":"ddp";t=new Uint8Array(this.N.view.buffer,this.N.view.byteOffset,this.N.view.byteLength);for(x=0;x < this.Wd;++x){w=this.X5(g).HK;if(-Infinity === p[x]){if(y && this.Rda){n.yda(w,y,h);z=this.HAa - (this.Pda?4:0);this.Sb.offset-=z;this.Sb.Mw(y.byteLength);this.Sb.offset+=z - 4;}}else if(0 > p[x])try{A=t.subarray(h,h + w);B=m.FE({Td:q,frame:A,BA:p[x],EK:v,KJ:u}).WPb;B !== w && this.N.console.error("TrackRunBoxEditor: parse frame size error " + B + " should be " + w);}catch(C){this.N.console.error("TrackRunBoxEditor: fadeFrame error: " + C.message + " " + C.stack);}h+=w;}};f.prototype.Zwb=function(h,g){if("string" === typeof g)return (k.assert("reset" !== g && "standard" !== g),l.MV[g]);if(void 0 !== h)return g?l.MV.reset[h] || l.MV.standard[h]:l.MV.standard[h];};f.jf="trun";f.od=!1;return f;})(a(24).$f);b.Sub=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(392).__exportStar(a(876),b);},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.FE=void 0;c=a(244);m=a(877);b.FE=function(){var h,g,n,p;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}h="string" === typeof d[0]?{Td:d[0],frame:d[1],BA:d[2],MGb:d[3],KJ:d[4]}:d[0];g=h.Td;d=h.frame;f=h.BA;n=h.MGb;p=h.KJ;h=h.EK;h=void 0 === h?!1:h;switch(g){case "aac":void 0 === k && (k=a(878).FE);g=6;n && (n=new c.e2(n),g=m.gdb(n).Tda);d=k(d,f,h,{Tda:g}).lya;break;case "ddp":void 0 === l && (l=a(887).FE);d=l(d,f,{KJ:p}).lya;break;default:throw Error("Unrecognized codec in fadeFrame: " + g);}return {WPb:d};};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.gdb=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.gdb=function(c){var m,k,l,d;m=c.read(5);k=c.read(4);if(15 === k){l=c.read(24);k=a.indexOf(l);}else l=a[k];d=c.read(4);switch(m){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + m + " not supported.");}return {pr:m,sampleRate:l,Tda:k,nmc:d,VPb:1024};};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.FE=void 0;c=a(244);m=a(879);b.FE=function(k,l,d,f){var h;h=new c.e2(k);l=m.veb(h,{BA:l,EK:d},f && f.Tda);h=h.offset;return {frame:k.subarray(0,h),lya:h,yrc:l};};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.veb=void 0;c=a(245);m=a(880);b.veb=function(k,l,d){var f,h,g;if(4095 === k.read(12)){k.advance(3);f=! !k.read(1);h=k.read(2) + 1;d=k.read(4);k.advance(8);g=k.read(13);k.advance(13 + (f?0:16));f={pr:h,Tda:d,VPb:g};}else k.reverse(12);c.assert(void 0 !== d);m.zeb(k,d,l);return f;};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.zeb=void 0;c=a(881);m=a(886);b.zeb=function(k,l,d){var h;for(var f;7 !== (f=k.read(3));){h=k.read(4);switch(f){case 1:c.seb(k,l,d);break;case 6:m.ueb(k,h,d);break;default:throw Error("Unsupported AAC element " + f);}}k.EEb();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.seb=void 0;c=a(882);b.seb=function(m,k,l){var d,f;d=m.read(1);if(d){f=new c.tKa(m,d,k);1 === m.read(2) && m.advance(f.BQ * f.pZ);}c.rza(m,k,f,l);c.rza(m,k,f,l);};},function(r,b,a){var c,m,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.tKa=b.rza=void 0;c=a(245);m=a(883);k=a(885);b.rza=function(h,g,n,p){var q,t,v;q=h.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.BA / 20)) / Math.log(2)));h.reverse(8);h.write(8,p);n || (n=new f(h,0,g));q=n;t=2 === q.$Da?3:5;v=(1 << t) - 1;g=[];p=[];for(var u=[],w=0;w < q.BQ;++w){for(var x=0,y=0;x < q.pZ;){for(var z=h.read(4),A=0,B;(B=h.read(t)) === v;){A+=B;}A+=B;x+=A;g.push(z);p.push(A);++y;}u.push(y);}q=!0;for(t=0;t < g.length;++t){0 !== g[t] && (13 === g[t] && q?(h.advance(9),q=!1,m.E3.lib(h,p[t] - 1)):m.E3.lib(h,p[t]));}h.read(1) && h.advance(6 + 9 * (h.read(2) + 1));if(h.read(1))for((q=n,t=2 === q.$Da?l:d,v=0);v < q.qcb;++v){if(u=h.read(t[0]))for((w=h.read(1),x=0);x < u;++x){if((h.advance(t[1]),y=h.read(t[2])))(h.advance(1),z=h.read(1),h.advance(y * (w + 3 - z)));}}c.assert(!h.read(1));q=n.BQ;t=n.pZ;v=n.tjb;n=n.Ffa;for(w=u=0;w < q;++w){for((x=n[w],y=0);y < t;++u){if((z=g[u],A=p[u],0 === z || 13 === z || 15 === z || 14 === z))y+=A;else {B=5 <= z?2:4;for(var C=0;C < A;(++C,++y)){for(var D=x * (v[y + 1] - v[y]) / B,F=0;F < D;++F){m.E3.Cac(h,z);}}}}}};l=[1,4,3];d=[2,6,5];f=(function(){return function(h,g,n){var p;this.Ffa=[];this.BQ=1;this.Ffa[0]=1;h.advance(1);this.$Da=h.read(2);h.read(1);if(2 === this.$Da){this.qcb=8;this.pZ=h.read(4);for(g=0;7 > g;++g){h.read(1)?this.Ffa[this.BQ - 1]++:(this.BQ++,this.Ffa[this.BQ - 1]=1);}this.tjb=k.ZQa[n];}else {this.qcb=1;this.pZ=h.read(6);if(h.read(1)){p=14 + Math.min(this.pZ,40);h.read(1) && h.advance(p);g && h.read(1) && h.advance(p);}this.tjb=k.YQa[n];}};})();b.tKa=f;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.E3=void 0;c=a(884);m=[c.dJa,c.gJa,c.hJa,c.iJa,c.jJa,c.kJa,c.lJa,c.mJa,c.nJa,c.eJa,c.fJa];k=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.E3=(function(){function l(){}l.t3a=function(d,f){var h,q,t;h=f.table;f=f.width;for(var g=0,n=h[0],p=d.read(n);p !== h[g + 1];){g+=f;q=h[g];t=q - n;n=q;p<<=t;p|=d.read(t);}return g;};l.kib=function(d){for(var f=4;d.read(1);){++f;}d.advance(f);};l.lib=function(d,f){for(;f--;){l.t3a(d,c.oJa);}};l.Cac=function(d,f){var h,g;h=m[f - 1];g=h.table;h=this.t3a(d,h);if(11 > f)k[f - 1] && (f=g[h + 2]) && d.advance(f);else if(11 === f || 15 < f)(h+=2,(f=g[h]) && d.advance(f),(g=g[h + 1]) && this.kib(d),1 < g && this.kib(d));else throw Error("Huffman: unknown spectral codebook: " + f);};return l;})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oJa=b.fJa=b.eJa=b.nJa=b.mJa=b.lJa=b.kJa=b.jJa=b.iJa=b.hJa=b.gJa=b.dJa=void 0;b.dJa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.gJa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.hJa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.iJa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.jJa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.kJa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.lJa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.mJa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.nJa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.eJa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.fJa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.oJa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},function(r,b){var a,c,m,k,l,d,f,h,g,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.cub=b.Brb=b.eub=b.Bub=b.Cub=b.ZQa=b.YQa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);m=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);k=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);l=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);h=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);g=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.YQa=[r,r,c,k,k,d,f,f,g,g,g,p];b.ZQa=[a,a,m,l,l,l,h,h,n,n,n,q];b.Cub=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.Bub=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.eub=(function(){for(var t=new Float32Array(428),v=0;428 > v;v++){t[v]=Math.pow(2,(v - 200) / 4);}return t;})();b.Brb=(function(){for(var t=new Float32Array(8191),v=4 / 3,u=0;8191 > u;u++){t[u]=Math.pow(u,v);}return t;})();b.cub=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ueb=void 0;b.ueb=function(a,c,m){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== m.BA && !m.EK?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.FE=void 0;c=a(244);m=a(888);b.FE=function(k,l,d){var f;f=new c.e2(k);l=m.UXa(f,l,null === d || void 0 === d?void 0:d.KJ).XPb;k=k.subarray(0,l);m.Ohb(k);return {frame:k,lya:l};};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.Ohb=b.UXa=void 0;c=a(245);m=a(889);b.UXa=function(k,l,d){var f,h;f=k.read(16);c.assert(2935 === f);f=2 * ((k.read(16) & 2047) + 1);k.advance(13);h=k.read(5);k.reverse(5);d && (l*=-h / d);k.write(5,Math.min(31,Math.max(1,Math.floor(h + l))));return {XPb:f};};b.Ohb=function(k){var l;l=m.Y_a(k.subarray(2,k.length - 2));k[k.length - 2]=l >> 8;k[k.length - 1]=l & 255;};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Y_a=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.Y_a=function(c,m){void 0 === m && (m=0);m=~ ~m;for(var k=0;k < c.length;k++){m=(a[(m >> 8 ^ c[k]) & 255] ^ m << 8) & 65535;}return m;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.parse=function(l){this.wKb=this.N.jC();l && l.mf && (l.mf.$8b=this.wKb);return !0;};k.jf="frma";return k;})(a(24).$f);b.default=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(892);k=a(246);l=a(99);d=a(149);f=a(24);r=a(390);h=a(391);g=a(394);n=a(150);p=a(238);q=a(100);t=a(395);v=a(895);a=(function(){function u(w,x,y,z,A,B){this.console=w;this.stream=x;this.ww=z;this.hCb=A;this.view=y instanceof ArrayBuffer?new DataView(y):new DataView(y.data,y.offset,y.length);this.config=B || ({});this.UUb=n.uRb();}u.path=function(w,x){return x.reduce(function(y,z){return y && y.ie[z] && y.ie[z][0];},w);};u.ySb=function(w){return w && w.qpa && -1 !== w.qpa.indexOf("mcl0")?"mcl0":void 0;};u.kPb=function(w,x){var y,z;l.assert("mcl0" === w,"Unsupported McClearen brand");y=x.aa;w=y.oe;x=new d.K(120,1).wg(y.X).bb;z=0;for(y=y.Sn;z < w.length && y < x;){y+=w[z++];}return z;};u.prototype.parse=function(w){var x;x=this.m9b();if(!x.done){if(x.Dbb)return {Ay:!1,iCb:x.Dbb};this.console.error("Scan error: " + x.error);return {Ay:!1,parseError:x.error || "unknown mp4 scan error"};}if(null === w || void 0 === w?0:w.la)w.p3b=w.la;this.view=new DataView(this.view.buffer,this.view.byteOffset,x.offset);w=this.O3b(w);return w.done?this.kHb():(this.console.error("Parse error: " + w.error),{Ay:!1,parseError:w.error || "unknown mp4 parse error"});};u.prototype.iB=function(w){return f.$f.iB(this,w);};u.prototype.Vx=function(w){return f.$f.Vx(this,w);};u.prototype.m9b=function(){var w,x;w=new t.Lqb(this.ww,this.hCb?[q.T3,q.S3]:[],this.config && this.config.Wqc || ["moof",q.WMa],this.config && this.config.mdb);x=c.__assign(c.__assign({},this.config),{uya:!1});return new g.uga(u.PAa,w,this.view,this.console,x).parse();};u.prototype.O3b=function(w){var x,y,z;x=new t.mHa(this.view.byteLength);y=Object.create(p.sQ.ie);this.config && ((this.config.tya || this.config.pkb || this.config.sea) && m(p.sQ.GAa,y),this.config.bDa && m(p.sQ.cdc,y),this.config.pkb && m(p.sQ.qkb,y));z=c.__assign(c.__assign({},this.config),{uya:!0});this.ug=new g.uga(y,x,this.view,this.console,z);w=this.ug.parse(w);w.done && (this.ie=this.ug.ie);return w;};u.prototype.kHb=function(){var w,x,y,z,A,B,C,D;w={Ay:!0};x=u.path(this,["moov"]);y=null === x || void 0 === x?void 0:x.iB("trak");if(1 === (null === y || void 0 === y?void 0:y.length)){z=y[0].Gq("tkhd");z && (w.trackId=z.Xc.trackId);}z=u.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.tya)if(z)(w.la=z.la,w.mqc=z.ie);else return {Ay:!1,parseError:"Missing sample descriptions"};A=u.path(z,["encv","sinf","schi"]);A && (A=u.path(A,["tenc"]) || u.path(A,[q.GNa])) && (w.ONb={Amc:A.qq,Eva:A.Eva,zoc:!1});if(A=u.path(x,["trak","mdia","mdhd"]))w.X=A.X;if(A=u.path(x,["mvex","trex"]))w.m8=A && A.Xc.m8;w.m8 && w.X && (w.la=new d.K(w.m8,w.X));if(A=u.path(this,["sidx"])){B=u.path(this,[q.T3]);B=B && B.O_b;C=u.path(this,[q.S3]);C=C && C.Hk;w.aa=A.aa;w.rQ=B;w.Hk=C;}if(B=this.ie.vmaf && this.ie.vmaf[0])w.hz=B.hz;if(this.config.eAa && (B=u.path(x,["mvex"])) && y && y.length){D=y.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});D.byteOffset > B.byteOffset && (y=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=v.Ckb(y,B.byteOffset,B.byteOffset + B.byteLength),D=v.Ckb(y,B.byteOffset + B.byteLength,D.byteOffset + D.byteLength),y.set(D,B.byteOffset),y.set(C,B.byteOffset + D.byteLength));}if(this.config.rgb)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.sea && z && 1 < z.OO && A && (w.Hg=this.sea(z,A)),void 0 === w.Hg && (x=this.ug.VW?k.concat(this.ug.Ea()):this.view.buffer,w.Hg=[{ye:0,data:x}]));else return {Ay:!1,parseError:"Missing movie box"};w.Ay=!0;w.Aca=this.ug.offset;return w;};u.prototype.trim=function(w){var x;x=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.ug.trim(w);this.view=new DataView(x);};u.prototype.sea=function(w,x){var y,z,A;y=Object.keys(w.ie);z=y.filter(function(B){return "encv" !== B;});if(!(2 > y.length || z.length === y.length || 0 === z.length)){y=u.path(this,["ftyp"]);A=u.ySb(y);if(A)return (y=[],this.ug.w6b(),w.Gfb("encv"),y.push({ye:0,em:!1,data:k.concat(this.ug.Ea())}),this.ug.a5b(),w.Gfb(z[0]),w=u.kPb(A,x),y.push({ye:w,em:!0,data:k.concat(this.ug.Ea())}),y);}};u.PAa={};return u;})();b.$w=a;a.PAa[q.yia]=r.default;a.PAa[q.zia]=h.default;},function(r){r.exports=function m(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && m(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(l){k=Object.getOwnPropertyDescriptor(a,l);void 0 !== k && Object.defineProperty(c,l,k);});};},function(r,b,a){var c,m,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);m=a(99);k=a(246);l=a(83);r=a(894);d=(function(){function f(h){h?(this.Aq=h.Aq.slice(),this.ru=h.ru.slice(),this.ri=h.ri.slice(),this.trim=h.trim):(this.Aq=[],this.ru=[],this.ri=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Aq.length && 0 === this.ru.length && 0 === this.ri.length;},enumerable:!0,configurable:!0}});return f;})();r=(function(f){function h(g,n,p){g=f.call(this,g,n,p) || this;g.f2a=[];g.xe=new d();return g;}c.__extends(h,f);h.PCb=function(g,n){if(n.offset + n.size <= g.byteLength)switch(n.size){case 1:g.setUint8(n.offset,n.value);break;case 2:n.z0?g.setInt16(n.offset,n.value):g.setUint16(n.offset,n.value);break;case 4:n.z0?g.setInt32(n.offset,n.value):g.setUint32(n.offset,n.value);break;case 8:m.assert(!n.z0);g.setUint32(n.offset,Math.floor(n.value / 4294967296));g.setUint32(n.offset + 4,n.value & 4294967295);break;default:m.assert(!1);}};Object.defineProperties(h.prototype,{VW:{get:function(){return !this.xe.empty;},enumerable:!0,configurable:!0}});h.prototype.Hfa=function(g,n){this.xe.ru.push({offset:void 0 !== n?n:this.offset,value:g,size:1});void 0 === n && (this.offset+=1);};h.prototype.Kfc=function(g){this.xe.ru.push({offset:!1,value:g,size:2,z0:!1});};h.prototype.Mw=function(g,n){this.xe.ru.push({offset:void 0 !== n?n:this.offset,value:g,size:4,z0:!1});void 0 === n && (this.offset+=4);};h.prototype.Lfc=function(g,n){this.xe.ru.push({offset:void 0 !== n?n:this.offset,value:g,size:8,z0:!1});void 0 === n && (this.offset+=8);};h.prototype.qmb=function(g){this.Mw(l.KTa(g));};h.prototype.cEa=function(g,n){this.xe.ri.push({offset:this.offset,qr:g,value:n});this.offset+=4;};h.prototype.Nn=function(g,n,p){this.xe.Aq.push({offset:n,remove:g,wb:p});};h.prototype.yda=function(g,n,p,q){this.xe.Aq.push({offset:p,remove:g,replace:n,wb:q});};h.prototype.trim=function(g){this.xe.trim=g;};h.prototype.w6b=function(){this.f2a.push(new d(this.xe));};h.prototype.a5b=function(){this.xe=this.f2a.pop() || new d();};h.prototype.Ea=function(){var g,n,p,q,t,v,u;g=this;if(0 === this.xe.Aq.length && 0 === this.xe.ru.length && 0 === this.xe.ri.length)return [void 0 === this.xe.trim?this.view.buffer:this.view.buffer.slice(0,this.xe.trim)];this.xe.Aq.sort(function(w,x){return w.offset - x.offset;});this.xe.ru.sort(function(w,x){return w.offset - x.offset;});this.F8b();n=this.cPb();p=this.view.buffer.slice(0,n);q=new DataView(p);this.xe.ru.forEach(h.PCb.bind(void 0,q));this.Pdc(q);this.Odc(q);t=[];v=void 0 !== this.xe.trim?Math.min(this.xe.trim,this.view.byteLength):this.view.byteLength;u=0;this.xe.Aq.filter(function(w){return w.offset <= v;}).forEach(function(w){w.offset > u && (t.push(q.buffer.slice(u,w.offset)),w.offset > q.byteLength && q !== g.view && (q=g.view,t.push(q.buffer.slice(n,w.offset))));w.replace && t.push(w.replace);u=w.offset + w.remove;});u < n && t.push(p.slice(u));u < v && t.push(this.view.buffer.slice(Math.max(p.byteLength,u),v));return t;};h.prototype.cPb=function(){var g,n,p;g=[];n=this.xe.ru[this.xe.ru.length - 1];p=this.xe.ri[this.xe.ri.length - 1];n && g.push(n.offset + n.size);p && g.push(p.offset + 4);this.xe.Aq.filter(function(q){return q.wb;}).forEach(function(q){return g.push(q.wb.byteOffset + 4);});n=Math.max.apply(void 0,g);return void 0 !== this.xe.trim?Math.min(n,this.xe.trim):n;};h.prototype.F8b=function(){this.xe.Aq=this.xe.Aq.reduce(function(g,n){var p,q;if(0 === g.length)return (g.push(n),g);p=g[g.length - 1];q=p.offset + p.remove;n.offset >= q?g.push(n):n.offset + n.remove > q && (m.assert(p.wb === n.wb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?k.concat(p.replace,n.replace):n.replace));return g;},[]);};h.prototype.Pdc=function(g){var n;n=this;this.xe.ri.forEach(function(p){var q,t,v,u;q=g;t=p.offset;n.xe.Aq.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),t=p.offset - w.offset,!0):!1;});v=p.qr + (void 0 !== p.value?p.value:q.getInt32(t));u=n.xe.Aq.reduce(function(w,x){return x.offset > p.qr && x.offset < v?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);q.setInt32(t,v - p.qr - u);});};h.prototype.Odc=function(g){this.xe.Aq.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.wb;n;){g.setUint32(n.byteOffset,g.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(r.avb);b.$ub=r;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);a(150);m=a(83);r=(function(){function k(l,d,f){this.view=l;this.console=d;this.config=f;this.view=l;this.console=d;this.Ld=this.Vs=this.offset=0;}k.prototype.R4a=function(l){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,l);};k.prototype.Fd=function(l){for(;this.Ld < l;){this.Vs=(this.Vs << 8) + this.Ed();this.Ld+=8;}this.Ld-=l;return this.Vs >>> this.Ld & (1 << l) - 1;};k.prototype.Ed=function(){var l;l=this.view.getUint8(this.offset);this.offset+=1;return l;};k.prototype.fh=function(l){l=this.view.getUint16(this.offset,l);this.offset+=2;return l;};k.prototype.bc=function(l){l=this.view.getUint32(this.offset,l);this.offset+=4;return l;};k.prototype.mda=function(){var l;l=this.view.getInt32(this.offset,void 0);this.offset+=4;return l;};k.prototype.h4b=function(l,d){var f;f=this.view.getUint32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + l;};k.prototype.Ml=function(l,d){l=this.h4b(l,d);this.offset+=8;return l;};k.prototype.j4b=function(){var l,d;l=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < l?l:-l) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * l + d;};k.prototype.M6b=function(){var l;l=this.j4b();this.offset+=8;return l;};k.prototype.jC=function(){return m.oH(this.bc());};k.prototype.nda=function(){var d,f,h,g,n,p;function l(q,t){return ("000000" + q.toString(16)).slice(2 * -t);}d=this.bc(!0);f=this.fh(!0);h=this.fh(!0);g=this.fh();n=this.fh();p=this.bc();return [l(d,4),l(f,2),l(h,2),l(g,2),l(n,2) + l(p,4)].join("-");};k.prototype.kda=function(l){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + l);this.offset+=l;return d;};k.prototype.G6b=function(l){var d;d=[];if(0 === l)return "";l=l || Number.MAX_SAFE_INTEGER;for(var f=this.Ed();0 !== f && 0 <= --l;){d.push(f);f=this.Ed();}return String.fromCharCode.apply(null,d);};k.prototype.jda=function(l){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.Yk(this.config.iS && c.cUb || c.tP,1,l,d,f);};k.prototype.F6b=function(l){var d,f,h;d=10;f=!1;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Yk(this.config.iS && c.aUb || c.j$,2,l,d,f,h);};k.prototype.ida=function(l,d,f){var h;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Yk(this.config.iS && c.bUb || c.fY,4,l,d,f,h);};k.prototype.I6b=function(){for(var l=this.Ed(),d=l & 127;l & 128;){l=this.Ed();d=d << 7 | l & 127;}return d;};k.prototype.Yk=function(l,d,f,h,g,n){void 0 === g && (g=!0);void 0 === n && (n=!1);l=l(this.view,this.offset,f,h,n);this.offset=g || !h || h === d?this.offset + f * (h || d):this.offset + d;return l;};return k;})();b.avb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ckb=function(a,c,m){var k,l,d;k=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(c,m);l=Math.min(a.length,m);d=Math.min(a.length,c);for(m=new k(Math.max(m - c,0));d < l;d++){m[d - c]=a[d];}return m;};},function(r,b,a){var m,k,l,d,f;function c(h){return "number" === typeof h[0] || void 0 === h[0]?{dj:h[0],X:h[1],BA:h[2],sAa:h[3],EK:h[4]}:h[0];}Object.defineProperty(b,"__esModule",{value:!0});m=a(22);k=a(100);r=a(247);l=a(83);d=a(99);f=a(24);a=(function(h){function g(n,p,q){return h.call(this,n,p,q) || this;}m.__extends(g,h);g.prototype.Cfb=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ea(m.__assign(m.__assign({},c(n)),{$za:!1}));};g.prototype.aAa=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ea(m.__assign(m.__assign({},c(n)),{$za:!0}));};g.prototype.Ea=function(n){var q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O;function p(P){z=y[P];A=z.Gq("traf");if(void 0 === A || void 0 === A.Us)return !1;F=A.Gq("tfdt");if(void 0 === F)return !1;B=A.Gq("trun");return void 0 === B?!1:!0;}q=n.dj;t=n.X;v=n.$za;u=n.BA;w=n.sAa;w=void 0 === w?!1:w;x=n.EK;x=void 0 === x?!1:x;n=n.KJ;if(!this.parse().done)return !1;y=this.ie.moof;if(!y || 0 === y.length)return !1;if(void 0 !== q){C=q;for(q=0;q < y.length;++q){if(!p(q,this.ug.console.trace))return !1;d.assert(z && A && F && B && void 0 !== B.Wd);if(B.Wd > C || v && B.Wd === C)break;C-=B.Wd;}d.assert(z && A && F && B);}else if((q=v?y.length - 1:0,!p(q,this.ug.console.trace)))return !1;d.assert(z && A && F && B);if(v && q < y.length - 1){D=y[q + 1];this.ug.Nn(this.view.byteOffset - D.startOffset,D.startOffset);}else !v && 0 < q && this.ug.Nn(z.startOffset,0);D=A.Gq("tfhd");if(void 0 === D)return !1;F=A.Gq("tfdt");G=B.Wd;E=A.Gq("saiz");H=A.Gq("saio");L=A.Gq(k.FNa);K=A.Gq("sbgp");if(!(!E && !H || E && H))return !1;I=A.Gq("sdtp");R=f.$f.iB(this,"mdat");if(R && q < R.length)O=R[q];else if(q !== y.length - 1)return !1;void 0 === C && (C=v?B.Wd:0);if("number" === typeof u && 0 < u){R=v?C:B.Wd - C;for(var J=Array(R),M=0;M < R;++M){J[M]=v?M >= R - u?-Infinity:0:M < u?-Infinity:0;}u=J;}if(B.Ea(A,D,O || this.ug,t,C,A.Us,v))B.VW && (d.assert(void 0 !== B.nib),d.assert(void 0 !== B.FR),!v && F && F.Ea(B.nib),E && H && (E.Ea(B.FR,v),H.Ea(L?0:E.FAa,A.Us)),L && L.Ea(B.FR,v),I && I.Ea(B.FR,G,v),K && K.Ea(B.FR,v));else if(!v){if(q === y.length - 1)return !1;this.ug.Nn(y[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.FR)return !1;Array.isArray(u) && O && this.stream.profile && void 0 !== w && B.M0b(A,D,O,u,this.stream.profile,w,x,n);t=this.ug.Ea();v=t.reduce(function(P,S){return P + S.byteLength;},0);t={va:t,length:v,eK:this.ug.view.byteLength};B.VW && !O && (t.fR=A.Us + B.fR,t.Zr=B.Zr);return t;};return g;})((function(h){function g(n,p,q){return h.call(this,n,p,q) || this;}m.__extends(g,h);return g;})(r.PG));b.Zw=a;b.$P=function(h){var g,n;g=new ArrayBuffer(8);n=new DataView(g);n.setUint32(0,h + 8);n.setUint32(4,l.KTa("mdat"));return g;};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);r=a(247);m=a(246);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.Ea=function(d){var f,h,g,n;f=this;if(!this.parse().done)return !1;h=this.ie.moov;if(!h || 0 === h.length)return !1;g=h[0].Vx("tenc");if(!g)return !1;n=new Uint8Array(g.qq);d.forEach(function(p){for(var q=p.from,t=!0,v=0;v < q.length;v++){if(n[v] !== q[v]){t=!1;break;}}t && f.ug.yda(p.from.length,p.to,g.Eva);});return m.concat(this.ug.Ea());};return l;})(r.PG);b.Oha=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.eo || (b.eo={});r[r.dc=0]="AUDIO";r[r.Jb=1]="VIDEO";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.nYa=b.Tlb=void 0;b.Tlb={padding:{"16:9":{h264:{23976:function(){return a(152);},24:function(){return a(900);},25:function(){return a(901);},2997:function(){return a(902);},30:function(){return a(903);}}},"4:3":{h264:{23976:function(){return a(153);},24:function(){return a(904);},25:function(){return a(905);},2997:function(){return a(906);},30:function(){return a(907);}}}}};b.nYa={silence:{heaac:{32:function(){return a(908);}},ddp:{32:function(){return a(909);}}}};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=b.un=b.ng=b.va=b.zn=b.pg=b.ta=b.tn=b.sn=b.yn=b.xn=void 0;r=a(152);b.xn=r.ta;b.yn=r.pg;b.sn=r.va;b.tn=r.ng;b.ta="hewgADAChewRC3gAYChexZBWhewRgOYFhexjDQhewFDOhewRgfYLhewFBghewacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAygCAAgFQAgA4AA6hEIAdyPWF1B0Bvhj4XBGhj49AGhj4FC6hj4NCqhj5TAwhj4JAYhj4KhfwAgAgCABCAhkIpBYgAYEhkJvDogBoG";b.pg=!0;b.zn=759;b.va="jCQ1DojCQtDQjCQJCIjCQJgC4CiqQSgL4Ci2QGgF4CiwQGgF56jCQGgF4tAPCgjCQJgC4CgEYKjCX/jCRTg9AAjCX/jCQ5";b.ng=!0;b.un=1555;b.la={bb:1E3,X:24E3};b.duration={bb:24E3,X:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=4;b.$i=3;b.Qh=[176,782];b.Nh=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=b.un=b.ng=b.va=b.zn=b.pg=b.ta=b.tn=b.sn=b.yn=b.xn=void 0;r=a(152);b.xn=r.ta;b.yn=r.pg;b.sn=r.va;b.tn=r.ng;b.ta="hewgADAChewRC3gAYCgBIABhCohexVBWhewRgOYFhexjDQhewFDOhewRgfYLhewFBghewacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAyA1A6gFQAgA4AA6hEIAdyPWF1B0Bvhj4XBGhj49AGhj4FC6hj4NCqhj5TAwhj4JAYhj4KhfwAgAgCABCQhkIpDIgAYEhkJWg4oDhkISDogBoG";b.pg=!0;b.zn=759;b.va="i3QBCtjCQVCVjCQZDojCQRBAjCQJAZgB4BC1jCQJDQjCQJCIjCQJgC4CiqQSgL4Ci2QGgF4CiwQGgF56jCQGgF5WAljDwejD4CCBjD//jD4uA1jD//jD4MB4jD4TCWgIIGgGYFC1gQYLC3gpgF";b.ng=!0;b.un=1555;b.la={bb:1E3,X:25E3};b.duration={bb:25E3,X:25E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=4;b.$i=3;b.Qh=[176,782];b.Nh=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=b.un=b.ng=b.va=b.zn=b.pg=b.ta=b.tn=b.sn=b.yn=b.xn=void 0;r=a(152);b.xn=r.ta;b.yn=r.pg;b.sn=r.va;b.tn=r.ng;b.ta="hew1C4gAYCgBIAB1AwhexpgOYFhex/gfYLhe0GAHBThewmgvgBAmhRwBgAYChexWgzQDhewb";b.pg=!0;b.zn=759;b.va="i3QBDujCQVDWjCQtB8jCQJAegB4BD2iYwBDwjCTJjIRlgF4ugEYDAqjLQegAYEjMABDZjMH/jMAuA1jMCFA6jMACA3iaoAf28P4FA2BWAEBQCXARDNDoCdAzAfC/AVC4C6A0A3C9DOhaQAetTxBvC4AsATBpBPBgAQifAAicQAARDdASgBoACkEQAvBKDrjL4HB/izAEiggDjL4DB/jBwIjL4BgBoBDpjL4IgBoCjL4Ni7IMjL4DiqoDjL4IgGgGjL4EgKAGjL4JgIQGgCwCjL4FgIQKjL4BgQoJjL4BgIQJjL4ZgIQJjL4CgQoIjL4CgIQIjL4HgQoMjMADgIQKjMABgQoIjMACgBoGjMABB4jUQMBngIIECWjMANC1gQgLC3gpoIgIIBC8jUQMBIgIIEDagQYND5gQYLD7gIILD9gIIFdP//3xgCAAAfDh";b.ng=!0;b.un=1555;b.la={bb:1001,X:3E4};b.duration={bb:30030,X:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=4;b.$i=3;b.Qh=[176,739];b.Nh=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=b.un=b.ng=b.va=b.zn=b.pg=b.ta=b.tn=b.sn=b.yn=b.xn=void 0;r=a(152);b.xn=r.ta;b.yn=r.pg;b.sn=r.va;b.tn=r.ng;b.ta="hewgADAChewRC3gAYCgBIAB1AwhexVBWhewRgOYFhexjDQhewFDOhewRgfYLhewFBghewacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAzAwA6gFQAgA4AA6hEIAdyPWF1B0Bvhj4XBGhj49AGhj4FC6hj4NCqhj5TAwhj4JAYhj4KhfwAgAgCABDghkIlg04BAmCIgAYEhkJWg4oDhkISDogBoG";b.pg=!0;b.zn=759;b.va="i3QBDujCQVDWjCQZDojCQRB8jCQJAegB4BD2iYwBDwjCQFDQjCQJCIjCQJgC4CiqQSgL4Ci2QGgF4CiwQGgF6qjIQGgF5dgEYDAqjLQegAYEjMABDZjMH/jMAuA1jMCFA6jMACA3iaoAf28P4FA2BWAEBQCXARDNDoCdAzAfC/AVC4C6A0A3C9DOhaQAetTxBvC4AsATBpBPBgAQifAAicQAARDdASgBoACkEQAvBKDrjL4HB/izAEiggDjL4DB/jBwIjL4BgBoBDpjL4IgBoCjL4Ni7IMjL4DiqoDjL4IgGgGjL4EgKAGjL4JgIQGgCwCjL4FgIQKjL4BgQoJjL4BgIQJjL4ZgIQJjL4CgQoIjL4CgIQIjL4HgQoMjMADgIQKjMABgQoIjMACgBoGjMABB4jUQMBngIIECWjMANC1gQgLC3gpoIgIIBC8jUQMBIgIIEDagQYND5gQYLD7gIILD9gIIFdP//3xgCAAAfDh";b.ng=!0;b.un=1555;b.la={bb:1E3,X:3E4};b.duration={bb:3E4,X:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=4;b.$i=3;b.Qh=[176,782];b.Nh=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=b.un=b.ng=b.va=b.zn=b.pg=b.ta=b.tn=b.sn=b.yn=b.xn=void 0;r=a(153);b.xn=r.ta;b.yn=r.pg;b.sn=r.va;b.tn=r.ng;b.ta="hewgADAChewRC3gAYChexZBWhewRgOYFhexjDQhewFDOhewRgfYLhewFBghewacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAygCAAgFQAgA4AA6hEIAdyPWF1B0Bvhj4XBGhj49AGhj4FC6hj4NCqhj5TAwhj4JAYhj4KADAAAIgAgBABCAhkIpBYgAYEhkJvDogBoG";b.pg=!0;b.zn=759;b.va="jCQ1DojCQtDQjCQJCIjCQJgC4CiqQSgL4Ci2QGgF4CiwQGgF56jCQGgF4tAPCgjCQJgC4CgEYKjCX/jCRTg9AAjCX/jCQ5";b.ng=!0;b.un=1555;b.la={bb:1E3,X:24E3};b.duration={bb:24E3,X:24E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=1;b.$i=1;b.Qh=[176,782];b.Nh=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=b.un=b.ng=b.va=b.zn=b.pg=b.ta=b.tn=b.sn=b.yn=b.xn=void 0;r=a(153);b.xn=r.ta;b.yn=r.pg;b.sn=r.va;b.tn=r.ng;b.ta="hewgADAChewRC3gAYCgBIABhCohexVBWhewRgOYFhexjDQhewFDOhewRgfYLhewFBghewacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAyA1A6gFQAgA4AA6hEIAdyPWF1B0Bvhj4XBGhj49AGhj4FC6hj4NCqhj5TAwhj4JAYhj4KADAAAIgAgBABCQhkIpDIgAYEhkJWg4oDhkISDogBoG";b.pg=!0;b.zn=759;b.va="i3QBCtjCQVCVjCQZDojCQRBAjCQJAZgB4BC1jCQJDQjCQJCIjCQJgC4CiqQSgL4Ci2QGgF4CiwQGgF56jCQGgF5WAljDwejD4CCBjD//jD4uA1jD//jD4MB4jD4TCWgIIGgGYFC1gQYLC3gpgF";b.ng=!0;b.un=1555;b.la={bb:1E3,X:25E3};b.duration={bb:25E3,X:25E3};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=1;b.$i=1;b.Qh=[176,782];b.Nh=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=b.un=b.ng=b.va=b.zn=b.pg=b.ta=b.tn=b.sn=b.yn=b.xn=void 0;r=a(153);b.xn=r.ta;b.yn=r.pg;b.sn=r.va;b.tn=r.ng;b.ta="hew8B1Awhez4gfYEhe0GAHBThewmgvgBAmhRwBgAYChexWgzQDhewb";b.pg=!0;b.zn=759;b.va="i3QBDujCQVDWjCQtB8jCQJAegB4BD2iYwBDwjCTJjIRlgF4ugEYDAqjLQegAYEjMABDZjMH/jMAuA1jMCFA6jMACA3iaoAf28P4FA2BWAEBQCXARDNDoCdAzAfC/AVC4C6A0A3C9DOhaQAetTxBvC4AsATBpBPBgAQifAAicQAARDdASgBoACkEQAvBKDrjL4HB/izAEiggDjL4DB/jBwIjL4BgBoBDpjL4IgBoCjL4Ni7IMjL4DiqoDjL4IgGgGjL4EgKAGjL4JgIQGgCwCjL4FgIQKjL4BgQoJjL4BgIQJjL4ZgIQJjL4CgQoIjL4CgIQIjL4HgQoMjMADgIQKjMABgQoIjMACgBoGjMABB4jUQMBngIIECWjMANC1gQgLC3gpoIgIIBC8jUQMBIgIIEDagQYND5gQYLD7gIILD9gIIFdP//3xgCAAAfDh";b.ng=!0;b.un=1555;b.la={bb:1001,X:3E4};b.duration={bb:30030,X:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=1;b.$i=1;b.Qh=[176,739];b.Nh=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.$i=b.Zi=b.height=b.width=b.bitrate=b.profile=b.duration=b.la=b.un=b.ng=b.va=b.zn=b.pg=b.ta=b.tn=b.sn=b.yn=b.xn=void 0;r=a(153);b.xn=r.ta;b.yn=r.pg;b.sn=r.va;b.tn=r.ng;b.ta="hewgADAChewRC4gAYCgBIAB1AwhexVBWhewRC3gOYEhexjDQhewFDOhewRgQ4FgfYEhewFBghewacyNjQ6BmBtB0A9gA4CgpYCgOoAA9AtAxgCIABwgAwAAzAwA6gFQAgA4AA6hEIAdyPWF1B0Bvhj4XBGhj49AGhj4FC6hj4NCqhj5TAwhj4JAYhj4KADAAAIgAgBABDghkIlg04BAmgGoBgAYChkJWg4oDhkISDogBoG";b.pg=!0;b.zn=759;b.va="i3QBDujCQVDWjCQZDojCQRB8jCQJAegB4BD2iYwBDwjCQFDQjCQJCIjCQJgC4CiqQSgL4Ci2QGgF4CiwQGgF6qjIQGgF5dgEYDAqjLQegAYEjMABDZjMH/jMAuA1jMCFA6jMACA3iaoAf28P4FA2BWAEBQCXARDNDoCdAzAfC/AVC4C6A0A3C9DOhaQAetTxBvC4AsATBpBPBgAQifAAicQAARDdASgBoACkEQAvBKDrjL4HB/izAEiggDjL4DB/jBwIjL4BgBoBDpjL4IgBoCjL4Ni7IMjL4DiqoDjL4IgGgGjL4EgKAGjL4JgIQGgCwCjL4FgIQKjL4BgQoJjL4BgIQJjL4ZgIQJjL4CgQoIjL4CgIQIjL4HgQoMjMADgIQKjMABgQoIjMACgBoGjMABB4jUQMBngIIECWjMANC1gQgLC3gpoIgIIBC8jUQMBIgIIEDagQYND5gQYLD7gIILD9gIIFdP//3xgCAAAfDh";b.ng=!0;b.un=1555;b.la={bb:1E3,X:3E4};b.duration={bb:3E4,X:3E4};b.profile="none-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Zi=1;b.$i=1;b.Qh=[176,782];b.Nh=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.channels=b.profile=b.bitrate=b.duration=b.la=void 0;b.ta="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDRBtFvB2gDYBdsbXZoBkgA4BcA30AoDsgAYCgBIAADDogB4CgGoAgAQDgAAIgBgLgB4QBAgDwNgAANACgGABfDdHJhBrgBYBBcB0BrgOYDADgO4GgLoRgMIDgCgDgO4sckZWR0BzgA4BccZWxzB0gGIMAEgBIFcBO21kBpBhgkYCgA4AgfYEgQ4IBdDAgBYCBVDEgCQDAtgDoABsBygD4GgoQAB1BugNAKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgsoAgKgIgSACgNYAgC4DccZHJlgA4CgSAGcMdXJsAggBYFCqgVQABiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgewMgpQAAQgAwCgVQEAAAqBlgGQAgeACgpoAAcgcYCAUBAAVgCwDB9gBgCCQEFcTEFblAAAGABgvwBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gtgNgEYBBjBvgB4JA4hFwABlB4gC4CBtBlgcoGAQgq4BgpQAg7QAgC4DgVIGgAYBgCwCg+4DgAACBiB1gywAgZICBagG4AgA4DgAACAhgrwKgyQBhDgAFwggoCgAAHAtBpg4YEAlCpB0hVgAgA4BAdhXYAgHgDghQDdMYXZmA1A5AuAxA2gAQAEw";b.pg=!0;b.va="EAABAcBtFvBmgA4AcAEG1mBoBkgA4BgAACABgAQBcEdHJhgC4CAcB0gC4CACAAAqgC4EgAYCAEgBwBgAADAQgDYABkB0gGYFgAACDQgGYAB1BugAwAACgE4CAvgFQBAkgA4BAXgAYBAGgAa0cBM21kBhB0DegdgAdMYXZjA1A5AuAxA4gAQAEwcAQiAIDBAYA4AhAQAEBgCMAcgAsM";b.ng=!0;b.la={bb:1024,X:24E3};b.duration={bb:48128,X:24E3};b.bitrate=32;b.profile="heaac-2-dash";b.channels="2.0";b.Qh=[176,635];b.Nh=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Qh=b.channels=b.profile=b.bitrate=b.duration=b.la=void 0;b.ta="IAcgZnR5BwBtBwA0AygBYBcAaXNvBtgAYBcyZGFzBogA4BA2gCIAACFtFvB2gDQBd4bXZoBkABgEgCgAABffUJM0gA4HCYCWCAgBYCACB1DigAgAgEABgEYGgAADgBgLgB4QBAgDwNgAANACgGABexdHJhBrgBYBBoB0BrgP4DAHgP4PgKoJgQYDgNwOgQYrcBQW1kBpBhgBABAsgA4Agd4VAAC7gd4DcAAwYABVDEgBIDA0gFIABsBygIIGgmwAB1BugKIKBBB1gKAAdvIE1lgKwBcgSGFugFIABlgFQDDZgtAABuBmgA4BAQBzBtgHoAgFwJAkgE4AgC4DccZHJlgA4CgWIGcMdXJsAggBYFedc3RiBsgHYDF0BzgHYJAQBjgB4MBBgD4ABzgLYGgG4CcxZWMtAzggoPgYwAAQgAwCgaoFANBkgEgAAzgDgBAPgKADgIABBjgKAJAUgB4BB6gpwNgEYBBjBvgB4JA8hFAABlB4gFYCBtBlgoAIgzAFAgg5gAgDYDgQAGg3AICggAYA";b.pg=!0;b.va="EAADCoBtFvBmgA4AcAEG1mBoBkgA4BgAACABgC4BeQdHJhgC4CAUB0gC4CACAAAggC4CACCggD4DgCYBBkB0gEgBgAAJADgCYAByB1BugA4AALgCwCBAgB4BCwgAYAAGgDACCAgD4EgBf/gBbxAABMBzhkwABwgBACQqgAA5gIIAcgCG1kBhB0ALB3AAE/CHDAhxgDhyQAgAYBBYAfAAIEIBhuYAgAAAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLcBrQA1CgAGC0AADWCAAaDQADBagZwEAuDGgP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP//gP9v";b.ng=!0;b.la={bb:1536,X:48E3};b.duration={bb:96768,X:48E3};b.bitrate=32;b.profile="ddplus-5.1-dash";b.channels="5.1";b.Qh=[196,633];b.Nh=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vc=void 0;b.Vc=function(a,c){for(var m=0;m < a.length;m++){if(c(a[m],m,a))return a[m];}};},function(r,b,a){var d;function c(f){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f & 63];}function m(f,h){d.assert(0 < h && 8 > h);return c((h - 1 << 8) + f);}function k(f){return c(1792 + f[0]) + c((f[1] << 4) + (f[2] >>> 4)) + c((f[2] << 8 & 3840) + f[3]);}function l(f){return 43 === f?62:47 === f?63:58 > f?f - 48 + 52:91 > f?f - 65:f - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.Xaa=b.MZb=void 0;d=a(397);b.MZb=function(f,h){var p,q,t,v,u,w;function g(x,y){var z;z=p;x=q - y - x;d.assert(1 <= x);d.assert(16384 > x - 1);d.assert(2 <= y && 512 > y - 2);y=c(2048 + (x - 1 >>> 3)) + c(((x - 1 & 7) << 9) + (y - 2));p=z + y;t=q;v=0;}function n(x,y,z){return f.subarray(x,x + z).every(function(A,B){return A === f[y + B];});}p="";q=h || 0;t=q;v=0;for(h=0;q < f.byteLength;){u=t;w=v;if(0 !== v && 513 > v && f[q] === f[t + v])(++v,++q);else if(513 === v)(g(u,w),h=0);else {for(--t;0 <= t && t >= q - v - 16384 && (f[u] !== f[t] || 0 < v && !n(q - v,t,v + 1));){--t;}if(0 <= t && t >= q - v - 16384)(++v,++q);else if(u === q || 1 === w){q-=w;for(u=1;5 > u && f[q + u] === f[q];){++u;}p+=m(f[q],u);q+=u;h=1 < u?0:h + 1;4 === h && (p=p.slice(0,p.length - 8),p+=k(f.subarray(q - 4,q)));t=q;v=0;}else (g(u,w),h=0);}}1 === v?p+=m(f[t],1):1 < v && g(t,v);return p;};b.Xaa=function(f,h){var v;function g(w,x){var y;if(t + x > p.byteLength){y=new Uint8Array(2 * p.byteLength);y.set(p,0);p=y;}if(w + x <= t)p.set(p.subarray(w,w + x),t);else for(y=0;y < x;++y){p[t + y]=p[w + y];}t+=x;}function n(){var w;w=f.slice(q,q+=2);return (l(w.charCodeAt(0)) << 6) + l(w.charCodeAt(1));}for(var p=h || new Uint8Array(4096),q=0,t=h?h.byteLength:0;q < f.length;){v=n();if(v & 2048)(h=n(),g(t - (((v & 2047) << 3) + (h >>> 9) + 1),(h & 511) + 2));else if(1792 === (v & 3840))(p[t++]=v & 255,h=n(),v=n(),p[t++]=h >>> 4,p[t++]=(h << 4 & 240) + (v >>> 8),p[t++]=v & 255);else {h=v & 255;v=(v >>> 8) + 1;for(var u=0;u < v;++u){p[t++]=h;}}}return p.subarray(0,t);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bHb=b.$s=void 0;b.$s=function(){var m;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,l){return k + l.byteLength;},0);m=new Uint8Array(c);a.reduce(function(k,l){m.set(new Uint8Array(l),k);return k + l.byteLength;},0);return m.buffer;};b.bHb=function(){var m;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,l){return k + l.byteLength;},0);m=new Uint8Array(c);a.reduce(function(k,l){m.set(l,k);return k + l.byteLength;},0);return m;};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u;Object.defineProperties(b,{__esModule:{value:!0}});b.ZKa=void 0;c=a(0);m=c.__importStar(a(10));r=a(11);k=c.__importDefault(a(29));l=c.__importDefault(a(914));d=c.__importDefault(a(4));f=a(174);h=a(232);c.__importDefault(a(233));g=c.__importDefault(a(915));a(398);n=a(2);p=a(918);q=a(1002);t=new d.default.Console("ASEJS","media|asejs");v=t.trace.bind(t);u=t.warn.bind(t);r=(function(w){var v10;v10=2;function x(y,z){var w10,A;w10=2;for(;w10 !== 13;){switch(w10){case 8:var v3j="1SIYb";v3j+="ZrN";v3j+="JCp9";A.qzb=!1;A.OH=[];v3j;w10=14;break;case 2:var k3j="D";k3j+="EB";k3j+="U";k3j+="G:";var l3j="n";l3j+="f-ase";l3j+=" ";l3j+="ve";l3j+="rsion:";A=w.call(this) || this;A.config=y;A.fG=z;y=a(429);v(l3j,y,k3j,!1);A.vla=!1;w10=8;break;case 14:return A;break;}}}for(;v10 !== 27;){switch(v10){case 2:c.__extends(x,w);Object.defineProperties(x.prototype,{Vb:{get:function(){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 2:return this.d5.Vb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Yo:{get:function(){var y10;y10=2;for(;y10 !== 1;){switch(y10){case 4:return this.d5.Yo;break;y10=1;break;case 2:return this.d5.Yo;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Bw:{get:function(){var z10;z10=2;for(;z10 !== 1;){switch(z10){case 2:return this.oma;break;}}},enumerable:!1,configurable:!0}});v10=3;break;case 3:Object.defineProperties(x.prototype,{wC:{get:function(){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.j6;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xva:{get:function(){var B10;B10=2;for(;B10 !== 1;){switch(B10){case 2:return !m.oa(this.wWa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{XF:{get:function(){var C10;C10=2;for(;C10 !== 1;){switch(C10){case 4:return this.rWa;break;C10=1;break;case 2:return this.rWa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Xf:{get:function(){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 4:return this.$z;break;D10=1;break;case 2:return this.$z;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mi:{get:function(){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 2:return this.d5.mi;break;case 4:return this.d5.mi;break;E10=1;break;}}},enumerable:!1,configurable:!0}});v10=14;break;case 17:x.prototype.eE=function(){var P10,y;P10=2;for(;P10 !== 5;){switch(P10){case 2:null === (y=this.$z) || void 0 === y?void 0:y.KLb();P10=5;break;}}};x.prototype.lb=function(){var Q10;Q10=2;for(;Q10 !== 6;){switch(Q10){case 8:delete this.$z;h.FL.reset();Q10=6;break;case 2:var A3j="Attempted to destru";A3j+="ct Manager before all Sessio";A3j+="ns removed";n.assert(0 === this.OH.length,A3j);this.vla=!1;delete this.d5;delete this.oma;delete this.fG;this.eE();Q10=8;break;}}};v10=15;break;case 14:Object.defineProperties(x.prototype,{sua:{get:function(){var F10;F10=2;for(;F10 !== 1;){switch(F10){case 2:return this.qzb;break;}}},enumerable:!1,configurable:!0}});x.prototype.ta=function(y,z,A,B,C,D){var G10,F,G;G10=2;for(;G10 !== 11;){switch(G10){case 2:(F=this,G=this.config);h.FL.reset();0 < G.Yv && (!m.oa(y) && y > G.Yv && (y=G.Yv),z > G.Yv && (z=G.Yv));m.oa(y) && (this.wWa=z);this.j6=B;this.rWa=C;G10=8;break;case 8:l.default(G);this.d5=h.FL.X9(G,t,this.fG);this.oma=new g.default(G);G10=14;break;case 12:this.vla=!0;G10=11;break;case 13:var e3j="med";e3j+="ia";e3j+="cache";var Y3j="cacheE";Y3j+="vi";Y3j+="c";Y3j+="t";var z3j="fl";z3j+="us";z3j+="hed";z3j+="Bytes";var g3j="d";g3j+="iscardedByt";g3j+="es";var T3j="pr";T3j+="e";T3j+="buff";T3j+="st";T3j+="ats";(z=new q.DJa(this,G,A,D),y=function(E){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 4:F.emit(E.type,E);H10=9;break;H10=1;break;case 2:F.emit(E.type,E);H10=1;break;}}},z.addListener(T3j,y),z.addListener(g3j,y),z.addListener(z3j,y),z.addListener(Y3j,y),(G.KDa || G.JDa) && z.addListener(e3j,function(E){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 2:var u5j="m";u5j+="ed";u5j+="iacach";u5j+="e";F.emit(u5j,E);I10=1;break;case 4:F.emit("",E);I10=2;break;I10=1;break;}}}),this.$z=z);G10=12;break;case 14:G10=G.tlb || G.GDa?13:12;break;}}};v10=12;break;case 12:x.prototype.u0=function(y,z,A){var J10;J10=2;for(;J10 !== 4;){switch(J10){case 2:this.wWa=y;this.j6=z || 0;J10=5;break;case 5:this.rWa=A || 0;J10=4;break;}}};x.prototype.createSession=function(y,z,A,B,C,D,F,G,E,H){var K10;K10=2;for(;K10 !== 4;){switch(K10){case 1:return (G=G || this.config,this.Vb.reset(),this.Yo.Xac(),this.oma.reset(),void 0 === D && (D=this.y9(y,z)),m.oa(this.j6) && (this.j6=d.default.jq()[k.default.cb.Jb] <= G.y0b?0:G.c0),y=new p.rRa(this,y,H,z,A,B,C,D,F,G,E),this.OH.push(y),y);break;case 9:K10=this.vla?4:9;break;K10=this.vla?1:5;break;case 2:K10=this.vla?1:5;break;case 5:var c5j="open: strea";c5j+="m";c5j+="ingMan";c5j+="ager";c5j+=" not initted";u(c5j);K10=4;break;}}};x.prototype.fZ=function(y,z){var L10;L10=2;for(;L10 !== 1;){switch(L10){case 2:return this.$z && (y=this.$z.fZ(y,z))?y:!1;break;}}};v10=20;break;case 20:x.prototype.Mzb=function(y){var M10,z;M10=2;for(;M10 !== 4;){switch(M10){case 2:var y5j="can't find session";y5j+=" in array, movieId";y5j+=":";this.Vb.AR(null);z=this.OH.indexOf(y);m.oa(z)?u(y5j,y.af.P.I):(this.OH.splice(z,1),0 === this.OH.length && this.Yo.ebc(),this.Yo.save(),this.mi.save());M10=4;break;}}};x.prototype.y9=function(y,z,A){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 2:return f.Wsa(y,z,A);break;}}};x.prototype.uoa=function(){var O10,y;O10=2;for(;O10 !== 5;){switch(O10){case 2:null === (y=this.$z) || void 0 === y?void 0:y.I3a();O10=5;break;}}};v10=17;break;case 15:return x;break;}}})(r.EventEmitter);b.ZKa=r;},function(r,b,a){var m,k,l,d;function c(f){var h;h=nrdp.Nk.Lqc.match(/android-(\d*)/);h?23 < h[1]?f.ECa=!1:(h=nrdp.Nk.lkc.Zs.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),f.ECa=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):f.ECa=!1;f.Nbc=!1;}m=a(2).assert;a(154);k=a(4).default;l=k.zs;d=k.lsb;r.exports=function(){var f,h,g,n;f=new k.Console("ASEJSMONKEY","media|asejs");if(!k.zs.Oc){h=function(p){this.Yxb=p;};g=d.prototype.appendBuffer;k.MediaSource.Oc || (k.MediaSource.Oc={});"undefined" !== typeof nrdp && nrdp.U6 && (c(k.MediaSource.Oc,f),k.MediaSource.Oc.h_a=!1,k.MediaSource.Oc.ybb=!1);k.zs.Oc={e0:{Kmb:!0,UT:!0,xsb:!0}};Object.defineProperty(l.prototype,"_response",{get:function(){return this.xAb || this.owb;},set:function(p){this.owb=p;}});n=l.prototype.open;l.prototype.open=function(p,q,t,v,u,w,x){1 === t && (this.xAb=new h(this));return n.call(this,p,q,t,v,u,w,x);};l.prototype.cR=function(){this.kN=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return g.call(this,p);if(p instanceof h)return this.X6(p.Yxb);m(!1);};}};},function(r,b,a){var k,l;function c(){this.eA=this.rU=this.A5=this.O5=this.x5=null;}function m(d){this.J=d;this.MD=[];this.Fs=new c();this.IU();}k=a(10);a(29);a(7);l=a(4).default;new l.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Gd=function(d){var f;f=!1;d && k.has(d,"ens") && k.has(d,"lns") && k.has(d,"fns") && k.has(d,"d") && k.has(d,"t") && (this.x5=d.ens,this.O5=d.lns,this.A5=d.fns,this.rU=d.d,this.eA=d.t,f=!0);return f;};c.prototype.getState=function(){var d;if(k.sb(this.x5) || k.sb(this.O5) || k.sb(this.A5) || k.sb(this.rU) || k.sb(this.eA))return null;d={d:this.rU,t:this.eA};d.ens=this.x5;d.lns=this.O5;d.fns=this.A5;return d;};c.prototype.get=function(){var d,f;d=this.getState();if(d){f=new Date(this.eA);d.dateint=1E4 * f.getFullYear() + 100 * (f.getMonth() + 1) + f.getDate();d.hour=f.getHours();}return d;};m.prototype.IU=function(){var d;d=l.storage.get("sth");d && this.Gd(d);};m.prototype.Gd=function(d){var f,h;f=null;h=this.J;d.forEach(function(g){var n;n=new c();n.Gd(g)?(f=!0,this.MD.push(n)):k.sb(f) && (f=!1);},this);this.MD=this.MD.filter(function(g){return g.rU >= h.Fba;});this.MD.sort(function(g,n){return g.eA - n.eA;});return k.sb(f)?!0:f;};m.prototype.nla=function(){var d;d=[];this.MD.forEach(function(f){d.push(f.getState());},this);return d;};m.prototype.save=function(){var d,f,h;d=this.nla();f=this.J;h=this.Fs.getState();h && h.d >= f.Fba && (d.push(h),this.MD.push(this.Fs));d.length > f.fba && (d=d.slice(d.length - f.fba,d.length));this.Fs=new c();d && l.storage.set("sth",d);};m.prototype.reset=function(){this.Fs=new c();};m.prototype.mRb=function(){return this.Fs.get();};m.prototype.BTb=function(){return this.MD.length + 1;};m.prototype.BBb=function(d){this.Fs.x5=d;this.Fs.eA=l.time.ga();};m.prototype.LBb=function(d){this.Fs.O5=d;this.Fs.eA=l.time.ga();};m.prototype.FBb=function(d,f){this.Fs.A5=d;this.Fs.eA=l.time.ga();this.Fs.rU=f;};r.exports=m;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GLa=void 0;r=(function(){function a(c,m,k){this.BAb=m;this.Ivb=k;this.G=c;}a.prototype.bza=function(c){c=this.GWb(c,this.BAb) + this.Ivb;return this.dma=isNaN(c)?NaN:this.PBa(c);};a.prototype.pGb=function(c){return isNaN(this.dma)?0:this.dma > c?1:0;};a.prototype.GWb=function(c,m){var k;k=0;if(c.length !== m.length)k=NaN;else for(var l=0;l < c.length;l++){k+=c[l] * m[l];}return k;};a.prototype.PBa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.GLa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MT=void 0;r=(function(){function a(c){this.Ck={};this.Kla=c;this.Cg=[];this.Ms=!1;this.PH=void 0;}a.prototype.L6=function(c){this.Cg.length === this.Kla && this.Cg.shift();Array.isArray(c)?this.Cg=this.Cg.concat(c):this.Cg.push(c);this.Ms=!0;};a.prototype.mP=function(){return this.Cg.length;};a.prototype.yoa=function(){var c;c=this.Cg;return 0 < c.length?c.reduce(function(m,k){return m + k;},0) / this.Cg.length:void 0;};a.prototype.D7=function(){var c,m;c=this.Cg;m=this.yoa();if(0 < c.length && "undefined" !== typeof m)return (c=c.reduce(function(k,l){return k + l * l;},0) / c.length,Math.sqrt(c - m * m));};a.prototype.ev=function(c){var m,k,l;if(this.Ms || void 0 === this.PH)(this.PH=this.Cg.slice(0).sort(function(d,f){return d - f;}),this.Ms=!1);if(void 0 === this.Ck[c]){m=this.PH;k=Math.floor(c / 100 * (m.length - 1) + 1) - 1;l=(c / 100 * (m.length - 1) + 1) % 1;this.Ck[c]=k === m.length - 1?m[k]:m[k] + l * (m[k + 1] - m[k]);}return this.Ck[c];};return a;})();b.MT=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O;Object.defineProperties(b,{__esModule:{value:!0}});b.rRa=void 0;r=a(0);c=a(11);m=r.__importStar(a(10));k=a(124);l=a(919);d=a(174);f=a(14);h=a(224);g=a(252);n=a(253);p=a(944);q=a(945);t=r.__importDefault(a(4));v=t.default.MediaSource;u=a(7);w=a(2);x=a(175);y=a(411);z=a(947);A=a(948);B=a(155);r=a(35);C=a(949);D=a(950);F=a(412);G=a(983);E=a(421);H=a(992);L=a(425);K=a(998);I=a(999);R=a(1E3);O=a(1001);a=(function(){var R10;R10=2;for(;R10 !== 91;){switch(R10){case 13:Object.defineProperties(J.prototype,{Bw:{get:function(){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:return this.tc.Bw;break;case 4:return this.tc.Bw;break;h20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Wt:{get:function(){var i20;i20=2;for(;i20 !== 1;){switch(i20){case 2:return this.Uzb;break;case 4:return this.Uzb;break;i20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Vaa:{get:function(){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return this.aN;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{q_:{get:function(){var k20;k20=2;for(;k20 !== 1;){switch(k20){case 2:return this.W5;break;}}},enumerable:!1,configurable:!0}});J.prototype.pc=function(M){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:return this.zAb[M];break;case 4:return this.zAb[M];break;l20=1;break;}}};J.prototype.AX=function(){var m20;m20=2;for(;m20 !== 1;){switch(m20){case 2:return t.default.time.ga() - this.Aka;break;}}};J.prototype.K5a=function(){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:return (this.Rd || []).reduce(function(M,P){var o20,S;o20=2;for(;o20 !== 4;){switch(o20){case 2:S=P.P;h.Tf.forEach(function(T){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:S.It[T] > M[T] && (M[T]=S.It[T]);p20=1;break;}}});return M;break;}}},[0,0]);break;}}};J.prototype.bQ=function(){var q20,M;q20=2;for(;q20 !== 4;){switch(q20){case 2:M=0;m.forEach(this.af.P.ja.audio_tracks,function(P){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:m.forEach(P.streams,function(S){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:M=Math.max(M,S.bitrate);s20=1;break;}}});r20=1;break;}}});return M;break;}}};J.prototype.Oh=function(M){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:return this.Rd[M];break;}}};J.prototype.ZRb=function(){var u20,M;u20=2;for(;u20 !== 5;){switch(u20){case 2:M=this.Rd[0];return M.P.Ef.df?this.Rd[1]:M;break;}}};R10=27;break;case 104:J.prototype.a6b=function(M,P,S){var E40,T;E40=2;for(;E40 !== 6;){switch(E40){case 4:E40=M.P.oY?3:7;break;case 2:k.Gm.iq(0);M=this.Rd[M];M.sDa(P);E40=4;break;case 3:M.Gr(0).bd.some(function(U){var F40;F40=2;for(;F40 !== 4;){switch(F40){case 5:return ! !T;break;case 7:return ~ ~T;break;F40=4;break;case 9:T=U.hq();F40=4;break;F40=1;break;case 2:T=U.hq();F40=1;break;case 1:F40=!(T && T.stream && T.stream.aa && S < T.stream.aa.lk(0))?5:4;break;}}});E40=8;break;case 8:T?(M.P.Rh[0]=T,M.J_=!1,T.stream.Vd && M.A7()):(M.P.Rh[0]=void 0,M.J_=!1,M.P.yK([M.Gr(0)],!0,0));E40=7;break;case 7:this.bV(0);E40=6;break;}}};J.prototype.Fzb=function(M,P){var G40,S;G40=2;for(;G40 !== 4;){switch(G40){case 2:S=this.mh[M.mediaType];M=this.Ta.F_(M.Xa,M.mediaType,P,this.tc.wC || 0,function(T){var H40;H40=2;for(;H40 !== 1;){switch(H40){case 4:S.V_(T);H40=3;break;H40=1;break;case 2:S.V_(T);H40=1;break;}}});m.oa(M) || this.Gg.Dk();G40=4;break;}}};J.prototype.dxb=function(M){var I40,P,S,T;I40=2;for(;I40 !== 8;){switch(I40){case 4:this.nAb(M,P);this.J=this.R_a.zvb(P.Af,this.J);this.Rd.forEach(function(U,W){var J40,fa;J40=2;for(;J40 !== 5;){switch(J40){case 2:fa=U.P;fa.oY || 0 === W || fa.yK([U.Gr(0),U.Gr(1)]);J40=5;break;}}});I40=8;break;case 2:(P=M.mediaType,S=M.manifestIndex,T=M.streamId);M=this.Ta.Wc.$a(P);P=this.Rd[S].P.cy(P,T);I40=4;break;}}};J.prototype.gxb=function(M){var K40,S,P;K40=2;for(;K40 !== 8;){switch(K40){case 5:S=P.Sa.Xa;S.h_b(M);P.yv && this.Hb.xyb(P);P.Wo && this.Hb.Lyb(M,P.P.Rb,S.u);K40=8;break;case 2:P=M.request;M=M.mediaType;K40=5;break;}}};J.prototype.nAb=function(M,P){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 2:this.Fb.uy[M.mediaType].GJ={id:P.Pa,index:P.vg,bitrate:P.bitrate,Qa:P.Cb && P.Cb.confidence && P.Cb.Qa?P.Cb.Qa.pa:0,location:P.location};L40=1;break;}}};J.prototype.aaa=function(M){var M40,P,S,T,U,W,fa,sa,wa,Ba,Ga;M40=2;for(;M40 !== 11;){switch(M40){case 2:(W={},fa=this.mh,sa=this.Ta);M40=1;break;case 4:W.vspts=null !== (P=null === Ga || void 0 === Ga?void 0:Ga.Cc) && void 0 !== P?P:0;W.aspts=null !== (S=null === Ba || void 0 === Ba?void 0:Ba.Cc) && void 0 !== S?S:0;W.vbuflbytes=null !== (T=null === Ga || void 0 === Ga?void 0:Ga.Ao.ca) && void 0 !== T?T:0;W.abuflbytes=null !== (U=null === Ba || void 0 === Ba?void 0:Ba.Ao.ca) && void 0 !== U?U:0;M40=7;break;case 1:M40=!sa.Wc.If?5:12;break;case 7:W.vbuflmsec=sa.Jx(wa,1);W.abuflmsec=sa.Jx(wa,0);M && (W.a=null === Ba || void 0 === Ba?void 0:Ba.Sa.aa.toJSON(),W.v=null === Ga || void 0 === Ga?void 0:Ga.Sa.aa.toJSON());M40=13;break;case 5:(wa=sa.Wc,Ba=wa.ce(0),Ga=wa.ce(1));M40=4;break;case 13:M && fa && (M=fa[1],fa=fa[0],W.atoappend=null === M || void 0 === M?void 0:M.dea(),W.vtoappend=null === fa || void 0 === fa?void 0:fa.dea());M40=12;break;case 12:return W;break;}}};J.prototype.A6a=function(M){var N40,P,S,T,U,W,fa;N40=2;for(;N40 !== 8;){switch(N40){case 2:(P=this.Ta.Wc,S=P.$a(M));N40=1;break;case 1:N40=S?5:8;break;case 5:(T=this.Fb.uy[M],U=this.Ta.nI(P,M));T=T.GJ?T.GJ.bitrate:0;(W=S.Sa.vya,fa=this.Ta.Ze);N40=9;break;case 9:return {type:M,availableMediaBuffer:t.default.jq()[M] - U,completeBuffer:P.th(M),incompleteBuffer:W,playbackBitrate:S.Kdb,streamingBitrate:T,streamingTime:S.Cc + fa,usedMediaBuffer:U,toappend:S.tfc};break;}}};J.prototype.m8b=function(){var O40,M;O40=2;for(;O40 !== 5;){switch(O40){case 2:var n5j="requ";n5j+="estG";n5j+="arb";n5j+="ageCollection";M={type:n5j,time:t.default.time.ga()};u.eb(this,M.type,M);O40=5;break;}}};J.prototype.dr=function(M,P,S,T,U,W,fa){var P40;P40=2;for(;P40 !== 5;){switch(P40){case 2:var r5j="NFErr_MC_";r5j+="StreamingFail";r5j+="ure";void 0 === fa && (fa=!1);this.r6 || (m.oa(S) && (S=r5j),this.r6=!0,this.Hb.Pyb(S,M,T,U,W,void 0 !== P?P:this.x_,fa));P40=5;break;}}};J.prototype.DUa=function(){var Q40;Q40=2;for(;Q40 !== 5;){switch(Q40){case 2:var a5j="Network fai";a5j+="lu";a5j+="r";a5j+="es reset";a5j+="!";this.Ob(a5j);this.Gg.Dk();Q40=5;break;}}};R10=94;break;case 72:J.prototype.l6=function(M,P){var O30,S,T,U,W,fa;O30=2;for(;O30 !== 19;){switch(O30){case 8:var h5j="st";h5j+="artB";h5j+="u";h5j+="ffering";this.af.P.Vxa();this.emit(h5j);h.Tf.forEach(function(sa){var P30;P30=2;for(;P30 !== 5;){switch(P30){case 2:P30=(sa=S.Ta.Wc.ce(sa))?1:5;break;case 1:(sa.koa=0,sa.seeking=0 === M || 1 === M,sa.bpa());P30=5;break;}}});this.Aka=t.default.time.ga();O30=13;break;case 2:(S=this,T=this.J,U=this.Fb.Zf[0] || ({}),W=this.Fb.Zf[1] || ({}),fa=this.Fb.AC[1] || ({}));(this.Fb.AC[0] || ({})).bW=void 0;O30=5;break;case 5:fa.bW=void 0;this.O.Gd(2 === M?f.wa.bg:f.wa.sd);this.Hb.vyb(P);this.Tz.reset();O30=8;break;case 20:this.Gg.Dk();O30=19;break;case 13:U.am=W.am=this.Aka;0 === M && (!this.Zn || 0 < W.lw) && (!this.Rs || 0 < U.lw) && this.Fb.Vz();T.aX && (this.Wka=setTimeout(function(){var Q30;Q30=2;for(;Q30 !== 1;){switch(Q30){case 2:S.Qzb();Q30=1;break;}}},T.Jqa));this.O.Df() && (this.CM=setTimeout(function(){var R30;R30=2;for(;R30 !== 1;){switch(R30){case 2:S.Fb.Vz();R30=1;break;}}},T.eC));O30=20;break;}}};J.prototype.lV=function(M){var S30,P;S30=2;for(;S30 !== 3;){switch(S30){case 2:var W5j="Adop";W5j+="tingD";W5j+="ata s";W5j+="till ha";W5j+="s lock:";var t5j="wipeHea";t5j+="derCa";t5j+="ch";t5j+="e:";a000.V3j(7);M=a000.W3j(t5j,M);this.Rz.Fx && this.ml(W5j + M);P=this.J;P.XJ || (P.Si && this.Hb.Fn(M),this.tc.eE(),this.di && (this.di=void 0));S30=3;break;}}};J.prototype.ITa=function(M){function P(fa,sa){var U30,N,Q,V,ba,wa,Ba,Ga;U30=2;for(;U30 !== 10;){switch(U30){case 5:(N=Ba.Pa,Q=Ba.header.stream,V=S.Fb.Zf[wa],ba=S.Fb.AC[wa]);m.oa(sa.XE) || S.kh.xhb(sa.XE,sa.mq,sa.nq);U30=3;break;case 14:var b5j="adoptPipeline";b5j+=" no he";b5j+="ader for";b5j+=" streamId";b5j+=":";return (fa.ml(b5j,N),Ga);break;case 3:ba.AB=sa.AB;ba.Xx=sa.Xx;U30=8;break;case 7:return Ga;break;case 1:U30=Ba?5:11;break;case 2:(wa=fa.mediaType,Ba=sa[wa],Ga=Promise.resolve(void 0));U30=1;break;case 8:U30=!fa.Wec(N)?7:6;break;case 6:U30=!Ba.header?14:13;break;case 13:sa=S.af.P;U30=12;break;case 12:sa.K6(Ba.header,!sa.Ef.df && !sa.Ri && 1 === wa,!0) && (void 0 !== fa.gK && fa.SK(fa.gK),Ga=sa.hq(wa,N).stream.aa.Jo(fa.Cc,void 0,!0),sa=Q.zl(Ga),Q=sa.ba,(sa=sa.Era(fa.Cc)) && 0 < sa.Nd && (Q=sa.Nd),fa.Cc !== Q && (fa.RK(Q,Ga),S.pma(wa,Q)),Ga=S.svb(fa,Ba.data).then(function(){var V30;V30=2;for(;V30 !== 1;){switch(V30){case 2:return N;break;}}}),V.zPb=!0,fa=S.kh,Ba=Ba.header.bitrate,0 === wa?fa.Ty(Ba):fa.TK(Ba));U30=11;break;case 11:return Ga;break;}}}var T30,S,T,U,W;T30=2;for(;T30 !== 13;){switch(T30){case 3:T30=!this.QAb || !this.tc.Xf?9:8;break;case 9:return (this.tc.uoa(),Promise.resolve());break;case 2:var V5j="P";V5j+="reviously adopted request ";V5j+="list still retained was unexpecte";V5j+="d";S=this;(null === (T=this.di) || void 0 === T?0:T.TE()) && this.ml(V5j);this.di=void 0;U=this.J;T30=3;break;case 8:var P5j="c";P5j+="h";P5j+="eckForH";P5j+="cd";P5j+="Start";this.Hb.Tm(P5j);this.Rd.forEach(function(fa){var W30;W30=2;for(;W30 !== 1;){switch(W30){case 2:fa.P.I === M && (W=fa);W30=1;break;}}});return this.tc.Xf.JZb(M,W?W.P:void 0).then(function(fa){var X30,sa,wa;X30=2;for(;X30 !== 8;){switch(X30){case 4:var M5j="ado";M5j+="p";M5j+="tHcdStart";(sa=S.Ta.Wc.ce(0),wa=S.Ta.Wc.ce(1));S.Hb.Tm(M5j);return S.Rz.Gfa(function(){var Y30,Ba,Ga;Y30=2;for(;Y30 !== 7;){switch(Y30){case 8:return Promise.all([Ba,Ga]);break;case 2:var m5j="ado";m5j+="p";m5j+="tH";m5j+="cdE";m5j+="nd";Ba=Promise.resolve();S.Zn && (Ba=P(wa,fa));Ga=Promise.resolve();!S.Rs || U.s7a && !Ba || (Ga=U.s7a?Ba.then(function(N){var Z30;Z30=2;for(;Z30 !== 1;){switch(Z30){case 4:return N?P(sa,fa):Promise.resolve();break;Z30=1;break;case 2:return N?P(sa,fa):Promise.resolve();break;}}}):P(sa,fa));S.IUa=fa;S.Hb.Tm(m5j);Y30=8;break;}}});break;case 5:var G5j="headerC";G5j+="acheDataNot";G5j+="Found";return (U.Ps || S.Rz.Fx || S.lV(G5j),Promise.resolve());break;case 1:X30=m.oa(fa)?5:4;break;case 2:var s5j="ch";s5j+="eckForHc";s5j+="dE";s5j+="nd";S.Hb.Tm(s5j);X30=1;break;}}}).then(function(){var a40,fa;a40=2;for(;a40 !== 5;){switch(a40){case 2:var H5j="adoptedComplet";H5j+="edReque";H5j+="sts";U.Ps || (null === (fa=S.di) || void 0 === fa?0:fa.TE()) || S.Rz.Fx || !S.O.Uo(S.af.P) || S.lV(H5j);a40=5;break;}}}).catch(function(fa){var b40;b40=2;for(;b40 !== 1;){switch(b40){case 2:var q5j="headerCache:";q5j+="l";q5j+="ookup";q5j+="DataPromise caught error:";S.Ob(q5j,fa);b40=1;break;}}});break;}}};J.prototype.svb=function(M,P){var c40,S,T,U,W,fa,sa,wa;c40=2;for(;c40 !== 9;){switch(c40){case 2:S=this;c40=1;break;case 1:c40=0 === P.length?5:4;break;case 7:S=this;c40=7;break;c40=1;break;case 4:(T=M.Maa,U=T.u,W=Math.min(this.Rd[0].Ma || Infinity,T.Jc || Infinity),fa=M.mediaType,sa=this.Fb.Zf[fa]);return this.Rz.Gfa(function(){function Ba(){var e40,N;e40=2;for(;e40 !== 5;){switch(e40){case 2:var C5j="adoptD";C5j+="ata, not adopt";C5j+="ing failed mediaR";C5j+="equest:";var j5j="adoptData, not adop";j5j+="ting aborted m";j5j+="ed";j5j+="i";j5j+="aRequest:";N=P.shift();7 === N.readyState?M.Ob(j5j,N.toString()):6 === N.readyState?(M.Ob(C5j,N.toString()),S.XH(N,!1)):M.Cc >= N.$c && M.Cc < N.Jc && (M.Cc < W || !m.Ka(W))?(Ga.push(S.tvb(M,N).then(function(){var f40;f40=2;for(;f40 !== 1;){switch(f40){case 2:N.complete && S.W6a(N);f40=1;break;case 4:N.complete || S.W6a(N);f40=0;break;f40=1;break;}}})),M.s$b(N.Jc),m.Ka(W) && M.Cc >= W && S.Hb.Pla(U,N.Jc),0 === fa && S.kh.Ty(N.bitrate),N.complete?(sa.lw+=N.duration,N.rZb && (sa.r_+=N.duration),wa=N):(S.di || (S.di=new D.EEa(S.G)),S.di.push(N))):S.XH(N,!1);e40=5;break;}}}var d40,Ga;d40=2;for(;d40 !== 3;){switch(d40){case 1:d40=0 < P.length?5:4;break;case 2:Ga=[];d40=1;break;case 14:return Promise.all(Ga);break;d40=3;break;case 7:d40=1 >= P.length?3:2;break;d40=0 < P.length?5:4;break;case 5:Ba();d40=1;break;case 4:return Promise.all(Ga);break;}}}).then(function(){var g40,Ba,Ga;g40=2;for(;g40 !== 8;){switch(g40){case 5:g40=wa || (null === (Ba=S.di) || void 0 === Ba?0:Ba.TE())?4:8;break;case 2:wa && M.X6a(wa);g40=5;break;case 4:Ba=S.Rd[T.P.Rb];Ga=M.yra(M.Cc);void 0 !== Ga?(M.mm=Ga,M.md=Ba.P.Rh[fa].stream.zl(M.mm)):M.mm=M.pe?M.pe.index + 1:M.mm + 1;g40=8;break;}}});break;case 5:return Promise.resolve();break;}}};J.prototype.tvb=function(M,P){var h40,S,T;h40=2;for(;h40 !== 3;){switch(h40){case 2:var d5j=", ";d5j+="p";d5j+="ts";d5j+=":";d5j+=" ";var p5j=",";p5j+=" ";p5j+="state: ";var N5j="adoptMediaRequest:";N5j+=" type";N5j+=": ";(S=this,T=M.mediaType);this.J.Si && this.Hb.Fn(N5j + T + p5j + P.readyState + d5j + P.$c);this.pma(T,P.$c);return M.Sa.rCb(P).catch(function(U){var i40;i40=2;for(;i40 !== 1;){switch(i40){case 2:var X5j="E";X5j+="rror adopti";X5j+="ng re";X5j+="quest";X5j+="s";S.ml(X5j,U);i40=1;break;}}});break;}}};J.prototype.lma=function(M,P,S){var j40,T;j40=2;for(;j40 !== 9;){switch(j40){case 2:T=this;void 0 === P && (P=F.ST.Sna);(S || this.Ta.Wc).tAa(M,P);j40=4;break;case 4:this.Tz.reset();(void 0 === M?h.Tf:[M]).forEach(function(U){var k40;k40=2;for(;k40 !== 1;){switch(k40){case 2:T.pc(U) && (T.yx[U].reset(),T.Zzb(U),T.kh.I2b(U));k40=1;break;}}});j40=9;break;}}};J.prototype.nCa=function(){var l40,M;l40=2;for(;l40 !== 5;){switch(l40){case 2:M=this;h.Tf.forEach(function(P){var m40,S;m40=2;for(;m40 !== 5;){switch(m40){case 2:null === (S=M.yx[P]) || void 0 === S?void 0:S.stop();m40=5;break;}}});l40=5;break;}}};J.prototype.YK=function(M){var n40,P;n40=2;for(;n40 !== 4;){switch(n40){case 2:P=this;(void 0 === M?h.Tf:[M]).forEach(function(S){var o40,T;o40=2;for(;o40 !== 5;){switch(o40){case 2:null === (T=P.yx[S]) || void 0 === T?void 0:T.resume();o40=5;break;}}});return Promise.resolve();break;}}};J.prototype.bV=function(M){var p40,P,S;p40=2;for(;p40 !== 3;){switch(p40){case 4:M.forEach(function(T){var q40,U;q40=2;for(;q40 !== 5;){switch(q40){case 2:null === (U=P.yx[T]) || void 0 === U?void 0:U.resume();q40=5;break;}}});p40=3;break;case 2:P=this;M=void 0 === M?h.Tf:[M];null === (S=this.Tz) || void 0 === S?void 0:S.reset();p40=4;break;}}};J.prototype.Zzb=function(M){var r40,P;r40=2;for(;r40 !== 3;){switch(r40){case 1:this.Fb.uy[M].Rva=void 0;P.lw=0;P.r_=0;r40=3;break;case 2:P=this.Fb.Zf[M];r40=1;break;}}};R10=87;break;case 27:J.prototype.jP=function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:return this.Rd.length;break;}}};J.prototype.$ua=function(M,P){var w20;w20=2;for(;w20 !== 9;){switch(w20){case 1:return !0;break;case 5:M=this.Rd[M];P=this.Rd[P];return M.P.Ef.df && P.P.Ef.rZ || P.P.Ef.df && M.P.Ef.rZ;break;case 2:w20=M === P?1:5;break;}}};J.prototype.G9=function(M){var x20;x20=2;for(;x20 !== 5;){switch(x20){case 2:x20=(M=this.Ta.wi.children[M])?1:5;break;case 1:return {id:M.u.id,Ze:M.Ze,rd:M.Vya,ef:M.ef,$c:M.Zda,Jc:M.Jc};break;}}};J.prototype.Tk=function(){var y20,M;y20=2;for(;y20 !== 5;){switch(y20){case 1:return {id:M.u.id,Ze:M.Ze,rd:M.Vya,ef:M.ef,$c:M.Zda,Jc:M.Jc};break;case 2:M=this.Ta.wi;y20=1;break;}}};J.prototype.hS=function(M,P){var z20;z20=2;for(;z20 !== 1;){switch(z20){case 2:return this.Ta.hS(M,P);break;case 4:return this.Ta.hS(M,P);break;z20=1;break;}}};J.prototype.open=function(){var A20,fa,sa,wa,Ba,M,P,S,T,U,W;A20=2;for(;A20 !== 33;){switch(A20){case 21:var K5j="st";K5j+="a";K5j+="rtplay";var F5j="lo";F5j+="g";F5j+="d";F5j+="at";F5j+="a";S={type:F5j,target:K5j,fields:{audiogapconfig:P.mQ,audiogapdpi:this.fg.Oc && this.fg.Oc.mQ,aseApiVersion:this.dI}};this.emit(S.type,S);A20=33;break;case 5:var E5j="NFErr_MC_Str";E5j+="eami";E5j+="ngInit";E5j+="Fa";E5j+="ilure";var O5j="startPts";O5j+=" must be a po";O5j+="sitive number, not ";this.dr(O5j + this.ND,void 0,E5j);A20=33;break;case 20:var x5j="createM";x5j+="edi";x5j+="aSou";x5j+="rceE";x5j+="nd";this.Hb.Tm(x5j);wa.Oc || (wa.Oc=v.Oc);this.fg=wa;A20=17;break;case 17:A20=!wa.M6(U)?16:15;break;case 7:fa=P.Ps;this.tc.Xf && this.tc.Xf.mr(fa,this.Qm.sessionId);sa=this.QW.fwb(W,S);W.forEach(function(Ga,N){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:var i5j="he";i5j+="ad";i5j+="ers";i5j === Ga?M.AU=sa[N]:M.Fb.Zf[Ga].Qf=sa[N];B20=1;break;}}});A20=12;break;case 12:var S5j="createMe";S5j+="diaSourceS";S5j+="tart";this.Hb.Tm(S5j);wa=new v(this.O.rI);A20=10;break;case 24:this.Hb.xVa(S);Ba=function(){var G20;G20=2;for(;G20 !== 5;){switch(G20){case 2:var D5j="shu";D5j+="tdown detected bef";D5j+="ore ";D5j+="startRequ";D5j+="ests";M.Hb.Iyb();M.ko()?M.Ob(D5j):M.uAb();G20=5;break;}}};P.oLb?setTimeout(function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:M.ITa(T).then(Ba);H20=1;break;case 4:M.ITa(T).then(Ba);H20=7;break;H20=1;break;}}},0):this.ITa(T).then(function(){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:setTimeout(Ba,0);I20=1;break;}}});A20=21;break;case 1:A20=!m.Ka(this.ND) || 0 > this.ND?5:4;break;case 2:M=this;A20=1;break;case 10:A20=1 === wa.readyState?20:34;break;case 16:var o5j="E";o5j+="r";o5j+="ro";o5j+="r";o5j+=":";throw (this.Nj(o5j,wa.error),wa.error);A20=15;break;case 15:wa.sourceBuffers.forEach(function(Ga){var C20,N,Q;C20=2;for(;C20 !== 13;){switch(C20){case 3:var R5j="l";R5j+="o";R5j+="g";R5j+="da";R5j+="ta";var Z5j="e";Z5j+="r";Z5j+="r";Z5j+="or";var w5j="re";w5j+="ques";w5j+="tAp";w5j+="pe";w5j+="nded";Ga.addListener(w5j,M.gxb.bind(M));Ga.addListener(Z5j,function(V){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:var J5j="NFE";J5j+="rr_MC_StreamingFailur";J5j+="e";M.dr(V.errorstr,void 0,J5j);D20=1;break;}}});Ga.addListener(R5j,function(V){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:u.eb(M,V.type,V);E20=1;break;}}});C20=7;break;case 2:var L5j="head";L5j+="erAp";L5j+="pe";L5j+="n";L5j+="ded";(N=Ga.mediaType,Q=M.Fb.Zf[N]);Ga=new n.xga(Q.G,N,wa,Ga,P,!1,M.O,void 0,M.Oh.bind(M));Q=new G.UKa(Ga,N,M.Ta,M.J,Q.G);Ga.addListener(L5j,M.dxb.bind(M));C20=3;break;case 7:var U5j="m";U5j+="anagerdebugev";U5j+="ent";P.Si && Ga.addListener(U5j,function(V){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 4:u.eb(M,V.type,V);F20=5;break;F20=1;break;case 2:u.eb(M,V.type,V);F20=1;break;}}});M.mh[N]=Ga;M.yx[N]=Q;C20=13;break;}}});this.Tz=new C.xPa(this.yx,this.mN.bind(this),this.O.Le.bind(this.O));this.Wt && this.Hb.qyb();S=this.K5a();A20=24;break;case 4:var Q5j="h";Q5j+="ead";Q5j+="e";Q5j+="rs";(P=this.J,S=this.af.P,T=S.I,U=[],W=[Q5j]);this.Zn && (U.push(1),W.push(1));this.Rs && (U.push(0),W.push(0));this.QW.txb();A20=7;break;case 34:var f5j="NFEr";f5j+="r_";f5j+="MC_Streaming";f5j+="InitFailure";var B5j="ex";B5j+="c";B5j+="eption ";B5j+="in ini";B5j+="t";var I5j="Er";I5j+="r";I5j+="o";I5j+="r";I5j+=":";(this.Nj(I5j,wa.error),this.dr(B5j,void 0,f5j));A20=33;break;}}};Object.defineProperties(J.prototype,{dI:{get:function(){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:var v5j="1";v5j+=".";v5j+="0";return v5j;break;}}},enumerable:!1,configurable:!0}});J.prototype.mta=function(){};J.prototype.flush=function(){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:this.Yi.flush();K20=1;break;}}};J.prototype.paused=function(){var L20;L20=2;for(;L20 !== 1;){switch(L20){case 2:this.O.paused();L20=1;break;}}};R10=32;break;case 2:Object.defineProperties(J.prototype,{addEventListener:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{removeEventListener:{get:function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{W_b:{get:function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 4:return this.fg.Oc;break;Z10=1;break;case 2:return this.fg.Oc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{mediaSourceId:{get:function(){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 2:return this.fg?this.fg.Mqc:void 0;break;case 4:return this.fg?this.fg.Mqc:-3;break;a20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Rs:{get:function(){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return this.pc(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{Zn:{get:function(){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:return this.pc(1);break;case 4:return this.pc(7);break;c20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{attributes:{get:function(){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return this.uka;break;case 4:return this.uka;break;d20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{xh:{get:function(){var e20;e20=2;for(;e20 !== 1;){switch(e20){case 2:return this.Ji;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{x_:{get:function(){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return 0 <= this.L5?this.L5:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(J.prototype,{af:{get:function(){var g20;g20=2;for(;g20 !== 1;){switch(g20){case 2:return this.Rd[this.bN];break;}}},enumerable:!1,configurable:!0}});R10=13;break;case 59:J.prototype.P8=function(M,P){var B30,S,T,C30;B30=2;for(;B30 !== 6;){switch(B30){case 3:B30=P?9:8;break;case 9:S.rAa();B30=6;break;case 2:S=this.Fb;M=S.vra(M,P);T=this.kh.Eza;M && !M.DN && T.cra(M);B30=3;break;case 8:P=T.YQb();try{C30=2;for(;C30 !== 1;){switch(C30){case 2:this.Hb.Ayb(P);C30=1;break;case 4:this.Hb.Ayb(P);C30=3;break;C30=1;break;}}}catch(U){var k5j="]";k5j+=" ";k5j+="[";var l5j="e";l5j+="xcept";l5j+="io";l5j+="n:";l5j+=" [";this.G.error(l5j + U.message + k5j + U.Oqc + "]");}B30=6;break;}}};J.prototype.Coa=function(M,P){var D30;D30=2;for(;D30 !== 5;){switch(D30){case 2:a000.b3j(8);w.assert(a000.t3j(0,P));return this.Rd[P].fFb(M);break;}}};J.prototype.fv=function(M,P){var E30,T,S;E30=2;for(;E30 !== 7;){switch(E30){case 4:T=S.Ze;E30=3;break;case 2:void 0 === M && (M=this.x_);S=this.Ta.bPb(P,M);E30=5;break;case 5:E30=S?4:8;break;case 3:m.Ka(T) || (T=this.Rd[M].py);a000.b3j(0);return a000.W3j(P,T);break;case 8:(S=this.Ta.xra(M),0 < S.length && (S=S[0],T=S.Ze));E30=3;break;}}};J.prototype.hO=function(M,P){var F30,S,T;F30=2;for(;F30 !== 7;){switch(F30){case 2:void 0 === M && (M=this.x_);S=this.Ta.aPb(P,M);F30=5;break;case 5:F30=S?4:8;break;case 3:m.Ka(T) || (T=this.Rd[M].py);a000.V3j(7);return a000.t3j(P,T);break;case 8:(S=this.Ta.xra(M),0 < S.length && (S=S[0],T=S.Ze));F30=3;break;case 4:T=S.Ze;F30=3;break;}}};J.prototype.mN=function(){var G30,M;G30=2;for(;G30 !== 4;){switch(G30){case 1:G30=M || this.Fb.CA?5:4;break;case 2:M=this.O.Df();G30=1;break;case 5:(M && this.Hb.Ola(),this.mV(),this.O.Gd(f.wa.Dc),this.Gg.Dk());G30=4;break;}}};J.prototype.sma=function(){var H30,M,P;H30=2;for(;H30 !== 3;){switch(H30){case 2:(M=this,P=this.O.Df());this.Ta.Wc.fea(P,function(S){var I30;I30=2;for(;I30 !== 1;){switch(I30){case 2:return M.mh[S]?M.mh[S].dea():"";break;}}});this.CM && (clearTimeout(this.CM),this.CM=void 0);this.Tz.m_b();H30=3;break;}}};J.prototype.mWa=function(M){var J30,P,K30;J30=2;for(;J30 !== 7;){switch(J30){case 2:M.Ei=!0;M.ws=!1;P=this.O.Le() || 0;M.cO(P);this.Fb.Vz();J30=9;break;case 9:J30=this.jt && 1 === M.mediaType?8:7;break;case 8:try{K30=2;for(;K30 !== 1;){switch(K30){case 2:this.P8(f.wa.Cs,{Ma:M.Jc});K30=1;break;}}}catch(S){var A5j="H";A5j+="indsight: Err";A5j+="or evaluat";A5j+="ing Qo";A5j+="E at endOfStream: ";a000.b3j(7);this.Hb.Zo(a000.W3j(A5j,S));}J30=7;break;}}};J.prototype.Qzb=function(){var L30,M;L30=2;for(;L30 !== 5;){switch(L30){case 2:M=this.tc.Vb;M && (M=M.get()) && M.avtp && this.Bw.BBb({avtp:M.avtp.pa});L30=5;break;}}};J.prototype.uAb=function(){var M30,M,P,S;M30=2;for(;M30 !== 4;){switch(M30){case 2:var z5j="star";z5j+="tup, playerState no l";z5j+="onger STARTING:";var g5j="fai";g5j+="led to start a";g5j+="ud";g5j+="io pipeline";var T5j="failed to st";T5j+="art ";T5j+="video pipeline";this.O.Gd(f.wa.jh);(M=this.Ta.Wc,P=M.ce(0),S=M.ce(1));this.Zn && !this.uWa(S)?this.Ob(T5j):this.Rs && !this.uWa(P)?this.Ob(g5j):(this.HVa=!0,this.Rd[0].P.oY=!0,P=this.Fb.Zf[1],S=this.Fb.Zf[0],(P && 0 < P.lw || S && 0 < S.lw) && this.Hb.yyb(String(M.P.I),S?S.lw:0,P?P.lw:0,S?S.r_:0,P?P.r_:0),this.O.g9a()?(this.l6(0),this.Rs && (M=this.af.J9(0),P=this.af.Gr(0).trackId,this.Hb.Byb(M,P))):this.Ob(z5j,this.O.getState()));M30=4;break;}}};J.prototype.uWa=function(M){var N30,P,S;N30=2;for(;N30 !== 14;){switch(N30){case 5:var e5j="NF";e5j+="Err_MC_St";e5j+="r";e5j+="ea";e5j+="mingInitFailure";var Y5j="s";Y5j+="tartP";Y5j+="ipel";Y5j+="i";Y5j+="ne failed";return (this.ko() || this.dr(Y5j,M.Xa.P.Rb,e5j),!1);break;case 1:N30=m.oa(S)?5:4;break;case 3:N30=M.hq()?9:8;break;case 4:M=M.track.bd[S];N30=3;break;case 2:(P=M.mediaType,S=this.Fb.ATb(M));N30=1;break;case 9:return !0;break;case 8:S=this.af.P;M.P.i0a(M,{offset:0,yE:!S.Ef.df && !S.Ri && 1 === P,Wx:!this.Fb.Zf[P].zPb});return !0;break;}}};R10=72;break;case 94:J.prototype.hxb=function(M,P){var R40;R40=2;for(;R40 !== 5;){switch(R40){case 2:P=d.N5a(P);this.uka[M.mediaType]=P;R40=5;break;}}};Object.defineProperties(J.prototype,{CA:{set:function(M){var S40;S40=2;for(;S40 !== 1;){switch(S40){case 2:this.Fb.CA=M;S40=1;break;}}},enumerable:!1,configurable:!0}});return J;break;case 39:J.prototype.stop=function(){var Y20;Y20=2;for(;Y20 !== 1;){switch(Y20){case 2:this.Yi.stop();Y20=1;break;}}};J.prototype.au=function(M,P){var Z20;Z20=2;for(;Z20 !== 1;){switch(Z20){case 4:return this.jp.au(M,P);break;Z20=1;break;case 2:return this.jp.au(M,P);break;}}};J.prototype.seek=function(M,P){var a30;a30=2;for(;a30 !== 1;){switch(a30){case 4:return this.jp.seek(M,P);break;a30=1;break;case 2:return this.jp.seek(M,P);break;}}};J.prototype.op=function(M){var b30,U,W,P,S,T,e30;b30=2;for(;b30 !== 18;){switch(b30){case 12:b30=this.jt?11:10;break;case 5:U=S.Xv;this.mh.forEach(function(fa){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:U=Math.max(0,Math.min(U,fa.Tsa - M));c30=1;break;}}});this.hma+=1;W=this.Ta.Wc;h.Tf.forEach(function(fa){var d30,sa,wa,Ba,Ga;d30=2;for(;d30 !== 6;){switch(d30){case 1:d30=wa?5:6;break;case 2:wa=W.ce(fa);d30=1;break;case 5:d30=S.Si?4:9;break;case 9:S.Si && P.Hb.Fn(Ba);wa.bpa();d30=7;break;case 3:var W7j=", t";W7j+="oAppe";W7j+="nd";W7j+=": ";var t7j=", fra";t7j+="gments";t7j+=": ";var h7j=", c";h7j+="om";h7j+="plete";h7j+="StreamingPt";h7j+="s: ";var a7j=", st";a7j+="rea";a7j+="mingPts: ";var r7j=",";r7j+=" p";r7j+="artials: ";var n7j=", ";n7j+="complet";n7j+="edByt";n7j+="es: ";var y7j=",";y7j+=" ";y7j+="completed";y7j+="M";y7j+="s: ";var c7j=", m";c7j+="e";c7j+="diaT";c7j+="ype:";c7j+=" ";var u7j="un";u7j+="de";u7j+="r";u7j+="flow:";u7j+=" ";Ba=u7j + M + c7j + fa + y7j + wa.gO + n7j + Ga + r7j + wa.Sa.CF + a7j + wa.Cc + h7j + wa.wr + t7j + JSON.stringify(wa.Sa.aa) + W7j + (Ba && Ba.dea());d30=9;break;case 4:(Ba=P.mh[fa],Ga=P.Ta.nI(W,fa));d30=3;break;case 7:null === (sa=wa.Ch) || void 0 === sa?void 0:sa.g8b();d30=6;break;}}});b30=7;break;case 2:var M7j="bra";M7j+="nc";M7j+="hOffset:";var P7j="e";P7j+="ntry.mani";P7j+="festOffset:";var V7j="c";V7j+="on";V7j+="t";V7j+="entPts:";var b7j="under";b7j+="flow: g";b7j+="oing to BUF";b7j+="FERING at play";b7j+="er pts:";(P=this,S=this.J,T=this.fv(this.x_,M));this.Ob(b7j,M,V7j,T,P7j,this.af.py,M7j,this.Ta.Ze);b30=5;break;case 7:var m7j="un";m7j+="d";m7j+="erflo";m7j+="w";this.af.P.ek();this.emit(m7j);this.l6(2);this.Gg.Dk();b30=12;break;case 10:T=this.tc.Vb.get();T=T.confidence?T.Qa.pa:0;U > S.DOb && T > S.COb && this.sma();b30=18;break;case 11:try{e30=2;for(;e30 !== 1;){switch(e30){case 2:this.P8(f.wa.sd);e30=1;break;case 4:this.P8(f.wa.sd);e30=7;break;e30=1;break;}}}catch(fa){var G7j="Hindsight: Error whe";G7j+="n evaluating QoE at ";G7j+="Buffering: ";a000.b3j(7);this.Hb.Zo(a000.t3j(G7j,fa));}b30=10;break;}}};J.prototype.Rl=function(M){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 2:return this.jp.Rl(M);break;}}};J.prototype.Ys=function(M,P,S){var g30;g30=2;for(;g30 !== 1;){switch(g30){case 2:return this.jp.Ys(M,P,S);break;}}};J.prototype.eVa=function(M){var h30,P;h30=2;for(;h30 !== 3;){switch(h30){case 2:this.bN=M;P=this.Rd[M];this.Hb.Fyb(M,P);this.Hb.xVa(P.P.It);h30=3;break;}}};J.prototype.AN=function(M,P){var i30,fa,U,W,sa,wa,Ba,S,T;i30=2;for(;i30 !== 35;){switch(i30){case 21:this.Rs && m.oa(P) || this.Zn && m.oa(U) || (M.P.yK([M.Gr(0),M.Gr(1)]),this.C6());i30=35;break;case 27:var N7j=",";N7j+=" ";var C7j=") l";C7j+="astStr";C7j+="eamAppen";C7j+="ded:";C7j+=" (";var j7j=",";j7j+=" ";var q7j=" st";q7j+="rea";q7j+="mC";q7j+="ou";q7j+="nt: (";var H7j=" pl";H7j+="ayerS";H7j+="tate: ";var s7j="addManife";s7j+="st";s7j+=", currentPts: ";this.Rd[U]=M;M.oZa();P.replace || this.Ta.VBb(sa,W,fa);P=this.Fb.uy[0].GJ;U=this.Fb.uy[1].GJ;T.Si && this.Hb.Fn(s7j + this.O.Le() + H7j + this.O.getState() + q7j + M.Gr(0).bd.length + j7j + M.Gr(1).bd.length + C7j + P + N7j + U + ")");i30=21;break;case 7:var p7j="addManifest in fas";p7j+="tplay but not drm manifes";p7j+="t, leaving space for i";p7j+="t";P.q_ && (this.W5=!0);U=this.Rd.length;P.replace && 1 !== U?U=1:this.af.P.Ef.df && !P.replace && 1 === U && (this.Ob(p7j),U=this.Rd[0].clone(),this.Rd.push(U),U=this.Rd.length);i30=13;break;case 9:i30=!P.moc && (this.Rs && U.ws || this.Zn && W.ws)?8:7;break;case 8:var d7j="addManifest ignored,";d7j+=" pipelines already set EO";d7j+="S:";this.Ob(d7j,U.ws,W.ws);i30=35;break;case 1:i30=this.ko()?5:4;break;case 13:W=P.ba || 0;fa=P.Ma;M=l.lia.create({Rb:U,ja:M,xq:void 0,Tgb:P.cS || [this.af.J9(0),this.af.J9(1)],df:!1,S8a:! !P.replace,Ri:! !P.Ri,Dd:h.sba(! !P.KV,! !P.mG),ba:W,Ma:fa,Hb:this.Hb,st:this.DUa.bind(this),cc:this,config:this.J,G:this.G,Gg:this.Gg,jp:this.jp,Xf:this.LWa?this.tc.Xf:void 0,WE:this.WE});i30=10;break;case 4:P || (P={});(U=this.Ta.Wc.ce(0),W=this.Ta.Wc.ce(1));i30=9;break;case 18:var X7j="bo";X7j+="ol";X7j+="ean";P.replace && wa.forEach(function(Ga,N){var j30,Q,V;j30=2;for(;j30 !== 3;){switch(j30){case 1:j30=Q?5:3;break;case 2:Q=sa.NE(N);j30=1;break;case 7:j30=Q?8:4;break;j30=Q?5:3;break;case 5:V=S.Rd[0].P;Object.keys(Q).forEach(function(ba){var k30,qa;k30=2;for(;k30 !== 5;){switch(k30){case 2:qa=V.cy(N,ba);qa && qa.Vd && (Q[ba].R7(qa),ba=sa.It,ba[N] > Ba[N] && (Ba[N]=ba[N]));k30=5;break;}}});j30=3;break;}}});wa.forEach(function(Ga,N){var l30,Q;l30=2;for(;l30 !== 5;){switch(l30){case 2:Q=sa.NE(N);Q && Object.keys(Q).forEach(function(V){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 2:Q[V].Qkb(t.default.jq()[N],sa.jy()?T.oab:0);m30=1;break;}}});l30=5;break;}}});M.EV=X7j === typeof P.IDb?P.IDb:!0;this.Rd[U] && this.Rd[U].Zc();i30=27;break;case 10:var K7j="v";K7j+="ideo_trac";K7j+="ks";var F7j="audio";F7j+="_tra";F7j+="cks";sa=M.P;(P.dEb || this.DTa) && this.Fb.gs(P.dEb || this.DTa,sa.L);(wa=[F7j,K7j],Ba=this.K5a());i30=18;break;case 2:(S=this,T=this.J);i30=1;break;case 5:var O7j="addManifest: p";O7j+="ip";O7j+="eli";O7j+="ne";O7j+="s already shutdown";this.Ob(O7j);i30=35;break;}}};J.prototype.tV=function(M){var n30;n30=2;for(;n30 !== 1;){switch(n30){case 2:return this.jp.tV(M);break;}}};J.prototype.cB=function(M){var o30,P,S,T,U,W;o30=2;for(;o30 !== 7;){switch(o30){case 1:o30=!this.ko()?5:7;break;case 9:var E7j="drmR";E7j+="e";E7j+="ad";E7j+="y";a000.V3j(7);this.O.zR(a000.W3j(M,""),P);P && (this.mh.forEach(function(fa){var p30;p30=2;for(;p30 !== 5;){switch(p30){case 2:T.k9 && fa.L3a();fa.cB();p30=5;break;}}}),T.Bfa && this.bV(),this.af.P.Ef.df && this.B6(this.jp.ED?this.jp.ED.Rb:this.bN + 1),T.Ps || (null === (S=this.di) || void 0 === S?0:S.TE()) || this.Rz.Fx || this.lV(E7j),this.jp.ela());o30=7;break;case 2:T=this.J;o30=1;break;case 5:var D7j=" ";D7j+="rea";D7j+="dyState: ";var S7j=" f";S7j+="or mov";S7j+="ie";S7j+="Id: ";var i7j=",";i7j+=" ";var x7j="dr";x7j+="mReady";x7j+=" at s";x7j+="treamin";x7j+="g pts: ";m.oa(P) && (P=!0);(U=this.Ta.Wc.ce(0),W=this.Ta.Wc.ce(1));T.Si && this.Hb.Fn(x7j + (U?U.Cc:null) + i7j + (W?W.Cc:null) + S7j + M + D7j + P);o30=9;break;}}};R10=48;break;case 32:J.prototype.Qya=function(){};J.prototype.close=function(){var M20;M20=2;for(;M20 !== 4;){switch(M20){case 2:this.ihb.lb();this.Rd.forEach(function(M){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 4:M.close();N20=8;break;N20=1;break;case 2:M.close();N20=1;break;}}});this.Yi.close();M20=4;break;}}};J.prototype.Hfb=function(){var O20;O20=2;for(;O20 !== 1;){switch(O20){case 2:this.tc.Mzb(this);O20=1;break;}}};J.prototype.Zc=function(){var P20,M;P20=2;for(;P20 !== 20;){switch(P20){case 2:this.kh.r2b();this.Z4();P20=4;break;case 4:this.Ta.lb();P20=3;break;case 7:this.O.Gd(f.wa.Kj);this.Rd.forEach(function(P){var R20;R20=2;for(;R20 !== 1;){switch(R20){case 4:P.Zc();R20=2;break;R20=1;break;case 2:P.Zc();R20=1;break;}}});this.Rd=[];this.Ji.clear();M=this.fg;P20=11;break;case 3:this.QW.swb();null === (M=this.Tz) || void 0 === M?void 0:M.reset();this.yx.forEach(function(P){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:P.reset();Q20=1;break;}}});P20=7;break;case 11:var o7j="Error on MediaSo";o7j+="ur";o7j+="ce destroy: ";this.fg=void 0;m.oa(M) || M.zr() || this.Ob(o7j,M.error);P20=20;break;}}};J.prototype.suspend=function(){var S20;S20=2;for(;S20 !== 1;){switch(S20){case 2:this.Yi.suspend();S20=1;break;}}};J.prototype.resume=function(){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:this.Yi.resume();T20=1;break;case 4:this.Yi.resume();T20=2;break;T20=1;break;}}};J.prototype.ko=function(){var U20;U20=2;for(;U20 !== 1;){switch(U20){case 4:return this.Yi.ko();break;U20=1;break;case 2:return this.Yi.ko();break;}}};J.prototype.pAb=function(){var V20,M;V20=2;for(;V20 !== 8;){switch(V20){case 2:M=this.J;this.PD && clearTimeout(this.PD);this.PD=setTimeout(this.mV.bind(this),M.lfa);V20=4;break;case 4:this.Sz || (this.Sz=setInterval(this.Hb.vVa.bind(this.Hb),M.QN));this.s6 || (this.s6=setInterval(this.Hb.Ryb.bind(this.Hb),M.wCa));this.Wt && !this.V4 && (this.V4=setInterval(this.Hb.uVa.bind(this.Hb),M.d7));V20=8;break;}}};J.prototype.Z4=function(){var W20;W20=2;for(;W20 !== 7;){switch(W20){case 1:this.Sz && (clearInterval(this.Sz),this.Sz=void 0);W20=5;break;case 5:this.s6 && (clearInterval(this.s6),this.s6=void 0);this.V4 && (clearInterval(this.V4),this.V4=void 0);this.CM && (clearTimeout(this.CM),this.CM=void 0);this.Wka && (clearTimeout(this.Wka),this.Wka=void 0);this.Gg.Z4();W20=7;break;case 2:this.PD && (clearTimeout(this.PD),this.PD=void 0);W20=1;break;}}};J.prototype.play=function(){var X20;X20=2;for(;X20 !== 1;){switch(X20){case 2:this.Yi.play();X20=1;break;case 4:this.Yi.play();X20=8;break;X20=1;break;}}};R10=39;break;case 87:J.prototype.pma=function(M,P){var s40,S,T,U;s40=2;for(;s40 !== 9;){switch(s40){case 2:S=this.Ta.Wc;s40=1;break;case 1:s40=S.$a(M)?5:9;break;case 6:s40=S.$a(M)?8:4;break;s40=S.$a(M)?5:9;break;case 5:var w7j="p";w7j+="tsch";w7j+="anged";(T=this.Fb.Zf[M],U=this.Fb.AC[M]);m.oa(T.Sp) && (T.Sp=P,1 === M && this.Rs && (M=this.Fb.Zf[0],m.oa(M.Sp) && (S=S.$a(0),S.SK(P)),this.emit(w7j,P)));m.oa(U.bW) && (U.bW=P);s40=9;break;}}};J.prototype.W6a=function(M){var t40;t40=2;for(;t40 !== 1;){switch(t40){case 2:this.di && (this.di.k_b(M),this.HZa());t40=1;break;}}};J.prototype.r$=function(M){var u40;u40=2;for(;u40 !== 1;){switch(u40){case 2:this.di && (this.di.j_b(M),this.HZa());u40=1;break;}}};J.prototype.HZa=function(){var v40,M;v40=2;for(;v40 !== 4;){switch(v40){case 2:v40=this.di?1:4;break;case 9:v40=this.di?2:6;break;v40=this.di?1:4;break;case 1:var Z7j="allCo";Z7j+="mplet";Z7j+="ed";M=this.J;this.di.TE() || (this.di=void 0,M.Ps || this.Rz.Fx || this.lV(Z7j));v40=4;break;}}};J.prototype.mV=function(){var w40,M,P,S,T,U,W,fa,sa;w40=2;for(;w40 !== 7;){switch(w40){case 9:this.PD && clearTimeout(this.PD);this.PD=setTimeout(this.mV.bind(this),sa);w40=7;break;case 2:(M=this,P=this.J,S=this.x_,T=this.Rd[S],U=this.Ta.Wc,W=this.O.Le() || 0,fa=this.fv(S,W),sa=P.lfa);this.tc.Xf && void 0 !== T.ZJ && T.ZJ - W <= P.abb && this.tc.Xf.mr(!0,this.Qm.sessionId);this.O.getState() === f.wa.Dc && ([1,0].forEach(function(wa){var x40,Ba,Ga,N,Q,V,ba,qa;x40=2;for(;x40 !== 35;){switch(x40){case 17:fa=M.fv(ba,W);x40=15;break;case 21:var J7j="Unable to find request presenting at pla";J7j+="yerP";J7j+="ts";J7j+=":";Ba.Ob(J7j,W);x40=23;break;case 15:Q.DYb=N.tw;V=N.Pa;V != Q.Rva && (Q.Rva=V,wa=M.Rd[ba].P.cy(wa,V),ba=M.fv(ba,N.rd),M.Hb.Nyb(wa,N.rd,ba,wa.P.Rb));x40=25;break;case 1:Ba=U.$a(wa);x40=5;break;case 2:x40=M.pc(wa)?1:35;break;case 16:M.aN && N.tw != Q.DYb && M.Hb.Syb(N.tw);x40=15;break;case 23:M.Fzb(Ga,W);M.Ta.r6b();x40=35;break;case 24:m.oa(N) || N == Ba.Kdb || (Ba.Kdb=N);x40=23;break;case 25:N=N.bitrate;x40=24;break;case 4:Ga=Ba.Sa;Ba.cO(W);(N=M.Ta.xv(W,U,wa)) && !N.Ye && (N=M.mh[wa].tYb);x40=7;break;case 11:x40=!M.Zn || 1 === wa?10:15;break;case 6:Ga=N.ef - W;Ga < sa && (sa=Ga);(Q=M.Fb.uy[wa],V=N.P,ba=V.Rb);Ga=N.Sa;x40=11;break;case 10:x40=(M.Ta.E1b(N,N.tw),ba > M.L5)?20:16;break;case 7:x40=N?6:21;break;case 5:x40=Ba?4:35;break;case 20:M.L5=ba;qa=0 < ba?ba - 1:null;M.Hb.Dyb(V,W,N.tw,null !== qa?M.Rd[qa].P.I:null,qa);x40=17;break;}}}),this.Ta.Jw(W,fa));this.Gg.Dk();sa=Math.max(sa,1);w40=9;break;}}};J.prototype.f5=function(M){var y40;y40=2;for(;y40 !== 1;){switch(y40){case 2:return this.Gg.f5(M);break;}}};J.prototype.Dk=function(){var z40;z40=2;for(;z40 !== 1;){switch(z40){case 4:return this.Gg.Dk();break;z40=1;break;case 2:return this.Gg.Dk();break;}}};J.prototype.XH=function(M,P){var A40,T,S;A40=2;for(;A40 !== 13;){switch(A40){case 1:A40=S?5:14;break;case 5:T=M.mediaType;M.abort();M.Zc();M.Ji && M.Ji.clear();A40=8;break;case 8:S.V_(M);this.mh[T].V_(M);!0 === P && this.Gg.Dk();A40=13;break;case 2:S=M.Sa;A40=1;break;case 14:var R7j="abortRequ";R7j+="est wit";R7j+="h ";R7j+="no requestMana";R7j+="gaer:";this.Ob(R7j,M);A40=13;break;}}};J.prototype.sAb=function(M){var B40,P,S;B40=2;for(;B40 !== 5;){switch(B40){case 2:var L7j="n";L7j+="o newAud";L7j+="ioTrack set";(P=M.mediaType,S=this.Fb.Zf[P]);m.oa(S.Sba)?M.Ob(L7j):(this.mh[P].pause(),S.sS=!0,M=this.af.Gr(0),S=this.af.P.getTrackById(S.Sba.trackId),this.Hb.syb(M,S));B40=5;break;}}};J.prototype.zzb=function(M){var C40,P,S,T,U,W,fa,sa,wa;C40=2;for(;C40 !== 27;){switch(C40){case 18:this.a6b(S,sa,wa);C40=17;break;case 8:var U7j="au";U7j+="di";U7j+="oSwitch";(this.di.U7b(function(Ba){var D40;D40=2;for(;D40 !== 5;){switch(D40){case 3:D40=5 == Ba.mediaType?0:6;break;D40=0 === Ba.mediaType?1:5;break;case 2:D40=0 === Ba.mediaType?1:5;break;case 1:return (P.XH(Ba,!1),!0);break;}}}),this.di.TE() || (this.di=void 0,T.Ps || this.Rz.Fx || this.lV(U7j)));C40=7;break;case 2:(P=this,T=this.J);M=M.Xa;U=this.Fb.Zf[0];this.Fb.CA=U.Sba;(W=this.af,fa=W.P.getTrackById(this.Fb.CA.trackId),sa=fa.jG,wa=this.O.Le() - M.Ze);C40=9;break;case 7:S=this.tc.y9(W.P.ja,[sa],0);this.uka[0]=S[0];this.QW.YVa(0,M.P);U.Sba=void 0;this.kh.Ty(null);this.lma(0,F.ST.R3a,M);this.Ta.qhb(M,!0);C40=20;break;case 20:S=this.bN;C40=19;break;case 16:M.sfb(fa,wa);this.YK(0);C40=27;break;case 9:C40=(null === (S=this.di) || void 0 === S?0:S.TE())?8:7;break;case 17:++S;C40=19;break;case 19:C40=S < this.Rd.length?18:16;break;}}};R10=104;break;case 48:J.prototype.A$=function(){var q30;q30=2;for(;q30 !== 1;){switch(q30){case 4:return this.O.Uo(this.af.P);break;q30=1;break;case 2:return this.O.Uo(this.af.P);break;}}};J.prototype.JTa=function(M){var r30,P,S,T;r30=2;for(;r30 !== 11;){switch(r30){case 8:r30=!(M === this.bN + 1 && S.Ef.replace || P && T) || !this.O.Uo(S)?7:6;break;case 2:r30=M >= this.Rd.length?1:5;break;case 1:return !1;break;case 6:M=S.Rh[0];P=S.Rh[1];P=!this.Zn || P && P.stream.Vd;r30=12;break;case 5:(P=this.Ta.Wc.ce(0),S=this.Ta.Wc.ce(1));P=!P || P.Ei;T=!S || S.Ei;S=this.Rd[M].P;r30=8;break;case 7:return !1;break;case 12:return (!this.Rs || M && M.stream.Vd) && P?!0:!1;break;}}};J.prototype.C6=function(){var s30;s30=2;for(;s30 !== 1;){switch(s30){case 2:this.B6(this.bN + 1);s30=1;break;}}};J.prototype.B6=function(M){var t30,P;t30=2;for(;t30 !== 6;){switch(t30){case 2:t30=!this.JTa(M)?1:5;break;case 1:return !1;break;case 5:P=this.Rd[M];t30=4;break;case 4:t30=P.AOb || !P.P.Ef.replace?3:9;break;case 3:return !1;break;case 9:this.AAb(M);this.Gg.Dk();return !0;break;}}};J.prototype.AAb=function(M){var u30,fa,P,S,T,U,W;u30=2;for(;u30 !== 20;){switch(u30){case 7:fa=[];[1,0].forEach(function(sa){var v30;v30=2;for(;v30 !== 1;){switch(v30){case 2:P.P.pc(sa) && (fa[sa]=P.Gr(sa));v30=1;break;}}});U?this.Ta.X7b(S.P,P.P,fa):T.Qhb(P.P,fa);this.eVa(M);P.Hxa();this.jp.ela();this.Gg.Dk();u30=20;break;case 2:var B7j=",";B7j+=" ";var I7j=", stre";I7j+="amingPts:";I7j+=" ";var Q7j="swi";Q7j+="tchManifest ";Q7j+="manifest";Q7j+="Index";Q7j+=": ";(P=this.Rd[M],S=this.J,T=this.Ta.Wc,U=T.$a(0));U=U?U.Cc:void 0;W=T.$a(1);W=W?W.Cc:void 0;S.Si && this.Hb.Fn(Q7j + M + I7j + U + B7j + W);S=this.af;U=S.P.Ef.df;u30=7;break;}}};J.prototype.vcb=function(){var w30,M,P,S,T;w30=2;for(;w30 !== 6;){switch(w30){case 1:w30=P?5:7;break;case 2:(M=this.Ta.Wc,P=M.$a(0));w30=1;break;case 5:(S=this.O.Le(),T=this.Fb.Zf[P.mediaType]);w30=4;break;case 4:var f7j="onAudioTrackSwitchStar";f7j+="ted but current playing r";f7j+="equ";f7j+="e";f7j+="st not found";(M=this.Ta.xv(S,M,0))?P=M.Sa:(this.Ob(f7j),P=P.Sa);this.zzb(P);T.sS=!1;w30=8;break;case 8:this.Gg.Dk();w30=6;break;case 7:var v7j="onAudio";v7j+="TrackSwitchStarted";v7j+=" ignored, n";v7j+="o audio pipeline";this.Ob(v7j);w30=6;break;}}};J.prototype.Mea=function(M){var x30,U,S,T,P,W;x30=2;for(;x30 !== 35;){switch(x30){case 25:var k7j=" t";k7j+="o";k7j+=":";k7j+=" ";var l7j="switchTrac";l7j+="ks cur";l7j+="ren";l7j+="t: ";P.Si && this.Hb.Fn(l7j + W + k7j + U.trackId);S.Sba={trackId:M};P=T.$a(0);x30=22;break;case 11:U=this.Ta.Jx(T,1);x30=10;break;case 17:x30=!U?16:15;break;case 12:x30=this.O.getState() === f.wa.Dc?11:19;break;case 14:var A7j="switchTracks rejecte";A7j+="d, p";A7j+="revious switch still waiting";A7j+=" to ";A7j+="start";return (this.Ob(A7j),!1);break;case 16:var T7j="sw";T7j+="itchTracks can";T7j+="'t fin";T7j+="d tr";T7j+="ackId:";return (this.Ob(T7j,M),!1);break;case 7:S=this.Fb.Zf[0];x30=6;break;case 13:T=this.Ta.Wc;x30=12;break;case 8:var g7j="switc";g7j+="hTracks";g7j+=" reject";g7j+="ed, buffering";return (this.Ob(g7j),!1);break;case 5:var z7j="switchTracks rejected";z7j+=",";z7j+=" audio ";z7j+="disabled";return (this.Ob(z7j),!1);break;case 4:x30=this.Fb.CA?3:9;break;case 27:x30=W === U.trackId?26:25;break;case 19:M=M.vo;U=this.af.P.getTrackById(M);x30=17;break;case 2:P=this.J;x30=1;break;case 1:x30=!this.Rs?5:4;break;case 6:x30=S.sS?14:13;break;case 3:var Y7j="switchTrack";Y7j+="s rejected, previous";Y7j+=" switch still in progress: ";return (this.Ob(Y7j + JSON.stringify(this.Fb.CA)),!1);break;case 10:x30=U < P.zba?20:19;break;case 15:W=this.af.Gr(0).trackId;x30=27;break;case 9:x30=this.O.Df()?8:7;break;case 20:var e7j="switchTracks rejec";e7j+="ted";e7j+=", bufferLevelM";e7j+="s";return (this.Ob(e7j,U,"<",P.zba),!1);break;case 26:return !1;break;case 22:this.sAb(P);return !0;break;}}};J.prototype.gs=function(M,P){var y30;y30=2;for(;y30 !== 1;){switch(y30){case 4:this.Fb.gs(M,P);y30=2;break;y30=1;break;case 2:this.Fb.gs(M,P);y30=1;break;}}};J.prototype.xv=function(M,P,S){var z30;z30=2;for(;z30 !== 1;){switch(z30){case 2:return this.Ta.xv(M,this.Ta.wi,P,S);break;}}};J.prototype.Wg=function(M){var A30;A30=2;for(;A30 !== 1;){switch(A30){case 2:return this.jp.Wg(M);break;}}};R10=59;break;}}function J(M,P,S,T,U,W,fa,sa,wa,Ba,Ga){var S10,V,ba,N,Q,La;S10=2;for(;S10 !== 74;){switch(S10){case 48:Ba.aX && (U=this.tc.Bw.MD);x.nz.instance().reset();P=l.lia.create({Rb:0,ja:P,xq:S,Tgb:T,df:! !W.df,S8a:!1,Ri:! !W.Ri,Dd:h.sba(! !W.KV,! !W.mG),ba:0,Ma:W.Ma,Hb:this.Hb,st:this.DUa.bind(this),cc:this,config:this.J,G:this.G,Gg:this.Gg,jp:this.jp,Xf:this.LWa?this.tc.Xf:void 0,WE:this.WE});P.EV=!0;this.Rd=[P];this.kh=new H.GEa(this,this.G,M,this.tc.Vb,Ba,this.bQ(),U,this.pc.bind(this),ba);S10=63;break;case 11:var u4j="bra";u4j+="nch";u4j+="i";u4j+="n";u4j+="g";(V=!(!P || !P.choiceMap || u4j !== P.choiceMap.type),ba=V?{YW:!1,jt:!1}:q.t5a(Ba));this.YW=ba.YW;this.jt=ba.jt;S10=19;break;case 19:this.Qy=Ba.Qy;this.Yi=new R.hLa(this,this.G,this.pc.bind(this),ba);this.zAb=[!W.mG,!W.KV];this.pc(0) && this.pc(1);S10=15;break;case 37:var c4j="m";c4j+="ediac";c4j+="ac";c4j+="h";c4j+="e";this.Ji.on(this.tc.Xf,c4j,function(Oa){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 4:u.eb(N,"",Oa);U10=9;break;U10=1;break;case 2:var y4j="m";y4j+="ediaca";y4j+="che";u.eb(N,y4j,Oa);U10=1;break;}}});S10=36;break;case 59:qa=P.P;this.Ta=new E.wga(this,this.Hb,this.G,this.sma.bind(this),qa,this.ND,this.J,this.Gg,this.O,this.AX.bind(this));Ba={Vaa:this.Vaa,Wt:this.Wt,Zn:this.Zn,q_:this.q_};this.Fb=new L.JRa(this.G,this.kh,this.J,this.pc.bind(this),this.O,Ba,this.tc.Vb,this.Hb,this.Gg,this.Ta,ba);S10=55;break;case 15:this.tc=M;this.Qm=fa;this.J=Ba=this.R_a.yvb(P,Ba);S10=25;break;case 31:this.r6=!1;this.AU=void 0;this.L5=-1;this.hma=0;this.Ji=new c.Gf();this.jp=new K.gRa(this,this.G,this.pc.bind(this),Q);this.Gg=new I.EHa(this,this.G,this.pc.bind(this));S10=41;break;case 62:Ba=Ba.nVb;for(var qa in Ba){S=Ba[qa];Ba.hasOwnProperty(qa) && S && (this.J[qa]=S);}S10=60;break;case 76:this.O.addListener(function(Oa){var V10,W10;V10=2;for(;V10 !== 1;){switch(V10){case 2:try{W10=2;for(;W10 !== 1;){switch(W10){case 2:La.Fb.aec.bind(La.Fb)(Oa);W10=1;break;}}}catch(Ta){var n4j="Hindsigh";n4j+="t: Er";n4j+="ror when adding u";n4j+="pdatePlaySegment Listener: ";a000.b3j(7);La.Hb.Zo(a000.t3j(n4j,Ta));}V10=1;break;}}});S10=75;break;case 41:this.QW=new z.DHa(this,this.G,Q);S10=40;break;case 2:N=this;this.Rz=new B.s4();this.DTa=[];S10=4;break;case 40:S10=Ba.Si && this.tc.Xf?39:38;break;case 38:S10=(Ba.KDa || Ba.JDa) && this.tc.Xf?37:36;break;case 4:var h4j="medi";h4j+="a|";h4j+="as";h4j+="ejs";var a4j="A";a4j+="S";a4j+="E";a4j+="JS";var r4j="1SIYb";r4j+="Z";r4j+="rNJ";r4j+="C";r4j+="p9";this.WE={ux:[Object.create(null),Object.create(null)]};r4j;this.G=new t.default.Console(a4j,h4j,"(" + fa.sessionId + ")");S10=8;break;case 22:this.aN=W.Vaa;this.c6=void 0;this.O=new A.VEa(wa);this.ND=U || 0;S10=33;break;case 39:var t4j="mana";t4j+="g";t4j+="er";t4j+="deb";t4j+="ugevent";this.Ji.on(this.tc.Xf,t4j,function(Oa){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:u.eb(N,Oa.type,Oa);T10=1;break;}}});S10=38;break;case 63:S10=Ba.Qqa && this.kh.naa?62:59;break;case 60:this.kh.tDa(this.J);S10=59;break;case 36:V && Ba.HO && !Ba.ZMb && (Ba.set?Ba.set({enableAdaptiveParallelStreaming:!1}):Ba.HO=!1);0 === Math.floor(1E6 * Math.random()) % Ba.HN && (this.Uzb=new p.EQa(Ba));this.yx=[];this.mh=[];this.ihb=new g.Vha(P,this.tc.Vb,this.tc.mi,this.J,void 0);M=this.ihb.LTb();U=null;S10=48;break;case 33:this.bN=0;this.uka=sa;S10=31;break;case 55:S10=this.jt?77:75;break;case 25:this.W5=W.q_;this.LWa=! !W.tlb;this.QAb=! !W.GDa;S10=22;break;case 8:this.ml=this.G.error.bind(this.G);this.Ob=this.G.warn.bind(this.G);this.Nj=this.G.trace.bind(this.G);Q=new O.kNa(this,this.G);this.Hb=Q;this.R_a=new y.LGa(this.G);S10=11;break;case 77:La=this;S10=76;break;case 75:Ga && this.Fb.gs(Ga,qa.L);S10=74;break;}}}})();b.rRa=a;r.Re(c.EventEmitter,a);},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lia=void 0;c=a(11);m=a(7);k=a(248);r=(function(){function l(d,f,h,g,n,p,q,t,v,u,w,x){void 0 === h && (h=0);this.we=d;this.h6=f;this.ba=h;this.Ma=g;this.A9=n;this.Oh=p;this.jP=q;this.config=t;this.G=v;this.Hb=u;this.AOb=w;this.xh=x;this.py=0;}l.create=function(d){var h,g,n,p,q,t,v,u,w,x,y,z,A,B,C;function f(D){m.eb(u,D.type,D);}h=d.Rb;g=d.ja;n=d.Tgb;p=d.ba;q=d.Ma;t=d.st;v=d.Hb;u=d.cc;w=d.config;x=d.G;y=d.Gg;z=d.jp;A=d.Xf;B=d.WE;C=new k.kga(Number(g.movieId),{Rb:h,ja:g,xq:d.xq,Hab:{ava:d.df,d9a:! !d.S8a},Ri:d.Ri,Dd:d.Dd,config:w,t7a:{xm:y.Dk.bind(y),Xf:A,WE:B,$o:f,haa:function(D){return D === u.Ta.Wc.P;},bY:function(D,F,G,E,H){D=u.Fb.Zf[D];return !F || G || E || H?u.AU:D.Qf;},LE:function(D){return u.Fb.uy[D];},Oh:u.Oh.bind(u)},LZ:function(D){u.emit("requestComplete",{type:"requestComplete",timestamp:D.Nf,mediaRequest:D});},x9:function(){return u.kh;},Vb:u.tc.Vb,mi:u.tc.mi,P2a:{st:t,Pf:function(D,F,G,E,H,L){void 0 === L && (L=!1);return !L || u.O.Df()?(u.dr(D,h,F,G,E,H,L),!0):!1;},Vo:function(){return u.r6;},$o:f},lR:void 0,YF:{U:u.tc.wC,ca:u.tc.XF}});w.eB && C.TF({fp:u.Qm.fp,da:u.Qm.da,wE:u.Qm.wE,Zo:v.Zo.bind(v)});d=new c.Gf();d.addListener(C.Nv,"onHeaderFragments",function(D){var F,G,E,H,L;F=D.mediaType;G=D.Pa;E=D.stream.aa;H=u.Oh(h);if(H){if(C.Rh[F] && D !== C.Rh[F])D.Wx && (H=C.Rh[F],D=D.stream,L=H && H.stream,x.warn("first header received for non-current track (trackId " + D.trackId + "streamId " + D.Pa + "), expected track " + (L && L.trackId) + ", stream " + (L && L.Pa) + ", " + H));else {C.Rh[F]=D;D=u.Ta.Wc;if(0 === h){L=C.pc(1)?D.$a(1).Cc:D.$a(0).Cc;D.C7(L,C);}H.J_=!1;H.A7();u.C6();}z.ela();v.Jyb(h,F,G,C.I,E);y.Dk();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(C.Nv,"onHeaderRequestComplete",function(D){var F,G;D.em?u.C6():D.yE && (x.warn("drm header header:",D.toString(),"but no headers seen, marking pipeline drmReady"),u.cB(D.I));F=D.mediaType;G=Object.getOwnPropertyNames(B.ux[F]);u.mh[F].ccb(D.stream,1 === G.length && G[0] === D.Pa);y.$Ta();u.m8b();});d.addListener(C.Nv,"onHeaderFromCache",function(D){var F;F=D.header;D=D.APb;F.em && u.C6();D && v.zyb(F.I,F.Pa);});return new l(C,n,p,q,function(){return u.Ta;},u.Oh.bind(u),u.jP.bind(u),w,x,v,!1,d);};Object.defineProperties(l.prototype,{P:{get:function(){return this.we;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Rb:{get:function(){return this.P.Rb;},enumerable:!1,configurable:!0}});l.prototype.Gr=function(d){return this.we.YTb(d,this.J9(d));};l.prototype.J9=function(d){return this.h6[d];};l.prototype.close=function(){this.xh.clear();this.P.close();};l.prototype.Zc=function(){this.we.Zc();delete this.we;};l.prototype.clone=function(){return new l(this.P,this.h6,this.ba,this.Ma,this.A9,this.Oh,this.jP,this.config,this.G,this.Hb,!0,this.xh);};l.prototype.sDa=function(d){this.G.trace("updateAudioTrack:",this.h6[0],"->",d);this.h6[0]=d;};l.prototype.z5a=function(){return void 0 !== this.ZJ?this.ZJ:this.Ma?this.Ma:this.we.duration;};l.prototype.fFb=function(d){var f,h;f=this.we.Rh[1];if(f && f.stream.Vd){if(this.kB && this.kB[1] && this.kB[1].ba <= d && this.kB[1].Ma > d)return this.kB[1].rd;f=f.stream.aa;d=f.Jo(d,void 0,!0);h=void 0;void 0 === h && (h=f.lk(d));return h;}};l.prototype.A7=function(){var d,f;if(!this.J_ && this.h7a()){this.Hxa();d=[0,0];if(0 !== this.Rb && !this.we.Ef.rZ && !this.we.Ef.replace){f=this.Oh(this.Rb - 1);f=this.we.I === f.we.I;d=this.A9().Wc;f=d.C7(this.ba,this.P,d,f);d=f.XQ;}this.ba=d[1];this.XQ=d;this.kB=f && f.kB;this.oZa();f=this.we.pc(1)?this.we.Rh[1].stream.aa.Ma:this.we.Rh[0].stream.aa.Ma;this.Hb.Eyb(this.Rb,this.py,this.ba,this.ZJ,f);this.J_=!0;for(f=this.Rb + 1;f < this.jP();++f){d=this.Oh(f);d.J_=!1;d.A7();}}};l.prototype.oZa=function(){var d;if(0 === this.Rb || this.we.Ef.replace)this.py=0;else {d=this.Oh(this.Rb - 1);this.py=d.py + d.z5a() - this.ba;}};l.prototype.Hxa=function(){var d,f,h,g,n,p,q,t;if(this.h7a()){n=this.A9().Wc;p=this.Ma || Infinity;q=this.we.pc(1);t=n.lX(p,this.P);this.ZJ=q?t[1].Ma:t[0].Ma;n=q?this.we.Rh[1].stream.aa.Ma:this.we.Rh[0].stream.aa.Ma;q=Math.min(null !== (f=null === (d=t[1]) || void 0 === d?void 0:d.Ma) && void 0 !== f?f:Infinity,null !== (g=null === (h=t[0]) || void 0 === h?void 0:h.Ma) && void 0 !== g?g:Infinity);this.Hb.Gyb(this.Rb,this.ZJ,n,q);d=this.A9().xra(this.Rb);0 < d.length && d.forEach(function(v){v.Vdc(t,p);});}};l.prototype.h7a=function(){var d,f,h,g;d=this.we.pc(0);f=this.we.pc(1);h=this.we.Rh[0];g=this.we.Rh[1];h=h && h.stream.Vd;g=g && g.stream.Vd;return (!d || h) && (!f || g);};return l;})();b.lia=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.uRa=void 0;r=a(0);c=a(7);a=r.__importDefault(a(4));m=a.default.zs;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function k(l,d,f){this.Zo=f;this.ZAb=new c.oka(l);this.da=d.da;this.Lvb=1E3 * d.N_b / d.sEb;this.hMb=d.wE;this.ZXa=!1;}k.prototype.hv=function(l){var d,f;d={s_xid:this.da,dl:this.hMb?1:0};l.bE && (d.bs=c.G7(Math.floor(l.bE / this.Lvb) + 1,1,5));l.Wba && (d.limit_rate=l.Wba);l.MYa && (d.bb_reason=l.MYa);l.Yjb && (d.tm=l.Yjb);if(l.sW){f=l.sW.qaa();if(f || !f && this.ZXa)(d.cpr_ss=l.sW.xC,d.cpr_ca=l.sW.RA,d.cpr_rec=l.sW.lC,this.ZXa=f);}l.aoa && (d.br="" + l.aoa.start + "+" + l.aoa.size);return this.Vyb(d);};k.prototype.fBa=function(l,d){var f,h;try{f=new m(void 0,"notification");h=this.hv({MYa:l});d && h && f.open(d,void 0,2,void 0,void 0,void 0,h);}catch(g){this.Zo("SideChannel: Error when sending sendBlackBoxNotification. Error: " + g);}};k.prototype.Vyb=function(l){var d;try{d=this.kAb(l);return this.ZAb.encrypt(d);}catch(f){this.Zo("SideChannel: Error when obfuscating msg. Error: " + f);}};k.prototype.kAb=function(l){return Object.keys(l).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(l[d]));}).join("&");};return k;})();b.uRa=a;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QRa=b.Gub=void 0;c=a(0);a(61);m=a(2);r=c.__importDefault(a(4));k=a(402);a=a(400);l=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}f=(function(h){function g(n,p){p=h.call(this,n.Fq,p) || this;p.SH=n;return p;}c.__extends(g,h);Object.defineProperties(g.prototype,{ca:{get:function(){return this.SH.jib(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{offset:{get:function(){return this.SH.ri(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{txa:{get:function(){return this.SH.rQ && this.SH.rQ[this.ue];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Hk:{get:function(){return this.SH.BQb(this.ue);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kb:{get:function(){return this.SH.hz && this.SH.hz[this.ue];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Zna:{get:function(){return 8 * this.ca / (1E3 * this.qv / this.X);},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Va,contentEndTicks:this.hb,durationTicks:this.qv,timescale:this.X,startPts:this.ba,endPts:this.Ma,duration:this.duration,additionalSAPs:this.Hk};};return g;})(a.rSa);b.Gub=f;r=(function(){function h(g,n,p,q,t,v,u){this.fN=128;this.Uc=n;this.Nb=p.offset;this.oo=p.sizes;this.p6=g;this.EM=this.kU=this.Li=this.gr=this.tma=void 0;this.gyb=q;this.tka=t && t.ri;this.Fma=v;this.Hf=Math.min(this.Uc.length,this.oo.length);g=this.WEb();this.Txb=g.maxBitrate;this.Uxb=g.Xo;this.Fq.Gs.length !== this.oo.length && l.trace("Mis-matched stream duration (" + this.Fq.Gs.length + "," + this.oo.length + ") for movie id " + u);this.Fq.N6 && !this.tka && l.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.Uc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.Hf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sn:{get:function(){return this.Uc.Sn;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Uqa:{get:function(){return this.Uc.Uqa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ba:{get:function(){return this.Uc.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ma:{get:function(){return this.Uc.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Pwa:{get:function(){return this.Uc.Pwa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sy:{get:function(){return this.Txb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xo:{get:function(){return this.Uxb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{la:{get:function(){return this.Uc.la;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{X:{get:function(){return this.Uc.X;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Lg:{get:function(){return this.gr || this.Cka();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rQ:{get:function(){return this.gyb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kna:{get:function(){return this.tka;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hz:{get:function(){return this.Fma;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fq:{get:function(){return this.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{VK:{get:function(){return this.tma || this.gwb();},enumerable:!1,configurable:!0}});h.prototype.jib=function(g){if(this.oo)return this.oo[g];l.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.lk=function(g){return this.Uc.lk(g);};h.prototype.cX=function(g){return this.Uc.lk(g) + this.Uc.oe(g);};h.prototype.ri=function(g){var n,p,q;if(this.kU !== g || void 0 === this.EM){if(0 === g)return this.Nb;if(this.kU === g - 1 && void 0 !== this.EM)(this.EM+=this.oo[this.kU],++this.kU);else {n=this.Li || this.Qvb();p=Math.floor(g / this.fN);q=p * this.fN;for(n=n[p];q < g;++q){n+=this.oo[q];}this.kU=g;this.EM=n;}}return this.EM;};h.prototype.oe=function(g){return this.Uc.oe(g);};h.prototype.get=function(g){return new f(this,g);};h.prototype.BQb=function(g){var n,p,q,t,v;m.assert(0 <= g);n=this.Fq.N6;p=this.Fq.uXa;q=this.tka;if(!q || !n || !p || g >= n.length)return [];t=[];v=g === n.length - 1?p.length:n[g + 1];for(n=n[g];n < v;++n){t.push({dj:p[n],Nd:this.lk(g) + this.la.WB(p[n]).U,offset:q[n]});}return t;};h.prototype.Jo=function(g,n,p){return this.Uc.Jo(g,n,p);};h.prototype.d9=function(g,n,p){return this.Uc.d9(g,n,p);};h.prototype.S7=function(g,n){return this.Uc.S7(g,n);};h.prototype.TEb=function(g,n,p,q,t){var v,u,w,x,y,z,A,B,C;v=!0;u=0;w=this.Uc.Gs;x=this.oo;g=Math.floor(g * this.X / 1E3);y=Math.floor(p * this.X / 1E3);z=0;A=0;B=0;if(this.Uc.mDa && this.Uc.lDa)for(u=this.Uc.mDa;u <= this.Uc.lDa;++u){z+=w[u];A+=x[u];}if(A > n)v=!1;else for(;u < this.length && (!t || u < t);){C=x[u];p=w[u];if(A + C > n){for(;1 < u - B && A + C > n && (z - w[B] >= y || A - x[B] > q);){z-=w[B];A-=x[B];++B;}if(z < g || A + C > n){v=!1;this.Uc.mDa=B;this.Uc.lDa=u;break;}}z+=p;A+=C;++u;}return v;};h.prototype.subarray=function(g,n){m.assert(void 0 === g || 0 <= g && g < this.length);m.assert(void 0 === n || n > g && n <= this.length);return new h(this.p6,this.Uc.subarray(g,n),{offset:this.ri(g),sizes:this.oo.subarray(g,n)},this.rQ && this.rQ.subarray(g,n),this.kna && ({ri:this.kna}),this.Fma && this.Fma.subarray(g,n));};h.prototype.forEach=function(g){for(var n=0;n < this.length;++n){g(this.get(n),n,this);}};h.prototype.map=function(g){for(var n=[],p=0;p < this.length;++p){n.push(g(this.get(p),p,this));}return n;};h.prototype.reduce=function(g,n){for(var p=0;p < this.length;++p){n=g(n,this.get(p),p,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;l.trace("StreamFragments: " + this.length);for(var g=0;g < this.length;++g){n=this.get(g);l.trace("StreamFragments: " + g + ": [" + n.ba + "-" + n.Ma + "] @ " + n.offset + ", " + n.ca + " bytes");}};h.prototype.WEb=function(){var g,n,p,q,t,v,x;g=0;n=0;p=this.Uc.mab;q=this.Uc.nab;t=this.Uc.Gs;v=this.oo;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var u=0,w=this.length;u < w;++u){x=v[u];x > n && (n=x,q=u);x/=t[u];x > g && (g=x,p=u);}void 0 === this.Uc.mab && (this.Uc.mab=p);void 0 === this.Uc.nab && (this.Uc.nab=q);}else (g=v[p] / t[p],n=v[q]);return {maxBitrate:Math.floor(g * this.X / 125),Xo:n};};h.prototype.Cka=function(){for(var g=0,n=0;n < this.length;++n){g+=this.oo[n];}return this.gr=g;};h.prototype.gwb=function(){return this.tma=new k.Nja(this.Uc.Gs,this.oo,this.Uc.X);};h.prototype.Qvb=function(){if(!this.Li){for(var g=d?new Float64Array(Math.ceil(this.length / this.fN)):Array(Math.ceil(this.length / this.fN)),n=this.Nb,p=0;p < g.length;++p){g[p]=n;for(var q=0;q < this.fN;++q){n+=this.oo[p * this.fN + q];}}this.Li=g;}return this.Li;};return h;})();b.QRa=r;r.prototype.Gib=a.ny(r.prototype.lk);a.ny(r.prototype.cX);a.ny(r.prototype.oe);a.ny(r.prototype.ri);a.ny(r.prototype.jib);a.ny(r.prototype.get);},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.vIa=void 0;r=a(0);c=a(11);m=r.__importStar(a(10));k=r.__importDefault(a(4));l=new k.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=r.__importDefault(a(29));f=r.__importDefault(a(923));h=a(155);g=k.default.zs;n=g.G2;p={};q={};a=[d.default.bi.Hz,!1];r=[d.default.bi.Hz,!0];t=[d.default.bi.bH,!1];v=[d.default.bi.bH,!0];u=[d.default.bi.URL,!0];w=[-1,!1];x=[d.default.bi.bH,!1];p[n.ngc]=t;p[n.UNKNOWN_ERROR]=t;p[n.qjc]=t;p[n.lpb]=t;p[n.WGa]=t;p[n.xpb]=t;p[n.ppb]=v;p[n.oob]=v;p[n.eGa]=x;p[n.cGa]=x;p[n.pob]=w;p[n.qob]=x;p[n.rob]=x;p[n.lob]=t;p[n.nob]=t;p[n.dGa]=a;p[n.mob]=t;p[n.kob]=x;p[n.ehc]=v;p[n.Gqb]=x;p[n.zJa]=x;p[n.yJa]=x;p[n.vJa]=x;p[n.wJa]=x;p[n.Fqb]=u;p[n.xha]=v;p[n.zha]=u;p[n.yha]=r;p[n.CJa]=v;p[n.Iqb]=u;p[n.B3]=x;p[n.AJa]=v;p[n.Hqb]=v;p[n.spb]=v;p[n.mpb]=t;p[n.pub]=t;p[n.cpb]=t;p[n.dpb]=t;p[n.epb]=t;p[n.fpb]=t;p[n.gpb]=t;p[n.hpb]=t;p[n.ipb]=t;p[n.jpb]=t;p[n.kpb]=t;p[n.npb]=t;p[n.opb]=t;p[n.qpb]=t;p[n.rpb]=t;p[n.tpb]=t;p[n.upb]=t;p[n.vpb]=t;p[n.wpb]=t;p[n.ypb]=t;p[n.zpb]=t;p[n.oub]=x;p[n.TIMEOUT]=a;q[n.eGa]=!0;q[n.zJa]=!0;q[n.yJa]=!0;q[n.wJa]=!0;q[n.WGa]=!0;a=(function(){var T40;function y(z,A,B,C){var U40;U40=2;for(;U40 !== 20;){switch(U40){case 3:var W4j="1SIY";W4j+="bZrNJC";W4j+="p9";this.events=new c.EventEmitter();this.xh=new c.Gf();W4j;this.UZa=new h.s4();U40=6;break;case 2:this.Dn=z;this.config=A;this.Tta=B;this.st=C;U40=3;break;case 6:var b4j="network";b4j+="Faile";b4j+="d";p[n.vJa]=A.EVb?v:x;this.xh.addListener(this.Dn,b4j,this.BUb.bind(this));this.TP=k.default.time.ga();U40=12;break;case 12:this.kv=0;this.PCa={};this.nza=new f.default(z,C,A);U40=20;break;}}}T40=2;for(;T40 !== 12;){switch(T40){case 4:y.prototype.d8b=function(z){var c50,A,B,C;c50=2;for(;c50 !== 7;){switch(c50){case 5:c50=C.Cn < this.TP?4:3;break;case 2:(A=k.default.time.ga(),B=this.config,C=this.PCa[z]);c50=1;break;case 9:return C.oC=!0;break;case 4:(C.Cn=A,C.count=1);c50=7;break;case 1:c50=C?5:8;break;case 3:c50=!(C.Cn >= A - B.Oea || C.oC || (C.Cn=A,++C.count,C.count < B.hba))?9:7;break;case 8:this.PCa[z]={Cn:A,count:1};c50=7;break;}}};y.prototype.BUb=function(z){var d50,F,G,E,A,B,C,D;d50=2;for(;d50 !== 7;){switch(d50){case 3:(F=this.FB.ah,G=this.FB.pJ,E=this.FB.vj);d50=9;break;case 2:var G4j="Net";G4j+="work ";G4j+="h";G4j+="a";G4j+="s failed ";var m4j="t";m4j+="e";m4j+="mporarily";var M4j="p";M4j+="ermanen";M4j+="tly";var P4j=" ";P4j+="m";P4j+="s";P4j+=" ";P4j+="ago";var V4j=" l";V4j+="ast success w";V4j+="as ";(A=this,B=k.default.time.ga() - this.TP,C=z,D=this.config);a000.V3j(9);l.warn(a000.W3j(V4j,B,P4j,z?M4j:m4j,G4j));!z && B > D.wxa && (C=!0);d50=4;break;case 4:d50=this.FB?3:9;break;case 9:var H4j="temporaryNetwo";H4j+="rkEr";H4j+="ro";H4j+="r";var s4j="te";s4j+="mpo";s4j+="ra";s4j+="ryNetworkError";z || this.events.emit(s4j,{type:H4j,errorCode:F,httpCode:G,nativeCode:E});C?(this.mR && (clearTimeout(this.mR),this.mR=void 0),this.b_a(),this.nza.reset(),this.Tta({EXb:z,o3b:F,q3b:G,r3b:E})):this.mR || (this.mR=setTimeout(function(){var e50;e50=2;for(;e50 !== 5;){switch(e50){case 2:A.mR=void 0;A.Eda();e50=5;break;}}},D.xxa));d50=7;break;}}};y.prototype.Eda=function(){var f50,z;f50=2;for(;f50 !== 5;){switch(f50){case 2:z=this;this.UZa.Fx || this.UZa.Gfa(function(){var g50;g50=2;for(;g50 !== 1;){switch(g50){case 2:z.mR || (z.Dn.Eda(),z.PCa={},z.st());g50=1;break;}}});f50=5;break;}}};y.prototype.hfa=function(z){var h50,A;h50=2;for(;h50 !== 9;){switch(h50){case 2:A=this.config;this.TP=Math.max(z.timestamp || k.default.time.ga(),this.TP);h50=5;break;case 5:var j4j="updat";j4j+="ingLas";j4j+="tSu";j4j+="ccessEvent";var q4j="updat";q4j+="in";q4j+="gLastSuccessEvent";this.b_a();A.qw && this.nza.hfa(z);this.events.emit(q4j,{type:j4j});h50=9;break;}}};y.prototype.Vxa=function(){var i50;i50=2;for(;i50 !== 1;){switch(i50){case 2:this.kv=0;i50=1;break;case 4:this.kv=5;i50=4;break;i50=1;break;}}};T40=6;break;case 2:y.prototype.lb=function(){var V40;V40=2;for(;V40 !== 1;){switch(V40){case 2:this.xh.clear();V40=1;break;case 4:this.xh.clear();V40=4;break;V40=1;break;}}};y.prototype.TF=function(z){var W40;W40=2;for(;W40 !== 1;){switch(W40){case 2:this.pea=z;W40=1;break;case 4:this.pea=z;W40=2;break;W40=1;break;}}};y.prototype.Vt=function(z,A,B,C){var X40,L,D,F,G,E,H,I,R,K;X40=2;for(;X40 !== 15;){switch(X40){case 12:K && (F[K]=[z.url]);X40=11;break;case 9:var N4j="crit";N4j+="icalNetw";N4j+="or";N4j+="k";N4j+="Error";var C4j="c";C4j+="rit";C4j+="ic";C4j+="alNetwo";C4j+="rkError";L=p[B];this.FB={pJ:A,ah:B,d3a:G,vj:C};q[B] && (++this.kv,this.events.emit(C4j,{type:N4j,ah:B}));X40=6;break;case 19:F=H.T9b(z.host,z.port);X40=11;break;case 14:X40=void 0 !== z.url?13:20;break;case 20:X40=void 0 !== z.host && void 0 !== z.port?19:18;break;case 2:var X4j=" : critical error c";X4j+="ou";X4j+="nt ";X4j+="= ";var d4j=" ";d4j+="o";d4j+="n";d4j+=" ";var p4j="Fail";p4j+="ur";p4j+="e";p4j+=" ";(D=this,F=g.G2.name,G=B?F[B]:void 0);F={};(E=this.config,H=this.Dn);l.warn(p4j + G + d4j + JSON.stringify(z) + X4j + this.kv);X40=3;break;case 3:X40=B && m.isArray(p[B])?9:16;break;case 6:X40=L !== w?14:15;break;case 11:(I=L[0],R=L[1]);E.qw?m.forEach(F,function(O,J){var Y40;Y40=2;for(;Y40 !== 5;){switch(Y40){case 2:var F4j="e";F4j+="r";F4j+="ror";L === x || L === t?D.nza.V5b({url:void 0 !== z.url?z.url:O[0],Fe:J},{yXa:J,j1:L,pJ:A,ah:B,d3a:G,vj:C}):O.some(function(M){var Z40;Z40=2;for(;Z40 !== 5;){switch(Z40){case 2:H.Vt(I,R,M);return I === d.default.bi.bH;break;}}});!D.pea || 0 !== A && void 0 !== A || (O=void 0 !== z.url?z.url:O[0]) && D.pea.fBa(F4j,O);Y40=5;break;}}}):m.forEach(F,function(O,J){var a50;a50=2;for(;a50 !== 5;){switch(a50){case 2:a50=L !== x || D.d8b(J)?1:5;break;case 1:var K4j="e";K4j+="r";K4j+="ror";(O.some(function(M){var b50;b50=2;for(;b50 !== 5;){switch(b50){case 2:H.Vt(I,R,M);return I === d.default.bi.bH;break;}}}),!D.pea || 0 !== A && void 0 !== A || (O=void 0 !== z.url?z.url:O[0]) && D.pea.fBa(K4j,O));a50=5;break;}}});X40=15;break;case 13:K=H.ahb(z.url);X40=12;break;case 17:return;break;case 18:var O4j="Invali";O4j+="d aff";O4j+="ected for network fa";O4j+="ilure";l.error(O4j);X40=17;break;case 16:var E4j="Unmapped ";E4j+="failure cod";E4j+="e in JSAS";E4j+="E ";E4j+="error director : ";a000.V3j(7);l.error(a000.t3j(E4j,B));X40=15;break;}}};T40=4;break;case 6:y.prototype.ek=function(){var j50,z,A,B;j50=2;for(;j50 !== 4;){switch(j50){case 2:var i4j="m";i4j+="s";var x4j="S";x4j+="et";x4j+="ting underf";x4j+="low timeout ";x4j+="in ";(z=this,A=this.config,B=A.aba);this.TP=Math.max(k.default.time.ga(),this.TP);!A.plb || this.l1 || A.q1 && A.KO && A.n1b || (l.info(x4j + B + i4j),this.l1=setTimeout(function(){var k50;k50=2;for(;k50 !== 4;){switch(k50){case 2:var D4j="ms, sin";D4j+="ce ";D4j+="u";D4j+="nderflow with no success";var S4j="Fo";S4j+="rcing perm";S4j+="anent network";S4j+=" failure after ";a000.V3j(10);l.info(a000.W3j(B,S4j,D4j));z.l1=void 0;z.Dn.Vt(d.default.bi.Hz,!0);k50=4;break;}}},B));j50=4;break;}}};y.prototype.b_a=function(){var l50;l50=2;for(;l50 !== 1;){switch(l50){case 2:var o4j="C";o4j+="l";o4j+="eared und";o4j+="erflow ti";o4j+="meout";this.l1 && (clearTimeout(this.l1),this.l1=void 0,l.info(o4j));l50=1;break;}}};return y;break;}}})();b.vIa=a;},function(r,b,a){var m,k,l;function c(d,f,h){this.JU=d;this.CH=0 === Math.floor(1E6 * Math.random()) % h.rK;this.groupId=1;this.config=h;this.hB={};this.KF={};this.st=f;}m=a(10);k=a(4).default;new k.Console("ASEJS_PROBE_MANAGER","asejs");l=a(924).bFa;c.prototype.constructor=c;c.prototype.V5b=function(d,f){var h,g,n,p,q,t,v,u,w,x,y;h=this.JU;g=d.Fe;n=h.Vib(d.url);p=h.Qaa(d.url);q=this.config;t=k.time.ga();v=f;u=[];w=n.ak[0];x=!1;y=this.hB[g];if(!y)y=this.hB[g]={count:0,Cn:t,oC:!1,error:f,oBa:[],pza:{}};else if(y.Cn >= t - q.Oea)return;y.oC || (w && p.id === w.id && (d.isPrimary=!0),y.Cn=t,y.oC=!1,y.error=f,++y.count,n && n.urls && 0 !== n.urls.length && (m.forEach(n.urls,function(z){var A,B,C;A=z.Lc.id;B=A + "-" + g;C=this.KF[B];if(void 0 === C || void 0 === C.bda)(C && C.Eq && clearTimeout(C.Eq),z=this.q0a(z.url,d,A),this.KF[B]={ea:!1,count:0,bda:z.Vi()},u.push(z.Vi()),x=!0);-1 === y.oBa.indexOf(A) && y.oBa.push(A);},this),this.CH && 0 < u.length && (n={type:"logdata",target:"endplay",fields:{}},f=v,v={ts:k.time.ga(),es:f.yXa,fc:f.ah,fn:f.d3a,nc:f.vj,pb:u,gid:this.groupId},f.pJ && (v.hc=f.pJ),n.fields.errpb={type:"array",value:v,adjust:["ts"]},h.$o(n)),x && this.groupId++));};c.prototype.q0a=function(d,f,h){var g,n,p;g=this.JU.Qaa(f.url);g && g.Cb && g.Cb.gy && g.Cb.gy.pa || Math.random(0,1);g=new l(this);n=d.split("?");p="random=" + parseInt(1E7 * Math.random(),10);g.h3b(1 < n.length?d + "&" + p:d + "?" + p,f,h);return g;};c.prototype.W5b=function(d,f){var h,g,n,p,q,t,v,u;h=this.JU;g=this.config;n=f.Fe;p=this.hB[n];q=d.url;t=this.KF[d.Fe + "-" + n];if(p){v=p.error;if(t){t && t.Eq && clearTimeout(t.Eq);t.ea=!0;t.count=0;t.bda=void 0;p.pza[d.Fe]=!0;(t=this.hB[d.Fe]) && !0 === t.oC && g.xA && (h.igb(d.Fe,t.error.j1[1]),this.CH && (t={type:"logdata",target:"endplay",fields:{}},t.fields.errst={type:"array",value:{ts:k.time.ga(),id:d.requestId,servid:f.Fe,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.$o(t)),this.hB[d.Fe]=void 0,this.st());if(q !== f.url){u=this.KF[n + "-" + n];u && u.ea || (n=(n=h.Qaa(q)) && n.Cb && n.Cb.gy && n.Cb.gy.pa || Math.random(0,1) * g.bba,n=Math.min(n,g.bba),setTimeout((function(){var w;if(!(!1 !== p.oC || u && u.ea) && (p.oC=!0,h.Vt(v.j1[0],v.j1[1],f.url,v),this.CH)){w={type:"logdata",target:"endplay",fields:{}};w.fields.erep={type:"array",value:{ts:k.time.ga(),id:d.requestId,servid:f.Fe,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.$o(w);}}).bind(this),n));}this.CH && (t={type:"logdata",target:"endplay",fields:{}},t.fields.pbres={type:"array",value:{ts:k.time.ga(),id:d.requestId,result:1,servid:d.Fe,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.$o(t));}}};c.prototype.T5b=function(d,f){var h,g,n,p,q,t,v,u,w,x;h=this.JU;g=parseInt(f.Fe,10);n=this.hB[g];p=parseInt(d.Fe,10);q=this.KF[p + "-" + g];t=0;v=this.config;if(q && n){q.ea=!1;q.bda=void 0;n.pza[p]=!1;u=n.oBa;if(v.xA && p === g && f.isPrimary){w=h.Qaa(f.url);w=w && w.Cb && w.Cb.gy && w.Cb.gy.pa || 300 * Math.random(0,1);w*=Math.pow(2,q.count);w=Math.min(w,12E4);w+=Math.random(0,1) * (1E4 > w?100:1E4);q.Eq=setTimeout((function(){var y;q.Eq=void 0;y=this.q0a(d.url,f,p);y.m$b(d.groupId);q.bda=y.Vi();}).bind(this),w);}++q.count;if(p === g && (t=0,u.forEach(function(y){!1 === n.pza[y] && t++;}),u.length === t && n.count >= v.hba)){x=n.error;n.oC=!0;m.forEach(h.Vib(f.url).urls,function(y){var z;h.Vt(x.j1[0],x.j1[1],y.url,x);if(this.CH){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:k.time.ga(),id:-1,servid:y.Lc.id},adjust:["ts"]};h.$o(z);}},this);}this.CH && (g={type:"logdata",target:"endplay",fields:{}},g.fields.pbres={type:"array",value:{ts:k.time.ga(),id:d.requestId,result:0,servid:d.Fe,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.$o(g));}};c.prototype.hfa=function(d){var f,h,g;f=d.url || d.mediaRequest.url;if(f){d=this.JU;f=d.ahb(f);h=this.hB[f];g=this.KF[f + "-" + f];h && h.oC && this.config.xA && (d.igb(h.error.yXa,!1),this.CH && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:k.time.ga(),id:-1,servid:f},adjust:["ts"]},d.$o(h)),this.hB[f]=void 0,g && g.Eq && clearTimeout(g.Eq));}};c.prototype.reset=function(){var d,f,h;d=this.KF;for(h in d){d.hasOwnProperty(h) && (f=d[h + "-" + h]) && f.Eq && clearTimeout(f.Eq);}this.KF={};this.hB={};};r.exports=c;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bFa=void 0;c=a(0);m=a(11);k=c.__importDefault(a(4)).default.fx;r=(function(l){function d(f){var h;h=l.call(this) || this;h.OVa=f;h.C5=f.groupId;h.Ji=new m.Gf();h.Ji.on(h,k.Se.HT,h.Sla);h.Ji.on(h,k.Se.UG,h.NU);return h;}c.__extends(d,l);d.prototype.h3b=function(f,h,g){k.prototype.open.call(this,f,h,g);};d.prototype.m$b=function(f){this.C5=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.C5;},enumerable:!1,configurable:!0}});d.prototype.Zc=function(){this.Ji && this.Ji.clear();k.prototype.Zc.call(this);};d.prototype.Sla=function(f){this.OVa.W5b(f.probed,f.affected);this.Zc();};d.prototype.NU=function(f){this.OVa.T5b(f.probed,f.affected);this.Zc();};return d;})(k);b.bFa=r;},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.GJa=void 0;c=a(0);m=a(124);k=a(405);l=a(14);d=c.__importDefault(a(4));r=a(85);f=a(408);h=a(2);g=a(125);a=(function(n){function p(q,t,v,u,w,x,y,z,A,B,C){var D;D=n.call(this,q) || this;D.we=q;D.G=t;D.J=v;D.$o=u;D.LE=x;D.haa=y;D.$z=z;D.jWa=A;D.Oh=B;D.VUa=[void 0,void 0];D.zU=null !== C && void 0 !== C?C:{ux:[Object.create(null),Object.create(null)]};w?D.bY=w:(D.Ie=g.Lq.instance.jv("headers","" + D.we.L,!0,!1,{},D.J),D.Ie.ta());return D;}c.__extends(p,n);Object.defineProperties(p.prototype,{ux:{get:function(){return this.zU.ux;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vD:{get:function(){return this.zU.vD;},set:function(q){this.zU.vD=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{LM:{get:function(){return this.zU.LM;},set:function(q){this.zU.LM=q;},enumerable:!1,configurable:!0}});p.prototype.Zc=function(){var q;q=this;this.ux.forEach(function(t,v){for(var u in t){t[u].Zc();q.lqa(v,u);}});this.Ie && g.Lq.instance.vO(this.Ie);this.Ie=void 0;};p.prototype.hq=function(q,t){return this.ux[q][t];};p.prototype.x$=function(){return !(!this.vD || !this.vD.length);};p.prototype.dpa=function(){this.vD=void 0;};p.prototype.yR=function(q){this.vD=q;};p.prototype.gDa=function(){var q,t;if(!this.x$() || this.LM)return !1;for(m.Gm.iq(1);0 < this.vD.length;){q=this.vD.shift();t=this.we.cy(1,q);if(t && !this.RUb(q) && t.Uv)return (this.LM=q,this.cfa(t,{offset:0,IR:!0}));}return !1;};p.prototype.zDa=function(q,t){var v;v=this;t.forEach(function(u){var w;w=v.hq(q,u.Pa);w && !u.Vd && (w.stream.Vd?u.R7(w.stream):(w.a_ || (w.a_=[]),w.a_.push(v.we)));});};p.prototype.yK=function(q,t,v){var u,w,x;u=this;x=this.we;l.Tf.forEach(function(y){var z,A,B,C,D;if(x.pc(y) && (void 0 === v || y === v)){C=q[y];h.assert(C && x.getTrackById(C.trackId) === C);C=C.bd;if(x.Uk)u.G.warn("requestHeadersFromManifest, shutdown detected");else if(x.Dn.n1(x.L,C)){D=null !== (B=null === (A=null === (z=u.LE(y)) || void 0 === z?void 0:z.GJ) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=f.Ara(C,D);void 0 === z && u.G.warn("Unable to find stream for bitrate " + D);z=C[z];(A=x.hq(y,z.Pa)) && A.stream.aa?x.Rdc(y,A):(y={offset:0,IR:!1,yE:1 === y,Wx:!0,tQ:!u.haa(x)},x.i0a(z,y,t));}else u.G.warn("requestHeadersFromManifest, unable to update urls");}});x.oY=!0;null === (w=this.Oh) || void 0 === w?void 0:w.call(this,x.Rb).A7();};p.prototype.kG=function(q,t){var v,u,w,x;v=this.J;u=this.hq(q.mediaType,q.Pa);if(u)return (u.stream.aa || u.IR && this.ZZa(u),!1);u=this.Fxb;w=this.Gxb;if(void 0 !== v.nxa && void 0 !== u && void 0 !== w){x=d.default.time.ga();if(x - u < v.nxa || x - w < v.nxa)return !1;}q=this.cfa(q,{offset:0},void 0,void 0,t);this.Gxb=d.default.time.ga();return q;};p.prototype.cfa=function(q,t,v,u,w){var x,y,z,A,B;A=q.mediaType;m.Gm.iq(A);B=q.Pa;if(this.Uvb(B,! !t.Wx))return (null === (x=this.jWa) || void 0 === x?void 0:x.call(this),!1);if(x=this.hq(A,B))q=!1;else {x=(B=this.J.mjb && q.Fc)?0:t.offset;B=B?0:null !== (y=t.ca) && void 0 !== y?y:this.Fwb(q);y=c.__assign(c.__assign({},t),{offset:x,ca:B});x=! !y.yE;B=! !y.tQ;this.bY?w=this.bY(A,! !y.Wx,x,B,! !v):w || (w=this.Ie);h.assert(w);q.url && (this.LE(A).Wva=q.url);x=q=this.LTa(q,w,y);if(!q.dK())return (this.we.Pf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}t.Wx && u && (this.we.Rh[A]=x);null === (z=this.jWa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.Fm=function(){var q,t;q=this;t=[];this.ux.forEach(function(v,u){var x;m.Gm.iq(u);for(var w in v){u=v[w];x=u.ADa();1 === x?t.push(u):2 === x && q.we.Pf("swapUrl failure");}});return t;};p.prototype.pm=function(q){var t,v;t=q.mediaType;v=m.Gm.iq(t);this.we.Uk?v.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.$o({type:"logdata",target:"startplay",Xc:{usedNativeDataView:q.Jec}}),q.Aca > q.l3b && (this.VUa[t]=q.Aca),q.IR && this.ZZa(q),this.fxb(q),this.Fxb=d.default.time.ga(),this.we.Nv.emit("onHeaderRequestComplete",q));this.Bv(q);};p.prototype.K6=function(q,t,v){var u;u=q.mediaType;m.Gm.iq(u);u=this.we.cy(u,q.Pa);if(t !== ! !q.em)return !1;this.cXa(q);q.qCb(u);this.tTa(q);this.we.Nv.emit("onHeaderFromCache",{header:q,APb:v});return !0;};p.prototype.wN=function(q,t){var v,u,w,x;v=[];u=this.ux[q];for(w in u){x=u[w];x && !x.stream.aa && x.Tt === t && (this.lqa(q,w),v.push({stream:x.stream,offset:x.offset,ca:x.ca,yE:x.yE,Wx:x.Wx,tQ:x.tQ,wya:x.wya}),x.Zc());}return v;};p.prototype.yAa=function(q){var t;t=this;q.forEach(function(v){t.cfa(v.stream,v);});};p.prototype.cXa=function(q){this.ux[q.mediaType][q.Pa]=q;};p.prototype.RUb=function(q){return ! !this.hq(1,q);};p.prototype.fxb=function(q){var t,v,u,x;t=this.J;v=m.Gm.iq(q.mediaType);u=q.stream.aa;if(t.Zpa){t=u.length;v.trace("fragment count:",t);for(var w=0;w < t;++w){x=u.get(w);v.trace("fragment: " + w + ", startPts: " + x.ba + ", duration: " + x.duration + ", offset: " + x.offset);}}this.tTa(q);};p.prototype.tTa=function(q){var t,v;t=q.mediaType;v=q.Pa;m.Gm.iq(t);q.a_ && (q.a_.forEach(function(u){(u=u.cy(t,v)) && u !== q.stream && !u.Vd && u.R7(q.stream);}),q.a_=void 0);this.we.yUb(q);};p.prototype.LTa=function(q,t,v){var u,w;u=this;w=m.Gm.iq(q.mediaType);q=new k.dga(q,this.J,t,v,this,!1,w);q.addListener("headerRequestCancelled",function(x){u.exb(x.request);});q.ta(void 0);this.cXa(q);return q;};p.prototype.Uvb=function(q,t){return this.$z && (q=this.$z.fZ(this.we.I,q)) && this.K6(q,!1,t)?!0:!1;};p.prototype.Fwb=function(q){var t,v,u,w;t=q.Vy;v=q.P;u=v.duration;w=this.J;return q.Fc?512:v.Ef.df?w.g3a?w.g3a:w.D$:w.Gec && t?t.offset + t.size:(q=this.VUa[q.mediaType])?q + 128:w.bra?2292 + 12 * Math.ceil(u / 2E3):w.D$;};p.prototype.exb=function(q){this.lqa(q.mediaType,q.Pa);};p.prototype.lqa=function(q,t){delete this.ux[q][t];};p.prototype.ZZa=function(q){this.LM === q.Pa && (this.LM=void 0);};return p;})(r.Ow);b.GJa=a;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aub=void 0;c=a(0).__importDefault(a(4));m=a(124);k=["",""];r=(function(){function l(d){this.Ru=d;this.complete=this.append=this.open=0;}Object.defineProperties(l.prototype,{console:{get:function(){return m.Gm.iq(this.Ru.mediaType);},enumerable:!1,configurable:!0}});l.prototype.G2b=function(){this.open=c.default.time.ga();};l.prototype.z2b=function(){c.default.time.ga();this.Nj();};l.prototype.v2b=function(){c.default.time.ga();this.Nj();};l.prototype.k2b=function(){this.append=c.default.time.ga();this.Nj();};l.prototype.QZ=function(){this.complete=c.default.time.ga();this.Nj();};l.prototype.Nj=function(){var d;if(0 < this.complete){d=this.Ru.mediaType;k[d]=this.complete - this.open > this.Ru.duration?k[d] + "X":k[d] + ".";10 < k[d].length && (k[d]=k[d].slice(1));}};return l;})();b.aub=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.MQa=void 0;c=a(0);m=a(11);r=(function(k){function l(d,f,h,g){var n;n=k.call(this) || this;n.G=d;n.track=f;n.tl=!1;n.ula=!1;n.xh=new m.Gf();n.xh.on(f,"networkfailing",function(){n.emit("networkfailing");});n.xh.on(f,"error",function(){n.G.warn("requestQueue got error");n.emit("error");});if(h)(n.tl=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.xh.on(f,"created",function(){n.tl=!0;n.emit("created");});n.ula=g;return n;}c.__extends(l,k);Object.defineProperties(l.prototype,{W8:{get:function(){return this.track.W8;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ah:{get:function(){return this.track.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{vj:{get:function(){return this.track.vj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{iX:{get:function(){return this.track.iX;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});l.prototype.ta=function(){var d,f;this.ula || (null === (f=(d=this.track).ta) || void 0 === f?void 0:f.call(d),this.ula=!0);};l.prototype.Tv=function(){return this.track.Tv();};l.prototype.toString=function(){return this.track.toString();};l.prototype.toJSON=function(){return this.track;};l.prototype.zr=function(){this.xh.clear();};return l;})(m.EventEmitter);b.MQa=r;},function(r,b,a){var f,h,g,n,p,q,t;function c(v){var u,w,x;v=v.parent;u=!1;if(v && v.children){w={};w[q.Jm]=[];w[q.Ul]=[];w[q.TEMPORARY]=[];x=v.children;x.forEach(function(y){y && w[y.Cf].push(y);});0 < w[q.Jm].length || (w[q.Ul].length === x.length?v.Cf !== q.Ul && (v.Cf=q.Ul,p.error("PERM failing :",g.default.bi.name[v.Io] + " " + v.id),u=!0):(v.Cf === q.Jm && (v.Cf=q.TEMPORARY,p.error("TEMP failing :",g.default.bi.name[v.Io] + " " + v.id),u=!0),w[q.TEMPORARY].forEach(function(y){y.Cf=q.Jm;})),u && c(v));}}function m(v){var u;if((v=v.parent) && 0 < v.children.length && v.Cf !== q.Jm){u={};u[q.Jm]=[];u[q.Ul]=[];u[q.TEMPORARY]=[];v.children.forEach(function(w){w && u[w.Cf].push(w);});0 < u[q.Jm].length && (v.Cf=q.Jm,m(v));}}function k(v){return v.Cf !== q.Jm;}function l(v){switch(v.Cf){case q.Jm:return "OK";case q.Ul:return "FAILED PERMANENTLY";case q.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(v,u){if(v.Cf === q.TEMPORARY || v.Cf === q.Ul && u)v.Cf=q.Jm;v.children && v.children.forEach(function(w){w && d(w,u);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Vha=void 0;f=a(0);h=f.__importStar(a(10));r=a(11);g=f.__importDefault(a(29));n=f.__importDefault(a(4));p=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(v){v[v.Jm=0]="OK";v[v.TEMPORARY=1]="TEMPORARY";v[v.Ul=2]="PERMANENT";})(q || (q={}));(function(v){v[v.hx=0]="STARTUP";v[v.Ytb=1]="REBUFFER";})(t || (t={}));a=(function(v){var m50;function u(w,x,y,z,A){var n50,B;n50=2;for(;n50 !== 15;){switch(n50){case 8:var w4j="ne";w4j+="two";w4j+="rk";B.ak={};B.Ql={};B.urls={};B.streams={};B.XB=[];B.Pba=!1;B.vq={id:w4j,Io:g.default.bi.Hz,Cf:q.Jm,Iy:void 0,parent:void 0,children:B.XB};n50=10;break;case 4:B.config=z;B.Cyb=A;B.Z5b=t.hx;n50=8;break;case 2:B=v.call(this) || this;B.Vb=x;B.mi=y;n50=4;break;case 10:var Z4j="1";Z4j+="S";Z4j+="IY";Z4j+="bZrNJ";Z4j+="Cp9";B.P5=null;B.MK=null;B.uR=g.default.Mz.hx;B.AN(w,g.default.Mz.hx);Z4j;return B;break;}}}m50=2;for(;m50 !== 26;){switch(m50){case 12:u.prototype.Eda=function(){var P50;P50=2;for(;P50 !== 1;){switch(P50){case 2:d(this.vq,!1);P50=1;break;case 4:d(this.vq,~9);P50=7;break;P50=1;break;}}};u.prototype.$o=function(w){var Q50,x;Q50=2;for(;Q50 !== 5;){switch(Q50){case 2:null === (x=this.Cyb) || void 0 === x?void 0:x.call(this,w);Q50=5;break;}}};u.prototype.ek=function(){var R50;R50=2;for(;R50 !== 1;){switch(R50){case 2:this.i8b(t.Ytb);R50=1;break;}}};u.prototype.lb=function(){var S50;S50=2;for(;S50 !== 1;){switch(S50){case 2:this.config.vZb && this.r4b();S50=1;break;}}};u.prototype.web=function(w){var T50,x;T50=2;for(;T50 !== 5;){switch(T50){case 2:x=this;w.streams.forEach(function(y){var U50,z,A,B;U50=2;for(;U50 !== 6;){switch(U50){case 2:(z=y.downloadable_id,A=x.streams[z]);U50=1;break;case 1:U50=h.oa(A)?5:9;break;case 5:var J4j="no";J4j+="n";J4j+="e-";B=y.content_profile;A={id:z,bitrate:y.bitrate,kb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(J4j),Sv:!0,urls:[],p1:{},ak:[]};U50=3;break;case 3:x.streams[A.id]=A;U50=9;break;case 9:y.urls.forEach(function(C){var V50,D,F,G;V50=2;for(;V50 !== 6;){switch(V50){case 2:(D=C.url,F=x.urls[D]);V50=1;break;case 1:V50=(C=x.Ql[C.cdn_id])?5:6;break;case 5:h.oa(F) && (F={id:D,Io:g.default.bi.URL,Cf:q.Jm,Iy:void 0,parent:C,children:[],url:D,Lc:C,stream:A},x.urls[D]=F,C.children.push(F));G=C.location;A.urls.push(F);0 === A.ak.filter(function(E){var W50;W50=2;for(;W50 !== 1;){switch(W50){case 2:return E.id === G.id;break;case 4:return E.id == G.id;break;W50=1;break;}}}).length && A.ak.push(G);V50=8;break;case 8:G.streams[A.id]=A;(D=A.p1[G.id])?D.push(F):A.p1[G.id]=[F];V50=6;break;}}});h.Jf(A.p1,function(C){var X50;X50=2;for(;X50 !== 1;){switch(X50){case 2:C.sort(function(D,F){var Y50;Y50=2;for(;Y50 !== 1;){switch(Y50){case 2:return D.Lc.$b - F.Lc.$b;break;case 4:return D.Lc.$b / F.Lc.$b;break;Y50=1;break;}}});X50=1;break;}}});A.ak=A.ak.sort(function(C,D){var Z50;Z50=2;for(;Z50 !== 1;){switch(Z50){case 2:return C.level - D.level || C.$b - D.$b;break;}}});U50=6;break;}}});T50=5;break;}}};m50=18;break;case 27:return u;break;case 2:f.__extends(u,v);u.prototype.LTb=function(){var o50;o50=2;for(;o50 !== 1;){switch(o50){case 2:return this.XB[0].Cb;break;}}};u.prototype.wv=function(){var q50;q50=2;for(;q50 !== 1;){switch(q50){case 4:return k(this.vq);break;q50=1;break;case 2:return k(this.vq);break;}}};u.prototype.ahb=function(w){var r50;r50=2;for(;r50 !== 5;){switch(r50){case 1:return w.parent.id;break;case 2:r50=(w=this.urls[w]) && w.parent?1:5;break;case 9:return w.parent.id;break;r50=5;break;}}};u.prototype.Qaa=function(w){var s50;s50=2;for(;s50 !== 5;){switch(s50){case 2:s50=(w=this.urls[w]) && w.Lc?1:5;break;case 1:return w.Lc.location;break;case 9:return w.Lc.location;break;s50=5;break;}}};m50=9;break;case 9:u.prototype.Vib=function(w){var t50;t50=2;for(;t50 !== 5;){switch(t50){case 1:return w.stream;break;case 2:t50=(w=this.urls[w])?1:5;break;case 9:return w.stream;break;t50=5;break;}}};u.prototype.AN=function(w,x){var u50,y;u50=2;for(;u50 !== 19;){switch(u50){case 9:w.servers.forEach(function(z){var x50,B,A,C;x50=2;for(;x50 !== 14;){switch(x50){case 5:y.Ql[A].$b=z.rank;x50=14;break;case 4:B=y.ak[z.key];x50=3;break;case 2:A=z.id;x50=1;break;case 3:x50=B?9:14;break;case 9:C=[];x50=8;break;case 1:x50=y.Ql[A]?5:4;break;case 8:z={id:A,Io:g.default.bi.bH,Cf:q.Jm,Iy:void 0,parent:B,children:C,urls:C,name:z.name,type:z.type,$b:z.rank,location:B};y.Ql[z.id]=z;B.children.push(z);x50=14;break;}}});w.audio_tracks.forEach(function(z){var y50;y50=2;for(;y50 !== 1;){switch(y50){case 2:y.web(z);y50=1;break;case 4:y.web(z);y50=6;break;y50=1;break;}}});w.video_tracks.forEach(function(z){var z50;z50=2;for(;z50 !== 1;){switch(z50){case 4:y.web(z);z50=6;break;z50=1;break;case 2:y.web(z);z50=1;break;}}});w=this.XB.filter(function(z){var A50,A;A50=2;for(;A50 !== 4;){switch(A50){case 2:A=z.Ql.every(function(B){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 4:a000.b3j(0);var O31=a000.W3j(27,19);return O31 != B.urls.length;break;B50=1;break;case 2:return 0 === B.urls.length;break;}}});A && (z.Ql.forEach(function(B){var C50;C50=2;for(;C50 !== 1;){switch(C50){case 2:y.Ql[B.id]=void 0;C50=1;break;}}}),y.ak[z.id]=void 0,z.parent=void 0,z.children.length=0,z.streams={});return !A;break;}}});w.forEach(function(z){var D50;D50=2;for(;D50 !== 1;){switch(D50){case 2:z.Ql.sort(function(A,B){var E50;E50=2;for(;E50 !== 1;){switch(E50){case 4:return A.$b * B.$b;break;E50=1;break;case 2:return A.$b - B.$b;break;}}});D50=1;break;}}});this.XB=w;this.vq.children=w;u50=11;break;case 11:this.MK=null;this.uR=x;this.dump();u50=19;break;case 2:y=this;void 0 === x && (x=g.default.Mz.Mrb);w.locations.forEach(function(z){var v50,A,B,C,D;v50=2;for(;v50 !== 7;){switch(v50){case 1:v50=y.ak[A]?5:4;break;case 2:A=z.key;v50=1;break;case 5:(y.ak[A].$b=z.rank,y.ak[A].level=z.level,y.ak[A].weight=z.weight);v50=7;break;case 4:(B=[],C=y.mi.get(A),D=y.vq);z={id:A,Io:g.default.bi.LOCATION,Cf:q.Jm,$b:z.rank,level:z.level,weight:z.weight,Iy:void 0,parent:D,children:B,Ql:B,streams:{},Cb:C};y.ak[z.id]=z;D.children.push(z);v50=7;break;}}});this.P5=n.default.time.ga();this.XB.sort(function(z,A){var w50;w50=2;for(;w50 !== 1;){switch(w50){case 2:return z.level - A.level || z.$b - A.$b;break;}}});u50=9;break;}}};u.prototype.n1=function(w,x){var F50,y,z,A,B,D,C;F50=2;for(;F50 !== 19;){switch(F50){case 5:F50=k(this.vq)?4:3;break;case 6:F50=!this.MK?14:13;break;case 2:(y=this,z=this.config,A=this.Vb.get(),B=0);n.default.gv && n.default.gv(w);F50=5;break;case 13:D=this.MK;F50=12;break;case 4:return !1;break;case 3:C=g.default.Ij.aD;z.GZ && (C=g.default.Ij.$C);this.Vb.location && A.confidence >= C && (w=this.ak[this.Vb.location]) && (w.Cb=A);h.sb(this.MK) && (this.MK=this.Wdc());F50=6;break;case 14:return (this.Vt(g.default.bi.Hz,!1),!1);break;case 12:F50=!D.length?11:10;break;case 10:var T4j="(empty";T4j+=" s";T4j+="tream l";T4j+="ist)";var A4j="Did not find a";A4j+=" URL for ";A4j+="ANY stream..";A4j+=".";var k4j="networkF";k4j+="a";k4j+="iled";var l4j="Networ";l4j+="k has failed, not updati";l4j+="ng s";l4j+="tream selection";x.forEach(function(F,G){var G50,E;G50=2;for(;G50 !== 5;){switch(G50){case 2:var v4j=" K";v4j+="b";v4j+="ps";v4j+=")";var f4j=" ";f4j+="(";var B4j="]";B4j+=" ";var I4j="Fail";I4j+="ing ";I4j+="s";I4j+="tre";I4j+="am [";E=F.id;D.some(function(H){var H50,K,L;H50=2;for(;H50 !== 8;){switch(H50){case 1:H50=!L?5:4;break;case 4:K=L.ak[0];void 0 === F.ada && (F.ada=K.id,F.mza=L.p1[K.id][0].Lc.id);return L.p1[H.id].some(function(I){var I50,R;I50=2;for(;I50 !== 11;){switch(I50){case 5:I50=k(I)?4:3;break;case 2:I50=k(I.Lc)?1:5;break;case 3:var Q4j="l";Q4j+="oca";Q4j+="tion";Q4j+="failover";var U4j="s";U4j+="erver";U4j+="failove";U4j+="r";var L4j="p";L4j+="erf";L4j+="orm";L4j+="an";L4j+="ce";var R4j="un";R4j+="k";R4j+="n";R4j+="ow";R4j+="n";R=R4j;F.location !== H.id && (z.qw?F.zva=H.id === K.id:R=H !== D[0]?"" + g.default.Mz.oga:void 0 === F.location?"" + g.default.Mz.hx:h.oa(F.P9a) || F.P9a === H.id?h.oa(F.S9a) || F.S9a === I.Lc.id?L4j:U4j:Q4j,F.location=H.id,F.fwa=H.level,F.cu=R);F.url=I.url;I50=7;break;case 1:return (I.Lc.Cf === q.TEMPORARY && (F.Cf=q.TEMPORARY),z.qw && F.Lc === I.Lc.id && I.Lc.Iy && (F.Iy=I.Lc.Iy),!1);break;case 4:return !1;break;case 13:F.Cb=z.Yna?H.Cb.confidence >= g.default.Ij.$C || A.confidence < C?H.Cb:A:A.confidence === g.default.Ij.HAVE_NOTHING || H.Cb.confidence >= g.default.Ij.$C?H.Cb:A;return !0;break;case 7:F.Lc=I.Lc.id;F.OK=I.Lc.name;F.du=I.Lc.type;I50=13;break;}}});break;case 2:L=H.streams[E];H50=1;break;case 5:return !1;break;}}})?(F.uB=!1,F.Cf=void 0,F.Sv && ++B):F.Cf && F.Cf === q.TEMPORARY?y.vq.Cf=q.TEMPORARY:F.uB || (p.warn(I4j + G + B4j + E + f4j + F.bitrate + v4j),F.zGb(),F.uB=!0);G50=5;break;}}});return k(this.vq)?(p.warn(l4j),this.Pba=!0,this.emit(k4j,this.vq.Cf === q.Ul),!1):B?!0:(p.warn(A4j + (x.length?"":T4j)),this.Vt(g.default.bi.Hz,!0),!1);break;case 11:return (this.Vt(g.default.bi.Hz,!1),!1);break;}}};u.prototype.T9b=function(w,x){var J50,y,z;J50=2;for(;J50 !== 4;){switch(J50){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(A,B){var K50,F,G,C,D;K50=2;for(;K50 !== 7;){switch(K50){case 4:var z4j="8";z4j+="0";var g4j="4";g4j+="4";g4j+="3";(F="s" === D[1],G=D[2]);D=D[3];D.length || (D=F?g4j:z4j);h.qg(G) && h.qg(D) && G === w && D == x && (C?C.push(B):y[A]=[B]);K50=7;break;case 5:K50=D && 4 === D.length?4:7;break;case 2:A=A.parent?A.parent.id:"";(C=y[A],D=B.match(z));K50=5;break;}}});return y;break;}}};u.prototype.Vt=function(w,x,y,z){var L50,M50,N50,G,D,F,A,B,C;L50=2;for(;L50 !== 42;){switch(L50){case 16:L50=M50 === g.default.bi.URL?15:19;break;case 11:M50=F.Io;L50=M50 === g.default.bi.bH?10:18;break;case 33:this.uR=g.default.Mz.ag;z && (this.uR=g.default.Mz.Dtb,A.Iy=z);this.dump();L50=42;break;case 19:F=F.parent;L50=12;break;case 28:L50=44;break;case 20:x.unshift(G.id + "(" + G.name + ")");L50=19;break;case 17:x.unshift(F.id);L50=19;break;case 29:L50=N50 === q.Jm?24:28;break;case 24:var e4j="ne";e4j+="tworkFai";e4j+="led";var Y4j="E";Y4j+="mit";Y4j+="ting networkFailed, ";Y4j+="permanent =";A.Cf=C;c(A);this.Pba=this.Pba || k(this.vq);C=this.vq.Cf;C > B && (p.warn(Y4j,C === q.Ul),this.emit(e4j,C === q.Ul));this.MK=null;L50=33;break;case 3:L50=C !== A.Cf?9:42;break;case 44:var u1j="Invalid f";u1j+="ai";u1j+="l";u1j+="ur";u1j+="e state";throw Error(u1j);L50=24;break;case 27:var c1j=" ";c1j+=":";c1j+=" was ";D.call(y,w + (x.length?"/" + x.join("/"):"") + c1j + l(A));L50=26;break;case 4:L50=A?3:43;break;case 15:var y1j="<u";y1j+="rl";y1j+=" ";y1j+="f";y1j+="or ";x.unshift(y1j + F.stream.bitrate + ">");L50=19;break;case 1:L50=A && A.parent && A.Io !== w?5:4;break;case 43:var n1j="U";n1j+="nable to fin";n1j+="d failure entity";n1j+=" for URL ";a000.V3j(7);p.warn(a000.W3j(n1j,y));L50=42;break;case 26:N50=A.Cf;L50=N50 === q.Ul?25:30;break;case 18:L50=M50 === g.default.bi.LOCATION?17:16;break;case 25:return;break;case 30:L50=N50 === q.TEMPORARY?24:29;break;case 12:L50=F?11:27;break;case 10:G=F;L50=20;break;case 5:A=A.parent;L50=1;break;case 13:F=A;L50=12;break;case 9:var t1j=" ";t1j+="a";t1j+="t";t1j+=" ";var h1j=" failure ";h1j+="repor";h1j+="te";h1j+="d fo";h1j+="r ";var a1j="T";a1j+="E";a1j+="M";a1j+="P";var r1j="P";r1j+="E";r1j+="RM";y=p;D=y.warn;w=(x?r1j:a1j) + h1j + g.default.bi.name[w] + t1j;x=[];L50=13;break;case 2:(A=w !== g.default.bi.Hz && y?this.urls[y]:this.vq,B=this.vq.Cf,C=x?q.Ul:q.TEMPORARY);L50=1;break;}}};u.prototype.igb=function(w,x){var O50;O50=2;for(;O50 !== 3;){switch(O50){case 1:(d(w,x),m(w));O50=5;break;case 2:O50=(w=this.Ql[w])?1:5;break;case 5:this.MK=null;this.uR=g.default.Mz.Nia;O50=3;break;case 8:O50=(w=this.Ql[w])?2:1;break;O50=(w=this.Ql[w])?1:5;break;}}};m50=12;break;case 18:u.prototype.Wdc=function(){var a60,w,x,y,z;a60=2;for(;a60 !== 6;){switch(a60){case 1:a60=0 === y.length?5:4;break;case 2:(w=this,x=this.config,y=this.XB.filter(function(A){var b60;b60=2;for(;b60 !== 1;){switch(b60){case 4:return -k(A) || 7 === A.level;break;b60=1;break;case 2:return !k(A) && 0 !== A.level;break;}}}));a60=1;break;case 4:z=n.default.time.ga();a60=3;break;case 5:return null;break;case 3:a60=null === this.P5 || this.P5 + x.ewa < z?9:8;break;case 8:y.sort(function(A,B){var d60;d60=2;for(;d60 !== 1;){switch(d60){case 2:return A.level - B.level || A.$b - B.$b;break;}}});return y;break;case 9:(y.forEach(function(A){var c60;c60=2;for(;c60 !== 1;){switch(c60){case 2:A.id !== w.Vb.location && (A.Cb=w.mi.get(A.id));c60=1;break;}}}),this.P5=z);a60=8;break;}}};u.prototype.i8b=function(w){var e60,x;e60=2;for(;e60 !== 4;){switch(e60){case 2:x=this.Vb.location;this.Z5b=w;this.XB.forEach(function(y){var f60;f60=2;for(;f60 !== 1;){switch(f60){case 2:y.id !== x && y.Cb && y.Cb.confidence > g.default.Ij.aD && (y.Cb.confidence=g.default.Ij.aD);f60=1;break;}}});e60=4;break;}}};u.prototype.r4b=function(){var g60,w;g60=2;for(;g60 !== 5;){switch(g60){case 3:w=this;g60=9;break;g60=1;break;case 1:this.Pba || this.XB.forEach(function(x){var h60;h60=2;for(;h60 !== 1;){switch(h60){case 2:x.Cf === q.TEMPORARY && w.mi.fail(x.id,n.default.time.ga());h60=1;break;}}});g60=5;break;case 2:w=this;g60=1;break;}}};u.prototype.dump=function(){};m50=27;break;}}})(r.EventEmitter);b.Vha=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iFa=void 0;c=a(21);r=(function(){function m(k){this.config=k;}m.prototype.h6b=function(k){var l,d,f;l=this.config;d=[];f=[];k.forEach(function(q,t){void 0 === q.kb?f.push(t):d.push(t);});if(0 !== f.length)for(var h=-1,g=-1,n=function(q){var t,v,u,w,x,y;t=f[q];v=k[t];if(0 === q || t !== f[q - 1] + 1)(h=d[c.a7(d,function(z){return z < t;})] || -1,g=d[c.uo(d,function(z){return z > t;})] || -1);u=0;w=l.H_b;q=0;x=l.I_b;-1 < g && (w=k[g].bitrate,x=k[g].kb);-1 < h && (q=k[h].kb,u=k[h].bitrate);w=Math.log(w);u=0 === u?0:Math.log(u);y=Math.log(v.bitrate);v.O8=Math.max(0,Math.min(110,Math.round((q * (w - y) + x * (y - u)) / (w - u) * 100) / 100));},p=0;p < f.length;p++){n(p);}};return m;})();b.iFa=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.EMa=void 0;c=a(20);m=a(2);k=a(931);l=a(932);d=a(933);f=a(934);h=a(935);g=a(936);n=a(937);p=a(938);q=a(939);r=(function(){function t(v,u,w,x){this.config=v;this.mediaType=u;this.Oc=w;this.console=x;}t.prototype.append=function(v,u){var w,x,y,z;void 0 === this.track?this.FP(v.stream):this.track !== v.stream.track && (m.assert(this.track.la),m.assert(v.stream.track.la),this.track=v.stream.track);m.assert(void 0 !== this.Zs);x={va:v,offset:null !== (w=v.Aza) && void 0 !== w?w:c.K.Ia,Ee:this.config.Vda,Uj:!1};x=this.Zs.reduce(function(A,B){return B.append(A,u);},x);y=x.va;w=x.offset;z=x.Uj;x=x.Cl;x=void 0 === x?[]:x;y.Ea && (m.assert(v.Ea,"Fragments must be marked for edit at request time"),v.ej(y.Ea));if(z || !this.Mab)return {offset:w,Uj:z};z=this.Mab.Ea(v);v=z.ea;y=z.Cl;z=z.response;Array.prototype.push.apply(x,void 0 === y?[]:y);return {offset:w,Uj:!v,Cl:x,response:z};};t.prototype.reset=function(){this.Zs=this.track=void 0;};t.prototype.FP=function(v){var u,w;this.track=v.track;this.Mab=new q.qMa(this.console,this.config,this.mediaType,v.profile);this.Zs=[];if(0 === this.mediaType){this.config.Vda && this.Zs.push(new d.bRa(this.config,v.track,this.console));w=this.Aoa(v);w.equal(c.K.Ia)?this.config.ro && v.nf && this.Uua(v.P.L) && this.Zs.push(new g.HKa(this.config)):this.Zs.push(new k.uja(w));this.config.uZ || (this.console.log("MediaSplicer: NegativePtsGuard: " + w.Zb() + ", " + (null === (u=v.nf) || void 0 === u?void 0:u.Zb())),this.Zs.push(new f.$Ma(this.config,v,this.console)));this.CXb()?(this.config.Ch || this.Zs.push(new n.mFa(v,this.config,this.Oc,this.console)),this.Zs.push(new l.lNa(this.config,v,this.console)),this.lac(v) && (m.assert(v.la),this.Zs.push(this.lHb(v.nf || c.K.Ia,v.la,w)))):this.Zs.push(new p.nFa(this.console));}};t.prototype.Uua=function(v){return this.config.Uua || this.config.s8a && -1 !== this.config.s8a.indexOf(v);};t.prototype.Aoa=function(v){return k.uja.Aoa(this.config,v.nf,this.Oc,this.console);};t.prototype.CXb=function(){return !this.config.AK;};t.prototype.lac=function(v){return this.config.ldc && this.config.ro && ! !v.nf;};t.prototype.lHb=function(v,u,w){return new h.DSa(v.Aa(w),u,this.console);};return t;})();b.EMa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.uja=void 0;c=a(20);m=a(9);r=(function(){function k(l){this.nf=l;}k.Aoa=function(l,d,f,h){var g;g=c.K.Ia;d && (f=null === f || void 0 === f?void 0:f.Tmc,l.yec && void 0 !== f && 0 <= f?(l=new c.K(f,48E3),g=d.add(l),m.R && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + l) + (" for ASE applied offset of " + g + "."))):l.fI && (g=d));return g;};k.prototype.append=function(l){var d,f,h;d=l.Ee;f=l.Uj;h=l.Cl;return {va:l.va,offset:l.offset.add(this.nf),Ee:d,Uj:f,Cl:h};};return k;})();b.uja=r;},function(r,b,a){var m,k,l,d;function c(f){return f.toString() + " (nrdp: " + f.FK + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.lNa=void 0;m=a(20);k=a(253);l=a(9);d=a(2);r=(function(){function f(h,g,n){this.console=n;this.offset=m.K.Ia;this.nf=h.ro?g.nf:void 0;d.assert(g.la);this.la=g.la;}f.prototype.append=function(h){var g,n,p,q;if(h.Uj)return h;g=h.va;n=h.offset;p=h.Ee;q=h.Cl;void 0 !== this.L9a && (d.assert(void 0 !== this.Iva),g.ec.add(h.offset).equal(this.L9a)?(h=this.$Eb(g,n.add(this.offset)).U - this.Iva,0 > h?this.offset=this.offset.add(m.K.ZB):0 === h?this.offset.lessThan(m.K.Ia) && (this.offset=this.offset.add(m.K.ZB)):1 === h?this.offset.greaterThan(m.K.Ia) && (this.offset=this.offset.Aa(m.K.ZB)):this.offset=this.offset.Aa(m.K.ZB)):this.offset=m.K.Ia);this.Iva=this.ZEb(g,n.add(this.offset)).U;this.L9a=g.Jd.add(n);return {va:g,offset:n.add(this.offset),Ee:p,Uj:!1,Cl:q};};f.prototype.$Eb=function(h,g){var n,p;h=this.wXa(h.ec);n=k.ew(h).add(k.ew(g));p=h.add(g).Aa(n);l.R && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(g) + ", start rounding error: " + k.ew(h).toString() + ", offset rounding error: " + k.ew(g).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Zb() + ", (" + h.FK + g.FK + "ms), last fragment end nrdp: " + this.Iva);return p;};f.prototype.ZEb=function(h,g){var n,p,q;n=this.la;h=this.wXa(h.Jd);p=k.ew(h.Aa(n)).add(k.ew(n)).add(k.ew(g));q=h.add(g).Aa(p);l.R && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Aa(n)) + ", frame duration: " + c(n) + ", offset: " + c(g) + ", timestamp rounding error: " + k.ew(h.Aa(n)).toString() + ", frame duration rouding error: " + k.ew(n).toString() + ", offset rounding error: " + k.ew(g).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Zb() + ", (" + h.Aa(n).FK + n.FK + g.FK + "ms)");return q;};f.prototype.wXa=function(h){return this.nf?h.Aa(this.nf):h;};return f;})();b.lNa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bRa=void 0;c=a(20);m=a(2);k=a(9);r=(function(){function l(d,f,h){this.config=d;this.console=h;this.Hx=c.K.Ia;m.assert(f.la);this.la=f.la;d=f.bd[0].profile;this.Hba=this.ASb(d,this.la);this.jba=this.xSb(d,this.la);}l.prototype.append=function(d,f){var h,g,n,p,q;if(d.Uj)return d;h=d.va;g=d.offset;n=d.Cl;n=void 0 === n?[]:n;d=d.Ee;p=f.iQ;f=f.zxa;if(this.Eya){q=this.K0b(h,this.Eya);h.Ea && this.Pna(q)?(k.R && this.console.trace("SeamlessAudio: dropping first frame"),h.Dqa(1),this.Hx=q):(this.Hx=q.add(this.la),this.zYa(this.Hx) || (k.R && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.fd.Zb() + " error would be " + this.Hx.Zb() + " (editing " + (h.Ea?"":"not ") + "allowed)"),n.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:h.Pa,pts:h.ec.U}}}}),this.Hx=c.K.Ia,d=!1));this.Eya=void 0;}if(h.Wo || h.ly)(m.assert(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.Ea || !f && h.ly || (q=this.L0b(h,p,f),q.rj(c.K.Ia) && (k.R && this.console.trace("SeamlessAudio: dropping last frame"),h.Eqa(1))),this.Eya=p);m.assert(this.zYa(this.Hx));this.Mva=h.Kc;return {va:h,offset:g.add(this.Hx),Ee:d,Uj:!1,Cl:n.length?n:void 0};};l.prototype.L0b=function(d,f,h){var g;if(h)g=this.Hx.add(d.Kc.Aa(h)).Aa(this.la);else (g=d.Kc.Aa(f),g=this.Hx.add(g).Aa(this.la));k.R && this.console.trace("SeamlessAudio: fragment end: " + d.Kc.Zb() + ", splice " + f.Zb() + ", next start " + (null === h || void 0 === h?void 0:h.Zb()) + ", error " + g.add(this.la).Zb() + ", error with frame drop " + g.Zb() + ", is" + (this.Pna(g)?"":" not") + " within bounds of [" + this.Hba.Zb() + " and " + this.jba.Zb() + ")");return g;};l.prototype.K0b=function(d,f){var h;m.assert(this.Mva);h=this.Hx.add(this.Mva.Aa(d.fd)).Aa(this.la);k.R && this.console.trace("SeamlessAudio: fragment start: " + d.fd.Zb() + ", splice " + f.Zb() + ", last fragment end: " + this.Mva.Zb() + ", error " + h.add(this.la).Zb() + ", error with frame drop " + h.Zb() + ", is" + (this.Pna(h)?"":" not") + " within bounds of [" + this.Hba.Zb() + " and " + this.jba.Zb() + ")");return h;};l.prototype.Pna=function(d){return d.lessThan(this.jba) && d.rj(this.Hba);};l.prototype.zYa=function(d){return d.lessThan(this.jba.add(c.K.ZB)) && d.rj(this.Hba.Aa(c.K.ZB));};l.prototype.xSb=function(d,f){return "object" === typeof this.config.VAa && void 0 !== this.config.VAa[d]?(d=new c.K(this.config.VAa[d],1E3).wg(f.X).add(new c.K(1,f.X)),c.K.min(f,d)):f;};l.prototype.ASb=function(d,f){var h;if("object" === typeof this.config.WAa && void 0 !== this.config.WAa[d]){h=f.Ok(-2);d=new c.K(this.config.WAa[d],1E3).wg(f.X).Aa(new c.K(1,f.X));return c.K.max(h,d);}return new c.K(-12,1E3);};return l;})();b.bRa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ma=void 0;c=a(20);m=a(2);k=a(9);r=(function(){function l(d,f,h){var g;this.console=h;this.$_=!1;m.assert(f.la,"NegativePtsGuard: stream.frameDuration must exist.");this.la=f.la;this.ro=d.ro;this.nf=null !== (g=f.nf) && void 0 !== g?g:c.K.Ia;}l.prototype.append=function(d){var f,h,g,n,p;if(this.$_ || d.Uj)return d;f=d.va;h=d.offset;g=d.Ee;d=d.Cl;if(f.Ea){n=f.ec.Aa(this.ro?this.nf:c.K.Ia).add(h);if(n.lessThan(c.K.Ia)){p=Math.ceil(n.WB(-1).Ok(this.la));k.R && this.console.trace("NegativePtsGuard: dropping " + p + " frames on first fragment to avoid nagative pts, profile offset " + (this.nf.Zb() + ", request content start ") + (f.ec.Zb() + ", current timestamp offset ") + (h.Zb() + " => firstPlatformTimestamp ") + (n.Zb() + "."));f.Dqa(p);}}this.$_=!0;return {va:f,offset:h,Ee:g,Uj:!1,Cl:d};};return l;})();b.$Ma=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.DSa=void 0;c=a(20);m=a(9);r=(function(){function k(l,d,f){this.nf=l;this.la=d;this.console=f;}k.prototype.append=function(l,d){var f,h,g,n,p,q;f=l.va;h=l.offset;g=l.Ee;n=l.Cl;l=l.Uj;if(!l){p=d.endOfStream;d=d.iQ;if(p && d){p=f.ec.Aa(this.nf).add(h);q=f.Jd.Aa(this.nf).add(h);d=d.Aa(c.K.ZB);m.R && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.Zb() + "-" + q.Zb() + " vs media splice point at " + d.Zb());p.add(this.la).rj(d)?(m.R && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),l=!0):q.rj(d) && (d=Math.ceil(q.Aa(d).Ok(this.la)),f.Ea?(m.R && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),f.Eqa(d)):(m.R && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),l=!0));}else p && m.R && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {va:f,offset:h,Ee:g,Uj:l,Cl:n};};return k;})();b.DSa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HKa=void 0;r=(function(){function a(c){this.$_=!1;this.tac=c.HWb;}a.prototype.append=function(c){c.va.Ea && (c.va.D$b(this.$_?0:this.tac),this.$_=!0);return c;};return a;})();b.HKa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.mFa=void 0;c=a(409);m=a(7);r=(function(){function k(l,d,f,h){this.config=d;this.Oc=f;this.console=h;this.la=l.la;}k.prototype.append=function(l,d){var f,h,g,n,p,q,t,v,u,w,x,y,z;if(l.Uj)return l;h=!1;g=c.Zsa(this.config,this.Oc);n=l.va;p=l.offset;q=l.Ee;t=l.Cl;v=n.Kc;u=n.fd;w=n.ly;w=n.Wo || w;if(!l.va.Ea || !w || q)return l;x=n.Jd.Aa(n.ec);w=Math.floor(x.Ok(this.la));y=null !== (f=d.zxa) && void 0 !== f?f:v.Aa(this.la.WB(2));v=y.Aa(u);f=w;z=!1;d.zxa && (d=this.rZa(x,v,v),f=d.cl,z=d.Qbb);g=y.Aa(m.K.Ga(g));u=m.K.max(g.Aa(u),m.K.Ia);z || (u=this.rZa(x,u,v),f=u.cl,u.Qbb && (--f,this.la.WB(f)));f < (this.config.F0b || 1)?h=!0:0 < w - f && l.va.Eqa(w - f);return {va:n,offset:p,Ee:q,Uj:h,Cl:t};};k.prototype.rZa=function(l,d,f){var h;l=m.K.min(l,d);l=Math.floor(l.Ok(this.la));d=this.la.WB(l);f=f.Aa(d);h=0 < l && f.lessThan(m.K.ZB);return {cl:l,pqc:d,Fnc:f,Qbb:h};};return k;})();b.mFa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nFa=void 0;c=a(9);r=(function(){function m(k){this.console=k;}m.prototype.append=function(k,l){var d,f,h,g,n,p,q;if(k.Uj)return k;d=!1;f=k.va;h=k.offset;g=k.Ee;k=k.Cl;l=l.iQ;n=f.Kc;if(this.yq && n.lessThan(this.yq.Kc)){p=this.yq.iQ.Aa(f.fd);q=f.Kc.Aa(this.yq.iQ);q.lessThan(p) && (c.R && this.console.trace("AudioOverlapGuard: skipping append of " + f + (", current error: " + p.Zb()) + (", discard error: " + q.Zb())),d=!0);}this.yq=(f.Wo || f.ly) && l?{iQ:l,Kc:n}:void 0;return {va:f,offset:h,Ee:g,Uj:d,Cl:k};};return m;})();b.nFa=r;},function(r,b,a){var k,l,d,f;function c(h,g,n,p){var q,t,v,u,w,x,y,z,A;if(void 0 !== h.rea || void 0 !== h.SBa || h.uv || h.vv){q=h.end - h.start;t=Array(q);v=h.uv;u=h.vv;w=h.a3a?h.a3a - 1:0;x=h.b3a?h.b3a - 1:0;y=Math.min(q,Math.max(h.rea || 0,v && !w?1:0));h=Math.min(q - y,Math.max(h.SBa || 0,u && !x?1:0));z=Math.floor(n.Ok(g));g=Math.max(0,Math.min(q - y - h,v?Math.max(0,z - w):0));A=Math.max(0,Math.min(q - y - h - g,u?Math.max(0,z - x):0));g=y + g;n=q - h - A;x=x?0:Math.max(0,z + 1 - A);z=(1 - p) / (z + 1);for(A=0;A < q;++A){t[A]=A < y?-Infinity:A >= q - h?-Infinity:v && A < g?m(p + (A - y + w) * z):u && A >= n?m(1 - (A - n + x + 1) * z):0;}return t;}}function m(h){return 20 * Math.log(h) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.qMa=void 0;r=a(0);k=a(61);l=a(7);d=a(2);f=r.__importDefault(a(4));a=(function(){var i60;i60=2;for(;i60 !== 3;){switch(i60){case 1:h.prototype.PMb=function(g,n){var l60,q,p;l60=2;for(;l60 !== 8;){switch(l60){case 3:var V1j=" e";V1j+="d";V1j+="it ";V1j+="failed";var b1j="]";b1j+=":";b1j+=" ";var W1j="Me";W1j+="diaFragmentEd";W1j+="itor [";q=c(g.Ea,g.la,this.yw,this.eQ);return (n=new k.Zw(this.ubb,g.stream,n).Cfb({dj:g.Ea.start,X:g.UJ,BA:q,sAa:!1,EK:this.config.Ida,KJ:m(this.eQ)}))?{ea:!0,Vk:g.hAa(p),data:n.va}:(this.console.error(W1j + g.mediaType + b1j + g.toString() + V1j),{ea:!1});break;case 5:l60=!(g.Ea.start || p || g.Ea.uv || g.Ea.vv)?4:3;break;case 2:d.assert(g.Ea);p=g.Ea.rea;l60=5;break;case 4:return {ea:!0};break;}}};h.prototype.QMb=function(g,n,p){var m60,t,q;m60=2;for(;m60 !== 7;){switch(m60){case 4:m60=g.Ea.end === g.Yx && !q && !g.Ea.uv && !g.Ea.vv?3:9;break;case 9:var m1j=" e";m1j+="dit";m1j+=" ";m1j+="f";m1j+="ailed";var M1j="]";M1j+=":";M1j+=" ";var P1j="Med";P1j+="iaFragmen";P1j+="tE";P1j+="d";P1j+="itor [";t=c(g.Ea,g.la,this.yw,this.eQ);return (n=new k.Zw(this.ubb,g.stream,n).aAa({dj:g.Ea.end - p,X:g.UJ,BA:t,sAa:!1,EK:this.config.Ida,KJ:m(this.eQ)}))?{ea:!0,Vk:g.hAa(q),data:n.va}:(this.console.error(P1j + g.mediaType + M1j + g.toString() + m1j),{ea:!1});break;case 2:void 0 === p && (p=0);d.assert(g.Ea);q=g.Ea.SBa;m60=4;break;case 3:return {ea:!0};break;}}};return h;break;case 2:h.prototype.Ea=function(g){var k60,p,q,t,n;k60=2;for(;k60 !== 21;){switch(k60){case 18:k60=g.Ea.end !== g.Yx || g.Ea.SBa || g.Ea.vv?17:22;break;case 5:k60=!g.Ea?4:3;break;case 12:k60=!q?11:10;break;case 3:k60=0 >= g.duration?9:8;break;case 24:t && n.push(t);k60=23;break;case 14:(p=this.PMb(g,g.response),q=p.ea,t=p.Vk);p=p.data;k60=12;break;case 19:t=g.Ea.start;k60=18;break;case 17:g=this.QMb(g,q?l.$s(q):g.response,t);q=g.ea;t=g.Vk;p=g.data;k60=26;break;case 6:k60=0 < g.Ea.start || g.Ea.rea || g.Ea.uv?14:18;break;case 25:return {ea:q};break;case 11:return {ea:q};break;case 2:var G1j="MediaFragmentEditor [${fragment.mediaType}]: Attempt to edit";G1j+=" appended ";G1j+="fragment";n=[];d.assert(!g.Ye,G1j);k60=5;break;case 7:return {ea:!0};break;case 10:t && n.push(t);q=p;k60=19;break;case 8:k60=!(g.response instanceof ArrayBuffer)?7:6;break;case 9:return {ea:!1};break;case 26:k60=!q?25:24;break;case 22:return {ea:!0,Cl:n,response:q};break;case 23:q=p;k60=22;break;case 4:return {ea:!0};break;}}};i60=1;break;}}function h(g,n,p,q){var j60;j60=2;for(;j60 !== 9;){switch(j60){case 2:var s1j="1";s1j+="S";s1j+="IYbZr";s1j+="NJCp9";this.console=g;this.config=n;s1j;j60=4;break;case 4:var q1j="med";q1j+="ia";q1j+="|asej";q1j+="s";var H1j="M";H1j+="P";H1j+="4";this.ubb=new f.default.Console(H1j,q1j);0 === p && (this.yw=l.K.Ga(n.yw),this.eQ=Math.pow(10,(n.eQ[q] || -44) / 20));j60=9;break;}}}})();b.qMa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w;function c(x,y,z,A){var B,C;f.assert(x.Zj,"Current time: " + n.default.time.ga() + " cr: " + x.currentTime);f.assert(x.currentTime.isFinite());B=z.Aa(x.currentTime);B=Math.max(Math.ceil(B.lK / x.speed),0);C=null !== A && void 0 !== A?A:{id:void 0,q1a:B,lcb:0,n3b:B};C.id=setTimeout(function(){z.Aa(x.currentTime).kF(l.K.Ia)?y():(C.lcb++,c(x,y,z,C));},B);C.q1a=B;return C;}Object.defineProperties(b,{__esModule:{value:!0}});b.Dfa=b.XT=void 0;m=a(0);k=a(11);l=a(20);d=a(254);f=a(2);h=a(9);g=a(941);n=m.__importDefault(a(4));p=a(180);q=a(942);t=a(943);v=a(156);u=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{mL:{get:function(){return this.yma;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Mbb:{get:function(){return this.nyb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mKb:{get:function(){return this.kwb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{QAa:{get:function(){return this.dAb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.kwb=z === w.yQ?0:n.default.time.ga();this.nyb=y;this.dAb=z;h.R && f.assert(!this.yma,"Invalid replacement of timeout value");this.yma=A;};x.prototype.complete=function(){this.yma=void 0;this.set(l.K.Pv,w.yQ);};return x;})();(function(x){x[x.yQ=0]="none";x[x.Uab=1]="microTask";x[x.setTimeout=2]="setTimeout";})(w || (w={}));r=(function(x){function y(z,A,B){var C;void 0 === B && (B="unknown");C=x.call(this) || this;C.za=z;C.console=A;C.name=B;C.lyb=0;C.wla=!1;C.ql=new u();C.EE=new k.Gf();C.Xl=new d.P3([],g.A_a(function(D,F){return D.CK.bm(F.CK);},function(D,F){return F.Vn.priority - D.Vn.priority;},function(D,F){return D.Vn.id > F.Vn.id?1:D.Vn.id < F.Vn.id?-1:0;}));C.gYa(z);return C;}m.__extends(y,x);Object.defineProperties(y.prototype,{bac:{get:function(){return this.za.Zj;},enumerable:!1,configurable:!0}});y.prototype.B0a=function(z,A){z=new (z.bind.apply(z,m.__spread([void 0],A)))();z.id=this.lyb++;z.iDb(this);this.gna(z);return z;};y.prototype.UA=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.B0a(q.OKa,z);};y.prototype.KQb=function(){var z;z={hasSchedule:! !this.ql.mL,schedule:this.ql.mL && ({sleepTime:this.ql.mL.q1a,originalSleepTime:this.ql.mL.n3b,clockSkewAdjustments:this.ql.mL.lcb}),nextWakeup:this.ql.Mbb.U,timeScheduled:this.ql.mKb,scheduleType:w[this.ql.QAa],numTasks:this.Xl.length,clock:{ir:this.za.Zj,ct:this.za.currentTime.U,sp:this.za.speed}};h.R && this.trace("audit",z);return z;};y.prototype.kO=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.B0a(t.yRa,z);};y.prototype.j0a=function(z,A,B){return this.UA(function(){return m.__generator(this,function(C){switch(C.label){case 0:return [4,v.Ih.qG(A)];case 1:return (C.ob(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.gYa=function(z){var A;A=this;this.jE();this.EE.clear();this.za=z;this.EE.on(z,"stopStart",function(){return A.aR();});this.EE.on(z,"clockAdjusted",function(){return A.PZ();});this.EE.on(z,"speedChanged",function(){return A.$2b();});this.PZ();this.emit("clockChanged");};y.prototype.$2b=function(){this.jE();this.aR();};y.prototype.lb=function(){this.reset();};y.prototype.reset=function(){this.jE();this.Xl.clear();};y.prototype.PZ=function(){var z,A;z=this;A=this.Xl.map(function(B){return B.Vn;});this.jE();this.Xl.clear();A.forEach(function(B){return z.gna(B,!1);});this.aR();};y.prototype.gna=function(z,A){var B,C;void 0 === A && (A=!0);B=z.Vba();C=this.Zjb(B);B={Vn:z,CK:C,Ada:B};h.R && this.trace("Adding task " + z.name + " for " + C.U);f.assert(!this.Xl.contains(B));this.Xl.push(B);A && this.aR();};y.prototype.aR=function(){var z,A,B,C,D;z=this;h.R && this.trace("recheck schedule task count:" + this.Xl.length);if(this.bac){if(this.wla)h.R && this.trace("already executing, bailing");else {B=this.ql.Mbb;C=this.Xl.By();D=null !== (A=null === C || void 0 === C?void 0:C.CK) && void 0 !== A?A:l.K.Pv;D.isFinite() && D.Ixa(B)?(this.jE(!1),this.za.currentTime.rj(D)?(this.ql.set(D,w.Uab),Promise.resolve().then(function(){z.ql.QAa === w.Uab && (z.ql.complete(),z.ygb());})):(h.R && this.trace("scheduling next wake up for",{Erc:D.U,Vn:null === C || void 0 === C?void 0:C.Vn.name}),A=c(this.za,function(){z.ql.complete();z.ygb();},D),this.ql.set(D,w.setTimeout,A))):D.isFinite() || this.ql.QAa !== w.setTimeout || this.jE(!1);}}else (h.R && this.trace("should check schedule is false, stopping"),this.jE());};y.prototype.ygb=function(){var z,A,B;A=0;B=null === (z=this.Xl.By()) || void 0 === z?void 0:z.Ada;try{for(this.wla=!0;1E4 > A++ && this.pdc();){;}}finally{this.wla=!1;this.jE();1E4 < A && !this.aVb(B)?this.error("Task scheduler executed more than 10000 iterations in same tick"):(this.trace("Next tasks",this.Xl.map(function(C){return {name:C.Vn.name,Frc:C.CK.U};})),this.aR());}};y.prototype.aVb=function(z){var A,B;B=null === (A=this.Xl.By()) || void 0 === A?void 0:A.Ada;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.pdc=function(){var z,A,B;B=null !== (A=null === (z=this.Xl.By()) || void 0 === z?void 0:z.CK) && void 0 !== A?A:l.K.Pv;h.R && this.trace("tryExecuteNextTask @" + this.za.currentTime.U + ", next wakeup at " + B);if(this.za.currentTime.rj(B) && (z=this.Xl.pop())){A=z.Vn;h.R && this.trace("Running a task @" + this.za.currentTime.U + ", scheduled for time:" + B.U + ("Name:" + A.name));try{A.Ry();z.Ada=A.Vba();z.CK=this.Zjb(z.Ada);}catch(C){throw (this.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + C,{stack:C.stack}),A.lb(),C);}finally{z.CK !== l.K.Pv && A.state === p.fo.Nda && (f.assert(!this.Xl.contains(z)),this.Xl.push(z));}return !0;}};y.prototype.ogb=function(z){f.assert(z.Xd === this);this.wda(z,!1);this.gna(z);};y.prototype.wda=function(z,A){var B;void 0 === A && (A=!0);B=this.Xl.find(function(C){return C.Vn === z;});B && this.S7b(B,A);};y.prototype.S7b=function(z,A){this.Xl.remove(z);A && this.aR();};y.prototype.jE=function(z){void 0 === z && (z=!0);this.ql.mL && (z && this.emit("stopping"),clearTimeout(this.ql.mL.id),this.ql.complete());};y.prototype.Zjb=function(z){return z.type === v.Jja.absolute?z.timestamp:z.timestamp.add(this.za.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,m.__spread(["TaskScheduler(" + this.name + "):"],A));};y.prototype.error=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,m.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(k.EventEmitter);b.XT=r;b.Dfa=function(x,y,z){var A;A=void 0;return (z || x.za.Zj) && x.za.currentTime.rj(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.kO(v.Ih.Lw(y),B);}),Vn:A};};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.A_a=void 0;c=a(0);m=a(9);k=a(2);b.A_a=function(){for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}m.R && k.assert(l.length);return function(f,h){var g,q,t;try{for(var n=c.__values(l),p=n.next();!p.done;p=n.next()){q=p.value;t=q(f,h);if(0 !== t)return t;}}catch(u){var v;v={error:u};}finally{try{p && !p.done && (g=n.return) && g.call(n);}finally{if(v)throw v.error;}}return 0;};};},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.OKa=void 0;c=a(0);m=a(20);k=a(2);a(127);l=a(180);d=a(156);r=(function(f){function h(g,n,p){n=f.call(this,n,p) || this;n.n9b=g;n.reset();return n;}c.__extends(h,f);h.prototype.reset=function(){var g,n;if(this.Pc === l.fo.Nda || this.Pc === l.fo.pending)null === (n=null === (g=this.MM) || void 0 === g?void 0:g.return) || void 0 === n?void 0:n.call(g);this.Pc=l.fo.pending;this.MM=this.n9b();this.Nla=d.Ih.qG(m.K.Ia);};h.prototype.cj=function(){this.reset();k.assert(this.fr);this.fr.ogb(this);};h.prototype.Vba=function(){return this.Nla;};h.prototype.Lf=function(){var g,n,p,q,t;t=null !== (n=null === (g=this.MM) || void 0 === g?void 0:g.next()) && void 0 !== n?n:{done:!0};t.done?(this.Nla=d.Ih.WDa,null === (q=(p=this.MM).return) || void 0 === q?void 0:q.call(p),this.MM=void 0):this.Nla=t.value;};h.prototype.lb=function(){var g,n;null === (n=null === (g=this.MM) || void 0 === g?void 0:g.return) || void 0 === n?void 0:n.call(g);this.MM=void 0;f.prototype.lb.call(this);};return h;})(l.$ja);b.OKa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.yRa=void 0;c=a(0);m=a(180);k=a(156);r=(function(l){function d(f,h,g){g=l.call(this,g) || this;g.TAa=f;g.YN=h;return g;}c.__extends(d,l);d.prototype.Vba=function(){return this.Pc === m.fo.pending?this.TAa:k.Ih.WDa;};d.prototype.Lf=function(){this.YN();};return d;})(m.$ja);b.yRa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.EQa=void 0;r=a(0);c=r.__importDefault(a(29));m=r.__importDefault(a(410));a=(function(){function k(l){this.t6=[];this.t6[c.default.cb.Jb]=new m.default(l,c.default.cb.Jb);this.t6[c.default.cb.dc]=new m.default(l,c.default.cb.dc);}k.prototype.ZBb=function(l,d,f){this.t6[l].add(d,f);};k.prototype.Bta=function(){var l;l=[];this.t6.forEach(function(d){var f;if(d){f=d.get();f && 0 < f.length && f.forEach(function(h){l.push(h);});d.reset(!0);}});return l;};k.prototype.OOb=function(l){var d;d=this.Bta();l.strmsel=d;return 0 < d.length;};return k;})();b.EQa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.t5a=void 0;b.t5a=function(a){var c,m,k;c=Math.floor(1E6 * Math.random());m=a.iua;k=a.G$;a=0 === c % a.jua && 0 < k.length;return {jt:a,YW:a && 0 === c % m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Q_a=void 0;b.Q_a=function(a,c){var m;if(!Array.isArray(a.N_a))return a;m=a.hi?a.hi():Object.create(a);a.N_a.forEach(function(k){if(void 0 !== k.D0b && c.duration >= k.D0b && k.config)for(var l in k.config){m[l]=k.config[l];}});return m;};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DHa=void 0;c=a(0).__importStar(a(10));m=a(125);k=a(2);r=(function(){var n60;n60=2;function l(d,f,h){var o60;o60=2;for(;o60 !== 3;){switch(o60){case 2:var j1j="1";j1j+="SIYbZrNJCp";j1j+="9";this.kn=d;this.G=f;this.Ki=h;j1j;o60=3;break;}}}for(;n60 !== 7;){switch(n60){case 9:l.prototype.rwb=function(d){var C60,f;C60=2;for(;C60 !== 9;){switch(C60){case 2:d=this.kn.Fb.Zf[d];C60=1;break;case 1:f=d.Qf;f.tl || --this.LH;m.Lq.instance.vO(f);d.Qf=void 0;C60=9;break;}}};return l;break;case 5:l.prototype.txb=function(){var u60;u60=2;for(;u60 !== 1;){switch(u60){case 2:this.LH=0;u60=1;break;case 4:this.LH=9;u60=6;break;u60=1;break;}}};l.prototype.YVa=function(d,f){var v60,h,g;v60=2;for(;v60 !== 5;){switch(v60){case 2:(h=this.kn.Fb.Zf[d],g=h.Qf);g && (g=f.wN(d,g),this.rwb(d),h.Qf=this.MTa(d,f.I,f.jy(),this.kn.Qm,this.kn.J),f.yAa(g));v60=5;break;}}};l.prototype.MTa=function(d,f,h,g,n){var w60,p,q;w60=2;for(;w60 !== 6;){switch(w60){case 3:var p1j="me";p1j+="diaRequ";p1j+="estCompl";p1j+="ete";var C1j="transp";C1j+="o";C1j+="rtrepor";C1j+="t";q.on(C1j,function(t){var A60;A60=2;for(;A60 !== 1;){switch(A60){case 2:var N1j="t";N1j+="ransport";N1j+="r";N1j+="eport";p.kn.emit(N1j,t);A60=1;break;case 4:p.kn.emit("",t);A60=4;break;A60=1;break;}}});q.on(p1j,function(t){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:var d1j="me";d1j+="diaRequest";d1j+="Complete";p.kn.emit(d1j,t);B60=1;break;case 4:p.kn.emit("",t);B60=7;break;B60=1;break;}}});q.ta();return q;break;case 2:var E1j="e";E1j+="r";E1j+="r";E1j+="o";E1j+="r";var K1j="ne";K1j+="tworkfailin";K1j+="g";var X1j="cr";X1j+="ea";X1j+="ted";(p=this,q=m.Lq.instance.jv(d,f,!0,h,g,n));q.xh.on(q,X1j,function(){var x60;x60=2;for(;x60 !== 5;){switch(x60){case 2:var F1j="creat";F1j+="eD";F1j+="lTracksEnd";--p.LH;0 === p.LH && p.kn.Hb.Tm(F1j);x60=5;break;}}});q.xh.on(q,K1j,function(){var y60,t;y60=2;for(;y60 !== 8;){switch(y60){case 5:k.assert(q.iX);t=p.kn.af.P;t.Cr.Vt(q.iX,void 0,q.ah,q.vj);t.Fm();y60=8;break;case 1:y60=q.W8?5:8;break;case 2:var O1j="repo";O1j+="rtN";O1j+="etwo";O1j+="rkFaili";O1j+="ng: ";n.Si && p.Ki.Fn(O1j + q);y60=1;break;}}});q.xh.on(q,E1j,function(){var z60;z60=2;for(;z60 !== 5;){switch(z60){case 2:var S1j="NFE";S1j+="r";S1j+="r_MC_S";S1j+="treamingFa";S1j+="ilure";var i1j="D";i1j+="ownloadTra";i1j+="c";i1j+="k fatal er";i1j+="ror";var x1j="Do";x1j+="wnl";x1j+="oadTrack fatal er";x1j+="ror";n.Si && p.Ki.Fn(x1j);p.kn.dr(i1j,void 0,S1j,q.ah,0,q.vj);z60=5;break;}}});w60=3;break;}}};n60=9;break;case 2:l.prototype.fwb=function(d,f){var p60,h,g;p60=2;for(;p60 !== 8;){switch(p60){case 2:var D1j="cre";D1j+="ateDlTracksSta";D1j+="r";D1j+="t";(h=this,g=this.kn.J);0 === this.LH && this.kn.Hb.Tm(D1j);this.LH+=d.length;d=d.map(function(n){var q60;q60=2;for(;q60 !== 1;){switch(q60){case 2:return h.MTa(n,f.I,f.jy(),h.kn.Qm,g);break;}}});p60=3;break;case 3:m.Lq.instance.Lf();return d;break;}}};l.prototype.swb=function(){var r60,d,f;r60=2;for(;r60 !== 3;){switch(r60){case 4:f.forEach(function(h){var t60;t60=2;for(;t60 !== 5;){switch(t60){case 2:h.tl || --d.LH;m.Lq.instance.vO(h);t60=5;break;}}});r60=3;break;case 2:(d=this,f=[]);this.kn.Fb.Zf.forEach(function(h){var s60;s60=2;for(;s60 !== 5;){switch(s60){case 2:c.oa(h.Qf) || f.push(h.Qf);h.Qf=void 0;s60=5;break;}}});this.kn.AU && (f.push(this.kn.AU),this.kn.AU=void 0);r60=4;break;}}};n60=5;break;}}})();b.DHa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.VEa=void 0;c=a(14);m=a(7);r=(function(){function k(l){this.rI=l;this.state=new m.As(c.wa.jh);this.$j={};}k.prototype.getState=function(){return this.state.value;};k.prototype.Gd=function(l){this.state.set(l);};k.prototype.addListener=function(l){this.state.addListener(l);};k.prototype.paused=function(){this.state.value === c.wa.Dc && this.state.set(c.wa.Hh);};k.prototype.g9a=function(){return this.state.value === c.wa.jh;};k.prototype.Lr=function(){return "function" === typeof this.rI.Lr?this.rI.Lr():this.state.value === c.wa.Dc;};k.prototype.Df=function(){return this.state.value === c.wa.sd || this.state.value === c.wa.bg;};k.prototype.h9a=function(){return this.state.value === c.wa.Kj;};k.prototype.i9a=function(){return this.state.value === c.wa.Cs;};k.prototype.Le=function(){return this.rI.Le();};k.prototype.kq=function(){return "function" === typeof this.rI.kq?this.rI.kq():1;};k.prototype.SX=function(){return this.rI.SX();};k.prototype.zR=function(l,d){this.$j[l]=d;};k.prototype.Uo=function(l){return ! !this.$j[l.I] || l.Ri;};return k;})();b.VEa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xPa=void 0;r=(function(){function a(c,m,k){var l;this.WCb=c;this.Ola=m;this.lwb=k;this.cla=(l={},l[0]=!1,l[1]=!1,l);this.reset();}a.prototype.KA=function(){var c,m;c=this;m=this.WCb.filter(function(k){return !k.H8a(c.lwb());});0 === m.length && this.Ala?this.uyb():m.forEach(function(k){c.cla[k.mediaType] || (k.once("requestAppended",function(){c.cla[k.mediaType]=!1;c.KA();}),c.cla[k.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.Ala=!1;new Promise(function(m){c.uyb=m;}).then(function(){return c.Ola();});};a.prototype.m_b=function(){this.Ala || (this.Ala=!0,this.KA());};return a;})();b.xPa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EEa=void 0;c=a(9);r=(function(){function m(k){this.console=k;this.HH=[];this.CD=[];c.R && this.console.trace("Received pending adoption " + this.vm.length);}Object.defineProperties(m.prototype,{length:{get:function(){return this.HH.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vm:{get:function(){return this.CD;},enumerable:!1,configurable:!0}});m.prototype.j_b=function(k){k=this.CD.indexOf(k);-1 !== k && (c.R && this.console.trace("Marking request attached"),this.HH[k].C8a=!0,this.ykb(k));};m.prototype.k_b=function(k){k=this.CD.indexOf(k);-1 !== k && (c.R && this.console.trace("Marking request completed"),this.HH[k].yt=!0,this.ykb(k));};m.prototype.U7b=function(k){var l,d;l=this;d=[];this.CD.forEach(function(f,h){k(f) && d.unshift(h);});d.forEach(function(f){l.CD.splice(f,1);l.HH.splice(f,1);});};m.prototype.push=function(k){this.CD.push(k);this.HH.push({C8a:!1,yt:!1});c.R && this.console.trace("Pushing pending request, " + this.length + " total");};m.prototype.TE=function(){return 0 < this.length;};m.prototype.ykb=function(k){var l;l=this.HH[k];l.C8a && l.yt && (l=this.CD[k],this.CD.splice(k,1),this.HH.splice(k,1),c.R && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.R && this.console.trace("Removing last request, contentEndPts: " + l.Jc));};return m;})();b.EEa=r;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q;function c(t,v){return (1 === t.mediaType?0:1) - (1 === v.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.$Ka=b.Zia=b.Itb=void 0;m=a(0);k=a(85);l=a(127);d=a(14);f=a(7);h=a(2);g=a(20);n=m.__importDefault(a(4));r=a(76);p=a(35);q=(function(t){function v(){return null !== t && t.apply(this,arguments) || this;}m.__extends(v,t);return v;})(a(256).YL);b.Itb=q;b.Zia={lG:c};a=(function(t){function v(u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I){var R;z=t.call(this) || this;z.Sqc=u;z.J=w;z.P=y;z.Op=A;z.R9=B;z.Xq=F;z.xU=G;z.kj=H;z.Uz=L;z.events=K;z.zx=I;z.ve=new q([]);z.Pm=!1;z.GU=0;z.iU=z.Wxa.bind(z);z.G=f.oi(n.default,x,A.id && A.id.length?"{" + A.id + "}":"");z.ml=z.G.error.bind(z.G);z.Ob=z.G.warn.bind(z.G);z.Nj=z.G.trace.bind(z.G);z.An=null !== D && void 0 !== D?D:g.K.Ga(z.u.ba);z.Xla=null === E || void 0 === E?void 0:E.Kc;null === (R=z.Uz) || void 0 === R?void 0:R.addListener(z.iU);y && C && z.wWb(y,C);return z;}m.__extends(v,t);Object.defineProperties(v.prototype,{If:{get:function(){return this.Pm;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{u:{get:function(){return this.Op;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Vv:{get:function(){return this.ve.every(function(u){return u.Vv;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{oj:{get:function(){return this.ve.every(function(u){return u.oj;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Os:{get:function(){return this.hm().reduce(function(u,w){return u + w.Os;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vh:{get:function(){return this.hm().every(function(u){return u.vh();});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Qe:{get:function(){return this.hm().map(function(u){return u.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{X:{get:function(){return this.Qu.X;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Va:{get:function(){return this.Qu.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{hb:{get:function(){return this.Qu.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Aj:{get:function(){return this.Bd.wg(this.X).bb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vt:{get:function(){return this.An.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wq:{get:function(){return this.u.Oe.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{cC:{get:function(){return this.u.kg.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{SI:{get:function(){var u,w;w=null === (u=this.u.u.fq) || void 0 === u?void 0:u[0];return w && this.ec?g.K.Ga(Math.max(0,w[0] - this.ec.U - this.u.Oe.U)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{VY:{get:function(){return this.ve.reduce(function(u,w){return u && w.Kc?g.K.max(u,w.Kc):w.Kc?w.Kc:u;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Nua:{get:function(){return this.vt.U;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ze:{get:function(){return this.Bd.U;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Hq:{get:function(){return this.Qu.Hq;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Bd:{get:function(){return this.Xq;},enumerable:!1,configurable:!0}});v.prototype.Iq=function(u){this.Bd.equal(u) || (this.Xq=u);};v.prototype.by=function(u){return (u=this.$a(u))?Promise.resolve(u.by()):Promise.resolve(l.AsyncIterator.b5a());};v.prototype.BE=function(){this.hm().forEach(function(u){return u.BE();});};v.prototype.reset=function(){this.ve.forEach(function(u){u.reset();});};v.prototype.vd=function(){var u,w;this.Pm || (this.Pm=!0,null === (u=this.FD) || void 0 === u?void 0:u.Zc(),this.FD=void 0,this.ve.forEach(function(x){x.vd();}),null === (w=this.Uz) || void 0 === w?void 0:w.removeListener(this.iU),this.events.removeAllListeners());};v.prototype.HP=function(){return !0;};v.prototype.$a=function(u){return this.ve.get(u);};v.prototype.hm=function(u){void 0 === u && (u=c);return this.ve.items.slice().sort(u);};v.prototype.UX=function(){return this.ve.items;};v.prototype.fJ=function(u){return this.$a(u);};v.prototype.th=function(u,w){u=this.$a(u);if(!u)return 0;if(w)return u.On;w=u.wr;if(void 0 === w)return 0;u=this.xU();return w - u;};v.prototype.lB=function(){var u,w,x,y,z,A,B;B=null === (u=this.$a(0)) || void 0 === u?void 0:u.Ao;u=null === (w=this.$a(1)) || void 0 === w?void 0:w.Ao;return {rp:null !== (x=null === u || void 0 === u?void 0:u.U) && void 0 !== x?x:0,Ns:null !== (y=null === B || void 0 === B?void 0:B.U) && void 0 !== y?y:0,qu:null !== (z=null === u || void 0 === u?void 0:u.ca) && void 0 !== z?z:0,TD:null !== (A=null === B || void 0 === B?void 0:B.ca) && void 0 !== A?A:0};};v.prototype.rP=function(u){var w;return (u=this.$a(u))?null !== (w=u.wr) && void 0 !== w?w:0:0;};v.prototype.Fm=function(u){u=this.$a(u);h.assert(u);return u.Fm();};v.prototype.Wxa=function(u){d.oq(u.newValue) && this.Ks();};v.prototype.mE=function(u){return this.ve.every(function(w){return w.mE(u);});};v.prototype.FX=function(u){var w,x;return null !== (x=null === (w=this.ve.get(u)) || void 0 === w?void 0:w.J0a) && void 0 !== x?x:g.K.Ia;};v.prototype.pm=function(u){this.Pm || (u.P6 || h.assert(!u.Ec),this.Ks(),this.oj && this.Ula());this.Bv(u);};v.prototype.bK=function(u){this.J.G8 && this.Ks(!0);this.UI(u);};v.prototype.aK=function(u){this.J.G8 && this.Ks(!0);this.IE(u);};v.prototype.IBa=function(u){var w;return d.oq((null === (w=this.Uz) || void 0 === w?void 0:w.value) || d.Mc.Lj) && (!u || this.GU + this.J.Aba < n.default.time.ga());};v.prototype.Ks=function(u){void 0 === u && (u=!1);this.IBa(u) && (this.GU=n.default.time.ga(),u={type:"checkBufferingProgress"},this.events.emit(u.type,u));};v.prototype.Ula=function(){var u;u={type:"branchStreamingComplete"};this.events.emit(u.type,u);};v.prototype.wWb=function(u,w){var x;this.zBa(u);h.assert(u.L === this.u.L || isNaN(u.L) && isNaN(this.u.L));u=null !== w && void 0 !== w?w:null === (x=this.R9) || void 0 === x?void 0:x.call(this,u);h.assert(u,"tracks need to exist upon initialization");};v.prototype.toJSON=function(){var u,w;return {segment:this.u.id,branchOffset:this.Ze,viewableId:this.Op.L,contentStartPts:null === (u=this.ec) || void 0 === u?void 0:u.U,contentEndPts:null === (w=this.Jd) || void 0 === w?void 0:w.U};};return v;})(k.Ow);b.$Ka=a;p.Re(r.tu,a);p.Re(r.lz,a);},function(r,b,a){var c,m,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ROa=void 0;r=a(0);c=r.__importDefault(a(29));m=c.default.cb;k=c.default.Mz;l=a(7);d=a(20);f=r.__importDefault(a(148));h=r.__importDefault(a(4));a=(function(){function g(n,p,q,t,v){this.Lt=n;this.ht=p;this.J=q;this.G=t;this.Tg=v;}g.prototype.D1b=function(n){n={type:"requestCreated",request:n};l.eb(this.ht,n.type,n);};g.prototype.C1b=function(n){var p;p=n.Sa.Xa.u;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{V:p.id,offset:d.K.Ga(this.Lt.spa - p.ba)},completePlayerStreamingTimestamp:d.K.Ga(this.Lt.wr),trackIndex:n.stream.track.SD};l.eb(this.ht,n.type,n);};g.prototype.hcb=function(n,p,q){var t,v,u;v=this.Tg;u=this.Lt.Ej.re;u.Lhb(n);1 === v && this.J.Uda && (void 0 === u.Qva?u.Nhb(h.default.time.ga()):h.default.time.ga() - u.Qva > this.J.Uda && (n.bitrate !== u.U9a && (h.default.storage.set("vb",n.bitrate),u.F$b(n.bitrate)),u.Nhb(h.default.time.ga())));u.SY && u.SY === n || (this.Lt.Ej.mbc(p,u.SY,n),u.t$b(n),p=0,n.Cb && n.Cb.confidence && n.Cb.Qa && (p=n.Cb.Qa.pa),u={V:this.Lt.Xa.u.id,offset:d.K.Ga(q - this.Lt.Xa.u.ba)},n={type:"streamSelected",nativetime:h.default.time.ga(),mediaType:v,streamId:n.id,manifestIndex:n.P.Rb,trackIndex:n.track.SD,streamIndex:n.vg,movieTime:q,bandwidth:p,longtermBw:p,rebuffer:0,position:u,stream:n,manifest:null === (t=n.P) || void 0 === t?void 0:t.ja},l.eb(this.ht,n.type,n));};g.prototype.y1b=function(n,p,q){var t,v,u,w,x;t=p.P;v=t.Dn;u=this.Lt.Ej.re;w=t.VXb(p);x=w.zva;w=w.WXb;q && p.Lc && !u.TY?(w=k.hx,p.cu=k.name[w],this.gcb(n,p.Lc,p.cu,p.location,p.bitrate),u.TY=p.Lc):!q && p.Lc && p.Lc !== u.TY && (w=w?void 0 === u.TY?k.hx:v.uR === k.Nia?k.kub:k.oga:k.jub,p.cu=k.name[w],this.gcb(n,p.Lc,p.cu,p.location,p.bitrate),u.TY=p.Lc);u.SP || (w={type:"logdata",target:"startplay",fields:{}},this.Tg === m.dc?w.fields.alocid=p.location:this.Tg === m.Jb && (w.fields.locid=p.location),l.eb(this.ht,w.type,w));q && p.location && !u.SP?(w=k.hx,p.cu=k.name[w],this.ecb(t.Rb,n,p.location,p.fwa,p.Lc,p.OK,p.cu,p.Iy),u.SP=p.location):!q && p.location && p.location !== u.SP && (w=x?void 0 === u.SP?k.hx:v.uR === k.Nia?k.Irb:k.oga:k.Hrb,p.cu=k.name[w],this.ecb(t.Rb,n,p.location,p.fwa,p.Lc,p.OK,p.cu,p.Iy),p.Iy=void 0,u.SP=p.location);this.J.qw || (p.P9a=p.location,p.S9a=p.Lc);};g.prototype.bca=function(n){n={type:"requestsPruned",requests:n};l.eb(this.ht,n.type,n);};g.prototype.gcb=function(n,p,q,t,v){var u,w;u=this.Tg === m.Jb?"video":"audio";w=f.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:u,server:p,reason:q,location:t,bitrate:v,confidence:w.confidence};w.confidence && (n.throughput=w.Qa.pa);this.Lt.Ej.re.TY && (n.oldserver=p);l.eb(this.ht,n.type,n);};g.prototype.ecb=function(n,p,q,t,v,u,w,x){l.eb(this.ht,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:p,mediatype:this.Tg === m.Jb?"video":"audio",location:q,locationlv:t,serverid:v,servername:u,selreason:w,seldetail:x});};g.prototype.Pla=function(n,p){p={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(p)};n.JF || l.eb(this.ht,p.type,p);};g.prototype.Fn=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.ga() + ", " + n};l.eb(this.ht,n.type,n);};g.prototype.SPb=function(n){l.eb(this.ht,"transportReport",n);};g.prototype.RPb=function(n){l.eb(this.ht,"mediaRequestComplete",n);};return g;})();b.ROa=a;},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iNa=b.vqb=void 0;c=a(0);m=c.__importDefault(a(4));k=a(9);l=a(954);d=a(7);r=(function(){return function(f,h,g,n){this.J=h;this.Lt=n;g=d.oi(m.default,g,"[" + f + "]");this.fbb=1 === f?h.Gba:h.xba;n=m.default.jq()[f];this.nZ=1 === f?h.K_b:h.r_b;this.nZ=Math.min(h.A_b * n,this.nZ);k.R && g.trace("This pipeline's buffer size ",n,this.nZ);this.Cba=(1 === f?h.TB:h.vy) || h.Cba;this.eba=(1 === f?h.J_b:h.q_b) || h.eba;this.nna=h.nna;};})();b.vqb=r;r=(function(f){function h(g,n,p,q){return f.call(this,g,n,p,q) || this;}c.__extends(h,f);h.prototype.m5a=function(g,n,p,q){var t,v,u,w,x,y,z,A,B;void 0 === p && (p=!1);void 0 === q && (q=!1);u=this.Lt;w=g.P.jy();x=u.md.index;y=u.pe.index;z=n === x;A=n === y;if(!A || z && u.md.Ea){if(z){B=g.f5a(u.md);B.BR(u.md.CC);A && (u.md.Ea || u.pe.Ea) && B.ej({start:null === (t=B.Ea) || void 0 === t?void 0:t.start,end:null === (v=u.pe.Ea) || void 0 === v?void 0:v.end});}else B=g.zl(n);}else (B=g.f5a(u.pe),B.BR(u.pe.CC));B.uQ=n + 1;if(t=l.m6a(u,u.Cc))(k.R && u.Nj("getFragmentForRequest pts:",u.Cc,"in region:",t,"previous region:",u.Jva),l.e2a(u.G,B,t,{lXb:z,sXb:A,BXb:void 0 === u.Jva || u.Jva !== t.region}));A && (B.cab(),B.C$b(u.Xa.u));z && B.Hwa(!0);z=g.aa.VK;if(!(B.uQ === n || null !== z && void 0 !== z && z.N8a(n) || w || !this.nna && B.Ea || p && !(n > x + 1) || q && !(n < y - 2)))for((p=q?y - 1:y,++n);n < g.aa.length && n < p && (B.ca < this.fbb || B.duration < this.Cba) && (1 === B.stream.Hg.length || this.kFb(g,n));++n){q=g.zl(n);if(null === z || void 0 === z?0:z.N8a(n))break;if(l.M8a(u,q))break;if(B.duration + q.duration > this.eba)break;if(B.ca + q.ca > this.nZ)break;B.Q6(q);B.uQ=n + 1;k.R && u.Nj("getFragmentForRequest: extended fragment startPts:",B.ba,"to duration:",B.duration,"size:",B.ca,"min request size:",this.fbb,"max request size:",this.nZ,"min request duration:",this.Cba,"max request duration:",this.eba,"edit:",B.Ea);}k.R && u.Nj("getFragmentForRequest(" + n + ") returning:",B,"stream:",B.stream,"firstRequestInRegion:",B.Pra,"lastRequestInRegion:",B.ly,"nextIndex:",B.uQ);return B;};h.prototype.kFb=function(g,n){return !g.Hg.some(function(p){return n === p.ye;});};return h;})(r);b.iNa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.e2a=b.nXb=b.M8a=b.m6a=void 0;c=a(21);b.m6a=function(m,k){if((m=m.Xa.u.Py) && 0 !== m.length)return c.Vc(m,function(l){return l.ec.U <= k && k < l.Jd.U;});};b.M8a=function(m,k){return k.index === m.md.index?!0:(m=m.Xa.u.Py) && 0 !== m.length?m.some(function(l){l=l.ec;return k.ec.kF(l) && l.lessThan(k.Jd);}):!1;};b.nXb=function(m,k){return k.index === m.pe.index?!0:(m=m.Xa.u.Py) && 0 !== m.length?m.some(function(l){l=l.Jd;return k.ec.lessThan(l) && l.kF(k.Jd);}):!1;};b.e2a=function(m,k,l,d){var f,h,g,n,p,q,t,v;m=null === (f=k.Ea) || void 0 === f?void 0:f.start;f=null === (h=k.Ea) || void 0 === h?void 0:h.end;v=h=!1;if((null === d || void 0 === d?0:d.BXb) || (null === d || void 0 === d || !d.lXb) && k.ec.lessThan(l.ec)){if(t=k.Dra(l.ec.U))(t=(null !== (n=null === (g=k.Ea) || void 0 === g?void 0:g.start) && void 0 !== n?n:0) + t.dj,m=Math.max(null !== m && void 0 !== m?m:0,t));t=l.ec.U;h=!0;}if((null === d || void 0 === d || !d.sXb) && k.Jd.greaterThan(l.Jd)){if(t=k.Dra(l.Jd.U))(t=(null !== (q=null === (p=k.Ea) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + t.dj,f=Math.min(null !== f && void 0 !== f?f:Infinity,t),k.uQ=k.index);t=l.Jd.U;v=!0;}if(void 0 !== m || void 0 !== f)(k.ej({start:m,end:f}),void 0 !== t && (!k.CC || t > k.CC) && k.BR(t));k.z$b(l.region,h,v);};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.KQa=void 0;c=a(0);m=c.__importStar(a(10));k=a(257);l=a(957);d=a(960);r=a(85);f=a(2);h=a(181);g=a(7);n=a(62);p=a(126);a=(function(q){function t(v,u,w,x,y,z,A,B){var C;C=q.call(this,v) || this;C.J=u;C.G=w;C.Yl=x;C.$d=y;C.Tg=z;C.gta=B;C.olb=!0;C.Ie=new h.CL(C.G);C.ml=C.G.error.bind(C.G);C.Ob=C.G.warn.bind(C.G);C.Nj=C.G.trace.bind(C.G);C.eWa();C.ar=null === A || void 0 === A?void 0:A.UA(function(){return C.n8b();},"pruner");return C;}c.__extends(t,q);Object.defineProperties(t.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Xa:{get:function(){return this.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yy:{get:function(){return 0 < this.pC;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{gCa:{get:function(){return !this.PM;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{pC:{get:function(){return this.La.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{lu:{get:function(){return this.La.lu;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{z6b:{get:function(){return this.Ie.count;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{BN:{get:function(){return this.Ie.yt;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{lW:{get:function(){return this.La.complete.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{wr:{get:function(){return this.La.w_a;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{spa:{get:function(){return this.La.v_a;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{bG:{get:function(){return this.La.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{On:{get:function(){return void 0 === this.La.rd?0:this.La.ef - this.La.rd;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ao:{get:function(){return {ca:this.La.lE,U:Math.max(this.La.w_a - this.La.rd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{gO:{get:function(){return this.La.TGb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{lE:{get:function(){return this.La.lE;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Os:{get:function(){return this.La.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{CF:{get:function(){return this.Ywb();},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{vya:{get:function(){return this.La.eWb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{y$:{get:function(){return this.La.length > this.La.lu;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{hr:{get:function(){return this.La.hr;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{CYb:{get:function(){return this.La.$3b;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{J9a:{get:function(){return this.TUa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{vdb:{get:function(){return this.La.length - this.Sm;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{aa:{get:function(){return this.La;},enumerable:!1,configurable:!0}});t.prototype.vd=function(){var v,u;u=this.La;setTimeout(function(){u.forEach(function(w){w.abort();w.Zc();});},1);this.eWa();this.Ie.K8();null === (v=this.ar) || void 0 === v?void 0:v.lb();};t.prototype.reset=function(){this.vd();this.Ie.ggb();};t.prototype.close=function(){this.Ie.K8();};t.prototype.lhb=function(){this.xTa=!0;};t.prototype.mta=function(){return {endMarked:void 0 !== this.Ie.count,queueCount:this.Ie.count,isComplete:this.Ie.yt,itemCount:this.Ie.x_a,continuousEndPts:this.Ie.Xn().reduce(function(v,u){return u && !u.done && (u=u.value,100 > Math.abs(u.$ra - v) || -1 === v)?u.TPb:v;},-1),sentinelItemCount:this.Ie.Xn().filter(function(v){return v && v.done;}).length,processedCount:this.Ie.zLb,rc:this.pC};};t.prototype.u0a=function(v,u,w){var x;x=this.J;f.assert(!v.header);v=v.Bec?new d.YEa(w,x,u.track,v,this.La,this.G):k.Z1.create(w,x,u.track,v,this.La,!1,this.G,this.gta);v.ta(this);this.Xu(v);return v;};t.prototype.rCb=function(v){var u;v.ta(this);v.P6=!0;this.Xu(v);u=Promise.resolve();v.complete?(this.Gka(v),this.Yl.hcb(v.stream,v.rd,v.$c),u=this.dfa(),this.Bv(v)):(v.active && this.aP(v),v.Oza && this.IE(v));return u;};t.prototype.Xu=function(v){var u,w;this.La.So(v);(null === (u=this.ar) || void 0 === u?void 0:u.state) === n.fo.complete && (null === (w=this.ar) || void 0 === w?void 0:w.cj());this.Gka(v);v.Wo && (this.PM=!1);};t.prototype.by=function(){return this.Ie.nsa();};t.prototype.Moa=function(){this.Sm === this.La.length && this.xTa && this.Ie.K8();};t.prototype.dfa=function(){var v,u,w,x,B;v=this;w=Promise.resolve();x=this.$d;if(!x.HP(this.Tg) || this.Sm === this.La.length)return w;for(var y=this.J.D_b,z=0,A=[];this.Sm < this.La.length;){if(u=this.La.get(this.Sm)){if(this.La.G3a && this.La.G3a.Va < u.Va)break;if(!u.xt())break;A.push(u);++z;m.Ka(this.rd) || (this.rd=u.rd);}++this.Sm;if(!m.oa(y) && z >= y)break;}if(A.length){void 0 !== this.Ie.count && (this.ml("tryToAtach() but requestQueue has sentinel:",this.Ie.count),this.Ie.ggb());if(this.olb)w=Promise.all(A.map(function(C){return v.Ie.enqueue(C).then(function(){return v.r$(C);});}));else for(u=0;u < A.length;u++){try{B=A[u];x.$Sb(this.mediaType).VLb(B);this.r$(B);}catch(C){return (this.Sm-=A.length - u,Promise.reject(C));}}this.Moa();}return w;};t.prototype.r$=function(v){this.TUa=v;this.P3a(v);};t.prototype.pV=function(v,u){var w,x,y;w=this;x=[];if(0 !== this.La.lu){y=this.La.odb;this.La.Ddc.bCa(function(z){if(!m.oa(v) && z.P.Rb !== v || z.Wo || y > z.rd)return !0;z.yv && (w.PM=!1);if(!w.R4(z))return (w.Ob("request abort failed:",z.toString()),!0);x.unshift(z);});this.ema();x.length && "function" === typeof u && u(x);}};t.prototype.V_=function(){this.ema();};t.prototype.n8b=function(){var v,u,w,x,y,z;return c.__generator(this,function(A){switch(A.label){case 0:A.label=1;case 1:if(!this.La.length)return [3,3];v=this.La.get(0);u=g.K.Ga(null !== (z=null === (y=this.J.ER) || void 0 === y?void 0:y.U) && void 0 !== z?z:0);w=u.add(v.Kc);return [4,n.Ih.Lw(w)];case 2:A.ob();if(1 >= this.La.complete.length && !v.Wo)return [3,3];f.assert(v === this.La.get(0));v.Ye || this.R4(v);x=this.La.splice(0,1);0 < this.Sm && this.Sm--;this.Yl.bca(x);x=void 0;return [3,1];case 3:return [2];}});};t.prototype.F_=function(v,u){var w,x,y,z,A,B;w=this;x=this.J;y=!1;z=0;A=this.La.some(function(C){if(v < C.ef)return (y && w.Gka(C),!0);++z;C.Ye || (w.Ob("pruning unappended request:",C && C.toString()),x.Si && w.Yl.Fn("prune pts:" + v + " unappended request:" + (C && C.toString())),C.yv && (w.PM=!1,y=!0),w.R4(C,u) || w.ml("MediaRequest.abort error:",C.ah));});if(0 < z){B=this.La.splice(0,z);this.Sm-=Math.min(z,this.Sm);this.Yl.bca(B);}return A;};t.prototype.e$=function(v){var u,w,x;void 0 === v && (v={mW:null,PQ:null,rd:null,wj:0,hp:0,Lg:0,aa:[]});u=this.J;w=this.La;m.Ka(w.rd) && (null === v.rd || w.rd < v.rd) && (v.rd=w.rd);x=this.wr;void 0 !== x && null === v.mW && (v.mW=x);x=w.ef;void 0 !== x && (null === v.PQ || x > v.PQ) && (v.PQ=x);v.wj+=w.wj;v.hp+=w.hp;v.Lg=u.VBa?v.Lg + w.jfb:v.Lg + w.lE;Array.prototype.unshift.apply(v.aa,w.ob.aa);return v;};t.prototype.xv=function(v){if(this.La.length && (v=this.La.r3a(v)))return v;};t.prototype.cBb=function(v){var u,w,x;w=v.Jd;v=v.$c;f.assert(w,"expected contentEndTimestamp to be defined");f.assert(void 0 !== v,"expected contentStartPts to be defined");v=this.La.zra(v);x=this.La.get(v);f.assert(x && void 0 !== x.$c && void 0 !== x.Jc && void 0 !== x.index,"expected existing request to be defined with properties");if(null === (u=x.Jd) || void 0 === u?0:u.equal(w))return (this.SWa(v),[x.Jc,x.index + 1]);this.SWa(v - 1);return [x.$c,x.index];};t.prototype.Fm=function(){var v,u;v=this;u=[];this.La.forEach(function(w){var x;x=w.ADa();1 === x?u.push(w):2 === x && v.Xa.P.Pf("swapUrl failure");});return u;};t.prototype.aK=function(v){v.dF && v.xt() && this.dfa();this.IE(v);};t.prototype.pm=function(v){var u,w;v.dF && !v.Ye && this.dfa();(null === (u=this.ar) || void 0 === u?void 0:u.state) === n.fo.complete && (null === (w=this.ar) || void 0 === w?void 0:w.cj());this.Bv(v);};t.prototype.rna=function(v){var u,w,x;u=1 === this.Tg?"v_":"a_";w=this.La;x=w.XO(v);v=0 <= x?w.get(x):void 0;return (w=0 <= x && x + 1 < w.length?w.get(x + 1):void 0) && v?v.ef !== w.rd?u + "rg":v.complete && w.complete?u + "uk":u + "fd":u + "rm";};t.prototype.Ywb=function(){return this.La.hr + this.La.lu;};t.prototype.eWa=function(){var v,u,w;u=void 0 !== this.La && 0 < this.La.length;w=this.La;this.La=new l.TEa(this.G,this);this.Sm=0;this.Ie.clear();this.TUa=void 0;this.rd=null;null === (v=this.ar) || void 0 === v?void 0:v.cj();this.xTa=this.PM=!1;u && (v=w.map(function(x){return x;}),this.Yl.bca(v));};t.prototype.Gka=function(v){this.PM?v.yv && v.Hwa(!1):(v.yv || v.Hwa(!0),this.PM=!0);};t.prototype.SWa=function(v){var u;for(v+=1;v < this.pC;v++){u=this.La.get(v);f.assert(u,"expected request to exist");this.Ie.remove(u);u.aborted || (this.R4(u),u.Zc());}this.ema();};t.prototype.R4=function(v,u){if(!v.abort())return !1;"function" === typeof u && u(v);return !0;};t.prototype.ema=function(){var v,u,w,x;v=this;if(0 !== this.La.length){w=[];x=0;this.La.q6b(function(y,z){z < v.Sm && ++x;w.push(y);});this.Sm-=x;null === (u=this.ar) || void 0 === u?void 0:u.cj();this.Yl.bca(w);}};return t=c.__decorate([p.XI],t);})(r.Ow);b.KQa=a;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.QEa=void 0;c=a(0);m=a(61);k=c.__importDefault(a(29));r=c.__importDefault(a(4));l=a(7);d=a(2);f=a(258);h=a(75);g=a(251);n=a(114);p=r.default.zs;a=(function(q){function t(v,u,w,x,y,z,A,B){var C;x=q.call(this,v,w,x,z,A,B) || this;y=h.jl.prototype.toString.call(x) + (y?"(cache)":"");B={offset:w.offset,ca:w.txa + 8,responseType:0};x.push(new g.DS(v,u,y + "(moof)",B,x,z,A));B={offset:w.offset + B.ca,ca:w.ca - B.ca,responseType:p.Oc && !p.Oc.e0.UT?0:1};if(x.mediaType === k.default.cb.Jb && x.Ea){if(0 < x.Ea.start){C=x.w3a(x.Ea.start);C && (B.offset=w.offset + C,B.ca=w.ca - C);}x.Ea.end < x.Yx && (C=x.w3a(x.Ea.end)) && (B.ca-=w.ca - C);}x.push(new g.DS(v,u,y + "(mdat)",B,x,z,A));return x;}c.__extends(t,q);t.prototype.xt=function(){return !this.Ye && ! !this.La.length && this.La.every(function(v){return v.xt();});};t.prototype.eI=function(v){var u,w,x,y,z,A,B,C;if(this.Ye)return {status:n.Hj.Tw};if(!this.xt())return {status:n.Hj.ag};u=!1;w=this.La[0].response;x=w.slice(0,w.byteLength - 8);y=new DataView(w);w=y.getUint32(x.byteLength);d.assert("mdat" === m.oH(y.getUint32(x.byteLength + 4)));z=this.Ea && 0 < this.Ea.start;y=this.Ea && this.Ea.end < this.Yx;if(this.Ea && (z || y)){if(z)(A=new m.Zw(this.G,this.stream,x),B=A.Cfb(this.Ea.start,this.X));if(y && !1 !== B){A=new m.Zw(this.G,this.stream,B?l.$s(B.va):x);C=A.aAa(this.Ea.end - this.Ea.start,this.X);}if(x=y?C:B)(u=v.appendBuffer(l.$s(x.va),l.oy(this)),B && (d.assert(void 0 !== B.Zr),d.assert(void 0 !== B.fR),w-=B.Zr),C && (d.assert(void 0 !== C.Zr),d.assert(void 0 !== C.fR),w-=C.Zr,B && d.assert(void 0 !== B.Zr)));A=this.hAa();}else u=v.appendBuffer(x,l.oy(this));u && (u=v.appendBuffer(m.$P(w - 8),l.oy(this))) && (u=v.appendBuffer(this.La[1].response,l.oy(this)));this.Ye=u;this.D7b();return {status:u?n.Hj.Tw:n.Hj.ag,Vk:A};};t.prototype.toString=function(){return "ID: " + this.Vi() + ":" + q.prototype.toString.call(this);};return t;})(f.BL);b.QEa=a;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.TEa=void 0;c=a(0);a(2);m=a(958);r=a(35);k=a(959);l=a(76);d=a(85);f=a(249);a=(function(h){function g(n,p){var q,t;q=this;t=[new k.Y1(n),new k.Y1(n),new k.Y1(n)];q=h.call(this,t,function(v){return v.complete?q.empty || v.Va <= q.UGb?0:1:v.active?1:2;}) || this;t=c.__read(t,3);q.Hi=t[0];q.We=t[1];q.Tu=t[2];q.cr=0;q.ska=0;q.G=n;q.Zd=p;return q;}c.__extends(g,h);Object.defineProperties(g.prototype,{ca:{get:function(){return this.Hi.ca + this.We.ca + this.Tu.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ddc:{get:function(){return this.Tu;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{active:{get:function(){return this.We;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{complete:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jfb:{get:function(){return this.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lE:{get:function(){return this.Hi.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wj:{get:function(){return this.Hi.ca + this.We.ca - this.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Edc:{get:function(){return this.Tu.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{hp:{get:function(){return this.ca - this.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{first:{get:function(){return this.hQb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Cn:{get:function(){return this.ODb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Iqa:{get:function(){return !this.Hi.empty || this.Tu.empty || this.We.empty?this.first:this.We.Va < this.Tu.Va?this.We.first:this.Tu.first;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Y9a:{get:function(){return this.Tu.empty || this.We.empty?this.Cn:this.We.hb < this.Tu.hb?this.Tu.Cn:this.We.Cn;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{G3a:{get:function(){return this.Tu.first;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{X:{get:function(){return this.first && this.first.X;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Va:{get:function(){return this.Iqa && this.Iqa.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{hb:{get:function(){return this.Y9a && this.Y9a.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Aj:{get:function(){return this.first && this.first.Aj;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{TGb:{get:function(){return this.Hi.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eWb:{get:function(){return this.Jc - this.v_a || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{UGb:{get:function(){return this.Hi.empty?this.Va:this.Hi.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{v_a:{get:function(){return this.Hi.empty?this.$c:this.Hi.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{w_a:{get:function(){return this.Hi.empty?this.rd:this.Hi.ef;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$3b:{get:function(){return this.We.Cn || this.Hi.Cn;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{odb:{get:function(){return this.We.ef || this.Hi.ef;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lu:{get:function(){return this.Tu.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{hr:{get:function(){return this.We.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{y_a:{get:function(){return this.Hi.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ob:{get:function(){return this.Hi.concat(this.We);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{dt:{get:function(){return this.Rg;},enumerable:!1,configurable:!0}});g.prototype.vM=function(n){var p;n.aborted?++this.ska:this.cr+=n.bytesReceived || 0;if(this.empty)this.Rg=new f.UC(this,{});else if(n.Va !== this.hb)if(n.Va > this.Rg.hb)this.Rg.s0(this.Rg.hb);else if(n.Va < this.Va || n.Va === this.Rg.hb){p=n.hb;this.HPb(function(q,t){return q.Va - t.Va;},function(q){p=q.Va === p?q.hb:p;});p === Math.max(this.hb,n.hb)?this.Rg.cpa():this.Rg.s0(p);}n.zBa(this);};g.prototype.jA=function(n){n.aborted?--this.ska:this.cr-=n.bytesReceived;this.empty?this.Rg=void 0:n.Va !== this.hb && n.hb <= this.Rg.hb && n.Va > this.Rg.Va && this.Rg.s0(n.Va);n.YZa();};g.prototype.push=function(n){this.vM(n);return h.prototype.push.call(this,n);};g.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.jA(n);return n;};g.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.jA(n);return n;};g.prototype.unshift=function(n){this.vM(n);return h.prototype.unshift.call(this,n);};g.prototype.So=function(n){this.vM(n);h.prototype.So.call(this,n);};g.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.jA(n);return !0;};g.prototype.splice=function(n,p){for(var q=[],t=2;t < arguments.length;t++){q[t - 2]=arguments[t];}t=h.prototype.splice.apply(this,c.__spread([n,p],q));q.forEach(this.vM.bind(this));t.forEach(this.jA.bind(this));return t;};g.prototype.q6b=function(n){var p;p=this;this.reduce(function(q,t,v){t.aborted && (n && n(t,v,p),0 === q.length || q[0].end !== v?q.unshift({start:v,end:v + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};g.prototype.zra=function(n){return this.s3a(function(p){return p.zra(n);});};g.prototype.XO=function(n){return this.s3a(function(p){return p.XO(n);});};g.prototype.r3a=function(n){n=this.XO(n);return -1 !== n?this.get(n):void 0;};g.prototype.D9b=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};g.prototype.$B=function(n){this.move(n);this.aP(n);};g.prototype.bK=function(n){this.cr+=n.bytesReceived - n.Qt;this.UI(n);};g.prototype.pm=function(n){for(this.cr+=n.bytesReceived - n.Qt;this.We.first && this.We.first.complete && (this.Hi.empty?this.We.first === this.Iqa:this.We.first.Va === this.Hi.hb);){this.X$b();}this.Bv(n);};g.prototype.ZZ=function(n,p,q){this.cr-=n.bytesReceived;++this.ska;this.$O(n,p,q);};g.prototype.sca=function(n,p){this.We.Ndc(n.ca - p);this.Yra(n,p);};return g;})(m.BGa);b.TEa=a;r.Re(d.Ow,a,!1);r.Re(l.tu,a);r.Re(l.lz,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BGa=void 0;c=a(0);a(2);r=(function(){function m(k,l){this.ud=k;this.GM=l;this.dA();}Object.defineProperties(m.prototype,{length:{get:function(){return this.Hf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{empty:{get:function(){return 0 === this.Hf;},enumerable:!1,configurable:!0}});m.prototype.hQb=function(){return this.oh && this.oh.get(0);};m.prototype.ODb=function(){return this.BM && this.BM.get(this.BM.length - 1);};m.prototype.get=function(k){0 > k && (k+=this.length);for(var l=0;l < this.ud.length;++l){if(this.Li[l + 1] > k)return this.ud[l].get(k - this.Li[l]);}};m.prototype.push=function(k){this.ud[this.GM(k)].push(k);this.dA();return this.Hf;};m.prototype.shift=function(){var k;if(this.oh){k=this.oh.shift();this.dA();return k;}};m.prototype.pop=function(){var k;if(this.BM){k=this.BM.pop();this.dA();return k;}};m.prototype.unshift=function(k){this.ud[this.GM(k)].unshift(k);this.dA();return this.Hf;};m.prototype.So=function(k){var l;l=this.GM(k);this.ud[l].So(k);this.dA();};m.prototype.remove=function(k){var l;l=this.ud.some(function(d){return d.remove(k);});l && this.dA();return l;};m.prototype.splice=function(k,l){var q,t,v,u;for(var d,f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}h=[];for(var g,n=k + Math.max(0,l),p=0;p < this.ud.length;++p){q=this.ud[p];t=this.Li[p];v=this.Li[p + 1];if(k < v){u=k - t;t=Math.min(n - t,q.length);void 0 === g && 0 < u && t < q.length?Array.prototype.push.apply(h,q.splice.apply(q,c.__spread([u,t - u],f))):(Array.prototype.push.apply(h,q.splice(u,t - u)),void 0 === g && (g=0 < p && 0 === u?p - 1:p));k=v;if(k >= n)break;}}if(f.length && void 0 !== g){for(n=this.GM(f[0]);0 < g && n < g && this.ud[g].empty;){--g;}for(;f.length && n === g;){this.ud[g].push(f.shift());if(!f.length)break;n=this.GM(f[0]);}for(;f.length && ++g < this.ud.length && this.ud[g].empty;){for(;f.length && n === g;){this.ud[g].push(f.shift());if(!f.length)break;n=this.GM(f[0]);}}f.length && (d=this.ud[g]).splice.apply(d,c.__spread([0,0],f));}this.dA();return h;};m.prototype.find=function(k){var l,d;l=this;return this.ud.some(function(f,h){d=f.find(l.QD(k,h));return void 0 !== d;})?d:void 0;};m.prototype.findIndex=function(k){var d;for(var l=0;l < this.ud.length;++l){d=this.ud[l].findIndex(this.QD(k,l));if(-1 !== d)return d + this.Li[l];}return -1;};m.prototype.indexOf=function(k){var d;for(var l=0;l < this.ud.length;++l){d=this.ud[l].indexOf(k);if(-1 !== d)return d + this.Li[l];}return -1;};m.prototype.map=function(k){var l,d;l=this;d=this.ud.map(function(f,h){return f.map(l.QD(k,h));});return Array.prototype.concat.apply([],d);};m.prototype.reduce=function(k,l){var d;d=this;return this.ud.reduce(function(f,h,g){return h.reduce(d.YAb(k,g),f);},l);};m.prototype.forEach=function(k){var l;l=this;this.ud.forEach(function(d,f){d.forEach(l.QD(k,f));});};m.prototype.j9=function(k){for(var l=this.ud.length - 1;0 <= l;--l){this.ud[l].j9(this.QD(k,l));}};m.prototype.some=function(k){var l;l=this;return this.ud.some(function(d,f){return d.some(l.QD(k,f));});};m.prototype.bCa=function(k){for(var l=this.ud.length - 1;0 <= l;--l){if(this.ud[l].bCa(this.QD(k,l)))return !0;}return !1;};m.prototype.every=function(k){var l;l=this;return this.ud.every(function(d,f){return d.every(l.QD(k,f));});};m.prototype.HPb=function(k,l){var n,p;function d(q){return q.reduce(function(t,v,u,w){return void 0 === v?t:void 0 === t?u:0 > k(v,w[t])?u:t;},void 0);}for(var f=this,h=this.ud.map(function(){return 0;}),g=this.ud.filter(function(q){return q.empty;}).length;g < this.ud.length;){n=h.map(function(q,t){return q < f.ud[t].length?f.ud[t].get(q):void 0;});p=d(n);l(n[p],this.Li[p] + h[p],this);++h[p];h[p] === this.ud[p].length && ++g;}};m.prototype.move=function(k){return this.remove(k)?(this.So(k),!0):!1;};m.prototype.X$b=function(){var k;if(this.ud[1].length){k=this.ud[1].shift();this.ud[0].push(k);this.dA();}};m.prototype.s3a=function(k){for(var l=-1,d=0;d < this.ud.length;++d){if((l=k(this.ud[d]),-1 !== l)){l+=this.Li[d];break;}}return l;};m.prototype.toJSON=function(){return this.map(function(k){return k.toJSON();});};m.prototype.dA=function(){var l;this.Hf=0;this.Li=[0];this.BM=this.oh=void 0;for(var k=0;k < this.ud.length;++k){l=this.ud[k];this.Hf+=l.length;this.Li.push(this.Li[this.Li.length - 1] + l.length);!this.oh && l.length && (this.oh=l);l.length && (this.BM=l);}};m.prototype.QD=function(k,l){var d,f;d=this;f=this.Li[l];return function(h,g){return k(h,f + g,d);};};m.prototype.YAb=function(k,l){var d,f;d=this;f=this.Li[l];return function(h,g,n){return k(h,g,f + n,d);};};return m;})();b.BGa=r;},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Y1=void 0;c=a(0);m=a(2);r=a(35);k=a(249);a=a(76);l=(function(){function d(f,h){this.Ua=[];this.Rg=void 0;this.yd=0;this.G=f;h && h.length && (Array.isArray(h)?(this.Ua=h.slice(),this.dU(0,this.Ua.length)):h instanceof d && (this.Ua=h.Ua.slice(),this.dU(0,this.Ua.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ua.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ua.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ua[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Cn:{get:function(){return this.Ua[this.Ua.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Va:{get:function(){return this.first && this.first.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hb:{get:function(){return this.Cn && this.Cn.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dt:{get:function(){return this.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ca:{get:function(){return this.yd;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{X:{get:function(){return this.first && this.first.X;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Aj:{get:function(){return this.first && this.first.Aj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aa:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});d.prototype.Ndc=function(f){this.yd+=f;};d.prototype.EDb=function(){var f;if(0 === this.Ua.length)(m.assert(void 0 === this.Rg),m.assert(0 === this.yd));else {m.assert(this.Rg instanceof k.UC);m.assert("number" === typeof this.yd);m.assert(void 0 !== this.dt && this.dt.Va === this.Va);f=this.Ua.reduce(function(h,g,n){return 0 === n || g.Va === h?g.hb:h;},0);m.assert(this.dt.hb === f);m.assert(this.Ua.reduce(function(h,g,n){return 0 === n || g.Va === h?g.hb:h;},0) === this.dt.hb);m.assert(this.Ua.reduce(function(h,g){return h + g.ca;},0) === this.yd);}};d.prototype.get=function(f){0 > f && (f+=this.Ua.length);return this.Ua[f];};d.prototype.push=function(f){this.Ua.push(f);this.dU(this.Ua.length - 1);return this.length;};d.prototype.unshift=function(f){this.Ua.unshift(f);this.dU(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ua.length)return (this.ima(this.Ua.length - 1),this.Ua.pop());};d.prototype.shift=function(){if(0 !== this.Ua.length)return (this.ima(0),this.Ua.shift());};d.prototype.splice=function(f,h){for(var g,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > f && (f+=this.Ua.length);0 > f && (f=0);f > this.Ua.length && (f=this.Ua.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Ua.length - f);0 < h && this.ima(f,f + h);p=(g=this.Ua).splice.apply(g,c.__spread([f,h],n));0 < n.length && this.dU(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,h){void 0 === f && (f=0);void 0 === h && (h=this.Ua.length);0 > f && (f+=this.Ua.length);if(f >= this.Ua.length)return new d(this.G);h > this.Ua.length && (h=this.Ua.length);0 > h && (h+=this.Ua.length);return new d(this.G,this.Ua.slice(f,h));};d.prototype.So=function(f){if(0 === this.Ua.length || f.Va >= this.hb)this.push(f);else if(f.hb <= this.Va)this.unshift(f);else {for(var h=0,g=this.Ua.length - 1,n;h < g - 1;){n=Math.floor((g + h) / 2);m.assert(n !== g && n !== h);f.Va >= this.Ua[n].hb?h=n:g=n;}m.assert(h !== g);m.assert(this.Ua[h].hb <= f.Va && this.Ua[g].Va >= f.hb);this.splice(g,0,f);}};d.prototype.remove=function(f){f=this.Ua.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}f=f.map(function(g){return g.Ua;});return new d(this.G,Array.prototype.concat.apply(this.Ua,f));};d.prototype.forEach=function(f){var h;h=this;this.Ua.forEach(function(g,n){return f(g,n,h);});};d.prototype.some=function(f){var h;h=this;return this.Ua.some(function(g,n){return f(g,n,h);});};d.prototype.every=function(f){var h;h=this;return this.Ua.every(function(g,n){return f(g,n,h);});};d.prototype.map=function(f){var h;h=this;return this.Ua.map(function(g,n){return f(g,n,h);});};d.prototype.reduce=function(f,h){var g;g=this;return this.Ua.reduce(function(n,p,q){return f(n,p,q,g);},h);};d.prototype.indexOf=function(f){return this.Ua.indexOf(f);};d.prototype.find=function(f){var h,g;h=this;return this.Ua.some(function(n,p){g=p;return f(n,p,h);})?this.Ua[g]:void 0;};d.prototype.findIndex=function(f){var h,g;h=this;return this.Ua.some(function(n,p){g=p;return f(n,p,h);})?g:-1;};d.prototype.filter=function(f){var h;h=this;return new d(this.G,this.Ua.filter(function(g,n){return f(g,n,h);}));};d.prototype.j9=function(f){for(var h=this.Ua.length - 1;0 <= h;--h){f(this.Ua[h],h,this);}};d.prototype.bCa=function(f){for(var h=this.Ua.length - 1;0 <= h;--h){if(f(this.Ua[h],h,this))return !0;}return !1;};d.prototype.zra=function(f){if(this.empty || f < this.$c || f >= this.Jc)return -1;for(var h=0,g=this.Ua.length - 1,n;g > h;){n=Math.floor((g + h) / 2);if(f >= this.Ua[n].$c && f < this.Ua[n].Jc){g=n;break;}f < this.Ua[n].Jc?g=n - 1:h=n + 1;}return g;};d.prototype.XO=function(f){if(this.empty || f < this.rd || f >= this.ef)return -1;for(var h=0,g=this.Ua.length - 1,n;g > h;){n=Math.floor((g + h) / 2);if(f >= this.Ua[n].rd && f < this.Ua[n].ef){g=n;break;}f < this.Ua[n].ef?g=n - 1:h=n + 1;}return g;};d.prototype.r3a=function(f){f=this.XO(f);return 0 <= f?this.Ua[f]:void 0;};d.prototype.D6=function(f){var h;h=this.Ua[f].hb;for(f+=1;f < this.Ua.length && h === this.Ua[f].Va;++f){h=this.Ua[f].hb;}f < this.Ua.length?void 0 === this.Rg?this.Rg=new k.UC(this,{hb:h}):this.Rg.s0(h):void 0 === this.Rg?this.Rg=new k.UC(this,{}):this.Rg.cpa();};d.prototype.vM=function(f,h){for(var g=f;g < h;++g){this.yd+=this.Ua[g].ca;}void 0 === this.Rg || 0 === f?this.D6(0):this.Rg.hb === this.hb?this.D6(f - 1):this.Ua[f].Va === this.Rg.hb && this.D6(f);};d.prototype.jA=function(f,h){var g;if(0 === f)(this.Rg=void 0,h < this.length && this.D6(h));else {g=this.Rg;g.hb > this.Ua[f - 1].hb && (h < this.length?g.s0(this.Ua[f - 1].hb):g.cpa());}for(;f < h;++f){this.yd-=this.Ua[f].ca;}};d.prototype.dU=function(f,h){void 0 === h && (h=f + 1);this.vM(f,h);};d.prototype.ima=function(f,h){void 0 === h && (h=f + 1);this.jA(f,h);};return d;})();b.Y1=l;r.Re(a.tu,l);r.Re(a.lz,l);},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.YEa=void 0;c=a(0);m=a(61);a(2);c.__importDefault(a(4));k=a(7);l=a(258);d=a(75);f=a(251);h=a(114);g=[0,0];(function(p){p[p.INIT=0]="INIT";p[p.Nrb=1]="MDAT";})(n || (n={}));r=(function(p){function q(t,v,u,w,x,y){t=p.call(this,t,w,x,v,y) || this;t.wwb=u;t.hUa=n.INIT;t.ulc=w.offset;t.Cla=d.jl.prototype.toString.call(t) + " multiple";t.qxb="AseMultiFragmentMediaRequest(" + t.$c + "-" + t.Jc + ")";t.mF=w.mF;t.QTa=0;t.n5=0;u=Math.max(g[t.mediaType],1024);t.a6=u;t.oN(w.offset,u,0);return t;}c.__extends(q,p);Object.defineProperties(q.prototype,{data:{get:function(){return this.Rm;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return this.a6;},enumerable:!1,configurable:!0}});q.prototype.pm=function(t){var v,u,w,x;switch(this.hUa){case n.INIT:this.Rm=void 0 === this.Rm?t.response:k.$s(this.Rm,t.response);t.cR();(v=new DataView(this.Rm),u=this.Nwb(v,this.QTa,this.n5),w=u.size);v=u.offset;x=u.HEb;u.S3a?(u=v + w - this.n5,g[this.mediaType]=Math.max(v + 8,g[this.mediaType]),this.oN(t.offset + t.ca,u,1),this.hUa=n.Nrb):(this.QTa=v,u=Math.max(x,256),this.oN(t.offset + t.ca,u,0));v=this.a6;this.a6+=u;l.BL.prototype.sca.call(this,this,v);}l.BL.prototype.pm.call(this,t);};q.prototype.eI=function(t){var v;if(this.Ye)return {status:h.Hj.Tw};if(!this.xt())return {status:h.Hj.ag};if(!t.appendBuffer(this.Rm,k.oy(this)))return (this.G.error(this.qxb,"appendTo failed to append array"),{status:h.Hj.ag});v=this.La[this.La.length - 1];this.Ye=t.appendBuffer(v.response,k.oy(v));return {status:this.Ye?h.Hj.Tw:h.Hj.ag};};q.prototype.oN=function(t,v,u){t=new f.DS(this.stream,this.wwb,this.Cla + " (" + this.La.length + ")",{I:this.I,mediaType:this.mediaType,Pa:this.Pa,bitrate:this.bitrate,offset:t,ca:v,location:this.location,Fe:this.Fe,responseType:u,mF:this.mF},this,this.Je,this.G);this.push(t);this.n5+=v;};q.prototype.Nwb=function(t,v,u){var w,x;for(;;){w=t.getUint32(v);x=t.getUint32(v + 4);if("mdat" === m.oH(x))return {S3a:!0,size:w,offset:v};if(v + w >= u)return {S3a:!1,size:-1,offset:v,HEb:v + w - u + 8};v+=w;}};return q;})(l.BL);b.YEa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.FRa=void 0;c=a(409);m=a(20);r=(function(){function k(l,d){this.Ch=l;this.console=d;this.EH=Infinity;this.nU=this.b6=0;this.GWa=!1;}k.prototype.g8b=function(){this.GWa=!0;};k.prototype.fPb=function(l,d,f,h,g){var n;if(this.Ch){n=l.aa;if(n){if(1 === f)(f=n.Jo(Math.ceil(this.Ch * l.la.lK),void 0,!0),n=l.zl(f),l=n.rv.Ok(l.la),n.ej({start:0,end:this.Ch - f * l}),this.EH=this.Ch);else {void 0 !== h.yib?(d=h.yib,f=d * l.la.U):(f=c.Zsa(h,g) + Math.ceil(h.xDb * l.la.lK),m.K.Ga(f).Ok(l.la),f=d + f,d=Math.ceil(f / l.la.lK));f=n.Jo(f,void 0,!0);for(g=h=0;g < f;++g){n=l.zl(g);h+=n.rv.Ok(l.la);}h=d - h;n=l.zl(f);n.ej({end:h});this.EH=d;}n.cab();return n;}}};k.prototype.fWb=function(l){this.nU+=l.$fb;this.console.warn("StallAtFrameCount, adding frames: " + l.$fb,"total frames: " + this.nU,"needed frames: " + this.EH);};k.prototype.QUb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.b6,"needed: " + this.EH);return this.b6 >= this.EH;};k.prototype.PUb=function(){return this.nU >= this.EH;};k.prototype.hWb=function(l,d){this.b6+=this.nB(l,d);};k.prototype.SNb=function(l,d,f){l.$fb=this.nB(d,f);};k.prototype.nB=function(l,d){return l.rv.Ok(d.la);};k.prototype.KA=function(){if(!this.PUb())return !1;if(this.GWa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.nU + " >= " + this.EH);return !0;};return k;})();b.FRa=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Uja=void 0;r=a(0);c=r.__importStar(a(10));m=r.__importDefault(a(29));k=r.__importDefault(a(4));l=a(21);d=a(14);f=a(255);h=a(963);g=new k.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.wa[d.wa.jh],d.wa[d.wa.sd],d.wa[d.wa.bg],d.wa[d.wa.Dc],d.wa[d.wa.Hh],"checkBuffering"];p=a(965);q={first:function(){return a(966);},random:function(){return a(967);},optimized:function(){return a(183).default;},roundrobin:function(){return a(971);},selectaudio:function(){return a(416);},selectaudioadaptive:function(){return a(972);},"default":function(){return a(183).default;},lowest:function(){return a(973);},highest:function(){return a(974);},throughputthreshold:function(){return a(975);},replay:function(){return a(976).default;},checkdefault:function(){return a(978);},testscript:function(){return p;}};t={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};r=(function(){var D60;D60=2;for(;D60 !== 6;){switch(D60){case 2:v.prototype.eBa=function(u,w,x,y,z,A,B){var G60,J,I,M,R,O,T,H60,P,S,C,D,F,G,E,H,L,K;G60=2;for(;G60 !== 67;){switch(G60){case 7:this.re.t0(L);G60=6;break;case 14:G60=0 < O?13:18;break;case 49:G60=u.FO?48:75;break;case 73:this.re.whb(m.default.j3.jh);G60=24;break;case 57:P.cZa=G.Lg;P.R4b=null !== (F=null === (D=null === (C=k.default.Onc) || void 0 === C?void 0:C.call(k.default)) || void 0 === D?void 0:D[1 === u.mediaType?1:0]) && void 0 !== F?F:-1;P.hr=u && u.hr;G60=77;break;case 74:G60=H60 === d.wa.sd?73:72;break;case 13:J=R[O - 1].Pa;L=l.uo(w,function(U){var J60;J60=2;for(;J60 !== 1;){switch(J60){case 2:return U.Pa === J;break;}}});G60=11;break;case 71:G60=H60 === d.wa.Dc?24:70;break;case 26:this.Hla=this.Dla=void 0;G60=25;break;case 3:I=this.re.im.bitrate;L=l.uo(w,function(U){var I60;I60=2;for(;I60 !== 1;){switch(I60){case 2:return U.bitrate > I;break;case 4:return U.bitrate < I;break;I60=1;break;}}});L=0 < L?L - 1:0 === L?0:w.length - 1;G60=7;break;case 42:z=w[y];G60=41;break;case 17:void 0 !== y && this.cza(w,! !u.Bt,u.state,u.buffer,y);u.state === d.wa.jh && c.Ka(L) && (u.state=d.wa.sd);u.state !== d.wa.jh && void 0 === L && (u.state=d.wa.jh);G60=27;break;case 18:c.oa(L) && (L=this.re.R9a);G60=17;break;case 10:M=R[O - 1].bitrate;L=l.uo(w,function(U){var K60;K60=2;for(;K60 !== 1;){switch(K60){case 2:return U.bitrate > M;break;case 4:return U.bitrate <= M;break;K60=1;break;}}});G60=19;break;case 75:return P;break;case 22:G60=P.Wh && (P.ZA=[],w.forEach(function(U,W){var L60;L60=2;for(;L60 !== 5;){switch(L60){case 2:U === P.Wh?P.gf=W:(H.cNb && (!U.aa || !U.aa.length) || U.Eea) && P.ZA.push(U.Pa);U.Eea=!1;L60=5;break;}}}),!P.ZA.length)?21:39;break;case 32:y=P.gf + 1;G60=31;break;case 43:G60=0 <= y?42:40;break;case 11:G60=!(0 <= L)?10:18;break;case 6:(R=G.aa,O=R.length);G60=14;break;case 30:z=w[y];G60=29;break;case 36:var w1j="p";w1j+="l";w1j+="aying";var o1j="min_fragment";o1j+="_";o1j+="vma";o1j+="f";x=w[P.gf];P.u_=x.Qa || 0;P.reason && (x.cu=P.reason,o1j !== P.reason && (x.dBa=P.Ov,x.zB=P.zB,x.mq=P.mq,x.nq=P.nq));this.adb && (P.zy=this.adb.RSb({bE:G.Kk - G.oc,uEb:G.Lg || 0,tEb:G.Xs || 0,oc:G.oc,LZb:w[0],Wh:x,uec:w[P.gf + 1] || x,Occ:w[w.length - 1],ff:u.state,playbackRate:u.playbackRate,ye:u.ye,q9:B}));c.Ka(L) && x.bitrate < w[L].bitrate && (this.Dla=G.Cc);u.state !== d.wa.Dc && u.state !== d.wa.Hh?(w=f.Rca(u.state),A=this.KA(u.buffer,w,u.playbackRate,x,A),(P.$e=A.complete)?P.v7=A.reason:(P.$e=!1,P.BK=A.BK,P.oF=A.oF,P.progress=A.progress)):(P.$e=!0,P.v7=w1j);G60=49;break;case 45:T=[];A.forEach(function(U){var M60,W;M60=2;for(;M60 !== 4;){switch(M60){case 1:W=(U=S[U.filter]) && U[W];T.push(isNaN(W)?-1:W);M60=4;break;case 2:W=U.stat;M60=1;break;}}});G60=64;break;case 68:var Z1j="Stream ";Z1j+="sele";Z1j+="ctor called with invalid player state ";return (g.error(Z1j + d.wa[u.state]),null);break;case 4:G60=c.oa(L) && u.state === d.wa.Dc && (K=!0,void 0 !== this.re.im)?3:6;break;case 21:y=G.Kk - G.oc;z=void 0;x=!1;G60=33;break;case 64:P.l5b=T;G60=63;break;case 72:G60=H60 === d.wa.bg?73:71;break;case 27:H60=u.state;G60=H60 === d.wa.jh?26:74;break;case 39:G60=!P || null === P.gf?38:37;break;case 33:G60=H.oib && y > H.yZ?32:40;break;case 31:G60=y < w.length?30:28;break;case 38:return null;break;case 28:G60=!x?44:40;break;case 70:G60=H60 === d.wa.Hh?24:69;break;case 37:void 0 === P.t0b?this.re.t0(P.gf):this.re.t0(P.t0b);G60=36;break;case 44:a000.b3j(11);var Q31=a000.t3j(5,14,10);y=P.gf - Q31;G60=43;break;case 41:z.aa && z.aa.length || (x=!0,P.ZA.push(z.Pa));G60=40;break;case 25:this.re.whb(m.default.j3.jh);G60=24;break;case 19:L=0 < L?L - 1:0 === L?0:w.length - 1;G60=18;break;case 29:z.aa && z.aa.length || (x=!0,P.ZA.push(z.Pa));G60=28;break;case 77:P.ku=E;G60=76;break;case 46:G60=S && A && 0 < A.length?45:63;break;case 40:x || (P.ZA=void 0);G60=39;break;case 24:P=this.kh[d.wa[u.state]].call(this,H,u,w,L,y,! !z,K,x);P.ff=u.state;G60=22;break;case 76:P.dG=k.default.time.ga();G60=75;break;case 69:G60=68;break;case 48:S=x.Cb;A=H.cWa;G60=46;break;case 63:P.Cc=G.Cc;A=u && u.ye;w=x.aa;P.Lk=w && void 0 !== A && !isNaN(A) && 0 <= A && A < w.length?w.lk(A):G.Cc;P.V1b=S && S.Qa && S.Qa.pa || 0;P.noa=G.Kk - G.oc;G60=57;break;case 2:(G=null === u || void 0 === u?void 0:u.buffer,E=k.default.time.ga(),H=this.J,L=this.re.R9a,K=!1);c.Ka(L) && u.state === d.wa.jh && (this.re.t0(void 0),L=void 0);c.Ka(L) && L >= w.length && (this.re.t0(void 0),L=void 0);G60=4;break;}}};v.prototype.KA=function(u,w,x,y,z){var N60;N60=2;for(;N60 !== 1;){switch(N60){case 2:return this.kh.checkBuffering.call(this,u,w,x,y,z,this.J);break;}}};v.prototype.mbc=function(u,w,x){var O60;O60=2;for(;O60 !== 1;){switch(O60){case 2:c.oa(w)?this.Dla=this.Hla=void 0:w.bitrate < x.bitrate && (this.Hla=u);O60=1;break;}}};v.prototype.cza=function(u,w,x,y,z){var P60,A,B;P60=2;for(;P60 !== 5;){switch(P60){case 2:this.j9(u,function(C){var Q60;Q60=2;for(;Q60 !== 1;){switch(Q60){case 2:C.Uv && C.Cb && C.Cb.confidence?(A !== C.Cb && (A=C.Cb,w && C.Cb && (C.Cb.Bt=!0),B=z(C.Cb,y,x,C.track.P.It[0])),C.Qa=Math.floor(B.lower) || 1,C.ucc=Math.floor(B.upper || 1) || 1):C.Qa=void 0;Q60=1;break;}}});P60=5;break;}}};v.prototype.j9=function(u,w){var R60,x;R60=2;for(;R60 !== 3;){switch(R60){case 6:w(u[x],x,u);R60=2;break;R60=4;break;case 1:R60=0 <= x?5:3;break;case 5:w(u[x],x,u);R60=4;break;case 14:++x;R60=2;break;R60=1;break;case 4:--x;R60=1;break;case 2:a000.V3j(12);var R31=a000.W3j(26,11,5,10);x=u.length - R31;R60=1;break;}}};D60=9;break;case 9:Object.defineProperties(v.prototype,{Haa:{get:function(){var S60;S60=2;for(;S60 !== 1;){switch(S60){case 2:return this.Dla;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Vva:{get:function(){var T60;T60=2;for(;T60 !== 1;){switch(T60){case 2:return this.Hla;break;}}},enumerable:!1,configurable:!0}});return v;break;}}function v(u,w,x,y){var E60,z;E60=2;for(;E60 !== 6;){switch(E60){case 3:var J1j="1S";J1j+="IYb";J1j+="ZrNJ";J1j+="C";J1j+="p9";J1j;u=u || this.J.rCa;this.kh=n.reduce(function(A,B){var F60,C;F60=2;for(;F60 !== 4;){switch(F60){case 2:C=(q[u] || q[t[B]])()[B] || q[t[B]]()[B];A[B]=C.bind(z);F60=5;break;case 7:return A;break;F60=4;break;case 5:return A;break;}}},{});y && (this.adb=new h.TNa(w));E60=6;break;case 2:z=this;this.vR=u;this.J=w;this.re=x;E60=3;break;}}}})();b.Uja=r;},function(r,b,a){var t,v;function c(u){return h(u.Wh);}function m(u,w){var x,y;x=u.fcc;x=p(w) + x * q(w);w=w.Qa || 0;y=0;0 < w && (y=x / w - 1);return u.x0b + u.ecc * Math.max(0,y);}function k(u,w){var x,y,z,A;if(!w || "object" !== typeof w)return 0;x=u.Wh;y=u.uec;z=u.Occ;A={selectedFragmentBitrate:f(u.q9,x,u.ye) * u.playbackRate,selectedPeakBitrate:(x.sy || g(x) || 0) * u.playbackRate,upswitchPeakBitrate:(y.sy || g(y) || 0) * u.playbackRate,maxPeakBitrate:(z.sy || g(z) || 0) * u.playbackRate,selectedAverageBitrate:g(x) * u.playbackRate,upswitchAverageBitrate:g(y) * u.playbackRate,maxAverageBitrate:h(x) * u.playbackRate,bufferLevelMs:u.bE,observedThroughput:n(u.Wh) || 0,averagetp:p(u.Wh) || 0,stddevtp:q(u.Wh) || 0};u=w.offset || 0;return Object.keys(A).reduce(function(B,C){return B + (w[C] || 0) * A[C];},u);}function l(u,w,x){var z;function y(A,B){return void 0 !== A && 0 < A.filter(function(C){return C === B;}).length;}z=u.filter(function(A){return y(A.Sca,w);});0 === z.length && (z=u.filter(function(A){return !A.Sca || 0 === A.Sca.length;}));u=z.filter(function(A){return y(A.Ebb,x);});0 === u.length && (u=z.filter(function(A){return !A.Ebb || 0 === A.Ebb.length;}));return u.sort(function(A,B){return A.w7 - B.w7;});}function d(u,w){var x,A,B;x=l(w.z7b,u.ff,u.Wh.Cb.confidence);if(0 === x.length)return 0;a:switch(w.H3b){case "implicit":w=m(w,u.Wh);w=u.bE / w;break a;case "capacityPercentage":w=Math.max(u.uEb / u.tEb || 0,u.bE / w.Xv);break a;default:w=0;}for(var y=-1,z=0;z < x.length;z++){if(x[z].w7 >= w){y=z;break;}}if(-1 === y)return k(u,x[x.length - 1].mpa);if(0 === y)return k(u,x[0].mpa);A=x[y - 1].w7;z=k(u,x[y - 1].mpa);B=x[y].w7;u=k(u,x[y].mpa);x=Math.min((w - A) / (B - A),1);return (1 - x) * z + x * u;}function f(u,w,x){var y;return void 0 !== x && w.aa?(void 0 === u?null === (y=w.aa) || void 0 === y?void 0:y.get(x).Zna:u.m5a(w,x).Zna) || w.sy || 0:w.sy || 0;}function h(u){var w,x;x=null === (w=null === u || void 0 === u?void 0:u.P) || void 0 === w?void 0:w.It;return x?x[u.mediaType] || 0:0;}function g(u){return (null === u || void 0 === u?void 0:u.bitrate) || 0;}function n(u){var w;u=u.Cb;return (null === (w=null === u || void 0 === u?void 0:u.Qa) || void 0 === w?void 0:w.pa) || 0;}function p(u){var w;u=u.Cb;return (null === (w=null === u || void 0 === u?void 0:u.Do) || void 0 === w?void 0:w.MN) || 0;}function q(u){var w;u=u.Cb;return Math.sqrt(null === (w=null === u || void 0 === u?void 0:u.Do) || void 0 === w?void 0:w.mS) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.NSb=b.gRb=b.XRb=b.TNa=void 0;r=a(0).__importDefault(a(4));t=a(964);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");v={maxStreamBitrate:c,"static":function(u,w){return w.$ac;},none:function(){return 0;},regression:d,epsGreedy:function(u,w){return Math.min(d(u,w) || 0,n(u.Wh));},"default":c};a=(function(){function u(w){var V60;V60=2;for(;V60 !== 4;){switch(V60){case 2:var L1j="d";L1j+="e";L1j+="fa";L1j+="ul";L1j+="t";var R1j="1SIYbZr";R1j+="NJ";R1j+="Cp9";this.J=w;R1j;this.algorithm=(v[this.J.F3b] || v[L1j]).bind(this);V60=4;break;}}}var U60;U60=2;for(;U60 !== 4;){switch(U60){case 2:u.prototype.Bsa=function(w,x,y){var W60,z;W60=2;for(;W60 !== 8;){switch(W60){case 2:W60=1;break;case 5:return 0;break;case 1:W60=!y?5:4;break;case 4:a000.b3j(13);x=Math.ceil(a000.t3j(x,y));w=(this.J.c_a.Ioc || 0) * ((null === (z=w.LZb) || void 0 === z?void 0:z.sy) || 0);return x < w?0:x;break;}}};u.prototype.RSb=function(w){var X60,x,y,z;X60=2;for(;X60 !== 6;){switch(X60){case 1:X60=!y?5:4;break;case 2:(x=new t.Qia({xC:0,RA:0,lC:0}),y=this.J.c_a);X60=1;break;case 5:return x;break;case 9:return x;break;case 3:X60=z && w.ye && 0 === w.ye % z || w.bE < y.tF?9:8;break;case 8:x=this.algorithm(w,this.J);return new t.Qia({xC:this.Bsa(w,x,y.Reb[0]),lC:this.Bsa(w,x,y.Reb[2]),RA:this.Bsa(w,x,y.Reb[1])});break;case 4:z=this.J.Cdc;X60=3;break;}}};return u;break;}}})();b.TNa=a;b.XRb=m;b.gRb=l;b.NSb=n;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Qia=void 0;c=a(0);r=(function(){function m(k){this.xC=k.xC;this.RA=k.RA;this.lC=k.lC;}Object.defineProperties(m.prototype,{Seb:{get:function(){return [this.xC,this.RA,this.lC];},enumerable:!1,configurable:!0}});m.prototype.gbb=function(){return Math.min(this.xC,this.RA,this.lC);};m.prototype.qaa=function(){return this.Seb.some(function(k){return 0 < k;});};m.prototype.OAa=function(k){return new m({xC:k * this.xC,RA:k * this.RA,lC:k * this.lC});};m.prototype.Lwa=function(k,l,d,f){var h;h=8 * k / Math.max(d - l,1);if(!this.qaa())return !1;k=this.Seb.map(function(g){return Math.abs(h - g) / g;});return Math.min.apply(Math,c.__spread(k)) < f;};return m;})();b.Qia=r;},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p){f=p;h=p.map(function(q,t){return t;});if(null === d)return (g=k(p),d=p[g].bitrate,new l(g));if(!p.length)return null;g=h.filter(function(q){return p[q].bitrate == d;})[0];return void 0 === g?(m.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new l(h[0])):new l(g);}b=a(33);a=a(4).default;m=b.console;k=b.Ira;l=b.Sq;d=null;f=null;h=null;a.EFb && (a.EFb.Ej={ta:function(){h=f=d=null;},eBa:function(g){d=g;},Rnc:function(){return {all:f,nlb:h};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var m,k,l,d;function c(f,h,g,n){if(m.oa(n))f=k(g);else if(l(g[n]))f=n;else if((f=k(g,n),0 > f))return null;return new d(f);}m=a(10);b=a(33);k=b.Ira;l=b.AJ;d=b.Sq;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var m;function c(k,l,d){k=d.map(function(f,h){return f.Uv?h:null;}).filter(function(f){return null !== f;});return k.length?new m(k[Math.floor(Math.random() * k.length)]):null;}m=a(33).Sq;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$da=void 0;r=a(0);c=r.__importStar(a(10));m=a(21);r=r.__importDefault(a(33));k=a(415);l=r.default.assert;d=r.default.Sq;b.$da=f;(function(){var Y60;Y60=2;for(;Y60 !== 5;){switch(Y60){case 2:var Q1j="1SIY";Q1j+="bZrN";Q1j+="JCp9";b.$da=f=function(g,n,p,q,t,v,u){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:var U1j="pla";U1j+="yi";U1j+="ng";return U1j === g.loa?k.Aw.call(this,g,n,p,q,t,v,u):h.call(this,g,n,p,q);break;}}};Q1j;Y60=5;break;}}function h(g,n,p,q){function t(z){var a70,A;a70=2;for(;a70 !== 8;){switch(a70){case 1:a70=!A || (z.bitrate > u?g.tec:1) * z.bitrate * n.playbackRate > A?5:4;break;case 4:var I1j="b";I1j+="uff";I1j+="_lt_hist";x=I1j;y=A;return !0;break;case 2:A=z.Qa;a70=1;break;case 5:return !1;break;}}}var Z60,x,v,u,w,y;Z60=2;for(;Z60 !== 10;){switch(Z60){case 4:v=m.Vc(p.slice(0,Math.min(q + (g.BCb?2:1),p.length)).reverse(),t);Z60=3;break;case 5:Z60=v.Qa?4:14;break;case 9:v=p[0];Z60=8;break;case 3:Z60=void 0 === v?9:6;break;case 8:var B1j="fall";B1j+="back_lowest_acce";B1j+="ptable_stre";B1j+="a";B1j+="m";x=B1j;Z60=7;break;case 2:var f1j="Mu";f1j+="s";f1j+="t have at least";f1j+=" one selected st";f1j+="ream";l(!c.oa(q),f1j);(v=p[q],u=v.bitrate,w=v);Z60=5;break;case 12:w !== v && (p.reason=x,p.Ov=y);return p;break;case 6:var v1j="se";v1j+="lect_feasi";v1j+="ble_buff";v1j+="ering";x=v1j;Z60=7;break;case 7:y=null === v || void 0 === v?void 0:v.Qa;Z60=14;break;case 14:p=new d();p.Wh=v;Z60=12;break;}}}})();},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);c.__importStar(a(10));m=a(33);b.default=function(k){var F3z=a000;var c70,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,B,C,D,F,G,E,A,H,L;c70=2;for(;c70 !== 54;){switch(c70){case 38:c70=(l=Math.max(p - f,0),l < x && l < G)?37:31;break;case 28:c70=g < f && E < q?44:43;break;case 21:c70=u < G?35:34;break;case 23:c70=u < F?22:38;break;case 33:return (k && n.push(l / (A / 1E3)),c.__assign({result:!1,hZ:l / (A / 1E3),zv:!1},k && ({x7:n})));break;case 2:var l1j="1";l1j+="SIY";l1j+="b";l1j+="Zr";l1j+="NJCp9";(l=k.aa,d=k.blocks,f=k.oc,h=k.Kk,g=k.Bac,n=k.wj,p=k.Cc,q=k.ye,t=k.xPb,v=k.RW,u=k.e4a,w=k.Qa,x=k.yba,y=k.tF,z=k.XXb);k=k.eNb;l1j;c70=4;break;case 3:d=Math.min(l.length,d);(B=l.oe,C=l.sizes,D=h - f,F=8 * n / w | 0);n=[];h=Infinity;(G=0,E=0);c70=14;break;case 22:G=Math.max(F,v);c70=21;break;case 43:++q;c70=42;break;case 44:(u+=C[E],++E,g+=B[E]);c70=28;break;case 10:var A1j=" >= fragmentsL";A1j+="eng";A1j+="th: ";var k1j="Str";k1j+="e";k1j+="am";k1j+="ingInde";k1j+="x: ";q >= d && m.console.error(k1j + q + A1j + d);f+=F;0 === p && (f=0);F3z.V3j(1);f*=F3z.W3j(A,1E3);c70=17;break;case 4:A=l.X;c70=3;break;case 34:c70=!z && (l=p - f,l < y)?33:32;break;case 31:F3z.b3j(14);f+=F3z.t3j(F,0,H,w);p+=L;c70=29;break;case 14:l=l.oe[0];F3z.V3j(15);g=F3z.t3j(A,g,1E3,l);F3z.V3j(16);w=F3z.W3j(0,w,8);F3z.V3j(1);H=F3z.W3j(A,1E3);c70=10;break;case 37:return (k && n.push(l / (A / 1E3)),c.__assign({result:!1,hZ:Math.min(l,h) / (A / 1E3),zv:!0},k && ({x7:n})));break;case 36:return c.__assign({result:!0,hZ:h / (A / 1E3),zv:!0},k && ({x7:n}));break;case 41:k && n.push(l / (A / 1E3));G=l;c70=39;break;case 29:u-=F;c70=28;break;case 39:h=Math.min(l,h);c70=26;break;case 42:c70=q >= t && l > D?36:41;break;case 35:(f=g,u+=C[E],++E,l=B[E],g+=l);c70=21;break;case 27:F3z.V3j(1);D*=F3z.t3j(A,1E3);c70=26;break;case 25:F=C[q];L=B[q];c70=23;break;case 26:c70=q < d?25:36;break;case 32:F3z.b3j(0);l=F3z.t3j(p,f);c70=31;break;case 17:F3z.b3j(1);p*=F3z.t3j(A,1E3);F3z.b3j(1);y*=F3z.t3j(A,1E3);F3z.V3j(1);x*=F3z.W3j(A,1E3);c70=27;break;}}};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.kXb=b.Qgb=void 0;c=a(0);m=c.__importDefault(a(86));k=c.__importStar(a(10));l=a(21);d=a(386);f=c.__importDefault(a(4));r=c.__importDefault(a(98));a=c.__importDefault(a(33));h=a.default.S0b;g=a.default.GEb;n=a.default.G7;p=a.default.Sq;q=r.default.PBa;a=(function(){var d70;function w(B,C){var E3z=a000;var i70,D;i70=2;for(;i70 !== 9;){switch(i70){case 5:D=C.sR;i70=4;break;case 1:var T1j="l";T1j+="o";T1j+="g";i70=0 === C.sR.lastIndexOf(T1j,0)?5:3;break;case 2:E3z.V3j(7);var S31=E3z.t3j(5263,94737);E3z.b3j(10);var T31=E3z.W3j(13,982,5);B=n(B,0,S31) / T31;i70=1;break;case 4:return (D=C.Rgb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + B)):C.Or;break;case 3:var g1j="si";g1j+="gm";g1j+="o";g1j+="i";g1j+="d";return 0 === C.sR.lastIndexOf(g1j,0)?(D=C.sR,(D=C.Rgb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(B)):C.Or):C.Or;break;}}}function x(B,C,D){var j70,F,G,E,H,L,K;j70=2;for(;j70 !== 19;){switch(j70){case 2:(F=! !B.dw && ! !B.Cab && D.every(function(I){var k70;k70=2;for(;k70 !== 1;){switch(k70){case 2:return I.kb && 110 >= I.kb;break;case 4:return I.kb || 141 > I.kb;break;k70=1;break;}}}),G=null,E=D.length - 1);j70=1;break;case 1:j70=0 <= E && (F?D[E].kb >= B.dw:D[E].bitrate >= B.cw)?5:11;break;case 5:H=D[E];G=t(H,B);(L=v(H.bitrate * C.playbackRate,G.Ov,B),K=w(G.Ov,B));K=y(H,G.Ov,F,L,K,B);H=K.Y8;K=K.reason;G.zB=L;j70=14;break;case 13:G.reason=K;j70=12;break;case 14:j70=H?11:13;break;case 12:E--;j70=1;break;case 11:var Y1j="fallback";Y1j+="_no_ac";Y1j+="ce";Y1j+="p";Y1j+="table_stream";var z1j="b";z1j+="elow";z1j+="_mi";z1j+="nInitVide";z1j+="oBitrate";k.sb(G) && D[E].bitrate < B.cw && (G=t(D[E],B),G.reason=z1j);k.sb(G) && (G=t(D[0],B),G.reason=Y1j);return G;break;}}}function u(B,C){var g70,D,F;g70=2;for(;g70 !== 13;){switch(g70){case 3:g70=-1 === F?9:8;break;case 1:(D=B.U$,F=l.uo(D,function(G){var h70;h70=2;for(;h70 !== 1;){switch(h70){case 4:return C > G.r;break;h70=1;break;case 2:return C <= G.r;break;}}}));g70=5;break;case 2:g70=B.U$?1:14;break;case 5:g70=0 === F?4:3;break;case 8:a000.b3j(0);B=D[a000.t3j(F,1)];D=D[F];g70=6;break;case 9:return D[D.length - 1].d;break;case 4:return D[0].d;break;case 6:return Math.floor(B.d + (D.d - B.d) * (C - B.r) / (D.r - B.r));break;case 14:return B.Or;break;}}}d70=2;function y(B,C,D,F,G,E){var l70;l70=2;for(;l70 !== 5;){switch(l70){case 2:B=D?B.kb >= E.dw && B.kb <= E.Cab:B.bitrate >= E.cw && B.bitrate <= E.PB;l70=1;break;case 1:var c6j="no_va";c6j+="lid";c6j+="_Bit";c6j+="rate";var u6j="no";u6j+="_v";u6j+="alid_V";u6j+="MAF";var e1j="no_v";e1j+="a";e1j+="lid_";e1j+="DelayTarget";return (F=F < G && B)?{Y8:F}:{Y8:F,reason:B?e1j:D?u6j:c6j};break;}}}function z(B,C,D){var m70,F,G;m70=2;for(;m70 !== 4;){switch(m70){case 2:(F=new p(),G=Math.max(B.cw,B.wba,C.cva?B.lxa:-Infinity));F.Wh=l.Vc(D.filter(function(E){var n70;n70=2;for(;n70 !== 1;){switch(n70){case 2:return E.bitrate <= B.PB;break;}}}).reverse(),function(E){var o70,H,L,K;o70=2;for(;o70 !== 13;){switch(o70){case 2:H={Qa:E.Qa,Ym:E.Cb && E.Cb.Ym,Kg:E.Cb && E.Cb.Kg};o70=1;break;case 7:return H;break;case 5:E=E.bitrate * C.playbackRate;L=H.Qa;o70=3;break;case 1:o70=E.bitrate > G?5:14;break;case 9:K=u(B,E);o70=8;break;case 3:o70=L?9:6;break;case 8:var y6j="hist_";y6j+="buf";y6j+="ftime";v(E,L,B) <= K?(F.Ov=L,H && (F.mq=H.Ym?H.Ym:0,F.nq=H.Ym && H.Kg),F.reason=y6j,H=!0):H=!1;o70=7;break;case 6:H=!1;o70=7;break;case 14:var a6j="no_histo";a6j+="rical_";a6j+="lte_minbitra";a6j+="te";var r6j="hist_tput_lt_minb";r6j+="i";r6j+="trat";r6j+="e";var n6j="l";n6j+="t_hist_l";n6j+="te_";n6j+="minbitrate";(L=H.Qa,E.bitrate * C.playbackRate <= L?(F.Ov=L,H && (F.mq=H.Ym?H.Ym:0,F.nq=H.Ym?H.Kg:void 0),F.reason=n6j,H=!0):L?(F.Ov=L,H && (F.mq=H.Ym?H.Ym:0,F.nq=H.Ym?H.Kg:void 0),F.reason=r6j,H=!1):(F.reason=a6j,H=!0));o70=7;break;}}}) || D[0];return F;break;}}}for(;d70 !== 5;){switch(d70){case 2:var h6j="1";h6j+="SIYbZrNJ";h6j+="Cp9";h6j;return {gAb:function(B,C,D,F){var r70;r70=2;for(;r70 !== 1;){switch(r70){case 2:var t6j="hi";t6j+="sto";t6j+="ri";t6j+="ca";t6j+="l";return t6j === B.Jua?A(B,C,D,F):B.uV?x(B,C,D,F):z(B,C,D,F);break;}}},yxb:y};break;}}function A(B,C,D,F){var p70,G;p70=2;for(;p70 !== 7;){switch(p70){case 1:var W6j="nu";W6j+="m";W6j+="b";W6j+="er";p70=W6j !== typeof G?5:4;break;case 2:var b6j="v";b6j+="b";G=f.default.storage.get(b6j);p70=1;break;case 4:var V6j="h";V6j+="ist";V6j+="_bitr";V6j+="ate";B=new p();B.Wh=l.Vc(D.slice().reverse(),function(E){var q70;q70=2;for(;q70 !== 1;){switch(q70){case 2:return E.bitrate <= G;break;case 4:return E.bitrate > G;break;q70=1;break;}}}) || D[0];B.reason=V6j;p70=8;break;case 8:return B;break;case 5:return B.uV?x(B,C,D,F):z(B,C,D,F);break;}}}function v(B,C,D){var f70;f70=2;for(;f70 !== 5;){switch(f70){case 2:B=g(D.uj,B * D.qba);return h(B,C);break;}}}function t(B,C){var e70,F,D;e70=2;for(;e70 !== 12;){switch(e70){case 4:D.nq=B.Ym && B.Kg;D.mq=B.Ym?B.Ym:0;B=m.default(D.nq,{});e70=7;break;case 2:D=new p();D.Wh=B;B=D.Wh.Cb || ({});e70=4;break;case 7:e70=(F=k.Ka(C.aea) && 0 <= C.aea && 100 >= C.aea && !k.oa(B) && !k.sb(B))?6:14;break;case 6:(F=d.cSa.USb(B),k.ed(F)?(B.xj=F,F=!0):F=!1);e70=14;break;case 14:var M6j="h";M6j+="ist";M6j+="_throu";M6j+="ghput";var P6j="his";P6j+="t_t";P6j+="di";P6j+="gest";F?(C=B.xj(C.aea / 100) || D.Wh.Qa,D.Ov=C,D.reason=P6j):D.Wh.Qa && (C=D.Wh.Qa,D.Ov=C,D.reason=M6j);return D;break;}}}})();r=a.yxb;b.Qgb=a.gAb;b.kXb=r;},function(r,b,a){var m,k,l,d;function c(f,h,g){var n,p;n=this.Fla;h=h.buffer.Cc;p="forward" === f.T8b;if(m.oa(n))return (n=p?k(g):k(g,g.length),this.Gla=h,this.Fla=n,new d(n));l(g[n]) || (n=k(g,n),this.Gla=h,this.Fla=n);if(0 > n)return null;if(h > this.Gla + f.xcc){f=g.map(function(q,t){return q.Uv?t:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?n=(f.indexOf(n) + 1) % f.length:(n=f.indexOf(n) - 1,0 > n && (n=f.length - 1));this.Fla=f[n];this.Gla=h;return new d(f[n]);}return new d(n);}m=a(10);b=a(33);k=b.Ira;l=b.AJ;d=b.Sq;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var s70,k,l,d,f,h,g,n,p,q,t;s70=2;function m(v,u,w,x){var v70,y,E,H,L,B,C,D,F,G,z,A;v70=2;for(;v70 !== 32;){switch(v70){case 27:v70=u.Lr && E > G.KB && (void 0 === L || Number(H) > L || C.Cc - L > G.Raa)?26:22;break;case 11:v70=0 <= D?10:21;break;case 16:var s6j=" ";s6j+="k";s6j+="bps";var G6j=" k";G6j+="b";G6j+="p";G6j+="s >";G6j+=" ";var m6j="throughp";m6j+="ut for aud";m6j+="io ";v70=D < A.length - 1 && F > G.Mkb * C * u.playbackRate && (f && d.log(m6j + F + G6j + G.Mkb + "*" + C + s6j),C=u.buffer,E=C.Kk - C.oc,B.aa && B.aa.length)?15:21;break;case 6:v70=0 > D?14:13;break;case 5:v70=!(v && v.TR && 0 <= v.TR.indexOf(y))?4:3;break;case 13:v70=D && F < G.O1a * C * u.playbackRate?12:16;break;case 2:var H6j="Must have";H6j+=" at least one select";H6j+="ed s";H6j+="trea";H6j+="m";h(!k.oa(x),H6j);y=w[x].Af;v70=5;break;case 8:v70=A && 1 < A.length?7:21;break;case 4:return new p(x);break;case 10:C=A[D];E=w[C];v70=19;break;case 22:var N6j="m";N6j+="s";var C6j=",";C6j+=" b";C6j+="uffer le";C6j+="vel = ";var j6j=", last";j6j+="Upswi";j6j+="tch";j6j+="Pts ";j6j+="= ";var q6j=" ";q6j+=" Up";q6j+="s";q6j+="witch not allowed. lastDow";q6j+="nswitchPts = ";f && d.log(q6j + L + j6j + H + C6j + E + N6j);v70=21;break;case 17:D--;v70=11;break;case 25:v70=++D < A.length?24:21;break;case 21:var i6j="kbps";i6j+=", streaming";i6j+="P";i6j+="ts";i6j+=" :";var x6j=", audio t";x6j+="hr";x6j+="ough";x6j+="pu";x6j+="t:";var E6j=" kbps, p";E6j+="ro";E6j+="fil";E6j+="e :";var O6j="sele";O6j+="ctAud";O6j+="i";O6j+="oStream: selected stream :";var K6j=" ";K6j+="k";K6j+="b";K6j+="p";K6j+="s";var F6j=" kb";F6j+="ps,";F6j+=" to ";var X6j="switc";X6j+="hing";X6j+=" a";X6j+="udio";X6j+=" from ";var d6j="d";d6j+="o";d6j+="wn";var p6j="u";p6j+="p";F=w[z];z !== x && f && d.log((z > x?p6j:d6j) + X6j + B.bitrate + F6j + F.bitrate + K6j);f && d.log(O6j + F.bitrate + E6j + y + x6j + F.Qa + i6j + u.buffer.Cc);return new p(z);break;case 15:(H=this.Vva,L=this.Haa);v70=27;break;case 26:var o6j=", s";o6j+="t";o6j+="r";o6j+="eamingPts";o6j+=" = ";var D6j=",";D6j+=" lastUp";D6j+="s";D6j+="witc";D6j+="hPts = ";var S6j="  Upswitch allowed. l";S6j+="astDownswitc";S6j+="hPts = ";f && d.log(S6j + L + D6j + H + o6j + C.Cc);v70=25;break;case 18:z=C;v70=21;break;case 12:var J6j=" k";J6j+="bps";J6j+=", try ";J6j+="to down";J6j+="switch";var Z6j=" k";Z6j+="b";Z6j+="p";Z6j+="s < ";var w6j="throu";w6j+="ghput for ";w6j+="audio ";(f && d.log(w6j + F + Z6j + G.O1a + "*" + C + J6j),--D);v70=11;break;case 14:z=0;v70=21;break;case 24:v70=(C=A[D],E=w[C],n(E) && F > G.Mkb * E.bitrate * u.playbackRate)?23:25;break;case 7:(B=w[x],C=B.bitrate,D=A.indexOf(x),F=B.Qa,G=v.BDb);v70=6;break;case 23:z=C;v70=21;break;case 3:z=x;v.wjb.some(function(K){var w70,O,J,M,P,I,R;w70=2;for(;w70 !== 9;){switch(w70){case 5:(O=(K=K.b_) && K.Eba || v.Eba,J=K && K.hpc || -Infinity,M=K && K.bQ || Infinity,P=u.buffer.Xs);w70=4;break;case 1:w70=R?5:3;break;case 3:return R;break;case 2:(I=K.profiles,R=I && 0 <= I.indexOf(y));w70=1;break;case 12:return R;break;w70=9;break;case 4:A=w.filter(function(S){var x70,T;x70=2;for(;x70 !== 5;){switch(x70){case 2:T=S.bitrate;return T >= J && T <= M && 0 <= I.indexOf(S.Af) && T * O / 8 < P;break;}}}).map(function(S){var y70;y70=2;for(;y70 !== 1;){switch(y70){case 2:return S.vg;break;}}});w70=3;break;}}});v70=8;break;case 19:v70=n(E) && (0 == D || E.bitrate * u.playbackRate * G.O1a < F)?18:17;break;}}}for(;s70 !== 4;){switch(s70){case 2:var Q6j="1SIYb";Q6j+="ZrNJ";Q6j+="Cp9";(k=a(10),l=a(33),d=l.console,f=l.debug,h=l.assert,g=a(86),n=l.AJ,p=l.Sq,q=a(416),t=a(14).wa);r.exports={STARTING:function(v,u,w,x){var z70,y,z;z70=2;for(;z70 !== 7;){switch(z70){case 5:var R6j="selectAudioStreamStarting: o";R6j+="verriding config ";R6j+="with ";(y={minInitAudioBitrate:v.BZ,minHCInitAudioBitrate:v.zZ,maxInitAudioBitrate:v.mZ,minRequiredAudioBuffer:v.Eba},f && d.log(R6j + JSON.stringify(z)),g(z,y));z70=4;break;case 9:var U6j=" k";U6j+="b";U6j+="ps, profile";U6j+=" :";var L6j="selectAudioStreamStarting: sel";L6j+="ected stre";L6j+="am :";f && d.log(L6j + w.bitrate + U6j + w.Af);return v;break;case 1:z70=(z=v && v.TR && 0 <= v.TR.indexOf(z)?c(z,v.wjb):c(z,v.ADb))?5:4;break;case 4:v=q[t[t.jh]](y,u,w,x);w=w[v.gf];z70=9;break;case 2:(y=v,z=w[x || 0].Af);z70=1;break;}}},BUFFERING:m,REBUFFERING:m,PLAYING:m,PAUSED:m};Q6j;s70=4;break;}}function c(v,u){var t70,w;t70=2;for(;t70 !== 4;){switch(t70){case 2:w=void 0;u.some(function(x){var u70,y;u70=2;for(;u70 !== 4;){switch(u70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(v)) && (w=x.override);return y;break;}}});return w;break;}}}})();},function(r,b,a){var m;function c(){return new m(0);}a(10);m=a(33).Sq;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var m;function c(k,l,d){return new m(d.length - 1);}a(10);m=a(33).Sq;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){function c(f,h,g,n){var B70,p;B70=2;for(;B70 !== 12;){switch(B70){case 4:n=g.length - 1;B70=3;break;case 9:p=g[n];B70=8;break;case 3:B70=-1 < n?9:14;break;case 8:B70=p.Cb && p.Cb.Qa && p.bitrate < p.Cb.Qa.pa - f.scc?7:6;break;case 2:var B6j="p";B6j+="layer missing f";B6j+="ra";B6j+="gmentIndex";var I6j="Must have at least on";I6j+="e selected s";I6j+="tream";l(!m.oa(n),I6j);l(m.Ka(h.ye),B6j);h=d(n);B70=4;break;case 7:return (h.gf=n,h);break;case 6:--n;B70=3;break;case 14:h.gf=0;return h;break;}}}var A70,l,d,m,k;A70=2;for(;A70 !== 6;){switch(A70){case 3:var f6j="1SIYb";f6j+="ZrN";f6j+="JCp";f6j+="9";(l=k.assert,d=k.Sq);k=a(183).default;r.exports={STARTING:k.STARTING,BUFFERING:k.BUFFERING,REBUFFERING:k.REBUFFERING,PLAYING:c,PAUSED:c};f6j;A70=6;break;case 2:m=a(10);a(29);k=a(33);a(4);A70=3;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(977);b.default={PLAYING:r.Aw,PAUSED:r.Aw};},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Aw=void 0;r=a(0);c=r.__importStar(a(10));m=r.__importDefault(a(33));k=r.__importDefault(a(183));l=a(75);d=r.__importDefault(a(4));f=m.default.assert;h=m.default.Sq;b.Aw=g;(function(){var C70;C70=2;for(;C70 !== 5;){switch(C70){case 2:var k6j="1";k6j+="SIYbZrN";k6j+="JC";k6j+="p9";b.Aw=g=function(n,p,q,t,v,u,w){var D70,L,E,H,D,F,G,K,I,R,B,J,O,C,x,y,z,A;D70=2;for(;D70 !== 66;){switch(D70){case 11:D70=C === A?10:58;break;case 62:B++;D70=35;break;case 29:L=C.Cb.tdigest;H.push(L.min);H.push(L.uca);D70=43;break;case 68:D70=y[B].f < A?73:67;break;case 59:return k.default.PLAYING.call(this,n,p,q,t,v,u,w);break;case 49:O++;D70=52;break;case 10:A=B;D70=20;break;case 63:v.push({ye:p.ye,drc:I,Yoc:R,Tlc:E,$qc:H,crc:L,noa:u,e4a:w,rmc:K,Boc:y.bitrate,Coc:null !== (D=y.kb) && void 0 !== D?D:0,Cmc:C.bitrate,Dmc:null !== (F=C.kb) && void 0 !== F?F:0,yqc:A.bitrate,zqc:null !== (G=A.kb) && void 0 !== G?G:0,At:x});D70=62;break;case 70:D70=y[B].f === A?69:68;break;case 34:C=q[B];x=B <= t?!0:!1;(E=void 0,H=[]);C.Cb && C.Cb.throughput && (E=C.Cb.throughput.pa);D70=30;break;case 16:v=[];D70=27;break;case 60:return z;break;case 8:D70=A < x || A > B?7:6;break;case 46:R+=I.get(O).duration;D70=45;break;case 35:D70=B < q.length?34:61;break;case 69:x=B;D70=73;break;case 55:D70=B < y.length?77:73;break;case 75:D70=y[B].f > A?73:74;break;case 61:z.rYa=v;D70=60;break;case 38:L=void 0;C.Cb && C.Cb.tputTrace && (L=C.Cb.tputTrace);(K=[],I=C.aa,R=0);D70=54;break;case 30:D70=C.Cb && C.Cb.tdigest?29:38;break;case 43:H.push(L.Hl);H.push(L.fk);H.push(L.Il);H.push(L.vca);D70=39;break;case 27:u=p.buffer;u=u.Kk - u.oc;w=l.jl.w0a(p.buffer.aa);w=p.buffer.Xs - w.ca;D70=23;break;case 73:A=x;D70=20;break;case 52:D70=O < Math.min(O + n.FDb,I.length)?51:48;break;case 56:B+=1;D70=55;break;case 9:B=y[y.length - 1].f;D70=8;break;case 65:I=void 0;p.$V && (I=d.default.time.ga() - p.$V);D70=63;break;case 57:D70=C < A?56:72;break;case 67:B--;D70=71;break;case 51:J=I.get(O);K.push({d:J.duration,b:J.ca});D70=49;break;case 45:O++;D70=47;break;case 48:O=p.ye;D70=47;break;case 53:O=p.ye;D70=52;break;case 58:x=void 0;D70=57;break;case 54:D70=void 0 !== I?53:65;break;case 23:y=q[t];A=q[t];D70=21;break;case 6:a000.b3j(0);B=a000.W3j(A,x);0 > B && (B=0);B >= y.length && (B=y.length - 1);C=y[B].f;D70=11;break;case 20:D70=void 0 !== A?19:59;break;case 77:D70=y[B].f === A?76:75;break;case 47:D70=O < I.length?46:65;break;case 19:z.gf=y[A].Z8b;D70=18;break;case 74:B++;D70=55;break;case 2:var l6j="player missing";l6j+=" ";l6j+="f";l6j+="rag";l6j+="mentIndex";var v6j="Must ";v6j+="have at le";v6j+="ast one selected stream";f(!c.oa(t),v6j);f(c.Ka(p.ye),l6j);(y=n.nbc,z=new h(t),A=null !== (x=p.ye) && void 0 !== x?x:-1);x=y[0].f;D70=9;break;case 18:z.Wh=q[z.gf];D70=17;break;case 72:--B;D70=71;break;case 21:B=0;D70=35;break;case 71:D70=0 <= B?70:73;break;case 76:x=B;D70=73;break;case 17:D70=n.ANb?16:60;break;case 7:return k.default.PLAYING.call(this,n,p,q,t,v,u,w);break;case 39:H.push(L.max);D70=38;break;}}};k6j;C70=5;break;}}})();},function(r,b,a){(function(){var E70,c;E70=2;for(;E70 !== 8;){switch(E70){case 4:var Y6j="1SIYbZ";Y6j+="rNJCp";Y6j+="9";c=a(14).Mc;r.exports={checkBuffering:function(m,k,l,d,f,h){var J3z=a000;var F70,u,v,n,p,q,t,w;F70=2;for(;F70 !== 37;){switch(F70){case 3:F70=n >= t?9:8;break;case 22:F70=k > p * h.X8?21:35;break;case 8:F70=k <= h.vwa && (0 < k || !h.jra)?7:6;break;case 24:u=d.aa.ri(f);F70=23;break;case 27:f=d.aa.Jo(m.Cc);F70=26;break;case 20:v=0;m.aa.forEach(function(x){var H70;H70=2;for(;H70 !== 1;){switch(H70){case 2:v+=x.ba + x.duration > m.oc?x.ca:0;H70=1;break;}}});l=Math.max(l,1);p=l * d.bitrate;F70=16;break;case 9:var A6j="max";A6j+="siz";A6j+="e";return {complete:!0,reason:A6j};break;case 25:var T6j="outofr";T6j+="an";T6j+="ge";return {complete:!0,reason:T6j};break;case 30:F70=h > f?29:40;break;case 11:F70=!k?10:20;break;case 44:F70=0 < w?43:42;break;case 31:--h;F70=30;break;case 26:F70=-1 === f?25:24;break;case 41:--h;F70=30;break;case 10:return {complete:!1,BK:q};break;case 2:(n=m.Kk - m.oc,p=k === c.bg);k=d.Qa || 0;(q=0,t=h.IDa && !p?h.Jt:h.Uwa);t=Math.min(h.Xv,t);F70=3;break;case 29:p=d.aa.get(h);J3z.V3j(0);var V31=J3z.t3j(20,12);w=V31 * w * l / k - p.ba - q;F70=44;break;case 7:return {complete:!1,oF:!0};break;case 43:return (q=Math.min(t,n + w),{complete:!1,BK:q,progress:g(q)});break;case 12:q=t?Math.min(t,q):q;F70=11;break;case 16:F70=!d.aa || !d.aa.length?15:27;break;case 6:q=h.uj * (p?h.Nza:1);h.vNb && d.Cb && d.Cb.$k && d.Cb.$k.pa > h.qwa && (q+=h.hna + d.Cb.$k.pa * h.Cya);f && (q+=f.kv * h.ina);F70=12;break;case 15:return (k < p && (q=Math.min(t,Math.max(h.K_ * (p / k - 1),q))),{complete:!1,BK:q,progress:0});break;case 23:F70=n >= q?22:39;break;case 21:var g6j="h";g6j+="ig";g6j+="h";g6j+="tp";return {complete:!0,reason:g6j};break;case 40:var z6j="no";z6j+="rebu";z6j+="f";z6j+="f";return {complete:!0,reason:z6j};break;case 35:q=d.aa.oe(f);h=Math.min(f + Math.floor(h.K_ / q),d.aa.length - 1);w=d.aa.ri(h);J3z.b3j(0);var X31=J3z.W3j(20,12);q=X31 * u * l / k - m.oc;F70=31;break;case 39:0 < k && k < p && (q=Math.min(t,Math.max(h.K_ * (p / k - 1),q)));return {complete:!1,BK:q,progress:g(q)};break;case 42:w=p.offset;F70=41;break;}}function g(x){var G70;G70=2;for(;G70 !== 5;){switch(G70){case 2:x=d.aa.d9(m.oc + x,void 0,!0);return (v - m.wj) / (v + (x.offset + x.ca) - u);break;}}}}};Y6j;E70=8;break;case 2:a(10);a(29);a(33);E70=4;break;}}})();},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xRa=void 0;c=a(0);r=c.__importDefault(a(4));m=a(157);k=a(419);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(l){var I70;I70=2;function d(f,h){var J70,g;J70=2;for(;J70 !== 3;){switch(J70){case 2:var e6j="1S";e6j+="I";e6j+="YbZrNJ";e6j+="C";e6j+="p9";g=l.call(this,f,h) || this;g.mK=function(n,p,q,t){var K70,v;K70=2;for(;K70 !== 8;){switch(K70){case 2:t=null !== t && void 0 !== t?t:g.bQ;v=g.Oo(n,q);n=g.mac(n,q);p=v?v * (100 - g.NQb(p,n)) / 100 | 0:0;K70=3;break;case 3:p=g.C1a(p,t);return {lower:p,upper:p * g.config.EDa};break;}}};e6j;return g;break;}}}for(;I70 !== 3;){switch(I70){case 2:c.__extends(d,l);d.prototype.NQb=function(f,h){var L70,g,n;L70=2;for(;L70 !== 3;){switch(L70){case 2:(g=this.config,n=h?g.Apa:g.Tna);h=h?g.Bpa:g.Vna;L70=5;break;case 5:Array.isArray(h) && (n=k.S2a(h,f.Kk - f.oc,g.Una));return n;break;}}};d.prototype.mac=function(f,h){var M70;M70=2;for(;M70 !== 3;){switch(M70){case 2:h=this.Oo(f,h);f=! !f.Bt;this.config.ICa && h < this.config.oW && (f=!0);return f;break;}}};return d;break;}}})(m.VC);b.xRa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LRa=void 0;c=a(0);r=a(157);r=(function(m){function k(l,d){var O70,f;O70=2;for(;O70 !== 3;){switch(O70){case 2:var n8z="1SIYbZ";n8z+="r";n8z+="NJCp9";f=m.call(this,l,d) || this;f.mK=function(h){var P70,g,Q70;P70=2;for(;P70 !== 10;){switch(P70){case 4:return g;break;case 5:P70=!h.Do || !h.Do.pa?4:3;break;case 6:return {lower:h.Do.MN + f.config.lCa * g,upper:h.Do.MN + f.config.mCa * g};break;case 12:var u8z="a";u8z+="v";u8z+="era";u8z+="getp";P70=Q70 === u8z?8:11;break;case 3:g=Math.sqrt(h.Do.te || 0);P70=9;break;case 2:g={lower:h.Qa.pa,upper:void 0};P70=1;break;case 11:var c8z="e";c8z+="w";c8z+="m";c8z+="a";P70=Q70 === c8z?14:4;break;case 1:var y8z="del";y8z+="ive";y8z+="rytime";Q70=f.config.bbc;P70=Q70 === y8z?5:12;break;case 7:g=Math.sqrt(h.Do.mS || 0);P70=6;break;case 14:P70=h.Do && h.Do.mS?13:4;break;case 9:return {lower:8 / (h.Do.pa + f.config.lCa * g),upper:8 / (h.Do.pa - f.config.mCa * g)};break;case 13:return (g=Math.sqrt(h.Do.mS || 0),{lower:h.Qa.pa + f.config.lCa * g,upper:h.Qa.pa + f.config.mCa * g});break;case 8:P70=!h.Do || !h.Do.MN?4:7;break;}}};n8z;return f;break;}}}var N70;N70=2;for(;N70 !== 5;){switch(N70){case 1:return k;break;case 2:c.__extends(k,m);N70=1;break;case 9:return k;break;N70=5;break;}}})(r.VC);b.LRa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DGa=void 0;c=a(0);m=a(14);r=a(157);k=a(418);a=(function(l){var R70;R70=2;function d(f,h){var S70,g;S70=2;for(;S70 !== 9;){switch(S70){case 3:return g;break;case 2:var t8z="1";t8z+="SIYb";t8z+="ZrNJCp";t8z+="9";g=l.call(this,f,h) || this;g.mK=function(n,p,q,t){var T70,U70;T70=2;for(;T70 !== 11;){switch(T70){case 3:t=g.config.EDa * n.Qa.pa;T70=9;break;case 5:var r8z="d";r8z+="eliver";r8z+="ytime-ci";U70=g.config.Yoa;T70=U70 === r8z?4:13;break;case 8:return {lower:(null === p || void 0 === p?void 0:p.initial) || n.Qa.pa,upper:(null === p || void 0 === p?void 0:p.high) || t};break;case 9:T70=q === m.wa.jh?8:6;break;case 4:var a8z="deli";a8z+="veryt";a8z+="ime-ci";p=n[a8z];T70=3;break;case 1:return g.b_b.mK(n,p,q,t);break;case 6:T70=q === m.wa.sd?8:14;break;case 13:T70=12;break;case 2:T70=g.LBa(q)?1:5;break;case 12:var h8z="throu";h8z+="ghput-";h8z+="ci";p=n[h8z];T70=3;break;case 7:return {lower:(null === p || void 0 === p?void 0:p.low) || n.Qa.pa,upper:(null === p || void 0 === p?void 0:p.high) || t};break;case 14:T70=7;break;}}};g.b_b=new k.nia(f,h);t8z;S70=3;break;case 12:return g;break;S70=9;break;}}}for(;R70 !== 5;){switch(R70){case 3:c.__extends(d,l);return d;break;R70=5;break;case 2:c.__extends(d,l);return d;break;}}})(r.VC);b.DGa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.WKa=void 0;r=(function(){function a(c,m,k,l,d,f,h,g){this.Xa=c;this.VYa=m;this.config=k;this.console=l;this.mediaType=d;this.Hb=f;this.Sa=h;this.cc=g;this.ws=this.Ei=!1;}a.prototype.cO=function(c,m){!this.Xa.u.Cw || this.cc.aN || this.cc.W5 || (c-=this.Xa.Ze,this.Ei && !this.ws && c + this.config.Njb >= m && 0 === this.Sa.CF && 0 === this.Sa.lu && 0 === this.Sa.z6b && (m=this.cc.af.P.Rb,c=this.cc.jP(),m + 1 < c || (this.VYa[this.mediaType].njb || this.Hb.wyb(this.mediaType),this.ws=!0,this.VYa[this.mediaType].KZ())));};return a;})();b.WKa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.UKa=void 0;c=a(0);m=a(9);r=a(420);k=a(413);a=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.VLb=function(f){l.prototype.Aaa.call(this,{value:f});};d.prototype.H8a=function(){return !0;};d.prototype.dCa=function(){};d.prototype.Aaa=function(f){l.prototype.Aaa.call(this,f);f.done && (f=this.Su.wW,m.R && this.G.trace("Requests drained",{Ulc:f && f.u.id}),(f=f && f.$a(this.Tg)) && f instanceof k.J3 && f.cO(this.dg.Tsa() || 0));};return d;})(r.iga);b.UKa=a;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.JFa=void 0;c=a(0);m=a(127);k=a(9);r=(function(){function l(d,f,h){this.G=d;this.Kvb=f;this.Tg=h;this.m5=0;this.J5=!1;this.eU=[];this.sH=void 0;k.R && d.trace("BranchRequestIterator [" + this.Tg + "]: created");}Object.defineProperties(l.prototype,{rKb:{get:function(){return this.m5;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wW:{get:function(){return this.OTa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zj:{get:function(){return this.J5;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{K0a:{get:function(){return this.Vl?this.Vl.yt?"Complete":this.Vl.uza?"WaitingForBranch":void 0 !== this.sH && 0 !== this.sH?"In Policy " + this.eU[this.sH].name:"WaitingForRequest":"Uninitialized;Prior:" + this.YUa;},enumerable:!1,configurable:!0}});l.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,h,g;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Vl;if(!d)return [3,6];this.sH=void 0;return [4,d.next()];case 1:(f=n.ob(),h=0,n.label=2);case 2:if(!(h < this.eU.length))return [3,5];this.sH=h;g=this.eU[h];return [4,g.process(f)];case 3:(f=n.ob(),n.label=4);case 4:return (h++,[3,2]);case 5:this.sH=void 0;if(f.done || this.Vl !== d)return [2,{done:!0}];this.m5++;f.value.TWa();return [2,{done:!1,value:f.value.value}];case 6:return [2,m.AsyncIterator.Fta()];}});});};l.prototype.K8b=function(){this.Lib();this.X6b();};l.prototype.Lib=function(){var d;if(this.Vl){this.YUa=this.K0a;d=this.Vl;d && d.ii();this.eU.forEach(function(f){return f.reset();});d && k.R && this.G.trace("BranchRequestIterator [" + this.Tg + "]: Disposing iterator that was on branch ",this.wW && this.wW.u.id);this.J5=!1;this.sH=this.Vl=void 0;}};l.prototype.ena=function(d){this.eU.push(d);};l.prototype.X6b=function(){var d,f,h,g;d=this;if(!this.J5){f=this.G;h=this.Kvb;g=this.Tg;this.m5=0;this.YUa=this.OTa=void 0;this.Vl=m.flatten(m.map(h.w6a(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.OTa=n,this.m5=0,k.R && f.trace("BranchRequestIterator [" + this.Tg + "]: new branch " + n.u.id),[4,n.by(g)]);case 1:if(p=q.ob())return [2,{value:p}];k.R && f.error("BranchRequestIterator [" + this.Tg + "]: skipping branch " + n.u.id);return [2,{value:[]}];}});});},f),f);this.J5=!0;}};return l;})();b.JFa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lQa=void 0;c=a(0);m=a(986);k=a(987);r=(function(){function l(d,f,h,g,n,p,q,t){this.mediaType=d;this.console=f;this.Fa=h;this.EN=g;this.nn=n;this.o_=p;this.Xd=q;this.oA=[];1 === this.mediaType && this.oA.push(new k.pRa(d,f,h,g,n,p,q,t,2));this.oA.push(new m.RRa(d,f,h,g,n,p,q,"stream",1,null === t || void 0 === t?void 0:t.O7a()));}l.prototype.Qs=function(d,f,h){this.Fa=d;this.Xd=f;this.EN=h;this.ZCa.forEach(function(g){return g.Qs(d,f,h);});};l.prototype.qXa=function(d){this.oA.push(d);};l.prototype.Ifb=function(d){this.oA=this.oA.filter(function(f){return f !== d;});d.close();};l.prototype.C0a=function(d){d=d({EN:this.EN,nn:this.nn,console:this.console,O:this.Fa,o_:this.o_,Xd:this.Xd});this.qXa(d);return d;};l.prototype.reset=function(){this.oA.forEach(function(d){return d.reset();});};l.prototype.close=function(){this.oA.forEach(function(d){return d.close();});};l.prototype.Wg=function(d){return c.__read(this.oA,1)[0].Wg(d);};Object.defineProperties(l.prototype,{ZCa:{get:function(){return this.oA;},enumerable:!1,configurable:!0}});return l;})();b.lQa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.RRa=void 0;c=a(0);m=a(9);k=a(2);r=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.Zv=function(f){var h,g,n;h=f.stream;g=f.fd;n=f.Kc;f=f.ec;k.assert(void 0 !== g,"playerStartTimestamp undefined at media append");k.assert(void 0 !== f,"contentStartTimestamp undefined at media append");this.Zma({stream:h,ec:f,O2a:function(p){return this.stream === p.stream;}},g,n) && m.R && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + g.U + "ms");};d.prototype.Mqa=function(f,h){var g,n,p,q;p=f.Hw.stream;q=this.Fa.Jn(h);k.assert(void 0 !== q);m.R && this.trace("emitStreamPresentingEvent @ " + f.timestamp.U + "ms for " + (null === p || void 0 === p?void 0:p.id) + ", " + ((null === p || void 0 === p?void 0:p.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:h,position:q,trackIndex:null === (g=null === p || void 0 === p?void 0:p.track) || void 0 === g?void 0:g.SD,streamIndex:null === p || void 0 === p?void 0:p.vg,stream:p,manifest:null === (n=p.P) || void 0 === n?void 0:n.ja,contentStartTimestamp:f.Hw.ec});};return d;})(a(260).i4);b.RRa=r;},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pRa=void 0;c=a(0);m=a(9);k=a(2);l=a(7);r=(function(d){function f(h,g,n,p,q,t,v,u,w){h=d.call(this,h,g,n,p,q,t,v,"segment",w,null === u || void 0 === u?void 0:u.O7a()) || this;h.np=u;return h;}c.__extends(f,d);f.prototype.Zv=function(h){var g,n,p,q;n=h.fd;p=h.Kc;h=h.ec;k.assert(void 0 !== n);q=null === (g=this.Fa.Jn(n)) || void 0 === g?void 0:g.V;k.assert(void 0 !== q);this.Zma({V:q,ec:h},n,p) && m.R && this.trace("segment " + q + " @ " + n.U + "ms");};f.prototype.u9a=function(h,g){return h.ec.lessThan(g.ec) && h.V === g.V;};f.prototype.Mqa=function(h,g){var n,p;n=h.Hw.V;p=this.Fa.Jn(g);k.assert(void 0 !== p);m.R && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.U + "ms for segment " + n);p.V !== n && (m.R && this.console.warn("player position:",p,"not equal to trackedElement:",n),p={V:n,offset:l.K.Ia});h={type:"segmentPresenting",playerTimestamp:g,position:p};this.np && (h.metrics=this.np.Ysa(n));m.R && this.trace("segmentPresenting: " + JSON.stringify(h));this.events.emit(h.type,h);};return f;})(a(260).i4);b.pRa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DIa=void 0;c=a(0);m=a(9);k=a(62);r=(function(){function l(d,f,h){this.Xd=d;this.p0b=f;this.G=h;}Object.defineProperties(l.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});l.prototype.waitUntil=function(d){var f;d=k.Dfa(this.Xd,d,!0);f=d.promise;this.XAb=d.Vn;return f;};l.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h;return c.__generator(this,function(g){switch(g.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.Pra)return [3,2];h=f.fd.Aa(this.p0b);m.R && this.G.trace("[" + f.mediaType + "] JIT: waiting until playertime >= " + h.U,"to append next request " + f.toString());return [4,this.waitUntil(h)];case 1:(g.ob(),m.R && this.G.trace("[" + f.mediaType + "] JIT: now appending request " + f.toString()),g.label=2);case 2:return [2,d];}});});};l.prototype.reset=function(){var d;null === (d=this.XAb) || void 0 === d?void 0:d.lb();};return l;})();b.DIa=r;},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UNa=void 0;c=a(0);m=a(9);k=a(2);l=a(62);r=(function(){function d(f,h,g,n){var p;p=this;this.Xd=f;this.G3b=h;this.oya=g;this.G=n;f.za.on("stopStart",function(){return p.GGb();});m.R && this.G.trace("PacingThrottler: pacingFactory=" + h + ", pacingThreshold=" + g.Zb());}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.GGb=function(){var f,h;h=this.Xd.za;this.fO=h.Zj?h.currentTime:void 0;this.DV=this.pX=void 0;m.R && this.G.trace("PacingThrottler: clock reset " + (null === (f=this.fO) || void 0 === f?void 0:f.U));};d.prototype.waitUntil=function(f){var h;f=l.Dfa(this.Xd,f,!0);h=f.promise;this.qfc=f.Vn;return h;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var h,g,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,11];h=f.value.value;k.assert(h.fd);g=this.Xd.za;if(!this.pX || !this.DV)return [3,10];if(!this.DV.greaterThan(this.oya))return [3,8];if(!this.fO)return [3,5];n=h.fd.Aa(this.fO).Aa(this.oya);p=this.fO.add(n.Ok(this.G3b));if(!p.lessThan(h.fd))return [3,3];if(!p.greaterThan(g.currentTime))return [3,2];m.R && this.G.trace("PacingThrottler: waiting until " + p.Zb() + " for mediaRequest @" + (h.fd.Zb() + ", current time ") + (g.currentTime.Zb() + ", clock start time ") + (this.fO.Zb() + ", distance ") + n.Zb());return [4,this.waitUntil(p)];case 1:(q.ob(),q.label=2);case 2:return [3,4];case 3:(m.R && this.G.warn("PacingThrottler: invalid schedule time " + (p.Zb() + " for mediaRequest @") + (h.fd.Zb() + ", current time ") + (g.currentTime.Zb() + ", clock start time ") + (this.fO.Zb() + ", distance ") + n.Zb()),q.label=4);case 4:return [3,7];case 5:n=h.fd.Aa(this.pX);if(!n.greaterThan(this.oya))return [3,7];m.R && this.G.trace("PacingThrottler: (buffering) waiting until " + this.pX.U + "ms for mediaRequest @" + (h.fd.U + "ms, current time ") + g.currentTime.U);return [4,this.waitUntil(this.pX)];case 6:(q.ob(),q.label=7);case 7:return [3,9];case 8:(this.DV=this.DV.add(h.rv),q.label=9);case 9:return [3,11];case 10:(this.pX=h.fd,this.DV=h.rv,q.label=11);case 11:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.qfc) || void 0 === f?void 0:f.lb();};return d;})();b.UNa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dRa=void 0;c=a(0);r=(function(){function m(k){this.rC=k;}Object.defineProperties(m.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});m.prototype.process=function(k){var l,d,f;return c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(g){switch(g.label){case 0:if(k.done)return [3,3];h=k.value.value;return this.iN && h.yv?[4,this.rC.rfc({mediaType:h.mediaType,to:{stream:h.stream,V:null === (l=h.Sa) || void 0 === l?void 0:l.Xa.u.id},from:{stream:this.iN.stream,V:this.iN.V},timestamp:h.fd,Q5b:null === (d=this.iN) || void 0 === d?void 0:d.fd})]:[3,2];case 1:(g.ob(),g.label=2);case 2:return (this.iN={stream:h.stream,fd:h.fd,V:null === (f=h.Sa) || void 0 === f?void 0:f.Xa.u.id},[3,4]);case 3:(this.iN=void 0,g.label=4);case 4:return [2,k];}});});};m.prototype.C2b=function(){this.iN=void 0;};m.prototype.reset=function(){};return m;})();b.dRa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hRa=void 0;r=(function(){function a(c,m,k,l,d,f,h,g,n,p){var q;q=this;this.id=c;this.P=m;this.ba=k;this.FW=d;this.cm=f;this.Cw=h;this.fq=g;this.xq=n;this.se=p;this.sP=function(t){var v,u;return (null === (u=null === (v=q.cm) || void 0 === v?void 0:v[t]) || void 0 === u?void 0:u.adc) || q.se;};this.Ma=l || Infinity;}Object.defineProperties(a.prototype,{L:{get:function(){return this.P.L;},enumerable:!1,configurable:!0}});a.prototype.S4a=function(){var c,m,k;c=this;k=Object.keys(this.cm || ({})).filter(function(l){var d,f;return !(null === (f=null === (d=c.cm) || void 0 === d?void 0:d[l]) || void 0 === f || !f.weight);});return k.length?null !== (m=k.map(this.sP).reduce(function(l,d){return l === d?d:void 0;})) && void 0 !== m?m:this.se:this.se;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.xq + " viewableId: " + this.P.L + " pts: " + this.ba + "-" + this.Ma + " defaultKey: " + this.FW + " dests: " + JSON.stringify(this.cm) + " terminal: " + ! !this.Cw;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.P.L,"startPts:":this.ba,endPts:this.Ma,defaultKey:this.FW,"dests:":this.cm,terminal:! !this.Cw,playlistSegmentId:this.xq};};return a;})();b.hRa=r;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.GEa=void 0;r=a(0);c=r.__importStar(a(10));m=a(184);k=r.__importDefault(a(993));l=a(398);d=r.__importDefault(a(29));f=r.__importDefault(a(4));a=(function(){var V70;V70=2;function h(g,n,p,q,t,v,u,w,x){var W70,X70,y,Y70,z;W70=2;for(;W70 !== 31;){switch(W70){case 35:this.UM=new l.KJa(u,t,this.G);W70=22;break;case 23:this.UM=new l.Bha(u,t,this.G);W70=22;break;case 34:W70=33;break;case 12:this.XE=this.A7a=this.B7a=this.N7=this.Bt=void 0;this.KCa=this.gib=this.hib=this.JCa=this.edb=this.fdb=0;W70=10;break;case 24:var W8z="b";W8z+="aselin";W8z+="e";X70=t.mVb;W70=X70 === W8z?23:21;break;case 1:var b8z="1S";b8z+="I";b8z+="YbZrNJ";b8z+="C";b8z+="p9";this.Ip=q;this.pc=w;this.KH=x;b8z;W70=9;break;case 26:this.xla=!1;W70=25;break;case 22:this.xla=this.UM.naa();W70=32;break;case 33:this.UM=new l.Bha(u,t,this.G);W70=22;break;case 10:this.SU=m.lP(t,v);n=this.wUa(p);void 0 !== n && void 0 !== n.Hl && void 0 !== n.fk && void 0 !== n.Il && (y=(n.Il - n.Hl) / n.fk);q=t.GZ?d.default.Ij.$C:d.default.Ij.aD;W70=16;break;case 15:W70=this.KH.jt?27:26;break;case 25:W70=u && 1 < u.length && t.Qqa?24:32;break;case 32:t.Cfa && (this.f6=this.e6=!1);W70=31;break;case 27:try{Y70=2;for(;Y70 !== 4;){switch(Y70){case 5:this.SVa=z;Y70=4;break;case 2:z=new k.default(g,this.G,{bufferSize:f.default.jq()},t);this.Ip.EBb(z);Y70=5;break;}}}catch(A){var V8z="Hindsight: Error when creating QoEEvaluato";V8z+="r";V8z+=": ";a000.b3j(7);g.Hb.Zo(a000.t3j(V8z,A));}W70=26;break;case 21:var P8z="L";P8z+="R";W70=X70 === P8z?35:34;break;case 9:this.yb=g;this.Ob=this.G.warn.bind(this.G);this.Nj=this.G.trace.bind(this.G);this.J=t;this.NWa=this.zTa=null;this.cVa=0 === Math.floor(1E6 * Math.random()) % t.goa;W70=12;break;case 16:p && p.confidence >= q && p.Qa && y && this.uxb(p,n,y);W70=15;break;case 2:this.G=n;W70=1;break;}}}for(;V70 !== 24;){switch(V70){case 27:h.prototype.wUa=function(g){var y80,z80;y80=2;for(;y80 !== 4;){switch(y80){case 3:y80=9;break;case 2:var M8z="td";M8z+="ig";M8z+="est";z80=this.J.kua;y80=z80 === M8z?1:3;break;case 1:g=g.Kg;y80=5;break;case 5:return g;break;case 12:y80=7;break;y80=9;break;case 9:g=g.Rv && g.Rv.Eca;y80=5;break;}}};V70=26;break;case 6:h.prototype.TK=function(g){var h80;h80=2;for(;h80 !== 5;){switch(h80){case 2:this.SU.TK(g);this.NWa=g;h80=5;break;}}};h.prototype.gY=function(){var i80;i80=2;for(;i80 !== 1;){switch(i80){case 2:return this.NWa;break;}}};h.prototype.vBb=function(g,n,p,q,t,v){var j80,u;j80=2;for(;j80 !== 5;){switch(j80){case 2:u=this.J;u.Cfa && this.pzb(n) || !p || !q || !(p=v?Math.min(p,q,v):Math.min(p,q)) || (this.Ip.get(),q=this.yb.Ta,g=q.Jx(q.Wc,g),n.track.Tv() && g > u.foa && p === t?(u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:1}),u.set({maxActiveRequestsPerSession:2}),u.set({maxPendingBufferLen:500})):(u.Qr=!0,u.cQ=1,u.ry=2,u.gba=500),n.track.qda({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:u.pS,minRequestSize:u.nQ}),this.JCa++,u.Cfa && (this.e6=!0)):u.Qr && !n.Tv() && (g < u.eoa || p !== t) && (u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:3}),u.set({maxActiveRequestsPerSession:3}),u.set({maxPendingBufferLen:12E3})):(u.Qr=!0,u.cQ=3,u.ry=3,u.gba=12E3),n.track.qda({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:u.pS,minRequestSize:u.nQ}),this.KCa++,u.Cfa && (this.f6=!0)));j80=5;break;}}};h.prototype.yBb=function(g,n){var k80,p,q,t;k80=2;for(;k80 !== 6;){switch(k80){case 5:void 0 === this.io && (this.io={startTime:f.default.time.ga(),JV:[],x1:[],Sva:void 0,Lva:void 0});p=Math.floor((f.default.time.ga() - this.io.startTime) / p.QN);k80=3;break;case 2:p=this.J;k80=1;break;case 1:k80=this.cVa?5:6;break;case 9:k80=void 0 === q || p > q?8:7;break;case 3:(q=this.io.Lva,t=this.io.Sva?p - this.io.Sva - 1:p);k80=9;break;case 8:(this.io.JV[t]=g,this.io.x1[t]=n);k80=7;break;case 7:this.io.Lva=p;k80=6;break;}}};V70=11;break;case 2:Object.defineProperties(h.prototype,{naa:{get:function(){var Z70;Z70=2;for(;Z70 !== 1;){switch(Z70){case 2:return this.xla;break;}}},enumerable:!1,configurable:!0}});V70=1;break;case 11:h.prototype.r2b=function(){var l80,g,m80;l80=2;for(;l80 !== 4;){switch(l80){case 2:g=this.yb;l80=1;break;case 9:g=this.yb;l80=4;break;l80=1;break;case 8:l80=this.KH.jt?9:5;break;l80=this.KH.jt?5:4;break;case 1:l80=this.KH.jt?5:4;break;case 5:try{m80=2;for(;m80 !== 1;){switch(m80){case 2:(this.Ip.L7b(),this.SVa.Zc());m80=1;break;}}}catch(n){var m8z="Hindsig";m8z+="ht: Er";m8z+="ror";m8z+=" durin";m8z+="g clean up: ";a000.V3j(7);g.Hb.Zo(a000.t3j(m8z,n));}l80=4;break;}}};h.prototype.I2b=function(g){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:this.J.HO && g === d.default.cb.Jb && (this.KCa=this.JCa=this.gib=this.hib=this.edb=this.fdb=0);n80=1;break;}}};h.prototype.E2b=function(g,n){var o80;o80=2;for(;o80 !== 1;){switch(o80){case 2:g === d.default.cb.Jb && (this.gfc=n);o80=1;break;}}};h.prototype.TFb=function(g){var p80,n,p,v,q,t;p80=2;for(;p80 !== 6;){switch(p80){case 9:void 0 !== t && void 0 !== t.Hl && void 0 !== t.fk && void 0 !== t.Il && (p=(t.Il - t.Hl) / t.fk);p80=8;break;case 4:var G8z="i";G8z+="q";G8z+="r";p80=G8z === n.cG?3:8;break;case 2:n=this.J;p80=1;break;case 1:var s8z="n";s8z+="o";s8z+="n";s8z+="e";p80=s8z !== n.cG && !0 !== this.Bt && g.state <= n.Twa?5:6;break;case 8:v=n.GZ?d.default.Ij.$C:d.default.Ij.aD;q && q.confidence >= v && this.yla(n.cG,q,t,p) && (this.Bt=!0,this.N7=g.state);p80=6;break;case 5:q=this.Ip.get();p80=4;break;case 3:t=this.wUa(q);p80=9;break;}}};h.prototype.UBb=function(g){var q80;q80=2;for(;q80 !== 1;){switch(q80){case 2:g.Bt=this.Bt;q80=1;break;}}};V70=17;break;case 1:Object.defineProperties(h.prototype,{Eza:{get:function(){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 2:return this.SVa;break;}}},enumerable:!1,configurable:!0}});h.prototype.xhb=function(g,n,p){var b80;b80=2;for(;b80 !== 4;){switch(b80){case 2:this.XE=g;c.oa(n) || (this.B7a=n);c.oa(p) || (this.A7a=p);b80=4;break;}}};h.prototype.tDa=function(g){var c80;c80=2;for(;c80 !== 5;){switch(c80){case 2:this.J=g;this.SU.tDa(g);c80=5;break;}}};h.prototype.yla=function(g,n,p,q){var d80,t;d80=2;for(;d80 !== 7;){switch(d80){case 5:d80=void 0 !== q?4:3;break;case 2:t=this.J;d80=1;break;case 1:var H8z="i";H8z+="q";H8z+="r";d80=g === H8z?5:9;break;case 3:return !1;break;case 9:var q8z="a";q8z+="v";q8z+="g";d80=g === q8z?8:3;break;case 4:return ! !(n.Qa && p && c.Ka(q) && n.Qa.pa < t.oW && q > t.Fha);break;case 8:return n.Qa?n.Qa.pa < t.oW:!0;break;}}};h.prototype.lP=function(g){var e80;e80=2;for(;e80 !== 1;){switch(e80){case 2:return 1 === g?this.SU.mK:this.SU.t_;break;}}};h.prototype.Ty=function(g){var f80;f80=2;for(;f80 !== 5;){switch(f80){case 2:this.SU.Ty(g);this.zTa=g;f80=5;break;}}};h.prototype.zX=function(){var g80;g80=2;for(;g80 !== 1;){switch(g80){case 2:return this.zTa;break;case 4:return this.zTa;break;g80=1;break;}}};V70=6;break;case 17:h.prototype.POb=function(g){var r80,n,p,q,t,v,u,w,x;r80=2;for(;r80 !== 25;){switch(r80){case 2:var C8z="start";C8z+="pl";C8z+="a";C8z+="y";var j8z="log";j8z+="d";j8z+="a";j8z+="ta";(n={},p=this.J,q=this.yb,t={type:j8z,target:C8z,fields:{}});t.fields=n;Object.keys(g).forEach(function(y){var s80;s80=2;for(;s80 !== 1;){switch(s80){case 2:n[y]=g[y];s80=1;break;case 4:n[y]=g[y];s80=5;break;s80=1;break;}}});v=this.Ip.get();v && v.Qa && (v=v.Qa.pa);n.actualbw=v;r80=8;break;case 6:n.isLowEnd=this.vXb;n.histdiscbw=this.XE;u=this.A7a;r80=12;break;case 12:r80=u?11:16;break;case 8:n.isConserv=this.Bt;n.ccs=this.N7;r80=6;break;case 18:n.histtdc=u;r80=17;break;case 17:n.histtd=v;r80=16;break;case 11:w=function(y){var t80;t80=2;for(;t80 !== 1;){switch(t80){case 2:return c.Ka(y)?Number(y).toFixed(2):-1;break;}}};v=[w(u.min || void 0),w(u.uca || void 0),w(u.Hl || void 0),w(u.fk || void 0),w(u.Il || void 0),w(u.vca || void 0),w(u.max || void 0)];x=[];u=c.isArray(u.qj) && u.qj.reduce(function(y,z){var u80,A;u80=2;for(;u80 !== 3;){switch(u80){case 2:A=w(z.Yf || void 0);z=w(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;}}},x);r80=18;break;case 16:n.histage=this.B7a;p.Qqa && this.UM && (n.ishighstable=this.xla,n.avg_avtp=this.UM.KDb,n.avg_ne=Number(this.UM.MDb).toFixed(4));q.tc && (p=f.default.jq(),n.maxAudioBufferAllowedBytes=p[d.default.cb.dc],n.maxVideoBufferAllowedBytes=p[d.default.cb.Jb]);q.emit(t.type,t);r80=25;break;}}};h.prototype.QOb=function(g){var v80,v,u,w,n,p,q,t;v80=2;for(;v80 !== 6;){switch(v80){case 7:var N8z="n";N8z+="o";N8z+="ne";N8z !== p.cG && (g.isConserv=this.Bt,g.ccs=this.N7);v80=6;break;case 4:(v=0,u=0,w=0);q.confidence && (v=q.Qa?q.Qa.pa:0,u=q.$k?q.$k.pa:0,w=q.gy?q.gy.pa:0);g.location={responseTime:u,httpResponseTime:w,bandwidth:v,confidence:q.confidence,name:this.gfc};this.cVa && (g.bt={startTime:this.io.startTime,audioMs:this.io.JV,videoMs:this.io.x1},this.io.JV=[],this.io.x1=[],this.io.Sva=this.io.Lva);v80=7;break;case 2:(n=this,p=this.J,q=this.Ip.get(),t=[]);[d.default.cb.Jb,d.default.cb.dc].forEach(function(x){var w80,y;w80=2;for(;w80 !== 4;){switch(w80){case 1:y=n.yb.A6a(x);void 0 !== y && (x === d.default.cb.Jb && (p.HO && (y.parallelDownloadMs=n.fdb,y.parallelDownloadBytes=n.edb,y.singleDownloadMs=n.hib,y.singleDownloadBytes=n.gib,y.switchFromParallelToSingle=n.JCa,y.switchFromSingleToParallel=n.KCa),q && q.confidence && q.Qa && (y.asetput=q.Qa,y.aseiqr=q.Rv,y.tdigest=q.Kg && q.Kg.pB() || void 0),q && q.avtp && (y.avtp=q.avtp.pa)),t.push(y));w80=4;break;case 2:w80=n.pc(x)?1:4;break;}}});g.stat=t;v80=4;break;}}};h.prototype.pzb=function(g){var x80,n;x80=2;for(;x80 !== 6;){switch(x80){case 2:n=this.J;x80=1;break;case 1:x80=this.e6 && g.Tv()?5:4;break;case 4:this.e6 && (this.e6=!1);x80=3;break;case 5:return !0;break;case 9:return !0;break;case 3:x80=this.f6 && n.Qr && !g.Tv()?9:8;break;case 8:this.f6 && (this.f6=!1);return !1;break;}}};V70=27;break;case 26:h.prototype.uxb=function(g,n,p){var A80,q;A80=2;for(;A80 !== 3;){switch(A80){case 2:q=this.J;this.yla(q.cG,g,n,p)?this.Bt=!0:this.Bt=!1;this.N7=0;this.yla(q.swa,g,n,p) && (this.vXb=!0);A80=3;break;}}};return h;break;}}})();b.GEa=a;},function(r,b,a){var m,k,l;function c(d,f,h,g){this.yb=d;this.G=f;this.ml=this.G.error.bind(this.G);this.Ob=this.G.warn.bind(this.G);this.Nj=this.G.trace.bind(this.G);this.eg=this.G.log.bind(this.G);this.uvb=new k();this.J=g;this.V5=[];this.n6=void 0;d=g.H$;m.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.sla=!0;}a(29);b=a(4).default;m=a(147);a(422);k=a(994);new b.Console("ASEJS_QOE_EVAL","media|asejs");l=a(128).nQa || a(128);c.prototype=Object.create(m.prototype);c.prototype.add=function(d,f,h){this.n6 || (this.n6=f);m.prototype.add.call(this,d,f,h);};c.prototype.YQb=function(){var d;if(0 !== this.V5.length){d=[];this.V5.forEach(function(f){f && f.DN && d.push(f.pB());});return d;}};c.prototype.Zc=function(){this.V5=[];};c.prototype.VTb=function(){var d,f,h;d=this.get(this.J.H$.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (f=n,h=p,!0);});if(f)for(var g=0;g < h;g++){d[g]=f;}}d={trace:d,timestamp:this.n6,EA:this.Qd};this.sla=!1;m.prototype.reset.call(this);this.sla=!0;this.n6=void 0;return d;};c.prototype.cra=function(d){var f,h,g,n,p,q;if(d && !d.DN){h=d.sv.b9a;h && (d.Mza=this.rna(d),d.oda=!1);if((f=this.VTb()) && f.trace && f.trace.length){g=d.mk.IF;n=f.timestamp;if(n > g){p=f.EA;q=f.trace[0];g=Math.ceil((n - g) / p);f.timestamp=n - g * p;for(n=0;n < g;n++){f.trace.splice(0,0,q);}}f.trace.length && f.trace.pop();}d.EC=f;f.trace && 0 === f.trace.length || void 0 === f.timestamp || (f=this.PEb(d),d.Jcb=f,h && f && (d.oda=f.At),d.DN=!0,this.V5.push(d));}};c.prototype.PEb=function(d){var p,q,t,v;function f(u){var y;for(var w,x=0;x < u.length;x++){y=u[x].reduce(function(z,A){return A.kb?z + 1:z;},0);if(void 0 === w)w=y;else if(y !== w)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > w?y - w:w - y) * Math.LOG2E) + "]");}}for(var h=this.J.G$,g={At:!1,baa:!1,SMb:0},n=0;n < h.length;n++){p=h[n];q=this.uvb.create(p);if(q){t=l.now();v={};try{f(d.fz);v=q(d);}catch(u){v.TO=u;}v.uCb=l.now() - t;g[p]=v;g.At=g.At || v.At;g.baa=g.baa || v.baa;g.TO=g.TO || v.TO;}}return g;};c.prototype.rna=function(d){var f;d=d.sv;f="";1E3 > d.rp && (f+=d.emb);1E3 > d.Ns && (f=f + ("" !== f?",":"") + d.YXa);1E3 <= d.rp && 1E3 <= d.Ns && (f="media");return f;};r.exports=c;},function(r,b,a){var k;function c(){}function m(l,d,f){return function(h){h.ds=d;h.compare=f;return l(h);};}k=a(995);c.prototype.constructor=c;c.prototype.create=function(l){var d;switch(l){case "htwbr":break;case "htwbr-dlvmaf":d=m(k.lY,!1,k.r_a);break;case "htwbr-segvmaf":d=m(k.lY,!0,k.r_a);break;case "hvmafgr":d=m(k.lY,!1,k.ppa);break;case "hvmafgr-dlvmaf":d=m(k.lY,!1,k.ppa);break;case "hvmafgr-segvmaf":d=m(k.lY,!0,k.ppa);break;case "hvmafdp":d=m(k.dp,!1);break;case "hvmafdp-dlvmaf":d=m(k.dp,!1);break;case "hvmafdp-segvmaf":d=m(k.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var q,t,v,u,w,x,y,z,A,B,C;function c(D){var F,G,E;F=D.EC;G=D.mk;E=D.sv.Ma - G.ba;F.timestamp > G.IF && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + G.IF);D=[];for(var H,L=F.timestamp,K=0;K < F.trace.length;K++){L >= G.IF && (D.push(F.trace[K]),H=F.trace[K]);L+=F.EA;E-=F.EA;}for(;0 < E;){D.push(H);E-=F.EA;}G=F.EA;F=D.length;if(0 === F)F=[];else {for(G=[G / 1E3];2 * G.length <= F;){G=G.concat(G);}G.length < F && (G=G.concat(G.slice(0,F - G.length)));F=G;}return new x(D,F,!1);}function m(D,F,G){F=D.fz[F][G];return F.ca + D.mk.SV * F.duration / 8;}function k(D){var F,G,E,H,L,K,I,R,O;F=D.mk;G=F.Tn;E=D.sv;H=E.Tx;K=[];for(E=H=Math.min(E.LJ,H);E >= G;E--){C.update("backward step loop");I=L=D.fz[0][E].ba - D.mk.ba;E < H && (q(void 0 !== K[E + 1],"expect solution[(fragIndex + 1)] !== undefined"),I=Math.min(K[E + 1].startTime,I));R=m(D,0,E);O=p(R,I,D.EC,F.IF);if(0 > O)throw Error("Infeasible: reason throughput at min bitrate");R={startTime:O,endTime:I,d8:I,oMb:L,tR:R,gf:0};R.V3a=E;K[E]=R;}F=0;for(E=G;E <= H;E++){F+=K[E].tR;K[E].vqa=F;}if(!l(D,K,G,H))throw Error("Infeasible: reason buffer capacity at min bitrate");return {At:!0,Dxa:0 == K.length,js:K};}function l(D,F,G,E){var H,L,K,I,R,O,J,M,P,S;for(;G <= E;G++){C.update("checkBuffer");H=D;L=F;K=G;C.update("check buffer vacancy");I=H.mk;R=H.fz[I.xY];O=H.UYa;J=!0;H=H.mPb(Math.floor(L[K].startTime) + I.ba);M=I.qu + L[K].vqa;P=0;S=0;if(H.index < I.Tn){for(var T=0,U=I.zC;U < H.index;U++){T+=R[U].ca;}P+=T;T=0;for(U=I.zC;U < H.index;U++){T+=R[U].duration;}S+=T;}else (P+=I.qu,S+=I.rp);T=0;for(U=I.Tn;U < H.index;U++){T+=L[U].tR;}P+=T;T=0;for(U=I.Tn;U < H.index;U++){T+=R[L[U].V3a].duration;}S+=T;H=M - P;I=R[K].ba + R[K].duration - I.ba - S;if(I >= O.Xv || H >= O.Nlb)J=!1;L[K].cZa=H;L[K].noa=I;if(!J)return !1;}return !0;}function d(D){D=D.mk.aa;for(var F=[],G,E=0;E < D.length;E++){C.update("get prebuffered chunks loop");G=D[E];q(void 0 !== G.kb,"expect frag.vmaf !== undefined");G=new v(G.ca,G.duration / 1E3,G.kb);F.push(G);}return F;}function f(D){var F,G,E,H,L,K,O;F=D.fz;G=D.mk;E=D.sv;H=E.Tx;L=D.bd;K=[];H=Math.min(E.LJ,H);for(var I=0;I < F.length;I++){E=[];for(var R=G.Tn;R <= H;R++){C.update("get chunk map from play segment");O=F[I][R];O=new v(O.ca,O.duration / 1E3,D.ds && void 0 !== O.kb?O.kb:L[I].kb);E.push(O);}K.push(E);}return new u(K,!1);}function h(D,F,G){q(D.vP() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var E=0,H=0,L,K,I=0;I < F.length;I++){C.update("calculate twvmaf");q(F[I].J7a === I,"expect stream_choices[idx].i_epoch === idx");K=D.dn[F[I].K$][I];L=void 0 !== G?G(K.quality):K.quality;K=K.Pn;E+=L * K;H+=K;}return {J1a:E / H,I1a:1E3 * H};}function g(D,F,G){q(D.vP() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var E=0,H=0,L=G.mk.SV,K,I=0,R=0,O=0;O < F.length;O++){C.update("calculate Bytes");q(F[O].J7a === O,"expect stream_choices[idx].i_epoch === idx");K=D.dn[F[O].K$][O];E+=K.ca;H+=L * K.Pn * 1E3 / 8;I+=K.Pn * G.bd[F[O].K$].bitrate;R+=K.Pn;}return {H1a:E,E1a:H,G1a:0 < R?1 * I / R:0};}function n(D,F,G){F=Math.min(D.length - 1,F);F=Math.max(0,F);return D[F] * G / 8;}function p(D,F,G,E){var H,L,K,I,R;H=G.trace;L=1 * G.EA;K=F + E - G.timestamp;I=Math.floor(1 * K / L);F=(K - I * L) / L * n(H,I,L);if(F >= D)R=K - 1 * D / F * (K - I * L);else for(K=I;F < D;){C.update("find download start time");--K;if(0 > K)return -1;I=n(H,K,L);if(F + I >= D){D=(D - F) / I * L;R=(K + 1) * L - D;break;}F+=I;}return R + G.timestamp - E;}q=a(2).assert;t=a(996);v=a(423).zob;u=a(423).Aob;w=a(997).Spb;x=a(424).Qub;y=a(261).PFa;z=a(254).P3;A=a(86).default;B=new (a(4).default.Console)("ASEJS_QOE_EVAL","media|asejs");C=a(128).nQa || a(128);r.exports={lY:function(D){var F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga,V,ba,qa,La,Oa,Ta,Qa;B.debug("greedy DEBUG false");C.sBa("greedy-" + (D.ds?"segvmaf":"dlvmaf") + ": ");try{D.JJ=[];F=D.fz;G=D.mk;E=D.sv;H=E.Tx;L=D.bd;H=Math.min(E.LJ,H);for(I=G.Tn;I <= H;I++){R=new t();D.JJ[I]=R;F[0][I].toa=F[0][I].ca;for(K=1;K < F.length;K++){F[K][I].toa=F[K][I].ca;}K=0;O=F[K][I];O.pF=Infinity;O.vg=K;for(K=1;K < F.length;K++){O=F[K][I];O.vg=K;J=R.jaa()?F[0][I]:R.i4b();M=8 * O.toa / O.duration;P=8 * J.toa / J.duration;if(D.ds && void 0 !== O.kb)(S=O.kb,T=J.kb);else (S=L[K].kb,T=L[J.vg].kb);O.Wv=M - P;O.pF=(S - T) / O.Wv;isFinite(O.pF) && (0 < O.pF || K == F.length - 1) && 0 < O.Wv && R.enqueue(O);}}for(I=G.Tn;I <= H;I++){G=[];U=[];W=[];fa=D.JJ[I].Xn();for(F=0;F < fa.length;F++){O=fa[F];G.push(O.Wv.toFixed(2));D.ds && void 0 !== O.kb?U.push(O.kb):U.push(L[O.vg].kb);W.push(O.pF.toFixed(4));}}sa=k(D);if(sa.Dxa)return sa;wa=D.mk;Ba=D.sv;Ga=Ba.Tx;Ga=Math.min(Ba.LJ,Ga);W=[];for(var N=wa.Tn;N <= Ga;N++){D.JJ[N].jaa() || W.push(D.JJ[N].tO());}q(void 0 !== D.compare,"playSegment.compare required for greedy");for(var Q=new z(W,D.compare);0 < Q.length;){C.update("upgrade frags");V=Q.pop();a:{Ga=wa=void 0;N=D;W=sa;U=V;ba=N.mk;qa=N.sv;La=Math.min(qa.LJ,qa.Tx);Oa=JSON.parse(JSON.stringify(W.js));q(U && Oa[U.index].gf < U.vg,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");Ga=U.index;wa=Oa[Ga];wa.gf=U.vg;wa.tR=m(N,wa.gf,Ga);wa.startTime=p(wa.tR,wa.d8,N.EC,ba.IF);Oa[Ga]=wa;if(0 > wa.startTime)Ta=!1;else {for(Ga=U.index - 1;Ga >= ba.Tn;Ga--){wa=Oa[Ga];Qa=Oa[Ga + 1].startTime;if(wa.d8 <= Qa)break;wa.d8=Qa;wa.startTime=p(wa.tR,wa.d8,N.EC,ba.IF);Oa[Ga]=wa;if(0 > wa.startTime){Ta=!1;break a;}}for(var Wa=U.index + 1;Wa <= La;Wa++){Oa[Wa].vqa=Oa[Wa].tR + (Wa > N.mk.Tn?Oa[Wa - 1].vqa:0);}for(var eb=U.index + 1;eb <= La;eb++){if(Oa[eb].startTime > Oa[U.index].oMb){La=eb - 1;break;}}l(N,Oa,U,Math.min(Ga + 1,U.index),La)?(W.js=Oa,Ta=!0):Ta=!1;}}Ta && (D.JJ[V.index].jaa() || Q.push(D.JJ[V.index].tO()));}}finally{delete D.JJ;}for(La=qa=ba=Ta=V=Q=0;La < sa.js.length;La++){if(Oa=sa.js[La])(Qa=D.fz[Oa.gf][Oa.V3a],Q+=(Qa.kb?Qa.kb:D.bd[Oa.gf].kb) * Qa.duration,V+=Qa.duration,Ta+=Qa.ca,ba+=D.mk.SV * Qa.duration / 8,qa+=Qa.duration * D.bd[Oa.gf].bitrate);}sa.J1a=0 < V?1 * Q / V:0;sa.I1a=V;sa.H1a=Ta;sa.E1a=ba;sa.G1a=0 < V?1 * qa / V:0;sa.OB=C.L5a();B.debug("Max heap used: " + Math.round(sa.OB / 1024 / 1024) + " MB");return sa;},ppa:function(D,F){if(D.pF < F.pF)return 1;if(D.pF > F.pF)return -1;if(D.Wv > F.Wv)return 1;if(D.Wv < F.Wv)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},r_a:function(D,F){if(D.Wv > F.Wv)return 1;if(D.Wv < F.Wv)return -1;if(D.index > F.index)return 1;if(D.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var F,G,E,H,L,K;C.sBa("dp-" + (D.ds?"segvmaf":"dlvmaf") + ": ");F=k(D);if(!1 === F.At || !0 === F.Dxa)return F;G=f(D);E=new w(G);H=d(D);H={Tjb:c(D),pYa:D.mk.SV,jbb:0,Gab:240,Fab:8 * D.UYa.Nlb / 1E3,$Ya:.5,HYa:new y(H),G2a:0,Unc:void 0,U6a:void 0,Keb:void 0,EXa:!0};E=E.Ry(H);H=h(G,E,void 0);G=g(G,E,D);L=[];K=D.mk.Tn;E.forEach(function(I){L[K]={gf:I.K$};K++;});A(H,F);A(G,F);F.js=L;F.OB=C.L5a();B.debug("Max heap used: " + Math.round(F.OB / 1024 / 1024) + " MB");return F;}};},function(r){var c;function b(m){this.Ag=a(m);this.oh=this.Hf=0;if(c(m)){for(var k=m.length,l=0;l < k;++l){this[l]=m[l];}this.Hf=k;}}function a(m){if("number" !== typeof m)if(c(m))m=m.length;else return 16;m=Math.min(Math.max(16,m),1073741824);m=(m >>> 0) - 1;m|=m >> 1;m|=m >> 2;m|=m >> 4;m|=m >> 8;return (m | m >> 16) + 1;}b.prototype.Xn=function(){for(var m=this.Hf,k=Array(m),l=this.oh,d=this.Ag,f=0;f < m;++f){k[f]=this[l + f & d - 1];}return k;};b.prototype.push=function(m){var k,l,d,h;k=arguments.length;l=this.Hf;if(1 < k){d=this.Ag;if(l + k > d){for(var f=0;f < k;++f){this.Y4(l + 1);h=this.oh + l & this.Ag - 1;this[h]=arguments[f];l++;this.Hf=l;}return l;}h=this.oh;for(f=0;f < k;++f){this[h + l & d - 1]=arguments[f];h++;}this.Hf=l + k;return l + k;}if(0 === k)return l;this.Y4(l + 1);f=this.oh + l & this.Ag - 1;this[f]=m;this.Hf=l + 1;return l + 1;};b.prototype.pop=function(){var m,k,l;m=this.Hf;if(0 !== m){k=this.oh + m - 1 & this.Ag - 1;l=this[k];this[k]=void 0;this.Hf=m - 1;return l;}};b.prototype.shift=function(){var m,k,l;m=this.Hf;if(0 !== m){k=this.oh;l=this[k];this[k]=void 0;this.oh=k + 1 & this.Ag - 1;this.Hf=m - 1;return l;}};b.prototype.unshift=function(m){var k,l,d,h;k=this.Hf;l=arguments.length;if(1 < l){d=this.Ag;if(k + l > d){for(var f=l - 1;0 <= f;f--){this.Y4(k + 1);d=this.Ag;h=(this.oh - 1 & d - 1 ^ d) - d;this[h]=arguments[f];k++;this.Hf=k;this.oh=h;}return k;}h=this.oh;for(f=l - 1;0 <= f;f--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[f];}this.oh=h;this.Hf=k + l;return k + l;}if(0 === l)return k;this.Y4(k + 1);d=this.Ag;f=(this.oh - 1 & d - 1 ^ d) - d;this[f]=m;this.Hf=k + 1;this.oh=f;return k + 1;};b.prototype.i4b=function(){var m;m=this.Hf;if(0 !== m)return this[this.oh + m - 1 & this.Ag - 1];};b.prototype.get=function(m){var k;if(m === (m | 0)){k=this.Hf;0 > m && (m+=k);if(!(0 > m || m >= k))return this[this.oh + m & this.Ag - 1];}};b.prototype.jaa=function(){return 0 === this.Hf;};b.prototype.clear=function(){for(var m=this.Hf,k=this.oh,l=this.Ag,d=0;d < m;++d){this[k + d & l - 1]=void 0;}this.oh=this.Hf=0;};b.prototype.toString=function(){return this.Xn().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.tO=b.prototype.shift;b.prototype.toJSON=b.prototype.Xn;Object.defineProperty(b.prototype,"length",{get:function(){return this.Hf;},set:function(){throw new RangeError("");}});b.prototype.Y4=function(m){this.Ag < m && this.$zb(a(1.5 * this.Ag + 16));};b.prototype.$zb=function(m){var k,l;k=this.Ag;this.Ag=m;m=this.oh;l=this.Hf;if(m + l > k)for((m=m + l & k - 1,l=0);l < m;++l){this[l + k]=this[l + 0];this[l + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var q,t,v,u,w;function c(x,y,z){this.KYa=this.awb(x,y,z);}function m(){}function k(){}function l(){}function d(x){this.gGb=x;}function f(){}function h(){}function g(){}function n(){this.rqa={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,A){return A + x;});}q=a(0);t=a(2).assert;b=a(261).PFa;v=a(424).Rub;u=a(261).cob;new (a(4).default.Console)("ASEJS_QOE_EVAL","media|asejs");w=a(128).nQa || a(128);c.prototype.constructor=c;c.prototype.awb=function(x,y,z){t(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);t(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var A=[];x < y;x+=z){A.push(x);}A[A.length - 1] < y && A.push(y);return A;};c.prototype.QE=function(x){return this.cxb(x,this.KYa);};c.prototype.cxb=function(x,y){x=this.SLb(x,y);if(0 === x)throw new m();if(x === y.length)throw new k();return x;};c.prototype.SLb=function(x,y){t(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}t(!1,"expect not coming here in digitize()");};c.prototype.n$=function(){return p(1,this.KYa.length - 1);};m.prototype=Error();k.prototype=Error();l.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.Vob=-20;d.prototype.Uob=20;d.prototype.Tob=void 0;d.prototype.Oob=new b(void 0);d.prototype.Qob=0;d.prototype.Pob=1;d.prototype.Yob=!1;d.prototype.Sob=!0;d.prototype.Rob=!0;d.prototype.Wob=void 0;d.prototype.Mob=!0;d.prototype.Nob=0;d.prototype.Ry=function(x){t(void 0 !== x.Tjb,"expect recipe.time_varying_bandwidth !== undefined");return this.bAb(this.gGb,x.Tjb,void 0 !== x.jbb?x.jbb:this.Vob,void 0 !== x.Gab?x.Gab:this.Uob,void 0 !== x.Fab?x.Fab:this.Tob,void 0 !== x.HYa?x.HYa:this.Oob,void 0 !== x.G2a?x.G2a:this.Qob,void 0 !== x.$Ya?x.$Ya:this.Pob,void 0 !== x.Dac?x.Dac:this.Yob,void 0 !== x.tUb?x.tUb:this.Sob,void 0 !== x.U6a?x.U6a:this.Rob,void 0 !== x.Keb?x.Keb:this.Wob,void 0 !== x.EXa?x.EXa:this.Mob,void 0 !== x.pYa?x.pYa:this.Nob);};d.prototype.bAb=function(x,y,z,A,B,C,D,F,G,E,H,L,K,I){var O,J,M,P,S,wa,ba,qa,La,Oa,Ta,Qa,Wa,eb,ub,jb,mb,Ia,Xa,ab,sb;function R(Bb){return Bb[S];}w.sBa("dp: ");t(z <= C.Yh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");t(C.Yh <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");t(z <= D,"expect min_buffer_sec <= end_buffer_sec");t(D <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && t(C.Dm <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + C.Dm + " and " + B);J=new c(z,A,F);F=new n();M=0;P=C;F.put([0,J.QE(C.Yh)],[M,P,void 0,void 0,y,void 0,void 0,void 0]);y=P=0;C=x.oUb();t(x.vP() == C.length,"expect chunk_map.get_n_epoch() == durations_sec.length");S=-1;try{for(var T=q.__values(C),U=T.next();!U.done;U=T.next()){S+=1;C=!0;for(var W=x.dn.map(R),fa=J.n$(),sa=0;sa < fa.length;sa++){wa=fa[sa];if(F.Dva([S,wa]))for(var Ba=F.get([S,wa]),Ga=Ba[0],N=Ba[1],Q=Ba[4],V=0;V < W.length;V++){ba=W[V];w.update("epoch-ibuf-chunk loop");qa=void 0 !== L?L(ba.quality):ba.quality;La=Q.hi();try{Ba=this.Hwb(N,ba,La,I);Oa=Ba[0];Ta=Ba[1];Qa=Ba[2];Wa=Ba[3];eb=Ba[4];ub=Ba[5];}catch(Bb){if(Bb instanceof v)continue;else if(Bb instanceof m){P+=1;continue;}else throw Bb;}jb=!1;mb=!1;try{Ia=J.QE(Wa.Yh);E && J.QE(Oa);H && J.QE(Ta);if(void 0 !== B)if(H){if(Qa.Dm > B)throw new l();}else if(Wa.Dm > B)throw new l();}catch(Bb){if(Bb instanceof m)(Ia=void 0,P+=1);else if(Bb instanceof k)(K?jb=!0:y+=1,Ia=void 0);else if(Bb instanceof l)(K?mb=jb=!0:y+=1,Ia=void 0);else throw Bb;}try{if(jb && mb){t(void 0 !== B,"expect max_buffer_kb !== undefined");Xa=H?Qa.Dm - B:Wa.Dm - B;t(0 <= Xa,"pause dlnd kb cannot be -ve but is " + Xa);try{ab=Wa.F4b(Xa);}catch(Bb){if(Bb instanceof u)throw new m();throw Bb;}La.pdb(ab);eb+=ab;t(Wa.Yh < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Ia=J.QE(Wa.Yh);}else if(jb && !mb){ab=H?Qa.Yh - A + 1E-8:Wa.Yh - A + 1E-8;t(0 <= ab,"pause dlnd kb cannot be -ve but is " + ab);try{Wa.Jdb(ab);}catch(Bb){if(Bb instanceof u)throw new m();throw Bb;}La.pdb(ab);eb+=ab;t(z <= Wa.Yh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");t(Wa.Yh < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Ia=J.QE(Wa.Yh);}else ab=0;}catch(Bb){if(Bb instanceof m)(Ia=void 0,P+=1,ab=void 0);else if(Bb instanceof v)continue;else throw Bb;}M=F.Dva([S + 1,Ia])?F.get([S + 1,Ia])[0]:-Infinity;this.OAb(Wa,Ia,ba,qa,wa,S + 1,M,F,Ga,V,La,eb,ub,ab) && (C=!1);}}if(C){--S;break;}}}catch(Bb){var kb;kb={error:Bb};}finally{try{U && !U.done && (O=T.return) && O.call(T);}finally{if(kb)throw kb.error;}}try{sb=this.mUa(S + 1,J.QE(D),F,G,J);}catch(Bb){if(Bb instanceof f)try{sb=this.mUa(S + 1,J.QE(D),F,!G,J);}catch(Hb){if(Hb instanceof f){if(P > y)throw new h();throw new g();}throw Hb;}else throw Bb;}wa=sb;for(z=[];-1 < S;S--){Ba=F.get([S + 1,wa]);M=Ba[0];P=Ba[1];wa=Ba[3];A=Ba[5];B=Ba[6];D=Ba[7];Ba=Ba[2];ba=x.dn[Ba][S];G=ba.rB();qa=ba.quality;z.unshift({J7a:S,K$:Ba,info:{Zlc:G,quality:qa,ioa:P.Yh,hoa:P.Dm,g2a:A,Qa:B,yya:D}});}return z;};d.prototype.mUa=function(x,y,z,A,B){var C,D;C=!1;D=B.n$()[0];for(B=B.n$()[B.n$().length - 1];;){if(y < D || y > B){C=!0;break;}if(z.Dva([x,y]))break;else y=A?y - 1:y + 1;}if(C)throw new f("backtrack fails to find a solution");return y;};d.prototype.OAb=function(x,y,z,A,B,C,D,F,G,E,H,L,K,I){z=G + A * z.Pn;return void 0 !== y && z > D?(F.put([C,y],[z,x,E,B,H,L,K,I]),!0):!1;};d.prototype.Hwb=function(x,y,z,A){var B,C,D;A=(y.rB() + A) * y.Pn;z=z.wMb(A);A/=z;B=x.Yh - z;C=x.Yh + y.Pn;D=x.hi();D.add(y,void 0);x=x.hi();x.add(y,void 0);try{x.Jdb(z);}catch(F){if(F instanceof u)throw new m();throw F;}return [B,C,D,x,z,A];};f.prototype=Error();h.prototype=new f();g.prototype=new f();n.prototype={iDa:function(x){return x.join(",");},put:function(x,y){this.rqa[this.iDa(x)]=y;},get:function(x){return this.rqa[this.iDa(x)];},Dva:function(x){return (this.iDa(x) in this.rqa);}};r.exports={Spb:d,Ygc:c,xgc:m,ygc:k};},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gRa=void 0;r=a(0);c=r.__importStar(a(10));m=a(14);k=a(14);l=r.__importDefault(a(4));d=a(228);f=a(421);a=(function(){var B80;B80=2;for(;B80 !== 13;){switch(B80){case 2:h.prototype.au=function(g,n){var D80,u,p,q,w,x,t,v;D80=2;for(;D80 !== 50;){switch(D80){case 35:var p8z="s";p8z+="eekD";p8z+="elayed";this.ED={Rb:t.P.Rb + 1,Lk:g};this.gb.emit(p8z);D80=33;break;case 15:D80=this.Ys(f.wga.fsa(n),!1,!0)?27:26;break;case 21:D80=!this.gb.B6(t.P.Rb + 1)?35:31;break;case 24:v=this.gb.Rs?this.gb.Zn?Math.min(v[0].ba,v[1].ba):v[0].ba:v[1].ba;D80=23;break;case 11:n < v.P.Rb && t.P.Ef.replace && (t.P.Ef.replace=!1);u=this.gb.Ta.Wc;k.Tf.forEach(function(y){var E80;E80=2;for(;E80 !== 1;){switch(E80){case 2:(y=u.ce(y)) && p.gb.mWa(y);E80=1;break;}}});D80=19;break;case 23:D80=g > v?22:31;break;case 33:return;break;case 53:this.gb.bV();D80=43;break;case 27:return;break;case 42:var X8z="s";X8z+="e";X8z+="e";X8z+="k";var d8z="p";d8z+="tscha";d8z+="nged";return (this.gb.emit(d8z,q),this.gb.emit(X8z),this.tV(n),g=v && this.gb.Fb.Vz()?100:0,this.gb.l6(1,g),this.gb.Dk(),q);break;case 25:D80=v.length?24:52;break;case 31:this.gb.O.Gd(m.wa.jh);this.gb.nCa();this.gb.Ta.Xbc(g,n);D80=28;break;case 51:var K8z="see";K8z+="kFail";K8z+="e";K8z+="d";var F8z="se";F8z+="e";F8z+="k, no manifest at manifestInd";F8z+="ex";F8z+=":";(this.G.warn(F8z,n),this.gb.emit(K8z));D80=50;break;case 9:c.oa(n) && (n=this.gb.af.P.Rb);this.gb.Ta.hgb();D80=7;break;case 2:p=this;D80=1;break;case 52:var O8z="see";O8z+="kDela";O8z+="yed";(this.ED={Rb:n,Lk:g},this.gb.emit(O8z));D80=50;break;case 16:return;break;case 18:var E8z="s";E8z+="eekDe";E8z+="la";E8z+="yed";this.ED={Rb:n,Lk:g};this.gb.emit(E8z);D80=16;break;case 32:(g=v,q=g + this.gb.Ta.Ze);D80=31;break;case 22:D80=t.P.Ef.df?21:32;break;case 19:D80=!this.gb.JTa(n)?18:15;break;case 28:D80=(v=this.gb.af.P.Rb === n && !this.Axb(n) && g === t.ba)?44:39;break;case 6:!t.P.Ef.rZ && 0 < n && (q=this.gb.hO(n,g));this.gb.O.Gd(m.wa.Kj);v=this.gb.af;D80=12;break;case 44:k.Tf.forEach(function(y){var F80;F80=2;for(;F80 !== 1;){switch(F80){case 2:p.gb.yx[y].cj(!0);F80=1;break;}}});D80=43;break;case 43:D80=this.gb.O.g9a()?42:41;break;case 41:var i8z="se";i8z+="ek";i8z+="Fai";i8z+="led";var x8z="after seeki";x8z+="ng, p";x8z+="laye";x8z+="rState no longer STARTING: ";this.G.warn(x8z + this.gb.O.getState());this.gb.emit(i8z);D80=50;break;case 39:this.gb.lma();w=this.gb.Ta.Wc.C7(g).XQ;t.Hxa();x=this.gb.Ta.Wc;k.Tf.forEach(function(y){var G80,z;G80=2;for(;G80 !== 5;){switch(G80){case 2:z=x.ce(y);p.pc(y) && p.Czb(z,w[y]);G80=5;break;}}});D80=53;break;case 12:D80=n != v.P.Rb?11:26;break;case 7:D80=(t=this.gb.Oh(n))?6:51;break;case 26:v=this.gb.Ta.Wc.lX(t.Ma || Infinity,t.P);D80=25;break;case 1:var Z8z=" ";Z8z+="playerS";Z8z+="tate:";Z8z+=" ";var w8z=" me";w8z+="d";w8z+="i";w8z+="a.currentPts: ";var o8z=" ";o8z+="current";o8z+=" manif";o8z+="est";o8z+=": ";var D8z=" manifest";D8z+="I";D8z+="ndex: ";var S8z="s";S8z+="ee";S8z+="k:";S8z+=" ";null === (q=this.ZUa) || void 0 === q?void 0:q.cancel();(t=this.gb.J,v=this.gb.O.Le());q=g;t.Si && this.Ki.Fn(S8z + g + D8z + n + o8z + this.gb.af.P.Rb + w8z + v + Z8z + this.gb.O.getState());D80=9;break;}}};h.prototype.seek=function(g,n){var H80,p;H80=2;for(;H80 !== 9;){switch(H80){case 2:p=g;c.oa(n) && (n=this.gb.af.P.Rb);this.gb.Ta.hgb();this.gb.Oh(n).P.Ef.rZ || this.gb.aN || (p=this.gb.fv(n,g));return this.au(p,n);break;}}};h.prototype.Ys=function(g,n,p){var I80,q,t;I80=2;for(;I80 !== 9;){switch(I80){case 5:return t;break;case 14:return t;break;I80=4;break;case 2:t=this.gb.Ta.Ys(g,n);I80=1;break;case 4:var R8z="s";R8z+="e";R8z+="e";R8z+="k";var J8z="ptsc";J8z+="ha";J8z+="ng";J8z+="ed";t?(this.gb.O.Gd(m.wa.Kj),(g=this.gb.Ta.wi.children[g]) && this.gb.emit(J8z,null !== (q=g.rd) && void 0 !== q?q:g.Nua),this.gb.O.Gd(m.wa.jh),this.gb.emit(R8z),g && this.tV(g.P.Rb),this.gb.l6(1),this.gb.Dk(),this.gb.Fb.Vz()):p || (q=this.gb.Ta.yTb(g),this.au(q));return t;break;case 6:I80=n?0:0;break;I80=n?5:4;break;case 1:I80=n?5:4;break;}}};h.prototype.Axb=function(g){var J80;J80=2;for(;J80 !== 1;){switch(J80){case 2:return ! !this.gb.Oh(g).EV;break;}}};B80=3;break;case 3:h.prototype.tV=function(g){var K80,n;K80=2;for(;K80 !== 4;){switch(K80){case 2:n=this;g=this.gb.Oh(g);g.EV || (g.EV=!0,k.Tf.forEach(function(p){var L80;L80=2;for(;L80 !== 1;){switch(L80){case 2:n.gb.mh[p].resume();L80=1;break;}}}),this.gb.bV());K80=4;break;}}};h.prototype.Czb=function(g,n){var M80,p,q,t;M80=2;for(;M80 !== 8;){switch(M80){case 4:M80=(null === (q=this.gb.di) || void 0 === q?0:q.TE())?3:9;break;case 2:(p=this,t=g.mediaType);g.SK(n);g.A8b();M80=4;break;case 3:(this.gb.di.vm.forEach(function(v){var N80;N80=2;for(;N80 !== 1;){switch(N80){case 2:p.gb.XH(v,!1);N80=1;break;case 4:p.gb.XH(v,~5);N80=8;break;N80=1;break;}}}),this.gb.di=void 0);M80=9;break;case 9:this.gb.QW.YVa(t,g.Xa.P);M80=8;break;}}};h.prototype.ela=function(){var O80,g,n;O80=2;for(;O80 !== 4;){switch(O80){case 2:O80=this.ED?1:4;break;case 1:(g=this.ED.Lk,n=this.ED.Rb);this.gb.Oh(n) && (this.ED=void 0,this.au(g,n));O80=4;break;}}};h.prototype.Rl=function(g){var P80,p,q;P80=2;for(;P80 !== 7;){switch(P80){case 1:null === (q=this.ZUa) || void 0 === q?void 0:q.cancel();this.gb.nCa();this.gb.Ta.wi.Rl(g);k.Tf.forEach(function(t){var R80,v;R80=2;for(;R80 !== 9;){switch(R80){case 7:R80=p.pc(t)?6:0;break;R80=p.pc(t)?1:9;break;case 1:var L8z="skip: not";L8z+=" r";L8z+="esuming bufferManager, audio tra";L8z+="ck switch in pr";L8z+="ogress";v=p.gb.Fb.Zf[t];p.gb.jt && (v.$Ba=l.default.time.ga());v.sS?v.Ob(L8z):p.gb.mh[t].resume();n(p.gb.Ta.Wc,t);R80=9;break;case 2:R80=p.pc(t)?1:9;break;}}});this.ZUa=g=new d.fH(this.gb.YK());return g.QZ(function(){var S80;S80=2;for(;S80 !== 5;){switch(S80){case 2:p.gb.O.Gd(m.wa.Dc);p.gb.mV();S80=5;break;}}}).zAa;break;case 2:p=this;P80=1;break;}}function n(t,v){var Q80;Q80=2;for(;Q80 !== 5;){switch(Q80){case 2:var U8z="skip: unexpecte";U8z+="d behaviour - a non-presenti";U8z+="ng branch doesn't h";U8z+="ave a previous branch";t !== p.gb.Ta.wi && (t.Jg?n(t.Jg,v):p.G.error(U8z));(t=t.ce(v)) && t.Rl();Q80=5;break;}}}};h.prototype.Wg=function(g){var T80,n,p,q;T80=2;for(;T80 !== 8;){switch(T80){case 1:T80=g < (null !== (n=p.rd) && void 0 !== n?n:p.Nua) || g >= q?5:4;break;case 4:n=this.gb.xv(g,0,!0);g=this.gb.xv(g,1,!0);return void 0 !== n && void 0 !== g && n.complete && g.complete;break;case 2:(p=this.gb.Ta.wi,q=0 < Object.keys(p.u && p.u.cm || ({})).length && !p.vl?p.ef - this.gb.J.uF:p.ef);T80=1;break;case 5:return !1;break;}}};return h;break;}}function h(g,n,p,q){var C80;C80=2;for(;C80 !== 9;){switch(C80){case 2:this.gb=g;this.G=n;this.pc=p;this.Ki=q;C80=3;break;case 3:var Q8z="1SI";Q8z+="Yb";Q8z+="ZrNJ";Q8z+="C";Q8z+="p9";Q8z;C80=9;break;}}}})();b.gRa=a;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.EHa=void 0;r=a(0);c=r.__importStar(a(10));m=a(14);k=r.__importDefault(a(4));a=(function(){var U80;U80=2;for(;U80 !== 18;){switch(U80){case 5:l.prototype.xWa=function(){var Y80;Y80=2;for(;Y80 !== 1;){switch(Y80){case 2:return this.Za.ko() || this.Za.O.i9a() || this.Za.O.h9a()?!0:!1;break;}}};l.prototype.f5=function(d){var Z80;Z80=2;for(;Z80 !== 1;){switch(Z80){case 2:return this.xWa() || this.Za.Fb.Zf[d.mediaType].sS || this.Za.Rz.Fx?!1:!0;break;}}};l.prototype.Dk=function(){var a90,d,f;a90=2;for(;a90 !== 5;){switch(a90){case 2:(d=this,f=this.Za.J);!this.Za.HVa || this.Za.c6 || this.Za.r6 || (this.Za.c6=setTimeout(function(){var b90;b90=2;for(;b90 !== 4;){switch(b90){case 2:clearTimeout(d.Za.c6);d.Za.c6=void 0;d.$Ta();b90=4;break;}}},f.Jya),f.HO && this.Za.Zn && (this.kH || (this.kH=setTimeout(function(){var c90,h;c90=2;for(;c90 !== 3;){switch(c90){case 5:h=d.Za.Ta.Wc.ce(1);h && d.rTa(h);c90=3;break;case 2:clearTimeout(d.kH);d.kH=void 0;c90=5;break;}}},f.wBb))));a90=5;break;}}};U80=9;break;case 2:l.prototype.Z4=function(){var W80;W80=2;for(;W80 !== 1;){switch(W80){case 2:this.kH && (clearTimeout(this.kH),this.kH=void 0);W80=1;break;}}};l.prototype.$Ta=function(){var X80,d,f,h,g;X80=2;for(;X80 !== 6;){switch(X80){case 3:h=!h || h.ws;f && !f.ws || !h || this.Za.aN || (this.Za.tc.Xf && this.Za.tc.Xf.mr(!0,this.Za.Qm.sessionId),this.Za.Hb.icb());this.XTa(d.Wc);this.HAb();X80=6;break;case 1:var I8z="f";I8z+="irstD";I8z+="ri";I8z+="veStr";I8z+="eaming";void 0 === this.Za.twb && (this.Za.twb=!0,this.Za.Hb.Tm(I8z));(d=this.Za.Ta,f=d.Wc.ce(0),h=d.Wc.ce(1),g=!h || h.Ei);(!f || f.Ei) && g && this.Za.aN && d.HGb(h?h.Jc:f.Jc);X80=3;break;case 2:X80=!this.Za.Yi.xma && !this.Za.ko()?1:6;break;}}};U80=5;break;case 9:l.prototype.rTa=function(d,f){var d90,h,g,n,p;d90=2;for(;d90 !== 3;){switch(d90){case 2:(h=d.mediaType,g=this.Za.Fb.uy[h].GJ,n=d.re.SY);d90=1;break;case 1:d90=g && n?5:3;break;case 5:p=this.Za.Fb.Zf[h].Qf;p && (this.Za.O.Df() || this.Za.kh.vBb(h,p,g.bitrate,n.bitrate,d.oVb.bitrate,f));d90=3;break;case 7:d90=g || n?1:2;break;d90=g && n?5:3;break;}}};l.prototype.XTa=function(d,f){var e90,h,g,n,p,q;e90=2;for(;e90 !== 7;){switch(e90){case 5:e90=!q || !p?4:9;break;case 9:var B8z="Still in buffering";B8z+=" state while pipel";B8z+="ine's are done";this.Za.O.Df() && (this.G.warn(B8z),this.Za.Fb.Vz());f || h.Cw || d.P.Ef.df || !this.NFb(d) || ((f=this.Za.O.Df()) && this.Za.J.aqa && (this.Za.sma(),f=!1),d.n9 || this.Za.Ta.sVb(d,f),d.KN(),d.PFb() && (f=Object.keys(d.children),this.Za.J.D8 && 1 === f.length && !d.children[f[0]].active && this.Za.Ta.N$a(d,f[0]),this.xwb(d,h)));e90=7;break;case 2:(h=d.u,g=d.ce(1),n=d.ce(0),p=!n || n.Ei,q=!g || g.Ei);h.om || this.Za.Ta.Xba(d,h,d.P.Ef.df && 0 === d.P.Rb);e90=5;break;case 3:return;break;case 4:e90=(this.Za.Zn && this.YTa(d,g,n),this.Za.Rs && this.YTa(d,n,g),p=!n || n.Ei,q=!g || g.Ei,!q || !p)?3:9;break;}}};l.prototype.xwb=function(d,f){var f90,n,p,q,t,g,v,u,h;f90=2;for(;f90 !== 23;){switch(f90){case 19:var f8z="No s";f8z+="ubbranch ca";f8z+="ndidates to drive";this.G.warn(f8z);f90=18;break;case 9:(n=d.FM,p=f.cm[n.u.id].weight);f90=8;break;case 7:(q=[],t=[]);c.Jf(d.children,function(w,x){var g90;g90=2;for(;g90 !== 5;){switch(g90){case 2:x=f.cm[x].weight;0 !== x && (x={weight:x,Xa:w},w.Roa(!0,!0) || t.push(x),q.push(x));g90=5;break;}}});0 === t.length?t=q:2 < t.length && (t.sort(function(w,x){var h90;h90=2;for(;h90 !== 1;){switch(h90){case 2:return x.weight - w.weight;break;}}}),t.length=2);f90=13;break;case 26:n.Be || (n.Be={V$:k.default.time.ga(),pC:0});n.Be.weight=p;this.XTa(n,!0);f90=23;break;case 5:g=d.FM.On;f90=4;break;case 12:n=t.reduce(function(w,x){var i90;i90=2;for(;i90 !== 4;){switch(i90){case 2:x.On=x.Xa.On;x.yba=Math.min(x.On[0],x.On[1]);i90=5;break;case 5:a000.V3j(1);var Z31=a000.t3j(48,48);return [w[0] + x.weight,w[Z31] + x.yba];break;}}},[0,0]);(v=n[0],u=n[1]);f90=10;break;case 10:0 !== v && 0 !== u?(c.Jf(t,function(w){var j90;j90=2;for(;j90 !== 4;){switch(j90){case 2:w.zfc=w.weight / v;w.vEb=w.yba / u;w.usage=w.vEb - w.zfc;j90=4;break;}}}),t.sort(function(w,x){var k90;k90=2;for(;k90 !== 1;){switch(k90){case 2:return w.usage - x.usage;break;}}})):t.sort(function(w,x){var l90;l90=2;for(;l90 !== 4;){switch(l90){case 2:w=Math.min.apply(null,w.Xa.On);x=Math.min.apply(null,x.Xa.On);a000.b3j(0);return a000.W3j(w,x);break;}}});f90=20;break;case 13:f90=1 < t.length?12:20;break;case 1:f90=this.Za.tc.sua && d.FM && d.Hka?5:8;break;case 20:f90=0 === t.length?19:17;break;case 8:f90=!n?7:26;break;case 18:return;break;case 17:n=t[0].Xa;p=t[0].weight;d.FM=n;f90=27;break;case 3:d.FM=void 0;f90=8;break;case 4:f90=Math.min(g[0] - d.Hka[0],g[1] - d.Hka[1]) >= h.fGb?3:9;break;case 27:d.Hka=n.On;f90=26;break;case 2:h=this.Za.J;f90=1;break;}}};l.prototype.YTa=function(d,f,h){var m90,p,q,t,g,n,v;m90=2;for(;m90 !== 8;){switch(m90){case 1:m90=!f.Ei?5:8;break;case 5:(p=this.Za.Fb.Zf[n],q=this.Za.Fb.AC[n],t=this.Za.Fb.uy[n]);m90=4;break;case 2:(g=this.Za.J,n=f.mediaType);m90=1;break;case 4:m90=p.Qf && (void 0 === f.gK || (f.SK(f.gK,f.k4b),void 0 === f.gK))?3:8;break;case 3:var l8z="Still in";l8z+=" ";l8z+="buffering state while pipeline does not ha";l8z+="ve vacancy";var v8z="drivePipeline, d";v8z+="elaying audio";v8z+=" unti";v8z+="l video";v8z+=" actualStartPts determined";v=this.Za.af;c.oa(v.ZJ) || (g.AK && 0 === n && c.oa(this.Za.Fb.Zf[1].Sp)?f.Ob(v8z):(c.oa(f.mm) && (f.mm=f.md?f.md.index:f.yra(f.Cc)),f.pe && f.mm > f.pe.index?d.P.Ef.df && c.oa(v.Ma) && c.oa(d.Jc) || (f.Ei || this.Za.mWa(f),d=this.Za.af.P.Rb,d < this.Za.jP() - 1 && this.Za.B6(d + 1)):this.f5(f) && (g.xNb && !this.Za.O.Df() && 0 >= f.NJ?f.Xdc(g.V_b):this.Wvb(f,h)?(f.FYb=k.default.time.ga(),h=this.Za.Fb.Ata(f),g=h.vg,c.oa(g) || (g=f.track.bd[g],this.Vvb(f,g) || ((n=g.Q9())?(f.wYb=g.bitrate,f.XZb(g,n,this.Za.O.Df(),p.Qf,h.zy),this.hec(g,t,q),d.Be && ++d.Be.pC):g.kG()))):this.Za.O.Df() && (f.Nj(l8z),this.Za.Fb.Vz()))));m90=8;break;}}};l.prototype.hec=function(d,f,h){var n90;n90=2;for(;n90 !== 4;){switch(n90){case 2:f.Pva=d.Lc;c.Ka(h.Xx) || (h.eec(d.cu,d.zB || -1,d.bitrate),c.oa(d.dBa) || this.Za.kh.xhb(d.dBa,d.mq,d.nq));d.url && (f.Wva=d.url);n90=4;break;}}};l.prototype.Vvb=function(d,f){var o90,h;o90=2;for(;o90 !== 5;){switch(o90){case 2:h=this.Za.Fb.uy[d.mediaType];return this.Za.HVa && f.Lc && h.Pva && f.Lc !== h.Pva && (0 < d.Sa.CF || 0 < d.Sa.lu)?!0:!1;break;}}};l.prototype.Wvb=function(d,f){var q90,x,h,g,n,p,q,t,v,u,w;q90=2;for(;q90 !== 32;){switch(q90){case 35:q90=(q=1,d.koa < g.QB && (q=g.QB),d.Sa.CF >= q)?34:33;break;case 22:return !1;break;case 24:u=this.Za.Ta.Qcc();q90=23;break;case 6:h=this.Za.af.P;x=this.Za.O.Uo(h);q90=13;break;case 3:return !1;break;case 33:return 0 < g.Yv && !p && t + (f?x:0) > g.Yv || void 0 !== this.FTa && v > this.FTa || 1 === n && h.Ef.df && v > g.cba && (f=this.Za.tc.Vb.get(),f.confidence && f.Qa && f.Qa.pa * d.gO > g.Owa)?!1:!0;break;case 11:t=this.Za.Ta.nI(p,n);x=0;q90=20;break;case 8:q90=q >= g.gba?7:6;break;case 25:return !1;break;case 7:return !1;break;case 26:q90=this.axb(n) >= g.xab?25:24;break;case 19:q90=this.Za.tc.xva?18:17;break;case 2:var A8z="floor";A8z+="ed";A8z+=" t";A8z+="o ";A8z+="0";var k8z="nega";k8z+="tive scheduledBuffe";k8z+="rLevel:";(g=this.Za.J,n=d.mediaType,p=d.Maa,q=this.Za.O.Le(),t=this.Za.O.getState(),v=this.Za.Ta.Jx(p,n),u=d.Cc + p.Ze - q);0 > u && (d.Ob(k8z,u,A8z),u=0);w=f?f.Cc:0;q90=4;break;case 23:q90=!c.oa(g.ry) && u >= g.ry || d.gO + q >= Math.max(g.Xv,this.Za.tc.wC + g.Qxa * p.P.w_b[n])?22:21;break;case 34:return !1;break;case 9:q=d.Sa.vya;q90=8;break;case 12:return !1;break;case 18:return !1;break;case 20:q90=f && (x=this.Za.Ta.nI(p,f.mediaType),w=d.Cc - w,this.pc(f.mediaType) && !f.Ei && w >= g.Vwa && u > g.uj)?19:26;break;case 15:q90=void 0 === u || u < g.s_b?27:26;break;case 13:q90=t === m.wa.Dc && v > g.Mwa && !h.Ef.df && !x && !h.qZ || v && q > Math.max(v * g.Rwa / 100,g.w0b)?12:11;break;case 27:return !1;break;case 21:q90=(p=this.Za.O.Df())?35:33;break;case 4:q90=(null === (h=d.Ch) || void 0 === h?0:h.QUb())?3:9;break;case 17:u=void 0;f && (u=f.mediaType,w=k.default.jq()[u],u=g.wec?this.Za.Ta.O$a(p,u).Lg / w:x / w);q90=15;break;}}};U80=11;break;case 11:l.prototype.axb=function(d){var r90;r90=2;for(;r90 !== 1;){switch(r90){case 2:return this.Za.Ta.Ya.reduce(function(f,h){var s90;s90=2;for(;s90 !== 1;){switch(s90){case 4:return f % h.rTb(d);break;s90=1;break;case 2:return f + h.rTb(d);break;}}},0);break;}}};l.prototype.NFb=function(d){var t90,f,h,g;t90=2;for(;t90 !== 4;){switch(t90){case 2:(f=this,h=this.Za.Ta,g=!0);c.Jf(d.u.cm,function(n,p){var u90,q;u90=2;for(;u90 !== 7;){switch(u90){case 8:var g8z="i";g8z+="n";g8z+=" de";g8z+="s";g8z+="ts:";var T8z="invalid ";T8z+="segment";T8z+=":";d.Ob(T8z,p,g8z,d.u.cm);u90=7;break;case 2:u90=(n=h.ze(p))?1:8;break;case 1:p=n.P;n=p.Rh[0];q=p.Rh[1];n && q && n.stream.Vd && q.stream.Vd || (g=!1);f.Za.O.Uo(p) || (g=!1);u90=7;break;}}});return g;break;}}};l.prototype.HAb=function(){var v90,d,f,h;v90=2;for(;v90 !== 5;){switch(v90){case 2:(d=this.Za.J,f=this.Za.Ta,h=f.Wc);this.Za.O.Df() || f.Jx(h,1) < d.yZ || h.P.gDa();v90=5;break;}}};return l;break;}}function l(d,f,h){var V80;V80=2;for(;V80 !== 9;){switch(V80){case 2:var z8z="1";z8z+="SIYbZrN";z8z+="JC";z8z+="p9";this.Za=d;this.G=f;this.pc=h;z8z;V80=3;break;case 3:this.FTa=this.kH=void 0;V80=9;break;}}}})();b.EHa=a;},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hLa=void 0;c=a(175);m=a(14);k=a(14);l=a(7);r=(function(){var w90;w90=2;for(;w90 !== 6;){switch(w90){case 2:d.prototype.play=function(){var y90,f;y90=2;for(;y90 !== 5;){switch(y90){case 2:var u2z="p";u2z+="l";u2z+="a";u2z+="y";var Y8z="play ca";Y8z+="lled after pipe";Y8z+="li";Y8z+="nes already ";Y8z+="shutdown";f=this;this.ko()?this.G.warn(Y8z):(this.cc.O.Gd(m.wa.Dc),this.cc.pAb(),this.cc.Fb.Zf.forEach(function(h){var z90;z90=2;for(;z90 !== 1;){switch(z90){case 2:var e8z="play: not resuming";e8z+=" bufferManager, audio track";e8z+=" switch in progress";f.pc(h.mediaType) && (h.sS?h.Ob(e8z):(f.cc.mh[h.mediaType].resume(),f.cc.yx[h.mediaType].resume()));z90=1;break;}}}),this.cc.mV(),this.cc.emit(u2z));y90=5;break;}}};d.prototype.stop=function(){var A90,f,h,g,n;A90=2;for(;A90 !== 6;){switch(A90){case 2:(f=this,h=this.cc.O.i9a(),g=this.cc.O.h9a());this.cc.O.Gd(m.wa.Cs);this.cc.Z4();h || g || this.cc.Ta.wi.Xy(!1,this.cc.O);n=this.cc.Ta.Wc;k.Tf.forEach(function(p){var B90;B90=2;for(;B90 !== 5;){switch(B90){case 3:B90=(p=n.ce(p))?6:6;break;B90=(p=n.ce(p))?1:5;break;case 2:B90=(p=n.ce(p))?1:5;break;case 1:p.Ei=!1;B90=5;break;}}});A90=8;break;case 8:var c2z="s";c2z+="t";c2z+="o";c2z+="p";k.Tf.forEach(function(p){var C90;C90=2;for(;C90 !== 1;){switch(C90){case 2:(p=f.cc.mh[p]) && p.pause();C90=1;break;}}});this.cc.emit(c2z);A90=6;break;}}};d.prototype.suspend=function(){var D90;D90=2;for(;D90 !== 1;){switch(D90){case 2:this.xma=!0;D90=1;break;case 4:this.xma=+9;D90=6;break;D90=1;break;}}};d.prototype.resume=function(){var E90;E90=2;for(;E90 !== 5;){switch(E90){case 2:this.xma=!1;this.cc.Gg.Dk();E90=5;break;}}};d.prototype.close=function(){var F90,f;F90=2;for(;F90 !== 6;){switch(F90){case 4:var r2z="e";r2z+="ndpla";r2z+="y";var n2z="lo";n2z+="g";n2z+="d";n2z+="ata";var y2z="c";y2z+="l";y2z+="o";y2z+="s";y2z+="e";this.cc.emit(y2z);f.A2a && (f=c.nz.instance().Cb()) && (f={type:n2z,target:r2z,fields:{bridgestat:f}},l.eb(this.cc,f.type,f));this.cc.tc.Xf && this.cc.tc.Xf.mr(!0,this.cc.Qm.sessionId,!0);this.cc.Hb.icb();this.cc.Hfb();F90=6;break;case 2:f=this.cc.J;this.EVa=!0;this.stop();F90=4;break;}}};w90=9;break;case 9:d.prototype.flush=function(){var G90,f,h,g,t,v,H90,n,p,q;G90=2;for(;G90 !== 16;){switch(G90){case 13:var h2z="e";h2z+="n";h2z+="dp";h2z+="l";h2z+="ay";var a2z="log";a2z+="d";a2z+="a";a2z+="ta";v && v.length && (n.activeRequests=JSON.stringify(v));n.aseApiVersion=this.cc.dI;h.x2a && (g=g.Z9()) && (g.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=g.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=g.estimatedBytesPacedVideo,n.bytestotalVideo=g.bytestotalVideo,n.pacedAvtpVideo=g.pacedAvtpVideo),g.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=g.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=g.estimatedBytesPacedAudio,n.bytestotalAudio=g.bytestotalAudio,n.pacedAvtpAudio=g.pacedAvtpAudio),g.pacedAvtp && (n.pacedAvtp=g.pacedAvtp));Object.keys(n).length && (n={type:a2z,target:h2z,fields:n},l.eb(this.cc,n.type,n));G90=20;break;case 20:var M2z="e";M2z+="n";M2z+="dplay";var P2z="log";P2z+="da";P2z+="ta";var V2z="t";V2z+="hroug";V2z+="hput-sw";var b2z="throughput";b2z+="-s";b2z+="w";var W2z="throu";W2z+="gh";W2z+="put-";W2z+="sw";var t2z="thr";t2z+="oug";t2z+="hp";t2z+="u";t2z+="t-sw";h.aX && (p && p[t2z] && p[W2z].pa && this.cc.Bw.LBb({avtp:p[b2z].pa,variance:p[V2z].te}),this.cc.Bw.FBb(q,null === (f=p.avtp) || void 0 === f?void 0:f.y8),f=this.cc.Bw.mRb(),h=this.cc.Bw.BTb(),f && (f.n=h,f={type:P2z,target:M2z,fields:{ibef:f}},l.eb(this.cc,f.type,f),this.cc.Bw.save()));G90=19;break;case 2:(h=this.cc.J,g=this.cc.tc.Vb);G90=1;break;case 3:p && p.initialThroughput && p.initialThroughput.pa && (n.initial_avtp=p.initialThroughput.pa);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);g.flush();(t=g.e5a(),v=g.UWa);G90=6;break;case 17:try{H90=2;for(;H90 !== 1;){switch(H90){case 2:this.cc.P8(m.wa.Cs);H90=1;break;}}}catch(w){var m2z="Hinds";m2z+="ight:";m2z+=" Error evalu";m2z+="ating QoE at stopping: ";a000.b3j(7);this.cc.Hb.Zo(a000.t3j(m2z,w));}G90=16;break;case 18:G90=this.KH.jt?17:16;break;case 14:for(var u in t){var H2z="n";H2z+="e";var s2z="n";s2z+="e";var G2z="n";G2z+="e";t.hasOwnProperty(u) && (n[G2z + u]=Number(t[u]).toFixed(6),q[s2z + u]=1 * n[H2z + u]);}G90=13;break;case 5:(n={},p=g.get(),q={});p && p.avtp && p.avtp.pa && (n.avtp=p.avtp.pa,n.dltm=p.avtp.y8,q.avtp=n.avtp);G90=3;break;case 1:G90=g?5:19;break;case 6:G90=t?14:13;break;case 19:this.cc.Hb.uVa();G90=18;break;}}};d.prototype.ko=function(){var I90;I90=2;for(;I90 !== 1;){switch(I90){case 2:return this.EVa || this.cc.Ta.Uk;break;}}};return d;break;}}function d(f,h,g,n){var x90;x90=2;for(;x90 !== 8;){switch(x90){case 5:var q2z="1SI";q2z+="Yb";q2z+="Z";q2z+="rNJCp9";this.pc=g;this.KH=n;this.EVa=this.xma=!1;q2z;x90=8;break;case 2:this.cc=f;this.G=h;x90=5;break;}}}})();b.hLa=r;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kNa=void 0;r=a(0);c=r.__importStar(a(10));m=a(124);k=r.__importDefault(a(29)).default.cb;l=r.__importDefault(a(4));d=a(7);f=a(2);a=(function(){var J90;J90=2;function h(g,n){var K90;K90=2;for(;K90 !== 4;){switch(K90){case 2:var j2z="1SIYbZrNJ";j2z+="Cp";j2z+="9";this.nb=g;this.G=n;j2z;K90=4;break;}}}for(;J90 !== 38;){switch(J90){case 30:h.prototype.qyb=function(){var t01,g;t01=2;for(;t01 !== 5;){switch(t01){case 2:var C2z="as";C2z+="erepor";C2z+="tenabl";C2z+="ed";g={type:C2z};d.eb(this.nb,g.type,g);t01=5;break;}}};J90=29;break;case 29:h.prototype.Ayb=function(g){var i3z=a000;var u01,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,I;u01=2;for(;u01 !== 6;){switch(u01){case 2:u01=g?1:6;break;case 4:u01=this.nb.YW || this.nb.Qy?3:9;break;case 9:u01=this.nb.Qy?8:7;break;case 1:var N2z="hindsig";N2z+="h";N2z+="trepor";N2z+="t";(n={type:N2z},p=this.nb.J.G$);for(I in p){var F2z="h";F2z+="v";F2z+="ma";F2z+="fdp";var X2z="hv";X2z+="m";X2z+="af";X2z+="g";X2z+="r";var d2z="h";d2z+="vmaf";d2z+="t";d2z+="b";var p2z="ht";p2z+="w";p2z+="b";p2z+="r";q=p[I];t=0;v=0;u=0;w=0;x=0;y=0;z=void 0;A=void 0;B=!1;C=-1;D=-1;F=-1;G=-1;E=-1;H=-1;for(L in g){A=g[L];void 0 === A.nd && (z=(z=A.sols) && z[q]) && (B=!0,u+=z.dlvdur,t+=z.dltwbr * z.dlvdur,v+=z.dlvmaf * z.dlvdur);y+=A.pbdur;w+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (C=1 * w / y,G=1 * x / y);B && (0 < u && (D=1 * t / u,E=1 * v / u),0 < u + y && (F=1 * (t + w) / (u + y),H=1 * (v + x) / (u + y)));switch(q){case p2z:n.htwbr=F;n.hptwbr=D;n.pbtwbr=C;z && (n.rr=z,n.ra=A);break;case d2z:n.hvmaftb=H;n.hpvmaftb=E;n.pbvmaftb=G;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case X2z:n.hvmafgr=H;n.hpvmafgr=E;n.pbvmafgr=G;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case F2z:(n.hvmafdp=H,n.hpvmafdp=E,n.pbvmafdp=G,z && (n.rrvmafdp=z,n.ravmafdp=A));}}u01=4;break;case 8:for(var K in g){if((p=g[K],void 0 !== p.sib))for(q in p.sib){if((z=p.sib[q],void 0 !== z.Hea)){var x2z=" ";x2z+="and";x2z+=" ";var E2z="expect";E2z+=" sol.strmsel.length =";E2z+="== s";E2z+="ol.fragsel.length but got ";var O2z="expe";O2z+="ct report.fragmentsPre";O2z+="buffered !== ";O2z+="u";O2z+="ndefined";var K2z="expect report.fra";K2z+="gmentsPrebuffered !==";K2z+=" u";K2z+="ndefined";I=void 0 !== p.Z3a;I || (console.error(K2z),f.assert(I,O2z));I=[];for(var R in p.Z3a){t=p.Z3a[R];I.push({ca:t.ca,Pn:t.duration / 1E3,quality:t.kb});}I=z.Hea.length === z.$3a.length;t=E2z + z.Hea.length + x2z + z.$3a.length;I || (console.error(t),f.assert(I,t));I=[];t=0;for(var O in z.Hea){u=z.Hea[O];v=z.$3a[O];i3z.b3j(7);t=u=i3z.t3j(t,u);I.push({Aqc:u,erc:z.g2a[O],bnc:z.Qa[O],ioa:z.ioa[O],hoa:z.hoa[O],ZYa:z.ZYa[O],smc:{ca:v.ca,Pn:v.duration / 1E3,quality:v.kb?v.kb:z.bd[u].kb,Gqc:v.vg,tmc:v.ue},gfb:0,bqc:0,yya:z.yya[O]});}z=[];I=0;for(var J in p.EC.trace){t=p.EC.trace[J];i3z.b3j(7);I=t=i3z.W3j(I,t);z.push(t);}}}}u01=7;break;case 3:n.report=g;u01=9;break;case 7:d.eb(this.nb,n.type,n);u01=6;break;}}};h.prototype.wyb=function(g){var v01;v01=2;for(;v01 !== 5;){switch(v01){case 2:var i2z="e";i2z+="ndOfStre";i2z+="am";g={type:i2z,mediaType:g};d.eb(this.nb,g.type,g);v01=5;break;}}};h.prototype.Zo=function(g){var w01;w01=2;for(;w01 !== 1;){switch(w01){case 2:var D2z="a";D2z+="seexce";D2z+="p";D2z+="t";D2z+="ion";var S2z="aseexcept";S2z+="i";S2z+="on";this.nb.emit(S2z,{type:D2z,msg:g});w01=1;break;}}};h.prototype.z1b=function(g,n,p,q){var x01;x01=2;for(;x01 !== 5;){switch(x01){case 2:var w2z="maxv";w2z+="ideo";w2z+="bitratechanged";var o2z="maxvide";o2z+="obit";o2z+="ratech";o2z+="anged";g={type:o2z,time:l.default.time.ga(),spts:q,maxvb_old:g,maxvb:n,reason:p};this.nb.emit(w2z,g);x01=5;break;}}};J90=42;break;case 2:h.prototype.Tm=function(g){var L90;L90=2;for(;L90 !== 5;){switch(L90){case 2:var Z2z="s";Z2z+="tart";Z2z+="E";Z2z+="vent";g={type:Z2z,event:g,time:l.default.time.ga()};L90=1;break;case 1:d.eb(this.nb,g.type,g);L90=5;break;}}};h.prototype.Iyb=function(){var M90,g;M90=2;for(;M90 !== 5;){switch(M90){case 2:var J2z="op";J2z+="e";J2z+="nComple";J2z+="t";J2z+="e";g={type:J2z};d.eb(this.nb,g.type,g);M90=5;break;}}};J90=5;break;case 19:h.prototype.xVa=function(g){var b01;b01=2;for(;b01 !== 5;){switch(b01){case 2:var R2z="m";R2z+="a";R2z+="x";R2z+="Bitrates";g={type:R2z,audio:g[0],video:g[1]};d.eb(this.nb,g.type,g);b01=5;break;}}};h.prototype.Fyb=function(g,n){var c01,p;c01=2;for(;c01 !== 3;){switch(c01){case 2:var U2z="notifyManifest";U2z+="Selected";U2z+=":";U2z+=" ";var L2z="m";L2z+="a";L2z+="n";L2z+="ifest";L2z+="Selected";p=this.nb.J;g={type:L2z,index:g,replace:n.P.Ef.replace,ptsStarts:n.XQ,streamingOffset:n.ba + n.py};p.Si && (n=U2z + JSON.stringify(g),p.Si && this.Fn(n));d.eb(this.nb,g.type,g);c01=3;break;}}};h.prototype.Dyb=function(g,n,p,q,t){var d01;d01=2;for(;d01 !== 4;){switch(d01){case 1:null != q && null != t && (g.previousMovieId=q,g.previousIndex=t);d.eb(this.nb,g.type,g);d01=4;break;case 2:var Q2z="manifestPre";Q2z+="sen";Q2z+="ting";g={type:Q2z,index:g.Rb,pts:Math.floor(n),movieId:g.I,replace:g.Ef.replace,contentOffset:p};d01=1;break;}}};J90=16;break;case 8:h.prototype.Pyb=function(g,n,p,q,t,v,u){var R90;R90=2;for(;R90 !== 3;){switch(R90){case 2:var B2z="notifyStrea";B2z+="mingErro";B2z+="r:";B2z+=" ";var I2z="e";I2z+="r";I2z+="r";I2z+="o";I2z+="r";void 0 === u && (u=!1);g={type:I2z,error:g,errormsg:n,networkErrorCode:p,httpCode:q,nativeCode:t,manifestIndex:v,temporaryFailure:u};this.G.error(B2z + JSON.stringify(g));d.eb(this.nb,g.type,g);R90=3;break;}}};J90=7;break;case 5:h.prototype.Jyb=function(g,n,p,q,t){var N90;N90=2;for(;N90 !== 1;){switch(N90){case 2:var f2z="pts";f2z+="St";f2z+="a";f2z+="rt";f2z+="s";this.nb.J.XLb || (g={type:f2z,manifestIndex:g,mediaType:n,movieId:q,streamId:p,ptsStarts:t.Gib()},d.eb(this.nb,g.type,g));N90=1;break;}}};h.prototype.zyb=function(g,n){var O90;O90=2;for(;O90 !== 5;){switch(O90){case 2:var v2z="heade";v2z+="rCa";v2z+="ch";v2z+="eHi";v2z+="t";g={type:v2z,movieId:g,streamId:n};d.eb(this.nb,g.type,g);O90=5;break;}}};h.prototype.yyb=function(g,n,p,q,t){var P90,v;P90=2;for(;P90 !== 3;){switch(P90){case 2:var l2z="headerCache";l2z+="Dat";l2z+="aH";l2z+="it";v=this.nb.IUa;this.nb.IUa=void 0;g={type:l2z,movieId:g,audio:n,audioFromMediaCache:q,video:p,videoFromMediaCache:t,actualStartPts:v && v.Sp,headerCount:v && v.xP,stats:v && v.Wb};d.eb(this.nb,g.type,g);P90=3;break;}}};h.prototype.Gyb=function(g,n,p,q){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var k2z="m";k2z+="ax";k2z+="Po";k2z+="sit";k2z+="ion";g={type:k2z,index:g,endPts:n,maxPts:p,maxSeekPts:q};d.eb(this.nb,g.type,g);Q90=5;break;}}};J90=8;break;case 26:h.prototype.xyb=function(g){var h01;h01=2;for(;h01 !== 5;){switch(h01){case 2:var A2z="firstReq";A2z+="ue";A2z+="s";A2z+="tApp";A2z+="ended";g={type:A2z,manifestIndex:g.Sa.Xa.P.Rb,mediatype:g.mediaType,time:l.default.time.ga()};d.eb(this.nb,g.type,g);h01=5;break;}}};h.prototype.Byb=function(g,n){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var T2z="i";T2z+="niti";T2z+="alAudioTrack";g={type:T2z,trackId:n,trackIndex:g};d.eb(this.nb,g.type,g);i01=5;break;}}};h.prototype.syb=function(g,n){var j01;j01=2;for(;j01 !== 3;){switch(j01){case 2:var g2z="a";g2z+="udioTr";g2z+="ackSwitchStarted";g=g.Nr;n=n.Nr;n={type:g2z,oldLangCode:g.language,oldNumChannels:g.channels,newLangCode:n.language,newNumChannels:n.channels};d.eb(this.nb,n.type,n);j01=3;break;}}};h.prototype.ryb=function(g,n){var k01,p;k01=2;for(;k01 !== 5;){switch(k01){case 2:p=this;setTimeout(function(){var l01,q;l01=2;for(;l01 !== 5;){switch(l01){case 2:var z2z="audioTrackSwi";z2z+="tch";z2z+="Complete";q={type:z2z,trackId:g,trackIndex:n};d.eb(p.nb,q.type,q);l01=5;break;}}},0);k01=5;break;}}};h.prototype.vyb=function(g){var m01,n;m01=2;for(;m01 !== 4;){switch(m01){case 2:var Y2z="bu";Y2z+="fferingSt";Y2z+="ar";Y2z+="ted";n={type:Y2z,time:l.default.time.ga(),percentage:g || 0};d.eb(this.nb,n.type,n);this.Ela=g || 0;m01=4;break;}}};h.prototype.tyb=function(){var n01,g,n,p,q,t;n01=2;for(;n01 !== 3;){switch(n01){case 2:var e2z="b";e2z+="ufferin";e2z+="g";(g=this.nb.J,n=l.default.time.ga(),p=this.nb.Ta.Wc,q=this.nb.Zn?1:0,t=p.$a(q));p=p.th(q);g=Math.min(Math.max(Math.round(100 * (t.oF?(n - this.nb.Aka) / g.eC:t.progress?t.progress:p / g.uj)),this.Ela),99);g != this.Ela && (n={type:e2z,time:n,percentage:g},d.eb(this.nb,n.type,n),this.Ela=g);n01=3;break;}}};h.prototype.Ola=function(){var o01,g,n,p,q,t;o01=2;for(;o01 !== 8;){switch(o01){case 2:var u9z="buf";u9z+="fer";u9z+="ingCo";u9z+="mplete";(g=this.nb.Ta.Wc,n=g.$a(0),p=g.$a(1));this.vVa();(q=this.nb.Zn?this.nb.Fb.AC[k.Jb]:this.nb.Fb.AC[k.dc],t=q.bW);g={type:u9z,time:l.default.time.ga(),actualStartPts:t,aBufferLevelMs:g.th(0),vBufferLevelMs:g.th(1),selector:p?p.vR:n.vR,initBitrate:q.Xx,skipbackBufferSizeBytes:this.nb.tc.XF};o01=3;break;case 3:this.nb.kh.POb({initSelReason:q.AB,initSelectionPredictedDelay:q.zB,buffCompleteReason:q.dv,hashindsight:this.nb.jt,hasasereport:! !this.nb.Wt,bcVBufferLevelMs:g.vBufferLevelMs,bcABufferLevelMs:g.aBufferLevelMs});d.eb(this.nb,g.type,g);o01=8;break;}}};J90=34;break;case 16:h.prototype.Nyb=function(g,n,p,q){var e01,t;e01=2;for(;e01 !== 3;){switch(e01){case 5:var c9z="s";c9z+="treamPresen";c9z+="ting";g={type:c9z,startPts:Math.floor(n),contentStartPts:Math.floor(p),mediaType:t,manifestIndex:q,trackIndex:g.track.SD,streamIndex:g.vg};d.eb(this.nb,g.type,g);e01=3;break;case 2:t=g.mediaType;m.Gm.iq(t);e01=5;break;}}};h.prototype.Syb=function(g){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var y9z="videoLoo";y9z+="pe";y9z+="d";g={type:y9z,offset:g};d.eb(this.nb,g.type,g);f01=5;break;}}};h.prototype.Qyb=function(g,n,p,q,t){var g01;g01=2;for(;g01 !== 4;){switch(g01){case 2:var n9z="u";n9z+="pd";n9z+="at";n9z+="eStreaming";n9z+="Pts";n={type:n9z,mediaType:g,manifestIndex:n,trackIndex:p,movieTime:Math.floor(q),segmentId:t};m.Gm.iq(g);d.eb(this.nb,n.type,n);g01=4;break;}}};J90=26;break;case 12:h.prototype.Kyb=function(g,n){var X90;X90=2;for(;X90 !== 5;){switch(X90){case 2:var r9z="segment";r9z+="App";r9z+="end";r9z+="e";r9z+="d";n={type:r9z,segmentId:g.id,metrics:n};g.JF || d.eb(this.nb,n.type,n);X90=5;break;}}};h.prototype.Lyb=function(g,n,p){var Y90;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:var a9z="seg";a9z+="me";a9z+="ntCom";a9z+="plete";g={type:a9z,mediaType:g,manifestIndex:n,segmentId:p.id};d.eb(this.nb,g.type,g);Y90=5;break;}}};h.prototype.Pla=function(g,n){var Z90;Z90=2;for(;Z90 !== 5;){switch(Z90){case 2:var h9z="lastSe";h9z+="gme";h9z+="ntPts";n={type:h9z,segmentId:g.id,pts:Math.floor(n)};g.JF || d.eb(this.nb,n.type,n);Z90=5;break;}}};h.prototype.Eyb=function(g,n,p,q,t){var a01;a01=2;for(;a01 !== 5;){switch(a01){case 2:var t9z="man";t9z+="i";t9z+="festRan";t9z+="ge";g={type:t9z,index:g,manifestOffset:n,startPts:Math.floor(p),endPts:Math.floor(q),maxPts:Math.floor(t)};d.eb(this.nb,g.type,g);a01=5;break;}}};J90=19;break;case 34:h.prototype.vVa=function(){var p01,g,n,p,q,t,v,u;p01=2;for(;p01 !== 12;){switch(p01){case 7:var W9z="updat";W9z+="e";W9z+="BufferLevel";n=v.nI(n,1);p={type:W9z,abuflbytes:u,vbuflbytes:n,totalabuflmsecs:p,totalvbuflmsecs:q,currentBandwidth:t};q > g.abb && this.nb.tc.Xf && this.nb.tc.Xf.mr(!0,this.nb.Qm.sessionId);d.eb(this.nb,p.type,p);p01=12;break;case 2:g=this.nb.J;p01=1;break;case 1:p01=!this.nb.ko()?5:12;break;case 5:(n=this.nb.Ta.Wc,p=n.th(0),q=n.th(1));this.nb.kh.yBb(p,q);t=this.nb.tc.Vb.get();p01=9;break;case 9:t=t.confidence?t.Qa.pa:0;(v=this.nb.Ta,u=v.nI(n,0));p01=7;break;}}};h.prototype.Nxb=function(g){var q01,n,p,q;q01=2;for(;q01 !== 7;){switch(q01){case 1:c.Ka(g.S0);q01=5;break;case 2:q01=!c.oa(g)?1:7;break;case 4:var M9z=", osAllocator";M9z+="D";M9z+="e";M9z+="lta: ";var P9z=",";P9z+=" jsH";P9z+="eapDelta: ";var V9z=", fastMallo";V9z+="cD";V9z+="elta: ";var b9z="memo";b9z+="r";b9z+="yUsage at";b9z+=" tim";b9z+="e: ";(n=g.h3a - this.cN.h3a,p=g.w7a - this.cN.w7a,q=g.Ocb - this.cN.Ocb);(4194304 < n || 4194304 < q) && this.G.warn(b9z + l.default.time.ga() + V9z + n + P9z + p + M9z + q);q01=9;break;case 5:q01=!c.oa(this.cN)?4:8;break;case 9:var G9z=", syste";G9z+="mDelt";G9z+="a: ";var m9z="memoryUsage at ";m9z+="t";m9z+="ime: ";c.Ka(g.S0) && c.Ka(this.cN.S0) && (n=g.S0 - this.cN.S0,4194304 < n && this.G.warn(m9z + l.default.time.ga(),G9z + n));q01=8;break;case 8:this.cN=g;q01=7;break;}}};h.prototype.Ryb=function(){var r01,g;r01=2;for(;r01 !== 3;){switch(r01){case 4:d.eb(this.nb,g.type,g);r01=3;break;case 2:var s9z="s";s9z+="t";s9z+="reami";s9z+="ngst";s9z+="at";this.nb.J.zZb && l.default.memory.TRb(this.Nxb.bind(this));g={type:s9z,time:l.default.time.ga(),playbackTime:this.nb.O.Le()};this.nb.kh.QOb(g);r01=4;break;}}};h.prototype.uVa=function(){var s01,g;s01=2;for(;s01 !== 4;){switch(s01){case 9:s01=this.nb.Wt?4:8;break;s01=this.nb.Wt?1:4;break;case 1:var H9z="a";H9z+="serep";H9z+="ort";g={type:H9z};this.nb.Wt.OOb(g) && d.eb(this.nb,g.type,g);s01=4;break;case 2:s01=this.nb.Wt?1:4;break;}}};J90=30;break;case 7:h.prototype.T5=function(g,n){var S90;S90=2;for(;S90 !== 5;){switch(S90){case 2:var q9z="seg";q9z+="mentStart";q9z+="ing";n={type:q9z,segmentId:g.id,contentOffset:n,maxBitrates:{audio:g.P.It[0],video:g.P.It[1]}};g.JF || d.eb(this.nb,n.type,n);S90=5;break;}}};h.prototype.Qla=function(g){var T90,n;T90=2;for(;T90 !== 5;){switch(T90){case 2:var j9z="segmen";j9z+="tAbort";j9z+="ed";n={type:j9z,segmentId:g.id};g.JF || d.eb(this.nb,n.type,n);T90=5;break;}}};h.prototype.bxb=function(g,n){var U90,p,q;U90=2;for(;U90 !== 12;){switch(U90){case 2:var X9z="r";X9z+="e";X9z+="s";X9z+="e";X9z+="t";var d9z="s";d9z+="k";d9z+="i";d9z+="p";var p9z="l";p9z+="o";p9z+="n";p9z+="g";var N9z="l";N9z+="on";N9z+="g";var C9z="sea";C9z+="m";C9z+="less";(p={segment:g,srcsegment:n.uea,srcoffset:n.JR,seamlessRequested:n.Ee,atRequest:{},discard:{}},q=n.Be[g]);q?p.atRequest={weight:q.weight,abuflmsec:q.Ws.Ns,vbuflmsec:q.Ws.rp,abuflbytes:q.Ws.TD,vbuflbytes:q.Ws.qu}:(q=this.nb.Ta.v6a(n.uea,g),void 0 !== q && (p.atRequest.weight=q));c.Jf(n.Be,function(t,v){var V90;V90=2;for(;V90 !== 1;){switch(V90){case 2:v != g && (p.discard[v]={weight:t.weight,abuflmsec:t.Ws.Ns,vbuflmsec:t.Ws.rp,abuflbytes:t.Ws.TD,vbuflbytes:t.Ws.qu});V90=1;break;}}});q=n.Ee?n.mY?C9z:N9z:n.Fbb?p9z:n.Rl?d9z:X9z;U90=3;break;case 3:var F9z="s";F9z+="eam";F9z+="less";p.transitionType=q;n.iqa || (p.delayToTransition=n.q8);q=F9z === q?0:l.default.time.ga() - n.startTime;p.durationOfTransition=q;U90=6;break;case 6:p.atTransition=n.nkb;p.srcsegmentduration=this.nb.Ta.xTb(n.uea);return p;break;}}};h.prototype.Myb=function(g,n,p){var W90;W90=2;for(;W90 !== 4;){switch(W90){case 2:var K9z="s";K9z+="egment";K9z+="Presenting";p=p?this.bxb(g.id,p):void 0;g={type:K9z,segmentId:g.id,contentOffset:n,metrics:p,playlistSegment:g.JF,manifestIndex:g.P.Rb};d.eb(this.nb,g.type,g);W90=4;break;}}};J90=12;break;case 42:h.prototype.icb=function(){var y01,g;y01=2;for(;y01 !== 3;){switch(y01){case 1:var O9z="st";O9z+="reamere";O9z+="nd";this.yAb=!0;g={type:O9z,time:l.default.time.ga()};y01=4;break;case 2:y01=!this.yAb && this.nb.J.fcb?1:3;break;case 4:d.eb(this.nb,g.type,g);y01=3;break;}}};h.prototype.G1b=function(g){var z01;z01=2;for(;z01 !== 5;){switch(z01){case 2:var E9z="s";E9z+="treamSelectionAugment";E9z+="Data";g={type:E9z,augmentData:g,fragmentIndex:g[0].ye};d.eb(this.nb,g.type,g);z01=5;break;}}};h.prototype.Fn=function(g){var A01;A01=2;for(;A01 !== 5;){switch(A01){case 2:var i9z=",";i9z+=" ";var x9z="manag";x9z+="er";x9z+="debug";x9z+="ev";x9z+="ent";g={type:x9z,message:"@" + l.default.time.ga() + i9z + g};d.eb(this.nb,g.type,g);A01=5;break;}}};return h;break;}}})();b.kNa=a;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.DJa=void 0;c=a(0);r=a(11);m=c.__importStar(a(10));a(2);a(248);k=a(257);l=a(405);d=a(85);a(404);a(411);f=a(125);h=c.__importDefault(a(29));a(252);g=a(1003);n=c.__importDefault(a(154));a(14);p=c.__importDefault(a(4));a(184);a(259);a(182);a(97);q=new p.default.Console("HEADERCACHE","media|asejs");a=new p.default.Console("MEDIACACHE","media|asejs");t=p.default.HL;v=q.trace.bind(q);a.trace.bind(a);u=q.warn.bind(q);w=q.error.bind(q);x=q.info.bind(q);a=(function(y){var B01;B01=2;function z(A,B,C,D){var C01;C01=2;for(;C01 !== 25;){switch(C01){case 12:A.Ax=[];A.o5=!1;C01=10;break;case 2:A=y.call(this) || this;A.Nj=v;A.ml=w;A.Ob=u;A.qlc=x;C01=9;break;case 9:A.D5=Object.create(null);A.Jp=B;A.jd=Object.create(null);A.nH=0;A.Mp=[];A.fVa=B.l8;C01=12;break;case 19:A.Cma=(A.Jp.JDa || A.Jp.KDa) && 0 < (A.Jp.MW || (p.default.options || ({})).kQ || 0);A.DH=A.Jp.Ywa;A.zk=void 0;C01=16;break;case 16:A.Cma && (A.Jp.MW || (B=(p.default.options || ({})).kQ || 0,A.Jp.set?A.Jp.set({MW:B}):A.Jp.MW=(p.default.options || ({})).kQ || 0),A.zk=new g.nMa(A.Jp,p.default,A),A.zk.ta(A,D).then(function(){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 2:var S9z="Media cache ";S9z+="initi";S9z+="a";S9z+="lized";v(S9z);D01=1;break;case 4:v("");D01=3;break;D01=1;break;}}}).catch(function(F){var E01;E01=2;for(;E01 !== 1;){switch(E01){case 2:var D9z="Med";D9z+="i";D9z+="a cache ";D9z+="did not initialize";w(D9z,F);E01=1;break;}}}));A.Qm=C;C01=27;break;case 10:A.NM=[];A.OH={};C01=19;break;case 27:var o9z="1SI";o9z+="YbZr";o9z+="NJCp9";o9z;return A;break;}}}for(;B01 !== 39;){switch(B01){case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var F01;F01=2;for(;F01 !== 1;){switch(F01){case 2:return this.jd;break;}}},enumerable:!1,configurable:!0}});z.prototype.KLb=function(){var G01;G01=2;for(;G01 !== 5;){switch(G01){case 2:this.flush();this.TTa();G01=5;break;}}};z.prototype.mfa=function(A){var H01;H01=2;for(;H01 !== 5;){switch(H01){case 2:this.Qm=A;this.Ax.forEach(function(){});H01=5;break;}}};B01=3;break;case 3:z.prototype.mr=function(A,B,C){var I01,D,F;I01=2;for(;I01 !== 9;){switch(I01){case 6:I01=(D[B]=A)?8:5;break;I01=(D[B]=A)?5:4;break;case 2:(D=this.OH,F=A);I01=1;break;case 5:for(var G in D){D.hasOwnProperty(G) && !1 === D[G] && (F=!1);}I01=4;break;case 1:I01=(D[B]=A)?5:4;break;case 4:C && delete D[B];F?(this.o5=!1,this.Pxb()):this.o5=!0;I01=9;break;}}};z.prototype.flush=function(){var J01,B;J01=2;for(;J01 !== 8;){switch(J01){case 2:var Z9z="manager";Z9z+="de";Z9z+="buge";Z9z+="v";Z9z+="ent";var w9z=", h";w9z+="eaderCache fl";w9z+="ush:";w9z+=" ";this.I3a();for(var A in this.D5){B=this.D5[A];B.abort();}this.jd=Object.create(null);this.nH=0;this.Mp=[];this.Jp.Si && (B="@" + p.default.time.ga() + w9z,this.emit(Z9z,{message:B}));J01=8;break;}}};z.prototype.list=function(){var K01;K01=2;for(;K01 !== 1;){switch(K01){case 2:return this.Mp;break;}}};B01=7;break;case 7:z.prototype.fZ=function(A,B){var L01;L01=2;for(;L01 !== 4;){switch(L01){case 5:return B;break;case 1:L01=(B=A.headers[B])?5:4;break;case 2:L01=(A=this.jd[A])?1:4;break;case 7:return B;break;L01=4;break;}}};z.prototype.JZb=function(A,B){var M01,C,D;M01=2;for(;M01 !== 5;){switch(M01){case 2:(C=this,D=this.IZb(A));return D || !this.zk?Promise.resolve(D):(this.DH?this.Jxb(A,B):this.Ixb(A,B)).then(function(F){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:return C.xeb(F);break;}}});break;}}};z.prototype.IZb=function(A){var O01;O01=2;for(;O01 !== 1;){switch(O01){case 2:return this.xeb(this.jd[A]);break;case 4:return this.xeb(this.jd[A]);break;O01=1;break;}}};B01=13;break;case 13:z.prototype.I3a=function(){var P01,C,D,F;P01=2;function B(E,H){var R01;R01=2;for(;R01 !== 1;){switch(R01){case 2:E && E.data && E.data[H].forEach(function(L){var S01;S01=2;for(;S01 !== 5;){switch(S01){case 2:L.abort();C+=L.bytesReceived;S01=5;break;}}});R01=1;break;}}}for(;P01 !== 4;){switch(P01){case 2:C=0;for(D in this.jd){F=this.jd[D];if(F.data){for(var G in F.data){var R9z="i";R9z+="n e";R9z+="nt";R9z+="ry:";var J9z="missing he";J9z+="ad";J9z+="erEntry for streamId:";F.headers[G] || w(J9z,G,R9z,F);B(F,G);F.data[G].forEach(A);delete F.data[G];}delete F.data;}}this.Rzb(C);P01=4;break;}}function A(E){var Q01;Q01=2;for(;Q01 !== 1;){switch(Q01){case 4:E.YZa();Q01=3;break;Q01=1;break;case 2:E.YZa();Q01=1;break;}}}};z.prototype.$B=function(A){var T01,B;T01=2;for(;T01 !== 5;){switch(T01){case 2:B=this.jd[A.I];B && (this.Ec(A)?m.oa(B.Wb.iVb) && !m.oa(A.loadTime) && (B.Wb.iVb=A.loadTime):m.oa(B.Wb.eeb) && !m.oa(A.loadTime) && (B.Wb.eeb=A.loadTime));T01=5;break;}}};z.prototype.pm=function(A){var U01;U01=2;for(;U01 !== 1;){switch(U01){case 2:this.Ec(A)?this.e3b(A):this.f3b(A);U01=1;break;}}};z.prototype.$Z=function(A){var V01;V01=2;for(;V01 !== 5;){switch(V01){case 2:var L9z="_on";L9z+="E";L9z+="rror: ";u(L9z,A.toString());this.a5(A);V01=5;break;}}};z.prototype.e3b=function(A){var W01,B;W01=2;for(;W01 !== 9;){switch(W01){case 2:B=this;A.ycc=A.Nf;this.qvb(A);m.oa(A.eVb) || A.eVb(A.ycc);this.Vzb(A,function(){var X01;X01=2;for(;X01 !== 1;){switch(X01){case 2:m.oa(A) || (m.oa(A.En) || A.En.u7a--,B.a5(A));X01=1;break;}}});W01=9;break;}}};B01=19;break;case 21:z.prototype.uTa=function(A,B){var p11,C;p11=2;for(;p11 !== 4;){switch(p11){case 1:p11=(B=this.jd[A.I] || B)?5:4;break;case 2:C=A.Pa;p11=1;break;case 5:(B.fCb || B.yi && !this.DH || (B.fCb=!0,++this.nH),B.headers || (B.headers={}),B.headers[C]=A,this.Jp.DNb && (B.xP || (B.xP=0),++B.xP),this.Fka());p11=4;break;}}};z.prototype.Fka=function(){var q11,D,B,C;q11=2;function A(G){var r11;r11=2;for(;r11 !== 5;){switch(r11){case 2:G.abort();C+=G.bytesReceived;r11=5;break;}}}for(;q11 !== 12;){switch(q11){case 4:q11=(B=this.Mp.shift())?3:5;break;case 1:q11=!(this.nH <= this.fVa)?5:12;break;case 5:q11=this.nH > this.fVa?4:13;break;case 3:D=B.I;q11=9;break;case 9:q11=B.data?8:7;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}q11=7;break;case 14:this.Ozb(D);q11=5;break;case 7:delete this.jd[D];--this.nH;q11=14;break;case 13:this.Pzb(C);q11=12;break;case 2:C=0;q11=1;break;}}};z.prototype.Pzb=function(A){var s11;s11=2;for(;s11 !== 1;){switch(s11){case 2:var U9z="discarde";U9z+="d";U9z+="Bytes";0 !== A && (A={type:U9z,bytes:A},this.emit(A.type,A));s11=1;break;}}};z.prototype.Rzb=function(A){var t11;t11=2;for(;t11 !== 1;){switch(t11){case 2:var Q9z="f";Q9z+="lushe";Q9z+="dBytes";0 !== A && (A={type:Q9z,bytes:A},this.emit(A.type,A));t11=1;break;}}};B01=32;break;case 19:z.prototype.f3b=function(A){var Y01,B,C,D,F;Y01=2;for(;Y01 !== 8;){switch(Y01){case 2:(B=this,C=A.I,D=this.jd[C] || A.En);Y01=1;break;case 1:Y01=D?5:8;break;case 5:var l9z="managerdebu";l9z+="ge";l9z+="ven";l9z+="t";var v9z=", r";v9z+="emain";v9z+="in";v9z+="g: ";var f9z=", pt";f9z+="s";f9z+=": ";var B9z=", streamI";B9z+="d:";B9z+=" ";var I9z=", heade";I9z+="rCache dat";I9z+="aComplete: m";I9z+="ovieId: ";Y01=(this.Jp.Si && (C="@" + p.default.time.ga() + I9z + C + B9z + A.Pa + f9z + A.ba + v9z + (D.yW - 1),this.emit(l9z,{message:C})),A.yi && 0 === A.responseType && this.zk && !this.DH)?4:9;break;case 4:F=p.default.time.now();this.zk.i9b(A,D,function(G){var Z01;Z01=2;for(;Z01 !== 4;){switch(Z01){case 2:G || m.oa(D) || (G=p.default.time.ga() - F,m.oa(D.Wb) && (D.Wb={}),m.oa(D.Wb.ju) && (D.Wb.ju=0),D.Wb.ju+=G);--D.yW;B.a5(A);Z01=4;break;}}});Y01=8;break;case 9:(--D.yW,B.a5(A));Y01=8;break;}}};z.prototype.NTa=function(){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:0 === this.Ax.length && (this.Ax=[f.Lq.instance.jv(0,void 0,!1,!1,this.Qm,this.Jp),f.Lq.instance.jv(1,void 0,!1,!1,this.Qm,this.Jp)],this.Ax.forEach(function(A){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:return A.ta();break;case 4:return A.ta();break;b11=1;break;}}}),t.Lf());a11=1;break;}}};z.prototype.TTa=function(){var c11,A;c11=2;for(;c11 !== 4;){switch(c11){case 2:A=this.Ax;this.Ax=[];A.forEach(function(B){var d11;d11=2;for(;d11 !== 1;){switch(d11){case 2:f.Lq.instance.vO(B);d11=1;break;}}});c11=4;break;}}};z.prototype.Pxb=function(){var e11,A;e11=2;for(;e11 !== 5;){switch(e11){case 2:A=this;!this.o5 && 0 < this.NM.length && (this.NM.forEach(function(B){var f11;f11=2;for(;f11 !== 1;){switch(f11){case 2:A.jma(B.hVb,B.Nd);f11=1;break;}}}),this.NM=[]);e11=5;break;}}};z.prototype.LTa=function(A,B){var g11,C;g11=2;for(;g11 !== 8;){switch(g11){case 5:B=new l.dga(A.stream,B,this.Ax[C],A,this,!0,q);B.yi=A.yi;B.Xf=this;return B;break;case 1:2 > this.Ax.length && this.NTa();g11=5;break;case 2:C=A.stream.mediaType;g11=1;break;}}};B01=27;break;case 27:z.prototype.cwb=function(A,B){var h11,C;h11=2;for(;h11 !== 8;){switch(h11){case 1:2 > this.Ax.length && this.NTa();B=k.Z1.create(A.stream,B,this.Ax[C].track,A,this,!0,q);B.yi=A.yi;B.Xf=this;h11=9;break;case 2:C=A.stream.mediaType;h11=1;break;case 9:return B;break;}}};z.prototype.a5=function(A){var i11,B;i11=2;for(;i11 !== 9;){switch(i11){case 2:var k9z="saveto";k9z+="d";k9z+="isk";this.Ec(A) && delete this.D5[A.Pa];this.Ec(A) || delete A.response;A.Zc();B=this.jd[A.I] || A.En;B && 0 === B.u7a && 0 === B.yW && (this.jAb(B,A.Nf),B.yi && this.zk && (B.Wb.cpc || (this.DH?this.zk.k9b(B):this.zk.wR(k9z,{Egb:B.Wb.ju}))));i11=9;break;}}};z.prototype.Xxb=function(A,B,C){var j11,D,F;j11=2;for(;j11 !== 8;){switch(j11){case 2:D=A.k8;B.yi && this.zk && (A.Kab?D=A.Kab:A.rab && 0 < A.rab && (D=2E3 * A.rab));j11=5;break;case 3:F=C && C.length < A.f1a?C.length:A.f1a;return function(G){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 2:a000.b3j(17);return a000.W3j(F,G);break;}}};break;case 5:j11=0 < D?4:3;break;case 4:return function(G,E){var c5z=a000;var k11;k11=2;for(;k11 !== 1;){switch(k11){case 4:c5z.V3j(5);return c5z.t3j(D,E);break;k11=1;break;case 2:c5z.V3j(17);return c5z.t3j(D,E);break;}}};break;}}};z.prototype.jma=function(A,B){var m11,K,C,D,F,G,H,L,R,O,E,I;m11=2;for(;m11 !== 53;){switch(m11){case 7:m11=A.mediaType === h.default.cb.dc?6:11;break;case 29:a000.V3j(7);R=a000.t3j(L,1);m11=28;break;case 17:m11=!m.oa(K)?16:25;break;case 4:m11=this.NM.length > G.dVb?3:53;break;case 18:K=A.stream.zl(L);m11=17;break;case 30:m11=!m.oa(H) && !K.Ea?29:42;break;case 26:var Y9z="manag";Y9z+="e";Y9z+="rd";Y9z+="eb";Y9z+="ugevent";var z9z=",";z9z+=" sta";z9z+="rtPts: ";var g9z=",";g9z+=" p";g9z+="t";g9z+="s: ";var T9z=", ";T9z+="strea";T9z+="mId";T9z+=": ";var A9z=", headerCac";A9z+="he ";A9z+="requestData";A9z+=": movieI";A9z+="d: ";G.Si && (B="@" + p.default.time.ga() + A9z + C + T9z + D + g9z + B + z9z + K.ba,this.emit(Y9z,{message:B}));m11=25;break;case 5:this.NM.push({hVb:A,Nd:B});m11=4;break;case 13:return;break;case 12:B=E.Sp;m11=11;break;case 2:(C=A.I,D=A.Pa,F=A.stream,G=A.Je);m11=1;break;case 20:m11=-1 === L || void 0 === L?19:18;break;case 43:++R;m11=28;break;case 31:K.yi=A.yi;m11=30;break;case 25:void 0 === E.data && (E.data={});void 0 === E.data[D] && (E.data[D]=[]);B=E.data[D];C=this.Xxb(G,A,H);m11=21;break;case 44:(K.Q6(H.get(R)),K.uQ=R + 1,L=R);m11=43;break;case 54:E.kqa && !m.oa(E.Sp) && (A=E.kqa,delete E.kqa,this.jma(A,E.Sp));m11=53;break;case 3:this.NM.shift();m11=4;break;case 42:m.oa(E.Sp) && (E.Sp=K.ba);K.yi && (K.responseType=0);m11=40;break;case 11:A.mediaType === h.default.cb.dc && G.ro && !G.fI && F.nf && (B=Math.max(F.aa && F.aa.lk(0) || 0,B + F.nf.U));(H=A.stream.aa,L=H && H.Jo(B));m11=20;break;case 21:I=F=0;(R=K && K.mediaType,O=R === h.default.cb.Jb?G.Gba:G.xba);m11=34;break;case 36:++L;m11=33;break;case 6:m11=void 0 === E.Sp?14:12;break;case 8:m11=E?7:53;break;case 9:E=this.jd[C] || A.En;m11=8;break;case 19:var e9z="no pr";e9z+="oper fragment found to re";e9z+="ques";e9z+="t data at pts";w(e9z,B);m11=53;break;case 1:m11=this.o5?5:9;break;case 14:E.kqa=A;m11=13;break;case 28:m11=R < H.length && (K.ca < O || K.duration < G)?44:42;break;case 33:m11=L < (H && H.length || 0) && !C(I,F)?32:54;break;case 32:m11=(void 0 === K && (K=A.stream.zl(L)),void 0 !== K)?31:36;break;case 34:G=R === h.default.cb.Jb?G.A0b:G.r0b;m11=33;break;case 40:var u0z="un";u0z+="de";u0z+="f";u0z+="ined";A.yi && this.zk && A.sZ && A.sZ[D] && u0z !== typeof K.ba && A.sZ[D][K.ba] || (R=this.cwb(K,A.Je),R.yi && (R.En=A.En),R.dK(),++E.yW,B.push(R));++I;F+=K.duration;m11=37;break;case 16:K.yi=A.yi;I=K.Era(B);I && (K.mediaType === h.default.cb.dc && !G.uZ && I.Nd < (G.ro && !G.fI && F.nf?Math.floor(F.nf.U):0) && (++I.dj,I.Nd+=K.la.U),0 < I.dj && K.ej({start:I.dj}));m11=26;break;case 37:K=void 0;m11=36;break;}}};z.prototype.qvb=function(A){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:this.uTa(A,A.En);n11=1;break;case 4:this.uTa(A,A.En);n11=5;break;n11=1;break;}}};z.prototype.pvb=function(A,B){var o11;o11=2;for(;o11 !== 1;){switch(o11){case 2:this.uTa(A,B);o11=1;break;case 4:this.uTa(A,B);o11=4;break;o11=1;break;}}};B01=21;break;case 29:z.prototype.Jxb=function(A,B){var x11,C;x11=2;for(;x11 !== 5;){switch(x11){case 2:var c0z="Me";c0z+="dia cache";c0z+=" is ";c0z+="not enabled";C=this;return this.zk?this.zk.mZb(A,B).then(function(D){var y11;y11=2;for(;y11 !== 5;){switch(y11){case 2:y11=D && D.En?1:5;break;case 1:return (C.jd[A]=D.En,++C.nH,C.Fka(),C.Mp.push(D.En),C.Mp.sort(C.reb),C.vTa(A,D),C.cache[A]);break;}}}):Promise.reject(c0z);break;}}};z.prototype.Ixb=function(A,B){var z11,C,D,F;z11=2;for(;z11 !== 8;){switch(z11){case 2:C=this;z11=1;break;case 3:return D.then(function(G){var A11;A11=2;for(;A11 !== 1;){switch(A11){case 2:return !m.oa(G) && C.zk?C.zk.lZb(A,B,G).then(function(E){var B11;B11=2;for(;B11 !== 5;){switch(B11){case 2:E && (F || (C.jd[A]=G,++C.nH,C.Fka(),C.Mp.push(G),C.Mp.sort(C.reb)),C.vTa(A,E));return C.jd[A];break;}}}):Promise.resolve(void 0);break;}}});break;case 1:z11=this.zk?5:9;break;case 4:this.zk.T8a(this.jd[A])?(D=Promise.resolve(this.jd[A]),F=!0):D=this.zk.oZb(A);z11=3;break;case 9:var y0z="Medi";y0z+="a";y0z+=" ";y0z+="cache is not enabl";y0z+="ed";return Promise.reject(y0z);break;case 5:(D=void 0,F=!1);z11=4;break;}}};z.prototype.vTa=function(A,B){var C11,C,D,F,G;C11=2;for(;C11 !== 7;){switch(C11){case 2:C=this;C11=1;break;case 5:(D=this.jd[A],F=B.headers);D && F && Object.keys(F).forEach(function(E){var D11;D11=2;for(;D11 !== 1;){switch(D11){case 2:C.pvb(F[E],D);D11=1;break;}}});C11=3;break;case 1:C11=B?5:7;break;case 3:C11=B.data?9:7;break;case 9:G=B.data;Object.keys(G).forEach(function(E){var E11,L,H;E11=2;for(;E11 !== 9;){switch(E11){case 4:L=D.data;H.forEach(function(K){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:L[E].push(K);F11=1;break;}}});E11=9;break;case 2:H=G[E];m.oa(D.data) && (D.data={});m.oa(D.data[E]) && (D.data[E]=[]);E11=4;break;}}});C11=7;break;}}};z.prototype.reb=function(A,B){var G11;G11=2;for(;G11 !== 1;){switch(G11){case 4:return B.priority + A.priority;break;G11=1;break;case 2:return B.priority - A.priority;break;}}};B01=42;break;case 32:z.prototype.Ozb=function(A){var u11;u11=2;for(;u11 !== 5;){switch(u11){case 2:var n0z="cacheEvi";n0z+="c";n0z+="t";A={type:n0z,movieId:A};this.emit(A.type,A);u11=5;break;}}};z.prototype.Vzb=function(A,B){var v11,C;v11=2;for(;v11 !== 3;){switch(v11){case 2:C=A.Je;m.oa(A.o8b) || this.jma(A,A.o8b);!this.zk || !A.yi || this.DH || m.oa(A.sZ) || A.sZ[A.Pa] && A.sZ[A.Pa].header?B():this.zk.j9b(A,B);C.GDa || 0 !== Object.keys(this.D5).length || this.TTa();v11=3;break;}}};z.prototype.jAb=function(A,B){var w11;w11=2;for(;w11 !== 4;){switch(w11){case 2:var r0z="preb";r0z+="uf";r0z+="fsta";r0z+="ts";A.Wb.i5b=B;A={type:r0z,movieId:A.I,stats:{prebuffstarted:A.Wb.eeb,prebuffcomplete:A.Wb.i5b}};this.emit(A.type,A);w11=4;break;}}};B01=29;break;case 42:z.prototype.xeb=function(A){var H11,B,C,D;H11=2;for(;H11 !== 11;){switch(H11){case 4:B.Sp=A.Sp;B.xP=A.xP;B.Wb=A.Wb;B.Xx=A.Xx;H11=7;break;case 2:B={};H11=1;break;case 7:B.AB=A.AB;H11=6;break;case 6:B.XE=A.XE;B.mq=A.mq;B.nq=A.nq;H11=12;break;case 12:return B;break;case 1:H11=A && A.data?5:11;break;case 5:for(C in A.data){D=A.data[C];0 < D.length && (B[D[0].mediaType]={Pa:C,header:A.headers[C],data:D});}H11=4;break;}}};z.prototype.Ec=function(A){var I11;I11=2;for(;I11 !== 1;){switch(I11){case 2:return ! !A.Ec;break;}}};return z;break;}}})(d.Ow);b.DJa=a;n.default(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nMa=void 0;c=a(0);m=a(11);k=c.__importStar(a(1004));l=c.__importStar(a(10));a(2);d=a(257);f=a(7);r=a(35);h=c.__importStar(a(1015));g=h.LLa;a=(function(){var J11;J11=2;for(;J11 !== 18;){switch(J11){case 13:n.prototype.nJb=function(p){var B21,q,t,v,u;B21=2;for(;B21 !== 5;){switch(B21){case 2:(q=this,u={});return new Promise(function(w,x){var C21,y;C21=2;for(;C21 !== 5;){switch(C21){case 2:q.Hp.lda(g.xs,p,function(z,A){var D21,E21,B;D21=2;for(;D21 !== 1;){switch(D21){case 2:try{E21=2;for(;E21 !== 19;){switch(E21){case 10:var a0z="Mis";a0z+="sing ";a0z+="or invalid media data part";a0z+="s for stream ";return (B=a0z + y.Pa,x(B));break;case 5:Object.keys(A).map(function(C){var F21,D,G21,F;F21=2;for(;F21 !== 3;){switch(F21){case 2:D=C.substr(C.lastIndexOf(".") + 1);F21=1;break;case 1:F21=D === g.iia?5:4;break;case 5:try{G21=2;for(;G21 !== 5;){switch(G21){case 2:F=new Uint8Array(A[C]);v=JSON.parse(String.fromCharCode.apply(null,F));G21=5;break;}}}catch(G){v=A[C];}F21=3;break;case 7:F21=D !== g.iia?9:8;break;F21=D === g.iia?5:4;break;case 4:D === g.HIa?t=A[C]:u[D]=A[C];F21=3;break;}}});E21=4;break;case 20:y=h.jsa(v,{response:u.response});E21=6;break;case 11:E21=h.dva(y)?10:12;break;case 9:var h0z="H";h0z+="eader f";h0z+="ragments was an array buff";h0z+="er, is invalid type ";B=h0z + y.Pa;E21=8;break;case 14:E21=h.eva(y)?13:12;break;case 13:var t0z="Missing or invali";t0z+="d h";t0z+="eader da";t0z+="ta parts fo";t0z+="r stream ";return (B=t0z + y.Pa,x(B));break;case 12:w(y);E21=19;break;case 2:E21=z || void 0 === A?1:5;break;case 3:E21=t instanceof ArrayBuffer?9:7;break;case 8:return x(B);break;case 1:return x(z);break;case 4:E21=h.O8a(v)?3:20;break;case 6:E21=y.Ec?14:11;break;case 7:y=h.ksa(v,u,t);E21=6;break;}}}catch(C){x(C);}D21=1;break;}}});C21=5;break;}}});break;}}};n.prototype.Hzb=function(p,q,t){var H21,v;H21=2;for(;H21 !== 5;){switch(H21){case 2:v=this;return new Promise(function(u,w){var I21,x;I21=2;for(;I21 !== 5;){switch(I21){case 2:v.Hp.read(g.xs,p,function(y,z){var J21,K21,R,I,L,K,E,H,L21,M21,N21,F,A,B,C,D,G,O21,J,M,P,P21,S,T,U,W,Q21,R21,S21,T21,U21,V21;J21=2;for(;J21 !== 4;){switch(J21){case 16:void 0 !== x && (x.En=y);J21=15;break;case 15:var W0z="media";W0z+="ca";W0z+="chelo";W0z+="o";W0z+="kup";v.wR(W0z,{Uaa:v.Lp.time.ga() - t,c8:!0});u(x);J21=4;break;case 11:try{K21=2;for(;K21 !== 12;){switch(K21){case 9:return w(I);break;case 14:z.push(R);K21=13;break;case 7:K21=h.eva(R)?6:14;break;case 8:R=h.ksa(K,K,K.fragments);K21=7;break;case 13:H=E.next();K21=1;break;case 3:var b0z="Header fragments was an array";b0z+=" ";b0z+="buffer, is ";b0z+="invalid";b0z+=" type ";I=b0z + K.streamId;K21=9;break;case 5:(L=H.value,K=F.headers[L]);K21=4;break;case 4:K21=K.fragments instanceof ArrayBuffer?3:8;break;case 2:(E=c.__values(G),H=E.next());K21=1;break;case 1:K21=!H.done?5:12;break;case 6:var V0z="Missing or invalid hea";V0z+="d";V0z+="er ";V0z+="d";V0z+="ata parts for stream ";return (I=V0z + R.Pa,w(I));break;}}}catch(sa){var O;O={error:sa};}finally{L21=2;for(;L21 !== 1;){switch(L21){case 2:try{M21=2;for(;M21 !== 1;){switch(M21){case 2:H && !H.done && (A=E.return) && A.call(E);M21=1;break;}}}finally{N21=2;for(;N21 !== 5;){switch(N21){case 1:throw O.error;N21=5;break;case 2:N21=O?1:5;break;case 9:throw O.error;N21=6;break;N21=5;break;}}}L21=1;break;}}}J21=10;break;case 3:J21=l.oa(z)?9:8;break;case 8:F=z[p];J21=7;break;case 7:J21=F.movieEntry?6:15;break;case 6:y=h.$sa(F.movieEntry);z=[];J21=13;break;case 2:J21=1;break;case 9:u();J21=4;break;case 10:J21=F.data?20:17;break;case 12:G=Object.keys(F.headers);J21=11;break;case 1:J21=y?5:3;break;case 20:O=F.data;A=Object.keys(O);J21=18;break;case 18:try{O21=2;for(;O21 !== 8;){switch(O21){case 2:(J=c.__values(A),M=J.next());O21=1;break;case 4:P=Object.keys(O[L]);try{P21=2;for(;P21 !== 7;){switch(P21){case 2:(S=(C=void 0,c.__values(P)),T=S.next());P21=1;break;case 1:P21=!T.done?5:7;break;case 4:P21=h.dva(W)?3:9;break;case 8:T=S.next();P21=1;break;case 5:(U=O[L][T.value],W=h.jsa(U,U));P21=4;break;case 3:var P0z="Missing o";P0z+="r invalid media data parts for st";P0z+="re";P0z+="am";P0z+=" ";return (I=P0z + W.Pa,w(I));break;case 9:z.push(W);P21=8;break;}}}catch(sa){C={error:sa};}finally{Q21=2;for(;Q21 !== 1;){switch(Q21){case 2:try{R21=2;for(;R21 !== 1;){switch(R21){case 2:T && !T.done && (D=S.return) && D.call(S);R21=1;break;}}}finally{S21=2;for(;S21 !== 5;){switch(S21){case 1:throw C.error;S21=5;break;case 2:S21=C?1:5;break;case 9:throw C.error;S21=1;break;S21=5;break;}}}Q21=1;break;}}}O21=9;break;case 1:O21=!M.done?5:8;break;case 5:L=M.value;O21=4;break;case 9:M=J.next();O21=1;break;}}}catch(sa){var fa;fa={error:sa};}finally{T21=2;for(;T21 !== 1;){switch(T21){case 2:try{U21=2;for(;U21 !== 1;){switch(U21){case 2:M && !M.done && (B=J.return) && B.call(J);U21=1;break;}}}finally{V21=2;for(;V21 !== 5;){switch(V21){case 3:V21=fa?5:6;break;V21=fa?1:5;break;case 2:V21=fa?1:5;break;case 1:throw fa.error;V21=5;break;case 9:throw fa.error;V21=6;break;V21=5;break;}}}T21=1;break;}}}J21=17;break;case 5:w(y);J21=4;break;case 13:J21=F.headers?12:10;break;case 17:x=h.ata(v.J,v.G,v.Zd,z,q);J21=16;break;}}});I21=5;break;}}});break;}}};n.prototype.Bxb=function(p){var W21,q;W21=2;for(;W21 !== 5;){switch(W21){case 2:var M0z="Med";M0z+="ia ";M0z+="cache is no";M0z+="t enabled";q=this;return this.Ou?this.Ou.then(function(){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return new Promise(function(t){var Y21;Y21=2;for(;Y21 !== 1;){switch(Y21){case 2:q.Hp.H_(g.xs,p.toString(),function(v){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:v && 0 !== v.length?1 === v.length && v[0] === p.toString()?t(!0):t(!1):t(!1);Z21=1;break;}}});Y21=1;break;}}});break;}}}):Promise.reject(M0z);break;}}};n.prototype.eAb=function(p){var a31,v,u;function q(w){var b31;b31=2;for(;b31 !== 1;){switch(b31){case 2:v.Hp.delete(g.xs,w);b31=1;break;}}}a31=2;for(;a31 !== 4;){switch(a31){case 2:(v=this,u=p.toString());this.Hp.H_(g.xs,[g.PLa,p].join("."),t);this.Hp.H_(g.xs,u,t);a31=4;break;}}function t(w){var c31;c31=2;for(;c31 !== 1;){switch(c31){case 4:w.map(q);c31=7;break;c31=1;break;case 2:w.map(q);c31=1;break;}}}};J11=20;break;case 4:n.prototype.mZb=function(p,q){var c21,t,v;c21=2;for(;c21 !== 5;){switch(c21){case 2:(t=this,v=this.Lp.time.ga());return this.Ou.then(function(){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:return t.Bxb(p);break;case 4:return t.Bxb(p);break;d21=1;break;}}}).then(function(u){var e21;e21=2;for(;e21 !== 5;){switch(e21){case 4:var m0z="media";m0z+="cache";m0z+="loo";m0z+="kup";t.wR(m0z,{Uaa:t.Lp.time.ga() - v,c8:!1});e21=5;break;case 9:e21=u?2:9;break;e21=u?1:4;break;case 2:e21=u?1:4;break;case 1:return t.Hzb(p.toString(),q,v);break;case 8:return t.Hzb(p.toString(),q,v);break;e21=4;break;}}});break;}}};n.prototype.j9b=function(p,q){var f21,t,v,u,w,x,y;f21=2;for(;f21 !== 13;){switch(f21){case 2:(t=this,v=[p.I,p.Pa,g.Bqb].join("."),u=this.Lp.time.ga(),w=h.r5a(p),x={});x[v + "." + g.iia]={cs:w,Bc:g.LG};x[v + "." + g.crb]={cs:f.$s(p.Hg.map(function(z){var g21;g21=2;for(;g21 !== 1;){switch(g21){case 2:return z.data;break;case 4:return z.data;break;g21=1;break;}}})),Bc:g.LG};f21=4;break;case 4:f21=p.stream.Vd && !l.oa(p.stream.aa)?3:14;break;case 14:this.Hp.Dgb(g.xs,x,function(z){var h21;h21=2;for(;h21 !== 5;){switch(h21){case 2:z || (z=t.Lp.time.ga() - u,p.En && (l.oa(p.En.Wb.ju) && (p.En.Wb.ju=0),p.En.Wb.ju+=z));q();h21=5;break;}}});f21=13;break;case 3:w={timescale:p.stream.aa.X,startTicks:p.stream.aa.Sn,offset:p.stream.aa.ri(0)};y=p.stream.aa.VK;x[v + "." + g.HIa]={cs:w,Bc:g.LG};x[v + "." + g.rqb]={cs:y.sizes.buffer,Bc:g.LG};f21=6;break;case 6:x[v + "." + g.qqb]={cs:y.oe.buffer,Bc:g.LG};f21=14;break;}}};n.prototype.i9b=function(p,q,t){var i21,v,u,w,x,y;i21=2;for(;i21 !== 14;){switch(i21){case 1:i21=u instanceof ArrayBuffer?5:6;break;case 2:(v=this,u=p.response);i21=1;break;case 6:var G0z="Unable to save fragment because respon";G0z+="se is not an Arra";G0z+="yBuffer";t(Error(G0z));i21=14;break;case 5:(w=this.Lp.time.ga(),x=[p.I,p.Pa,p.$c].join("."));p=h.Xsa(p);y={};i21=9;break;case 9:y[x + "." + g.iia]={cs:p,Bc:g.LG};l.oa(u) || (y[x + "." + g.Xrb]={cs:u,Bc:g.LG});this.Hp.Dgb(g.xs,y,function(z){var j21;j21=2;for(;j21 !== 5;){switch(j21){case 2:var s0z="Failed to sa";s0z+="ve fr";s0z+="agment";z?v.G.warn(s0z,z):(z=v.Lp.time.ga() - w,l.oa(q.Wb.ju) && (q.Wb.ju=0),q.Wb.ju+=z);t();j21=5;break;}}});i21=14;break;}}};n.prototype.k9b=function(p){var k21,z,q,t,v,u,w,x,y,A,B,m21,F,G,C,D,n21,E,H,K,L,o21,p21,q21,r21,s21,t21;k21=2;for(;k21 !== 20;){switch(k21){case 5:k21=p.headers?4:8;break;case 4:z={};Object.keys(p.headers).forEach(function(R){var l21,O;l21=2;for(;l21 !== 5;){switch(l21){case 2:O=h.o5a(p.headers[R]);z[R]=O;l21=5;break;}}});k21=9;break;case 8:k21=p && p.data?7:12;break;case 2:(u=this,w=this.Lp.time.ga(),x={},y=h.R5a(p));x.movieEntry=y;k21=5;break;case 9:x.headers=z;k21=8;break;case 7:y={};(A=p.data,B=Object.keys(p.data));try{m21=2;for(;m21 !== 6;){switch(m21){case 5:(F=D.value,G=A[F]);B={};m21=3;break;case 1:m21=!D.done?5:6;break;case 2:(C=c.__values(B),D=C.next());m21=1;break;case 3:m21=G?9:7;break;case 8:y[F]=B;m21=7;break;case 9:try{n21=2;for(;n21 !== 7;){switch(n21){case 2:(E=(t=void 0,c.__values(G)),H=E.next());n21=1;break;case 1:n21=!H.done?5:7;break;case 4:n21=L instanceof d.Z1 && L.response instanceof ArrayBuffer && !l.oa(L.$c)?3:8;break;case 3:K=h.Xsa(L);n21=9;break;case 5:L=H.value;n21=4;break;case 9:B[L.$c]={mediaType:K.mediaType,streamId:K.streamId,movieId:K.movieId,bitrate:K.bitrate,location:K.location,serverId:K.serverId,saveToDisk:K.saveToDisk,offset:K.offset,bytes:K.bytes,timescale:K.timescale,startTicks:K.startTicks,durationTicks:K.durationTicks,response:L.response};n21=8;break;case 8:H=E.next();n21=1;break;}}}catch(R){t={error:R};}finally{o21=2;for(;o21 !== 1;){switch(o21){case 2:try{p21=2;for(;p21 !== 1;){switch(p21){case 2:H && !H.done && (v=E.return) && v.call(E);p21=1;break;}}}finally{q21=2;for(;q21 !== 5;){switch(q21){case 2:q21=t?1:5;break;case 3:q21=t?7:0;break;q21=t?1:5;break;case 1:throw t.error;q21=5;break;case 9:throw t.error;q21=1;break;q21=5;break;}}}o21=1;break;}}}m21=8;break;case 7:D=C.next();m21=1;break;}}}catch(R){var I;I={error:R};}finally{r21=2;for(;r21 !== 1;){switch(r21){case 2:try{s21=2;for(;s21 !== 1;){switch(s21){case 2:D && !D.done && (q=C.return) && q.call(C);s21=1;break;}}}finally{t21=2;for(;t21 !== 5;){switch(t21){case 3:t21=I?2:0;break;t21=I?1:5;break;case 2:t21=I?1:5;break;case 1:throw I.error;t21=5;break;}}}r21=1;break;}}}k21=13;break;case 13:x.data=y;k21=12;break;case 12:I={lifespan:259200};this.Wxb && (I.convertToBinaryData=!0);this.Hp.save(g.xs,p.I,x,I,function(R){var u21;u21=2;for(;u21 !== 1;){switch(u21){case 2:var H0z="sav";H0z+="et";H0z+="o";H0z+="dis";H0z+="k";R || u.wR(H0z,{Egb:u.Lp.time.ga() - w});u21=1;break;}}});k21=20;break;}}};n.prototype.T8a=function(p){var v21;v21=2;for(;v21 !== 1;){switch(v21){case 2:return !(l.oa(p) || l.sb(p) || l.oa(p.Wb) || l.sb(p.Wb) || l.oa(p.I) || l.sb(p.I) || l.oa(p.priority) || l.sb(p.priority));break;}}};n.prototype.wR=function(p,q){var w21,t;w21=2;for(;w21 !== 9;){switch(w21){case 4:var q0z="med";q0z+="i";q0z+="acach";q0z+="e";t.oneObject=this.DH;this.Awb && this.emit(q0z,t);w21=9;break;case 2:var N0z="medi";N0z+="acach";N0z+="el";N0z+="oo";N0z+="kup";var C0z="sav";C0z+="et";C0z+="odisk";var j0z="me";j0z+="di";j0z+="ac";j0z+="a";j0z+="chestats";t={type:j0z,operation:p};C0z === p && (t.saveTime=q.Egb);N0z === p && (t.lookupTime=q.Uaa,t.dataFound=q.c8);w21=4;break;}}};n.prototype.v6b=function(p,q){var x21,t,v;x21=2;for(;x21 !== 5;){switch(x21){case 2:(t=this,v=Object.keys(p).map(function(u){var y21;y21=2;for(;y21 !== 1;){switch(y21){case 2:return t.nJb(p[u]);break;}}}));return Promise.all(v).then(function(u){var z21;z21=2;for(;z21 !== 5;){switch(z21){case 2:u.sort(function(w,x){var A21;A21=2;for(;A21 !== 1;){switch(A21){case 2:return w.Ec === x.Ec?0:w.Ec?-1:1;break;}}});return h.ata(t.J,t.G,t.Zd,u,q);break;}}});break;}}};J11=13;break;case 20:n.prototype.U$b=function(p){var d31,q;d31=2;for(;d31 !== 4;){switch(d31){case 2:var X0z="media";X0z+="cache-";X0z+="e";X0z+="rror";var p0z="med";p0z+="iaca";p0z+="che";q=new m.Gf();q.on(this.Hp,p0z,function(t){var e31;e31=2;for(;e31 !== 4;){switch(e31){case 2:e31=t.keys || t.items?1:5;break;case 1:t.keys || t.items.map(function(v){var f31;f31=2;for(;f31 !== 1;){switch(f31){case 2:return v.key;break;}}});e31=5;break;case 7:p.emit("",t);e31=7;break;e31=4;break;case 5:var d0z="m";d0z+="ediacac";d0z+="h";d0z+="e";p.emit(d0z,t);e31=4;break;}}});q.on(this.Hp,X0z,function(t){var g31;g31=2;for(;g31 !== 5;){switch(g31){case 2:var K0z="me";K0z+="di";K0z+="a";K0z+="ca";K0z+="che";var F0z="e";F0z+="r";F0z+="r";F0z+="or";t.type=F0z;p.emit(K0z,t);g31=5;break;}}});d31=4;break;}}};return n;break;case 2:n.prototype.ta=function(p,q){var L11,t;L11=2;for(;L11 !== 4;){switch(L11){case 2:var E0z="Media ";E0z+="cach";E0z+="e is disabled";t=this;this.Cma?this.Ou=new Promise(function(v,u){var M11;M11=2;for(;M11 !== 1;){switch(M11){case 2:(void 0 !== q && null !== q?q.FP:function(w){var N11;N11=2;for(;N11 !== 1;){switch(N11){case 4:return k.FP(t.Lp,t.J,w);break;N11=1;break;case 2:return k.FP(t.Lp,t.J,w);break;}}})(function(w){var O11,x;O11=2;for(;O11 !== 4;){switch(O11){case 2:var O0z="Me";O0z+="di";O0z+="a cache did not initial";O0z+="ize";t.Hp=w;x=w.Qv;(w=w.vJ)?u(w):x?(t.U$b(p),v()):u(Error(O0z));O11=4;break;}}});M11=1;break;}}}):(this.Ou=Promise.reject(E0z),this.Ou.catch(function(){}));return this.Ou;break;}}};n.prototype.oZb=function(p){var P11,q,t,v;P11=2;for(;P11 !== 5;){switch(P11){case 2:(q=this,t=[g.PLa,p].join("."),v=this.Lp.time.ga());return this.Ou.then(function(){var Q11;Q11=2;for(;Q11 !== 1;){switch(Q11){case 2:return new Promise(function(u){var R11;R11=2;for(;R11 !== 1;){switch(R11){case 2:q.Hp.H_(g.xs,t,function(w){var S11,x;S11=2;for(;S11 !== 3;){switch(S11){case 5:x=w[0];q.Hp.read(g.xs,x,function(y,z){var T11,U11,A,B;T11=2;for(;T11 !== 14;){switch(T11){case 2:var i0z=" ";i0z+="f";i0z+="ail";i0z+="ed";var x0z="Reading";x0z+=" ";x0z+="mo";x0z+="vie ent";x0z+="ry ";y && q.G.warn(x0z + x + i0z,y);T11=1;break;case 1:T11=!l.oa(z)?5:9;break;case 4:try{U11=2;for(;U11 !== 1;){switch(U11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));U11=1;break;}}}catch(C){}T11=9;break;case 9:l.oa(A) || (B=h.$sa(A));l.oa(B) || l.sb(B) || (B.Wb=B.Wb || ({}),B.headers=B.headers || ({}));q.T8a(B)?u(B):(q.eAb(p),u());T11=14;break;case 5:T11=z instanceof ArrayBuffer?4:3;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};T11=9;break;}}});S11=3;break;case 8:S11=+w && 1 < w.length?6:6;break;S11=!w || 0 >= w.length?1:5;break;case 2:S11=!w || 0 >= w.length?1:5;break;case 1:var S0z="mediaca";S0z+="chelook";S0z+="up";(u(),q.wR(S0z,{Uaa:q.Lp.time.ga() - v,c8:!1}));S11=3;break;}}});R11=1;break;}}});break;}}});break;}}};n.prototype.lZb=function(p,q,t){var V11,v,u;V11=2;for(;V11 !== 9;){switch(V11){case 7:v=this;V11=5;break;V11=1;break;case 1:V11=!this.Ou?5:4;break;case 2:v=this;V11=1;break;case 6:V11=-this.Ou?8:6;break;V11=!this.Ou?5:4;break;case 5:var D0z="Media";D0z+=" cache ";D0z+="is not enabled";return Promise.reject(D0z);break;case 14:return Promise.reject("");break;V11=4;break;case 4:u=this.Lp.time.ga();return this.Ou.then(function(){var W11;W11=2;for(;W11 !== 1;){switch(W11){case 2:return new Promise(function(w){var X11;X11=2;for(;X11 !== 1;){switch(X11){case 2:v.Hp.H_(g.xs,p,function(x){var Y11;Y11=2;for(;Y11 !== 5;){switch(Y11){case 2:x=x.reduce(function(y,z){var Z11,A;Z11=2;for(;Z11 !== 9;){switch(Z11){case 1:var o0z="drmHeader.__emb";o0z+="e";o0z+="d_";o0z+="_";Z11=-1 !== A.indexOf(o0z)?5:4;break;case 2:A=z.substr(0,z.lastIndexOf("."));Z11=1;break;case 6:var w0z="drmHead";w0z+="er.__embe";w0z+="d__";Z11=+8 === A.indexOf("")?6:1;break;Z11=-1 !== A.indexOf(w0z)?5:4;break;case 5:return y;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;}}},{});v.v6b(x,q).then(function(y){var a21,z,A;a21=2;for(;a21 !== 8;){switch(a21){case 2:a21=void 0 === t || void 0 === y?1:5;break;case 1:return w();break;case 5:var J0z="media";J0z+="ca";J0z+="chelo";J0z+="okup";var Z0z="No";Z0z+=" content dat";Z0z+="a found ";Z0z+="for ";(z=v.Lp.time.ga() - u,A=!1);l.oa(y) || l.oa(y.data) || !l.Yj(y.data)?v.G.trace(Z0z + p,t):A=!0;v.wR(J0z,{Uaa:z,c8:A});a21=9;break;case 9:w(y);a21=8;break;}}},function(){var b21;b21=2;for(;b21 !== 1;){switch(b21){case 4:w();b21=8;break;b21=1;break;case 2:w();b21=1;break;}}});Y11=5;break;}}});X11=1;break;}}});break;}}});break;}}};J11=4;break;}}function n(p,q,t){var K11;K11=2;for(;K11 !== 12;){switch(K11){case 2:var L0z="me";L0z+="d";L0z+="ia|asej";L0z+="s";var R0z="MED";R0z+="I";R0z+="A";R0z+="C";R0z+="ACHE";this.G=new q.Console(R0z,L0z);this.Cma=(p.JDa || p.KDa) && 0 < (p.MW || (q.options || ({})).kQ || 0);K11=5;break;case 9:this.J=p;this.Lp=q;this.Zd=t;K11=6;break;case 6:var Q0z="1";Q0z+="SIY";Q0z+="b";Q0z+="ZrN";Q0z+="JCp9";var U0z="Media cache ha";U0z+="s not ";U0z+="been initia";U0z+="ized";this.Ou=Promise.reject(U0z);this.Ou.catch(function(){});Q0z;K11=12;break;case 5:this.Awb=p.qNb?p.qNb:!1;this.DH=p.Ywa?p.Ywa:!1;this.Wxb=p.Jab?p.Jab:!1;K11=9;break;}}}})();b.nMa=a;r.Re(m.EventEmitter,a);},function(r,b,a){var c,m,k,l,d;c=a(10);k=[];d=!1;r.exports={FP:function(f,h,g){var n;if(d)c.ed(g) && (m.Qv || m.vJ?setTimeout(function(){g(m);},0):k.push(g));else {d=!0;n=a(129);n.vY(f);l=new n.Console("MEDIACACHE","media|asejs");m=new (a(426))(h,function(p){p && l.warn("Failed to initialize MediaCache",p);c.ed(g) && setTimeout(function(){g(m);},0);k.map(function(q){setTimeout(function(){q(m);},0);});});}return m;},Anc:function(f,h){m=new (a(426))(f,function(g,n){g && l.warn("Failed to initialize MediaCache",g);c.ed(h) && setTimeout(function(){h(n);},0);});}};},function(r,b,a){var m,k,l,d,f;function c(h){this.Es=h;this.context=h.context;this.Zbb="NULLCONTEXT" === h.context?!0:!1;}m=a(10);k=a(129);l=new k.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,g,n,p,q){q("MediaCache is not supported");},remove:function(h,g,n){n("MediaCache is not supported");},create:function(h,g,n,p){p("MediaCache is not supported");},append:function(h,g,n,p){p("MediaCache is not supported");},query:function(h,g,n){n([]);}};c.prototype.UH=function(){var h,g,n;h=Array.prototype.slice.call(arguments);g=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(p){n(null,p);});try{if(this.Zbb)throw Error("Media Cache not supported");g.apply(this.Es,h);}catch(p){n(p);}};c.prototype.query=function(h,g,n,p){try{if(this.Zbb)throw Error("Media Cache not supported");this.Es.query(h,g,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(h,g,n,p,q){this.UH(this.Es.read,h,g,n,p,q);};c.prototype.remove=function(h,g,n){this.UH(this.Es.remove,h,g,n);};c.prototype.create=function(h,g,n,p){this.UH(this.Es.create,h,g,n,p);};c.prototype.append=function(h,g,n,p){this.UH(this.Es.append,h,g,n,p);};c.prototype.info=function(h){this.UH(this.Es.info,h);};c.prototype.validate=function(h){this.UH(this.Es.validate,h);};c.prototype.flush=function(h){this.UH(this.Es.flush,h);};c.prototype.clear=function(){this.Es.clear();};r.exports={qJb:function(h){var g,n,p,q,t;g=h.Wmc || "NRDMEDIADISKCACHE";f=h.MW || 0;0 !== f || m.oa(k.options) || m.oa(k.options.kQ) || (f=k.options.kQ);h=f;try{p=k.storage.cMb;if(!p || !m.Yj(p))throw (l.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[g]){l.warn("Disk store exists, returning");q=new c(n);}else {if(m.oa(k.storage) || !m.ed(k.storage.d0a) || k.options && 0 === k.options.kQ)throw (l.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");l.warn("Disk store context doesn't exist, creating with size " + h);t=k.storage.d0a({context:g,size:h,encrypted:!0,signed:!0});if(!t || !t.valid)throw "Failed to create disk store context";q=new c(t);}}catch(v){l.warn("Exception creating disk store context - returning NullContext (noops)",v);q=new c(d);}return q;},wRb:function(){return f;},Chc:c};},function(r,b,a){var f,h,g,n,p,q,t,v,u;function c(){}function m(w,x,y,z,A){var B;B=f.ed(z)?z:c;this.xx=w;this.Ag=y.Xs;this.pA=0;this.Gwb=y.fOb || "NONE";this.Xz=f.oa(A) || f.sb(A)?0:A;this.Xe={};this.Iu=y.bpc || h.storage.FT;this.qx=x;this.vN=p.create(this.qx,y.vKb * this.Xz,this.xx);this.on=this.addEventListener=u.addEventListener;this.removeEventListener=u.removeEventListener;this.emit=this.eb=u.eb;this.EUa=l(this,m.Se.REPLACE);this.ixb=l(this,m.Se.fTa);this.NH;this.NH=y.xlb?a(1011):a(1012);this.qx.query(this.Iu,this.Pr(""),(function(C,D){var F;if(C)B(C);else {F=this.vN.Rsa();C=Object.keys(D).filter(function(G){return G !== F && q.MP(G);}).map(this.fDa.bind(this));this.lda(C,(function(G,E){Object.keys(E).map((function(H){var L,K;L=E[H];this.Xe[q.V8(H)]=L;if(L.wAa && 1 < Object.keys(L.wAa).length){K=0;Object.keys(L.wAa).forEach((function(I){D[this.Pr(I)] && f.Ka(D[this.Pr(I)].size) && (K+=D[this.Pr(I)].size);}).bind(this));H=q.V8(H);this.Xe[H].size=K;}else (H=q.V8(H),D[this.Pr(H)] && (this.Xe[H].size=D[this.Pr(H)].size));}).bind(this));k(this.qx,this.Iu,this.xx,(function(H,L){this.pA=L;H?B(H):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function k(w,x,y,z){var A;A=f.ed(z)?z:c;w.query(x,y,function(B,C){B?A(B):(B=Object.keys(C).reduce(function(D,F){return D + (C[F].size || 0);},0),A(null,B));});}function l(w,x){return function(y,z,A,B,C){return function(D,F){var G;if(D)(z || w.eb(m.Se.ag,{itemKey:y,error:D}),A(D));else {G={sl:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(E){var H;H=F.actions[E];E={key:w.fDa(H.zaa),Gl:E};H.ea?(G.sl+=H.sl,E.yaa=H.sl,f.Ka(H.duration) && (G.duration+=H.duration)):E.error=H.error;G.items.push(E);});D=f.ed(B)?B():0;0 < C && (G.pO=C - D);k(w.qx,w.Iu,w.xx,function(E,H){E?A(E):(w.pA=H,G.Ko=w.Ag - H,z || w.eb(x,v.M4a(G)),A(null,G));});}};};}function d(w,x){return 0 < x && w >= x?!0:!1;}f=a(10);h=a(129);g=a(262);b=a(86);n=new h.Console("MEDIACACHE","media|asejs");p=a(1007);q=a(427);t=a(130);v=a(263);u=a(428).EventEmitter;b({Se:{fTa:"writeitem",REPLACE:"replaceitem",Kha:"journalupdate",ag:"mediacache-error"}},m);m.prototype.ESb=function(){return this.xx;};m.prototype.fDa=function(w){return w.slice(this.xx.length + 1);};m.prototype.Gsa=function(){return Object.keys(this.Xe).filter((function(w){w=q.csa(this.Xe[w]);return void 0 === w || 0 >= w.C_a();}).bind(this));};m.prototype.OSb=function(){return Object.keys(this.Xe).reduce((function(w,x){var y;y=this.Xe[x];return y && y.creationTime < w.creationTime?{resourceKey:x,creationTime:y.creationTime}:w;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).fqc;};m.prototype.HRb=function(){var w;switch(this.Gwb){case "FIFO":w=this.OSb();}return w;};m.prototype.uLb=function(w){var x;x=f.ed(w)?w:c;this.y5a((function(y){var z,A,B;z=this.Xe;A=Object.keys(z).reduce(function(C,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(F){C.push(F);});return C;},[]);if((y=y.filter(function(C){return !q.MP(C) && 0 > A.indexOf(C);})) && 0 < y.length){B=this;y=h.Promise.all(y.map(function(C){return new h.Promise(function(D,F){B.delete(C,function(G){G?F(G):D();});});})).then(function(){x(void 0,{Rza:!0});},function(C){x(C,{Rza:!1});});v.Ky(y);}else w(void 0,{Rza:!1});}).bind(this));};m.prototype.L6b=function(w,x,y){var z,A;z=f.ed(x)?x:c;x=this.Pr(w);A=h.time.now();this.qx.read(this.Iu,x,0,-1,(function(B,C){var D;if(B)z(B);else if(C && C.ea && C.value){f.ed(y) || (y=this.NH.HX(t.ys.yG),q.MP(w)?y=this.NH.HX(t.ys.X3):(B=this.Xe[w],!f.oa(B) && f.Ka(B.resourceIndex[w])?(B=B.resourceIndex[w],f.oa(B) && (B=t.ys.yG),y=this.NH.HX(B)):n.warn("Metadata is undefined or does not contain a resource format for key",w,":",B)));try{D=y(C.value);}catch(F){return z(g.hM.rs(F.message));}C={duration:h.time.now() - A};this.Xe[w] && f.Ka(this.Xe[w].size) && (C.GA=f.Ka(this.Xe[w].size)?this.Xe[w].size:0);z(null,D,C);}else z(g.hM.rs(C.error));}).bind(this));};m.prototype.read=function(w,x,y){this.L6b(w,x,y);};m.prototype.lda=function(w,x,y){var z,A,B;z=f.ed(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(w))z(g.hM.rs("item keys must be an array"));else {A={};B=[];w=h.Promise.all(w.map((function(C){return new h.Promise((function(D,F){var G;y && !f.oa(y[C]) && (G=this.NH.HX(y[C]));this.read(C,function(E,H,L){E?(H={},H[C]=E,F(H)):(A[C]=H,B.push({duration:L.duration,GA:L.GA}),D());},G);}).bind(this));}).bind(this))).then(function(){var C;C={};0 < B.length && (C=B.reduce(function(D,F){f.Ka(F.duration) && (D.duration+=F.duration);f.Ka(F.GA) && (D.GA+=F.GA);return D;},{duration:0,GA:0}));z(null,A,C);},function(C){z(C);});v.Ky(w);}};m.prototype.write=function(w,x,y,z,A){var B,C,D;y=f.ed(y)?y:c;B=this.Pr(w);C="function" === typeof A?A():0;D=t.Mta(x);D=this.NH.uta(D)(x);D.byteLength + this.pA >= this.Ag?y(g.DL):d(D.byteLength + C,this.Xz)?y(g.P4):this.vN.save(this.Iu,B,x,this.ixb(w,z,y,A,this.Xz),D.byteLength);};m.prototype.replace=function(w,x,y,z,A){var B,C,D,F;B=f.ed(y)?y:c;C=this.Pr(w);D=0;"function" === typeof A && (D=A());y=t.Mta(x);F=this.NH.uta(y)(x);y=(this.Xe[w] || ({})).size || 0;0 >= y && this.Xe[w]?this.$5a([w],(function(G){n.trace("Replacing key",w,"which exists:",! !this.Xe[w],this.Xe[w]?this.Xe[w]:void 0,"and has size",G,"with",x,"with size",F.byteLength,"plus _used",this.pA,"vs capacity",this.Ag);F.byteLength - G + this.pA >= this.Ag?B(g.DL):d(F.byteLength - G + D,this.Xz)?B(g.P4):this.vN.replace(this.Iu,C,x,this.EUa(w,z,B,A,this.Xz),F.byteLength);}).bind(this)):(n.trace("Replacing key",w,"which exists:",! !this.Xe[w],this.Xe[w]?this.Xe[w]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.pA,"vs capacity",this.Ag),F.byteLength - y + this.pA >= this.Ag?B(g.DL):d(F.byteLength - y + D,this.Xz)?B(g.P4):this.vN.replace(this.Iu,C,x,this.EUa(w,z,B,A,this.Xz),F.byteLength));};m.prototype.Z7b=function(w,x,y,z){var A;A=f.ed(x)?x:c;"[object Object]" !== Object.prototype.toString.call(w)?A(g.O4.rs("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(w).map((function(B){return new h.Promise((function(C){this.replace(B,w[B],function(D,F){D?C({error:D,cs:B}):C(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var C,D,F,G;try{C=Number.MAX_VALUE;D=B.reduce(function(E,H){H.error || (E.sl+=H.sl,f.Ka(H.duration) && (E.duration+=H.duration),!f.oa(H.Ko) && H.Ko < C && (C=H.Ko),H.items.map(function(L){E.items.push({key:L.key,Gl:L.Gl,yaa:L.yaa,DZb:L.DZb,duration:L.duration});}),C < Number.MAX_VALUE && (E.Ko=C));return E;},{sl:0,items:[],time:h.time.now(),duration:0});0 < this.Xz && (D.pO=this.Xz - z());F=B.filter(function(E){return !f.oa(E.error);});G=v.S6a(F);y || (G?G.forEach((function(E){this.eb(m.Se.ag,E);}).bind(this)):this.eb(m.Se.REPLACE,v.M4a(D)));A(G,D);}catch(E){A(E);}}).bind(this),(function(B){y || this.eb(m.Se.ag,B);A(B);}).bind(this)),v.Ky(x));};m.prototype.delete=function(w,x){var y;y=f.ed(x)?x:c;this.qx.remove(this.Iu,this.Pr(w),(function(z,A){z?y(z):A && A.ea?k(this.qx,this.Iu,this.Pr(""),(function(B,C){B?y(B):(this.pA=C,y());}).bind(this)):y(g.Zob.rs(A.error));}).bind(this));};m.prototype.y5a=function(w){this.query("",function(x,y){x?(n.error("Failed to get keys",x),w([])):w(y);});};m.prototype.query=function(w,x){var y,z;y=f.ed(x)?x:c;z=this.vN.Rsa();this.qx.query(this.Iu,this.Pr(w),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(C){return C !== z;}).map(this.fDa.bind(this)));}).bind(this));};m.prototype.Pr=function(w){return this.xx + "." + w;};m.prototype.clear=function(w){var x;x=f.ed(w)?w:c;this.y5a((function(y){var z;z=h.Promise.all(y.map((function(A){return new h.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.eb(m.Se.ag,A);x([],A);}).bind(this));v.Ky(z);}).bind(this));};m.prototype.$5a=function(w,x){var y,z;y=f.ed(x)?x:c;z=(w || []).map((function(A){return this.Pr(A);}).bind(this));this.qx.query(this.Iu,this.xx,(function(A,B){A?(n.error("failed to get persisted size for keyset ",w,A),y(0)):(A=Object.keys(B).filter(function(C){return 0 <= z.indexOf(C);}).reduce(function(C,D){return C + (B[D].size || 0);},0),y(A));}).bind(this));};m.prototype.XQb=function(w){return this.vN.A4a(w);};m.prototype.constructor=m;r.exports=m;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t){var A,B;function v(C,D,F,G){C.info.call(C,(function(E,H){var L;if(E)G(E);else {try{L=H.values[this.context].entries[D][F].size;}catch(K){L=-1;}-1 < L?G(null,L):this.validate(function(K,I){K?G(K):(I[F] && (L=I[F].size),G(null,L));});}}).bind(C));}function u(C,D,F,G,E,H,L){var K;H?H.actions || (H.actions={}):H={actions:{}};A(G);K=k.time.now();G=new g(function(I,R){C.create(k.storage.FT,D,F,function(O,J){O?R(O):I(J);});}).then(function(I){I.ea?v(C,k.storage.FT,D,function(R,O){R?L(R):(B(O),A(O),H.actions[c.L1.Kha]={ea:!0,time:E,sl:O,zaa:D,Teb:I,duration:k.time.now() - K},H.Ko=I.Ko,L(null,H));}):(H.actions[c.L1.Kha]={ea:!1,zaa:D,error:I.error},L(null,H));},function(I){L(I);});f.Ky(G);}function w(C,D,F,G,E,H){G.So(F.time,F);for(var L=F.time - 864E5,K=G.By();K && !isNaN(K.time) && K.time < L;){K=G.tO();A(0 - (K.ca || 0));K=G.By();}G=G.Xn().map(function(I){return I.time + ";" + I.ca;});u(C,D,Array.prototype.join.call(G,"|"),F.ca,F.time,E,H);}function x(C,D,F,G,E,H,L,K,I){var R;R=k.time.now();C.create(F,G,E,function(O,J){var M;if(O)h.error("Failed to replace item",G,O);else if(J.ea){M=J.Ko;v(C,F,G,function(P,S){var T,U;if(P)I(P);else {P={time:K,ca:S || 0};T={Ko:M,actions:{}};U=k.time.now() - R;T.actions[c.L1.REPLACE]={ea:!0,time:K,sl:S,zaa:G,Teb:J,duration:U};H?w(C,D,P,L,T,I):(A(S),I(null,T));}});}else I(l.O4.rs(J.error || "Failed to create item"));});}function y(C,D,F,G,E,H,L,K,I){var R;R=k.time.now();C.append(F,G,E,function(O,J){var M;if(O)(h.error("Failed to save item " + G,O),I(O));else if(J.ea){M=J.Ko;v(C,F,G,function(P,S){var T,U;if(P)I(P);else {P={time:K,ca:S || 0};T={Ko:M,actions:{}};U=k.time.now() - R;T.actions[c.L1.dub]={ea:!0,time:K,sl:S,zaa:G,Teb:J,duration:U};H?w(C,D,P,L,T,I):(A(S),I(null,T));}});}else I(l.O4.rs(J.error || "Failed to save item"));});}function z(C,D){C && m.ed(C.remove) && C.Es.valid && C.remove(k.storage.FT,D.ZM,function(F,G){if(F)h.error("Failed to delete old journal key",F);else try{G && (m.oa(G.error) || G.error.some(function(E){return "NFErr_FileNotFound" === E.mnc;})) && w(C,D.ZM,{time:0,ca:0},D.YU,0,function(){});}catch(E){}});}if(!p.Es.valid)return n;this.STa=m.oa(q) || m.sb(q)?0:q;this.Uka=p;this.Bla=this.jU=0;this.YU=new d();this.mzb=t || "default";this.ZM=this.mzb + ".NRDCACHEJOURNALKEY";A=(function(C){isNaN(C) || (this.jU+=C);return this.jU;}).bind(this);B=(function(C){isNaN(C) || (this.Bla+=C);return this.Bla;}).bind(this);this.Rsa=function(){return this.ZM;};this.save=function(C,D,F,G){var E;E=k.time.now();y(this.Uka,this.ZM,C,D,F,0 <= this.STa,this.YU,E,G);};this.replace=function(C,D,F,G){var E;E=k.time.now();x(this.Uka,this.ZM,C,D,F,0 <= this.STa,this.YU,E,G);};this.A4a=function(C){var D,E;D=this.jU;C-=864E5;for(var F=this.YU.Xn(),G=0;G < F.length;G++){E=F[G];E.time < C && !isNaN(E.ca) && (D-=E.ca);}return D;};(function(C){var D;D=C.Uka;C.jU=0;D.read(k.storage.FT,C.ZM,0,-1,function(F,G){var E,H,L,I;E=[];H=0;L=!0;if(F)h.error("Failed to compile records",F);else if(G.ea){F=String.fromCharCode.apply(null,new Uint8Array(G.value));F=String.prototype.split.call(F,"|");G=F.reduce(function(R,O){return R + (O.length + 40);},0);A(G);E=F.map(function(R){R=R.split(";");return {time:Number(R[0]),ca:Number(R[1])};});try{if(!isNaN(E.reduce(function(R,O){return R + O.ca;},0))){L=!1;for(var K=k.time.now() - 864E5;H < E.length;H++){I=E[H];I.time < K || (C.YU.So(I.time,I),A(I.ca));}}}catch(R){}}L && z(D,C);});})(this);}m=a(10);k=a(129);l=a(262);d=a(1008);b=a(86);f=a(263);h=new k.Console("DISKWRITEMANAGER","media|asejs");g=k.Promise;b({L1:{dub:"saveitem",REPLACE:"replaceitem",Kha:"journalupdate"}},c);n={save:function(p,q,t,v){v(l.MLa);},replace:function(p,q,t,v){v(l.MLa);},Rsa:function(){return "";},A4a:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(p,q,t){return new c(p,q,t);},yjc:n};},function(r){function b(m){if(!(this instanceof b))return new b(m);if("undefined" === typeof m)this.jo=function(k,l){return k <= l;};else {if("function" !== typeof m)throw Error("heap comparator must be a function");this.jo=m;}this.Zq=[];}function a(m,k){var l,d,f,h,g,n,p;l=m.Zq;d=m.jo;f=2 * k + 1;h=2 * k + 2;g=l[k];n=l[f];p=l[h];n && d(n.priority,g.priority) && (!p || d(n.priority,p.priority))?(c(l,k,f),a(m,f,d)):p && d(p.priority,g.priority) && (c(l,k,h),a(m,h,d));}function c(m,k,l){var d;d=m[k];m[k]=m[l];m[l]=d;}b.prototype.clear=function(){this.Zq=[];};b.prototype.So=function(m,k){this.Zq.push({priority:m,value:k});m=this.Zq;k=this.jo;for(var l=m.length - 1,d=0 === l?null:Math.floor((l - 1) / 2);null !== d && k(m[l].priority,m[d].priority);){c(m,l,d);l=d;d=0 === l?null:Math.floor((l - 1) / 2);}};b.prototype.remove=function(){var m;if(0 !== this.Zq.length){m=this.Zq[0];c(this.Zq,0,this.Zq.length - 1);this.Zq.pop();a(this,0);return m.value;}};b.prototype.By=function(){if(0 !== this.Zq.length)return this.Zq[0].value;};b.prototype.enqueue=b.prototype.So;b.prototype.tO=b.prototype.remove;b.prototype.jaa=function(){return 0 === this.Zq.length;};b.prototype.Xn=function(){return this.Zq.map(function(m){return m.value;});};r.exports=b;},function(r){function b(c,m){var k;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Hd)return (this.Hd={},this.Hd[c]=[m],!0);k=this.Hd[c];return void 0 === k?(this.Hd[c]=[m],!0):0 > k.indexOf(m)?(k.push(m),!0):!1;}function a(c,m){c=this.Hd?this.Hd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(m);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,m){var k;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Hd)return !1;k=this.Hd[c];if(void 0 === k)return !1;m=k.indexOf(m);if(0 > m)return !1;if(1 === k.length)return (delete this.Hd[c],!0);k.splice(m,1);return !0;},eb:a,emit:a,removeAllListeners:function(c){this.Hd && (void 0 === c?delete this.Hd:delete this.Hd[c]);return this;}};},function(r){function b(c,m,k,l){c.trace(":",k,":",l);m(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,m,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,m));if("function" === typeof c.addEventListener)l=c.addEventListener(m,k);else if("function" === typeof c.addListener)l=c.addListener(m,k);else throw Error("Emitter does not have a function to add listeners for '" + m + "'");this.listeners.push([c,m,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(m){var k,l;k=m[0];l=m[1];m=m[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,m):"function" === typeof k.removeListener && k.removeListener(l,m);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,m,k,l;c=a(10);m=a(130);k={};k[m.ys.yG]=function(d){return d;};k[m.ys.w4]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};k[m.ys.X3]=function(d){var f;f=d || new ArrayBuffer(0);d="";f=new Uint8Array(f);for(var h=0;h < f.byteLength;h++){d+=String.fromCharCode(f[h]);}return JSON.parse(d);};l={};l[m.ys.yG]=function(d){return d;};l[m.ys.w4]=function(d){for(var f=new ArrayBuffer(d.length),h=new Uint8Array(f),g=0,n=d.length;g < n;g++){h[g]=d.charCodeAt(g);}return f;};l[m.ys.X3]=function(d){return c.oa(d) || c.sb(d)?d:l[m.ys.w4](JSON.stringify(d));};r.exports={HX:function(d){return k[d] || k[m.ys.yG];},uta:function(d){return l[d] || l[m.ys.yG];}};},function(r,b,a){function c(k){return k;}function m(){return c;}a(10);r.exports={HX:m,uta:m};},function(r,b,a){var k;function c(l,d){return l.length > d.length?1:d.length > l.length?-1:0;}function m(l,d){var f,h,g;f=[];if(k.Yj(d)){h={};g={};g[l]=h;f.push(g);f=Object.keys(d).reduce(function(n,p){var q,t,v;q=d[p];t={};if(k.eaa(q)){v=l + ".__embed__." + p;t[v]=q;n.push(t);}else k.Yj(q)?(v=l + ".__sub__." + p,q=m(v,q),h[p]=q[0][v],n=n.concat(q.slice(1))):h[p]=q;return n;},f);}else (g={},g[l]=d,f.push(g));return f;}k=a(130);r.exports={bMb:m,MWb:function(l){var d,f,h,v;d=Object.keys(l).map(function(u){return u.split(".");});d.sort(c);f=d[0];h=f.length;f=l[f.join(".")];for(var g=1;g < d.length;g++){for(var n=!1,p=!1,q=f,t=h;t < d[g].length;t++){v=d[g][t];switch(v){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[v],p=!1):n && (q[v]=l[d[g].join(".")],n=!1);}}}return f;},rXb:function(l){return l && (0 <= l.indexOf("__sub__") || 0 <= l.indexOf("__embed__"));}};},function(r,b,a){var l,d;function c(f,h,g){Object.keys(f).forEach(function(n){var p,q;if(l.Yj(f[n]))if(f[n].eaa){p=f[n];q=g + p.offset;f[n]=h.slice(q,q + p.byteLength);}else f[n]=c(f[n],h,g);});return f;}function m(f,h,g){Object.keys(f).forEach(function(n){var p;if(l.eaa(f[n])){p=f[n];h.push(p);f[n]={eaa:!0,offset:g.Spa,byteLength:p.byteLength};g.Spa+=p.byteLength;}else l.Yj(f[n]) && m(f[n],h,g);});return f;}function k(){var f,h,g;f=Array.prototype.concat.apply([],arguments);h=f.reduce(function(n,p){return n + p.byteLength;},0);g=new Uint8Array(h);f.reduce(function(n,p){g.set(new Uint8Array(p),n);return n + p.byteLength;},0);return g.buffer;}l=a(130);d=a(86);r.exports={sHb:function(f){var h,g,n;h=d(f,{});f=[];h=m(h,f,{Spa:0});h=JSON.stringify(h);g=new ArrayBuffer(h.length + 4);n=new DataView(g);n.setUint32(0,h.length);for(var p=4,q=0,t=h.length;q < t;q++){n.setUint8(p,h.charCodeAt(q));p++;}f=[g].concat(f);return k.apply(null,f);},rHb:function(f){for(var h=new DataView(f,0,4).getInt32(0),g=new Uint8Array(f,4,h),n="",p=0;p < g.byteLength;p++){n+=String.fromCharCode(g[p]);}h=4 + h;n=JSON.parse(n);return c(n,f,h);}};},function(r,b,a){var m,k,l,d,f;function c(h){return {mediaType:h.mediaType,streamId:h.Pa,movieId:h.I,bitrate:h.bitrate,location:h.location,serverId:h.Fe,saveToDisk:!0,offset:h.offset,bytes:h.ca,timescale:h.X,frameDuration:h.stream.la && h.stream.la.bb,encrypted:h.em,initSegments:1 < h.Hg.length?h.Hg.map(function(g){return {fi:g.ye,s:g.data.byteLength,e:! !g.em};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.dva=b.eva=b.O8a=b.R5a=b.o5a=b.r5a=b.Xsa=b.ata=b.$sa=b.jsa=b.ksa=b.LLa=void 0;m=a(0).__importStar(a(10));k=a(1016);l=a(406);d=a(7);f=a(20);b.LLa={PLa:"movieEntry",Bqb:"header",iia:"metadata",crb:"headerData",Fic:"headerMetadata",rqb:"sizes",qqb:"durations",HIa:"fragments",Xrb:"response",xs:"billboard",LG:{lifespan:259200}};b.ksa=function(h,g,n){var p,q;p=g.headerData;n && g.sizes instanceof ArrayBuffer && g.durations instanceof ArrayBuffer && (q={Sn:n.startTicks,offset:n.offset,X:n.timescale,sizes:new Uint32Array(g.sizes),oe:new Uint32Array(g.durations)});return {Ec:!0,mediaType:h.mediaType,I:h.movieId,Pa:h.streamId,bitrate:h.bitrate,location:h.location,Fe:h.serverId,ca:h.bytes,offset:h.offset,bua:p,S$:h.initSegments,em:h.encrypted,X:h.timescale,la:h.frameDuration,yi:h.saveToDisk,aa:q};};b.jsa=function(h,g){var n,p,q;g=g.response;n=h.startTicks;p=h.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {Ec:!1,mediaType:h.mediaType,I:h.movieId,Pa:h.streamId,bitrate:h.bitrate,location:h.location,Fe:h.serverId,ca:h.bytes,offset:h.offset,response:g,X:h.timescale,Va:h.startTicks,qv:p,yi:h.saveToDisk,hb:q};};b.$sa=function(h){return {priority:h.priority,I:h.movieId,headers:{},xP:0,yW:0,u7a:0,yi:h.saveToDisk,Wb:h.stats,Xx:h.firstSelectedStreamBitrate,AB:h.initSelectionReason,XE:h.histDiscountedThroughputValue,nq:h.histTdigest,mq:h.histAge,Sp:void 0};};b.ata=function(h,g,n,p,q){var t,v;t={headers:{},data:{}};p.forEach(function(u){var w,x,A;w=u.mediaType;w=q && q.cy(w,u.Pa);x=[];if(u.Ec)if(!Array.isArray(u.S$) || 2 > u.S$.length)x.push({ye:0,data:u.bua});else for(var y=0,z=0;z < u.S$.length;++z){A=u.S$[z];x.push({ye:A.fi,data:u.bua.slice(y,y + A.s),em:A.e});y+=A.s;}w?(u.aa && w.hca(x,u.X,u.la?new f.K(u.la,u.X):void 0,u.aa),u.Ec && w && w.Vd?(void 0 === t.headers && (t.headers={}),t.headers[u.Pa]=new l.a2(w,{ca:u.ca,offset:u.offset,Hg:x,em:u.em},g)):u.response instanceof ArrayBuffer && void 0 !== w.aa && void 0 !== u.Va && void 0 !== u.X && void 0 !== u.hb && (x=w.aa.d9(new f.K(u.Va,u.X).U),void 0 !== x && (w=new k.REa(w,{X:u.X,Va:u.Va,hb:u.hb,index:x.index,offset:u.offset,ca:u.ca},u.response,n,h,g),void 0 === t.data && (t.data={}),t.data[u.Pa] || (t.data[u.Pa]=[]),t.data[u.Pa].push(w)))):g.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + u.Pa + " movieId: " + u.I);});if(!m.oa(t.data)){v=t.data;Object.keys(v).forEach(function(u){v[u].sort(function(w,x){return w.Va - x.Va;});});}return t;};b.Xsa=function(h){return {mediaType:h.mediaType,streamId:h.Pa,movieId:h.I,bitrate:h.bitrate,location:h.location,serverId:h.Fe,saveToDisk:!0,offset:h.offset,bytes:h.ca,timescale:h.X,startTicks:h.Va,durationTicks:h.qv};};b.r5a=c;b.o5a=function(h){var g,n,p,q;g=c(h);if(h.stream.Vd && h.stream && h.stream.aa){n={timescale:h.stream.aa.X,startTicks:h.stream.aa.Sn,offset:h.stream.aa.ri(0)};p=h.stream.aa.VK;q=p.sizes.buffer;p=p.oe.buffer;}return {mediaType:g.mediaType,streamId:g.streamId,movieId:g.movieId,bitrate:g.bitrate,location:g.location,serverId:g.serverId,saveToDisk:!0,offset:g.offset,bytes:g.bytes,timescale:g.timescale,frameDuration:g.frameDuration,headerData:d.$s(h.Hg.map(function(t){return t.data;})),initSegments:g.initSegments,encrypted:h.em,fragments:n,sizes:q,durations:p};};b.R5a=function(h){return {priority:h.priority,movieId:h.I,saveToDisk:h.yi,firstSelectedStreamBitrate:h.Xx,initSelectionReason:h.AB,histDiscountedThroughputValue:h.XE,histTdigest:h.nq,histAge:h.mq};};b.O8a=function(h){return !m.has(h,"startTicks");};b.eva=function(h){return !h.bua || !h.X || !h.aa || void 0 === h.aa.Sn || void 0 === h.aa.offset || void 0 === h.aa.oe || !h.aa.oe.length || void 0 === h.aa.sizes || !h.aa.sizes.length;};b.dva=function(h){return void 0 === h.ca || void 0 === h.offset || void 0 === h.X || void 0 === h.Va || void 0 === h.qv;};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.REa=void 0;c=a(0);m=a(7);r=a(35);k=a(75);a=(function(l){function d(f,h,g,n,p,q){n=l.call(this,f,h,n,p,q) || this;h.ca=g.byteLength;k.jl.ta(n,f,h);n.kN=g;n.Ovb=h.ca;return n;}c.__extends(d,l);Object.defineProperties(d.prototype,{Ec:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Tv:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nf:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ah:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.kN;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rZb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{WO:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oza:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.Ovb;},enumerable:!1,configurable:!0}});d.prototype.xt=function(){return !0;};d.prototype.eI=function(f){this.Ye=f.appendBuffer(this.response,m.oy(this));return {ea:this.Ye};};d.prototype.Vi=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.Zc=function(){};d.prototype.Lea=function(){return !1;};return d;})(a(179).sG);b.REa=a;r.Re(k.jl,a);},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.sRa=void 0;c=a(0);r=a(11);m=a(39);k=c.__importDefault(a(4));l=a(14);d=a(264);f=a(7);h=a(2);g=a(1109);n=a(229);p=new k.default.Console("ASEJS","media|asejs");p.trace.bind(p);r=(function(q){var h31;h31=2;for(;h31 !== 17;){switch(h31){case 20:var I0z="s";I0z+="0";t.prototype.m$=function(v,u){var v3z=a000;var C31;C31=2;for(;C31 !== 1;){switch(C31){case 4:v3z.b3j(18);return v3z.t3j(u,v,"");break;C31=1;break;case 2:v3z.V3j(10);return v3z.W3j("-",v,u);break;}}};t.bLb=I0z;return t;break;case 4:Object.defineProperties(t.prototype,{mi:{get:function(){var l31;l31=2;for(;l31 !== 1;){switch(l31){case 4:return this.Ha.mi;break;l31=1;break;case 2:return this.Ha.mi;break;}}},enumerable:!1,configurable:!0}});t.prototype.ta=function(v,u,w,x,y,z,A,B){var m31;m31=2;for(;m31 !== 5;){switch(m31){case 2:this.Ha.rBa({audio:v,video:u,Jna:A,QDa:B},{U:x,ca:y});this.Ha.open(this.config,this.fG);m31=5;break;}}};t.prototype.u0=function(v,u,w){var n31;n31=2;for(;n31 !== 1;){switch(n31){case 2:this.Ha.rBa({total:v},{U:u,ca:w});n31=1;break;}}};t.prototype.createSession=function(v,u,w,x,y,z,A,B,C,D){var o31,F,G;o31=2;for(;o31 !== 19;){switch(o31){case 2:var B0z="c";B0z+="r";B0z+="eati";B0z+="ng";B0z+=" session";this.console.trace(B0z);this.Ha.Vb.reset();F=Number(v.movieId);C=this.m$(F,y.da);this.uC[C]={F7:function(){},da:y.da,equals:function(E){var p31;p31=2;for(;p31 !== 1;){switch(p31){case 2:return E.L === F && (y.da === E.da || !E.da || !y.da);break;}}},Er:!1,up:Promise.resolve({ja:v,Ri:! !x.Ri,df:! !x.df,Dd:l.sba(! !x.KV,! !x.mG),config:B}),L:F};B.eB && this.Ha.TF(this.uC[C],{fp:y.fp,da:y.da,wE:y.wE});D=this.RJb(F,v,B.Sdb,B,y,D || t.bLb,x);o31=7;break;case 7:G=D[0];C=G.Z.M[G.Z.Cd].qa;G=[this.cY(F,G.Z,w,C)];o31=13;break;case 13:var f0z="endPts ";f0z+="is not suppor";f0z+="ted";D[1] && G.push(this.cY(F,D[1].Z,w,C));h.assert(void 0 === x.Ma,f0z);this.Kaa=new g.tRa(this.console,this,v,D,u,G,x,y,z,A,B);B.Ps || B.XJ || this.eE();return this.Kaa;break;}}};h31=7;break;case 7:t.prototype.cY=function(v,u,w,x){var q31;q31=2;for(;q31 !== 1;){switch(q31){case 2:var v0z="invalid start posit";v0z+="ion rela";v0z+="tive to playgraph";return u.M[u.Cd].qa === x?(v=n.yI(u,v,f.K.Ga(w)),h.assert(v,v0z),v):{V:u.Cd,offset:f.K.Ia};break;}}};t.prototype.cz=function(v,u,w){var r31;r31=2;for(;r31 !== 1;){switch(r31){case 2:return c.__awaiter(this,void 0,void 0,function(){var s31,x,y,z,A;s31=2;for(;s31 !== 5;){switch(s31){case 2:return c.__generator(this,function(B){var t31,u31;t31=2;for(;t31 !== 3;){switch(t31){case 9:t31=u31 === 1?5:8;break;case 1:var l0z="Can not upda";l0z+="te viewable. Vi";l0z+="ewable not found ";return (x=this.gm.bind(this,w.da),y=this.m$(v,w.da),z=x(v),h.assert(void 0 !== z,l0z + y),[4,z.up]);break;case 5:return (A=B.ob(),this.uC[y]={F7:function(){},da:w.da,equals:function(C){var v31;v31=2;for(;v31 !== 1;){switch(v31){case 2:return C.L === v && (w.da === C.da || !C.da || !w.da);break;}}},Er:!1,up:Promise.resolve({ja:u,Ri:A.Ri,df:A.df,Dd:A.Dd,config:A.config}),L:v},[4,this.Ha.cz(this.uC[y])]);break;case 2:u31=B.label;t31=u31 === 0?1:9;break;case 8:t31=u31 === 2?4:3;break;case 4:return (B.ob(),[2]);break;}}});break;}}});break;}}};t.prototype.RJb=function(v,u,w,x,y,z,A){var w31,E,B,C,D,F,G;w31=2;for(;w31 !== 7;){switch(w31){case 4:w31=C && C.L3b?3:8;break;case 3:E=C.L3b;w31=9;break;case 2:var z0z="vi";z0z+="d";z0z+="e";z0z+="o";var g0z="a";g0z+="u";g0z+="d";g0z+="io";var T0z="a";T0z+="u";T0z+="d";T0z+="io";var A0z="v";A0z+="ide";A0z+="o";var k0z="Gene";k0z+="rated playgraph";k0z+=" from choicemap.";(B=this,C=u.choiceMap);C?(v=m.LA(C,{config:x}),this.console.trace(k0z)):v=m.WF(v,z,A.KV || A.mG?A.mG?[A0z]:[T0z]:[g0z,z0z]);(D=Object.create(x,{dB:{value:y.wE},JPb:{value:y.IN}}),F=this.gm.bind(this,y.da),G=[this.Ha.ZH(v,w,D,{gm:F})]);w31=4;break;case 8:return G;break;case 9:Object.keys(E).forEach(function(H,L){var x31;x31=2;for(;x31 !== 9;){switch(x31){case 2:var Y0z="Currently on";Y0z+="ly one parallel g";Y0z+="raph is sup";Y0z+="ported";a000.b3j(19);h.assert(a000.t3j(L,0),Y0z);L=E[H];x31=5;break;case 5:var u3z="Currently p";u3z+="arallel graph can only be media type [a";u3z+="udio]";var e0z="a";e0z+="u";e0z+="d";e0z+="i";e0z+="o";h.assert(L.Dd && 1 === L.Dd.length && e0z === L.Dd[0],u3z);H=m.LA(C,c.__assign(c.__assign({},E[H]),{config:x}));G.push(B.Ha.ZH(H,w,D,{gm:F}));x31=9;break;}}});w31=8;break;}}};h31=13;break;case 13:t.prototype.vGb=function(){var y31;y31=2;for(;y31 !== 1;){switch(y31){case 2:this.Vb.AR(null);y31=1;break;}}};t.prototype.gm=function(v,u){var z31;z31=2;for(;z31 !== 1;){switch(z31){case 2:return this.uC[this.m$(u,v)];break;}}};t.prototype.R7b=function(v){var A31,u,w;A31=2;for(;A31 !== 13;){switch(A31){case 8:v.gk && this.Ha.dR(v.gk);v === this.Kaa && delete this.Kaa;this.Ha.Yza(this.uC[u]);A31=14;break;case 2:this.vGb();(u=this.m$(v.L,v.da),w=this.uC[u]);w && (w.Er=!0);this.Ha.vw(v.na);v.Fa && this.Ha.dR(v.Fa);v.eh && this.Ha.vw(v.eh);A31=8;break;case 14:delete this.uC[u];A31=13;break;}}};t.prototype.lb=function(){var B31;B31=2;for(;B31 !== 9;){switch(B31){case 2:var r3z="Attempt to destruct ";r3z+="ShimManager with latest s";r3z+="e";r3z+="ssion still defined";var n3z="At";n3z+="tempte";n3z+="d to destruc";n3z+="t ShimManager with session config active";var y3z="Attemp";y3z+="ted to destruct ShimMan";y3z+="ager w";y3z+="ith players present";y3z+=" in ASE";var c3z="Attempted to destruct Sh";c3z+="imMana";c3z+="ger with playgraphs present in ASE";h.assert(0 === this.Ha.HF.length,c3z);h.assert(0 === this.Ha.Rdb.length,y3z);h.assert(0 === Object.keys(this.uC).length,n3z);h.assert(void 0 === this.Kaa,r3z);this.Ha.close();B31=9;break;}}};h31=20;break;case 2:c.__extends(t,q);Object.defineProperties(t.prototype,{Vb:{get:function(){var j31;j31=2;for(;j31 !== 1;){switch(j31){case 2:return this.Ha.Vb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yo:{get:function(){var k31;k31=2;for(;k31 !== 1;){switch(k31){case 2:return this.Ha.Yo;break;case 4:return this.Ha.Yo;break;k31=1;break;}}},enumerable:!1,configurable:!0}});h31=4;break;}}function t(v,u,w,x){var i31,y;i31=2;for(;i31 !== 11;){switch(i31){case 2:y=q.call(this) || this;y.config=v;y.eE=u;i31=4;break;case 4:y.mr=w;y.fG=x;y.uC={};v=a(429);i31=7;break;case 7:var t3z="1SIYbZrNJ";t3z+="C";t3z+="p9";var h3z="DEBU";h3z+="G";h3z+=":";var a3z="nf-a";a3z+="se s";a3z+="hi";a3z+="m versio";a3z+="n:";y.console=p;y.console.trace(a3z,v,h3z,!1);y.Ha=d.gJ();t3z;i31=12;break;case 12:return y;break;}}}})(r.EventEmitter);b.sRa=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S;Object.defineProperties(b,{__esModule:{value:!0}});b.DEa=void 0;c=a(0);m=a(11);k=a(373);l=a(1019);d=a(248);f=a(1020);h=a(232);g=a(14);a(223);n=a(1021);p=a(425);q=a(21);t=a(2);v=a(155);u=a(1022);w=a(1023);x=a(1024);y=a(63);z=a(185);A=a(1025);B=a(62);C=a(265);D=a(7);F=c.__importDefault(a(4));G=a(1026);E=a(1027);H=a(1028);L=a(1029);K=a(53);I=a(1030);R=a(432);O=a(1041);J=a(1042);M=a(1043);P=a(1098);S=a(1108);r=(function(){function T(U){this.G=U;this.events=new m.EventEmitter();this.Pc=k.vp.CLOSED;this.rA=[];this.y0=[];this.RU=[];this.$q=[];this.ETa={};this.k6={};this.vCa=k.ES.default;this.EAb=new y.Eu({Hn:this,source:"engine",Xo:10,console:U});}Object.defineProperties(T.prototype,{ow:{get:function(){t.assert(this.hA);return this.hA;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{state:{get:function(){return this.Pc;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{Rdb:{get:function(){return this.RU;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{HF:{get:function(){return this.$q.map(function(U){return U.Z;});},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{S4b:{get:function(){return this.$q;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{Vb:{get:function(){this.kL();return this.PA.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{Yo:{get:function(){this.kL();return this.PA.Yo;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{mi:{get:function(){this.kL();return this.PA.mi;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{lfc:{get:function(){return this.rA.length;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{ZV:{get:function(){return this.ETa;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{WYa:{get:function(){return this.Ep;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{YF:{get:function(){return this.k6;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{a0b:{get:function(){return this.lVa || (this.lVa=this.XEb());},enumerable:!1,configurable:!0}});T.prototype.open=function(U,W,fa,sa){var wa;wa=this;if(this.Pc === k.vp.OPEN)return !1;this.J=U;this.ps=new B.XT(new C.z4({Zj:!0,currentTime:function(){return D.K.Ga(F.default.time.ga());},speed:1}),this.G,"Engine Scheduler");this.CUa=new f.YIa(this.G,U);this.JD=new n.LQa(this.xaa.bind(this),U);U.nfa && (this.Ep=new l.QFa(this.G,function(){return wa.ZV;}));this.PA=h.FL.X9(U,this.G,W);this.Pc=k.vp.OPEN;U=Object.create(U,{wCb:{value:U.XJ || U.Ps}});this.hA=R.WX(U);fa && this.hA.Khb(fa);sa && this.hA.xBa(sa);this.Vdb=new O.UPa({Jk:function(){wa.Pc !== k.vp.CLOSED && wa.JD.Jk("playgraphOpportunity");}});this.mVa=new H.HMa(function(){return wa.V9();},function(){return wa.W9().global;},this.G);this.WJb();return !0;};T.prototype.ZH=function(U,W,fa,sa,wa){var Ba,Ga,N;Ba=this;void 0 === wa && (wa=!0);this.kL();fa=Object.create(fa,{ER:{value:this.YF}});if(wa){Ga=this.ow.lGb(U,fa);if(Ga)return (Ga.hlb(W),U=this.Xt.bind(this,sa,Ga),Ga.B$b(U),Ga);}Ga=new I.NQa(function(Q){return Ba.Xt(sa,N,Q);});N=M.X7(this.J,[U,W,fa,T.i1b++,this.Vb,Ga,function(Q){return Ba.JD.Jk(Q);},wa?this.ow.kGb.bind(this.ow):function(){},this.V9.bind(this),this.Ep],this.G);N.gg(new w.IRa(N));N.gg(new x.bSa(N.vi));N.w$a.gg(new L.cFa(N));this.kA.vK.forEach(function(Q){return N.gg(Q);});this.Vdb.ZH(N);U=new m.Gf();U.on(N.events,"requestsPruned",this.t8b.bind(this));U.on(N.events,"weightUpdated",this.iya.bind(this));U.on(N.events,"underflow",this.ek.bind(this,N));this.$q.push({Z:N,xh:U,O_:0});this.iya();return N;};T.prototype.ek=function(U){U=this.mVa.ZPb(U);(null === U || void 0 === U?0:U.t8) || this.ow.reset();};T.prototype.vw=function(U){this.Vdb.vw(U);this.$q=this.$q.filter(function(W){return W.Z === U?(W.xh.clear(),!1):!0;});U.lb();this.iya();};T.prototype.kXa=function(U,W){var fa,sa,wa;this.kL();wa=W.Dd;U=P.jO(this.J,[U,void 0 === wa?[0,1]:wa,c.__assign({ER:null !== (sa=null !== (fa=W.ER) && void 0 !== fa?fa:this.k6) && void 0 !== sa?sa:{}},W)]);this.RU.push(U);return U;};T.prototype.dR=function(U){this.kL();this.RU=this.RU.filter(function(W){return W !== U;});U.lb();};T.prototype.rBa=function(U,W){this.ETa=U;this.k6=W;this.lVa=void 0;};T.prototype.TF=function(U,W){var fa,sa;sa=null === (fa=q.Vc(this.rA,function(wa){return wa.nW.equals(U);})) || void 0 === fa?void 0:fa.P;sa?sa.TF(c.__assign(c.__assign({},W),{Zo:this.Jxa.bind(this)})):this.y0.push({Xlb:U,NBa:W});};T.prototype.Yza=function(U){this.y0=this.y0.filter(function(W){return !W.Xlb.equals(U);});};T.prototype.close=function(){this.Pc !== k.vp.CLOSED && (this.G7b(),t.assert(0 === this.rA.length,"Unexpected viewable lease after Playgraph destruction."),this.F7b(),this.y0=[],delete this.PA,this.Pc=k.vp.CLOSED,this.ps.lb());};T.prototype.H$b=function(U){this.vCa=U;this.JD.Jk("streamingModeChanged");};T.prototype.Sk=function(){return this.kA.Sk();};T.prototype.WJb=function(){this.kA=new K.Aja(this.J);this.kA.gg(new G.sIa(this));this.kA.gg(new A.OQa(this.Vb,this.JD));this.kA.gg(new u.pIa(this.Vb));this.kA.gg(new z.ix(this.EAb));this.kA.gg(new z.ix(this.JD.Mr));this.kA.gg(new z.ix(this.CUa.Zh));this.kA.gg(new z.ix(this.mVa.Zh));};T.prototype.Jxa=function(){};T.prototype.cz=function(U){return c.__awaiter(this,void 0,void 0,function(){var W,fa,sa,wa;return c.__generator(this,function(Ba){switch(Ba.label){case 0:return (t.assert(U,"ase.updateViewable(): Viewable config not found."),W=q.Vc(this.rA,function(Ga){return !0 !== Ga.nW.Er && Ga.nW.equals(U);}),t.assert(W,"ase.updateViewable(): Viewable entry not found."),[4,W.pG]);case 1:return (fa=Ba.ob(),wa=(sa=fa).cz,[4,U.up]);case 2:return (wa.apply(sa,[Ba.ob()]),[2]);}});});};T.prototype.Xt=function(U,W,fa){var sa,wa,Ba,Ga;sa=this;wa=fa.L;Ba=U.gm(wa,fa.W_);t.assert(Ba,"ase.requestViewable(): Viewable config not found.");Ga=q.Vc(this.rA,function(N){return !0 !== N.nW.Er && N.nW.equals(Ba);});Ga || (Ga={nW:Ba,pG:(function(){return c.__awaiter(sa,void 0,void 0,function(){var N,Q;return c.__generator(this,function(V){switch(V.label){case 0:return [4,Ba.up];case 1:return (N=V.ob(),Q=this.Px(wa,Ba,N),Ga.P=Q,[2,Q]);}});});})(),P:void 0,KYb:new v.Sha(function(N){N() && sa.bAa(Ga);},D.oi(F.default,this.G,"" + wa))},this.rA.push(Ga));U=new S.cTa(Ga,this.G,W,fa);U.events.once("error",this.bAa.bind(this,Ga,!1));return U;};T.prototype.bAa=function(U,W){var fa,sa;void 0 === W && (W=!0);t.assert(U,"expected viewableEntry to exist");fa=U.P;sa=U.pG;W && (fa?fa.lb():sa.then(function(wa){wa.lb();}));this.rA=this.rA.filter(function(wa){return wa !== U;});};T.prototype.Px=function(U,W,fa){var wa,Ba,Ga,N,Q,V;function sa(ba){wa.events.emit("logdata",ba);}wa=this;this.kL();Ba=fa.ja;Ga=fa.Ri;N=fa.df;Q=fa.Dd;Q=void 0 === Q?g.Tf:Q;fa=fa.config;V=[new p.qia(0),new p.qia(1)];Ba={ja:Ba,config:fa,Ri:Ga,Dd:Q,x9:void 0,Vb:this.PA.Vb,mi:this.PA.mi,P2a:{st:function(){return wa.JD.Jk("networkFailureReset");},Pf:this.Pf.bind(this,U),Vo:this.Vo.bind(this,U),$o:sa},t7a:{$o:sa,bY:void 0,LE:function(ba){return V[ba];},haa:function(){return !0;},Xf:void 0,xm:void 0,Oh:void 0,WE:void 0},lR:{Xu:this.Xu.bind(this),nC:this.nC.bind(this)},YF:this.k6,Rb:0,xq:void 0,Hab:{ava:! !N,d9a:!1},LZ:function(){}};U=new d.kga(U,Ba);fa.eB && (Ba=q.Vc(this.y0,function(ba){return ba.Xlb.equals(W);})) && (Ba=Ba.NBa,this.Yza(W),U.TF(c.__assign(c.__assign({},Ba),{Zo:this.Jxa.bind(this)})));return U;};T.prototype.xaa=function(){var U,W;t.assert(this.state === k.vp.OPEN);U=this.W9();W=this.qP();return this.CUa.Fcb(U,W);};T.prototype.qP=function(){var U,W,fa;U=this;fa=null !== (W=this.J.r5b) && void 0 !== W?W:this.$q.every(function(sa){return !sa.Z.lq;});W=q.flatten(this.$q.map(function(sa){return sa.Z.qP().map(function(wa){sa.Z.lq || 1 === sa.O_ || (wa.lJ=sa.O_);return wa;});}));this.vCa === k.ES.disabled?W=[]:this.vCa === k.ES.KZb && (W=W.filter(function(sa){return U.J.Mwa >= sa.hu - sa.ft;}));fa || (fa=W.filter(function(sa){var wa;return 1 === (null !== (wa=sa.lJ) && void 0 !== wa?wa:1);}),fa.length && (W=fa));fa=this.rA.reduce(function(sa,wa){return wa.P?c.__spread(sa,wa.P.qP()):sa;},[]);return q.flatten(c.__spread(W,fa));};T.prototype.kL=function(){if(this.Pc === k.vp.CLOSED)throw Error("Engine CLOSED");};T.prototype.G7b=function(){var U,sa;try{for(var W=c.__values(this.$q),fa=W.next();!fa.done;fa=W.next()){sa=fa.value;sa.xh.clear();this.vw(sa.Z);}}catch(Ba){var wa;wa={error:Ba};}finally{try{fa && !fa.done && (U=W.return) && U.call(W);}finally{if(wa)throw wa.error;}}};T.prototype.F7b=function(){var U;try{for(var W=c.__values(this.RU),fa=W.next();!fa.done;fa=W.next()){this.dR(fa.value);}}catch(wa){var sa;sa={error:wa};}finally{try{fa && !fa.done && (U=W.return) && U.call(W);}finally{if(sa)throw sa.error;}}};T.prototype.Pf=function(U,W,fa,sa,wa,Ba,Ga){var N;void 0 === Ga && (Ga=!1);N=!1;this.f6a(U).forEach(function(Q){if(!Ga || g.oq(Q.yf.value))N=Q.Pf(W,U,fa,sa,wa,Ba,Ga);});return N;};T.prototype.Vo=function(U){return this.f6a(U).some(function(W){return W.Vo();});};T.prototype.f6a=function(U){return this.$q.filter(function(W){var fa;for(W=W.Z;W.zc;){W=W.zc;}fa=W.Z;return Object.keys(fa.M).some(function(sa){return fa.M[sa].L === U;});}).map(function(W){return W.Z;});};T.prototype.W9=function(){var U;U=new E.WIa();this.$q.forEach(function(W){var fa,sa;fa=W.Z;W=W.O_;sa=fa.W9();sa.lJ=W;U.add(fa.id,sa);});return U;};T.prototype.V9=function(){return this.a0b;};T.prototype.XEb=function(){var U,W;W=J.sZa(this.J,this.ZV);return {total:(U={},U[1]=this.ZV.video || Infinity,U[0]=this.ZV.audio || Infinity,U.total=this.ZV.total || Infinity,U),kCa:W};};T.prototype.Xu=function(U){var W;this.JD.Xu(U);null === (W=this.Ep) || void 0 === W?void 0:W.Xu(U);};T.prototype.nC=function(U){this.JD.nC(U);};T.prototype.iya=function(){var U;U=this.HF.reduce(function(W,fa){return Math.max(fa.weight,0) + W;},0);this.$q.forEach(function(W){W.O_=0 >= W.Z.weight?0:W.Z.weight / U;});};T.prototype.t8b=function(U){var W;W=this;this.Ep && U.requests.forEach(function(fa){return W.Ep.nC(fa);});};T.i1b=0;c.__decorate([y.jb({methodName:"open"})],T.prototype,"open",null);c.__decorate([y.jb({methodName:"addPlaygraph",context:function(U){var W,fa;return {playgraphCount:null !== (fa=null === (W=U.tcb.$q) || void 0 === W?void 0:W.length) && void 0 !== fa?fa:0};}})],T.prototype,"ZH",null);c.__decorate([y.jb({methodName:"removePlaygraph",context:function(U){return {playgraphCount:U.tcb.$q.length};}})],T.prototype,"vw",null);c.__decorate([y.jb({methodName:"close"})],T.prototype,"close",null);c.__decorate([y.jb({methodName:"setStreamingMode",so:!0})],T.prototype,"H$b",null);c.__decorate([y.jb({methodName:"notifyAseException",so:!0})],T.prototype,"Jxa",null);c.__decorate([y.jb({methodName:"updateViewable"})],T.prototype,"cz",null);c.__decorate([y.jb({methodName:"requestViewable"})],T.prototype,"Xt",null);c.__decorate([y.jb({methodName:"removeViewable"})],T.prototype,"bAa",null);c.__decorate([y.jb({methodName:"createViewable"})],T.prototype,"Px",null);c.__decorate([y.jb({methodName:"issueRequestOpportunity",wl:!0,return:!0})],T.prototype,"xaa",null);c.__decorate([y.jb({methodName:"reportStreamingFailure",so:!0})],T.prototype,"Pf",null);return T;})();b.DEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.QFa=void 0;c=a(2);r=(function(){function m(k,l){this.G=k;this.Swb=l;this.Cx=this.kx=this.gr=0;}m.prototype.Xu=function(k){var l;if(!k.Ec){l=k.ca;c.assert(0 < l);this.gr+=l;0 === k.mediaType?this.kx+=l:this.Cx+=l;c.assert(this.gr === this.kx + this.Cx);c.assert(0 < this.gr);c.assert(0 <= this.kx);c.assert(0 <= this.Cx);}};m.prototype.nC=function(k){var l;if(!k.Ec){l=k.ca;c.assert(0 < l);this.gr-=l;0 === k.mediaType?this.kx-=l:this.Cx-=l;c.assert(this.gr === this.kx + this.Cx);c.assert(0 <= this.gr);c.assert(0 <= this.kx);c.assert(0 <= this.Cx);}};m.prototype.SFb=function(k,l){var d;c.assert(this.gr === this.kx + this.Cx);d=this.Swb();if(void 0 !== d.total && this.gr + l > d.total)return !1;d=0 === k?d.audio:d.video;k=0 === k?this.kx:this.Cx;return void 0 !== d && k + l > d?!1:!0;};return m;})();b.QFa=r;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce(l.bbb(function(q){return q.bC;}),p).bC;}Object.defineProperties(b,{__esModule:{value:!0}});b.YIa=void 0;m=a(0);k=a(223);l=a(21);d=a(14);f=a(63);h=m.__importDefault(a(4));g=a(430);r=(function(){function n(p,q){this.G=p;this.config=q;this.V9a=0;this.Zh=new f.Eu({Xo:10,Hn:this,source:"GraphStreamingProcess"});}n.prototype.Fcb=function(p,q){var t,v,u,w,x,y,z,A,D,F,G,E,H;u=!1;w=[];if(0 < q.length){x=this.Hac(q);y=x.some(function(K){return 1 === g.uZa(K) && d.oq(K.yf);});z=x.slice();A=[!1,!1];try{for(var B=m.__values(x),C=B.next();!C.done;C=B.next()){D=C.value;if(D.fF && "global" !== A[D.mediaType]){F=D.o9a(p,null !== (v=D.lJ) && void 0 !== v?v:1);G=k.efb(F.reason);G && (A[D.mediaType]=G,l.aYa(z,D));if(F.result){E=c(z,D);if(this.$Fb(D,y,E)){H=D.s9a();this.kwa(w,D,H.reason);H.sj && (this.V9a=h.default.time.ga());if(u=H.sj)break;if("globalVideoMemoryLimit" === H.reason || "globalAudioMemoryLimit" === H.reason){this.G.trace("GSP.onRequestOpportunity stopping at memory limit:",H.reason);break;}}else if((this.kwa(w,D,"concurrencyCheck"),!G))break;}else this.kwa(w,D,F.reason);}}}catch(K){var L;L={error:K};}finally{try{C && !C.done && (t=B.return) && t.call(B);}finally{if(L)throw L.error;}}}this.Zh.Wu({streamableCount:q.length,streamableReasons:w,lastSuccessfulIssueRequestMs:this.V9a});return u;};n.prototype.Hac=function(p){return this.R5b(p).sort(function(q,t){return q.priority - t.priority;}).map(function(q){return q.obc;});};n.prototype.R5b=function(p){var q;q=this;return p.map(function(t){return {priority:-g.tZa(q.config,t,q.G),obc:t};});};n.prototype.kwa=function(p,q,t){this.Zh.enabled && p.push(this.PTb(t,q));};n.prototype.PTb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.yf,currentPlayerMs:q.ft,pathCompletePlayerMs:q.bC,streamingPlayerMs:q.hu};};n.prototype.$Fb=function(p,q,t){return this.config.aW && (q || d.oq(p.yf))?this.aGb(p,t):this.bGb(p,t);};n.prototype.cGb=function(p){return p.hu <= p.bC;};n.prototype.bGb=function(p,q){return p.hu - (p.ft > q?p.ft:q) <= Math.max(this.config.mxa,Math.min((p.bC - p.ft) * this.config.tCa,this.config.G_b));};n.prototype.aGb=function(p,q){var t,v;if(void 0 === this.config.aW)return !0;t=this.config.aW;v=p.ft + t;return p.hu <= v?!0:this.cGb(p) && q >= v && p.hu - q < t;};m.__decorate([f.jb({methodName:"onRequestOpportunity",wl:!0})],n.prototype,"Fcb",null);return n;})();b.YIa=r;},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.LQa=void 0;c=a(0);m=a(2);k=c.__importDefault(a(4));l=a(63);d=a(7);r=(function(){function f(h,g){var E31,n;E31=2;for(;E31 !== 14;){switch(E31){case 9:var b3z="Req";b3z+="ue";b3z+="s";b3z+="tPace";b3z+="r";var W3z="1SI";W3z+="Y";W3z+="bZrN";W3z+="JC";W3z+="p9";this.RAa=!1;W3z;this.Mr=new l.Eu({Hn:this,source:b3z,jna:function(){var F31;F31=2;for(;F31 !== 1;){switch(F31){case 2:return {numOutstanding:n.FH};break;case 4:return {numOutstanding:n.FH};break;F31=1;break;}}},Xo:10});this.Wfb=new d.cH();E31=14;break;case 2:var P3z="medi";P3z+="a|a";P3z+="se";P3z+="js";var V3z="ASEJ";V3z+="S_";V3z+="REQUEST_PACER";n=this;this.xaa=h;this.config=g;this.FH=0;this.console=new k.default.Console(V3z,P3z);E31=9;break;}}}var D31;D31=2;for(;D31 !== 13;){switch(D31){case 2:Object.defineProperties(f.prototype,{N1b:{get:function(){var G31;G31=2;for(;G31 !== 1;){switch(G31){case 4:return this.FH;break;G31=1;break;case 2:return this.FH;break;}}},enumerable:!1,configurable:!0}});f.prototype.Jk=function(){var H31,h,g;H31=2;for(;H31 !== 9;){switch(H31){case 6:H31=-this.RAa?0:7;break;H31=!this.RAa?5:9;break;case 1:H31=!this.RAa?5:9;break;case 2:h=this;H31=1;break;case 5:this.RAa=!0;g=k.default.time.ga();return Promise.resolve().then(function(){var I31;I31=2;for(;I31 !== 5;){switch(I31){case 2:h.RAa=!1;h.NZa(g);I31=5;break;}}});break;}}};f.prototype.Xu=function(h){var J31;J31=2;for(;J31 !== 4;){switch(J31){case 2:var M3z="M";M3z+="ore than maxA";M3z+="llow";M3z+="edOutsta";M3z+="ndingRequests are outstanding";this.Mr.Wu({mediaType:h.mediaType,contentStartPts:h.$c,contentEndPts:h.Jc});this.FH++;m.assert(this.FH <= this.config.$aa,M3z);J31=4;break;}}};D31=4;break;case 4:var q3z="J";q3z+="k";var H3z="c";H3z+="heckRequestOp";H3z+="portunity";f.prototype.nC=function(h){var K31;K31=2;for(;K31 !== 3;){switch(K31){case 2:var G3z="r";G3z+="emove";G3z+="Reque";G3z+="st";var m3z="Rec";m3z+="eived remove request when th";m3z+="ere are no reque";m3z+="st";m3z+="s outstanding";this.Mr.Wu({mediaType:h.mediaType,contentStartPts:h.$c,contentEndPts:h.Jc});this.FH--;m.assert(0 <= this.FH,m3z);this.Jk(G3z);K31=3;break;}}};f.prototype.NZa=function(h){var L31,g,n,p;L31=2;for(;L31 !== 9;){switch(L31){case 5:L31=this.FH < g && this.xaa()?4:3;break;case 1:this.Wfb.push(n);L31=5;break;case 2:(g=this.config.$aa,n=k.default.time.ga() - h,p=0);L31=1;break;case 4:p++;L31=5;break;case 3:var s3z="r";s3z+="equestOpportunityRunn";s3z+="erComplete";this.Mr.AV(s3z,{requestsIssued:p,scheduledMs:h,timeSinceScheduled:n},!0);L31=9;break;}}};c.__decorate([l.jb({methodName:H3z,wl:!0,so:!0})],f.prototype,q3z,null);D31=8;break;case 8:var X3z="N";X3z+="Z";X3z+="a";var d3z="checkReque";d3z+="s";d3z+="tOp";d3z+="portunityRunner";var p3z="n";p3z+="C";var N3z="remo";N3z+="veRe";N3z+="qu";N3z+="e";N3z+="st";var C3z="X";C3z+="u";var j3z="ad";j3z+="dReques";j3z+="t";c.__decorate([l.jb({methodName:j3z,wl:!0})],f.prototype,C3z,null);c.__decorate([l.jb({methodName:N3z,wl:!0})],f.prototype,p3z,null);c.__decorate([l.jb({methodName:d3z,wl:!0})],f.prototype,X3z,null);D31=14;break;case 14:return f;break;}}})();b.LQa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pIa=void 0;c=a(53);r=(function(){function m(k){this.Vb=k;}Object.defineProperties(m.prototype,{ke:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});m.prototype.Sk=function(k){var l;if(k.Yi === c.he.aq && this.Vb){k={};l=this.Vb.get();l && l.avtp && l.avtp.pa && (k.avtp=l.avtp.pa,k.dltm=l.avtp.y8);l && l.initialThroughput && l.initialThroughput.pa && (k.initial_avtp=l.initialThroughput.pa);l && l.cdnavtp && (k.cdnavtp=l.cdnavtp,k.activecdnavtp=l.activecdnavtp);if(l=this.Vb.Z9())(l.bytesRequestedPacingVideo && (k.bytesRequestedPacingVideo=l.bytesRequestedPacingVideo,k.estimatedBytesPacedVideo=l.estimatedBytesPacedVideo,k.bytestotalVideo=l.bytestotalVideo,k.pacedAvtpVideo=l.pacedAvtpVideo),l.bytesRequestedPacingAudio && (k.bytesRequestedPacingAudio=l.bytesRequestedPacingAudio,k.estimatedBytesPacedAudio=l.estimatedBytesPacedAudio,k.bytestotalAudio=l.bytestotalAudio,k.pacedAvtpAudio=l.pacedAvtpAudio),l.pacedAvtp && (k.pacedAvtp=l.pacedAvtp));this.Vb.flush();if(l=this.Vb.e5a())for(var d in l){l.hasOwnProperty(d) && (k["ne" + d]=Number(l[d]).toFixed(6));}return k;}};return m;})();b.pIa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.IRa=void 0;c=a(11);m=a(53);r=(function(){function k(l){this.UTa=!1;this.DE=new c.Gf();this.DE.addListener(l.events,"streamSelection",this.fya.bind(this));}k.prototype.fya=function(l){this.UTa || (0 === l.mediaType && void 0 === this.Lua?this.Lua=l:1 === l.mediaType && void 0 === this.Pua && (this.Pua=l));};k.prototype.lb=function(){this.Pua=this.Lua=void 0;this.DE.clear();this.UTa=!0;};Object.defineProperties(k.prototype,{ke:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Sk=function(l){var d;if(l.Yi === m.he.Bq)return (l=null !== (d=this.Pua) && void 0 !== d?d:this.Lua,d={histdiscbw:null === l || void 0 === l?void 0:l.result.Ov,histage:null === l || void 0 === l?void 0:l.result.mq},l=null === l || void 0 === l?void 0:l.streamList.map(function(f){return void 0 !== f.O8?{vmaf:f.O8,streamIndex:f.vg,streamId:f.Pa}:void 0;}).filter(function(f){return void 0 !== f;}),0 < (null === l || void 0 === l?void 0:l.length) && (d.vmafEstimates=l),this.lb(),d);this.lb();};return k;})();b.IRa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bSa=void 0;r=a(0);c=a(11);m=a(9);k=r.__importDefault(a(4));a=(function(){function l(d){this.Xd=d;this.W4=[];this.reset();}Object.defineProperties(l.prototype,{ke:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fw:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return m.R;},enumerable:!1,configurable:!0}});l.prototype.reset=function(){var d,f;d=this;null === (f=this.OM) || void 0 === f?void 0:f.clear();this.OM=new c.Gf();this.OM.on(this.Xd,"clockChanged",function(){d.reset();d.wX("initial");});this.OM.on(this.Xd,"stopping",function(){d.wX("stopping");});this.OM.on(this.Xd.za,"clockAdjusted",function(){d.wX("clockAdjusted");});this.OM.on(this.Xd.za,"stopStart",function(){d.wX("stopStart");});this.OM.on(this.Xd.za,"speedChanged",function(){d.wX("speedChanged");});};l.prototype.wX=function(d){this.W4.push({reason:d,audit:this.Xd.KQb(),time:k.default.time.ga()});5 < this.W4.length && this.W4.shift();};l.prototype.Sk=function(){return this.W4;};return l;})();b.bSa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OQa=void 0;c=a(53);r=(function(){function m(k,l){this.Vb=k;this.Xfb=l;}Object.defineProperties(m.prototype,{ke:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});m.prototype.Sk=function(k){var l;k=k.Yi;if(k === c.he.aq || k === c.he.op || void 0 === k){k={numOutstandingRequests:this.Xfb.N1b,requestOpportunityDelayStats:this.Xfb.Wfb};l=this.Vb.UWa;l && l.length && (k.activeRequests=JSON.stringify(l));return k;}};return m;})();b.OQa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sIa=void 0;r=(function(){function a(c){this.J8=c;this.fw="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{ke:{get:function(){return this.fw;},enumerable:!1,configurable:!0}});a.prototype.Sk=function(){var c;c=this.J8.S4b.map(function(m){var k;k=m.Z;return {id:k.id,weight:k.weight,relativeWeight:m.O_};});return {prefetcher:this.J8.ow.getStats(),playgraphs:c,viewables:this.J8.lfc,players:this.J8.Rdb.length};};return a;})();b.sIa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.WIa=void 0;c=a(2);m=a(431);r=(function(){function k(){this.global=new m.CT();this.HF={};}k.prototype.add=function(l,d){c.assert(void 0 === this.HF[l],"Cannot add new memory object for playgraph");this.HF[l]=d;this.global.add(d.dt);this.global.add(d.LW);};return k;})();b.WIa=r;},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.HMa=void 0;c=a(0);m=a(9);k=a(430);l=a(63);r=(function(){function d(f,h,g){this.Isa=f;this.PRb=h;this.G=g;this.Zh=new l.Eu({Hn:this,console:g,source:"MemoryDeadlockProtector",Xo:5});}d.prototype.ZPb=function(f){var h,g,n,p;n=f.config;p=n.uj + (null !== (g=null === (h=n.ER) || void 0 === h?void 0:h.U) && void 0 !== g?g:0);h=this.OUb(p,f);m.R && this.G.debug("MDP: has prebuf: " + h);return h?{t8:!0}:(g=this.aFb(n),h=g.z3b,g=g.Oec,h && g?(m.R && this.G.debug("MDP: utilizing " + Math.round(100 * g) + "%"),g >= n.Z_b?this.fgb(f,h):{t8:!0}):{t8:!1});};d.prototype.fgb=function(f,h){var g,n,p,q,t,u,y,z;this.Zh.Wu({o:h});q=f.O;f=f.Ya;t=q.Ya;q=q.Ct;for(var v=0;v < t.length;v++){if(!t[v].oj){q=t[v];t=t.slice(0,v + 1);break;}}v=!1;u=[{mediaType:0,dE:0},{mediaType:1,dE:0}];if(null === q || void 0 === q || !q.oj){f=f.map(function(B){return B;}).filter(function(B){return -1 === t.indexOf(B);}).sort(function(B,C){return k.Boa(B) - k.Boa(C);});try{for(var w=c.__values(f),x=w.next();!x.done;x=w.next()){y=x.value;z=y.lB();u[0].dE+=null !== (n=z.TD) && void 0 !== n?n:0;u[1].dE+=null !== (p=z.qu) && void 0 !== p?p:0;m.R && this.G.debug("Resetting discontiguous branch " + y.u.id,z);y.reset();if(v=u.every(function(B){return B.dE >= h[B.mediaType].dE;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (g=w.return) && g.call(w);}finally{if(A)throw A.error;}}}return {t8:v,Cnc:u};};d.prototype.aFb=function(f){var h,g,n,p;if(!f.$_b)return {};h=this.PRb();g=this.Isa().total;n=f.Y_b;p=0;f=[0,1].map(function(q){var t;t=h[q] - g[q] * n;p=Math.max(0 < g[q]?h[q] / g[q]:0,p);return {dE:Math.max(0,t),mediaType:q};});return {Oec:p,z3b:f};};d.prototype.OUb=function(f,h){var g,n;g=!1;h=h.lq?h.O:void 0;if(null === h || void 0 === h?0:h.xWb){g=h.wi.hm().map(function(p){return p.mediaType;});n=h.jRb();g=g.every(function(p){var q,t;if(0 === p)p=null !== (q=n.Ns) && void 0 !== q?q:0;else if(1 === p)p=null !== (t=n.rp) && void 0 !== t?t:0;else throw Error("Unsupported media type:" + p);return p >= f;});}return g;};c.__decorate([l.jb({methodName:"resetDiscontiguousBranches",return:!0,wl:!0})],d.prototype,"fgb",null);return d;})();b.HMa=r;},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.cFa=void 0;r=a(0);c=a(7);m=r.__importDefault(a(29));k=a(21);l=r.__importDefault(a(410));d=a(53);a=(function(){function f(h){var g,n;g=this;this.Z=h;this.tv="aseReport";this.mZa=c.K.Pv;this.Kp=!1;if(0 === Math.floor(1E6 * Math.random()) % h.config.HN || h.config.JPb){this.mZa=c.K.Ga(h.config.d7);this.Z.IN=!0;n=[];n[m.default.cb.Jb]=new l.default(h.config,m.default.cb.Jb);n[m.default.cb.dc]=new l.default(h.config,m.default.cb.dc);this.vma=n;this.Z.events.on("openComplete",function(){return g.open();});}}f.prototype.open=function(){this.Z.IN && !this.Kp && (this.Kp=!0,this.Z.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.Z.events.on("streamSelection",this.fya.bind(this)));};f.prototype.fya=function(h){this.vma[h.mediaType].add(h.result,h.streamList);};f.prototype.Bta=function(){var h;h=k.flatten(this.vma.map(function(g){return g.get();}).filter(function(g){return void 0 !== g;}));this.vma.forEach(function(g){return g.reset(!0);});return h;};f.prototype.Lf=function(h){var g;g=h.Yi;h=h.bXb;return this.Z.IN && this.Kp && (h || g === d.he.aq) && (g=this.Bta()) && g.length?{aib:!0,event:{type:"asereport",strmsel:g}}:{aib:!1,event:{type:"asereport",strmsel:[]}};};return f;})();b.cFa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NQa=void 0;c=a(186);r=(function(){function m(k){this.Z_=[];this.Z_.push(k);}m.prototype.Xt=function(k,l){return c.US.caa({L:k,W_:l},this.Z_);};m.prototype.Y7b=function(k){this.Z_.pop();this.Z_.push(k);};m.prototype.dXa=function(k){this.Z_.unshift(k);};return m;})();b.NQa=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.eQa=void 0;c=a(0);m=a(11);k=a(14);l=a(7);d=a(186);f=a(21);h=a(2);g=a(1032);n=a(9);p=a(97);q=a(1033);t=c.__importDefault(a(4));v=a(225);u=a(1034);w=a(1035);x=a(1036);y=a(187);z=a(1038);A=a(1040);r=(function(){function B(C,D,F,G,E){void 0 === G && (G=new w.lHa());void 0 === E && (E=new u.kHa());this.J2a=C;this.config=D;this.qfb=G;this.Ln=[];this.jeb=[];this.iz=[];this.Wb={y9a:0,z9a:0,v9a:0,roa:0,w9a:0,x9a:0,soa:0};this.events=new m.EventEmitter();this.G=l.oi(t.default,F,"PREFETCH");this.lXa(new x.NGa(D));this.lXa(new A.qRa(D));this.nhb({sJ:D.n5b});this.xBa(E);this.tWb();}Object.defineProperties(B.prototype,{o5b:{get:function(){return this.Ln.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});B.prototype.Khb=function(C){n.R && h.assert(C,"Reconciliation strategy is undefined");this.qfb=C;return this;};B.prototype.lXa=function(C){this.jeb.unshift(C);};B.prototype.Shb=function(C){n.R && this.G.debug("Wish list changed",{vpc:C.length});this.iz=C;this.tza();};B.prototype.reset=function(){var C,G,E,H,L,K;if(this.config.w5b)try{for(var D=c.__values(this.Ln),F=D.next();!F.done;F=D.next()){G=F.value;E=G.Z;H=G.Caa;L=G.context;if(E){E.vd();H.vda(function(R){return "segmentNormalized" !== R.tv;});K=y.rta(L.ee,E.Z);E.xw(K);}}}catch(R){var I;I={error:R};}finally{try{F && !F.done && (C=D.return) && C.call(D);}finally{if(I)throw I.error;}}else this.Shb([]);};B.prototype.nhb=function(C){n.R && this.G.debug("Budget changed",{g2b:this.YV,e1b:C});this.YV=C;this.tza();};B.prototype.lGb=function(C,D){var F,G,E,H;n.R && this.G.debug("Looking for playgraph to claim");if(C=this.qfb.v3a(this.Ln,{Z:C,zj:D}))if((D=this.iz.indexOf(C.context.ee),n.R && this.G.debug("Claiming item: " + y.Po(C.context.ee.key),{Ym:t.default.time.ga() - C.Qea,buffer:null === (F=C.Z) || void 0 === F?void 0:F.th(l.K.Ia)}),this.AO(C.context,{Cva:! !C.Z}),C.Z)){F=C.Z;E=C.Wt;H=F.Cj;z.cQa.a8b(F,H,C.Caa,this.G);E.h9b(null !== (G=F.dy(H)) && void 0 !== G?G:l.K.Ia,D);F.Pkb({sJ:this.config.Yv || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.ee,videoBytesBuffered:C.Z.$x().qu,audioBytesBuffered:C.Z.$x().TD});}this.config.wCb || this.reset();return null === C || void 0 === C?void 0:C.Z;};B.prototype.kGb=function(){};B.prototype.getStats=function(){var C;C=t.default.time.ga();return {wishListLength:this.iz.length,prefetchList:this.o5b.length,contents:this.Ln.map(function(D){var F,G,E,H,L;return {id:y.Po(D.context.ee.key),buffer:null === (F=D.Z) || void 0 === F?void 0:F.th(l.K.Ia),pId:null === (G=D.Z) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.t9a.sJ},weight:D.context.Vca,age:C - D.Qea,timeOpened:C - (null !== (E=D.Acc) && void 0 !== E?E:0),state:k.Mc[null !== (L=null === (H=D.Z) || void 0 === H?void 0:H.yf.value) && void 0 !== L?L:k.Mc.Kj]};}),aggregated:{itemsRequested:this.Wb.y9a,itemsStarted:this.Wb.z9a,itemsClaimed:this.Wb.v9a,bytesClaimed:this.Wb.roa,itemsCompleted:this.Wb.w9a,itemsDiscarded:this.Wb.x9a,bytesDiscarded:this.Wb.soa}};};B.prototype.AO=function(C,D){var F;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,E,H,L,K,I;return c.__generator(this,function(R){switch(R.label){case 0:G=c.__assign({Cva:!1,E9a:!1},D);E=G.Cva;H=G.E9a;L=f.Vc(this.Ln,function(O){return O.context === C;});if(!L)return [3,3];this.Ln.splice(this.Ln.indexOf(L),1);H || (K=this.iz.length,this.iz=this.iz.filter(function(O){return O !== C.ee;}),n.R && this.G.info("Dropping items from wishlist",K - this.iz.length),this.iz.length >= K && n.R && this.G.warn("Unable to filter out wishlist item",this.iz.map(function(O){return O.key;}),C.ee.key));n.R && this.G.debug("Dropping playgraph",{Ym:t.default.time.ga() - L.Qea,buffer:null === (F=L.Z) || void 0 === F?void 0:F.th(l.K.Ia),L:y.Po(C.ee.key),cqc:!E,pnc:!H});L.DE.clear();if(E)return [3,2];I=this.vw(L);return L.Z?[4,I]:[3,2];case 1:(R.ob(),R.label=2);case 2:(this.tza(),R.label=3);case 3:return [2];}});});};B.prototype.xBa=function(C){h.assert(C,"Playgraph resolver is undefined");this.Yya=C;return this;};B.prototype.tWb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.Wb.w9a++;});this.events.on("prefetchStarted",function(){return C.Wb.z9a++;});this.events.on("itemQueued",function(){return C.Wb.y9a++;});this.events.on("itemClaimed",function(D){var F,G;C.Wb.v9a++;C.Wb.roa+=(null !== (F=D.cfc) && void 0 !== F?F:0) + (null !== (G=D.tDb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var F,G;C.Wb.x9a++;C.Wb.soa+=(null !== (F=D.cfc) && void 0 !== F?F:0) + (null !== (G=D.tDb) && void 0 !== G?G:0);});};B.prototype.tza=function(){var C,D,F,G,E,H;C=this;D=d.US.caa({Efc:this.iz,pUb:this.YV},this.jeb.map(function(L){return L.qZa.bind(L);})).Ln;F=f.Yu(D,this.Ln,function(L,K){return y.isEqual(L.ee.key,K.context.ee.key);});G=f.Yu(this.Ln,D,function(L,K){return y.isEqual(L.context.ee.key,K.ee.key);});E=f.Yu(this.Ln,G);n.R && this.G.debug("Re-evaluated prefetch items. new:" + F.length + ", evict: " + G.length + ", update: " + F.length);G=G.map(function(L){var K;K=L.context.ee.key;n.R && C.G.debug("Releasing playgraph",y.Po(K));return C.vw(L).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.ee});});});H=E.map(function(L){return c.__awaiter(C,void 0,void 0,function(){var K,I;return c.__generator(this,function(R){switch(R.label){case 0:(K=f.Vc(D,function(O){return y.isEqual(O.ee.key,L.context.ee.key);}),h.assert(K,"Couldn't find the requested item context"),L.context=K,R.label=1);case 1:return (R.Dh.push([1,3,,4]),[4,L.Uca]);case 2:return (I=R.ob(),[3,4]);case 3:return (R.ob(),[2]);case 4:return (f.Vc(this.Ln,function(O){return O === L;}) && (this.XXa(L.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.ee})),[2]);}});});});F=F.map(function(L){var K;K=C.SJb(L);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.ee});return K;});this.Ln=c.__spread(E,F);E=F.map(function(L){return L.Uca.catch(function(){});});E=G.concat(H).concat(E);Promise.all(E);};B.prototype.vw=function(C){var D;D=this;return C.Uca.then(function(F){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(E){switch(E.label){case 0:return (n.R && this.G.debug("Removing prefetch playgraph",{size:F.th(l.K.Ia)}),C.DE.clear(),[4,this.J2a()]);case 1:return (G=E.ob(),G.vw(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.ee,videoBytesBuffered:F.$x().qu,audioBytesBuffered:F.$x().TD}),[2]);}});});},function(){});};B.prototype.X7=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,F,G,E,H,L,K;K=this;return c.__generator(this,function(I){switch(I.label){case 0:return (D=C.context,F=y.Po(D.ee.key),n.R && this.G.debug("Creating playgraph",F),[4,this.Yya.Z$a(D)]);case 1:return (G=I.ob(),[4,D.ee.ih.gm(F).up]);case 2:return (E=I.ob(),E.ja.Bo?(this.AO(D,{Cva:!0}),[2,Promise.reject("contentPlaygraph viewable:" + F + " is not supported with prefetching")]):[4,this.J2a()]);case 3:return (H=I.ob(),L=H.ZH(G,D.Vca,D.zj,D.ee.ih,!1),C.DE.addListener(L.events,"error",function(R){n.R && K.G.debug("Prefetch playgraph resulted in error",R.nnc);K.AO(D);}),[2,L]);}});});};B.prototype.g3b=function(C,D){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,H;return c.__generator(this,function(L){switch(L.label){case 0:return (F=C.context,G=y.Po(F.ee.key),E=F.ee.ih.gm(G),[4,E.up]);case 1:return (H=L.ob(),this.XXa(F,D),this.OCb(F,D,! !H.df),D.open(),D.Uy({bu:function(K,I){var R;R=K.recommendedMedia;return R?f.uo(I,function(O){return O.new_track_id === R.vo;}):f.uo(I,function(O){return O.track_id === K.defaultTrackOrderList[0].audioTrackId;});}},{bu:function(K,I){var R;R=K.recommendedMedia;return R?f.uo(I,function(O){return O.new_track_id === R.qS;}):f.uo(I,function(O){return O.track_id === K.defaultTrackOrderList[0].videoTrackId;});}}),D.xw(y.rta(F.ee,D.Z)),this.x7b(C,E),E.Er && (n.R && this.G.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.AO(C.context)),[2]);}});});};B.prototype.x7b=function(C,D){var G;function F(E){n.R && G.G.debug("Viewable " + (E?"superseded":"expired"),y.Po(C.context.ee.key));C.Poc=!0;G.AO(C.context,{E9a:!E});}G=this;D.events && (C.DE.addListener(D.events,"viewableEvicted",function(){F(!0);}),C.DE.addListener(D.events,"viewableExpired",function(){F(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.ee});};B.prototype.XXa=function(C,D){D.hlb(C.Vca);D.Pkb(C.t9a);};B.prototype.OCb=function(C,D,F){var G;G=C.jbc;C=G.audio;G=G.video;F && G.push(new v.XL(this.G,D.config));D.kea(new p.Du(C,!0),new p.Du(G,!0));};B.prototype.SJb=function(C){var D,F,G;D=this;F=new g.dQa();G={context:C,Qea:t.default.time.ga(),DE:new m.Gf(),Wt:F};G.Uca=this.X7(G).then(function(E){return c.__awaiter(D,void 0,void 0,function(){var H,L;L=this;return c.__generator(this,function(K){switch(K.label){case 0:for(H=E;H.zc;){H=H.zc;}E.gg(F);F.mDb(E);G.Caa=new q.AIa(H.events,{hac:function(I){var R;R=I.tv;switch(R){case "buffering":return !1;case "bufferingStarted":G.Caa.vda(function(O){return "bufferingComplete" === O.tv || "updateStreamingPts" === O.tv;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.Caa.vda(function(O){return O.tv === R;});default:return !0;}}});H.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.ee});});return [4,this.g3b(G,E)];case 1:return (K.ob(),G.Acc=t.default.time.ga(),G.Z=E,[2,E]);}});});});G.Uca.catch(function(E){n.R && D.G.error("Exception occurred creating playgraph",E);D.AO(G.context);});return G;};return B;})();b.eQa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.dQa=void 0;c=a(0).__importDefault(a(4));m=a(53);r=(function(){function k(){this.creationTime=c.default.time.ga();this.Xc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}k.prototype.mDb=function(l){this.Z=l;};k.prototype.h9b=function(l,d){var f;l=null === (f=this.Z) || void 0 === f?void 0:f.th(l);this.Xc={isPrefetchItem:!0,prefetchedVideoMs:l.bS,prefetchedAudioMs:l.aS,prefetchClaimDurationMs:c.default.time.ga() - this.creationTime,prefetchRank:d};};Object.defineProperties(k.prototype,{ke:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Sk=function(l){if(l.Yi === m.he.Bq)return this.Xc;};return k;})();b.dQa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.AIa=void 0;c=a(0);r=(function(){function k(l,d){void 0 === d && (d={});this.nn=l;this.options=d;this.OI=[];this.wJ=new m(l,this.IBb.bind(this));}k.prototype.IBb=function(l){for(var d,f,h,g,n,p,q=[],t=1;t < arguments.length;t++){q[t - 1]=arguments[t];}q={tv:l,so:q};(null !== (h=null === (f=(d=this.options).hac) || void 0 === f?void 0:f.call(d,q,this.OI)) && void 0 !== h?h:1) && this.OI.push(q);return null !== (p=null === (n=(g=this.options).Eqc) || void 0 === n?void 0:n.call(g,q)) && void 0 !== p?p:!0;};k.prototype.vda=function(l){this.OI=this.OI.filter(function(d,f){return !l(d,f);});};k.prototype.fAa=function(){var l;l=this;this.wJ.nDa();this.OI.forEach(function(d){var f;(f=l.nn).emit.apply(f,c.__spread([d.tv],d.so));});this.wJ.u8a();};Object.defineProperties(k.prototype,{length:{get:function(){return this.OI.length;},enumerable:!1,configurable:!0}});k.prototype.clear=function(){this.OI=[];};k.prototype.lb=function(){this.clear();this.wJ.nDa();this.options=void 0;};return k;})();b.AIa=r;m=(function(){function k(l,d){this.nn=l;this.YN=d;this.Ncb=this.nn.emit;this.BJb();this.u8a();}k.prototype.BJb=function(){var l;l=this;this.wJ=function(d){for(var f,h,g=[],n=1;n < arguments.length;n++){g[n - 1]=arguments[n];}return (null === (h=l.YN) || void 0 === h?0:h.call.apply(h,c.__spread([l,d],g)))?(f=l.Ncb).call.apply(f,c.__spread([l.nn,d],g)):!1;};};k.prototype.u8a=function(){this.wJ && (this.nn.emit=this.wJ);};k.prototype.nDa=function(){this.nn.emit=this.Ncb;};k.prototype.lb=function(){this.nDa();this.YN=this.wJ=void 0;};return k;})();},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kHa=void 0;c=a(0);m=a(39);k=a(187);r=(function(){function l(){}l.prototype.Z$a=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h,g,n,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.ee.key;if(!k.NY(f))return [3,2];h=f.L;g=d.ee.ih.gm(h);return [4,Promise.resolve(g.up)];case 1:return (n=q.ob(),p=n.ja,p.xo?[2,m.LA(p.xo,{config:n.config})]:[2,m.WF(h,"ps0")]);case 2:return [2,f.Z];}});});};return l;})();b.kHa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lHa=void 0;c=a(0);m=a(2);k=a(187);r=(function(){function l(){}l.Po=function(d){var f,h;f=d.M;d=d.Cd;h=f[d].L;Object.keys(f).forEach(function(g){return m.assert(f[g].L === h);});return f[d].L;};l.prototype.v3a=function(d,f){var h;h=Object.keys(f.Z.M).length;return c.__read(d.filter(function(g){var n,p;return l.Po(f.Z) === k.Po(g.context.ee.key) && (1 === h || h === Object.keys(null !== (p=null === (n=g.Z) || void 0 === n?void 0:n.Z.M) && void 0 !== p?p:{}).length);}),1)[0];};return l;})();b.lHa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.NGa=b.QGa=void 0;c=a(97);m=a(1037);b.QGa=625E3;r=(function(){function k(l){this.config=l;}k.prototype.qZa=function(l){var d,f,h;d=this.config.l8;f=(this.config.Kab || this.config.k8) * b.QGa / 1E3;h=Math.floor(l.pUb.sJ / f);return {Ln:l.Efc.sort(function(g,n){return g.priority - n.priority;}).slice(0,d).map(function(g,n){var p;p=g.key.config;return {t9a:{sJ:n > h - 1?0:f},ee:g,Vca:1,zj:p,jbc:{audio:[c.nE(p),new m.Sja()],video:[c.oE(p),new m.Sja()]}};})};};return k;})();b.NGa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Sja=void 0;c=a(14);r=(function(){function m(){}m.prototype.pn=function(k,l){return l === c.Mc.Lj?[]:k;};return m;})();b.Sja=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.cQa=void 0;c=a(9);m=a(1039);b.cQa=(function(){function k(){}k.a8b=function(l,d,f,h){l.events.once("seeking",function(g){var n,p;n=g.position;p=f.length;g.duplicate || (f.vda(function(q){return "segmentNormalized" !== q.tv;}),c.R && h.log("Discarding " + (p - f.length) + " events from prefetched playgraph for original seek postition " + m.q$(d) + (" due to seek to " + m.q$(n))));c.R && h.log("Replaying " + f.length + " events from prefetched playgraphfor seek postition " + m.q$(n));f.fAa();f.lb();});};return k;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.q$=void 0;b.q$=function(a){return "( " + a.V + ", " + a.offset.Zb() + " )";};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qRa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.qZa=function(c,m){var k,l;k=this;c=m(c);l=c.Ln.map(function(d){return d.ee.priority;}).sort();c.Ln.forEach(function(d){d.Vca=k.config.q5b / (2 << l.lastIndexOf(d.ee.priority));});return c;};return a;})();b.qRa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UPa=void 0;r=(function(){function a(c){this.Jk=c.Jk;this.ey=this.oWb();}a.prototype.ZH=function(c){c.events.on("requestsPruned",this.ey);};a.prototype.vw=function(c){c.events.removeListener("requestsPruned",this.ey);};a.prototype.oWb=function(){var c;c=this;return function(){return c.Jk();};};return a;})();b.UPa=r;},function(r,b){function a(c,m,k,l){return c && m?Math.min(c - m * k,c - l):(c || Infinity) - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.sZa=void 0;b.sZa=function(c,m){var k,l,d;l=a(m.audio,m.Jna,c.U_a,c.S_a);d=a(m.video,m.QDa,c.U_a,c.T_a);return (k={},k[0]=l,k[1]=d,k.total=(m.total || Infinity) - c.S_a - c.T_a,k);};},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.X7=void 0;c=a(0);m=a(9);k=a(1044);l=a(187);d=a(186);b.X7=function(f,h,g){var n,p,q,t;n=[function(v){return new (k.jga.bind.apply(k.jga,c.__spread([void 0],v.p_)))();}];p=l.Po({Z:h[0]});m.R && g.trace("Creating playgraph",{Vpc:p,xmc:f.XW,Oj:f.KI});if(f.XW){q=a(1082);n.unshift(function(v,u){return q.pW({},v,u);});}if(f.KI){t=a(1087);n.unshift(function(v,u){return t.pW({},v,u);});}return d.US.caa({p_:h,sna:[]},n);};},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga;function c(N){var Q;Q={};N.forEach(function(V){Q[V.mediaType]=V.Mo();});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.jga=void 0;m=a(0);k=a(11);l=a(39);d=a(227);f=a(14);h=a(1045);g=a(7);n=a(1046);p=a(1054);q=m.__importDefault(a(4));t=a(2);v=a(1055);u=a(21);w=a(62);x=a(97);y=a(155);z=a(53);A=a(438);B=a(265);C=a(185);D=a(1061);F=a(63);G=m.__importDefault(a(148));E=a(1062);H=a(1063);L=a(439);K=a(1064);I=a(1065);R=a(1066);O=a(1067);J=a(1070);M=a(1071);P=a(1072);S=a(1073);T=a(1074);U=a(1075);W=a(1077);fa=a(1078);sa=a(1079);wa=a(1080);Ba=a(1081);Ga=a(131).Fy.fqa;r=(function(){function N(Q,V,ba,qa,La,Oa,Ta,Qa,Wa,eb){this.lo=Q;this.PWa=V;this.config=ba;this.id=qa;this.$U=Oa;this.Jk=Ta;this.mGb=Qa;this.Ep=eb;this.Ska=!1;this.Sj=this.zc=void 0;this.dI="2.0";this.h8a=this.g6=this.no=void 0;this.Pc=d.pk.CLOSED;this.ila=!0;this.IN=!1;this.TDa=this.PV=void 0;this.RYa=new k.Gf();this.zE=0;this.Fea=!1;this.pWb();this.console=new q.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.Zh=new F.Eu({Xo:10,Hn:this,source:"AsePlaygraph",console:this.console});this.events=new k.EventEmitter();this.Ghb(Q);this.Ya=new J.HPa();this.Yg=new wa.JPa(this.console);this.Rta=new K.XIa(this.config,g.K.Ga(this.config.iba),{parent:this.z6a.bind(this)},this.events,this.console);this.Gea=new p.TRa(this.console,this.events);this.YV={sJ:ba.Yv || Infinity};this.O=new v.$ia(this);this.vi=new w.XT(this.O.za,this.console,"playgraph");this.uWb();this.zf=new M.RFa(this.console,ba,La,this.events,this,this.ps);this.t7=new T.IFa(this.vi,this.ps,this.config,this.fj.bind(this),this.yf,this.console);this.eca=this.zf.eca.bind(this.zf);this.WZ=this.zf.WZ.bind(this.zf);this.oca=this.zf.oca.bind(this.zf);this.LK=this.LK.bind(this);this.wK=new z.Aja(ba);this.lWb();this.wK.gg(new C.ix(this.zf.Zh));this.wK.gg(new D.SOa(this.VSb.bind(this)));this.wK.gg(new C.ix(this.Zh));this.wK.gg(new E.GPa(this.Ya,this));this.Wib=new sa.SRa(this,this.console,Wa);this.w$a=new H.BLa(this.ps,this.console,this.events);this.Vp=new Ba.MPa(this.sda.bind(this));this.kea(x.oE(this.config),x.nE());}Object.defineProperties(N.prototype,{state:{get:function(){return this.Pc;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{lq:{get:function(){return !(this.O instanceof v.$ia);},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Z:{get:function(){return this.lo;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{weight:{get:function(){return this.PWa;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Cj:{get:function(){t.assert(this.tt,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.no.position;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Mgb:{get:function(){t.assert(this.tt,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.sB(this.Cj).hn;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{yf:{get:function(){return this.zf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{ff:{get:function(){return this.zf.ff;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Df:{get:function(){return this.zf.Df;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{tt:{get:function(){return void 0 !== this.no;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{ig:{get:function(){return this.O.Ae?this.O.ig:this.Cj;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{me:{get:function(){var Q,V;return this.O.Ae?this.O.me:null !== (V=null === (Q=this.no) || void 0 === Q?void 0:Q.Ey) && void 0 !== V?V:this.Mgb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Kna:{get:function(){return this.Evb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{MC:{get:function(){return this.TAb;},enumerable:!1,configurable:!0}});N.prototype.uWb=function(){this.ps=new w.XT(new B.z4({Zj:!0,currentTime:function(){return g.K.Ga(q.default.time.ga());},speed:1}),this.console,"wallclock");};N.prototype.lWb=function(){var Q;Q=this;fa.b0a({zf:this.zf,ps:this.ps},w.Ih.qG(g.K.Ga(this.config.eC)),function(){Q.O.Ae && Q.O.wi && (Q.zf.state.value === f.Mc.bg || Q.zf.state.value === f.Mc.sd) && Q.Ks(Q.O.wi);},"buffering");};N.prototype.pWb=function(){var Q;Q=this;this.AF=function(V){var ba,qa,La;qa=Q.navigator.ze(V.position.V);if((qa=Q.U5a(qa)) && Q.O.Ae){La=g.Fra(Q.O.Ya.filter(function(Oa){return Oa.u.id === V.position.V;}),V.playerTimestamp,{t_a:!0});La && (null === (ba=Q.O.np) || void 0 === ba?void 0:ba.Xy({u:La.u,get afa() {return La.Jd.Aa(La.u.Oe);}},qa,Q.ig.offset,!0,!1));}Q.Vp.start();};this.RZ=function(){Q.Jk("onDrmReady");};this.B2b=function(V){V=V.newValue;Q.Ska || (Q.Ska=V);};};N.prototype.open=function(){this.ila=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Pc !== d.pk.CLOSED)return !1;this.Pc=d.pk.OPEN;return !0;};N.prototype.lb=function(){this.ps.lb();this.vi.lb();this.Pc !== d.pk.CLOSED && (this.vd(),this.Vp.lb(),this.zf.stop(),this.Pc=d.pk.CLOSED,this.lq || this.O.lb());};N.prototype.LFb=function(Q,V){Q=P.fra(this.Ya,this.LK.bind(this),Q,V).GZa;return this.wZa(Q);};N.prototype.Uy=function(Q,V){var ba,qa,La;ba=this;this.PV=Q;this.TDa=V;V=P.fra(this.Ya,this.LK.bind(this));Q=V.GZa;V=V.nEb;if(!this.wZa(Q))return !1;if(0 === Q.length)return !0;qa=this.ig;Q.forEach(function(Oa){return ba.O.d0(Oa);});La=this.sB(qa).hn;V.forEach(function(Oa){var Ta;Ta=Oa.Xa;Ta.Uy(Oa.Qe,qa.V === Ta.u.id?La:void 0,void 0 !== ba.Ya.aY(Ta));});this.zf.c3b(qa,V[0].Qe);return !0;};N.prototype.nE=function(Q){return x.nE(this.config,Q);};N.prototype.oE=function(Q){return x.oE(this.config,Q);};N.prototype.kP=function(Q,V){var ba,qa;ba=this.navigator.ze(Q);qa=this.navigator.ze(V);return {Llb:ba.VUb(V),RN:V !== Q && this.Ya.has(V) && this.Ya.Zx(V)[0].vh,$c:qa.Oe.U,vQ:this.U5a(ba)};};N.prototype.fj=function(Q,V,ba,qa){var La,Oa,Ta,Qa;La=this;void 0 === qa && (qa=!0);if(!V)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(qa && this.Yg.get(Q))ba || this.Yg.set(Q,V);else {Ta=this.B9(Q)[0];Qa=this.navigator.ze(Q);this.ig.V === Q && Ta && (null === (Oa=this.O.np) || void 0 === Oa?void 0:Oa.Xy({u:Ta.u,get afa() {return Ta.Jd.Aa(Ta.u.Oe);}},V,this.ig.offset,qa,ba));qa || (Q={offset:g.K.Ia,V:V},this.no={position:Q,vh:!0,Jkb:Q});ba?this.Yg.f$b(Qa.id,V):this.Yg.set(Qa.id,V);this.Vp.start();qa && Qa.Py && 0 < Qa.Py.length && (t.assert(Ta),Ta.efa(Qa.Py) && this.B9(V).forEach(function(Wa){return La.Iq(Ta,Wa);}));qa || this.zf.mca(this.Cj);}};N.prototype.wZa=function(Q){return 0 === Q.length?!0:1 !== Q.length || 0 !== Q[0]?!1:(Q=this.O.c$()) && Q.greaterThan(this.O.me)?!1:!0;};N.prototype.Iq=function(Q,V){var ba;ba=this;Q=Q.Kc.Aa(V.u.Oe);V.Iq(Q);this.Ya.fRb(V).forEach(function(qa){return ba.Iq(V,qa);});};N.prototype.Gj=function(Q){this.navigator.Gj(Q);this.Vp.start();};N.prototype.kea=function(Q,V){this.Evb=Q;this.TAb=V;this.state === d.pk.Lj && this.Jk("setStreamFilters");};N.prototype.B$b=function(Q){this.$U.Y7b(Q);};N.prototype.xw=function(Q,V){this.Xda(Q,V);};N.prototype.Xda=function(Q,V,ba){var qa,La,Oa,Ta,Qa;Oa=this.Z;Ta=L.Mlb(Oa,Q);if(Ta.PP){Qa=this.g9b(Oa,Q,V);if(void 0 === Qa)this.Pf("Invalid seekPosition after sanitization to " + Q.V + ("(" + Q.offset.U + "ms), reason: ") + Ta.reason,null === (qa=Oa.M[Q.V]) || void 0 === qa?void 0:qa.L);else if(void 0 === this.PV || void 0 === this.TDa)this.Pf("No track selectors available");else if((qa=!(this.lq && this.O.Kv) && L.Q6a(null === (La=this.no) || void 0 === La?void 0:La.Jkb,Qa),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:qa}),!qa)){this.g6=ba;this.tt && (this.Xy(Qa),this.sGb(Q));Q=this.B5a();try{this.vd(!0);this.rGb();this.no={position:Qa,Jkb:Qa,vh:!1,Ey:V};this.h8a=V?V.Aa(this.Mgb):g.K.Ia;this.zf.mca();this.Pc=d.pk.Lj;this.Vp.start();}finally{Q.release();}}}else this.Pf("Invalid seekPosition to " + (null === Q || void 0 === Q?void 0:Q.V) + ("(" + Q.offset.U + "ms), reason: ") + Ta.reason,null === (Qa=Oa.M[Q.V]) || void 0 === Qa?void 0:Qa.L);};N.prototype.Xy=function(Q){var V,ba;ba=this.navigator.ze(this.ig.V);null === (V=this.O.np) || void 0 === V?void 0:V.Xy({u:ba,afa:ba.duration},Q.V,this.ig.offset,!1);};N.prototype.sGb=function(Q){var V,ba;if((null === (V=this.O.OX()) || void 0 === V?void 0:V.u.id) === Q.V){if((this.Yg.tGb(Q.V),!this.Yg.get(Q.V) && this.O.Kv)){Q=this.O.Ya;ba=this.O.OX();ba && (Q=u.Vc(Q,function(qa){return qa.parent === ba;})) && this.Yg.set(ba.u.id,null === Q || void 0 === Q?void 0:Q.u.id);}}else this.Yg.$oa();};N.prototype.B5a=function(){var Q,V;Q=this;V=this.Ya.filter(function(ba){return ba.u.L !== l.Pq;}).map(function(ba){return Q.$U.Xt(ba.u.L).XY;});return new y.Sha(function(){V.forEach(function(ba){return ba.release();});},this.console).Dx();};N.prototype.vd=function(Q){var V,ba,qa;qa=this.mUb();this.Ya.reset();if(!Q && (this.Yg.$oa(),qa.length))try{for(var La=m.__values(qa),Oa=La.next();!Oa.done;Oa=La.next()){Oa.value.xfb();}}catch(Qa){var Ta;Ta={error:Qa};}finally{try{Oa && !Oa.done && (V=La.return) && V.call(La);}finally{if(Ta)throw Ta.error;}}this.vi.reset();this.ps.reset();this.O.reset();this.no=void 0;this.t7.reset();null === (ba=this.RYa) || void 0 === ba?void 0:ba.clear();this.Pc === d.pk.Lj && (this.Pc=d.pk.OPEN);};N.prototype.B9=function(Q){return this.Ya.Zx(Q);};N.prototype.ek=function(Q){this.zf.ek(Q);t.assert(this.O.Ct,"Must have an appended branch on underflow");this.O.SXa && this.zf.Df && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.th(this.me),this.zf.$e("complete",Q.aS,Q.bS));this.t7.YCa(this.O.Ct,this.me);this.Jk("onUnderflow");this.events.emit("underflow");};N.prototype.gg=function(Q){this.wK.gg(Q);};N.prototype.Qs=function(Q){this.gg(new A.JQa(Q));return this.lDb(Q);};N.prototype.lDb=function(Q){if(!this.O.$Ca(Q))return (this.Pf("player in use"),!1);this.O=Q;this.vi.gYa(this.O.za);this.O.events.on("segmentPresenting",this.AF);this.O.events.on("drmReady",this.RZ);this.O.Zv.addListener(this.B2b);this.events.emit("playerChanged",{type:"playerChanged"});return !0;};N.prototype.sB=function(Q){var V,ba;V=Q.offset;ba=this.navigator.ze(Q.V);Q=ba.L;V=ba.Oe.add(V);return {L:Q,hn:V};};N.prototype.Jn=function(Q,V){var ba,qa,La,Oa;Oa=this.O.Jn(Q);if(void 0 !== Oa)return Oa;if(null === (qa=null === (ba=this.no) || void 0 === ba?void 0:ba.Ey) || void 0 === qa?0:qa.equal(Q))return null !== (La=this.g6) && void 0 !== La?La:this.Cj;ba=this.O.Ct;return L.Jn(Q,{na:this,yWb:ba && ({id:ba.u.id,A9b:ba.wq})},V);};N.prototype.dy=function(Q,V){void 0 === V && (V=!1);Q=this.kY(Q,V).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.Ey);};N.prototype.kY=function(Q,V){var ba,qa,La,Oa,Ta,Qa,Wa,eb,ub,jb,mb,Ia,Xa;void 0 === V && (V=!1);return m.__generator(this,function(ab){switch(ab.label){case 0:(ba=this.O.kY(Q),qa=ba.next(),ab.label=1);case 1:return qa.done?[3,3]:[4,qa.value];case 2:return (ab.ob(),qa=ba.next(),[3,1]);case 3:if(!V)return [2];La={};Oa=this.ig;this.lq && this.O.Ae && (Wa=this.O.Ct) && (Oa={offset:g.K.Ia,V:Wa.u.id},Ta=Wa.Kc.Aa(this.O.me),Qa=Wa.u);Ta || (Qa=this.navigator.ze(Oa.V),Ta=Qa.Oe.add(Oa.offset).Aa(Qa.kg));t.assert(Qa,"Current segment should be defined by here");eb=this.me;if(Qa.u.Kb && Qa.id !== Q.V)return [3,6];if(Qa.id !== Q.V)return [3,5];ub=Q.offset.Aa(Oa.offset);return [4,{xO:ub,Ey:eb.add(ub)}];case 4:(ab.ob(),ab.label=5);case 5:return [2];case 6:(jb=this.navigator.ze(Qa.u.Kb),mb=this.navigator.A9a(jb),Ia=mb.next(),ab.label=7);case 7:if(Ia.done)return [3,11];Xa=Ia.value;if(La[Xa.id])return [3,11];La[Xa.id]=!0;if(Xa.id !== Q.V)return [3,9];ub=Q.offset.add(Ta);return [4,{xO:ub,Ey:eb.add(ub)}];case 8:return (ab.ob(),[2]);case 9:(Ta=Ta.add(Xa.duration),ab.label=10);case 10:return (Ia=mb.next(),[3,7]);case 11:return [2];}});};N.prototype.MAa=function(Q){return L.LAa(this.Z,Q);};N.prototype.g9b=function(Q,V,ba){var qa,La;qa=L.LAa(Q,V);La=g.K.Ga(1E4);if(!qa || !ba || ba.greaterThan(La))return qa;Q=V.offset.add(g.K.Ga(Q.M[V.V].qa));ba=ba.Aa(Q);if(ba.rj(g.K.Ia))return qa;La=g.K.max(g.K.Ia,Q.Aa(La)).add(ba);if(La.rj(g.K.Ia))return qa;La=qa.offset.add(La);return {V:qa.V,offset:La};};N.prototype.qn=function(Q,V){var ba;Q="string" === typeof Q?{L:this.Z.M[Q].L,hn:g.K.Ga(V)}:Q;if(Q.L !== l.Pq){V=this.$U.Xt(Q.L);try{return null === (ba=V.P) || void 0 === ba?void 0:ba.qn(this.config,Q.hn.U);}finally{V.XY.release();}}};N.prototype.W9=function(){return U.u4a(this.Ya,this.faa.bind(this));};N.prototype.faa=function(Q){Q=this.Ya.aY(Q);return void 0 === Q || Q.oj && this.faa(Q);};N.prototype.V9=function(){return this.YV.sJ;};N.prototype.ERb=function(Q){return W.B6a(this.Ya,Q);};N.prototype.th=function(Q){var V,ba,qa;V=this;this.Ya.ZO(function(La){var Oa,Ta;Oa=La.rP(0);Ta=La.rP(1);if(La.u.Cw || !V.Ya.Vta(La) || !La.oj){if(!ba || Oa < ba)ba=Oa;if(!qa || Ta < qa)qa=Ta;}return La.oj;});return {aS:ba?Math.max(ba - Q.U,0):0,bS:qa?Math.max(qa - Q.U,0):0};};N.prototype.$x=function(){var Q,V,ba,qa;ba=this.tt?this.th(this.me):{aS:0,bS:0};qa=G.default.instance().get();return {totalabuflmsecs:ba.aS,totalvbuflmsecs:ba.bS,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (V=Number(0 < qa.confidence) && (null === (Q=qa.Qa) || void 0 === Q?void 0:Q.pa)) && void 0 !== V?V:0};};N.prototype.qP=function(){var Q,V,ba,qa,La,Oa,Ta,Qa;Q=this;if(this.Vo())return (this.Zh.Wu({isStreamingFailureReported:!0}),[]);ba=this.Ya.size;this.Zh.Wu({branchCount:ba});if(!this.tt || 0 === ba)return [];qa=this.me;La=this.ig;Oa=[];ba=this.navigator.ze(this.ig.V);Ta=ba.duration;Qa=this.Yg.get(ba.id)?1:null !== (V=ba.sC) && void 0 !== V?V:1;V=this.Ya.reduce(function(Wa,eb,ub){var jb,mb,ab,kb,sb;try{for(var Ia=m.__values(eb.UX()),Xa=Ia.next();!Xa.done;Xa=Ia.next()){ab=Xa.value;if(!ab.zt()){kb="p" + Q.id + "-" + ub + "-" + (null === (mb=eb.fd) || void 0 === mb?void 0:mb.U);sb=Q.y6a(ab);Wa.push(Q.YJb(ab,sb.U,kb,Ta.U,Qa,qa.U,La));}!ab.fF() && Q.Zh.enabled && Oa.push({segmentId:ab.V,isDoneStreaming:ab.zt(),isNormalized:ab.vh(),needsHeaderRequest:ab.track.Nba});}}catch(Hb){var Bb;Bb={error:Hb};}finally{try{Xa && !Xa.done && (jb=Ia.return) && jb.call(Ia);}finally{if(Bb)throw Bb.error;}}return Wa;},[]);this.Zh.Wu({nonStreamables:Oa});return V;};N.prototype.y6a=function(Q){var V;if(Q.Oma)return Q.Oma;V=this.z6a(Q);return !V || V.oj || this.config.F8 && this.navigator.SUb(V.Xa.u,Q.V)?Q.lW:this.y6a(V);};N.prototype.z6a=function(Q){var qa;if(!Q.Xa.If){for(var V=Q.Xa,ba;!ba;){qa=this.Ya.aY(V);if(!qa)break;V=qa;ba=qa.fJ(Q.mediaType);}return ba;}};N.prototype.d3b=function(Q){var V,ba;if(!this.Gea.Vo()){V=void 0;ba=this.O.ig;ba && (V=this.navigator.ze(ba.V).L);this.Pf("BufferingStateTracker: Temporary failure while buffering",V,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.ah,null === Q || void 0 === Q?void 0:Q.pJ,null === Q || void 0 === Q?void 0:Q.vj);}};N.prototype.Pf=function(Q,V,ba,qa,La,Oa,Ta){void 0 === Ta && (Ta=!1);"string" === typeof Q?this.Gea.Pf(Q,ba,{networkErrorCode:qa,httpCode:La,nativeCode:Oa,viewableId:V,temporaryFailure:Ta}):this.Gea.e8b(Q);return !0;};N.prototype.i1=function(Q,V){V=this.T9(V);this.events.emit("logdata",{type:"logdata",target:Q,fields:V});};N.prototype.T9=function(Q){var V;this.w$a.PYb(Q);V=this.wK.Sk(Q);Q === z.he.aq && (Q=this.$x(),V.vbuflmsec=Q.totalvbuflmsecs,V.abuflmsec=Q.totalabuflmsecs,V.vbuflbytes=Q.vbuflbytes,V.abuflbytes=Q.abuflbytes);return V;};N.prototype.Pkb=function(Q){this.YV=Q;this.Jk("updateBudget");};N.prototype.Vo=function(){return this.Gea.Vo();};N.prototype.hlb=function(Q){Q !== this.weight && (this.PWa=Q,this.events.emit("weightUpdated"));};N.prototype.Iw=function(Q){var V,ba,qa,La,Oa,Ta,eb,ub,jb,mb,Ia,Xa,ab,kb,sb,Bb;qa=O.pZa(this.Z,Q);La=qa.eR;Oa=qa.HFb;Ta=qa.zdc;if([qa.eCb,La,Oa].every(function(Lb){return !Lb.length;}))return {ea:!0,reason:f.Fu.ktb};if(0 === Oa.length && 0 === Ta.length && this.lq && this.O.Ae)return {ea:!1,reason:f.Fu.zsb};if(this.O.Ya.some(function(Lb){return -1 < La.indexOf(Lb.u.id);}))return {ea:!1,reason:f.Fu.hub};if(this.tt && !this.O.Ae && -1 < La.indexOf(this.Cj.V))return {ea:!1,reason:f.Fu.Krb};if(this.tt)try{for(var Qa=m.__values(Oa),Wa=Qa.next();!Wa.done;Wa=Qa.next()){eb=Wa.value;ub=this.Z.M[eb];jb=ub.qa;mb=ub.sa;Ia=ub.L;Xa=Q.M[eb];ab=Xa.sa;kb=Xa.qa;sb=Xa.L;if(this.ig.V === eb && ab !== mb){if(!ab)return {ea:!1,reason:f.Fu.iub};Bb=g.K.Ga(ab - kb);if(null === (ba=this.ig.offset) || void 0 === ba?0:ba.greaterThan(Bb))return {ea:!1,reason:f.Fu.Imb};}if(jb !== kb)return {ea:!1,reason:f.Fu.kqb};if(Ia !== sb)return {ea:!1,reason:f.Fu.lqb};}}catch(Lb){var Hb;Hb={error:Lb};}finally{try{Wa && !Wa.done && (V=Qa.return) && V.call(Qa);}finally{if(Hb)throw Hb.error;}}this.Ghb(Q);this.Vp.start();return {ea:!0,reason:f.Fu.jtb};};N.prototype.QX=function(Q){Q=this.B9(Q);if(Q=0 < Q.length?Q[0]:void 0)return g.K.min.apply(g.K,m.__spread(Q.hm().map(function(V){return V.QX();})));};N.prototype.Ghb=function(Q){var V;V={type:"playgraphUpdating",g2b:this.lo,e1b:Q};this.lo=Q;this.navigator=new R.RPa(Q);this.rUb=O.K_a(this.navigator);this.events.emit("playgraphUpdating",V);};N.prototype.XZ=function(Q,V){this.Jfb(Q);Q.RO.addListener("criticalNetworkError",this.eca);Q.RO.addListener("temporaryNetworkError",this.WZ);Q.RO.addListener("updatingLastSuccessEvent",this.oca);this.Pc === d.pk.Lj && V && this.Ggb();};N.prototype.hya=function(Q){0 === this.Ya.filter(function(V){return V.ut && V.P === Q;}).length && this.Jfb(Q);};N.prototype.Jfb=function(Q){Q.RO.removeListener("criticalNetworkError",this.eca);Q.RO.removeListener("temporaryNetworkError",this.WZ);Q.RO.removeListener("updatingLastSuccessEvent",this.oca);};N.prototype.XWa=function(Q){var V;t.assert(Q.vh,"expected branch to be normalized on addBranchToPlayer");this.O.Kv || (null === (V=this.no) || void 0 === V?0:V.vh) || this.vPb(Q);this.zf.mfa(Q.Qe);this.O.Kv && (V=this.O.Ct) && this.Yg.clear(V.u.id);this.O.Wqa(Q);this.t7.YCa(Q,this.me);};N.prototype.vPb=function(Q){t.assert(Q.ec,"Normalized branch should have a defined content start timestamp");t.assert(this.no,"AsePlaygraph should have a seek position on first branch normalization");t.assert(!this.no.vh,"Seek position should not already be normalized on first branch normalization");this.no=m.__assign(m.__assign({},this.no),{position:{V:Q.u.id,offset:Q.ec.Aa(Q.u.Oe)},vh:!0});this.zf.$9b(this.no.position,Q.Qe.filter(function(V){return 0 === V.mediaType;})[0]);};N.prototype.rGb=function(){var Q;this.t7.reset();this.O.iE();this.no=void 0;null === (Q=this.RYa) || void 0 === Q?void 0:Q.clear();};N.prototype.YJb=function(Q,V,ba,qa,La,Oa,Ta){var Qa,Wa,eb,ub,jb;Qa=this;ub=null !== (eb=null === (Wa=Q.Xa.fd) || void 0 === Wa?void 0:Wa.U) && void 0 !== eb?eb:Q.Xa.vt.U;Wa=Q.bG.U;eb=this.Yg.get(Q.V)?1:Q.Xa.u.sC;return {identifier:Q.V,mediaType:Q.mediaType,Uh:Q.Uh,yf:this.yf.value,bC:V,hu:Wa,ft:Oa,D3a:Q.SI.U,jza:Ta.offset.U,iza:qa,y_:La,sC:eb,ln:Q.Xa.rv.U,Xib:Math.max(Wa - ub,0),fF:Q.fF(),zt:Q.zt(),groupId:ba,o9a:function(mb,Ia){mb=Qa.Wib.oFb(mb,Q.mediaType,1 > Ia || !Q.Xa.If && !Qa.faa(Q.Xa));1 === Ia && "global" === f.Lza(mb.reason) && Qa.zf.w2b(Q.mediaType,Qa.th(Qa.me));return mb;},s9a:function(){var mb,Ia,Xa,ab,kb,sb,Bb,Hb,Lb,Xb;ab=Q.mediaType;kb=Qa.Rta.F9b(Qa.yf.value,Qa.me,Q.bG,Qa.O.playbackRate,Q,0 === ab?Qa.Kna:Qa.MC,Qa.IN);sb=kb.stream;Bb=kb.B0;Hb=kb.EP;Lb=kb.tC;Xb=kb.zy;kb=kb.reason;if(!sb)return {sj:!1,reason:kb || "selectLocationsAndStream"};if(Qa.yf.value === f.Mc.Lj && Q.Xa && Q.Xa.P.Ro && !Q.Xa.P.qZ && !Qa.O.Uo(Q.Xa.P.L)){kb=Q.bG.U - Qa.me.U;if(!Q.Xa.P.Ef.df && kb > Qa.config.Mwa)return {sj:!1,reason:"maxBufferingCompleteBufferInMs"};if(!sb.Xj && 1 === sb.mediaType && kb >= Qa.config.cba)return {sj:!1,reason:"maxFastPlayBufferInMs"};}kb=1;if(null === (mb=Q.Xa) || void 0 === mb?0:mb.Qe.every(function(Fb){return 0 === Fb.mediaType;}))kb=0;Qa.zf.Df && ab === kb && Qa.zf.n$b(Q.Ej.vR,sb.bitrate,Hb);Qa.yR(Bb);mb=null === (Ia=Q.Xa.Hq) || void 0 === Ia?void 0:Ia.U;Ia=Q.xkb(sb,Xb,Lb);Ia.sj?(Qa.ila && (Qa.Tm("firstDriveStreaming"),Qa.ila=!1),0 < Qa.zE && (sb=null === (Xa=Q.Xa.Hq) || void 0 === Xa?void 0:Xa.U,mb && sb && (Qa.zE-=mb - sb,0 >= Qa.zE && Qa.Ggb()))):"exceedsLiveEdge" === Ia.reason && (null === jb || void 0 === jb?void 0:jb.lb(),jb=Qa.ps.kO(w.Ih.qG(sb.dJ().rv),function(){jb=void 0;Qa.Jk("liveEdgeRetry");}));return Ia;}};};N.prototype.yR=function(Q){var V;V=this;Q.forEach(function(ba){ba.P.g$b(ba,function(){var qa,La;t.assert(V.tt,"Speculative header callback after streaming is cancelled");qa=V.me.U;La=qa + V.config.yZ;return {Uh:[],yf:V.zf.state.value,bC:La,hu:La,ft:qa};});});};N.prototype.Ggb=function(){var Q;Q=this;this.Vp.Afa(Ba.KG.wz,function(){return Q.Vp.start();});};N.prototype.sda=function(){var Q,V,ba,qa,La,Oa;Q=this;if(this.Pc === d.pk.Lj){V=this.ig;ba=this.O.Ya;qa=this.Ya.dUb();La=m.__read(ba,1)[0];V=La?this.navigator.ze(La.u.id):this.navigator.ze(V.V);ba=ba.map(function(Ta){return Ta.u.id;});ba=I.sda(this.console,this.rUb,V,qa,this.Yg,ba,g.K.Ga(this.config.lEb),this.config.pxa,g.K.Ga(this.config.boa));qa=ba.Dda;ba=ba.zE;V=m.__read(qa);Oa=V[0];V=V.slice(1);La=V.filter(function(Ta){return Ta.nw;});t.assert(V.length === La.length,"Missing parent branch");t.assert(!V.length || V.some(function(Ta){return Ta.nw === Oa;}),"Disconnected tree");this.zE=ba || 0;this.Ya.Ldc(qa,function(Ta,Qa){var Wa,eb;eb=Q.navigator.ze(Ta);Ta=Ta === Q.Cj.V?Q.Cj.offset:Ta === (null === (Wa=Q.g6) || void 0 === Wa?void 0:Wa.V)?Q.g6.offset:g.K.Ia;Wa=eb.Oe.add(Ta);return Q.ndc(eb,Wa,Qa);}).eR.forEach(function(Ta){Ta.vd("aborted");});this.tfb();this.LZa();this.Vp.Afa(Ba.KG.wz,function(){var Ta;(null === (Ta=Q.Ya.root()) || void 0 === Ta?0:Ta.ut) && Q.Jk("reevaluateBranches");Q.Vp.wZ(Ba.KG.RT);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};N.prototype.mUb=function(){return u.FV(this.Ya.filter(function(Q){return Q.ut;}).map(function(Q){return Q.P;}));};N.prototype.tfb=function(){var Q,V;Q=this;if(this.Pc === d.pk.Lj){if(!this.O.Ct){V=m.__read(this.Ya.Zx(this.Cj.V),1)[0];(null === V || void 0 === V?0:V.vh) && this.XWa(V);}if(this.O.Ct)for(;;){V=this.p5a(this.O.Ct.u);if(!V)break;V=m.__read(this.Ya.Zx(V).filter(function(ba){return ba.parent === Q.O.Ct;}),1)[0];if(!V)break;if(null === V || void 0 === V || !V.vh)break;else if(this.O.$6a(V))break;this.XWa(V);}}};N.prototype.U5a=function(Q){var V,ba,qa,La;if(this.O.Kv){V=this.O.wi;ba=!1;qa=this.O.Ya.filter(function(Oa){ba || (ba=Oa === V);return ba;});La=u.uo(qa,function(Oa){return Oa.u.id === Q.id;});if(qa=qa[La + 1])return qa.u.id;}return this.p5a(Q);};N.prototype.p5a=function(Q){var V;V=this.Yg.get(Q.id);if(void 0 !== V)return V;Q=this.navigator.vRb(Q);if(1 === Q.length)return Q[0].id;};N.prototype.LZa=function(){var Q;Q=0 !== this.vQb();Q || this.Fea?Q && this.Fea && (this.Fea=!1):(this.zf.Df && (Q=this.th(this.me),this.zf.$e("complete",Q.aS,Q.bS)),this.Oyb(),this.Fea=!0);};N.prototype.vQb=function(){return this.Ya.filter(function(Q){return !Q.oj;}).length;};N.prototype.Ks=function(Q){this.faa(Q) && this.zf.Toa(this.me,this.O.playbackRate,Q,{Soa:this.Rta.Soa.bind(this.Rta,this.Wib)});};N.prototype.o2b=function(Q,V){var ba,qa;ba=this;if(V.didNormalizeSegment){qa=S.kRa.lUb(Q);t.assert(qa,"Segment should be normalized");Promise.resolve().then(function(){return ba.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.u.id,normalizedStart:V.segmentContentStart,normalizedEnd:V.branchContentEnd,viewableContentEnd:qa.Ylb,viewableEarliestContentEnd:qa.Zlb});});}Promise.resolve().then(function(){ba.tfb();});this.Jk("branchNormalized");};N.prototype.p2b=function(){this.LZa();};N.prototype.n2b=function(){this.Vp.start();};N.prototype.jKb=function(Q){var V,ba;V=this;ba=!this.O.Kv && !this.Ya.has(this.Cj.V);return new h.KFa(Q.L,this.$U.Xt.bind(this.$U),function(qa,La,Oa){V.state !== d.pk.CLOSED && (V.XZ(La,Oa),V.Vp.Afa(Ba.KG.RT,function(){qa.If || V.T5(qa,La,ba);}));},this.hya.bind(this));};N.prototype.ndc=function(Q,V,ba){var qa,La;if(this.mGb(Q,V))throw Error("Not implemented");qa=this.jKb(Q);La=ba?ba.Kc.Aa(V):this.h8a || g.K.Ia;Q=n.J_a({config:this.config,console:this.console,u:Q,events:this.events,LK:this.LK,An:V,Bd:La,Le:this.uKb.bind(this),yf:this.yf,vi:this.vi,wL:qa,WYa:this.Ep,Xya:this.Ya});this.ybc(Q,! !ba);return Q;};N.prototype.uKb=function(){return this.me.U;};N.prototype.ybc=function(Q,V){var ba,qa;ba=this;qa=new k.Gf();qa.addListener(Q.events,"needsRequest",function(){var La;La=ba.Ya.root();La && !La.ut || ba.Jk("branchNeedsHeader");});qa.addListener(Q.events,"branchNormalized",this.o2b.bind(this,Q));qa.addListener(Q.events,"lastRequestIssued",this.n2b.bind(this,Q));qa.addListener(Q.events,"branchStreamingComplete",this.p2b.bind(this,Q));qa.addListener(Q.events,"checkBufferingProgress",this.Ks.bind(this,Q));qa.addListener(Q.events,"branchDestroyed",function(La){qa.clear();ba.Ya.contains(Q) && (ba.Ya.uda(Q),ba.Vp.start());"aborted" === La.reason && (ba.O.$6a(Q) || ba.Vp.Afa(Ba.KG.wz,function(){return ba.Qla(Q.u.id);}));});V || (this.Tm("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){ba.Tm("createDlTracksEnd");}));};N.prototype.VSb=function(Q){if(this.O.Ae)return this.O.wi.$a(Q);};N.prototype.LK=function(Q,V,ba){return [[0,null !== V && void 0 !== V?V:this.PV,"audio_tracks"],[1,null !== ba && void 0 !== ba?ba:this.TDa,"video_tracks"]].map(function(qa){var La,Oa;La=m.__read(qa,3);Oa=La[1];qa=La[2];if(Q.ja && (t.assert(Oa,"Expected mediaType " + La[0] + " track selector to be defined"),La=Oa.bu(Q.ja,Q.ja[qa]),void 0 !== La))return Q.getTrackById(Q.ja[qa][La].eS);}).filter(u.Yba);};N.prototype.T5=function(Q,V,ba){t.assert(Q.Qe.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.u.id,contentOffset:Q.Bd.U,maxBitrates:{audio:V.It[0],video:V.It[1]},media:c(Q.Qe),initial:ba};this.events.emit(Q.type,Q);};N.prototype.Qla=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};N.prototype.Oyb=function(){var Q;Q={type:"streamerEnd",time:q.default.time.ga()};this.events.emit(Q.type,Q);};N.prototype.Tm=function(Q){Q={type:"startEvent",event:Q,time:q.default.time.ga()};this.events.emit(Q.type,Q);};m.__decorate([Ga.return.ki()],N.prototype,"Cj",null);m.__decorate([F.jb({methodName:"checkCanSetTracks",return:!0})],N.prototype,"LFb",null);m.__decorate([F.jb({methodName:"setTracks",return:!0})],N.prototype,"Uy",null);m.__decorate([F.jb({methodName:"setNextSegment",so:!0})],N.prototype,"fj",null);m.__decorate([F.jb({methodName:"seekStreaming"}),m.__param(0,Ga.ki())],N.prototype,"xw",null);m.__decorate([F.jb({methodName:"seekStreamingWithEntryPoint"}),m.__param(0,Ga.ki()),m.__param(2,Ga.ki()),m.__param(2,Ga.Pxa)],N.prototype,"Xda",null);m.__decorate([Ga.return.O_a(),m.__param(0,Ga.ki())],N.prototype,"sB",null);m.__decorate([Ga.return.ki()],N.prototype,"Jn",null);m.__decorate([m.__param(0,Ga.ki())],N.prototype,"dy",null);m.__decorate([m.__param(0,Ga.ki())],N.prototype,"kY",null);m.__decorate([Ga.return.ki(),m.__param(0,Ga.ki())],N.prototype,"MAa",null);m.__decorate([m.__param(0,Ga.O_a()),m.__param(0,Ga.V())],N.prototype,"qn",null);m.__decorate([F.jb({methodName:"getStreamables",wl:!0})],N.prototype,"qP",null);m.__decorate([F.jb({methodName:"updatePlaygraphMap",return:!0})],N.prototype,"Iw",null);return N;})();b.jga=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KFa=void 0;c=a(0);r=(function(){function m(k,l,d,f){this.L=k;this.Xt=l;this.XZ=d;this.hya=f;}Object.defineProperties(m.prototype,{P:{get:function(){var k;return null === (k=this.C1) || void 0 === k?void 0:k.P;},enumerable:!1,configurable:!0}});m.prototype.lb=function(){var k;this.P && (this.P.pDa(this.Xa),this.hya(this.P));null === (k=this.C1) || void 0 === k?void 0:k.XY.release();this.C1=void 0;};m.prototype.ta=function(k){return c.__awaiter(this,void 0,void 0,function(){var l,d,f,h,g;return c.__generator(this,function(n){switch(n.label){case 0:return (this.Xa=k,l=this.Xt(this.L),d=l.pG,f=l.P,h=l.XY,this.C1={XY:h,P:f},f?(this.g8a(f,k,!1),[2,f]):[4,d]);case 1:return (g=n.ob(),this.g8a(g,k,!0),[2,g]);}});});};m.prototype.g8a=function(k,l,d){this.C1 && (this.C1.P=k,k.Tza(l),this.XZ(l,k,d));};return m;})();b.KFa=r;},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.J_a=void 0;c=a(39);m=a(1047);k=a(7);l=a(1048);b.J_a=function(d){var f,h,g,n,p,q,t,v,u,w,x,y;f=d.config;h=d.console;g=d.Xya;n=d.u;p=d.events;q=d.LK;t=d.An;v=d.Bd;u=d.Le;w=d.yf;x=d.vi;y=d.wL;d=d.WYa;n.L === c.Pq && f.KI?(p=new m.WNa(n.L,f.qya),q=k.K.Ia,f=new (a(1052).VNa)(h,n,q,g.aY.bind(g),p,f)):f=new l.HFa(f,h,p,n,q,t,v,u,g.aY.bind(g),w,x,y,d);return f;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WNa=void 0;c=a(39);r=(function(){function m(k,l){this.L=k;this.hfc=l;this.I="" + c.Pq;}m.prototype.getTrackById=function(){};m.prototype.ek=function(){};m.prototype.xfb=function(){};m.prototype.Pf=function(){return !0;};m.prototype.yK=function(){};return m;})();b.WNa=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=b.WC=void 0;c=a(0);m=a(7);k=a(20);r=a(76);l=a(35);d=a(2);f=a(182);h=a(256);g=a(9);n=a(126);p=a(1049);q=a(433);t=a(1050);(function(u){u[u.SS=0]="CREATED";u[u.KS=1]="CANCELLED";})(v=b.WC || (b.WC={}));a=(function(u){function w(x,y,z,A,B,C,D,F,G,E,H,L,K){y=u.call(this,A,G,D,C,y) || this;y.J=x;y.Gca=z;y.R9=B;y.xU=F;y.Uz=E;y.zx=H;y.wL=L;y.Ep=K;y.hy=new h.YL();y.lAa=0;y.om=new m.ZC();y.W$=new m.ZC();y.Yxa=y.rWb();return y;}c.__extends(w,u);Object.defineProperties(w.prototype,{Qe:{get:function(){var x;this.ut && 0 === (null === (x=this.jV) || void 0 === x?void 0:x.length) && this.R9 && (this.jV=this.R9(this.P).sort(q.lG));return this.jV;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{BN:{get:function(){return this.oj?this.hm().every(function(x){return x.Sa.BN;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{JXa:{get:function(){return this.hm().some(function(x){return x.DCb;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Vv:{get:function(){var x;return !(null === (x=this.Md) || void 0 === x || !x.Vv);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{oj:{get:function(){var x;return !(null === (x=this.Md) || void 0 === x || !x.oj);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Os:{get:function(){var x,y;return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.Os) && void 0 !== y?y:0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{vh:{get:function(){var x;return !(null === (x=this.Md) || void 0 === x || !x.vh);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{D1:{get:function(){return this.om.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ut:{get:function(){var x;return !(null === (x=this.wL) || void 0 === x || !x.P);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{z$:{get:function(){return ! !this.Qe.length && this.Qe.every(function(x){return x.Vd;});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{P:{get:function(){d.assert(this.wL.P,"viewable should be available");return this.wL.P;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{X:{get:function(){var x;return (null === (x=this.Md) || void 0 === x?void 0:x.X) || this.An.X;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Va:{get:function(){var x,y;return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.Va) && void 0 !== y?y:this.An.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{hb:{get:function(){var x,y;return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.hb) && void 0 !== y?y:this.u.kg.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Aj:{get:function(){var x,y;return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.Aj) && void 0 !== y?y:this.Bd.wg(this.X).bb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{vt:{get:function(){var x,y,z;return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.vt) && void 0 !== y?y:null === (z=this.An) || void 0 === z?void 0:z.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{SI:{get:function(){var x,y;y=null === (x=this.u.u.fq) || void 0 === x?void 0:x[0];return y && this.ec?k.K.Ga(Math.max(0,y[0] - this.ec.U - this.u.Oe.U)):k.K.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{wq:{get:function(){var x,y;return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.wq) && void 0 !== y?y:this.u.Oe.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{cC:{get:function(){var x,y;return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.cC) && void 0 !== y?y:this.u.kg.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{VY:{get:function(){var x;return null === (x=this.Md) || void 0 === x?void 0:x.VY;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Bd:{get:function(){var x,y;return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.Bd) && void 0 !== y?y:this.Xq;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hq:{get:function(){var x,y;return null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.Hq) && void 0 !== y?y:this.u.kg.Aa(this.An || this.u.Oe);},enumerable:!1,configurable:!0}});w.prototype.ta=function(){return c.__awaiter(this,void 0,void 0,function(){var x,y,z;z=this;return c.__generator(this,function(A){switch(A.label){case 0:u.prototype.ta.call(this);if(this.If)return [2];g.R && this.console.log("AseBranch {" + this.u.id + "} awaiting viewable");return [4,this.wL.ta(this)];case 1:A.ob();g.R && this.console.log("AseBranch {" + this.u.id + "} viewable available, branch " + (this.If?"cancelled":"active"));if(this.If)return [2];x=this.Qe.map(function(B){var C;return null === (C=z.parent) || void 0 === C?void 0:C.pP(B.mediaType);});this.yhb(this.An);return [4,this.j3a()];case 2:return (A.ob(),g.R && this.console.log("AseBranch {" + this.u.id + "} have headers"),this.If?[2]:(y=this.parent)?[4,y.D1]:[3,4]);case 3:A.ob();if(this.If)return [2];this.zJb(x);A.label=4;case 4:return (this.normalize(),[2]);}});});};w.prototype.zJb=function(x){var y;y=this;this.hy.forEach(function(z){var A,B;B=null === (A=y.parent) || void 0 === A?void 0:A.pP(z.mediaType);d.assert(B,"Parent state should be defined");-1 === (null === x || void 0 === x?void 0:x.indexOf(B)) && (z.Ej.re.lb(),A=new f.B4(function(){var C;return null === (C=y.parent) || void 0 === C?void 0:C.pP(z.mediaType);}),z.Ej.re=A);B=void 0;});x=void 0;};w.prototype.j3a=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.z$?this.W$.resolve():(this.P.Nv.on("onHeaderFragments",this.Yxa),this.events.emit("needsRequest"));return [2,this.W$.promise];});});};w.prototype.rWb=function(){var x;x=this;return function(){!x.If && x.z$ && (x.P.Nv.wy("onHeaderFragments",x.Yxa),x.W$.resolve());};};w.prototype.normalize=function(){this.If || (this.Md=new t.jNa(this,this.J,this.console,this.P,this.Gca,this.Op,this.An,this.hy.items,this.Xq,this.xU,this.Uz,this.events,this.zx,this.Ep),this.Lqa(this.Md.vE),this.om.resolve(this.Md));};w.prototype.update=function(x){var y;this.Op=x;(null === (y=this.Md) || void 0 === y?0:y.update(x)) && this.Lqa(!0);};w.prototype.Iq=function(x,y){var z;void 0 === y && (y="unknown");u.prototype.Iq.call(this,x,y);null === (z=this.Md) || void 0 === z?void 0:z.Iq(x);};w.prototype.by=function(x){return c.__awaiter(this,void 0,void 0,function(){var y;return c.__generator(this,function(z){switch(z.label){case 0:return [4,this.om];case 1:return (y=z.ob(),[2,null === y || void 0 === y?void 0:y.by(x)]);}});});};w.prototype.BE=function(){var x;null === (x=this.Md) || void 0 === x?void 0:x.BE();};w.prototype.reset=function(){var x;null === (x=this.Md) || void 0 === x?void 0:x.reset();};w.prototype.vd=function(x){var y;void 0 === x && (x="other");u.prototype.vd.call(this,x);this.Pc=v.KS;this.ut && this.P.Nv.wy("onHeaderFragments",this.Yxa);null === (y=this.Md) || void 0 === y?void 0:y.vd();this.hy.forEach(function(z){z.cancel();z.Ej.re.lb();});this.wL.lb();this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:x});this.events.removeAllListeners();};w.prototype.HP=function(x){var y;return !(null === (y=this.Md) || void 0 === y || !y.HP(x));};w.prototype.$a=function(x){var y;return null === (y=this.Md) || void 0 === y?void 0:y.$a(x);};w.prototype.B$=function(x){return this.Qe.some(function(y){return y.mediaType === x;});};w.prototype.hm=function(x){var y,z;void 0 === x && (x=q.lG);return null !== (z=null === (y=this.Md) || void 0 === y?void 0:y.hm(x)) && void 0 !== z?z:[];};w.prototype.pP=function(x){var y,z;return (null === (y=this.$a(x)) || void 0 === y?void 0:y.Ej.re) || (null === (z=this.hy.get(x)) || void 0 === z?void 0:z.Ej.re);};w.prototype.UX=function(){var x,y;return this.z$?null !== (y=null === (x=this.Md) || void 0 === x?void 0:x.UX()) && void 0 !== y?y:[]:this.hy.items;};w.prototype.fJ=function(x){var y;return (null === (y=this.Md) || void 0 === y?void 0:y.fJ(x)) || this.hy.get(x);};w.prototype.th=function(x,y){var z;return (null === (z=this.Md) || void 0 === z?void 0:z.th(x,y)) || 0;};w.prototype.lB=function(){var x;return (null === (x=this.Md) || void 0 === x?void 0:x.lB()) || ({});};w.prototype.rP=function(x){var y;return (null === (y=this.Md) || void 0 === y?void 0:y.rP(x)) || this.vt.U;};w.prototype.Uy=function(x,y,z){return c.__awaiter(this,void 0,void 0,function(){var A,B,C,D;return c.__generator(this,function(F){switch(F.label){case 0:this.jV=x.sort(q.lG);this.yhb(y);if(!this.vh)return [3,4];d.assert(this.Md);A=this.hy.filter(function(G){return G.track.Vd;}).items;B=this.Md.Zkb(A,y,z);C=B.KW;D=B.vE;C && this.Lqa(D);if(this.z$)return [3,4];this.W$=new m.ZC();this.om=new m.ZC();g.R && this.console.log("AseBranch {" + this.u.id + "} setTracks waiting for headers");return [4,this.j3a()];case 1:return (F.ob(),this.If?[2]:this.parent?[4,this.parent.D1]:[3,3]);case 2:(F.ob(),F.label=3);case 3:(this.Md.Zkb(this.hy.items,y,z),g.R && this.console.log("AseBranch {" + this.u.id + "} setTracks pipelines updated"),this.om.resolve(this.Md),this.events.emit("needsRequest"),F.label=4);case 4:return [2];}});});};w.prototype.yhb=function(x){var y;y=this;this.lAa=0;this.hy=new h.YL(this.Qe.map(function(z){var A;A=y.hy.find(function(B){return B.track === z;});A || (++y.lAa,A=new p.HJa(y,z,function(){return (null === x || void 0 === x?void 0:x.add(y.Bd)) || k.K.Ia;},y.J,y.console,function(){var B;return null === (B=y.parent) || void 0 === B?void 0:B.pP(z.mediaType);},y.Gca,function(){0 === --y.lAa && y.events.emit("requestQueuesCreated");}));return A;}));};w.prototype.Fm=function(x){var y;return (null === (y=this.Md) || void 0 === y?void 0:y.Fm(x)) || [];};w.prototype.mE=function(x){var y;return !(null === (y=this.Md) || void 0 === y || !y.mE(x));};w.prototype.FX=function(x){return this.Md?this.Md.FX(x):k.K.Ia;};w.prototype.efa=function(x){var y;return !(null === (y=this.Md) || void 0 === y || !y.efa(x));};w.prototype.Lqa=function(x){x={type:"branchNormalized",segmentContentStart:this.u.Oe,branchContentStart:this.ec,branchContentEnd:this.Jd,didNormalizeSegment:x};this.events.emit(x.type,x);g.R && this.console.trace("branchNormalized:",x);};w.prototype.toJSON=function(){var x;return (null === (x=this.Md) || void 0 === x?void 0:x.toJSON()) || ({});};return w=c.__decorate([n.XI],w);})(q.vga);b.HFa=a;l.Re(r.tu,a);l.Re(r.lz,a);},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.HJa=void 0;c=a(0);m=a(417);k=a(125);l=a(182);d=a(259);f=a(2);r=(function(){function h(g,n,p,q,t,v,u,w){this.Xa=g;this.track=n;this.Tac=p;this.config=q;this.console=t;this.events=u;this.V2b=w;this.mm=0;this.meb=this.oj=!1;this.Ej=this.XJb(v);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{V:{get:function(){return this.Xa.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Uh:{get:function(){return this.Xa.Uh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yea:{get:function(){return this.Tac();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lW:{get:function(){return this.yea;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bG:{get:function(){return this.yea;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{SI:{get:function(){return this.Xa.SI;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qf:{get:function(){return this.Ie || (this.Ie=this.jv());},enumerable:!1,configurable:!0}});h.prototype.fF=function(){return this.track.Nba;};h.prototype.zt=function(){return this.track.Vd;};h.prototype.vh=function(){return !1;};h.prototype.n5a=function(){return {aa:[],Bca:0,wj:0,hp:0};};h.prototype.Wcc=function(){var g;f.assert(this.zt());g=this.Qf;this.Ie=void 0;return g;};h.prototype.xkb=function(g){return (g=g.kG(this.Qf))?{sj:g,reason:"success"}:{sj:g,reason:"pipelineTryIssueHeaderRequest"};};h.prototype.cancel=function(){this.Ie && (this.Xa.P.wN(this.mediaType,this.Ie),k.Lq.instance.vO(this.Ie),this.Ie.removeAllListeners(),this.Ie=void 0);};h.prototype.XJb=function(g){var n,p;n=0 === this.mediaType?this.config.oYa:this.track.Fc?this.config.iZb:this.config.rCa;g=new l.B4(g);g.v0(this.track);p=this.config;return new d.Uja(n,this.config,g,0 === this.mediaType?p.Nqa:p.Oqa);};h.prototype.jv=function(){var g,n;g=this;n=this.track.Fc?c.__assign(c.__assign({},this.config),{ylb:!0}):this.config;n=m.jv(this.mediaType,this.track.P,n,this.console,function(p){return g.events.emit("transportReport",p);},function(p){return g.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.V2b);return n;};return h;})();b.HJa=r;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w;function c(x,y){return (1 === x.mediaType?0:1) - (1 === y.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.jNa=b.Zia=void 0;m=a(0);k=a(414);l=a(85);d=a(127);f=a(14);h=a(1051);g=a(7);n=a(21);p=a(2);q=a(20);t=m.__importDefault(a(4));r=a(76);v=a(35);u=a(256);w=a(434);b.Zia={lG:c};a=(function(x){function y(z,A,B,C,D,F,G,E,H,L,K,I,R,O){var J,M;M=x.call(this,C) || this;M.Xa=z;M.J=A;M.P=C;M.Gca=D;M.Op=F;M.Xq=H;M.xU=L;M.Uz=K;M.events=I;M.zx=R;M.Ep=O;M.ve=new u.YL([]);M.Pm=!1;M.GU=0;M.iU=M.Wxa.bind(M);p.assert(C.L === M.u.L || isNaN(C.L) && isNaN(M.u.L));M.console=g.oi(t.default,B,F.id && F.id.length?"{" + F.id + "}":"");M.An=null !== G && void 0 !== G?G:q.K.Ga(M.u.ba);z=M.parent;M.Xla=null === z || void 0 === z?void 0:z.Kc;null === (J=M.Uz) || void 0 === J?void 0:J.addListener(M.iU);E=M.m0a(E,M.An,! !z).vE;M.vE=E;return M;}m.__extends(y,x);Object.defineProperties(y.prototype,{If:{get:function(){return this.Pm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{u:{get:function(){return this.Op;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Vv:{get:function(){return this.ve.every(function(z){return z.Vv;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oj:{get:function(){return this.ve.every(function(z){return z.oj;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Os:{get:function(){return this.hm().reduce(function(z,A){return z + A.Os;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vh:{get:function(){return this.hm().every(function(z){return z.vh();});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qe:{get:function(){return this.Xa.Qe;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{X:{get:function(){return this.Qu.X;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Va:{get:function(){return this.Qu.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{hb:{get:function(){return this.Qu.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Aj:{get:function(){return this.Bd.wg(this.X).bb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vt:{get:function(){return this.An.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wq:{get:function(){return this.u.Oe.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cC:{get:function(){return this.u.kg.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{VY:{get:function(){return this.ve.reduce(function(z,A){return z && A.Kc?q.K.max(z,A.Kc):A.Kc?A.Kc:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Nua:{get:function(){return this.vt.U;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ze:{get:function(){return this.Bd.U;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hq:{get:function(){return this.Qu.Hq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Bd:{get:function(){return this.Xq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{parent:{get:function(){return this.Xa.parent;},enumerable:!1,configurable:!0}});y.prototype.Zkb=function(z,A,B){var C;void 0 === A && (A=null !== (C=this.ec) && void 0 !== C?C:this.An);return this.m0a(z,A,B);};y.prototype.update=function(z){var A,B,C;C=z.kg.Ixa(this.Op.kg);this.Op=z;return C && this.FD?(C=m.__read(this.FD.W7b(z,z.kg),2),z=C[0],C=C[1],p.assert(z && C,"branch.update: lastFragment should be defined"),null === (A=this.$a(0)) || void 0 === A?void 0:A.truncate(z),null === (B=this.$a(1)) || void 0 === B?void 0:B.truncate(C),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};y.prototype.Iq=function(z){this.Bd.equal(z) || (this.Xq=z,this.events.emit("branchEdited",{type:"branchEdited"}));};y.prototype.by=function(z){return m.__awaiter(this,void 0,void 0,function(){var A;return m.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.ob(),(A=this.$a(z))?[2,A.by()]:[2,d.AsyncIterator.b5a()]);}});});};y.prototype.BE=function(){this.hm().forEach(function(z){return z.BE();});};y.prototype.pV=function(){this.ve.forEach(function(z){return z.pV();});};y.prototype.reset=function(){this.ve.forEach(function(z){z.reset();});};y.prototype.vd=function(){var z,A;this.Pm || (this.Pm=!0,null === (z=this.FD) || void 0 === z?void 0:z.Zc(),this.FD=void 0,this.ve.forEach(function(B){B.vd();}),null === (A=this.Uz) || void 0 === A?void 0:A.removeListener(this.iU));};y.prototype.HP=function(){return !0;};y.prototype.$a=function(z){return this.ve.get(z);};y.prototype.hm=function(z){void 0 === z && (z=c);return this.ve.items.slice().sort(z);};y.prototype.UX=function(){return this.ve.items;};y.prototype.fJ=function(z){return this.$a(z);};y.prototype.th=function(z,A){z=this.$a(z);if(!z)return 0;if(A)return z.On;A=z.wr;if(void 0 === A)return 0;z=this.xU();return A - z;};y.prototype.lB=function(){var z,A,B,C,D,F,G;G=null === (z=this.$a(0)) || void 0 === z?void 0:z.Ao;z=null === (A=this.$a(1)) || void 0 === A?void 0:A.Ao;return {rp:null !== (B=null === z || void 0 === z?void 0:z.U) && void 0 !== B?B:0,Ns:null !== (C=null === G || void 0 === G?void 0:G.U) && void 0 !== C?C:0,qu:null !== (D=null === z || void 0 === z?void 0:z.ca) && void 0 !== D?D:0,TD:null !== (F=null === G || void 0 === G?void 0:G.ca) && void 0 !== F?F:0};};y.prototype.rP=function(z){var A;return (z=this.$a(z))?null !== (A=z.wr) && void 0 !== A?A:0:0;};y.prototype.Fm=function(z){z=this.$a(z);return (null === z || void 0 === z?void 0:z.Fm()) || [];};y.prototype.Wxa=function(z){f.oq(z.newValue) && this.Ks();};y.prototype.mE=function(z){return this.ve.every(function(A){return A.mE(z);});};y.prototype.FX=function(z){var A,B;return null !== (B=null === (A=this.ve.get(z)) || void 0 === A?void 0:A.J0a) && void 0 !== B?B:q.K.Ia;};y.prototype.efa=function(z){var A,B,C;A=this.Qu.uYb;if(!A)return !1;B=n.Vc(z,function(D){return A.U <= D.ec.U;});if(!B)return !1;z=!1;C=m.__read(w.dAa(this.J,this.ve,B.ec),2);B=C[0];if(C=C[1])(this.$a(1).truncate(C),z=!0);B && (this.$a(0).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};y.prototype.pm=function(z){this.Pm || (z.P6 || p.assert(!z.Ec),this.Ks(),this.oj && this.Ula());this.Bv(z);};y.prototype.bK=function(z){this.J.G8 && this.Ks(!0);this.UI(z);};y.prototype.aK=function(z){this.J.G8 && this.Ks(!0);this.IE(z);};y.prototype.m0a=function(z,A,B){var C,D,F;C=this;D=new u.YL();F=!1;z.forEach(function(G){var E;E=C.ve.find(function(H){return H.track === G.track;});void 0 === E?(F=!0,E=new k.Yia(C,C.J,C.console,C.Gca,C.Xa,G.track,A,G.Ej,!0,void 0,G.Wcc(),C.zx,C.Ep),C.DWb(E)):(C.ve.remove(E),E.pV());D.add(E);});this.ve.forEach(function(G){return G.vd();});this.ve=D;return F?this.normalize(A,B):{KW:!1,vE:!1};};y.prototype.DWb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.Vv && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};y.prototype.normalize=function(z,A){var B,C;null === (B=this.FD) || void 0 === B?void 0:B.Zc();this.FD=new h.QOa({console:this.console,config:this.J,P:this.P,u:this.u,Kl:this.ve,ec:z,Jd:null !== (C=this.u.kg) && void 0 !== C?C:void 0 !== this.u.Ma?q.K.Ga(this.u.Ma):void 0,splice:A});this.Qu=this.ve.A_;A=this.FD.normalize();z=A.KW;A=A.vE;z && this.Xla && (this.Xq=this.Xla.Aa(this.ec));return {KW:z,vE:A};};y.prototype.IBa=function(z){var A;return f.oq((null === (A=this.Uz) || void 0 === A?void 0:A.value) || f.Mc.Lj) && (!z || this.GU + this.J.Aba < t.default.time.ga());};y.prototype.Ks=function(z){void 0 === z && (z=!1);this.IBa(z) && (this.GU=t.default.time.ga(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};y.prototype.Ula=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};y.prototype.toJSON=function(){var z,A;return {segment:this.u.id,branchOffset:this.Ze,viewableId:this.Op.L,contentStartPts:null === (z=this.ec) || void 0 === z?void 0:z.U,contentEndPts:null === (A=this.Jd) || void 0 === A?void 0:A.U};};return y;})(l.Ow);b.jNa=a;v.Re(r.tu,a);},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QOa=void 0;c=a(0);m=a(434);k=a(2);r=(function(){function l(d){var f,h,g,n,p,q,t;f=d.console;h=d.config;g=d.P;n=d.Kl;p=d.u;q=d.ec;t=d.Jd;d=d.splice;this.yY=this.eO=!1;this.console=f;this.config=h;this.Kl=n;this.P=g;this.u=p;this.ec=q;this.Jd=t;this.splice=d;this.nWb();}l.prototype.ta=function(d){if(this.eO)throw Error("Cannot call init() after cleanup");if(this.yY)throw Error("Cannot call init() twice");this.yY=!0;this.Ccb=d;this.P.Nv.addListener("onHeaderFragments",this.IZa);this.mna() && this.Gxa();};l.prototype.normalize=function(){if(this.eO)throw Error("Cannot call normalize() after cleanup");if(this.yY)throw Error("Cannot call init() / normalize() twice");this.yY=!0;k.assert(this.mna());return this.Gxa();};l.prototype.W7b=function(d,f){k.assert(this.yY,"expected to be called init() before renormalize");this.u=d;this.Jd=f;d=m.dAa(this.config,this.Kl,this.Jd);this.Xba();return d;};l.prototype.Zc=function(){this.eO || (this.eO=!0,this.Ccb=void 0,this.P.Nv.removeListener("onHeaderFragments",this.IZa));};l.prototype.nWb=function(){var d;d=this;this.IZa=function(){d.eO || d.mna() && d.Gxa();};};l.prototype.Gxa=function(){var d,f,h;if(this.eO)return {KW:!1,vE:!1};f=this.q1b();h=!1;this.u && !this.u.om && (h=this.Xba());null === (d=this.Ccb) || void 0 === d?void 0:d.call(this,f,h);this.Zc();return {KW:f,vE:h};};l.prototype.mna=function(){return this.Kl.every(function(d){return d.track.Vd;});};l.prototype.q1b=function(){var d,f;d=c.__read(m.Vbb(this.config,this.Kl,this.ec,this.Jd,this.splice),2);f=d[0];return d[1] || void 0 === this.Kl.get(1) && f;};l.prototype.Xba=function(){var d,f,h;k.assert(this.u);k.assert(!this.u.om);d=this.Kl.A_;f=m.Xbb(this.config,d,this.u.Oe);if(void 0 === f || void 0 === d.Jd)return !1;d=d.Jd;h=this.config.FDa && "lazy" === this.u.se?m.dab(this.console,this.u,this.Kl):[];this.u.normalize(f,d,h);return !0;};return l;})();b.QOa=r;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y;function c(z){return function(){return "[" + z + ":padding]";};}Object.defineProperties(b,{__esModule:{value:!0}});b.VNa=b.WC=void 0;m=a(0);k=a(61);l=a(399);d=a(20);r=a(76);f=a(1053);h=a(35);g=a(181);n=a(2);p=a(387);q=a(7);t=m.__importDefault(a(4));v=a(250);u=a(403);w=a(9);x=a(126);a=a(433);(function(z){z[z.SS=0]="CREATED";z[z.KS=1]="CANCELLED";})(y=b.WC || (b.WC={}));a=(function(z){function A(B,C,D,F,G,E){B=z.call(this,C,F,D,d.K.Ia,q.oi(t.default,B,"AsePadding")) || this;B.P=G;B.config=E;B.om=new q.ZC();B.console.trace("AsePaddingBranch {" + C.id + "}: created");return B;}m.__extends(A,z);A.prototype.bJb=function(B){return m.__awaiter(this,void 0,void 0,function(){var C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T;return m.__generator(this,function(U){switch(U.label){case 0:return (n.assert(!this.LN),[4,this.N5b()]);case 1:return (C=U.ob(),D=C.nf,F=C.Td,G=C.bitrate,E=C.Kt,H=p.A4.instance(),L=H.JTb(F,B.Aa(D),G,E),K=new d.K(L.duration),I=new d.K(L.la),R=I.X,O=L.profile,J=L.bitrate,M=L.channels,P=K.add(D),S={A8a:!0,mediaType:0,Af:O,profile:O,X:R,Hg:[{ye:0,data:L.ta}],la:I,nf:D,P:this.P,bitrate:J,track:{mediaType:0,Ro:!1,la:I,P:this.P,channels:M,sampleRate:48E3,profile:O,bd:[],Kt:E,toString:c(0)}},S.Mo=S.track.Mo=l.FS.prototype.Mo.bind(S.track),w.R && this.console.trace("AsePaddingBranch {" + this.u.id + "}: audio queue",S,P.Zb()),S.track.bd.push(S),T=new f.gga(L.ta,L.va,S,R,D.wg(R).bb,P.wg(R).bb,new d.K(L.la),q.oi(t.default,this.console,"[0]"),this,this.v4a.bind(this,R),B.U),T.ej({start:-Math.ceil(D.Ok(I))}),this.LN=new g.CL(this.console,1),this.LN.enqueue(T),[2]);}});});};A.prototype.hKb=function(){var B,C,D;return m.__awaiter(this,void 0,void 0,function(){var F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga;return m.__generator(this,function(N){switch(N.label){case 0:return (n.assert(!this.oS),[4,this.O5b()]);case 1:return (F=N.ob(),G=F.AA,E=F.Kt,H=p.A4.instance(),this.u.kg.Aa(this.u.Oe),this.oS=new g.CL(this.console,1),L=null === (D=null === (C=null === (B=this.parent) || void 0 === B?void 0:B.$a(1)) || void 0 === C?void 0:C.track.la) || void 0 === D?void 0:D.pfb(),n.assert(L,"padding branches should always have a frameRate"),K=H.KTb(this.P.hfc,L,G,E),I=new d.K(K.duration),R=K.profile,O=K.bitrate,J=K.width,M=K.height,P=K.Zi,S=K.$i,T=K.la.X,U=new d.K(K.la.bb,T),W=new v.pM(T,K.la.bb),fa={A8a:!0,mediaType:1,Af:R,profile:R,X:T,Hg:[{ye:0,data:K.ta}],la:U,P:this.P,bitrate:O,track:{mediaType:1,Ro:!1,la:U,frameRate:W,dba:W,wm:new u.ika({w:J,qt:M},{w:P,qt:S}),P:this.P,profile:R,bd:[],Kt:E,toString:c(1)}},fa.Mo=fa.track.Mo=l.FS.prototype.Mo.bind(fa.track),sa=new k.$w(this.console,fa,K.ta,["moov"],!0,{rgb:!0,tya:!0}),wa={la:U},Ba=sa.parse(wa),n.assert(Ba.Ay,"Failed to parse padding fragment header"),n.assert(Ba.Hg,"Failed to get initialization segments from padding fragment header"),fa.Hg=Ba.Hg,w.R && this.console.trace("AsePaddingBranch {" + this.u.id + "}: video queue",fa),fa.track.bd.push(fa),this.u.normalize(new d.K(this.Va,I.X),I,[]),Ga=new f.gga(K.ta,K.va,fa,T,this.Va,this.hb,new d.K(K.la),q.oi(t.default,this.console,"[1]"),this,this.v4a.bind(this,T)),this.oS.enqueue(Ga),[2,{duration:new d.K(K.duration)}]);}});});};Object.defineProperties(A.prototype,{Vv:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{oj:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Os:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vh:{get:function(){return this.om.vAa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{D1:{get:function(){return this.om.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ut:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{X:{get:function(){return this.u.Oe.X;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Va:{get:function(){return this.u.Oe.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hb:{get:function(){return this.u.kg.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Aj:{get:function(){return this.Bd.wg(this.X).bb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vt:{get:function(){return this.u.Oe.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{SI:{get:function(){n.assert(!this.u.u.fq,"exit zone not supported for padding segments");return d.K.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{BN:{get:function(){return this.LN && this.oS?this.LN.yt && this.oS.yt:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{JXa:{get:function(){return !(!this.LN && !this.oS);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{wq:{get:function(){return this.u.Oe.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{cC:{get:function(){return this.u.kg.add(this.Bd);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{VY:{get:function(){return this.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Bd:{get:function(){return this.Xq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Hq:{get:function(){return d.K.Ia;},enumerable:!1,configurable:!0}});A.prototype.ta=function(){return m.__awaiter(this,void 0,void 0,function(){var B,C;return m.__generator(this,function(D){switch(D.label){case 0:(z.prototype.ta.call(this),D.label=1);case 1:return (D.Dh.push([1,6,,7]),this.console.trace("AsePaddingBranch {" + this.u.id + "}: init"),this.parent?[4,this.parent.D1]:[3,3]);case 2:(D.ob(),D.label=3);case 3:return (this.console.trace("AsePaddingBranch {" + this.u.id + "}: parent normalized"),[4,this.hKb()]);case 4:return (B=D.ob().duration,this.console.trace("AsePaddingBranch {" + this.u.id + "}: video duration " + B.Zb()),[4,this.bJb(B)]);case 5:return (D.ob(),this.om.resolve(),[3,7]);case 6:C=D.ob();if(!this.If)throw C;return [3,7];case 7:return [2];}});});};A.prototype.update=function(B){this.Op=B;};A.prototype.by=function(B){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(){this.console.trace("AsePaddingBranch {" + this.u.id + "}: getRequestIterator(" + B + ")");return 0 === B?[2,this.LN.nsa()]:[2,this.oS.nsa()];});});};A.prototype.BE=function(){};A.prototype.reset=function(){};A.prototype.vd=function(B){void 0 === B && (B="other");z.prototype.vd.call(this,B);this.Pc=y.KS;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:B});this.events.removeAllListeners();};A.prototype.HP=function(){return !0;};A.prototype.$a=function(){};A.prototype.B$=function(B){return [0,1].some(function(C){return C === B;});};A.prototype.hm=function(){return [];};A.prototype.pP=function(B){var C;return null === (C=this.parent) || void 0 === C?void 0:C.pP(B);};A.prototype.UX=function(){return [];};A.prototype.fJ=function(){};A.prototype.th=function(){return this.u.kg.Aa(this.u.Oe).U;};A.prototype.lB=function(){return {};};A.prototype.rP=function(){return this.u.kg.U;};A.prototype.Uy=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(){return [2,Promise.resolve()];});});};A.prototype.Fm=function(){return [];};A.prototype.mE=function(B){var C,D;return ! !((null === (C=this.Kc) || void 0 === C?0:C.greaterThan(B)) && (null === (D=this.fd) || void 0 === D?0:D.lessThan(B)));};A.prototype.FX=function(){return this.u.kg.Aa(this.u.Oe);};A.prototype.efa=function(){return !1;};A.prototype.toJSON=function(){var B,C;return {segment:this.u.id,viewableId:this.Op.L,contentStartPts:null === (B=this.ec) || void 0 === B?void 0:B.U,contentEndPts:null === (C=this.Jd) || void 0 === C?void 0:C.U};};A.prototype.O5b=function(){var B,C,D,F,G,E,H;return m.__awaiter(this,void 0,void 0,function(){var L,K,I;return m.__generator(this,function(R){switch(R.label){case 0:return (L=null === (C=null === (B=this.parent) || void 0 === B?void 0:B.$a(1)) || void 0 === C?void 0:C.re.im)?[3,2]:[4,null === (F=null === (D=this.parent) || void 0 === D?void 0:D.$a(1)) || void 0 === F?void 0:F.re.imb];case 1:R.ob();if(this.If)return [2,Promise.reject()];R.label=2;case 2:return (L=null === (E=null === (G=this.parent) || void 0 === G?void 0:G.$a(1)) || void 0 === E?void 0:E.re.im,n.assert(L,"Parent of padding branch must have last selected video stream"),K=null === (H=L.track.wm) || void 0 === H?void 0:H.AA,I=L.track.Kt,[2,{AA:K,Kt:I}]);}});});};A.prototype.N5b=function(){var B,C,D,F,G,E;return m.__awaiter(this,void 0,void 0,function(){var H,L,K,I,R;return m.__generator(this,function(O){switch(O.label){case 0:return (H=null === (C=null === (B=this.parent) || void 0 === B?void 0:B.$a(0)) || void 0 === C?void 0:C.re.im)?[3,2]:[4,null === (F=null === (D=this.parent) || void 0 === D?void 0:D.$a(0)) || void 0 === F?void 0:F.re.imb];case 1:O.ob();if(this.If)return [2,Promise.reject()];O.label=2;case 2:return (H=null === (E=null === (G=this.parent) || void 0 === G?void 0:G.$a(0)) || void 0 === E?void 0:E.re.im,n.assert(H,"Parent of padding branch must have last selected audio stream"),L=H.nf || d.K.Ia,K=-1 !== H.profile.indexOf("heaac")?"heaac":"ddp",I=H.bitrate,R=H.track.Kt,[2,{nf:L,Td:K,bitrate:I,Kt:R}]);}});});};A.prototype.v4a=function(B){return this.Xq.wg(B).bb;};return A=m.__decorate([x.XI],A);})(a.vga);b.VNa=a;h.Re(r.tu,a);},function(r,b,a){var c,m,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.gga=void 0;c=a(0);m=a(39);k=a(7);r=a(35);l=a(9);d=a(179);f=a(76);h=a(114);a=(function(g){function n(p,q,t,v,u,w,x,y,z,A,B){p=g.call(this,t,{index:0,offset:0,ca:0,Va:u,hb:w,X:v,yv:!0,Wo:!0,CC:B},A) || this;p.response=q;p.J3b=t;p.G=y;p.Sa={Xa:z,console:y,CYb:void 0,mediaType:t.mediaType,V_:function(){}};l.R && p.G.log("AsePaddingRequest [" + p.mediaType + "], constructed " + p.toString() + (", " + p.response.byteLength + " bytes, ") + (p.Yx + " samples"));return p;}c.__extends(n,g);Object.defineProperties(n.prototype,{profile:{get:function(){return this.J3b.profile;},enumerable:!1,configurable:!0}});n.prototype.ta=function(){};n.prototype.xt=function(){return !this.Ye;};n.prototype.eI=function(p,q,t,v){l.R && this.G.log("AsePaddingRequest [" + this.mediaType + "], appending " + this.toString() + (", " + (v || this.response.byteLength) + " bytes, ") + ((v?"":"not ") + "edited"));this.Ye=p.appendBuffer(v?k.$s(v):this.response,t || k.oy(this));return {status:this.Ye?h.Hj.Tw:h.Hj.ag};};n.prototype.abort=function(){return !1;};n.prototype.Zc=function(){};n.prototype.cR=function(){this.response=void 0;};n.prototype.toJSON=function(){return {viewableId:m.Pq,startPts:this.ba,endPts:this.ba + this.duration,"contentStartTicks:":this.Va,contentEndTicks:this.hb,contentStartPts:this.$c,contentEndPts:this.Jc};};Object.defineProperties(n.prototype,{Pa:{get:function(){return "" + m.Pq;},enumerable:!1,configurable:!0}});n.prototype.toString=function(){return "[padding c:" + this.ec.U + "-" + this.Jd.U + ",p:" + (this.fd.U + "-" + this.Kc.U + ",d:") + (this.Jd.U - this.ec.U + "]");};return n;})(a(75).jl);b.gga=a;r.Re(d.sG,a,!1);r.Re(f.tu,a);r.Re(f.lz,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TRa=void 0;c=a(0);r=(function(){function m(k,l){this.G=k;this.Bg=l;this.uCa=!1;}m.prototype.e8b=function(k){this.Pf(k.message,void 0,c.__assign(c.__assign({},k.Q2a),{err:k.toString()}));};m.prototype.Pf=function(k,l,d){void 0 === l && (l=void 0);void 0 === d && (d={});this.uCa || (d.temporaryFailure || (this.uCa=!0),k=c.__assign({type:"error",error:null !== l && void 0 !== l?l:"NFErr_MC_StreamingFailure",errormsg:k,temporaryFailure:!1},d),this.G.error("notifyStreamingError:",k),this.Bg.emit("error",k));};m.prototype.Vo=function(){return this.uCa;};return m;})();b.TRa=r;},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.$ia=void 0;c=a(0);m=a(2);k=a(7);l=a(9);d=a(265);r=(function(f){function h(g){var n;n=f.call(this) || this;n.na=g;n.ama={};n.Ya=[];n.lU=new d.z4({Zj:!1,currentTime:function(){return n.Ae?n.me:k.K.Pv;},speed:1});return n;}c.__extends(h,f);Object.defineProperties(h.prototype,{za:{get:function(){return this.lU;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vi:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{np:{get:function(){return this.kV;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gC:{get:function(){return this.ama;},enumerable:!1,configurable:!0}});h.prototype.h7=function(g,n){var p;p=!this.na;p && (this.na=g,this.Nka=(null === n || void 0 === n?0:n.Ae)?n.me:void 0,this.kV=null === n || void 0 === n?void 0:n.np,this.ama=(null === n || void 0 === n?void 0:n.gC) || ({}),null === n || void 0 === n?void 0:n.FQ());return p;};h.prototype.FQ=function(){this.ama=this.kV=void 0;};h.prototype.iE=function(){this.Ya=[];this.Nka=void 0;};h.prototype.nqa=function(g){l.R && m.assert(this.na === g);this.na=void 0;this.iE();};h.prototype.Wqa=function(){for(var g,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(g=this.Ya).push.apply(g,c.__spread(n));};h.prototype.$I=function(){return this.Nka?this.Nka:f.prototype.$I.call(this);};h.prototype.Uo=function(){return !1;};h.prototype.VF=function(){};h.prototype.aL=function(){};h.prototype.eda=function(){this.Ya=this.Ya.filter(function(g){return g.BN?(g.vd("pruned"),!1):!0;});};h.prototype.lb=function(){var g;g=this;f.prototype.lb.call(this);Object.keys(this.gC).map(function(n){return g.gC[n];}).forEach(function(n){null === n || void 0 === n?void 0:n.close();});};return h;})(a(436).mja);b.$ia=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.fZa=void 0;c=a(266);m=a(1058);b.fZa=function(){return function(k){var f,h,g,n;function l(p){n[p]=function(q){return h({rules:[{Ol:p,config:q}]},!0);};}function d(p){f[p]=function(q){return h({rules:[{Ol:p,config:q}]});};}f={};h=c.map(k.bab);for(g in k.oR){d(g);}f.Pxa=h({rules:[],pna:!0});f.Un=h({rules:[],Un:!0});n={};for(g in k.oR){l(g);}n.Pxa=h({rules:[],pna:!0},!0);n.Un=h({rules:[],Un:!0},!0);f.return=n;return {fqa:f,CAa:k,wza:function(p,q,t,v){return m.s0a(p,q,t,k.oR,k.bab,v);}};};};},function(r,b,a){(function(c,m){var k;(function(l){(function(d){var h,g;function f(n,p){return function(q,t){"function" !== typeof n[q] && Object.defineProperty(n,q,{configurable:!0,writable:!0,value:t});p && p(q,t);};}h="object" === typeof m?m:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();g=f(l);"undefined" === typeof h.Reflect?h.Reflect=l:g=f(h.Reflect,g);d(g);})(function(d){var H,L,K,I,R,O,J,M,P,S,T;function f(U,W,fa){var sa;sa=T.get(U);if(u(sa)){if(!fa)return;sa=new P();T.set(U,sa);}U=sa.get(W);if(u(U)){if(!fa)return;U=new P();sa.set(W,U);}return U;}function h(U,W,fa){if(g(U,W,fa))return !0;W=C(W);return null === W?!1:h(U,W,fa);}function g(U,W,fa){W=f(W,fa,!1);return u(W)?!1:! !W.has(U);}function n(U,W,fa){if(g(U,W,fa))return p(U,W,fa);W=C(W);if(null !== W)return n(U,W,fa);}function p(U,W,fa){W=f(W,fa,!1);if(!u(W))return W.get(U);}function q(U,W){var fa,Ba,Ga;fa=t(U,W);U=C(U);if(null === U)return fa;W=q(U,W);if(0 >= W.length)return fa;if(0 >= fa.length)return W;U=new S();for(var sa=[],wa=0;wa < fa.length;wa++){Ba=fa[wa];Ga=U.has(Ba);Ga || (U.add(Ba),sa.push(Ba));}for(fa=0;fa < W.length;fa++){Ba=W[fa];(Ga=U.has(Ba)) || (U.add(Ba),sa.push(Ba));}return sa;}function t(U,W){var fa,sa;fa=[];U=f(U,W,!1);if(u(U))return fa;U=U.keys();W=B(U,I);if(!A(W))throw new TypeError();U=W.call(U);if(!w(U))throw new TypeError();for(W=0;;){sa=U.next();sa=sa.done?!1:sa;if(!sa)return (fa.length=W,fa);sa=sa.value;try{fa[W]=sa;}catch(Ba){var wa;try{wa=U["return"];wa && wa.call(U);}finally{throw Ba;}}W++;}}function v(U){if(null === U)return 1;switch(typeof U){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === U?1:6;default:return 6;}}function u(U){return void 0 === U;}function w(U){return "object" === typeof U?null !== U:"function" === typeof U;}function x(U,W){var fa;switch(v(U)){case 0:return U;case 1:return U;case 2:return U;case 3:return U;case 4:return U;case 5:return U;}W=3 === W?"string":5 === W?"number":"default";fa=B(U,K);if(void 0 !== fa){U=fa.call(U,W);if(w(U))throw new TypeError();return U;}a:{if("string" === ("default" === W?"number":W)){W=U.toString;if(A(W) && (W=W.call(U),!w(W)))break a;W=U.valueOf;}else {W=U.valueOf;if(A(W) && (W=W.call(U),!w(W)))break a;W=U.toString;}if(!A(W) || (W=W.call(U),w(W)))throw new TypeError();}return W;}function y(U){U=x(U,3);return "symbol" === typeof U?U:"" + U;}function z(U){return Array.isArray?Array.isArray(U):U instanceof Object?U instanceof Array:"[object Array]" === Object.prototype.toString.call(U);}function A(U){return "function" === typeof U;}function B(U,W){U=U[W];if(void 0 !== U && null !== U){if(!A(U))throw new TypeError();return U;}}function C(U){var W,fa;W=Object.getPrototypeOf(U);if("function" !== typeof U || U === M || W !== M)return W;fa=U.prototype;fa=fa && Object.getPrototypeOf(fa);if(null == fa || fa === Object.prototype)return W;fa=fa.constructor;return "function" !== typeof fa || fa === U?W:fa;}function D(){var sa,wa,Ba;function U(Ga){return Ga;}function W(Ga,N){return N;}function fa(Ga,N){return [Ga,N];}sa={};wa=[];Ba=(function(){function Ga(N,Q,V){this.ue=0;this.sf=N;this.Uf=Q;this.iAb=V;}Ga.prototype["@@iterator"]=function(){return this;};Ga.prototype[I]=function(){return this;};Ga.prototype.next=function(){var N,Q;N=this.ue;if(0 <= N && N < this.sf.length){Q=this.iAb(this.sf[N],this.Uf[N]);N + 1 >= this.sf.length?(this.ue=-1,this.Uf=this.sf=wa):this.ue++;return {value:Q,done:!1};}return {value:void 0,done:!0};};Ga.prototype.throw=function(N){0 <= this.ue && (this.ue=-1,this.Uf=this.sf=wa);throw N;};Ga.prototype.return=function(N){0 <= this.ue && (this.ue=-1,this.Uf=this.sf=wa);return {value:N,done:!0};};return Ga;})();return (function(){function Ga(){this.sf=[];this.Uf=[];this.lx=sa;this.Hu=-2;}Object.defineProperty(Ga.prototype,"size",{get:function(){return this.sf.length;},enumerable:!0,configurable:!0});Ga.prototype.has=function(N){return 0 <= this.Yz(N,!1);};Ga.prototype.get=function(N){N=this.Yz(N,!1);return 0 <= N?this.Uf[N]:void 0;};Ga.prototype.set=function(N,Q){N=this.Yz(N,!0);this.Uf[N]=Q;return this;};Ga.prototype.delete=function(N){var Q,V;Q=this.Yz(N,!1);if(0 <= Q){V=this.sf.length;for(Q+=1;Q < V;Q++){this.sf[Q - 1]=this.sf[Q];this.Uf[Q - 1]=this.Uf[Q];}this.sf.length--;this.Uf.length--;N === this.lx && (this.lx=sa,this.Hu=-2);return !0;}return !1;};Ga.prototype.clear=function(){this.sf.length=0;this.Uf.length=0;this.lx=sa;this.Hu=-2;};Ga.prototype.keys=function(){return new Ba(this.sf,this.Uf,U);};Ga.prototype.values=function(){return new Ba(this.sf,this.Uf,W);};Ga.prototype.entries=function(){return new Ba(this.sf,this.Uf,fa);};Ga.prototype["@@iterator"]=function(){return this.entries();};Ga.prototype[I]=function(){return this.entries();};Ga.prototype.Yz=function(N,Q){this.lx !== N && (this.Hu=this.sf.indexOf(this.lx=N));0 > this.Hu && Q && (this.Hu=this.sf.length,this.sf.push(N),this.Uf.push(void 0));return this.Hu;};return Ga;})();}function F(){return (function(){function U(){this.ph=new P();}Object.defineProperty(U.prototype,"size",{get:function(){return this.ph.size;},enumerable:!0,configurable:!0});U.prototype.has=function(W){return this.ph.has(W);};U.prototype.add=function(W){return (this.ph.set(W,W),this);};U.prototype.delete=function(W){return this.ph.delete(W);};U.prototype.clear=function(){this.ph.clear();};U.prototype.keys=function(){return this.ph.keys();};U.prototype.values=function(){return this.ph.values();};U.prototype.entries=function(){return this.ph.entries();};U.prototype["@@iterator"]=function(){return this.keys();};U.prototype[I]=function(){return this.keys();};return U;})();}function G(){var sa,wa;function U(){var Ba,Q;do {Ba="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):fa(new Uint8Array(16),16):fa(Array(16),16);Ba[6]=Ba[6] & 79 | 64;Ba[8]=Ba[8] & 191 | 128;for(var Ga="",N=0;16 > N;++N){Q=Ba[N];if(4 === N || 6 === N || 8 === N)Ga+="-";16 > Q && (Ga+="0");Ga+=Q.toString(16).toLowerCase();}Ba="@@WeakMap@@" + Ga;}while(J.has(sa,Ba));sa[Ba]=!0;return Ba;}function W(Ba,Ga){if(!H.call(Ba,wa)){if(!Ga)return;Object.defineProperty(Ba,wa,{value:J.create()});}return Ba[wa];}function fa(Ba,Ga){for(var N=0;N < Ga;++N){Ba[N]=255 * Math.random() | 0;}return Ba;}sa=J.create();wa=U();return (function(){function Ba(){this.Pu=U();}Ba.prototype.has=function(Ga){Ga=W(Ga,!1);return void 0 !== Ga?J.has(Ga,this.Pu):!1;};Ba.prototype.get=function(Ga){Ga=W(Ga,!1);return void 0 !== Ga?J.get(Ga,this.Pu):void 0;};Ba.prototype.set=function(Ga,N){W(Ga,!0)[this.Pu]=N;return this;};Ba.prototype.delete=function(Ga){Ga=W(Ga,!1);return void 0 !== Ga?delete Ga[this.Pu]:!1;};Ba.prototype.clear=function(){this.Pu=U();};return Ba;})();}function E(U){U.jvb=void 0;delete U.jvb;return U;}H=Object.prototype.hasOwnProperty;L="function" === typeof Symbol;K=L && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";I=L && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";L="function" === typeof Object.create;R=({__proto__:[]}) instanceof Array;O=!L && !R;J={create:L?function(){return E(Object.create(null));}:R?function(){return E({__proto__:null});}:function(){return E({});},has:O?function(U,W){return H.call(U,W);}:function(U,W){return (W in U);},get:O?function(U,W){return H.call(U,W)?U[W]:void 0;}:function(U,W){return U[W];}};M=Object.getPrototypeOf(Function);P=(L="object" === typeof c && c.dX && "true" === c.dX.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;S=L || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?F():Set;T=new (L || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(U,W,fa,sa){var Ba;if(u(fa)){if(!z(U))throw new TypeError();if("function" !== typeof W)throw new TypeError();for(fa=U.length - 1;0 <= fa;--fa){if((sa=(0,U[fa])(W),!u(sa) && null !== sa)){if("function" !== typeof sa)throw new TypeError();W=sa;}}return W;}if(!z(U))throw new TypeError();if(!w(W))throw new TypeError();if(!w(sa) && !u(sa) && null !== sa)throw new TypeError();null === sa && (sa=void 0);fa=y(fa);for(var wa=U.length - 1;0 <= wa;--wa){Ba=(0,U[wa])(W,fa,sa);if(!u(Ba) && null !== Ba){if(!w(Ba))throw new TypeError();sa=Ba;}}return sa;});d("metadata",function(U,W){return function(fa,sa){var wa;if(!w(fa))throw new TypeError();if(wa=!u(sa)){a:switch(v(sa)){case 3:wa=!0;break a;case 4:wa=!0;break a;default:wa=!1;}wa=!wa;}if(wa)throw new TypeError();f(fa,sa,!0).set(U,W);};});d("defineMetadata",function(U,W,fa,sa){if(!w(fa))throw new TypeError();u(sa) || (sa=y(sa));f(fa,sa,!0).set(U,W);});d("hasMetadata",function(U,W,fa){if(!w(W))throw new TypeError();u(fa) || (fa=y(fa));return h(U,W,fa);});d("hasOwnMetadata",function(U,W,fa){if(!w(W))throw new TypeError();u(fa) || (fa=y(fa));return g(U,W,fa);});d("getMetadata",function(U,W,fa){if(!w(W))throw new TypeError();u(fa) || (fa=y(fa));return n(U,W,fa);});d("getOwnMetadata",function(U,W,fa){if(!w(W))throw new TypeError();u(fa) || (fa=y(fa));return p(U,W,fa);});d("getMetadataKeys",function(U,W){if(!w(U))throw new TypeError();u(W) || (W=y(W));return q(U,W);});d("getOwnMetadataKeys",function(U,W){if(!w(U))throw new TypeError();u(W) || (W=y(W));return t(U,W);});d("deleteMetadata",function(U,W,fa){var sa;if(!w(W))throw new TypeError();u(fa) || (fa=y(fa));sa=f(W,fa,!1);if(u(sa) || !sa.delete(U))return !1;if(0 < sa.size)return !0;U=T.get(W);U.delete(fa);if(0 < U.size)return !0;T.delete(W);return !0;});});})(k || (k={}));}).call(this,a(123),a(201));},function(r,b,a){var d,f,h,g,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function m(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function k(p,q){var u;for(var t=Object.getPrototypeOf(p),v=[];t !== Object.prototype;){v=v.concat(Object.getOwnPropertyNames(t));t=Object.getPrototypeOf(t);}p=Object.keys(p).concat(v);q.__proxyCtor || (q.__proxyCtor=void 0);u=Object.getPrototypeOf(q);p.forEach(function(w){Object.getOwnPropertyDescriptor(q,w) || Object.getOwnPropertyDescriptor(u,w) || q[w] || Object.defineProperty(q,w,{get:function(){},configurable:!0,enumerable:!0});});}function l(p,q,t,v){var x;for(var u=[],w=4;w < arguments.length;w++){u[w - 4]=arguments[w];}x=v();if((null === x || void 0 === x?0:x.gxa) || (null === x || void 0 === x?0:x.Eb))u=u.map(function(y,z){var A;z=n.Sab(x.gxa,null === (A=x.Eb) || void 0 === A?void 0:A[z]);return g.Mda(q,y,t,z);});u=p.call.apply(p,d.__spread([void 0],u));return (null === x || void 0 === x?0:x.return)?g.Mda(q,u,t,x.return,h.Yw.qDa):u;}Object.defineProperties(b,{__esModule:{value:!0}});b.kQb=b.pLb=b.s0a=void 0;d=a(0);f=a(266);h=a(188);g=a(437);n=a(1059);b.s0a=function(p,q,t,v,u,w){var x,y;void 0 === w && (w=[]);x={};y=f.H5a(u);k(q,p);w.forEach(function(z){return k(z,p);});return new Proxy(p,{get:function(z,A){var B,C,D,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){F=q[A];return "function" === typeof F?F.bind(q):F;}B=x[A];if(!B && !m(x,A)){B=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=m(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,C=y.bind(null,C,A),z=l.bind(z,F.bind(z),t,v,C),Object.defineProperty(x,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(C=y.bind(null,z,A),z=l.bind(z,F.bind(z),t,v,C),x[A]=z):F;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete x[A];return !0;}});};b.pLb=k;b.kQb=l;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Sab=void 0;c=a(0);m=a(21);b.Sab=function(k,l){var d;if(k || l){d=(null === k || void 0 === k?0:k.rules) && (null === l || void 0 === l?0:l.rules)?m.b7(k.rules,l.rules):(null === k || void 0 === k?void 0:k.rules) || (null === l || void 0 === l?void 0:l.rules);return c.__assign(c.__assign(c.__assign({},k),l),{rules:d});}};},function(r,b,a){var m;function c(k,l){var d,f;d=m.__assign({},k);f=m.__read(null !== l && void 0 !== l?l:[],1)[0];f && k[f] && (k=k[f],"object" === typeof k?(l=l.concat(),l.shift(),d[f]=c(k,l)):d[f]=k);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.vhb=b.jpa=b.P9=b.G8a=b.J8a=b.e9a=b.k7a=b.$8a=b.Ae=void 0;m=a(0);b.Ae=function(k){return !(null === k || void 0 === k || !k.position);};b.$8a=function(k){return !(null === k || void 0 === k || !k.V) && !(null === k || void 0 === k || !k.offset);};b.k7a=function(k){return !(null === k || void 0 === k || !k.V) || !(null === k || void 0 === k || !k.segmentId);};b.e9a=function(k,l){return "string" === typeof k && !(!l.dh.Z.M[k] && !l.zc.Z.M[k]);};b.J8a=function(k){return !(null === k || void 0 === k || !k.L) && !(null === k || void 0 === k || !k.hn);};b.G8a=function(k){return !(null === k || void 0 === k || !k.Bd);};b.P9=function(k,l){var d;d=k;l.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.jpa=c;b.vhb=function(k,l,d){for(var f=0;f < l.length - 1 && k;f++){k=k[l[f]];}return k?(k[l[l.length - 1]]=d,!0):!1;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SOa=void 0;c=a(53);r=(function(){function m(k){this.$a=k;}Object.defineProperties(m.prototype,{ke:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});m.prototype.Sk=function(k){var l,d;k=k.Yi;if(k === c.he.op || k === c.he.aq){k={};l=this.$a(1);d=this.$a(0);l && (k.videoPipelineSummary=this.ljb(l));d && (k.audioPipelineSummary=this.ljb(d));return k;}};m.prototype.ljb=function(k){var l,d,f,h,g;g=k.Sa.aa;return {actualStartPlayerTimestamp:null === (l=g.fd) || void 0 === l?void 0:l.U,actualPartialPlayerTimestamp:g.odb,actualCompletePlayerTimestamp:null === (d=k.Oma) || void 0 === d?void 0:d.U,segmentId:k.V,contentStartMs:null === (f=k.ec) || void 0 === f?void 0:f.U,contentEndMs:null === (h=k.Jd) || void 0 === h?void 0:h.U,streamingPlayerMs:k.bG.U,isStreamable:k.fF(),isNormalized:k.vh(),isDoneStreaming:k.zt(),trackNeedsHeaderRequest:k.track.Nba,completedRequests:g.y_a,activeRequests:k.Sa.hr,unsentRequests:k.Sa.lu,bytes:{current:g.ca,received:g.jfb,partial:g.wj,completed:g.lE,unsent:g.Edc}};};return m;})();b.SOa=r;},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.GPa=void 0;c=a(0);m=a(9);k=a(7);l=a(53);d=a(438);r=(function(){function f(h,g){var n;n=this;this.Xya=h;this.na=g;this.Udb=new k.cH();g.events.on("branchesReevaluated",function(){n.Udb.push(h.size);});}Object.defineProperties(f.prototype,{ke:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fw:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return m.R;},enumerable:!1,configurable:!0}});f.prototype.Sk=function(h){var g;h=h.Yi;if(h === l.he.aq || h === l.he.op){g={branchCountStats:this.Udb.toJSON(),decisions:this.na.Yg.toJSON(),player:this.na.O.Kv?this.na.O.Ya.map(function(n){return n.u.id;}):[]};this.Xya.forEach(function(n,p){var q,t;t=d.rsa(n);g[p]=c.__assign({probabilities:n.Uh.map(function(v){return {duration:v.duration,immediate:v.YE,seamless:v.Ee};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.u.id,normalized:n.vh,hasViewable:n.ut,headerRequested:n.ut && n.P.oY},t);});return g;}};return f;})();b.GPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BLa=void 0;r=(function(){function a(c,m,k){this.Xd=c;this.G=m;this.events=k;this.vK=[];}a.prototype.gg=function(c){var m;m=this;this.vK.push(c);this.Xd.j0a(function(){m.tkb(c,{bXb:!0});},c.mZa,c.tv);};a.prototype.PYb=function(c){var m,k;m=this;k={Yi:c};this.vK.forEach(function(l){m.tkb(l,k);});};a.prototype.tkb=function(c,m){var k,l;try{k=c.Lf(m);l=k.event;k.aib && this.events.emit(c.tv,l);}catch(d){this.G.error("Error generating event for " + c.tv,d);}};return a;})();b.BLa=r;},function(r,b,a){var c,m,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.XIa=void 0;r=a(0);c=a(14);m=r.__importDefault(a(33)).default.AJ;k=r.__importDefault(a(148));l=r.__importDefault(a(4));d=a(184);f=a(21);h=a(2);a=(function(){function g(n,p,q,t,v){this.config=n;this.Aac=p;this.navigator=q;this.events=t;this.console=v;n=d.lP(this.config);this.Ty=n.Ty.bind(n);this.TK=n.TK.bind(n);this.zX=n.zX.bind(n);this.gY=n.gY.bind(n);this.heb=[n.t_.bind(n),n.mK.bind(n)];}g.prototype.F9b=function(n,p,q,t,v,u,w){var x,y,z,A,B,C,D,F,G;y=[];if(!this.xdb(v.track))return {stream:C,B0:y,reason:"locationSelectionFailure"};z=v.Ej;A=z.re;B=v.q9;C=A.im;D=u?u.pn(v.track.bd,n,q.Aa(v.Xa.Bd),v.vh()):v.track.bd;if(0 === D.length && (null === u || void 0 === u?0:u.nFb))return {stream:void 0,B0:y,reason:"allStreamsFiltered"};C && !C.track.equals(v.track) && (C=this.lPb(C,D));F=v.mediaType;if((u=0 === F) && C && !this.eac(A,C))return (this.config.R6a && this.Ty(C.bitrate),{stream:C,B0:y});n=c.Qca(n);p=this.PJb(n,p,t,v,! !w);t=this.heb[F];w=u?this.gY():this.zX();v=z.eBa(p,D,w,t,!0,v.track.P.Cr,B);if(!v)return {stream:C,B0:y,reason:"streamSelectionFailure"};z={ff:v.ff,u_:v.u_};if(v.reason){G={reason:v.reason,dBa:v.Ov,zB:v.zB,mq:v.mq,nq:v.nq};this.Qoa(F,D,q);}this.XMb(F,v,D);C=D[v.gf];q=C.bitrate;u?this.config.R6a && this.Ty(q):this.TK(q);A.Lhb(C);if(null === (x=v.ZA) || void 0 === x?0:x.length)y=v.ZA.map(function(E){return f.Vc(D,function(H){return H.id === E;});}).filter(f.Yba);return {stream:C,B0:y,EP:G,tC:z,zy:v.zy};};g.prototype.Soa=function(n,p,q,t,v,u,w){var x,y,z;if(!c.oq(p))return {complete:!0,reason:"playing"};if(!u.meb)return {complete:!1,reason:"unknown"};if(u.A3b)return (h.assert(u.Tcb),u.Tcb);x=u.Ej;y=x.re;q=this.x4a(u,q);z=y.im;y=q.Kk - q.oc;if(y < this.config.uj || void 0 === z)return {complete:!1,aE:y,reason:"preBuf"};if(0 === u.mediaType)return {complete:!0,aE:y,reason:"audio"};if(n=n.MZa(u.mediaType))return {complete:!0,aE:y,reason:n};this.xdb(u.track);x.cza([z],!1,c.Qca(p),q,this.heb[u.mediaType]);p=x.KA(q,p,v,z,{kv:w});if(!p.complete && t)return {complete:!0,reason:"prebufferTimeLimit",aE:y};p.aE=y;return p;};g.prototype.XMb=function(n,p,q){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:p,streamList:q});};g.prototype.WMb=function(n,p,q,t){n={type:"maxVideoBitrateChanged",time:l.default.time.ga(),streaming:t,maxvb_old:n,maxvb:p,reason:q};this.events.emit(n.type,n);};g.prototype.lPb=function(n,p){var q;q=p[0];p.filter(function(t){return t.Uv;}).every(function(t){return t.bitrate <= n.bitrate?q=t:!1;});return q;};g.prototype.eac=function(n,p){return 0 < this.config.TR.length?!0:(n=n.SP) && n === p.location?!1:!0;};g.prototype.xdb=function(n){return n.P.Dn.n1(n.P.L,n.bd);};g.prototype.x4a=function(n,p){var C;for(var q,t=p.Aa(this.Aac),v=[],u=n,w=p,x,y,z=0,A=0,B=!0;u;){C=u.n5a(t);if(!B && !u.oj)break;0 < C.aa.length && (w=C.aa[0].fd,void 0 === x && (x=C.aa[C.aa.length - 1].Kc,y=C.Bca >= C.aa.length?x:C.aa[C.Bca].fd),v=C.aa.concat(v),z+=0 < C.wj?C.wj:0,A+=C.hp);u=this.navigator.parent(u);B=!1;}return {Xs:l.default.jq()[n.mediaType],ba:Math.floor(w.U),oc:p.U,Cc:Math.floor(null !== (q=null === x || void 0 === x?void 0:x.U) && void 0 !== q?q:p.U),Kk:Math.floor(y?y.U:p.U),Lg:v.reduce(function(D,F){return D + F.ca;},0),wj:z,hp:A,W3a:v.length,aa:v};};g.prototype.PJb=function(n,p,q,t,v){var u,w,x;u=this.x4a(t,p);w=1 === t.mediaType?this.config.v1:this.config.HV;x=k.default.instance();return {state:n,Lr:n === c.wa.Dc,ye:t.mm,playbackRate:q,buffer:u,RW:w,C$a:!1,FO:v,hr:null === x || void 0 === x?void 0:x.hr,mediaType:t.mediaType,oc:p.U,Bt:!1,cva:!1,pda:0};};g.prototype.Qoa=function(n,p,q){var u,w;if(1 === n){n="manifest";for(var t=0,v=p.length - 1;0 <= v;--v){u=p[v];w=u.bitrate;if(m(u)){t=Math.max(t,w);break;}else this.config.K0 && !u.zv?n="bc":u.Sv?u.uB && (n="hf"):n="av";}this.Dab !== t && (this.WMb(this.Dab,t,n,q),this.Dab=t);}};return g;})();b.XIa=a;},function(r,b,a){var m,k,l,d;function c(f,h,g,n,p){var q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J;y=f.console;z=f.Fdc;A=f.Yg;B=f.w8b;C=f.fMb;D=f.pxa;F=f.boa;f=f.x3b;G=p || ({complete:!0,Hq:0});E=G.root;H=G.complete;L=G.lBb;K=G.agb;K=void 0 === K?0:K;G=G.Hq;I=K < B.length && B[K] === h.id;R=K < B.length?B[K]:n && A.get(n.id);O=p && n && R !== h.id?void 0 !== R?{Ee:0}:n.YEb(h.id):{Ee:1};A=O.Ee;O=O.YE;J=void 0 === O?0:O;O=(A + J) * (null !== (q=null === p || void 0 === p?void 0:p.S5b) && void 0 !== q?q:1);d && y.trace("reevaluateBranches: visiting " + h.id + ", distance: " + (g + ", probability: ") + (O + ", predecessor: ") + ((null === n || void 0 === n?void 0:n.id) + ", decision: ") + (R + ", predecessorComplete: ") + (H + ", isOnRequiredPath: ") + (I + ", requiredPathIndex: ") + (K + ", activeDistance: ") + (L + ", seamless ") + (A + ", immediate ") + (J + ", predecessor sum of: successor weights=") + ((null === n || void 0 === n?void 0:n.BCa) + ", immediate weights= ") + (null === n || void 0 === n?void 0:n.Iea));q=null !== (v=null === (t=z[h.id]) || void 0 === t?void 0:t.shift()) && void 0 !== v?v:h.duration.U;t=0 === q;if(!I){if(0 === O)return {yfa:!1,S6:!0};if(!H && 0 === J && G > F)return (f.zE=Math.min(f.zE || Infinity,G - F),{yfa:!1,S6:!0});if(!t && g >= C && 1 > O || !1 === E && O < D)return {yfa:!1,S6:!0};}K < B.length && m.assert(B[K] === h.id,"");p=null !== (u=null === p || void 0 === p?void 0:p.Uh) && void 0 !== u?u:[];n && 1 > A && (0 === J?p=p.concat([{Ee:A}]):(u=(null === (x=null === (w=n.u.fq) || void 0 === w?void 0:w[0]) || void 0 === x?void 0:x[0]) || 0,w=Math.max(0,n.duration.U - u),d && y.trace("reevaluateBranches: immediate: " + n.duration.U + ", " + u + ", " + w),p=p.concat([{Ee:A,YE:J,duration:w}])));w=k.a7(f.Dda,function(M){return M.u === n;});f.Dda.push({u:h,nw:f.Dda[w],Uh:p});g=H?g + h.duration.U:L;d && y.trace("reevaluateBranches: added " + h.id + ", visiting successors, active distance: " + (g + " probabilities: ") + JSON.stringify(p));return {yfa:!0,S6:I,state:{root:!n,complete:t,S5b:O,Uh:p,lBb:g,agb:K + 1,Hq:G + q}};}Object.defineProperties(b,{__esModule:{value:!0}});b.Scc=b.nfc=b.sda=void 0;m=a(2);r=a(9);k=a(21);l=a(440);d=r.R && !1;b.sda=function(f,h,g,n,p,q,t,v,u){var w,x,y,z;x={Dda:[]};y=(null === (w=g.kg) || void 0 === w?void 0:w.Aa(g.Oe).U) || 0;0 < q.length && m.assert(g.id === q[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");d && f.trace("reevaluateBranches: starting at " + g.id + " requiredPath: " + JSON.stringify(q));z={console:f,Fdc:n,Yg:p,w8b:q,fMb:t.U + y,pxa:v,boa:u.U,x3b:x};h.mfc(g,function(A,B,C,D){return c(z,A,B,C,D);});return x;};b.nfc=c;b.Scc=function(f,h){var g,n;g=new l.dka();f.forEach(function(p){h("starting tree");g.add(p,p.nw);});n=l.peb(g,function(p){return "" + p.u.id;});h("requiredBranches " + f.length,n.replace(/\n/g,"<>"));h("requiredBranches " + f.length,f.map(function(p){var q;return p.u.id + "::" + (null === (q=p.nw) || void 0 === q?void 0:q.u.id);}).reduce(function(p,q){return p + ", " + q;}));};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.RPa=void 0;c=a(0);m=a(435);r=(function(){function k(l){this.Z=l;this.M={};}k.prototype.j7a=function(l){return ! !this.Z.M[l];};k.prototype.ze=function(l){var d;d=this.M[l];if(void 0 === d){d=this.Z.M[l];if(void 0 === d)throw Error("Segment not found (" + l + ")");d=new m.WPa(l,d,this.Z.se);this.M[l]=d;}return d;};k.prototype.vRb=function(l){var d;d=this;return l.u.next?Object.keys(l.u.next).map(function(f){return d.ze(f);}):[];};k.prototype.A9a=function(l){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,l];case 1:(f.ob(),d=l,f.label=2);case 2:if(!d.u.Kb)return [3,4];d=this.ze(d.u.Kb);return [4,d];case 3:return (f.ob(),[3,2]);case 4:return [2];}});};k.prototype.SUb=function(l,d){return m.P8a(l.sP(d));};k.prototype.Gj=function(l){var d;d=this;Object.keys(l).forEach(function(f){var h;return null === (h=d.ze(f)) || void 0 === h?void 0:h.Gj(l[f]);});};return k;})();b.RPa=r;},function(r,b,a){var k,l,d;function c(f,h){var g,n;g=Object.keys(f);if(g.some(function(p){var q,t,v,u;return (null === (q=f[p]) || void 0 === q?void 0:q.se) !== (null === (t=h[p]) || void 0 === t?void 0:t.se) || (null === (v=f[p]) || void 0 === v?void 0:v.weight) !== (null === (u=h[p]) || void 0 === u?void 0:u.weight);}))return !0;n=Object.keys(h);return 0 !== k.__spread(l.Yu(g,n),l.Yu(n,g)).length?!0:!1;}function m(f,h){return f.some(function(g,n){var p;return 0 !== l.Yu(g,null !== (p=h[n]) && void 0 !== p?p:[]).length;}) || f.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.pZa=b.K_a=void 0;k=a(0);l=a(21);d=a(1068);b.K_a=function(f){return new d.xHa(function(h){return Object.keys(h.u.next || ({})).map(function(g){var n,p,q;g=f.ze(g);q=null !== (p=null === (n=h.kg) || void 0 === n?void 0:n.Aa(h.Oe).U) && void 0 !== p?p:Infinity;return {Yec:g,weight:q};});});};b.pZa=function(f,h){var g,n,p,q,t,v;g=Object.keys(f.M);n=Object.keys(h.M);p=n.filter(function(u){return -1 === g.indexOf(u);});q=g.filter(function(u){return -1 === n.indexOf(u);});t=g.filter(function(u){var w,x,y,z,A;if(-1 === n.indexOf(u))w=!1;else {w=f.M[u];u=h.M[u];w=w.Kb !== u.Kb || w.sa !== u.sa || w.qa !== u.qa || w.se !== u.se || w.L !== u.L || m(null !== (x=w.fq) && void 0 !== x?x:[],null !== (y=u.fq) && void 0 !== y?y:[]) || c(null !== (z=w.next) && void 0 !== z?z:{},null !== (A=u.next) && void 0 !== A?A:{})?!0:!1;}return w;});v=l.Yu(g,k.__spread(t,p,q));return {eCb:p,eR:q,HFb:t,zdc:v};};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xHa=void 0;c=a(2);m=a(254);k=a(1069);r=(function(){function l(d){this.LMb=d;this.UDa=!1;this.zfa=new k.rQa();}l.prototype.mfc=function(d,f){var g,n;function h(){var t,v,u,w,x,y;t=p.pop();v=t.node;u=t.V6;t=u.nw;w=u.FI;u=u.state;if(!q.zfa.has(v)){t=f(v,w,t,u);x=t.yfa;y=t.state;t.S6 || q.zfa.add(v);n(v).forEach(function(z){var A;A=z.Yec;g.zfa.has(A) || (z=w + z.weight,x && p.push({node:A,V6:{FI:z,nw:v,state:y}}));});}}g=this;n=this.LMb;c.assert(!this.UDa);this.UDa=!0;this.zfa.clear();for(var p=new m.P3([{node:d,V6:{FI:0,state:{root:!1,complete:!0,agb:0,Hq:0}}}],function(t,v){return t.V6.FI - v.V6.FI;}),q=this;!p.empty;){h();}this.UDa=!1;};return l;})();b.xHa=r;},function(r,b){var m,k,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.pTa);}function c(d){return (a(d)?d:Object.defineProperties(d,{pTa:{value:{},configurable:!1,enumerable:!1}})).pTa;}Object.defineProperties(b,{__esModule:{value:!0}});b.rQa=void 0;k=null !== (m=Number.MAX_SAFE_INTEGER) && void 0 !== m?m:1E9;l=Date.now() % k;r=(function(){function d(){this.cea=0;this.id=l=(l + 1) % k;}d.prototype.add=function(f){c(f)[this.id]=this.cea;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.cea;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.cea=(this.cea + 1) % k;return this;};return d;})();b.rQa=r;},function(r,b,a){var m,k,l,d;function c(f){return {value:f.Xa,parent:f.nw};}Object.defineProperties(b,{__esModule:{value:!0}});b.HPa=void 0;m=a(7);k=a(21);l=a(2);d=a(440);r=(function(){function f(){this.Ya=new m.VMa();this.ks=new d.dka();}Object.defineProperties(f.prototype,{empty:{get:function(){return this.Ya.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){return this.Ya.size;},enumerable:!1,configurable:!0}});f.prototype.reset=function(){var h;h=this.Ya.values();this.Ya.clear();this.ks.clear();h.forEach(function(g){return g.vd();});};f.prototype.Zx=function(h){return this.Ya.get(h);};f.prototype.has=function(h){return this.Ya.has(h);};f.prototype.root=function(){return this.ks.root;};f.prototype.contains=function(h){var g;g=h.u.id;if(this.has(g))return -1 !== this.Zx(g).indexOf(h);};f.prototype.ZO=function(h){this.ks.ZO(h);};f.prototype.aY=function(h){return this.ks.parent(h);};f.prototype.fRb=function(h){return this.ks.children(h);};f.prototype.Vta=function(h){return this.ks.Vta(h);};f.prototype.uda=function(h){var g;if(this.Ya.delete(h.u.id,h)){g=this.ks.children(h);this.ks.root === h?0 === g.length?this.ks.clear():(l.assert(1 === g.length,"cannot remove the root branch with multiple successors"),this.ks.$7b(g[0])):(l.assert(0 === g.length,"cannot remove non-root branch with successors"),this.ks.remove(h));}};f.prototype.forEach=function(h){var g;g=this;this.Ya.forEach(function(n,p){return h(n,p,g);});};f.prototype.reduce=function(h,g){var n;n=this;return this.Ya.reduce(function(p,q,t){return h(p,q,t,n);},g);};f.prototype.map=function(h){var g;g=this;return this.Ya.map(function(n,p){return h(n,p,g);});};f.prototype.filter=function(h){var g;g=this;return this.Ya.filter(function(n,p){return h(n,p,g);});};f.prototype.dUb=function(){var h;h={};this.forEach(function(g,n){var p;(g=g.Hq) && (null !== (p=h[n]) && void 0 !== p?p:h[n]=[]).push(g.U);});return h;};f.prototype.Ldc=function(h,g){var n,p;n=this;g=this.n_b(h,g);h=g.tl;p=this.ks.Q6b(g.target.map(c));g=p.eR;p=p.Ofb;h.forEach(function(q){return q.ta();});g.forEach(function(q){return n.Ya.delete(q.u.id,q);});return {eR:g,Ofb:p.map(function(q){return q.value;})};};f.prototype.n_b=function(h,g){var p,q,t,v;function n(u,w){if(u=g(u.u.id,w))(q.push(u),p.Ya.set(u.u.id,u));return u;}p=this;q=[];t=[];v=new Map();return {target:h.reduce(function(u,w,x){var y,z;l.assert(0 === x || w.nw);if(w.nw){y=v.get(w.nw);if(!y)return (t.push(w),u);}z=k.Vc(p.Zx(w.u.id),function(A){return p.ks.parent(A) === y || 0 === x;});(z=null !== z && void 0 !== z?z:n(w,y)) && v.set(w,z);z.Uh=w.Uh;u.push({Xa:z,nw:y});(null === z || void 0 === z?0:z.ut) && z.update(w.u);return u;},[]),tl:q};};return f;})();b.HPa=r;},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.RFa=void 0;c=a(0);m=c.__importDefault(a(4));k=a(14);l=a(7);d=a(20);f=a(2);h=a(63);g=a(62);r=(function(){function n(p,q,t,v,u,w,x){var y;y=this;void 0 === x && (x=500);this.G=p;this.config=q;this.Vb=t;this.events=v;this.Zqa=u;this.Xd=w;this.xEb=x;this.kza=this.am=0;this.tba=[];this.SO={kv:0};this.state=new l.As(k.Mc.Kj);this.ff=new l.As(k.wa.jh);this.Zh=new h.Eu({Xo:10,Hn:this,source:"BufferStateTracker",jna:function(){return {isBuffering:y.Df,alwaysRunUnderflowTimer:y.config.CN};}});}Object.defineProperties(n.prototype,{kv:{get:function(){return this.SO.kv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Df:{get:function(){return k.oq(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.mfa=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(t){0 === t.mediaType && (q.aZa=c.__assign(c.__assign({},q.aZa),{audio:{trackId:t.trackId,trackIndex:t.jG}}));});};n.prototype.mca=function(p){this.set(k.Mc.Kj);this.YK(p,k.Mc.sd);};n.prototype.eca=function(){this.SO.kv++;};n.prototype.WZ=function(p){this.config.CN || void 0 === this.FB && this.Df && this.Opa();this.FB={pJ:p.httpCode,ah:p.errorCode,vj:p.nativeCode};};n.prototype.oca=function(){this.FB=void 0;this.config.CN || this.s8();};n.prototype.ek=function(p){this.Df || (this.YK(p,k.Mc.bg),this.Df && (this.FB || this.config.CN) && this.Opa());};n.prototype.c3b=function(p,q){this.state.value !== k.Mc.sd && this.YK(p,k.Mc.WT);this.mfa(q);};n.prototype.w2b=function(p,q){var t;t=this;this.config.wEb && this.Df && (-1 === this.tba.indexOf(p) && this.tba.push(p),2 === this.tba.length && Promise.resolve().then(function(){t.Df && void 0 !== t.Wy && t.$e("memoryLimit",q.aS,q.bS);}));};n.prototype.$9b=function(p,q){f.assert(this.state.value === k.Mc.sd && void 0 === this.Wy);this.Wy=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.jG}),this.mfa(q));};n.prototype.n$b=function(p,q,t){f.assert(this.Df);this.Oua=null !== p && void 0 !== p?p:this.Oua;this.zY=null !== q && void 0 !== q?q:this.zY;void 0 === this.EP?this.EP=t:void 0 !== (null === t || void 0 === t?void 0:t.reason) && (this.EP.reason=t.reason);};n.prototype.$e=function(p,q,t){var v;f.assert(this.Df && void 0 !== this.Wy && void 0 === this.jI && void 0 === this.tfa && void 0 === this.G6);this.jI=p;this.tfa=q;this.G6=t;this.vr=100;this.fpa();this.s8();null === (v=this.Uoa) || void 0 === v?void 0:v.lb();this.state.value === k.Mc.bg && (this.kza=m.default.time.ga());this.E8();this.set(k.Mc.Lj);this.G6=this.tfa=this.jI=this.EP=this.zY=this.Oua=this.Wy=void 0;};n.prototype.stop=function(){var p;this.set(k.Mc.Kj);this.fpa();this.s8();null === (p=this.Uoa) || void 0 === p?void 0:p.lb();};n.prototype.Toa=function(p,q,t,v){var u,w,x,y,z,A,B,C,D,F;u=this;f.assert(this.Df);null === (w=this.Uoa) || void 0 === w?void 0:w.lb();if(this.state.value === k.Mc.bg && m.default.time.ga() < this.kza + this.config.oxa){z=this.config.oxa - (m.default.time.ga() - this.kza);this.Uoa=this.Xd.kO(g.Ih.qG(d.K.Ga(z)),function(){u.Toa(p,q,t,v);});}else {w=t.fJ(0);A=t.fJ(1);B=m.default.time.ga() - this.am;if(w || A){C=function(G){return G?G.fF() || G.zt()?v.Soa(u.state.value,p,B >= u.config.eC,q,G,u.kv):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=C(w);C=C(A);F=function(G){var E;return {reason:G.reason,complete:G.complete,bl:null !== (E=G.aE) && void 0 !== E?E:0};};this.Zh.Wu({as:F(D),vs:F(C),bt:B});F=A?C:D;F.afc=A && C.aE || 0;F.rDb=w && D.aE || 0;D.complete && C.complete?(F.complete=!0,this.$e(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.afc) && void 0 !== x?x:0,null !== (y=F.rDb) && void 0 !== y?y:0)):(F.complete=!1,this.QEb(F),this.Zh.Wu({bp:this.vr}));}}};n.prototype.QEb=function(p){var q,t,v;v=p.progress;p.oF?v=(m.default.time.ga() - this.am) / this.config.eC:v || (v=(null !== (q=p.aE) && void 0 !== q?q:0) / this.config.uj);p=Math.min(Math.max(Math.round(100 * v),null !== (t=this.vr) && void 0 !== t?t:0),99);p != this.vr && (this.vr=p);};n.prototype.YK=function(p,q){f.assert(q === k.Mc.sd || void 0 !== p);this.Wy=p;this.vr=0;this.$ba=void 0;this.SO.kv=0;this.tba=[];p=this.state.value === k.Mc.sd || this.state.value === k.Mc.bg;this.am=m.default.time.ga();this.set(q);p || (this.VMb(),this.L$b());};n.prototype.set=function(p){this.state.set(p);switch(p){case k.Mc.Kj:this.ff.set(k.wa.Kj);break;case k.Mc.sd:case k.Mc.WT:this.ff.set(k.wa.sd);break;case k.Mc.bg:this.ff.set(k.wa.bg);break;case k.Mc.Lj:this.ff.set(k.wa.Dc);}};n.prototype.VMb=function(){f.assert(this.events && void 0 !== this.vr);this.$ba=this.vr;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:m.default.time.ga(),percentage:this.vr});};n.prototype.L$b=function(){var p;p=this;this.fpa();this.r1b=this.Xd.j0a(function(){return p.UMb();},d.K.Ga(this.xEb),"buffering-notification");};n.prototype.fpa=function(){var p;null === (p=this.r1b) || void 0 === p?void 0:p.lb();};n.prototype.UMb=function(){this.Df && this.events && void 0 !== this.vr && this.vr !== this.$ba && this.events.emit("buffering",{type:"buffering",time:m.default.time.ga(),percentage:this.vr}) && (this.$ba=this.vr);};n.prototype.E8=function(){var p;f.assert(this.events && this.Wy && void 0 !== this.jI && void 0 !== this.G6 && void 0 !== this.tfa);this.$ba=this.vr;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:m.default.time.ga(),actualStartPosition:this.Wy,reason:this.jI,aBufferLevelMs:this.G6,vBufferLevelMs:this.tfa,selector:this.Oua,initBitrate:this.zY,initSelReason:null === (p=this.EP) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.Hqc},this.aZa));};n.prototype.Opa=function(){var p;p=this;this.config.plb && (!this.IC || this.IC.state !== g.fo.complete && this.IC.state !== g.fo.wO?void 0 === this.IC && (this.IC=this.Xd.UA(function(){return p.Gkb();},"underflow")):this.IC.cj());};n.prototype.s8=function(){this.IC && (this.IC.state !== g.fo.wO && this.IC.lb(),this.IC=void 0);};n.prototype.Gkb=function(){var p,q,t;return c.__generator(this,function(v){switch(v.label){case 0:return (p=this.config.aba,this.G.trace("BufferingStateTracker: starting underflow timer: " + p + "ms"),[4,g.Ih.qG(d.K.Ga(p))]);case 1:(v.ob(),v.label=2);case 2:if(!this.Df)return [3,4];q=this.Vb.yYb || 0;t=m.default.time.ga() - q;if(t >= p)return (this.G.trace("Forcing streaming failure, " + t + "ms since data received"),this.Zqa.d3b(this.FB),[2]);this.G.trace("BufferingStateTracker: network activity, wait " + (p - t) + "ms");return [4,g.Ih.qG(d.K.Ga(p - t))];case 3:return (v.ob(),[3,2]);case 4:return [2];}});};c.__decorate([h.jb({methodName:"onTemporaryNetworkError",wl:!0})],n.prototype,"WZ",null);c.__decorate([h.jb({methodName:"onUnderflow",wl:!0})],n.prototype,"ek",null);c.__decorate([h.jb({methodName:"bufferingComplete",wl:!0})],n.prototype,"$e",null);c.__decorate([h.jb({methodName:"stop",wl:!0})],n.prototype,"stop",null);c.__decorate([h.jb({methodName:"checkStreamingBufferingComplete",wl:!0})],n.prototype,"Toa",null);c.__decorate([h.jb({methodName:"createUnderflowTask",wl:!0})],n.prototype,"Opa",null);c.__decorate([h.jb({methodName:"destroyUnderflowTask",wl:!0})],n.prototype,"s8",null);c.__decorate([h.jb({methodName:"onUnderflowTimeout",wl:!0})],n.prototype,"Gkb",null);return n;})();b.RFa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fra=void 0;c=a(21);b.fra=function(m,k,l,d){var f;f=[];m=m.filter(function(h){return h.ut;}).map(function(h){var g,n;g=k(h.P,l,d);n=c.Yu(g,h.Qe).map(function(p){return p.mediaType;});f=c.b7(f,n);return {Xa:h,Qe:g};});return {GZa:f,nEb:m};};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kRa=void 0;c=a(0);m=a(20);k=a(2);b.kRa=(function(){function l(){}l.lUb=function(d){var f,h,g;if(d.vh){g=c.__read(d.Qe,2);d=g[0];g=g[1];if(d.Fc || (null === g || void 0 === g?0:g.Fc))return {Ylb:m.K.Pv,Zlb:m.K.Pv};d=null === (f=d.Fq) || void 0 === f?void 0:f.kg;f=null === (h=null === g || void 0 === g?void 0:g.Fq) || void 0 === h?void 0:h.kg;k.assert(d);h=f?m.K.min(d,f):d;return {Ylb:d,Zlb:h};}};return l;})();},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.IFa=void 0;r=a(0);c=a(11);m=a(7);k=a(62);l=a(9);d=a(14);f=r.__importDefault(a(4));a=(function(){function h(g,n,p,q,t,v){this.Xd=g;this.ps=n;this.config=p;this.l2b=q;this.yf=t;this.console=v;this.ala=new c.Gf();this.console=m.oi(f.default,v,"BranchDecisionMaker");}h.UQb=function(g){var n;return null !== (n=g.Kc) && void 0 !== n?n:g.cC;};h.NRb=function(g){var n,p;n=g.u;p=g.xQ;return n.Kb?n.Kb:p.length?p[0]:g.YB[0];};h.prototype.YCa=function(g,n){var p,q,t,v;p=this;t=g.u;l.R && this.console.trace("tracking " + g.u.id);this.reset();if(t.Cw || 1 >= t.YB.length && (null === (q=t.Py) || void 0 === q || !q.length))l.R && this.console.trace(g.u.id + " does not need tracking");else {v=this.REb(g);q=v.TAa;n=n.lessThan(v.VVb);l.R && this.console.trace("tracking " + g.u.id,{V:t.id,Jmc:n,qqc:null === q || void 0 === q?void 0:q.U});this.o9b(t,n?q:void 0);if(n)this.ala.on(g.events,"branchEdited",function(){p.YCa(g,p.Xd.za.currentTime);});}};h.prototype.XZa=function(){var g;null === (g=this.Z0a) || void 0 === g?void 0:g.lb();this.Z0a=void 0;};h.prototype.reset=function(){this.XZa();this.ala.clear();};h.prototype.REb=function(g){var n,p;g=h.UQb(g);n=m.K.Ga(this.config.uF);p=m.K.Ga(this.config.E0b + this.config.CZ);n=g.Aa(n);return {VVb:d.oq(this.yf.value)?g.Aa(p):n,TAa:n};};h.prototype.o9b=function(g,n){var p;p=this;this.XZa();this.Z0a=n?this.Xd.kO(k.Ih.Lw(n),function(){return p.M$a(g);},"scheduled branch decision"):this.ps.kO(k.Ih.sfc,function(){return p.M$a(g);},"immediate branch decision");};h.prototype.M$a=function(g){var n;this.ala.clear();n=h.NRb(g);l.R && this.console.trace("BranchDecisionMaker making decision for " + g.id + ", decision is " + n);this.l2b(g.id,n,!0);};return h;})();b.IFa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.u4a=void 0;c=a(1076);b.u4a=function(m,k){return m.reduce(function(l,d){var f;f=k(d);d.hm().forEach(function(h){return l.Yma(h.mediaType,h.Os,!f);});return l;},new c.QPa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.QPa=void 0;c=a(431);r=(function(){function m(){this.dt=new c.CT();this.LW=new c.CT();}Object.defineProperties(m.prototype,{total:{get:function(){var k;k=new c.CT();k.add(this.dt);k.add(this.LW);return k;},enumerable:!1,configurable:!0}});m.prototype.add=function(k){this.dt.add(k.dt);this.LW.add(k.LW);};m.prototype.Yma=function(k,l,d){(d?this.LW:this.dt).Yma(k,l);};return m;})();b.QPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.B6a=void 0;b.B6a=function(a,c){return a.reduce(function(m,k){return m + k.FX(c).U;},0);};},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.b0a=void 0;c=a(0);m=a(14);b.b0a=function(k){var h,g;function l(n){m.oq(n.newValue) && !m.oq(n.oldValue)?(null === g || void 0 === g?void 0:g.lb(),g=h.kO.apply(h,c.__spread(d))):null === g || void 0 === g?void 0:g.lb();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=k.zf;h=k.ps;f.state.addListener(l);l({oldValue:m.Mc.Kj,newValue:f.state.value});};},function(r,b,a){var m,k;function c(l,d){return Object.keys(l.HF).map(function(f){return l.HF[f];}).filter(function(f){return void 0 === f.lJ || 1 === f.lJ;}).reduce(function(f,h){return f + h.dt[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.SRa=void 0;m=a(14);k=a(9);r=(function(){function l(d,f,h){this.Z=d;this.console=f;this.Isa=h;}l.prototype.oFb=function(d,f,h){var g,n,p,q;g=h && this.Z.config.Hec;n=this.Z.config.nfa || g;p=this.Isa();if(g){g=d.global;g=(q={},q[0]=g[0] - c(d,0),q[1]=g[1] - c(d,1),q);}q=g;p=this.MZa(f) || this.XFb(d) || this.VFb(d,p,q) || this.WFb(d,p,q,f);q=m.Lza(p);if(p && (!q || n))return (k.R && this.console.log("canIssueRequest " + this.Z.id + " [" + f + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", failed " + p)),{result:!1,reason:p});k.R && this.console.log("canIssueRequest " + this.Z.id + " [" + f + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", success " + p));return {result:!0,reason:p};};l.prototype.MZa=function(d){var f;f=this.Z.config.Xv;if(this.Z.ERb(d) >= (f || Infinity))return "mediaDurationLimit";};l.prototype.XFb=function(d){return d.HF[this.Z.id].total.total > (this.Z.V9() || Infinity)?"playgraphMemoryLimit":void 0;};l.prototype.VFb=function(d,f,h){d=d.global;return h?h[0] + h[1] > (f.kCa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};l.prototype.WFb=function(d,f,h,g){var n;n=d.global;return h?(k.R && this.console.log("checkRequestByMediaTypeMemory [" + g + "]: using static limit " + (f.kCa[g] + ", usage: " + h) + (" (global: " + n[g] + "  - certain contiguous: ") + (c(d,g) + ")")),h[g] > (f.kCa[g] || Infinity)?1 === g?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[g] > (f.total[g] || Infinity)?1 === g?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return l;})();b.SRa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JPa=void 0;r=(function(){function a(c){this.console=c;this.$oa();}a.prototype.get=function(c){return this.rO[c] || this.Yg[c];};a.prototype.set=function(c,m){void 0 === this.Yg[c] && (this.Yg[c]=m);};a.prototype.f$b=function(c,m){void 0 === this.get(c) && (this.rO[c]=m);};a.prototype.clear=function(c){this.rO[c]=void 0;this.Yg[c]=void 0;};a.prototype.tGb=function(c){var m;this.Yg=(m={},m[c]=this.Yg[c],m);this.rO={};};a.prototype.$oa=function(){this.Yg={};this.rO={};};a.prototype.toJSON=function(){return {Yg:this.Yg,rO:this.rO};};return a;})();b.JPa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.MPa=b.KG=void 0;c=a(0);m=a(2);(function(l){l[l.SS=0]="CREATED";l[l.Fja=1]="STARTED";l[l.RT=2]="REQUEST_ISSUED";l[l.wz=3]="EVALUATED";l[l.SGa=4]="DESTRUCTED";})(k=b.KG || (b.KG={}));r=(function(){function l(d){this.Ry=d;this.Pc=k.SS;this.$F={};this.H0={};}Object.defineProperties(l.prototype,{state:{get:function(){return this.Pc;},enumerable:!1,configurable:!0}});l.prototype.start=function(){var d;d=this;this.Pc !== k.Fja && (this.wZ(k.Fja),[k.wz,k.RT].forEach(function(f){var h;h=new Promise(function(g){m.assert(d.H0 && d.$F,"state promises should be defined");d.H0[f]=g;d.$F[f]=h;});}),this.Ry(),this.wZ(k.wz));};l.prototype.wZ=function(d){this.Pc=d;this.H0 && (d=this.H0[d],null === d || void 0 === d?void 0:d());};l.prototype.lb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Pc !== k.Fja)return [3,2];m.assert(this.$F,"state resolves should be defined");return [4,this.$F[k.wz]];case 1:(d.ob(),d.label=2);case 2:return (this.H0=this.$F=void 0,this.Pc=k.SGa,[2]);}});});};l.prototype.Afa=function(d,f){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(g){switch(g.label){case 0:if(this.Pc === k.SGa)return [2];if(this.Pc === k.wz)return [3,6];m.assert(this.$F,"state promises should be defined");h=d;switch(h){case k.wz:return [3,1];case k.RT:return [3,3];}return [3,5];case 1:return [4,this.$F[k.wz]];case 2:return (g.ob(),[3,6]);case 3:return [4,this.$F[k.RT]];case 4:return (g.ob(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return l;})();b.MPa=r;},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pW=void 0;c=a(0);m=a(442);k=a(443);l=a(131);d=a(445);b.pW=function(f,h,g){var n,p,q,t,v,u;n=h.p_;p=h.sna;f=c.__assign({nha:k.mha},f).nha;q=n[5];n=d.cya(function(){return u;});q.dXa(n.Xt);g=g(h);q=new m.Bia();q.ta(g);v={uh:new f(function(){return t.Z;},q,h.p_[2]),get dh() {return t;},zc:g,Tua:q,$9a:"content"};u=new d.IGa(v,n.gjb,l.Fy.CAa.oR);return t=l.Fy.wza(g,u,function(){return v;},p);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.O9a=void 0;b.O9a=function(a){var c,m;c=a.next();do {if(!c.done)m=c.value;c=a.next();}while(!c.done);return m;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JGa=void 0;r=(function(){function a(c){this.Bo=c;this.ke="content-playgraph";this.enabled=!0;}a.prototype.Sk=function(){var c,m,k;c=this.Bo.zc;m=c.O;(m.Ae?m.ig:c.tt && c.Cj) && this.Bo.Bo && (m=m.ig,c=this.Bo.uh.qp(m),m=this.Bo.zc.Z.M[m.V].L,this.Bo.Z.M[c.V].L != m && (k=m));return {contentPlaygraph:this.Bo.Bo,auxMid:k};};return a;})();b.JGa=r;},function(r,b,a){var c,m;Object.defineProperties(b,{__esModule:{value:!0}});b.iGa=void 0;c=a(444);m=a(9);r=(function(){function k(l,d){this.Iac=l;this.Hn=d;}Object.defineProperties(k.prototype,{fw:{get:function(){return "cache-" + this.Iac;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ke:{get:function(){return this.fw;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return m.R;},enumerable:!1,configurable:!0}});k.prototype.Sk=function(){var l,d,f;l=c.B4a(this.Hn);d=Object.keys(l).filter(function(h){return l[h].isEnabled;});if(d.length){f={};d.forEach(function(h){f[h]={hit:l[h].voa,idx:l[h].jZa};});return {fmc:f};}};return k;})();b.iGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tdb=void 0;b.Tdb={"*":{U2a:["logdata"],rules:[{Ol:function(a){return a.bEa;}}]},locationSelected:[{Ol:function(a){return a.l0;}}],segmentComplete:[{Ol:function(a){return a.l0;}}],segmentStarting:[{Ol:function(a){return a.l0;}}],serverSwitch:[{Ol:function(a){return a.l0;}}],streamSelected:[{Ol:function(a){return a.Ae;}}]};},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pW=void 0;c=a(0);m=a(442);k=a(443);l=a(445);d=a(131);f=a(1088);b.pW=function(h,g,n){var p,q,t,v,u,w;h=c.__assign({nha:k.mha},h).nha;p=g.p_[5];q=l.cya(function(){return u;});p.dXa(q.Xt);p=new m.Bia();v={uh:new h(function(){return t.Z;},p,g.p_[2],"Ads:"),get dh() {return t;},get zc() {return w;},Tua:p,$9a:"ads"};u=new f.xEa(v,q.gjb,d.Fy.CAa.oR);h=g.sna;g.sna=c.__spread(h,[u]);w=n(g);p.ta(w);u.ta();p.rda();return t=d.Fy.wza(w,u,function(){return v;},h);};},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xEa=void 0;c=a(0);m=a(9);k=a(1089);l=a(63);d=a(2);r=a(446);f=a(1090);a=(function(h){function g(n,p,q){n=h.call(this,n,p,q,"AdsPlaygraphHost",!1) || this;n.cU=void 0;return n;}c.__extends(g,h);Object.defineProperties(g.prototype,{dh:{get:function(){return this.Mn.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mi:{get:function(){var n;n=this.qE(this.dh.Z);if(n !== this.dh.Z)return n;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gk:{get:function(){return this.cU;},enumerable:!1,configurable:!0}});g.prototype.ta=function(){var n;n=this;h.prototype.ta.call(this);this.Mn.zc.gg(new k.yEa(this.Mn));this.cU=new f.tEa(this.G,this.J,this.zc,function(){return n.dh;},function(p,q,t,v){return n.N_(p,q,t,v);});};g.prototype.LF=function(n){var p;p=h.prototype.LF.call(this,n);p && (d.assert(this.Gk,"missing manager"),this.Gk.rh.XZ(n,this.p5),this.p5=void 0);return p;};g.prototype.Pf=function(n,p,q,t,v,u,w){var x,y;void 0 === w && (w=!1);x=!1;y=!1;p && !w && (x=this.Gk.sBb.Tta(p));x || (y=this.Mn.zc.Pf(n,p,q,t,v,u,w));return y;};g.prototype.xw=function(n,p){var q;this.p5=void 0;if(this.Gk.rh.i7a(n)){m.R && this.G.trace("ads::seekStreaming: " + JSON.stringify(n));q=this.Gk.rh.mca(n);n=q.Cj;q=q.YNb;m.R && this.G.trace("ads::seekStreaming: forwarding seek to " + JSON.stringify(n) + ", playerTimestamp: " + (p + ", entryPoint: ") + JSON.stringify(q));this.zc.Xda(n,p,q);}else (this.p5={Cj:n,Ey:p},this.zc.xw(n,p));};g.prototype.qE=function(n){return this.Gk.rh.qE(n);};g.prototype.vd=function(n){h.prototype.vd.call(this,n);this.p5=void 0;};c.__decorate([l.jb({methodName:"ads::processViewableResponse"})],g.prototype,"LF",null);c.__decorate([l.jb({methodName:"ads::reportStreamingFailure"})],g.prototype,"Pf",null);c.__decorate([l.jb({methodName:"ads::seekStreaming"})],g.prototype,"xw",null);c.__decorate([l.jb({methodName:"ads::cancelStreaming"})],g.prototype,"vd",null);return g;})(r.nja);b.xEa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yEa=void 0;r=(function(){function a(c){this.context=c;this.ke="ad-playgraph";this.enabled=!0;}a.prototype.Sk=function(){var c,m,k,l,d,f;c=this.context;m=c.dh;k=c.zc;c=k.O;l=c.Ae?c.ig:k.tt?k.Cj:void 0;c=m.Mi;d="content";if(l && (k=k.Z.M[l.V],(l=k.kc) && m.Z.M[l].L != k.L)){f=k.L;d=k.type;}return {adPlaygraph:c,adMid:f,auxMidType:d,manifestHasAds:! !c};};return a;})();b.yEa=r;},function(r,b,a){var c,m,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.tEa=void 0;c=a(1091);m=a(448);k=a(1094);l=a(1095);d=a(1097);r=(function(){function f(h,g,n,p,q){this.qTa=new c.oEa(g,h,n,p,q,h);this.JVa=new m.zEa(n,p,this.rh);this.Zla=new k.wPa(this,n,h);this.NUa=new l.wKa(this.Zla,this.rh,this.JVa,h,p);this.qTa.ta(this.NUa.events);this.nvb=new d.pEa(n,this.rh);}Object.defineProperties(f.prototype,{rh:{get:function(){return this.qTa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Gy:{get:function(){return this.JVa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{GF:{get:function(){return this.Zla;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{WVb:{get:function(){return this.NUa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sBb:{get:function(){return this.nvb;},enumerable:!1,configurable:!0}});f.prototype.Wg=function(h){return this.Zla.Wg(h);};return f;})();b.tEa=r;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v){return null === v || void 0 === v?void 0:v.Dg.map(function(u){return u.Oj;}).map(function(u){return null === u || void 0 === u?void 0:u.map(function(w){return w.id;});}).reduce(function(u,w){return null === w || void 0 === w?void 0:w.concat(u);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.oEa=void 0;m=a(0);k=a(11);l=a(39);d=a(9);f=a(155);h=a(7);g=a(2);n=a(21);p=a(1092);q=a(448);t=a(1093);r=(function(){function v(u,w,x,y,z,A){this.config=u;this.console=w;this.vxb=x;this.dh=y;this.N_=z;this.G=A;this.uA={};this.bVa=new f.s4();this.events=new k.EventEmitter();}Object.defineProperties(v.prototype,{zc:{get:function(){return this.vxb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{GP:{get:function(){return this.zc.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Dg:{get:function(){return this.xV.rBb;},enumerable:!1,configurable:!0}});v.prototype.ta=function(u){this.xV=new p.AEa(u);};v.prototype.s$=function(){var u;u=this;return ! !n.Vc(Object.keys(this.Dg),function(w){return 0 < u.Dg[w].length;});};v.prototype.mca=function(u){var w,x,y,z,A,B;x=this.dh().uh;g.assert(x,"Could not get graph location service");null === (w=this.Yka) || void 0 === w?void 0:w.stop();this.Yka=void 0;if(0 < this.xV.CDa){d.R && this.G.trace("ads::seekStreaming: recreating inner playgraph");y=this.dh().Z;y=this.qE(y);x=x.Jlb(this.dh().Z,y);this.xV.reset();this.process(u);}if(w=x.$A(u)){u=(null !== y && void 0 !== y?y:this.GP).M[w.V];"padding" === u.type && (w={V:u.Kb,offset:h.K.Ia});u=w;z=this.zc.O.OX();if(z && (z=z.u.id,d.R && this.G.trace("ads::seekStreaming: seek from segment " + z),z=this.dTb(z,w,y))){A=x.qp(u);z.Up.KC=A;A=this.zc.config.HCa;if(z.V){d.R && this.G.trace("ads::seekStreaming: prerollSegment " + z.V);u={V:z.V,offset:h.K.Ia};B=w;}else A && (this.Yka=new t.oIa(z.Up,this.zc,x),this.Yka.start());}}d.R && this.G.trace("ads::seekStreaming: returning " + JSON.stringify(u));return {Cj:u,YNb:B,xpc:y};};v.prototype.XZ=function(u,w){var x,y;x=this.zQb(u);y=this.uA[u.I];this.uA[u.I]=x;if(y !== x && (null === y || void 0 === y?void 0:y.Dg.length) !== (null === x || void 0 === x?void 0:x.Dg.length)){if(null === x || void 0 === x?0:x.Dg)(this.xV.W9b(u.I,x.Dg,this.dh()),d.R && this.G.trace("Received ad metadata for",{P:u.I,Flc:c(x)}));u=this.zc.Ska;x=this.zc.config.z2a;if(w && this.i7a(w.Cj)){if(x && !u)return this.$5b(w);d.R && this.G.trace("ads::seekStreaming: Ignoring delayed seek request " + JSON.stringify(w) + ", didAppendData " + u + ", enablePrerollForInitialSeek " + x);}this.process(null === w || void 0 === w?void 0:w.Cj,null === w || void 0 === w?void 0:w.Ey);}};v.prototype.$5b=function(u){var w,x,y,z,A,B;d.R && this.G.trace("ads::processDelayedSeekRequest: seek request " + JSON.stringify(u));w=u.Cj;u=u.Ey;x=w;y=this.dh().uh;g.assert(y,"Could not get graph location service");z=this.dh().Z;A=this.qE(z);z=this.dh().Z.M[x.V].L;B=this.Dg[z];y=y.Jlb(this.dh().Z,A);z=y.$A(x);if(x=this.cTb(A,B))if((x.jr.KC=w,x.V))return (w={V:x.V,offset:h.K.Ia},d.R && this.G.trace("ads::processDelayedSeekRequest: executing delayed seek to " + JSON.stringify(w) + ", playerTimestamp " + u + ", entryPoint " + JSON.stringify(z)),x=y.qp(w),this.process(x,u,z));this.process(w,u);};v.prototype.process=function(u,w,x){var y;y=this;this.bVa.Fx || this.bVa.Gfa(function(){var z;z=y.dh().Z;y.N_(z,u,w,x);y.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};v.prototype.qE=function(u){var w,x,y;w=this;x=u;y=Object.keys(u.M).map(function(z){return "" + u.M[z].L;});Object.keys(this.uA).forEach(function(z){var A,B;if(-1 !== y.indexOf(z)){A=w.uA[z];if(A){B=A.Dg.map(function(C,D){C=w.Dg[z][D];return C.VE || C.Oj.reduce(function(F,G,E){return G.GY?m.__spread(F,[E]):F;},[]);});A=l.Z_a(parseInt(z),A,B,w.config.pya);x=l.dxa(x,A);}}});return x;};v.prototype.i7a=function(u){u=this.dh().Z.M[u.V].L;return ! !this.uA[u];};v.prototype.zQb=function(u){if(u.cI && (u=u.cI,u.Dg.length))return u;};v.prototype.Cqa=function(u){this.xV.Cqa(u);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:u});this.process();this.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});};v.prototype.dTb=function(u,w,x){var y,B,C;d.R && this.console.trace("AdComposer: getPrerollOnSeek: from " + (u + " to " + JSON.stringify(w)));y=null !== x && void 0 !== x?x:this.GP;if(y){x=y.M[w.V].kc;x=this.dh().Z.M[x].L;x=this.Dg[x];y=y.M;u=y[u].Kb;for(var z=void 0,A=void 0;u;){B=y[u];if("content" === B.type && ("content" === z || void 0 === z) && x){C=this.c5a(u,x);C && (A={Up:C});}if(u === w.V)return (w=A && !A.V || z && "content" !== z?A:void 0,d.R && this.console.trace("AdComposer: getPrerollOnSeek: returning " + w),w);"ad" === B.type && "ad" !== z && (d.R && this.console.trace("AdComposer: getPrerollOnSeek: found start of ad break: " + u),z=q.xX(u),g.assert(z,"AdComposer: getPrerollOnSeek: Unable to find ad from ad segmentId"),A={V:u,Up:x[null === z || void 0 === z?void 0:z.Xm]});z=B.type;u=B.Kb;}}d.R && this.console.trace("AdComposer: getPrerollOnSeek: returning undefined");};v.prototype.cTb=function(u,w){var x;d.R && this.console.trace("AdComposer: getPreroll");x=u.M[u.Cd].type;if(x && "content" !== x)return (x=q.xX(u.Cd),g.assert(x,"AdComposer: getPrerollSegmentId: Unable to find ad from ad segmentId"),{V:u.Cd,jr:w[null === x || void 0 === x?void 0:x.Xm]});if(u=this.c5a(u.Cd,w))return {jr:u};};v.prototype.c5a=function(u,w){u=q.O4a(u);g.assert(u,"Should have contentInfo from segment name");g.assert(0 < u.P_a,"contentSegmentIndex should be greater than 0");w=w[u.P_a - 1];if(0 === w.Oj.length && !w.VE && !w.$ta)return w;};return v;})();b.oEa=r;},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.AEa=void 0;c=a(2);m=a(7);k=a(28);l=a(231);r=(function(){function d(f){var h;h=this;this.CDa=0;this.uM={};f.on("adEvent",function(g){return h.i2b(g);});}Object.defineProperties(d.prototype,{rBb:{get:function(){return this.uM;},enumerable:!1,configurable:!0}});d.prototype.W9b=function(f,h,g){this.uM[f]=h.map(function(n,p){var q;q=k.yI(g.Z,Number(f),m.K.Ga(n.rq));return new l.OEa(n,p,q);});};d.prototype.reset=function(){this.CDa=0;};d.prototype.i2b=function(f){var h;h=this;"adComplete" === f.event && Object.keys(this.uM).some(function(g){var n,p,q;g=null !== (n=(q=h.uM)[g]) && void 0 !== n?n:q[g]=[];c.assert(void 0 !== f.Xm,"complete event should have an adBreakIndex");return null === (p=g[f.Xm].Oj) || void 0 === p?void 0:p.some(function(t){return t.id === f.ja.I?(t.VE=!0,h.CDa++,!0):!1;});});};d.prototype.Cqa=function(f){var h;h=this;Object.keys(this.uM).forEach(function(g){h.uM[g].forEach(function(n){n.Oj.forEach(function(p){p.id === f && (p.GY=!0);});});});};return d;})();b.AEa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oIa=void 0;r=(function(){function a(c,m,k){this.jr=c;this.GP=m;this.w3b=k;}a.prototype.start=function(){this.zza=this.Jdc.bind(this);this.GP.O.events.once("ptsChanged",this.zza);};a.prototype.Jdc=function(){var c;c=this.w3b.qp(this.GP.Cj);this.jr.KC=c;};a.prototype.stop=function(){this.zza && this.GP.O.events.removeListener("ptsChanged",this.zza);};return a;})();b.oIa=r;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wPa=void 0;c=a(0);m=a(11);k=a(9);l=c.__importDefault(a(4));d=a(7);f=a(21);r=(function(){function h(g,n,p){var q;q=this;this.cU=g;this.Mi=n;this.eUa=new m.Gf();this.G=d.oi(l.default,p,"PLAYERADMANAGER");this.events=new m.EventEmitter();this.Mi.events.on("playerChanged",this.Pca.bind(this));this.Pca();this.rh.events.on("adPlaygraphUpdated",function(t){return q.events.emit("adPlaygraphUpdated",t);});this.rh.events.on("adSegmentDropped",function(t){q.j2b(t);});}Object.defineProperties(h.prototype,{N7a:{get:function(){return this.CU;},enumerable:!1,configurable:!0}});h.prototype.Wg=function(g){var n;if(!this.Mi.lq)return (k.R && this.G.trace("PlayerAdManager.canSkip(): no player"),!1);n=this.Mi.O;k.R && this.G.trace("PlayerAdManager.canSkip(): " + n.me.Zb() + " -> " + g.Zb());g=g.greaterThan(n.me)?d.wra(n.Ya,n.me,g):d.wra(n.Ya,g,n.me);n=!g.some(function(p){return "content" !== p.u.u.type;});k.R && this.G.trace("PlayerAdManager.canSkip(): " + n + "; " + g.map(function(p){return p.u.id + " " + p.u.u.type + " " + p.rd + ".." + p.rd;}));return n;};Object.defineProperties(h.prototype,{rh:{get:function(){return this.cU.rh;},enumerable:!1,configurable:!0}});h.prototype.Pca=function(){var g;g=this;this.G.trace("Player changed",this.Mi.lq);this.eUa.clear();this.Mi.lq && this.eUa.addListener(this.Mi.O.events,"segmentPresenting",function(){var n;n=g.Gy.Ur;g.G.trace("Got segment presenting event",{N7a:g.CU,Tpc:n});(null === n || void 0 === n?0:n.jr)?g.CU || (g.CU=!0,g.G.trace("Emitting adbreak"),g.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:n})):g.CU && (g.CU=!1,g.G.trace("Emitting adbreak ended"),g.events.emit("adBreakEnded",{type:"adBreakEnded"}));if(null === n || void 0 === n?0:n.wV)(g.G.trace("Emitting ad presenting"),g.events.emit("adPresenting",{type:"adPresenting",presentingInfo:n}));});};h.prototype.hsa=function(g){var n,p,q,t;n=this;p={LCb:[],result:{}};q=this.rh.uA;t=Object.keys(q).filter(function(v){return q[v];});if(null === g || void 0 === g?0:g.amb)t=t.filter(function(v){var u;return -1 !== (null === (u=g.amb) || void 0 === u?void 0:u.indexOf(v));});p.LCb=t;t.forEach(function(v){var u,w,x;w=null === (u=q[v]) || void 0 === u?void 0:u.Dg;if(w){u=n.VOb(v,w);x=n.rh.Dg[v];p.result["" + v]=u.map(function(y,z){return c.__assign(c.__assign({},y),{hasCompletedPlayback:x[z].qXb});});}});return p;};Object.defineProperties(h.prototype,{Gy:{get:function(){return this.cU.Gy;},enumerable:!1,configurable:!0}});h.prototype.VOb=function(g,n){var p,q;p=[];q=[];this.rh.Dg[g].forEach(function(t){return t.Oj.forEach(function(v){v.GY && -1 === q.indexOf(v.id) && q.push(v.id);});});n.forEach(function(t){var v,u;t=c.__assign({},t);u=null === (v=t.ads) || void 0 === v?void 0:v.filter(function(w){return -1 === q.indexOf(w.id);});t.ads=u;p.push(t);});return p;};h.prototype.j2b=function(g){var n,p,q,t;n=this;p=g.adId;q=this.rh.uA;g=Object.keys(q).filter(function(v){return q[v];});t=this.Mi.Z.M;g.forEach(function(v){var u,w;null === (w=null === (u=q[v]) || void 0 === u?void 0:u.Dg) || void 0 === w?void 0:w.forEach(function(x,y){var z;null === (z=x.Oj) || void 0 === z?void 0:z.forEach(function(A,B){A.id === p && (A=f.Vc(Object.keys(t),function(C){return (C=n.Gy.xX(C))?B === C.Qma && y === C.Xm:!1;})) && n.events.emit("segmentDropped",{type:"segmentDropped",auxMid:p,auxMidType:"ad",adBreakLocationMs:x.rq,reason:"network_error",sev:"error",segmentId:A});});});});};return h;})();b.wPa=r;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w){void 0 === w && (w=!1);return m.__read(v.filter(function(x){return !x.VE && !x.$ta && x.KC && x.KC.V === u.V && x.KC.offset.rj(u.offset) && (w?0 === x.Oj.length:!0);}),1)[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.yQb=b.wKa=void 0;m=a(0);k=a(11);l=a(14);d=a(267);f=m.__importDefault(a(4));h=a(7);g=a(2);n=a(21);p=a(62);q=a(9);t=a(1096);r=(function(){function v(u,w,x,y,z){var A,B;A=this;this.GF=u;this.rh=w;this.Gy=x;this.dz=z;this.events=new k.EventEmitter();this.G=h.oi(f.default,y,"IMPRESSION");B=this.Z;u=B.vi;this.EE=new k.Gf();this.uBb=u.UA(function(){return A.Vcc();},"impressionLogging");this.Pma=u.UA(function(){return A.Ucc();},"impressionLogging::adBreakComplete");this.GF.events.addListener("adBreakPresenting",function(){return A.XCa();});u.on("clockChanged",function(){A.Xxa();});this.Xxa();this.rh.events.on("adPlaygraphUpdated",function(){A.Pma.cj();B.events.addListener("playerChanged",function(){return A.Pca();});A.Xxa();});}Object.defineProperties(v.prototype,{Z:{get:function(){return this.GF.Mi;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{O:{get:function(){return this.Z.O;},enumerable:!1,configurable:!0}});v.prototype.gJb=function(){var u,w,x,y,z,A,B,C,D;u=this;q.R && this.G.trace("Creating cdn trackers");w=this.Z;g.assert(w.lq,"player should exist at ad break");x=this.O.gC;y=x[0];z=x[1];A={};B={};y && (C=y.C0a(function(){var F;F=n.Vc(y.ZCa,function(G){return G instanceof d.TS;});g.assert(F,"could not find existing cdn list tracker");return F.clone(A,{priority:100,ejb:t.Iha});}));z && (D=z.C0a(function(){var F;F=n.Vc(z.ZCa,function(G){return G instanceof d.TS;});g.assert(F,"could not find existing cdn list tracker");return F.clone(B,{priority:100,ejb:t.Iha});}));return {DDb:function(){return null === C || void 0 === C?void 0:C.aCa(u.O.me);},kfc:function(){return null === D || void 0 === D?void 0:D.aCa(u.O.me);},T7b:function(){w.lq && (C && (null === y || void 0 === y?void 0:y.Ifb(C)),D && (null === z || void 0 === z?void 0:z.Ifb(D)));}};};v.prototype.XCa=function(){this.uBb.cj();};v.prototype.Ucc=function(){var u,w,x,y,z,A,B,C,D,F;return m.__generator(this,function(G){switch(G.label){case 0:u=this.GF.Mi;if(!u.O.Ae)return [2];w=u.O.ig;x=this.dz().uh.qp(w);q.R && this.G.trace("trackAdBreakTask:getNextAdBreak for uxPosition",x,"position",w);y=this.cta(x);G.label=1;case 1:if(null === y || void 0 === y || !y.KC)return [3,3];q.R && this.G.trace("trackAdBreakTask:getNextAdBreak found ad break, position",null === y || void 0 === y?void 0:y.KC);z=this.dz().uh.$A(y.KC);A=z.V;for(B=u.Z.M[A];"content" !== B.type && A;){A=this.fta(A);B=u.Z.M[A];}C=A && A !== z.V?{V:A,offset:h.K.Ia}:z;q.R && this.G.trace("trackAdBreakTask:next non ad segment",C.V);D=u.dy(C,!0);q.R && this.G.trace("trackAdBreakTask:yielding on playerPts",D);g.assert(void 0 !== D,"playerPts was undefined");g.assert(D.rj(h.K.Ia),"trackAdBreakTask playerPts was negative");return [4,p.Ih.Lw(D)];case 2:return (G.ob(),y.x$b(),F=this.dz().uh.qp(C),q.R && this.G.trace("trackAdBreakTask: reached playerPts, emitting adBreakEvent"),this.events.emit("adBreakEvent",m.__assign(m.__assign({type:"adBreakEvent"},y.Lma.complete),{ki:F,sA:y.rq,Xm:y.Xm})),y.$ta=!0,w=u.O.ig,x=this.dz().uh.qp({V:w.V,offset:h.K.Ga(1)}),y=this.cta(x),[3,1]);case 3:return [2];}});};v.prototype.Pca=function(){q.R && this.G.trace("playerChanged event",! !this.Gy.Ur,this.Z.lq,this.Z.vi.za.currentTime.Zb());};v.prototype.Vcc=function(){var u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa;return m.__generator(this,function(wa){switch(wa.label){case 0:(q.R && this.G.trace("starting at",this.Z.vi.za.currentTime.Zb()),u=this.gJb(),w=u.DDb,x=u.kfc,y=u.T7b,wa.label=1);case 1:(wa.Dh.push([1,,18,19]),wa.label=2);case 2:if(!this.Gy.Ur)return [3,17];z=this.Gy.Ur;if(!z.xca)return [3,4];if("end" === z.xca.yca)return [3,17];A=this.fta(z.position.V);B=this.O.dy({V:A,offset:h.K.Ia});g.assert(B,"paddingEnd should be defined for end of padding");q.R && this.G.trace("ImpressionLogger: waiting for padding until " + B);return [4,p.Ih.Lw(B)];case 3:(wa.ob(),wa.label=4);case 4:C=this.Gy.Ur;if(!C)return [3,17];D=C.wV.Tp;F=C.position.V;G=this.O.wi.P.ja;g.assert(G,"presenting ad should have a manifest");E=f.default.time.now();q.R && this.G.trace("Emitting start event",{position:C.position});g.assert(null === (sa=D.sV) || void 0 === sa?void 0:sa.start,"Start event info should be defined");H=w();L=x();this.events.emit("adEvent",m.__assign(m.__assign({type:"adEvent"},D.sV.start),{ki:C.position,ja:G,Rn:E,hhb:-1,Nt:this.ZX(H,L,G.I),sA:C.jr.Up.rq,Xm:C.jr.Up.Xm}));K={V:F,offset:h.K.Ia};I=this.O.dy(K);g.assert(I,"startPlayerTime should be defined for ad startTime");g.assert(D.Rea,"Start event info should be defined");wa.label=5;case 5:(wa.Dh.push([5,10,11,12]),R=(W=void 0,m.__values(D.Rea)),O=R.next(),wa.label=6);case 6:if(O.done)return [3,9];J=O.value;K={offset:h.K.Ga(J.zcc),V:F};M=I.add(K.offset);q.R && this.G.trace("ImpressionLogger: waiting for next event at " + M);return [4,p.Ih.Lw(M)];case 7:(wa.ob(),q.R && this.G.trace("Emitting timed event",{position:K,Qdb:M}),H=w(),L=x(),this.events.emit("adEvent",m.__assign(m.__assign({type:"adEvent"},J),{ki:K,ja:G,Rn:E,hhb:-1,Nt:this.ZX(H,L,G.I),sA:C.jr.Up.rq,Xm:C.jr.Up.Xm})),wa.label=8);case 8:return (O=R.next(),[3,6]);case 9:return [3,12];case 10:return (P=wa.ob(),W={error:P},[3,12]);case 11:try{O && !O.done && (fa=R.return) && fa.call(R);}finally{if(W)throw W.error;}return [7];case 12:S={offset:D.endTime,V:F};if(!S.offset.rj(K.offset))return [3,14];T=I.add(S.offset);q.R && this.G.trace("ImpressionLogger: waiting for end of ad at " + T);return [4,p.Ih.Lw(T)];case 13:(wa.ob(),wa.label=14);case 14:return (H=w(),L=x(),q.R && this.G.trace("Emitting complete event",{position:C.position}),this.events.emit("adEvent",m.__assign(m.__assign({type:"adEvent"},D.sV.complete),{Xm:C.index,ki:S,ja:G,Rn:E,hhb:f.default.time.now(),Nt:this.ZX(H,L,G.I),sA:C.jr.Up.rq})),this.O.ig.V !== S.V?[3,16]:(A=this.fta(S.V))?(U=this.O.dy({V:A,offset:h.K.Ia}))?[4,p.Ih.Lw(U)]:[3,16]:[3,16]);case 15:(wa.ob(),wa.label=16);case 16:return [3,2];case 17:return [3,19];case 18:return (y && y(),[7]);case 19:return [2];}});};v.prototype.fta=function(u){return this.Z.Z.M[u].Kb;};v.prototype.cta=function(u){var w,x;w=this.dz().Z.M[u.V];if(this.rh.s$()){x=this.rh.Dg[w.L];if(x && (u=c(x,u)))return u;if(w=w.Kb)return this.cta({V:w,offset:h.K.Ia});}};v.prototype.g6a=function(u,w){var x,y,z;x=n.Vc(Object.keys(u),function(A){return u[A].I === "" + w;});y=Object.keys(x?u[x].aB:{}).map(function(A){return {Yb:A,duration:x?u[x].aB[A].totalTime:0};});z=y.reduce(function(A,B){return A + B.duration;},0);q.R && this.G.trace("Getting playtime journal",{I:w,Opc:y.length,key:x,totalTime:z});return [y,z];};v.prototype.ZX=function(u,w,x){var y;void 0 === u && (u={});void 0 === w && (w={});y=m.__read(this.g6a(u,x),2);u=y[0];y=y[1];w=m.__read(this.g6a(w,x),2);return {audio:u,video:w[0],text:[],total:Math.max(y,w[1])};};v.prototype.Xxa=function(){var u,w;u=this;this.EE.clear();w=this.GF.Mi.vi;this.EE.on(w.za,"clockAdjusted",function(x){x.reason === l.VS.Rl && (u.XCa(),u.Pma.cj());});this.EE.on(w.za,"stopStart",function(){u.GF.N7a || (u.Pma.cj(),u.XCa());});};return v;})();b.wKa=r;b.yQb=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Iha=void 0;c=a(0);r=(function(m){function k(){return null !== m && m.apply(this,arguments) || this;}c.__extends(k,m);k.prototype.Jsa=function(l){var d;d=l.Hw.request.stream.track.I;return m.prototype.Jsa.call(this,l) + "::" + d;};return k;})(a(267).TS);b.Iha=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pEa=void 0;c=a(21);r=(function(){function m(k,l){this.Mi=k;this.rh=l;}m.prototype.Tta=function(k){var l;l=this;return this.Mi.O.Ya.some(function(d){return d.u.u.L === k && d.JXa;})?!1:c.Vc(Object.keys(this.rh.uA),function(d){if(d=l.rh.uA[d])return c.Vc(d.Dg,function(f){return f.Oj && c.Vc(f.Oj,function(h){return h.id === k;});});})?(this.rh.Cqa(k),!0):!1;};return m;})();b.pEa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jO=void 0;c=a(0);m=a(1099);k=a(186);b.jO=function(l,d){var f,h,g;f=[function(n){return new (m.hga.bind.apply(m.hga,c.__spread([void 0],n.M4b)))();}];if(l.XW){h=a(449).Epa;f.unshift(function(n,p){return h(n,p);});}if(l.KI){g=a(449).Epa;f.unshift(function(n,p){return g(n,p);});}return k.US.caa({M4b:d},f);};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.hga=void 0;c=a(0);m=a(11);k=a(7);l=a(2);d=a(62);f=a(21);r=a(131);h=a(1100);g=a(126);n=a(1101);p=a(436);q=a(1104);t=a(1105);v=r.Fy.fqa;a=(function(u){function w(x,y,z){var A;A=u.call(this) || this;A.O=x;A.Dd=y;A.Ls=z;A.TW=[];A.wf=void 0;A.bla=new m.Gf();A.Is=void 0;A.GD=void 0;A.bla.on(A.O,"underflow",A.ek.bind(A));A.lU=new q.yPa(x);A.bla.on(A.O,"skipped",A.VZ.bind(A));A.zx=new d.XT(A.lU,A.G,"player");A.YDa=new k.cH();x.xZa && x.cj && (A.rC=new t.cRa(A,x,A.G));return A;}c.__extends(w,u);Object.defineProperties(w.prototype,{np:{get:function(){var x;return null === (x=this.wf) || void 0 === x?void 0:x.np;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gC:{get:function(){var x;return (null === (x=this.wf) || void 0 === x?void 0:x.gC) || ({});},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ya:{get:function(){var x,y;return null !== (y=null === (x=this.wf) || void 0 === x?void 0:x.Zx()) && void 0 !== y?y:[];},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{na:{get:function(){var x;return null === (x=this.wf) || void 0 === x?void 0:x.na;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{za:{get:function(){return this.lU;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{SXa:{get:function(){var x,y;return ! !((null === (x=this.wf) || void 0 === x?0:x.RBa) && (null === (y=this.Ct) || void 0 === y?0:y.oj));},enumerable:!1,configurable:!0}});w.prototype.zR=function(x){-1 === this.TW.indexOf(x) && this.TW.push(x);this.wf && this.wf.RZ(x);this.events.emit("drmReady",{viewableId:x});};w.prototype.iea=function(x){x=this.TW.indexOf(x);-1 !== x && this.TW.splice(x,1);};w.prototype.Uo=function(x){var y;return -1 !== this.TW.indexOf(x) || !(null === (y=f.Vc(this.Ya,function(z){return z.ut && z.P.L === x;})) || void 0 === y || !y.P.Ri);};w.prototype.VF=function(x){var y;null === (y=this.wf) || void 0 === y?void 0:y.VF(x);};w.prototype.reset=function(){var x;this.YDa=new k.cH();u.prototype.reset.call(this);this.GD=void 0;null === (x=this.wf) || void 0 === x?void 0:x.reset();};w.prototype.d0=function(x){var y,z;u.prototype.d0.call(this,x);null === (y=this.wf) || void 0 === y?void 0:y.d0(x);null === (z=this.rC) || void 0 === z?void 0:z.B8b(x);};w.prototype.iE=function(){var x;null === (x=this.wf) || void 0 === x?void 0:x.iE();};w.prototype.pause=function(x){this.aL(x);u.prototype.pause.call(this,null !== x && void 0 !== x?x:this.Dd);};w.prototype.resume=function(x){var y;null === (y=this.wf) || void 0 === y?void 0:y.resume(x);u.prototype.resume.call(this,null !== x && void 0 !== x?x:this.Dd);};w.prototype.lb=function(){this.Is=this.wP()?this.Tk():void 0;this.wf && this.nqa(this.wf.na);this.lU.lb();this.zx.lb();this.bla.clear();u.prototype.lb.call(this);};w.prototype.$I=function(){var x,y;if(null === (x=this.wf) || void 0 === x?0:x.P5b){x=this.O.oc;if(this.za.Zj){if(this.GD){if(this.GD.greaterThan(x))return (x=this.GD.Aa(x),this.YDa.push(x.U),this.GD);if(this.Ya.length){y=this.wf.JYb;if(y && y.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Xc:{clockdrift:{type:"count"}}}),this.GD);}}this.GD=x;}return x;}return u.prototype.$I.call(this);};w.prototype.kq=function(){var x;x=this.O.playbackRate;void 0 === x && (x=u.prototype.kq.call(this));return x;};w.prototype.wP=function(){return ! !this.Is || u.prototype.wP.call(this);};w.prototype.Tk=function(){return this.Is?this.Is:u.prototype.Tk.call(this);};w.prototype.OX=function(){var x;return null === (x=this.wf) || void 0 === x?void 0:x.AYb;};w.prototype.nqa=function(x){var y;l.assert(x === this.na);null === (y=this.wf) || void 0 === y?void 0:y.lb();this.wf=void 0;};w.prototype.h7=function(x,y){var z,A;this.Is=void 0;z=u.prototype.h7.call(this,x,y);if(z){A=new n.lFa(x,this,this.G,x.config,this.Ls,this.events,this.Dd,this.zx,this.rC,this.AD,this.zD,null === y || void 0 === y?void 0:y.np,null === y || void 0 === y?void 0:y.gC);null === y || void 0 === y?void 0:y.FQ();this.wf=A;this.aL(this.IQ);this.rC && (y=x.wK.qTb(h.Kja),y || (y=new h.Kja(),x.gg(y)),this.rC.w7b(y));}return z;};w.prototype.FQ=function(){var x;null === (x=this.wf) || void 0 === x?void 0:x.FQ();};w.prototype.Wqa=function(){var z;for(var x=[],y=0;y < arguments.length;y++){x[y]=arguments[y];}z=this.wf;l.assert(z);x.forEach(function(A){return z.RNb(A);});};w.prototype.QBa=function(){var x;null === (x=this.wf) || void 0 === x?void 0:x.QBa();};w.prototype.Wg=function(x){var y,z,A;if(!this.wf)return !1;y=this.z9(x);if(!y)return !1;z=y.u;A=k.K.Ga(this.Ls.uF);return z.kg.Aa(A).lessThan(x) || !y.mE(x)?!1:this.wf.Wg(x);};w.prototype.c$=function(){var x;return null === (x=this.rC) || void 0 === x?void 0:x.c$();};w.prototype.ek=function(){var x,y,z;if(null === (x=this.na) || void 0 === x?0:x.Df)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {z=this.me;l.assert(this.na);x=this.Jn(z,!0);l.assert(x);null === (y=this.wf) || void 0 === y?void 0:y.ek();y=this.z9(z);null === y || void 0 === y?void 0:y.P.ek();this.na.ek(x);}};w.prototype.VZ=function(){this.GD=void 0;};w.prototype.msa=function(){var x;return null === (x=this.wf) || void 0 === x?void 0:x.msa();};w.prototype.aL=function(x){var y;null === (y=this.wf) || void 0 === y?void 0:y.aL(x);};w.prototype.$Ca=function(x){l.assert(this.na && this.wf);return u.prototype.$Ca.call(this,x);};w.prototype.eda=function(){l.assert(this.wf);this.wf.eda();};c.__decorate([v.return.coa(),v.return.Un],w.prototype,"Tk",null);c.__decorate([v.return.coa(),v.return.Pxa],w.prototype,"OX",null);return w=c.__decorate([g.XI],w);})(p.mja);b.hga=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kja=void 0;r=(function(){function a(){this.fw=this.ke=a.ke;this.enabled=!0;this.f0=[];this.pgb=0;}a.prototype.XBb=function(c){this.f0.push(c);5 < this.f0.length && this.f0.shift();};a.prototype.YBb=function(){this.pgb++;};a.prototype.Sk=function(){if(this.f0.length)return {restarts:this.f0.map(function(c){return {s:c.Jac,d:c.JLb,r:c.reason,atMs:c.Qdb.U};}),restartsCompleted:this.pgb};};a.ke="seamlessManager";return a;})();b.Kja=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u;Object.defineProperties(b,{__esModule:{value:!0}});b.lFa=void 0;c=a(0);m=a(11);k=a(420);l=c.__importDefault(a(4));d=a(181);a(14);f=a(253);h=a(7);g=a(21);n=a(62);p=a(226);q=a(2);t=a(1102);v=a(1103);u=a(267);r=(function(){function w(x,y,z,A,B,C,D,F,G,E,H,L,K){var I;I=this;this.na=x;this.O=y;this.G=z;this.J=A;this.Ls=B;this.Bg=C;this.Dd=D;this.vi=F;this.rC=G;this.AD=E;this.zD=H;this.X4=!1;this.nUa=new h.wRa();this.Rla=this.m2b.bind(this);this.lj=new d.CL(this.G);this.kV=L || new v.cka(this.G,x);this.OJb(K);this.kj && (this.wzb=this.lsa(this.fTb()),this.Vxb=h.As.XDa(this.kj.map(function(R){return R.Zv;}),function(R){return R.every(function(O){return O;});},function(R){return I.AD.set(R);}),this.Mvb=new p.Eia(this.kj.map(function(R){return R.QY;}),function(R){return h.K.min.apply(h.K,c.__spread(R));},function(R){I.zD.set(R);},h.K.Ga(-Infinity)));this.ar=F.UA(function(){return I.mEb();},"branchPruner");this.dUa=new m.Gf();this.dUa.on(this.Bg,"segmentPresenting",function(){return c.__awaiter(I,void 0,void 0,function(){var R;return c.__generator(this,function(O){switch(O.label){case 0:return (this.Hxb=this.O.Tk(),null !== (R=this.J.fYa) && void 0 !== R && R.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(O.ob(),this.Bg.emit("requestGarbageCollection",{time:l.default.time.ga(),type:"requestGarbageCollection"}),O.label=2);case 2:return [2];}});});});}Object.defineProperties(w.prototype,{np:{get:function(){return this.kV;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gC:{get:function(){var x;x={};this.kj.forEach(function(y){x[y.mediaType]=y.SQ;});return x;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{AYb:{get:function(){return this.Hxb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{RBa:{get:function(){return this.kj.every(function(x){return x.RBa;});},enumerable:!1,configurable:!0}});w.prototype.mEb=function(){var x,y,z,A,B,C;return c.__generator(this,function(D){switch(D.label){case 0:if(!this.lj.x_a)return [3,2];x=c.__read(this.lj.f1(),1);y=x[0];z=y.u.xXb && (null === (C=this.Ls.ER) || void 0 === C?void 0:C.U) || 0;A=y.VY || y.Kc;B=A.add(h.K.Ga(z + 1E3));return [4,n.Ih.Lw(B)];case 1:return (D.ob(),this.Heb(y),[3,0]);case 2:return [2];}});};Object.defineProperties(w.prototype,{P5b:{get:function(){var x;return !(null === (x=this.wzb) || void 0 === x || !x.Zv.value);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{JYb:{get:function(){return this.X4?h.K.max.apply(h.K,c.__spread(this.kj.map(function(x){var y;return null === (y=x.oDb) || void 0 === y?void 0:y.Q9a;}).filter(g.Yba))):void 0;},enumerable:!1,configurable:!0}});w.prototype.VF=function(x){this.kj.forEach(function(y){y.VF(x);});};w.prototype.m2b=function(){var x;this.ar.cj();x=this.kj.filter(function(y){return y.XWb;}).map(function(y){return y.mediaType;});this.aL(x);this.resume(x);};w.prototype.RNb=function(x){q.assert(-1 === this.lj.f1().indexOf(x),"Branch " + x.u.id + " is already in the collection, cannot re-queue");x.events.on("branchEdited",this.Rla);this.lj.enqueue(x);this.ar.state === n.fo.complete && this.ar.cj();x.u.Cw && this.lj.K8();this.X4 || this.wPb(x);};w.prototype.RZ=function(x){this.kj.forEach(function(y){y.RZ(x);});};w.prototype.reset=function(){this.kj.forEach(function(x){x.reset();});this.X4=!1;this.nUa.removeAllListeners();this.iE();};w.prototype.d0=function(x){x=this.lsa(x);null === x || void 0 === x?void 0:x.reset();};w.prototype.iE=function(){var x;x=this;this.lj.f1().forEach(function(y){return y.events.wy("branchEdited",x.Rla);});this.lj.clear();this.ar.cj();};w.prototype.eda=function(){var x;x=this;this.lj.f1().filter(function(y){return y.BN;}).forEach(function(y){return x.Heb(y);});};w.prototype.resume=function(x){this.kj.forEach(function(y){void 0 !== x && -1 === x.indexOf(y.mediaType) || y.resume();});};w.prototype.aL=function(x){this.kj.forEach(function(y){return (void 0 === x || -1 !== x.indexOf(y.mediaType)) && y.stop();});};w.prototype.QBa=function(){this.kj.forEach(function(x){return x.sac();});};w.prototype.ek=function(){this.G.trace("attached-player: onUnderflow");};w.prototype.w6a=function(){return this.lj.getIterator();};w.prototype.YRb=function(){return this.Zx()[0];};w.prototype.Zx=function(){return this.lj.f1();};w.prototype.OJb=function(x){var y,z,A;y=this;this.Tm("createMediaSourceStart");if(this.Ls.TX)z=this.Ls.TX();else (z=new l.default.MediaSource(this.O.O),z.Oc || (z.Oc=l.default.MediaSource.Oc));if(1 !== z.readyState)this.dr("exception in init","NFErr_MC_StreamingInitFailure");else {this.Tm("createMediaSourceEnd");this.fg=z;if(!z.M6(this.Dd))throw (this.G.trace("Error:",z.error),this.dr("error creating source buffers","NFErr_MC_StreamingInitFailure"),z.error);A={};this.na.gg(new t.pGa(A,this.J));this.kj=z.sourceBuffers.filter(function(B){return 0 <= y.Dd.indexOf(B.mediaType);}).map(function(B){var C,D,F,G;D=new f.xga(y.G,B.mediaType,z,B,y.J,!0,{Le:function(){return y.O.me.U;},Uo:function(E){return y.O.Uo(E.L);}},y.vi);D.addListener("error",function(E){return y.dr(E.errorstr);});D.addListener("logdata",function(E){return y.Bg.emit("logdata",E);});D.addListener("managerdebugevent",function(E){y.Bg.emit("managerdebugevent",E);});F=null === x || void 0 === x?void 0:x[B.mediaType];G=new k.iga(D,B.mediaType,y,y.J,y.G,y.O,y.Ls,y.vi,y.np,y.rC,F);if(1 === B.mediaType)G.on("drmNeeded",function(E){return y.Bg.emit("drmNeeded",E);});F || (null === (C=G.SQ) || void 0 === C?void 0:C.qXa(new u.TS(A,y.G,y.O,D,y.O.events,y.Ls,y.vi)));return G;});}};w.prototype.Heb=function(x){var y;q.assert(x.BN,"Attempted to prune branch that has not been fully appended");this.lj.remove(x);x.events.removeListener("branchEdited",this.Rla);x.vd("pruned");(null === (y=this.J.fYa) || void 0 === y?0:y.branchPruned) && this.Bg.emit("requestGarbageCollection",{time:l.default.time.ga(),type:"requestGarbageCollection"});};w.prototype.lb=function(){this.Vxb.clear();this.Mvb.clear();this.kj.forEach(function(x){return x.lb();});this.Ls.TX || this.fg.zr();this.iE();this.ar.lb();this.dUa.clear();};w.prototype.Wg=function(x){return this.kj.every(function(y){return y.Wg(x);});};w.prototype.FQ=function(){this.kj.forEach(function(x){return x.k0a();});this.kV=new v.cka(this.G,this.na);};w.prototype.msa=function(){return {C6b:this.Zx(),L4b:this.kj};};w.prototype.wPb=function(x){var y;y=this;this.X4=!0;x.Qe.forEach(function(z){var A;A=y.lsa(z.mediaType);if(void 0 !== A)y.nUa.once(z.Nra,function(B){return A.yPb(B);});});if(x.ec)this.l2a();else x.events.once("branchNormalized",function(){return y.l2a();});};w.prototype.l2a=function(){var x;x=this.YRb();x && (q.assert(x.fd),this.Bg.emit("ptsChanged",{initialTimestamp:x.fd}));};w.prototype.lsa=function(x){return g.Vc(this.kj,function(y){return y.mediaType === x;});};w.prototype.fTb=function(){return -1 !== this.Dd.indexOf(1)?1:0;};w.prototype.Tm=function(x){x={type:"startEvent",event:x,time:l.default.time.ga()};this.Bg.emit(x.type,x);};w.prototype.dr=function(x,y){this.na.Pf(x,void 0,y);};return w;})();b.lFa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pGa=void 0;c=a(53);r=(function(){function m(k,l){this.Fg=k;this.config=l;this.ke="CdnListTracker";}Object.defineProperties(m.prototype,{enabled:{get:function(){return this.config.CFb;},enumerable:!1,configurable:!0}});m.prototype.Sk=function(k){var l;l=this;if(k.Yi === c.he.aq)return {cdndldist:JSON.stringify(Object.keys(this.Fg).map(function(d){var f;f=l.Fg[d];return {cdnid:f.Kx,pbcid:f.fp,dls:Object.keys(f.aB).map(function(h){var g,n;h=f.aB[h];n=0 === h.mediaType?"adlid":"dlid";return (g={tm:h.totalTime,bitrate:h.bitrate},g[n]=h.Yb,g.vf=h.kb,g);})};}))};};return m;})();b.pGa=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cka=void 0;c=a(0).__importDefault(a(4));m=a(20);k=a(33);r=(function(){function l(d,f){this.G=d;this.lo=f;}l.prototype.Xy=function(d,f,h,g,n){var p,q;void 0 === n && (n=!1);p=d.u;q=this.Uwb(p);this.sN={startTime:c.default.time.ga(),Lac:d,Kac:h.U,IMb:f,se:this.kSb(g,f),bdc:this.ZTb(g,n),iqa:n,Ee:g,PZa:q,h1b:this.ISb(p,h)};};l.prototype.O7a=function(){return ! !this.sN;};l.prototype.Ysa=function(d){var f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H;if(this.sN && 0 !== Object.keys(this.sN.PZa).length && d === this.sN.IMb){u=this.sN;w=u.PZa;x=u.h1b;y=u.iqa;z=u.Ee;A=u.Lac;B=u.Kac;C=u.startTime;D=u.se;u=u.bdc;this.sN=void 0;F=this.lla(d).Ws;G=this.EQb(A.u.id,d,w);F=this.dVa(G.weight,F);E={};for(H in w){H !== d && (E[H]=w[H].details);}w=c.default.time.ga() - C;C=z?0:w;H={offset:m.K.Ga(this.HTb(A,B,z,y)),V:A.u.id};B={offset:m.K.Ga(B),V:A.u.id};x={segment:d,destPosition:{V:d,offset:m.K.Ia},srcsegment:A.u.id,srcTransitionPosition:H,srcStartPosition:B,srcsegmentduration:A.afa.U,srcoffset:H.offset.U,seamlessRequested:z,atRequest:G,atTransition:F,discard:E,transitionType:D,transitionTypeAtRequest:u,delayToTransition:this.pRb(w,z,y),durationOfTransition:C,nextExitPositionAtRequest:x};y=null !== (h=null === (f=this.lo.Z.M[d]) || void 0 === f?void 0:f.type) && void 0 !== h?h:"content";f=null !== (n=null === (g=this.lo.Z.M[A.u.id]) || void 0 === g?void 0:g.type) && void 0 !== n?n:"content";d=null !== (q=null === (p=this.lo.Z.M[d]) || void 0 === p?void 0:p.L) && void 0 !== q?q:void 0;p=null !== (v=null === (t=this.lo.Z.M[A.u.id]) || void 0 === t?void 0:t.L) && void 0 !== v?v:void 0;d && p && d !== p && (x.auxMidType=y,x.auxSrcmidType=f,x.auxMid=d,x.auxSrcmid=p);return x;}};l.prototype.EQb=function(d,f,h){var g,n,p;p={};(h=h[f])?p=h.details:(k.assert(this.lo),p.weight=null === (n=null === (g=this.lo.Z.M[d].next) || void 0 === g?void 0:g[f]) || void 0 === n?void 0:n.weight);return p;};l.prototype.pRb=function(d,f,h){var g;h || (g=f?d:0);return g;};l.prototype.ISb=function(d,f){var h,g,n;g=d.Oe.add(f);null === (h=d.Py) || void 0 === h?void 0:h.some(function(p){g.lessThan(p.ec) && (n=p.ec.U);});return n;};l.prototype.HTb=function(d,f,h,g){return h || g?d.afa.U:f;};l.prototype.kSb=function(d,f){return d?"seamless":this.lla(f).mY?"reset":"long";};l.prototype.ZTb=function(d,f){return d || f?"lazy":"immediate";};l.prototype.Uwb=function(d){var f,h;f=this;h={};d.YB.forEach(function(g){var n,p;n=d.k1b[g];p=f.lla(g).Ws;h[g]={details:f.dVa(n,p)};});return h;};l.prototype.lla=function(d){var f,h;d=this.lo.B9(d);f=0 < d.length?d[0]:void 0;d=null === f || void 0 === f?void 0:f.lB();if(!f || !d)return {mY:!1,Ws:{rp:0,Ns:0,qu:0,TD:0}};h=f.B$(0) && !d.Ns;f=f.B$(1) && !d.rp;return {mY:!h && !f,Ws:d};};l.prototype.dVa=function(d,f){return {weight:d,vbuflmsec:f.rp,abuflmsec:f.Ns,vbuflbytes:f.qu,abuflbytes:f.TD};};return l;})();b.cka=r;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.yPa=void 0;c=a(11);m=a(14);k=a(7);r=a(35);a=(function(){function l(d){this.O=d;this.zla=!1;this.qVa=new c.Gf();this.u7b();}l.prototype.u7b=function(){var d,f;d=this;f=this.qVa;f.on(this.O,"paused",function(){return d.nca();});f.on(this.O,"playing",function(){return d.nca(!0);});f.on(this.O,"underflow",function(){return d.nca();});f.on(this.O,"skipped",function(){return d.VZ();});f.on(this.O,"clockAdjusted",function(){return d.PZ();});f.on(this.O,"playbackRateChanged",function(){return d.M2b();});};Object.defineProperties(l.prototype,{currentTime:{get:function(){return this.vWa || this.O.oc || k.K.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zj:{get:function(){return this.zla;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{speed:{get:function(){var d;return null !== (d=this.O.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});l.prototype.nca=function(d){void 0 === d && (d=!1);d !== this.zla && (this.vWa=(this.zla=d)?void 0:this.O.oc);this.emit("stopStart",{type:"stopStart"});};l.prototype.VZ=function(){this.vWa=void 0;this.PZ(m.VS.Rl);};l.prototype.PZ=function(d){void 0 === d && (d=m.VS.pCb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};l.prototype.M2b=function(){this.emit("speedChanged",{type:"speedChanged"});};l.prototype.lb=function(){this.nca();this.qVa.clear();};return l;})();b.yPa=a;r.Re(c.EventEmitter,a);},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cRa=void 0;c=a(0);m=a(11);k=a(9);l=c.__importDefault(a(4));d=a(7);f=a(2);r=(function(){function h(g,n,p){var q;q=this;this.Fa=g;this.O=n;this.pending=new Map();this.listeners=new m.Gf();this.Fxa=!1;this.FUb=function(t){var v,u,y;if(q.pending.size){k.R && q.G.trace("playback ending, restarting player");u={};try{for(var w=c.__values(q.pending.entries()),x=w.next();!x.done;x=w.next()){y=c.__read(x.value,2);u[y[0]]=y[1].to.stream.Mo();}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (v=w.return) && v.call(w);}finally{if(z)throw z.error;}}k.R && q.G.debug("cancelling playback ending");t.cancel();k.R && q.G.debug("Restarting player",u);q.O.cj(u).then(function(){var A,B;null === (A=q.sO) || void 0 === A?void 0:A.resolve();k.R && q.G.debug("Restart completed");null === (B=q.Igb) || void 0 === B?void 0:B.YBb();q.reset();});}};this.listeners.addListener(n,"playbackEnding",this.FUb);this.G=d.oi(l.default,p,"SEAMLESSMANAGER");k.R && this.G.debug("construct");}h.prototype.lb=function(){k.R && this.G.debug("destruct");this.pending.clear();this.listeners.clear();};h.prototype.w7b=function(g){this.Igb=g;};h.prototype.rfc=function(g){var n,p;0 === this.pending.size && (f.assert(void 0 === this.sO),this.sO=new d.ZC());f.assert(this.sO);f.assert(!this.pending.has(g.mediaType));this.pending.set(g.mediaType,g);k.R && this.G.trace("got new transition [" + g.mediaType + "] --\x3e " + g.to.stream.id);if(this.pending.size === this.Fa.Dd.length && !this.Fxa){p=this.LXb();if(p.$db)return (k.R && this.G.trace("seamless transition possible at " + g.timestamp.Zb()),this.sO.resolve(),this.reset(),this.Z9a=g.timestamp,Promise.resolve());k.R && this.G.trace("starting non-seamless transition at " + g.timestamp.Zb());null === (n=this.Igb) || void 0 === n?void 0:n.XBb(p.info);this.Sac();}return this.sO.promise;};h.prototype.B8b=function(g){k.R && this.G.trace("reset media [" + g + "]");this.pending.delete(g);};h.prototype.c$=function(){return this.Z9a;};h.prototype.reset=function(){k.R && this.G.debug("resetting");this.Fxa=!1;this.sO=this.Z9a=void 0;this.pending.clear();};h.prototype.LXb=function(){var g,n,p,v,u,w,x,y,z,A,B,C;try{for(var q=c.__values(this.pending.entries()),t=q.next();!t.done;t=q.next()){v=c.__read(t.value,2);u=v[0];w=v[1];if(w.from){x=w.from.stream;y=w.to.stream;if(x.track === y.track)k.R && this.G.debug("Seamless deemed possible due to same track",{mediaType:u});else {z=x.Mo();A=y.Mo();B=this.O.xZa({mediaType:u,from:z,to:A,Dnc:this.Fa.Jn(w.Q5b),grc:this.Fa.Jn(w.timestamp)});C=B.reason;if(!B.xZa)return (k.R && this.G.debug("Non-seamless transition; details:",{reason:C,mediaType:u,from:z,to:A}),{$db:!1,info:{JLb:null !== (n=w.to.V) && void 0 !== n?n:"unk",Jac:null !== (p=w.from.V) && void 0 !== p?p:"unk",Qdb:w.timestamp,reason:C}});k.R && this.G.debug("Seamless deemed possible",{reason:C,mediaType:u,from:z,to:A});}}}}catch(F){var D;D={error:F};}finally{try{t && !t.done && (g=q.return) && g.call(q);}finally{if(D)throw D.error;}}return {$db:!0};};h.prototype.Sac=function(){this.Fxa=!0;k.R && this.G.debug("Marking EOS");this.Fa.QBa();};return h;})();b.cRa=r;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.BPa=void 0;c=a(0);m=a(63);k=a(7);l=c.__importDefault(a(4));d=a(447);f=a(1107);r=(function(){function h(g,n){var p;p=this;this.AY=g;this.events=d.Ipa(function(){return p.Mn;},this.AY.events,n,f.Pdb);this.pxb=k.oi(l.default,this.AY.console,"PLAYERHOST");new m.Eu({Xo:10,Hn:this,source:"PlayerHost",console:this.pxb});}h.prototype.gpa=function(){this.Mn=void 0;};h.prototype.yBa=function(g){this.Mn=g;};c.__decorate([m.jb({methodName:"clearProxyPlaygraphContext"})],h.prototype,"gpa",null);c.__decorate([m.jb({methodName:"setProxyPlaygraphContext"})],h.prototype,"yBa",null);return h;})();b.BPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pdb=void 0;b.Pdb={"*":{U2a:["logdata"],rules:[{Ol:function(a){return a.bEa;}}]},segmentPresenting:[{Ol:function(a){return a.bEa;},config:{fs:["metrics"]}},{Ol:function(a){return a.Ae;}},{Ol:function(a){return a.Ae;},config:{fs:["metrics","srcStartPosition"]}},{Ol:function(a){return a.Ae;},config:{fs:["metrics","srcTransitionPosition"]}},{Ol:function(a){return a.Ae;},config:{fs:["metrics","destPosition"]}}],streamPresenting:[{Ol:function(a){return a.Ae;}}],segmentAppended:[{Ol:function(a){return a.l0;}}]};},function(r,b,a){var c,m,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cTa=void 0;c=a(0);m=a(11);k=a(9);l=a(371);r=(function(){function d(f,h,g,n){this.$lb=f;this.console=h;this.ZCb=g;this.W_=n;this.events=new m.EventEmitter();this.XY=f.KYb.Dx();}Object.defineProperties(d.prototype,{P:{get:function(){var f;return null === (f=this.$lb) || void 0 === f?void 0:f.P;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pG:{get:function(){var f;f=this;return (function(){return c.__awaiter(f,void 0,void 0,function(){var h;return c.__generator(this,function(g){switch(g.label){case 0:return (g.Dh.push([0,2,,3]),[4,this.$lb.pG]);case 1:return [2,g.ob()];case 2:throw (h=g.ob(),l.iPa.FXb(h) && this.ZCb.Pf(h),k.R && this.console.trace("Removing broken viewable entry due to error",this.W_),this.events.emit("error",{error:h}),h);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.cTa=r;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.tRa=void 0;c=a(0);m=a(11);k=c.__importStar(a(10));l=a(14);d=a(227);f=a(14);h=a(7);g=a(2);n=a(20);p=a(228);q=a(53);t=a(97);v=a(63);u=a(185);w=c.__importDefault(a(4));x=a(225);y=a(1110);z=a(1111);A=0;r=(function(B){function C(D,F,G,E,H,L,K,I,R,O,J){var M,P,S,T,U;T=B.call(this) || this;T.console=D;T.tq=F;T.LU=G;T.rN=H;T.E0=L;T.Qx=I;T.O=O;T.config=J;T.Hs=!1;T.fU=!1;T.Is=void 0;T.$e=function(){var W,fa,sa,wa,Ba;null === (W=T.DM) || void 0 === W?void 0:W.clear();W=T.Nvb;Ba=T.gzb;g.assert(W);T.eh && g.assert(Ba);T.Zl.value !== f.wa.Cs && T.Zl.value !== f.wa.Kj && (null !== (fa=T.Fa) && void 0 !== fa && fa.Ae?(fa=null === (wa=null === (sa=T.tq.Ha.Vb.get()) || void 0 === sa?void 0:sa.Qa) || void 0 === wa?void 0:wa.pa,T.na.i1("startplay",q.he.Bq),T.Yea.AV("emitBufferingComplete",{}),y.E8(T,W,T.Fa.me,fa,Ba,T.na.IN)):T.console.error("Shim received buffering complete but player has no position (player " + (T.Fa?"":"un") + "defined, state " + T.Zl.value + ")"));};T.QV=function(){var W,fa,sa;T.Yea.AV("audioTrackSwitchComplete",{});g.assert(void 0 !== T.mo);fa=T.LU.audio_tracks[T.mo];sa=T.mo;T.mo=void 0;y.k2a(T,fa,sa);null === (W=T.OZ) || void 0 === W?void 0:W.call(T);T.OZ=void 0;};g.assert(2 >= E.length,"Ase session shim suports a maximum of 1 parallel graph.");G=c.__read(E,2);D=G[0];G=G[1];T.Ji=new m.Gf();T.L=D.Z.M[L[0].V].L;T.Zl=new h.As(f.wa.jh);T.MC=new t.hH(T.console);K.df && (T.lba=new x.XL(T.console,J));T.na=D;T.eh=G;E.forEach(function(W){var fa,sa;fa=W.oE(T.MC);T.lba && (fa=new t.Du([T.lba,fa]));sa=W.nE();W.kea(sa,fa);});T.Umc=!1;T.A1a=!1;y.aab(T.console,F,T,D,G);U=A++;T.Yea=new v.Eu({Hn:T,source:"ShimSession",console:T.console,Xo:50,jna:function(){return {shimId:U};}});T.na.gg(new u.ix(T.Yea));T.Elb=void 0 !== (null === (S=null === (P=(M=T.O).SX) || void 0 === P?void 0:P.call(M)) || void 0 === S?void 0:S.$);T.Kd=z.sYa(O);F=T.$_a({Dd:T.X$a(T.na.Z.Dd),TX:T.Y9.bind(T)});T.Fa=F;T.eh && (T.gk=T.$_a({Dd:T.X$a(T.eh.Z.Dd),TX:T.Y9.bind(T)}));T.Fa.events.on("segmentPresenting",function(){T.Is=T.yUa();});T.on("streamerend",function(){return T.qbc();});T.Hhb();return T;}c.__extends(C,B);Object.defineProperties(C.prototype,{I:{get:function(){return this.L;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{da:{get:function(){return this.Qx.da;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{xh:{get:function(){return this.Ji;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{af:{get:function(){return {poc:{1:{aa:{Ma:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{qL:{get:function(){return void 0 !== this.mo;},enumerable:!1,configurable:!0}});C.prototype.gZb=function(){var D,F,G,E,H;D=this;H=null === (E=null === (G=(F=this.O).SX) || void 0 === G?void 0:G.call(F)) || void 0 === E?void 0:E.$;g.assert(H,"video element is not defined");H.addEventListener("play",function(){return D.HWa();});H.addEventListener("pause",function(){return D.Bk();});};C.prototype.qbc=function(){this.tq.mr(!0,this.Qx.sessionId);};C.prototype.hS=function(D,F){var G;this.na.Gj((G={},G[D]=F,G));};C.prototype.open=function(){var D,F,G,E;D=this;if(!this.Hs){this.Hs=!0;this.tq.mr(this.config.Ps,this.Qx.sessionId);E=new Promise(function(H){setTimeout(H,0);}).then(function(){D.emit("openComplete",{type:"openComplete"});});this.na.open();null === (F=this.eh) || void 0 === F?void 0:F.open();this.na.xw(this.E0[0]);g.assert(this.Fa,"asePlayer should be defined on session.open");this.E0[1] && (F=this.na.sB(this.E0[0]),g.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (G=this.eh) || void 0 === G?void 0:G.xw(this.E0[1],F.hn));y.Y$a(this.tq,this,this.Fa,this.console);this.Zl.set(f.wa.sd);E.then(function(){D.ns(D.$e);});this.na.Qs(this.Fa);this.eh && (g.assert(this.gk,"parallelPlayer should be defined on session.open"),this.eh.Qs(this.gk));this.Elb && this.gZb();}};C.prototype.Y9=function(){this.dk || (this.dk=new w.default.MediaSource(this.Kd),this.dk.Oc || (this.dk.Oc=w.default.MediaSource.Oc));return this.dk;};C.prototype.$_a=function(D){void 0 === D && (D={});D=c.__assign({uF:this.config.uF,Uya:this.config.Uya},D);return this.tq.Ha.kXa(this.Kd,D);};C.prototype.X$a=function(D){return D?null === D || void 0 === D?void 0:D.map(function(F){return "video" === F?1:0;}):[0,1];};C.prototype.close=function(){this.Hs && (this.Hs=!1);this.tq.mr(!0,this.Qx.sessionId,!0);};Object.defineProperties(C.prototype,{dI:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});C.prototype.flush=function(){var D;this.Hs && this.Zl.value !== f.wa.Kj && this.Zl.value !== f.wa.Cs && this.stop();this.na.i1("endplay",q.he.aq);this.na.vd();null === (D=this.eh) || void 0 === D?void 0:D.vd();this.tq.mi.save();this.tq.Yo.save();};C.prototype.paused=function(){this.Elb || this.Bk();};C.prototype.Bk=function(){this.Zl.value === f.wa.Dc && (this.Zl.set(f.wa.Hh),this.Kd.emit("paused",{type:"paused",Nd:this.Kd.oc}));};C.prototype.HWa=function(){this.Zl.value === f.wa.Hh && (this.Zl.set(f.wa.Dc),this.Kd.emit("playing",{type:"playing",Nd:this.Kd.oc}));};C.prototype.Zc=function(){var D,F;this.Hs && this.Zl.value !== f.wa.Kj && this.Zl.value !== f.wa.Cs && this.stop();this.tq.R7b(this);this.Hs && this.close();this.Sz && (clearInterval(this.Sz),this.Sz=void 0);null === (D=this.DM) || void 0 === D?void 0:D.clear();this.Fa && this.tq.Ha.dR(this.Fa);this.gk && this.tq.Ha.dR(this.gk);null === (F=this.dk) || void 0 === F?void 0:F.zr();};C.prototype.suspend=function(){};C.prototype.resume=function(){};C.prototype.play=function(){var D;D=this;this.na.state !== d.pk.CLOSED && (g.assert(this.Fa,"ShimSession.play(), expected asePlayer to exist."),this.Fa.resume(this.fU?[1]:void 0),this.eh && (g.assert(this.gk,"ShimSession.play(), expected parallelPlayer to exist."),this.gk.resume(this.fU?[1]:void 0)),this.Zl.set(f.wa.Dc),this.Kd.emit("playing",{type:"playing",Nd:this.Kd.oc}),this.emit("play"),this.Sz || (this.Sz=setInterval(function(){return D.u1b();},this.config.QN)));};C.prototype.stop=function(){this.Zl.set(f.wa.Cs);g.assert(this.Fa,"ShimSession.stop(), expected asePlayer to exist.");this.Fa.pause();this.eh && (g.assert(this.gk,"ShimSession.stop(), expected parallelPlayer to exist."),this.gk.pause());this.Kd.emit("paused",{type:"paused",Nd:this.Kd.oc});this.emit("stop");};C.prototype.cB=function(D){var F,G,E,H;void 0 === F && (F=!0);this.Fa?(D=parseInt(D),k.isFinite(D) && (null === (G=this.lba) || void 0 === G?void 0:G.vjb(),F?(this.Fa.zR(D),null === (E=this.gk) || void 0 === E?void 0:E.zR(D)):(this.Fa.iea(D),null === (H=this.gk) || void 0 === H?void 0:H.iea(D)))):this.fail("Must call open prior to drmReady");};C.prototype.A$=function(){var D;if(!this.Fa || !this.Fa.Ae)return !1;D=this.Fa.Uo(this.na.Z.M[this.Fa.ig.V].L);return D && this.eh && this.gk?this.gk.Uo(this.eh.Z.M[this.gk.ig.V].L):D;};C.prototype.op=function(){var D;null === (D=this.lba) || void 0 === D?void 0:D.vjb();this.Zl.set(f.wa.bg);this.Kd.emit("underflow",{type:"underflow",Nd:this.Kd.oc});this.ns(this.$e);};C.prototype.T9=function(D){var F;F=q.he.Bq;switch(D){case "intrplay":F=q.he.op;break;case "endplay":F=q.he.aq;}D=this.na.T9(F);return c.__assign(c.__assign({},D),{aseApiVersion:this.dI});};C.prototype.Qya=function(){this.Kd.emit("playbackRateChanged",{type:"playbackRateChanged",Nd:this.Kd.oc});};C.prototype.Rl=function(D,F){D=this.Kd.Le();F={type:"skipped",pts:n.K.Ga(D),previousPts:"number" === typeof F?n.K.Ga(F):void 0};this.Kd.emit(F.type,F);return new p.fH(Promise.resolve()).zAa;};C.prototype.Coa=function(D,F){var G;F=this.sta(F || 0,D);return null === (G=this.na.qn(F,D)) || void 0 === G?void 0:G.$c;};C.prototype.fv=function(D,F){var G;G=new n.K(F,1E3);return (G=this.na.Jn(G,{qib:!0,pib:!0}))?this.na.Z.M[G.V].qa + Number(G.offset.U.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + F);};C.prototype.hO=function(D,F){D=this.sta(D || 0,F);D={V:D,offset:new n.K(F - this.na.Z.M[D].qa,1E3)};return (D=this.na.dy(D))?D.U:F;};C.prototype.aaa=function(){var D,F,G;F={};G=null === (D=this.na) || void 0 === D?void 0:D.$x();D=this.eh?this.eh.$x():G;G && (F.vbuflmsec=G.totalvbuflmsecs,F.vbuflbytes=G.vbuflbytes);D && (F.abuflmsec=D.totalabuflmsecs,F.abuflbytes=D.abuflbytes);return F;};C.prototype.G9=function(){return {Ze:0};};C.prototype.Tk=function(){var D,F;return null !== (D=this.Is) && void 0 !== D?D:(null === (F=this.Fa) || void 0 === F?0:F.wP())?this.yUa():{id:this.E0[0].V,Ze:0,$c:0,Jc:Infinity,ef:Infinity,rd:0};};C.prototype.yUa=function(){var D,F,G,E,H,L,K,I,R;g.assert(this.Fa,"attempted to get presenting branch information with no player");g.assert(this.Fa.wP(),"attempted to get presenting branch information but player has no branches");L=this.Fa.Tk() || ({});K=L.u;I=L.Bd;R=L.cC;L=L.wq;return {id:K.id,Ze:null !== (D=null === I || void 0 === I?void 0:I.U) && void 0 !== D?D:0,$c:null !== (F=null === K || void 0 === K?void 0:K.Oe.U) && void 0 !== F?F:0,Jc:null !== (G=null === K || void 0 === K?void 0:K.kg.U) && void 0 !== G?G:Infinity,ef:null !== (E=null === R || void 0 === R?void 0:R.U) && void 0 !== E?E:Infinity,rd:null !== (H=null === L || void 0 === L?void 0:L.U) && void 0 !== H?H:0};};C.prototype.Hfb=function(){this.PJ("removeSession");};C.prototype.au=function(D,F){void 0 === F && (F=0);g.assert(!this.eh,"Seeking with dual playgraphs not supported.");F=this.sta(F,D);this.tq.mr(this.config.Ps,this.Qx.sessionId);D={V:F,offset:n.K.Ga(D - this.na.Z.M[F].qa)};this.Is=void 0;this.na.xw(D);g.assert(this.Fa);this.Fa.resume();this.Zl.set(f.wa.sd);this.ns(this.$e);D=this.na.MAa(D);g.assert(D,"Valid position must be provided for seek");return D.offset.U;};C.prototype.seek=function(D,F){D=this.fv(F,D);return this.au(D,F);};C.prototype.Ys=function(D,F,G){var E,H;E=this.Tk().id;H=this.na.kP(E,D);if(F){if(!H.Llb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + E)),!1);if(void 0 !== H.vQ)return (this.na.fj(E,D,!1,F),H.vQ === D);this.na.fj(E,D,!1,F);return !0;}if(void 0 !== H.vQ)return (G || this.au(H.$c,0),!1);H.RN?(g.assert(this.Fa),this.Fa.reset(),this.na.fj(E,D,!1,F),this.Fa.resume(),this.Zl.set(f.wa.sd),this.ns(this.$e)):G || this.au(H.$c,0);return ! !H.RN;};C.prototype.AN=function(){this.PJ("addManifest");};C.prototype.tV=function(){return this.PJ("activateManifest");};C.prototype.vcb=function(){this.Rvb();};C.prototype.Mea=function(D){var F,G,E,H;F=this.eh?this.gk:this.Fa;G=D.vo;g.assert(!this.eh,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.mo)return !1;D=this.LU.audio_tracks;if(!D.some(function(L,K){if(L.track_id === G)return (E=L,H=K,!0);}))return !1;D=D[this.rN[0]];this.mo=H;this.fU=!0;null === F || void 0 === F?void 0:F.pause([0]);this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:E.language,newNumChannels:E.channels});return !0;};C.prototype.gs=function(D,F){this.MC.gs(D,F);};C.prototype.Wg=function(D){return this.Fa?this.Fa.Wg(n.K.Ga(D)):!1;};C.prototype.P8=function(){this.PJ("evaluateQoE");};C.prototype.nCa=function(){this.PJ("stopBuffering");};C.prototype.YK=function(){return this.PJ("startBuffering");};C.prototype.A6a=function(){return this.PJ("getStreamingStatistics");};C.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};C.prototype.sta=function(D,F){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.nX(F);};C.prototype.nX=function(D){var F,G,H,L,K,I,R;F=this.na.Z;G=[];g.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var E in F.M){H=F.M[E];L=H.qa;H=H.sa;K=D < Number(null !== H && void 0 !== H?H:Infinity);if(L <= D && K)G.push(E);else if((L=Math.min(Math.abs(D - L),Math.abs(D - H)),void 0 === I || L < I))(I=L,R=E);}g.assert(1 >= G.length,"Overlapped segments detected in branching, this is not supported");D=G[0] || R;g.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};C.prototype.u1b=function(){var D,F;F=null === (D=this.na) || void 0 === D?void 0:D.$x();D=this.eh?this.eh.$x():F;F && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};C.prototype.PJ=function(D){return this.fail("Method not implemented " + D);};C.prototype.Rvb=function(){g.assert(void 0 !== this.mo);this.rN[0]=this.mo;this.Hhb();this.ns(this.QV);};C.prototype.Hhb=function(){var D;D=this;this.eh?(this.na.Uy({bu:function(){}},{bu:function(){return D.rN[1];}}),this.eh.Uy({bu:function(){return D.rN[0];}},{bu:function(){}})):this.na.Uy({bu:function(){return D.rN[0];}},{bu:function(){return D.rN[1];}});this.fU && ((this.eh?this.gk:this.Fa).resume([0]),this.fU=!1);};C.prototype.Z9b=function(D){this.Nvb=D;};C.prototype.u$b=function(D){this.gzb=D;};C.prototype.ns=function(D){var F,G;F=this;D !== this.QV && void 0 !== this.mo?this.OZ=D:(null === (G=this.DM) || void 0 === G?void 0:G.clear(),!this.eh && this.Fa?this.DM=h.As.XDa([this.na.yf,this.Fa.QY],function(E){var H,L;E=c.__read(E,2);L=E[1];return E[0] === l.Mc.Lj && (null === (H=F.Fa) || void 0 === H?void 0:H.Ae) && L.greaterThan(F.Fa.me);},this.a0a(D)):this.Fa && (this.DM=h.As.XDa([this.na.yf,this.Fa.QY,this.eh.yf,this.gk.QY],function(E){var H,L,K,I,R;E=c.__read(E,4);K=E[1];I=E[2];R=E[3];return E[0] === l.Mc.Lj && (null === (H=F.Fa) || void 0 === H?void 0:H.Ae) && K.greaterThan(F.Fa.me) && I === l.Mc.Lj && (null === (L=F.gk) || void 0 === L?void 0:L.Ae) && R.greaterThan(F.gk.me);},this.a0a(D))));};C.prototype.a0a=function(D){var F;F=this;return function(G){var E;G && (null === (E=F.DM) || void 0 === E?void 0:E.clear(),F.DM=void 0,Promise.resolve().then(D));};};c.__decorate([v.jb({methodName:"updateChoiceMapEntry",so:!0})],C.prototype,"hS",null);c.__decorate([v.jb({methodName:"open"})],C.prototype,"open",null);c.__decorate([v.jb({methodName:"close"})],C.prototype,"close",null);c.__decorate([v.jb({methodName:"paused"})],C.prototype,"Bk",null);c.__decorate([v.jb({methodName:"unpaused"})],C.prototype,"HWa",null);c.__decorate([v.jb({methodName:"cleanup"})],C.prototype,"Zc",null);c.__decorate([v.jb({methodName:"suspend"})],C.prototype,"suspend",null);c.__decorate([v.jb({methodName:"resume"})],C.prototype,"resume",null);c.__decorate([v.jb({methodName:"play"})],C.prototype,"play",null);c.__decorate([v.jb({methodName:"stop"})],C.prototype,"stop",null);c.__decorate([v.jb({so:!0,methodName:"drmReady"})],C.prototype,"cB",null);c.__decorate([v.jb({methodName:"underflow"})],C.prototype,"op",null);c.__decorate([v.jb({methodName:"getLogdataReport"})],C.prototype,"T9",null);c.__decorate([v.jb({methodName:"skipped"})],C.prototype,"Rl",null);c.__decorate([v.jb({methodName:"seekByContentPts"})],C.prototype,"au",null);c.__decorate([v.jb({methodName:"seek"})],C.prototype,"seek",null);c.__decorate([v.jb({methodName:"chooseNextSegment",so:!0})],C.prototype,"Ys",null);c.__decorate([v.jb({methodName:"onAudioTrackSwitchStarted"})],C.prototype,"vcb",null);c.__decorate([v.jb({methodName:"switchTracks"})],C.prototype,"Mea",null);return C;})(m.EventEmitter);b.tRa=r;},function(r,b,a){var k,l;function c(d,f,h){var g,n;g=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;f.on(g,function(p){d.emit(n,k.__assign(k.__assign({},p),{type:n}));});}function m(d,f,h,g){var n,p;f.events.once(d,function(q){(n=q) && p && g(n,p);});h.events.once(d,function(q){p=q;n && p && g(n,p);});}Object.defineProperties(b,{__esModule:{value:!0}});b.k2a=b.E8=b.Y$a=b.aab=void 0;k=a(0);l=a(9);b.aab=function(d,f,h,g,n){var q;function p(t,v){c(h,t,v);}f=n?[g,n]:[g];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering","managerdebugevent","endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(t){return p(g.events,t);});n?(p(n.events,"initialAudioTrack"),m("streamerEnd",g,n,function(t){h.emit("streamerend",k.__assign(k.__assign({},t),{type:"streamerend"}));})):(p(g.events,["streamerEnd","streamerend"]),p(g.events,"initialAudioTrack"));g.events.on("logdata",function(t){h.emit("logdata",k.__assign(k.__assign({},t),{fields:k.__assign(k.__assign({},t.fields),{aseApiVersion:h.dI})}));});q=!0;g.events.on("bufferingStarted",function(t){h.qL && q?q=!1:(h.Yea.AV("bufferingStarted",{}),h.emit("bufferingStarted",t));});g.events.on("bufferingComplete",function(t){h.qL?q=!0:h.Z9b(t);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(t){h.qL || h.u$b(t);});g.events.on("maxVideoBitrateChanged",function(t){h.emit("maxvideobitratechanged",k.__assign(k.__assign({},t),{type:"maxvideobitratechanged",Nqc:t.streaming.U}));});g.events.on("error",function(t){t=k.__assign(k.__assign({},t),{manifestIndex:0});h.emit("error",t);});h.on("error",function(){});g.events.on("segmentComplete",function(t){h.emit("segmentComplete",{type:"segmentComplete",mediaType:t.mediaType,manifestIndex:0,segmentId:t.segmentId});});g.events.on("segmentNormalized",function(t){var v;v=Math.floor(t.viewableContentEnd.U);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:v,maxPts:v,maxSeekPts:Math.floor(t.viewableEarliestContentEnd.U)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:v,maxPts:v});});g.events.on("segmentStarting",function(t){h.emit("maxBitrates",{type:"maxBitrates",audio:t.maxBitrates.audio,video:t.maxBitrates.video});h.emit("segmentStarting",t);});f.forEach(function(t){t.events.on("serverSwitch",function(v){h.emit("serverSwitch",{type:"serverSwitch",segmentId:v.segmentId,mediatype:v.mediatype,server:v.server,reason:v.reason,location:v.location,bitrate:v.bitrate,confidence:v.confidence,throughput:v.throughput,oldserver:v.oldserver});});t.events.on("streamSelected",function(v){var u;u=t.sB(v.position);h.emit("streamSelected",{type:"streamSelected",nativetime:v.nativetime,mediaType:v.mediaType,streamId:v.streamId,manifestIndex:0,trackIndex:v.trackIndex,streamIndex:v.streamIndex,movieTime:u.hn.U,bandwidth:v.bandwidth,longtermBw:v.longtermBw,rebuffer:v.rebuffer});});t.events.on("updateStreamingPts",function(v){var u;u=h.I;l.R && d.trace("converting updateStreamingPts, movieId:",u);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:v.mediaType,manifestIndex:0,trackIndex:v.trackIndex,segmentId:v.position.V,movieTime:Math.floor(v.completePlayerStreamingTimestamp.U)});});});};b.Y$a=function(d,f,h,g){["managerdebugevent","segmentAppended","startEvent","logdata"].forEach(function(n){return c(f,h.events,n);});h.events.on("streamPresenting",function(n){var p,q;p=n.playerTimestamp.U;q=f.na.sB(n.position);void 0 === q?g.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):f.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(p),contentStartPts:Math.floor(q.hn.U),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var p,q,t;p=f.na.sB(n.position);q=n.playerTimestamp.Aa(p.hn);t=n.position.V;f.A1a || (f.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.U,movieId:p.L.toString(),replace:!1,contentOffset:q.U}),f.A1a=!0);f.emit("segmentPresenting",{type:"segmentPresenting",segmentId:t,contentOffset:q.U,metrics:n.metrics});});h.events.on("ptsChanged",function(n){f.emit("ptschanged",n.initialTimestamp.U);f.Kd.emit("skipped");});};b.E8=function(d,f,h,g,n,p){var q;h=h.U;n=null !== n && void 0 !== n?n:f;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !p,hashindsight:!1,buffCompleteReason:f.reason,actualbw:g,initSelReason:null !== (q=f.initSelReason) && void 0 !== q?q:"unknown",bcVBufferLevelMs:f.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:f.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:f.vBufferLevelMs,selector:f.selector,initBitrate:f.initBitrate,skipbackBufferSizeBytes:f.skipbackBufferSizeBytes});};b.k2a=function(d,f,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:f.track_id,trackIndex:h});};},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sYa=void 0;r=a(0);c=a(11);m=r.__importDefault(a(154));k=a(7);b.sYa=function(l){if(l.kvb)return l;m.default(c.EventEmitter.prototype,l);Object.defineProperties(l,{kvb:{value:!0},oc:{get:function(){return new k.K(this.Le(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.kq?this.kq():1,.01);}}});return l;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hHb={cw:["minInitVideoBitrate",-Infinity],lxa:["minHCInitVideoBitrate",-Infinity],PB:["maxInitVideoBitrate",Infinity],BZ:["minInitAudioBitrate",-Infinity],zZ:["minHCInitAudioBitrate",-Infinity],mZ:["maxInitAudioBitrate",Infinity],wba:["minAcceptableVideoBitrate",-Infinity],xZ:["minAcceptableVMAF",0],o0b:["minAcceptableVMAFRebufferScalingFactor",0],kxa:["minAllowedVideoBitrate",-Infinity],p_b:["maxAllowedVideoBitrate",Infinity],RJ:["minAllowedVmaf",-Infinity],fab:["maxAllowedVmaf",Infinity],QR:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],H8:["enableResolutionVMAFStreamFilter",!1],Fya:["percentCapTitlesForResolutionVMAFStreamFilter",100],Hda:["resolutionVMAFCappingRuleList",[]],L7a:["ignoreUserFilterOnEmptyResult",!0],tF:["minRequiredBuffer",2E4],Eba:["minRequiredAudioBuffer",0],uj:["minPrebufSize",5800],Aba:["minCheckBufferingCompleteInterval",200],G8:["enableMoreFrequentBufferingCompleteCheck",!1],oxa:["minimumBufferingCompleteInterval",1E4],Bda:["requireDownloadDataAtBuffering",!1],$7a:["indicatorForDownloadDataAtBuffering","oncomplete"],Cda:["requireSetupConnectionDuringBuffering",!1],Nza:["rebufferingFactor",1],Or:["maxBufferingTime",2E3],IDa:["useMaxPrebufSize",!0],Jt:["maxPrebufSize",4E4],Uwa:["maxRebufSize",Infinity],DOb:["fastRebufferRecoveryThreshold",Infinity],COb:["fastRebufferRecoverBwThrehold",3E3],U$:["initialBitrateSelectionCurve",null],e8a:["initSelectionLowerBound",-Infinity],f8a:["initSelectionUpperBound",Infinity],W0:["throughputPercentForAudio",15],Tna:["bandwidthMargin",0],Vna:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],DYa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,JA:76376,scale:18862.4,gamma:3.0569}],Una:["bandwidthMarginContinuous",!1],EYa:["bandwidthMarginForAudio",!0],ICa:["switchConfigBasedOnInSessionTput",!0],Apa:["conservBandwidthMargin",20],oW:["conservBandwidthMarginTputThreshold",6E3],Bpa:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],ujb:["switchAlgoBasedOnHistIQR",!1],cG:["switchConfigBasedOnThroughputHistory","iqr"],Twa:["maxPlayerStateToSwitchConfig",-1],swa:["lowEndMarkingCriteria","iqr"],Fha:["IQRThreshold",.5],kua:["histIQRCalcToUse","simple"],av:["bandwidthManifold",{curves:[{min:.05,max:.82,JA:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,JA:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Yv:["maxTotalBufferLevelPerSession",0],y7a:["highWatermarkLevel",3E4],ckb:["toStableThreshold",3E4],Wea:["toUnstableThreshold",0],YBa:["skipBitrateInUpswitch",!1],ZDa:["watermarkLevelForSkipStart",8E3],WBa:["simulationDurationStrategy","default"],wac:["simulationFullBufferPercentage",1],hbb:["minSimulationDuration",2E4],Bab:["maxSimulationDuration",3E5],EDa:["upperThroughputPredictionFactor",1.6],F$:["highStreamRetentionWindow",9E4],Waa:["lowStreamTransitionWindow",51E4],gua:["highStreamRetentionWindowUp",5E5],uwa:["lowStreamTransitionWindowUp",1E5],fua:["highStreamRetentionWindowDown",6E5],twa:["lowStreamTransitionWindowDown",0],eua:["highStreamInfeasibleBitrateFactor",.5],KB:["lowestBufForUpswitch",9E3],Raa:["lockPeriodAfterDownswitch",15E3],wwa:["lowWatermarkLevel",15E3],my:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],xwa:["lowestWaterMarkLevelBufferRelaxed",!1],t_b:["maxContentDurationForMinBufferIncrease",6E4],qba:["mediaRate",1.5],iba:["maxTrailingBufferLen",15E3],HV:["audioBufferTargetAvailableSize",262144],v1:["videoBufferTargetAvailableSize",1048576],Eab:["maxVideoTrailingBufferSize",8388608],hab:["maxAudioTrailingBufferSize",393216],X8:["fastUpswitchFactor",3],FOb:["fastUpswitchFactorWithoutHeaders",3],EOb:["fastUpswitchFactorForNextSegment",2],sra:["fastDownswitchFactor",3],Xv:["maxMediaBufferAllowed",27E4],npc:["minMediaBufferLen",1E4],VBa:["simulatePartialBlocks",!0],fib:["simulateBufferFull",!0],Cpa:["considerConnectTime",!0],zpa:["connectTimeMultiplier",1],E$a:["lowGradeModeEnterThreshold",12E4],F$a:["lowGradeModeExitThreshold",9E4],kab:["maxDomainFailureWaitDuration",3E4],gab:["maxAttemptsOnFailure",18],W2a:["exhaustAllLocationsForFailure",!0],sab:["maxNetworkErrorsDuringBuffering",20],aba:["maxBufferingTimeAllowedWithNetworkError",6E4],CN:["alwaysRunUnderflowTimer",!0],e3a:["fastDomainSelectionBwThreshold",2E3],Hjb:["throughputProbingEnterThreshold",4E4],Ijb:["throughputProbingExitThreshold",34E3],s$a:["locationProbingTimeout",1E4],l3a:["finalLocationSelectionBwThreshold",1E4],Fjb:["throughputHighConfidenceLevel",.75],Gjb:["throughputLowConfidenceLevel",.4],ewa:["locationStatisticsUpdateInterval",6E4],vZb:["locationSelectorPersistFailures",!0],y2a:["enablePerfBasedLocationSwitch",!1],Xoc:["maxRateMaxFragmentGroups",4500],Jya:["pipelineScheduleTimeoutMs",2],QB:["maxPartialBuffersAtBufferingStart",2],w0b:["minPendingBufferLen",3E3],gba:["maxPendingBufferLen",6E3],tNb:["enableNginxRateLimit",!1],Wba:["nginxSendingRate",4E4],xNb:["enableRequestPacingToken",!1],V_b:["mediaRequestPacingSpeed",2],Mua:["initialMediaRequestToken",2E4],Zaa:["maxActiveRequestsSABCell100",2],uab:["maxPendingBufferLenSABCell100",500],dgb:["resetActiveRequestsAtSessionInit",!0],Nqa:["enableCprAudio",!1],Oqa:["enableCprVideo",!1],c_a:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],$ac:["staticPacingRateKbps",0],F3b:["paceRateSelectorAlgorithm","default"],x2a:["enablePaceReportLogging",!1],Cdc:["unpacedFragmentInterval",0],RVb:["ignorePacedRequestStrategy","none"],d_:["pacedThresholdPct",.1],Kqa:["effectivePaceRateFactor",1],z7b:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],H3b:["pacingTargetBufferStrategy","implicit"],fcc:["targetBufferLevelStddevMultiplier",1],ecc:["targetBufferLevelDurationMs",0],x0b:["minTargetBufferLevelMs",27E4],lCa:["stddevPredictorMultiplier",-.3],mCa:["stddevPredictorUpperMultiplier",2],bbc:["stddevPredictorSource","deliverytime"],Yoa:["ciPredictorSource","throughput-ci"],t2a:["enableInitialTputLogging",!1],mNb:["enableInitialThroughputHistory",!1],Vwa:["maxStreamingSkew",2E3],s_b:["maxBufferOccupancyForSkewCheck",Infinity],wec:["useBufferOccupancySkipBack",!0],Rwa:["maxPendingBufferPercentage",10],xab:["maxRequestsInBuffer",120],D$:["headerRequestSize",4096],bra:["estimateHeaderSize",!0],$nc:["headerCacheEstimateHeaderSize",!1],XJ:["neverWipeHeaderCache",!1],Gec:["useSidxInfoFromManifestForHeaderRequestSize",!1],M3b:["parseAdditionalBoxesMp4Header",!0],g3a:["fastPlayHeaderRequestSize",0],dQ:["maxRequestSize",0],nQ:["minRequestSize",65536],yZ:["minBufferLenForHeaderDownloading",1E4],oib:["smartHeaderPreDownloading",!1],cNb:["enableAllHeadersPreDownloading",!1],Dpc:["onlyAllowPtsUpdatePolling",!1],y0b:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],c0:["reserveForSkipbackBufferMs",15E3],Qxa:["numExtraFragmentsAllowed",2],Qr:["pipelineEnabled",!0],cQ:["maxParallelConnections",3],Dec:["usePipelineForAudio",!1],Cec:["usePipelineDetectionForAudio",!1],rib:["socketReceiveBufferSize",0],k7:["audioSocketReceiveBufferSize",32768],pS:["videoSocketReceiveBufferSize",65536],Alb:["usePipelineDetectionForVideo",!1],C0b:["minVideoSocketReceiveBufferSize",65536],cua:["headersSocketReceiveBufferSize",32768],V$b:["shareDownloadTracks",!0],W$b:["shareOpenRangeTracks",!1],mjb:["supportOpenRangeRequests",!0],WLb:["disableHeaderDownloadTracks",!1],nxa:["minTimeBetweenHeaderRequests",void 0],lfa:["updatePtsIntervalMs",1E3],goa:["bufferTraceDenominator",0],QN:["bufferLevelNotifyIntervalMs",2E3],wCa:["streamingStatusIntervalMs",2E3],eC:["prebufferTimeLimit",6E4],zba:["minBufferLevelForTrackSwitch",2E3],vNb:["enablePenaltyForLongConnectTime",!1],Cya:["penaltyFactorForLongConnectTime",2],qwa:["longConnectTimeThreshold",200],hna:["additionalBufferingLongConnectTime",2E3],ina:["additionalBufferingPerFailure",8E3],K_:["rebufferCheckDuration",6E4],v2a:["enableLookaheadHints",!1],B$a:["lookaheadFragments",2],eB:["enableOCSideChannel",!0],oza:["probeRequestTimeoutMilliseconds",3E4],Xpc:["probeRequestConnectTimeoutMilliseconds",8E3],Y3:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],yNb:["enableSCByteRangeHints",!1],Skb:["updateDrmRequestOnNetworkFailure",!0],jab:["maxDiffAudioVideoEndPtsMs",1E3],oLb:["deferAseHeaderCache",!1],l1a:["deferAseScheduling",!1],Njb:["timeBeforeEndOfStreamBufferMark",6E3],cba:["maxFastPlayBufferInMs",2E4],v_b:["maxFastPlayContentTimeThresholdMs",112E3],Owa:["maxFastPlayBitThreshold",2E8],Mwa:["maxBufferingCompleteBufferInMs",Infinity],wEb:["bufferingCompleteOnMemoryLimit",!1],xba:["minAudioMediaRequestSizeBytes",0],Gba:["minVideoMediaRequestSizeBytes",0],r_b:["maxAudioMediaRequestSizeBytes",Infinity],K_b:["maxVideoMediaRequestSizeBytes",Infinity],A_b:["maxMediaRequestSizeBytesInFraction",1],vy:["minAudioMediaRequestDuration",0],TB:["minVideoMediaRequestDuration",0],Cba:["minMediaRequestDuration",0],q_b:["maxAudioMediaRequestDuration",Infinity],J_b:["maxVideoMediaRequestDuration",Infinity],eba:["maxMediaRequestDuration",Infinity],nna:["allowFirstRequestAggregation",!1],r0b:["minAudioMediaRequestDurationCache",0],A0b:["minVideoMediaRequestDurationCache",0],tlb:[["useHeaderCache","usehc"],!0],GDa:[["useHeaderCacheData","usehcd"],!0],l8:["defaultHeaderCacheSize",4],f1a:["defaultHeaderCacheDataCount",4],k8:["defaultHeaderCacheDataPrefetchMs",0],dVb:["headerCacheMaxPendingData",6],aoc:["headerCachePriorityLimit",5],s7a:["headerCacheAdoptBothAV",!1],Eec:["usePipelineForBranchedAudio",!0],fGb:["childBranchBatchedAmount",1E4],uF:["minimumTimeBeforeBranchDecision",2E3],E0b:["minimumAppendedMediaBeforePlayback",5E3],Jpc:["parallelBranchesDuringBuffering",!1],D_b:["maxRequestsToAttachOnBranchActivation",void 0],CZ:["minimumJustInTimeBufferLevel",3E3],nNb:["enableJustInTimeAppends",!1],RXa:["appendPacingFactor",0],JCb:["appendPacingThreshold",3E3],p2a:["enableDelayedSeamless",!1],amc:["branchEndPtsIntervalMs",250],SVb:["ignorePtsJustBeforeCurrentSegment",!1],oab:["maxFragsForFittableOnBranching",300],a4b:["pausePlaylistAtEnd",!0],wBb:["adaptiveParallelTimeoutMs",1E3],HO:["enableAdaptiveParallelStreaming",!1],foa:["bufferThresholdToSwitchToSingleConnMs",45E3],eoa:["bufferThresholdToSwitchToParallelConnMs",35E3],ZMb:["enableAPSForBranching",!1],Cfa:["waitForPendingConnAdaptation",!1],xxa:["networkFailureResetWaitMs",2E3],wxa:["networkFailureAbandonMs",6E4],hba:["maxThrottledNetworkFailures",5],Oea:["throttledNetworkFailureThresholdMs",200],vwa:["lowThroughputThreshold",400],jra:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],xcc:["timeAtEachBitrateRoundRobin",1E4],T8b:["roundRobinDirection","forward"],EVb:["httpsConnectErrorAsPerm",!1],tbb:["mp4ParsingInNative",!1],Si:["enableManagerDebugTraces",!1],R$a:["managerDebugMessageInterval",1E3],Q$a:["managerDebugMessageCount",20],fcb:["notifyManifestCacheEom",!0],DNb:["enableUsingHeaderCount",!1],tib:["sourceBufferInOrderAppend",!0],AK:["requireAudioStreamToEncompassVideo",!1],AXa:["allowAudioToStreamPastVideo",!1],X_a:["countGapInBuffer",!1],BXa:["allowCallToStreamSelector",!1],XYa:["bufferThresholdForAbort",2E4],rCa:["ase_stream_selector","optimized"],oYa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],iZb:["liveStreamSelectorAlgorithm","throughputthreshold"],Jua:["initBitrateSelectorAlgorithm","default"],loa:["bufferingSelectorAlgorithm","default"],nbc:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],B2a:["enableThroughputTraceResearchData",!1],Jjb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Qy:["researchEnvironmentEnabled",!1],ANb:["enableStreamSelectionAugmentData",!1],FDb:["augmentDataNumOfChunks",30],V0a:["ase_ls_failure_simulation",""],Zpa:["ase_dump_fragments",!1],$pa:["ase_location_history",0],W0a:["ase_throughput",0],Y0a:["ase_simulate_verbose",!1],pya:["paddingDurationMs",1E3],qya:["paddingMediaType","padding"],Ch:["stallAtFrameCount",void 0],yib:["stallAtFrameCountAudio",void 0],Gwa:["marginPredictor","simple"],plb:["useBackupUnderflowTimer",!0],n1b:["noDuplicateUnderflowTimer",!1],wrc:["useManifestDrmHeader",!0],xrc:["useOnlyManifestDrmHeader",!0],yxa:["networkMeasurementGranularity","video_location"],d1b:["netIntrStoreWindow",36E3],upc:["minNetIntrDuration",8E3],Mwb:["fastHistoricBandwidthExpirationTime",10368E3],oxb:["bandwidthExpirationTime",5184E3],Lwb:["failureExpirationTime",86400],GVa:["historyTimeOfDayGranularity",4],Iwb:["expandDownloadTime",!0],dyb:["minimumMeasurementTime",500],cyb:["minimumMeasurementBytes",131072],yzb:["throughputMeasurementTimeout",2E3],xzb:["initThroughputMeasureDataSize",262144],Lxb:["historicBandwidthUpdateInterval",2E3],Blc:["throughputPredictor","ewma"],XAa:["secondThroughputEstimator","slidingwindow"],Kgb:["secondThroughputMeasureWindowInMs",3E5],Alc:["throughputMeasureWindow",5E3],Clc:["throughputWarmupTime",5E3],zlc:["throughputIQRMeasureWindow",1E3],jlc:["IQRBucketizerWindow",15E3],pab:["maxIQRSamples",100],dbb:["minIQRSamples",5],wlc:["connectTimeHalflife",10],plc:["responseTimeHalflife",10],MUa:["historicThroughputHalflife",14400],LUa:["historicResponseTimeHalflife",100],KUa:["historicHttpResponseTimeHalflife",100],LJa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],sVa:["minReportedNetIntrDuration",4E3],ylc:["throughputBucketMs",500],mlc:["bucketHoltWintersWindow",2E3],zwb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],Jwb:["experimentalFilter",["throughput-wssl"]],cWa:["reportedFilters",[]],fla:["filterDefinitionOverrides",{}],pwb:["defaultFilter","throughput-ewma"],fAb:["secondaryFilter","throughput-sw"],Qka:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],HNb:["enableWsslEstimate",!1],$oc:["maxWsslRequestSize",131072],Zoc:["maxWsslRequestRatio",.2],smb:["wsslAggregationMethod","max"],aX:["enableSessionHistoryReport",!0],Jqa:["earlyStageEstimatePeriod",1E4],X9a:["lateStageEstimatePeriod",3E4],fba:["maxNumSessionHistoryStored",10],Fba:["minSessionHistoryDuration",3E5],mVb:["highAndStableModelName","baseline"],Qqa:["enableHighAndStablePredictor",!1],Dba:["minNumSessionHistory",5],Wlc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],E$:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],nVb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Wma:["addHeaderDataToNetworkMonitor",!0],fCa:["startMonitorOnLoadStart",!1],iAa:["reportFailedRequestsToNetworkMonitor",!1],Fca:["periodicHistoryPersistMs",0],Uda:["saveVideoBitrateMs",0],GZ:["needMinimumNetworkConfidence",!0],Yna:["biasTowardHistoricalThroughput",!1],zZb:["logMemoryUsage",!1],qw:["probeServerWhenError",!0],xA:["allowSwitchback",!0],rK:["probeDetailDenominator",100],bba:["maxDelayToReportFailure",300],Ps:["allowParallelStreaming",!1],epc:["mediaPrefetchDisabled",!1],abb:["minBufferLevelToAllowPrefetch",5E3],Vda:["seamlessAudio",!1],tqc:["seamlessAudioProfiles",[]],uqc:["seamlessAudioProfilesAndTitles",{}],VAa:["seamlessAudioMaximumSyncError",void 0],WAa:["seamlessAudioMinimumSyncError",void 0],r8a:["insertSilentFrames",0],Uua:["insertSilentFramesOnSeek",!1],s8a:["insertSilentFramesOnSeekForTitles",[]],HWb:["insertSilentFramesOnSeekCount",3],znc:["forceDiscontinuityAtTransition",!0],ECa:["supportAudioResetOnDiscontinuity",void 0],Nbc:["supportAudioEasingOnDiscontinuity",void 0],MMb:["editCompleteFragments",!0],F0b:["minimumAudioFramesPerFragment",1],fI:["applyProfileTimestampOffset",!1],ro:["applyProfileStreamingOffset",!0],Aeb:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}}}],zDb:["audioProfilesNonSyncSamples",["xheaac-dash"]],ldc:["truncateEndOfStreamAudio",!1],yec:["useDpiAssumedAacEncoderDelay",!0],uZ:["mediaSourceSupportsNegativePts",!1],mQ:["minAudioPtsGap",void 0],xDb:["audioOverlapGuardSampleCount",2],A2a:["enableRecordJSBridgePerf",!1],Lha:["JSBridgeTDigestConfig",{maxc:25,c:.5}],scc:["throughputThresholdSelectorParam",0],tec:["upswitchDuringBufferingFactor",2],BCb:["allowUpswitchDuringBuffering",!1],N_a:["contentOverrides",void 0],Fpa:["contentProfileOverrides",void 0],jua:["hindsightDenominator",0],iua:["hindsightDebugDenominator",0],G$:["hindsightAlgorithmsEnabled",[]],H$:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],QXa:["appendMediaRequestOnComplete",!1],Bfa:["waitForDrmToAppendMedia",!1],ofc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],k9:["forceAppendHeadersAfterDrm",!1],aqa:["declareBufferingCompleteAtSegmentEnd",!1],ry:["maxActiveRequestsPerSession",void 0],awa:["limitAudioDiscountByMaxAudioBitrate",!1],tna:["appendFirstHeaderOnComplete",!0],K0:["strictBufferCapacityCheck",!1],HN:["aseReportDenominator",0],d7:["aseReportIntervalMs",3E5],bDa:["translateToVp9Draft",!1],eAa:["reorderTrakMvex",!1],TR:["switchableAudioProfiles",[]],ADb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],wjb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],BDb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Cab:["maxStartingVideoVMAF",110],dw:["minStartingVideoVMAF",1],uV:["activateSelectStartingVMAF",!1],aea:["selectStartingVMAFTDigest",-1],sR:["selectStartingVMAFMethod","fallback"],Rgb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],KQ:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],XLb:["disablePtsStartsEvent",!0],Pza:["recordFirstFragmentOnSubBranchCreate",!0],Jab:["mediaCacheConvertToBinaryData",!1],Ywa:["mediaCacheSaveOneObject",!1],eab:["markRequestActiveOnFirstByte",!1],Aea:["stopOnAllInactiveRequests",!1],D8:["earlyAppendSingleChildBranch",!0],iS:["useNativeDataViewMethods",!0],xec:["useCorrectDrainingAmounts",!0],KO:["enableNewAse",!1],q1:["useNewApi",!1],VCb:["aseDiagnostics",[{ke:"queue-audit",enabled:!0},{ke:"task-audit",enabled:!0},{ke:"trace-ShimSession",enabled:!0},{ke:"trace-engine",enabled:!0},{ke:"trace-RequestPacer",enabled:!0},{ke:"trace-BufferStateTracker",enabled:!0},{ke:"trace-GraphStreamingProcess",enabled:!0},{ke:"trace-AsePlaygraph",enabled:!0},{ke:"playgraph-branch-audit",enabled:!0},{ke:"content-playgraph",enabled:!0},{ke:"trace-CphAsePlaygraph",enabled:!0},{ke:"trace-GraphLocation",enabled:!0},{ke:"cache-ads::gls",enabled:!0},{ke:"cache-content::gls",enabled:!0}]],dNb:["enableAseReporting",!0],lEb:["branchDistanceThreshold",6E4],$aa:["maxAllowedOutstandingRequests",4],mxa:["minStreamableConcurrencyWindow",3E3],G_b:["maxStreamableConcurrencyWindow",Infinity],tCa:["streamableConcurrencyFactor",.3],aW:["bufferingConcurrencyWindow",7800],boa:["branchCreationThreshold",12E4],F8:["enableDiscontiguousBuffering",!1],Vra:["forceImmediateTransitionTypeForTitles",[]],Ura:["forceImmediateTransitionExitZone",0],U_a:["contiguousBufferMultiplier",3],S_a:["contiguousBufferMinimumAudio",1048576],T_a:["contiguousBufferMinimumVideo",8388608],n5b:["prefetchBudgetInBytes",0],ifb:["rebufferRiskHalfLife",1E4],nfa:["useBufferSizeLimiter",!1],Hec:["useStaticBufferSizeLimiter",!1],q5b:["prefetchWeightBudget",32],pxa:["minimumDownstreamBranchProbability",.075],FDa:["useExitZones",!0],r5b:["prefetchWhilePlaying",!0],w5b:["prefetcherSoftReset",!0],Sdb:["playgraphDefaultWeight",65520],qLb:["delayNotificationOfEoS",!1],$_b:["memDeadlockShouldCheckMemory",!0],Z_b:["memDeadlockOverageThreshold",.9],Y_b:["memDeadlockMaxUtilizationPercentage",.5],Uya:["playerPtsPadding",1],mpc:["minFragmentVmaf",void 0],XW:["enableCombinedPlaygraphs",!0],KI:["enableAdPlaygraphs",!0],z2a:["enablePrerollForInitialSeek",!1],HDa:["useLegacyFragmentRounding",!1],kra:["excludedContentPlaygraphIds",[]],R6a:["graphSelectorSetAudioRate",!1],GNb:["enableVmafEstimationFromBitrate",!1],H_b:["maxVMAFMappingBitrate",16E3],I_b:["maxVMAFMappingVMAF",110],CFb:["cdndldistEnabled",!1],yw:["segmentFadeDuration",400],eQ:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],Ida:["retainSbrOnFade",!1],i3b:["optimizeEditedFragments",!1],HCa:["supportsPtsChanged",!0],bNb:["enableAdLruCaches",!1],fYa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}]};b.sh=b.hHb;},function(r,b,a){var c,m,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Zw=b.PG=b.$w=b.$P=b.Mja=void 0;c=a(0);m=a(61);Object.defineProperties(b,{PG:{enumerable:!0,get:function(){return m.PG;}}});Object.defineProperties(b,{Zw:{enumerable:!0,get:function(){return m.Zw;}}});Object.defineProperties(b,{$P:{enumerable:!0,get:function(){return m.$P;}}});Object.defineProperties(b,{Mja:{enumerable:!0,get:function(){return m.Mja;}}});k=c.__importDefault(a(4));r=(function(l){function d(f,h,g,n,p){return l.call(this,d.console,f,h,g,n,p) || this;}c.__extends(d,l);Object.defineProperties(d,{console:{get:function(){return this.G || (this.G=new k.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(m.$w);b.$w=r;},function(r,b,a){var k,l;function c(){}function m(d,f,h,g,n){this.debug=d;this.version=f;this.jYb=h;this.B4b=g;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.iRa=void 0;r=a(0);k=a(1);l=a(5);m.prototype.QRb=function(){return this.config().mJ;};m.prototype.qsa=function(){return this.config().OYa;};m.prototype.i6a=function(){return (0,l.qc)(this.config().$4b);};m.prototype.G5a=function(){return this.config().pZb;};m.prototype.I5a=function(){return this.config().g_b;};c.prototype.ZI=function(d,f,h,g,n){return new m(d,f,h,g,n);};a=c;a=r.__decorate([(0,k.Y)()],a);b.iRa=a;},function(r,b,a){var m,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.sSa=void 0;r=a(0);m=a(1);a=a(12);c.prototype.i6b=function(l,d,f,h){this.config().Q9b && (l=l.metrics,void 0 !== l && l.segment !== l.srcsegment && d.YP.qb.transition({isBranching:h || void 0,isPlaygraph:!h || void 0,mid:d.I,xid:d.da,srcxid:f.da,srcmid:f.I,segment:l.segment,srcsegment:l.srcsegment,srcsegmentduration:l.srcsegmentduration,srcoffset:l.srcoffset,auxMid:l.auxMid,auxMidType:l.auxMidType,auxSrcmid:l.auxSrcmid,auxSrcmidType:l.auxSrcmidType,seamlessRequested:l.seamlessRequested,transitionType:l.transitionType,transitionTypeAtRequest:l.transitionTypeAtRequest,nextExitPositionAtRequest:l.nextExitPositionAtRequest,delayToTransition:l.delayToTransition,durationOfTransition:l.durationOfTransition,atRequest:l.atRequest,atTransition:l.atTransition,discard:l.discard}));};k=c;k=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Nc))],k);b.sSa=k;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.Ulb=void 0;r=a(1);c=a(364);m=a(1117);b.Ulb=new r.xd(function(k){k(c.WSa).to(m.VSa).ha();});},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L;function c(K){this.ic=K;}Object.defineProperty(b,"__esModule",{value:!0});b.VSa=void 0;r=a(0);m=a(1);k=a(78);l=a(31);d=a(27);f=a(6);h=a(110);g=a(222);n=a(451);p=a(1118);q=a(268);t=a(88);v=a(452);u=a(1119);w=a(272);x=a(82);y=a(19);z=a(115);A=a(273);B=a(461);C=a(12);D=a(462);F=a(463);G=a(30);E=a(274);H=a(464);L=a(36);c.prototype.jO=function(K,I,R,O,J,M){return this.ic.get(C.Nc)().pfa?new u.XSa(this.ic.get(f.ub),this.ic.get(w.kja),this.ic.get(x.Bz),this.ic.get(y.cd),this.ic.get(z.NG),this.ic.get(h.iha),this.ic.get(A.mia),this.ic.get(B.sJa),this.ic.get(D.DPa),this.ic.get(F.Tja),this.ic.get(F.Tja),this.ic.get(G.Eh),this.ic.get(H.vT),this.ic.get(E.wha),this.ic.get(L.hj),O,R):new p.JKa(this.ic.get(l.ci),this.ic.get(d.Og),this.ic.get(f.ub),this.ic.get(h.iha),this.ic.get(g.Lja),this.ic.get(q.Via),this.ic.get(t.hha),this.ic.get(v.mOa),this.ic.get(n.vHa),K,I,R,O,J,M);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.GKa))],a);b.VSa=a;},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p,q,t,v,u,w,x,y,z,A,B,C,D){var F;F=this;this.Ge=g;this.Db=n;this.Lb=q;this.kw=v;this.kW=u;this.j4a=w;this.config=y;this.ti=A;this.u=B;this.j=z.create(B.I,B.yj,x,C,D,B.Eb,B.id,B.ja);this.j.background=!0;this.log=p.mb("VideoPlayer",this.j);this.wdb=[];this.ended=!1;this.xL();this.j.state.addListener(function(G){G.newValue === k.ac.He && F.Ab(k.Ja.sva,{movieId:B.I});});this.j.fb.Sh && (this.PN=t.cJb(this,this.j),this.j.addEventListener(k.ia.IK,function(G){G=G.position.segmentId;F.EYb !== G && (F.EYb=G,F.Ab(k.Ja.C9b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.JKa=void 0;m=a(3);k=a(16);l=a(5);d=a(13);f=a(88);h=a(25);c.prototype.isReady=function(){return this.j.state.value === k.ac.He;};c.prototype.S5a=function(){return this.j.I;};c.prototype.Iv=function(){return this.j.da;};c.prototype.Lo=function(){return this.j.ip;};c.prototype.Lr=function(){return this.j.jk.value;};c.prototype.KY=function(){return this.j.paused.value;};c.prototype.Zua=function(){return this.ended;};c.prototype.ji=function(){var g;g=this.j.qoa.value;return g?{networkStalled:! !g.fu,stalled:! !g.fu,progress:g.progress,progressRollback:! !g.o6b}:null;};c.prototype.getError=function(){var g;g=this.j.Ti;return g?g.e1():null;};c.prototype.gq=function(){return this.j.gq();};c.prototype.F5a=function(){return this.j.Et;};c.prototype.Fv=function(){return this.j.mediaTime.value;};c.prototype.z4a=function(){var g;g=(this.H9() || 0) + this.j.y4a();return Math.min(g,this.wsa());};c.prototype.H9=function(){return this.j.ME();};c.prototype.wsa=function(){return this.j.Nx.fa(l.ma);};c.prototype.N6a=function(){var g;g=this.j.nG.value;return g?{width:g.width,height:g.height}:null;};c.prototype.I9=function(){return this.j.I9();};c.prototype.i4a=function(g){var n,p;return (null === (n=this.j.ja) || void 0 === n?0:n.tj.iP("generateScreenshots"))?this.j4a.cq(this.log,this.j.ja.tj,g):(n=null === (p=this.j.fb) || void 0 === p?void 0:p.ep)?this.j4a.Lf(this.log,Object.assign({packageId:n},g)):Promise.reject("Unknown packageId");};c.prototype.U4a=function(){return this.tRb(this.j.y1a);};c.prototype.q4a=function(){var g;g=this;return this.j.pj.map(function(n){return g.Hr(n);});};c.prototype.M5a=function(){var g;return this.RX(this.j.pj,null === (g=this.j.ja) || void 0 === g?void 0:g.ab.vab);};c.prototype.Hta=function(g){var n;n=this;return this.$X(g).map(function(p){return n.Hr(p);});};c.prototype.Vsa=function(g){var n;return this.RX(this.$X(g),null === (n=this.j.ja) || void 0 === n?void 0:n.ab.wab);};c.prototype.hva=function(){return this.j.muted.value;};c.prototype.P6a=function(){return this.j.volume.value;};c.prototype.p4a=function(){var g,n;n=(null === (g=this.Cy) || void 0 === g?void 0:g.yc) || this.j.yc.value;return n && this.Hr(n);};c.prototype.Gta=function(){var g,n;n=(null === (g=this.Cy) || void 0 === g?void 0:g.V0) || this.j.jc.value;return n && this.Hr(n);};c.prototype.D8a=function(){return ! !this.j.background;};c.prototype.Chb=function(g){this.j.muted.set(! !g);};c.prototype.Rhb=function(g){this.j.volume.set(this.Q1b(g));};c.prototype.Dhb=function(g){this.j.playbackRate.set(g);};c.prototype.kq=function(){return this.j.playbackRate.value;};c.prototype.mhb=function(g){var n,p,q,t,v;n=this;q=this.mX(g);if(q){if(q.Wi)return (this.j.yc.set(q),Promise.resolve());t=(g=(null === (p=this.Cy) || void 0 === p?void 0:p.V0) || this.j.jc.value) && this.k9a(q,g)?g:q.Ai[0];p=q.trackId;v=t.trackId;this.Cy={yc:q,V0:t};this.Ab(k.Ja.Zm);this.Ab(k.Ja.Fw);t !== g && this.Ab(k.Ja.Bm);return this.j.G7a(p,v).then(function(u){u=u.yc;n.Cy=void 0;n.j.yc.set(u);}).catch(function(u){n.Cy=void 0;u=n.Ge.cf(u);n.log.error(u);n.close(n.ti(m.W.UL,{xa:m.T.eia,Qb:u,qJ:{JVb:q.trackId,H7a:q.xf,KVb:t.trackId,I7a:t.xf}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.CBa=function(g){var n,p,q,t;n=this;q=(null === (p=this.Cy) || void 0 === p?void 0:p.yc) || this.j.yc.value;if(null !== q){t=q.Ai;p={};for(var v=0;v < t.length;(p={su:p.su},v++)){p.su=t[v];if(!g && null === p.su)return (this.j.jc.set(null),Promise.resolve());if(this.Hr(p.su) === g){if(p.su.Wi)return (this.log.info("Setting Timed Text, profile: " + p.su.profile),this.j.jc.set(p.su),Promise.resolve());g=q.trackId;t=p.su.trackId;this.Cy={yc:q,V0:p.su};this.Ab(k.Ja.Bm);return this.j.G7a(g,t).then(function(u){u=u.V0;n.Cy=void 0;n.j.jc.set(u);}).catch((function(u){return function(w){n.Cy=void 0;w=n.Ge.cf(w);n.log.error(w);n.close(n.ti(m.W.UL,{xa:m.T.eia,Qb:w,qJ:{JVb:q.trackId,H7a:q.xf,KVb:u.su.trackId,I7a:u.su.xf}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.qBa=function(g){this.j.background=g;};c.prototype.LR=function(){this.j.LR();};c.prototype.jfa=function(g){this.j.jfa(g);};c.prototype.Wj=function(g){return this.j.Wj(g);};c.prototype.d6a=function(){return this.j.fb;};c.prototype.yy=function(){this.j.yy();};c.prototype.$J=function(g){this.j.$J(g);};c.prototype.jY=function(g,n,p){return this.j.jY(g,n,p);};c.prototype.cna=function(g,n){this.j.addEventListener(g,n,void 0);};c.prototype.addEventListener=function(g,n,p){this.Lb.addListener(g,n,p);};c.prototype.removeEventListener=function(g,n){this.Lb.removeListener(g,n);};c.prototype.nK=function(){};c.prototype.load=function(){var g;g=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{g.Ab(k.Ja.p$a,void 0,!0);n.ja && (n.ja.ab.kmb && g.Ab(k.Ja.xfc,n.ja.ab.kmb,!0),n.ja.ab.xo && g.Ab(k.Ja.B9b,{segmentMap:n.ja.ab.xo},!0));p({ea:!0});}catch(q){p({xa:m.T.Im,Qb:g.Ge.cf(q)});}}));};c.prototype.close=function(g){var n;n=this;this.f_a || (this.f_a=new Promise(function(p){g?n.j.sI(g,p):n.j.close(p);}));return this.f_a;};c.prototype.play=function(){this.j.Ni?this.j.fireEvent(k.ia.Bgb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(k.ia.Hlb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(k.ia.Lec));};c.prototype.seek=function(g,n,p,q){n=void 0 === n?k.Ve.oD:n;this.j.qFb() && (this.j.Ff?this.j.Ff.seek(g,n,p,q):this.j.cv=g);};c.prototype.Idb=function(g){return this.PN?(this.log.trace("Playing a segment",g),this.PN.play(g)):Promise.resolve();};c.prototype.Neb=function(g){return this.PN?(this.log.trace("Queueing a segment",g),this.PN.Tt(g)):Promise.resolve();};c.prototype.Gj=function(g,n){return this.PN?(this.log.trace("Updating next segment weights",g,n),this.PN.Gj(g,n)):Promise.resolve();};c.prototype.dY=function(){var g;g=this.j.mp.dY();return {bounds:g.XV,margins:g.Ht,size:g.size,visibility:g.visibility};};c.prototype.CR=function(g){var n,p,q;n=g.bounds;p=g.margins;q=g.size;g=g.visibility;this.j.Z0 && (n && this.j.Z0.DBa(n),p && this.j.Z0.EBa(p),"boolean" === typeof g && this.j.Z0.FBa(g));this.j.mp && q && this.j.mp.I$b(q);};c.prototype.GBa=function(g){this.j.Yn=g;};c.prototype.K6a=function(g){return this.j.FC && this.j.FC.ORb(g) || null;};c.prototype.n4a=function(){return this.Ge.SJ({playerver:this.config.version,jssid:this.config.jYb,groupName:this.config.QRb(),xid:this.j.da,pbi:this.j.index},this.config.B4b,{prefix:"pi_"});};c.prototype.a8a=function(g){this.j.Sd(m.W.hIa,m.T.ho,g);};c.prototype.l$a=function(g,n,p,q){if(!this.Db.IXa(g))throw Error("invalid url");this.wdb.push({url:g,name:n,JDb:p,options:q});this.yeb();};c.prototype.xta=function(){var g,n,p,q,t,v,u,w;g={};n=this.j.G0;try{if((this.j.Ti && (g.errorCode=this.j.Ti.w8,g.errorType=n?"endplay":"startplay"),g.playdelay=(0,h.mg)(this.j.cW()),g.xid=this.j.da,this.j.ja && this.Db.Uu(this.j.ja.ab.ep) && (g.packageId=Number(this.j.ja.ab.ep)),g.auth=this.j.LQb(),n)){g.totaltime=this.j.qm?this.rn(this.j.qm.ot("content")):0;g.abrdel=this.j.qm?this.j.qm.osa():0;p=this.j.Ff;q=p?p.aJ():null;this.Db.po(q) && (g.totdfr=q);q=p?p.EX():null;this.Db.po(q) && (g.totcfr=q);t=p?p.aSb():null;t && (g.rbfrs_decoder=t.g8,g.rbfrs_network=t.Qba);g.rbfrs_delay=this.j.qm?this.j.qm.Wua:0;g.init_vbr=this.j.Z$;v=this.jJ();this.Db.DI(v) && (g.pdltime=v);u=this.j.De.value;w=u && u.stream;w && (g.vbr=w.bitrate,g.vdlid=w.Yb);g.bufferedTime=this.j.y4a();}}catch(x){this.log.error("error capturing session summary",x);}return g;};c.prototype.MO=function(g){this.j.fb.Qn && (this.j.fb.Qn.userEngageAction=1);return this.Db.po(this.j.mediaTime.value)?(g=Object.assign(Object.assign({},this.kw.create(this.j)),{action:g}),this.kW(f.Mq.MO).cq(this.log,this.j.ja.tj,g).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.Hc,errorExternalCode:n.Ud,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.tRb=function(g){return {register:g.register.bind(g),notifyUpdated:g.jcb.bind(g),getModel:g.BSb.bind(g),getGroups:g.LX.bind(g),addEventListener:g.addEventListener.bind(g),removeEventListener:g.removeEventListener.bind(g),getTime:g.getTime.bind(g)};};c.prototype.Hr=function(g){var n;n=g.Bza=g.Bza || ({trackId:g.trackId,bcp47:g.xf,displayName:g.displayName,trackType:g.Bi,rawTrackType:g.PF,channels:g.channels});this.mva(g) && (n.isNative=g.isNative,n.surroundFormatLabel=g.P0);this.nva(g) && (n.isNoneTrack=g.Kr(),n.isForcedNarrative=g.pq(),n.isImageBased=g.Bl);n.subType=g.dL;n.variant=g.variant;return n;};c.prototype.mva=function(g){return "undefined" !== typeof g.isNative;};c.prototype.nva=function(g){return "undefined" !== typeof g.Kr && "undefined" !== typeof g.pq;};c.prototype.mX=function(g){var n;n=this;return g && this.j.pj.find(function(p){return n.Hr(p) === g;});};c.prototype.$X=function(g){var n,p;g=this.mX(g) || (null === (n=this.Cy) || void 0 === n?void 0:n.yc) || this.j.yc.value;return null !== (p=null === g || void 0 === g?void 0:g.Ai) && void 0 !== p?p:[];};c.prototype.RX=function(g,n){var p;p=g.length - 1;if("number" !== typeof n)return p;g=g.findIndex(function(q){return q.$b > n;});return -1 === g?p:g - 1;};c.prototype.k9a=function(g,n){return 0 <= g.Ai.indexOf(n);};c.prototype.Q1b=function(g){return 0 <= g?1 >= g?g:1:0;};c.prototype.rn=function(g){return this.Db.po(g)?(g / 1E3).toFixed(0):"";};c.prototype.Ab=function(g,n,p){n=n || ({});n.target=this;this.Lb.Rc(g,n,!p);};c.prototype.xL=function(){var g;g=this;this.j.addEventListener(k.ia.OCa,function(){g.Ab(k.Ja.yr);});this.j.nG.addListener(function(){g.Ab(k.Ja.SDa);});this.j.addEventListener(k.ia.Lkb,function(){g.Ab(k.Ja.Kkb);});this.j.addEventListener(k.ia.mba,function(){g.Ab(k.Ja.joa);});this.j.addEventListener(k.ia.Zk,function(){g.Ab(k.Ja.joa);});this.j.addEventListener(k.ia.AP,function(n){g.Ab(k.Ja.AP,{errorCode:n});});this.j.addEventListener(k.ia.Nna,function(){g.Ab(k.Ja.wYa);});this.j.addEventListener(k.ia.Ni,function(n){g.Ab(k.Ja.o7,n);});this.j.addEventListener(k.ia.kkb,function(){g.Ab(k.Ja.m7);g.Ab(k.Ja.Fw);});this.j.jk.addListener(function(){g.Ab(k.Ja.Zya);});this.j.paused.addListener(function(){g.Ab(k.Ja.qdb);});this.j.muted.addListener(function(){g.Ab(k.Ja.zbb);});this.j.volume.addListener(function(){g.Ab(k.Ja.dmb);});this.j.zb.addListener(function(){g.Tkb();});this.j.state.addListener(function(){g.Tkb();});this.j.qoa.addListener(function(n){g.qZb || g.j.state.value != k.ac.He || n.newValue || (g.qZb=!0,g.Ab(k.Ja.loaded),setTimeout(function(){g.log.debug.bind(g.log,"summary ",g.xta());}));g.Ab(k.Ja.SN);});this.j.yc.addListener(function(){g.Ab(k.Ja.Zm);g.Ab(k.Ja.Fw);setTimeout(function(){var n,p;n=g.j.yc.value;p=g.j.jc.value;null === n || null === p || g.k9a(n,p) || (g.log.info("Changing timed text track to match audio track"),g.j.jc.set(n.Ai[0]));},0);});this.j.jc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || g.Ab(k.Ja.Bm);});this.j.addEventListener(k.ia.Fw,function(){g.Ab(k.Ja.Fw);});this.j.addEventListener(k.ia.g1,function(){g.Ab(k.Ja.g1);});this.j.state.addListener(function(n){switch(n.newValue){case k.ac.He:g.Ab(k.Ja.Gqa);g.Ab(k.Ja.SDa);g.Ab(k.Ja.m7);g.Ab(k.Ja.Fw);g.Ab(k.Ja.o$a);g.yeb();g.Cfc();break;case k.ac.CLOSING:g.j.Ti && g.Ab(k.Ja.v8a,g.j.Ti);break;case k.ac.CLOSED:(g.Ab(k.Ja.closed),g.Lb.ii());}});this.j.addEventListener(k.ia.IB,function(){g.Ab(k.Ja.IB);g.Ab(k.Ja.Gqa);});};c.prototype.Cfc=function(){var g;g=this;this.j.mp.addEventListener("showsubtitle",function(n){g.Ab(k.Ja.MBa,n,!0);});this.j.mp.addEventListener("removesubtitle",function(n){g.Ab(k.Ja.Zza,n,!0);});this.j.gq().Vu.addListener(function(){g.Ab(k.Ja.sCb);});};c.prototype.yeb=function(){if(this.j.state.value == k.ac.He){for(var g,n,p;n=this.wdb.shift();){g=this.j.mp.Tma(n.url,n.name,n.options);n.JDb && (p=g);}p && this.j.jc.set(p);}};c.prototype.Tkb=function(){var g;g=this.j.state.value == k.ac.He && this.j.zb.value == k.ib.us;this.ended !== g && (this.ended=g,this.j.$H("Ended changed: " + g),(g || this.j.state.value === k.ac.CLOSING) && this.Ab(k.Ja.H2a));};c.prototype.jJ=function(){var g,n;try{g=/playercore.*js/;n=d.bx.getEntriesByType("resource").filter(function(p){return null !== g.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.JKa=c;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u;function c(w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O){var J,M,P;J=this;this.n_=x;this.wB=y;this.Da=z;this.ck=A;this.Lb=B;this.lZ=C;this.W4b=D;this.Mdb=F;this.xfa=G;this.l7=E;this.za=H;this.ZP=L;this.config=K;this.WD=I;this.u=R;this.ti=O;this.dZ=new p.Xb(!0);this.jk=new p.Xb(!1);this.fu=new p.Xb(!1);this.ended=new p.Xb(!1);this.z7=new p.Xb(0);this.zb=new p.Xb(k.ib.cg);this.iR=new p.Xb(void 0);this.loaded=this.G0=this.closed=!1;this.neb=function(S,T){return function(U){var W,fa,sa,wa,Ba;W=U.newValue;fa=W.Kx;U=W.cn;sa=W.stream;W=S.value;wa=W.streams.find(function(Ga){return Ga.bitrate === sa.stream.bitrate;});Ba=J.ya.Fg.find(function(Ga){return Ga.id === fa;});J.log.info("Presenting " + wa.type + " request with bitrate " + wa.bitrate + ", track " + (W.trackId + " [" + U.startTime + "..." + U.endTime + "]"));T.set({stream:wa,cn:U,vc:Ba});};};this.Yib=function(S,T,U){return function(W){var fa,sa;fa=S.value;sa=fa.streams.find(function(wa){return wa.bitrate === W.newValue.stream.bitrate;});J.log.info("Streaming " + sa.type + " stream with bitrate " + sa.bitrate + ", track " + fa.trackId);T.set(sa,{qI:W.Mk.qI,VV:void 0});fa=J.ya.Fg.filter(function(wa){return wa.id === W.Mk.Kx;})[0];U.set(fa);};};this.B3a=new Set();this.log=w.mb("HLSVideoPlayer");this.$=(0,l.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.$.playsInline=this.config.Zdb;this.ya=this.n_(d.mD.index++,R.I,R.id,null !== (M=R.Eb) && void 0 !== M?M:{},this.wB.TA(),this.Da.Tb(),!1,void 0,function(){return J.Fv();});this.ya.mediaTime.set(null !== (P=this.ya.cv) && void 0 !== P?P:0);this.xL();this.Oxb=this.ZP.create(this);this.Oxb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.XSa=void 0;m=a(28);k=a(16);l=a(43);d=a(64);f=a(102);h=a(57);g=a(3);n=a(60);p=a(70);q=a(5);t=a(15);v=a(103);u=a(25);c.prototype.Tbc=function(){return ! !this.$.canPlayType && ("" !== this.$.canPlayType("application/vnd.apple.mpegURL") || "" !== this.$.canPlayType("audio/mpegurl"));};c.prototype.xL=function(){var w;w=this;this.$.addEventListener("loadedmetadata",function(){w.Ab(k.Ja.p$a);w.Ab(k.Ja.o$a);w.Ab(k.Ja.Zm);w.Ab(k.Ja.m7);w.Ab(k.Ja.Bm);w.Ab(k.Ja.Fw);});this.$.addEventListener("error",function(x){x=w.ti(g.W.NNa,x);w.close(x);});this.$.addEventListener("timeupdate",function(){w.ended.set(!1);w.ya.mediaTime.set(w.Fv());w.oqa();w.Ab(k.Ja.yr);w.Ab(k.Ja.Kkb);});this.$.addEventListener("durationchange",function(){w.Ab(k.Ja.Gqa);});this.$.addEventListener("resize",function(){w.Ab(k.Ja.SDa);});this.$.addEventListener("playing",function(){w.oqa();w.fu.set(!1);w.jk.set(!0);w.ended.set(!1);w.zb.set(k.ib.Dc);});this.$.addEventListener("pause",function(){w.jk.set(!1);w.fu.set(!1);w.zb.set(k.ib.Hh);});this.$.addEventListener("waiting",function(){w.zb.set(k.ib.cg);});this.$.addEventListener("stalled",function(){w.fu.set(!0);});this.$.addEventListener("seeking",function(){w.fu.set(!1);w.iR.set(w.ya.mediaTime.value);w.zb.set(k.ib.cg);});this.$.addEventListener("seeked",function(){void 0 !== w.iR.value && (w.ya.qm.Mxa(w.iR.value,w.Fv()),w.iR.set(void 0));w.zb.set(w.Lr()?k.ib.Dc:k.ib.Hh);});this.$.addEventListener("progress",function(){w.Ab(k.Ja.joa);w.Mdc();});this.$.addEventListener("ended",function(){w.zb.set(k.ib.us);w.fu.set(!1);w.jk.set(!1);w.ended.set(!0);});this.$.addEventListener("volumechange",function(){w.Ab(k.Ja.dmb);w.Ab(k.Ja.zbb);});this.jk.addListener(function(){w.Ab(k.Ja.Zya);w.Ab(k.Ja.qdb);w.bO();});this.z7.addListener(function(){w.Ab(k.Ja.SN);});this.fu.addListener(function(){w.Ab(k.Ja.SN);});this.dZ.addListener(function(){w.bO();});this.ended.addListener(function(){w.Ab(k.Ja.H2a);});this.ya.playbackRate.addListener(function(x){w.$.playbackRate=x.newValue;});};c.prototype.bO=function(){!this.Lr() || this.dZ.value || this.G0 || this.vYa || (this.G0=!0,this.ya.CB=this.za.NK,this.Mdb.Bq(this,this.ya));};c.prototype.cW=function(){return this.m_ - (this.ya.yj.fa(q.ma) + this.Da.GB.fa(q.ma));};c.prototype.YI=function(){var w;w=this.ya.fb.gS;return (0,t.Ka)(w)?w:this.ya.yj.fa(q.ma) + this.Da.GB.fa(q.ma);};c.prototype.xoa=function(){return this.za.Bf.fa(q.ma) - this.YI();};c.prototype.zoa=function(){return this.m_ - this.YI();};c.prototype.Mdc=function(){var w;w=this.$.readyState <= n.wp.A3.HAVE_METADATA?0:this.$.readyState <= n.wp.A3.HAVE_CURRENT_DATA?.5:1;1 === w && (this.m_=this.za.Bf.fa(q.ma),this.dZ.set(!1),this.Gra(k.Ja.loaded));this.z7.set(w);};c.prototype.oqa=function(){var w;w=this.Fv();this.xfa.phb(w);this.l7.phb(w);};c.prototype.o0=function(){var w;w=this;this.ya.Ne("ats");return this.ck.eJ({da:this.ya.da,fb:this.ya.fb,L:this.ya.I,Av:f.co.x4,rg:h.Fi.Rq}).then(function(x){var z;function y(A){var B;B=A;A && A.Kr() && !A.pq() && (B=null);w.ya.nj.set(B);}w.ya.Ne("at");z=w.lZ.create({}).kdb(x);w.ya.ja=x;w.ya.Qc=z;w.$.audioTracks.addEventListener("addtrack",function(){w.elb(w.ya.yc.value);});w.$.audioTracks.addEventListener("change",function(){for(var A,B,C={},D=na(w.$.audioTracks),F=D.next();!F.done;(C={xS:C.xS},F=D.next())){C.xS=F.value;C.xS.enabled && C.xS.label !== (null === (A=w.ya.yc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=w.ya.pj.find((function(G){return function(E){return E.displayName === G.xS.label;};})(C))) && void 0 !== B?B:null,w.ya.yc.set(F));}});w.ya.yc.addListener(function(A){w.elb(A.newValue);w.Ab(k.Ja.Zm);w.Ab(k.Ja.Fw);});w.$.textTracks.addEventListener("addtrack",function(){w.flb(w.ya.jc.value);});w.$.textTracks.addEventListener("change",function(){var G;for(var A,B,C=w.$.textTracks,D={},F=0;F < C.length;(D={yS:D.yS},F++)){if((D.yS=C[F],"showing" === D.yS.mode && D.yS.label !== (null === (A=w.ya.jc.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=w.ya.Ai.find((function(E){return function(H){return H.displayName === E.yS.label;};})(D))) && void 0 !== B?B:null;w.ya.jc.set(G);y(G);}}});w.ya.jc.set(z.GW);y(z.GW);w.ya.jc.addListener(function(A){w.flb(A.newValue);w.Ab(k.Ja.Bm);});return w.W4b.Qi(x,function(A){return w.ya.Ne(A);});}).then(function(x){var y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J;y=x.a_b;z=x.BFb;x=x.kbc;A=x.audio;B=x.d1a;C=x.video;D=w.ya;F=D.Kh;G=D.yc;E=D.pj;H=D.pf;L=D.Ng;x=D.cv;K=D.De;I=D.Of;R=D.qm;D=D.Qc;D.pj=E.filter(function(M){return A.find(function(P){return P.track.Ig === M.trackId;});});L.set(D.o8);G.set(E.find(function(M){return M.trackId === B;}));D=C[0];O=D.stream;E=A.find(function(M){return M.track.Ig === B;});J=E.stream;w.zY=O.bitrate;w.xfa.fza.addListener(w.neb(L,K));w.xfa.xCa.addListener(w.Yib(L,H,w.ya.vc[m.Pb.cb.Jb]));H=z.get(O.Fo).VQ.wo;w.xfa.ta(C,D,H);w.l7.fza.addListener(w.neb(G,I));w.l7.xCa.addListener(w.Yib(G,F,w.ya.vc[m.Pb.cb.dc]));z=z.get(J.Fo).VQ.wo;w.l7.ta(A,E,z);w.$.src=y;w.$.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;w.$.load();R.Mxa(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,u.cf)(x);w.log.error("uncaught exception",x,z);}w.close(w.ti(null !== (y=x.code) && void 0 !== y?y:g.W.HSa,x));});};c.prototype.flb=function(w){var z;for(var x=this.$.textTracks,y=0;y < x.length;y++){z=x[y];z.label === w.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== w.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.elb=function(w){for(var x=na(this.$.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== w.displayName || y.enabled || (!1,y.enabled=!0);y.label !== w.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.gq=function(){};c.prototype.F5a=function(){};c.prototype.Fv=function(){return Math.floor(1E3 * this.$.currentTime);};c.prototype.H9=function(){return this.Fv();};c.prototype.wsa=function(){return Math.floor(1E3 * this.$.duration);};c.prototype.S5a=function(){return this.u.I;};c.prototype.Iv=function(){return this.ya.da;};c.prototype.Lo=function(){return this.$;};c.prototype.isReady=function(){return null === this.ji();};c.prototype.Lr=function(){return this.jk.value;};c.prototype.KY=function(){return !this.jk.value;};c.prototype.Zua=function(){return this.$.ended;};c.prototype.ji=function(){return 1 !== this.z7.value?{stalled:this.fu.value,progress:this.z7.value,progressRollback:!1}:null;};c.prototype.getError=function(){var w,x;return null !== (x=null === (w=this.Ti) || void 0 === w?void 0:w.e1()) && void 0 !== x?x:null;};c.prototype.z4a=function(){return 1 === this.$.buffered.length?1E3 * this.$.buffered.end(0):null;};c.prototype.N6a=function(){return {width:this.$.videoWidth,height:this.$.videoHeight};};c.prototype.hva=function(){return this.$.muted;};c.prototype.P6a=function(){return this.$.volume;};c.prototype.Chb=function(w){this.$.muted=w;};c.prototype.Rhb=function(w){this.$.volume=w;};c.prototype.addEventListener=function(w,x,y){this.Lb.addListener(w,x,y);};c.prototype.removeEventListener=function(w,x){this.Lb.removeListener(w,x);};c.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.WD.cZ(function(x){w.Tbc()?x.ea?w.o0():w.close(w.ti(x.errorCode || g.W.Dha,x)):w.close(w.ti(g.W.Dqb));}));};c.prototype.close=function(w){if(this.closed)return Promise.resolve();this.ya.mediaTime.set(this.Fv());this.oqa();this.ya.rW=this.H9();this.closed=!0;this.$.removeAttribute("src");this.$.load();null === w || void 0 === w?void 0:w.Fhb(!this.dZ.value);(this.Ti=w) && this.Ab(k.Ja.error,w.e1());this.Ab(k.Ja.closed);return this.Mdb.I0(this.ya);};c.prototype.play=function(){var w,x;w=this;x=this.$.play();this.vYa=!1;x && x.then(function(){w.Gra(k.Ja.wYa);}).catch(function(y){w.Ab(k.Ja.SN);"NotAllowedError" === y.name && (w.log.warn("Playback is blocked by the browser settings",y),w.vYa=!0,w.Ni=!0,w.Gra(k.Ja.o7,{player:{play:function(){return w.play();}}}));});};c.prototype.Ab=function(w,x,y){x=x || ({});x.target=this;this.Lb.Rc(w,x,!y);};c.prototype.Gra=function(w,x){this.B3a.has(w) || (this.B3a.add(w),this.Ab(w,x,void 0));};c.prototype.pause=function(){this.$.pause();};c.prototype.seek=function(w){this.$.currentTime=w / 1E3;};c.prototype.a8a=function(w){this.close(this.ti(g.W.hIa,g.T.ho,w));};c.prototype.kq=function(){return this.ya.playbackRate.value;};c.prototype.Dhb=function(w){this.ya.playbackRate.set(w);};c.prototype.q4a=function(){var w;w=this;return this.ya.pj.map(function(x){return w.Hr(x);});};c.prototype.Hta=function(w){var x;x=this;return this.$X(w).map(function(y){return x.Hr(y);});};c.prototype.p4a=function(){var w;w=this.ya.yc.value;return w && this.Hr(w);};c.prototype.Gta=function(){var w;w=this.ya.jc.value;return w && this.Hr(w);};c.prototype.mhb=function(w){if((w=this.mX(w)) && w.Wi)return (this.ya.yc.set(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.CBa=function(w){var x,y;x=this;y=this.ya.Ai.find(function(z){return x.Hr(z) === w;});if(y && y.Wi)return (this.ya.jc.set(y),this.ya.nj.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.M5a=function(){var w;return this.RX(this.ya.pj,null === (w=this.ya.ja) || void 0 === w?void 0:w.ab.vab);};c.prototype.Vsa=function(w){var x;return this.RX(this.$X(w),null === (x=this.ya.ja) || void 0 === x?void 0:x.ab.wab);};c.prototype.Hr=function(w){var x;x=w.Bza=w.Bza || ({trackId:w.trackId,bcp47:w.xf,displayName:w.displayName,trackType:w.Bi,rawTrackType:w.PF,channels:w.channels});this.mva(w) && (x.isNative=w.isNative,x.surroundFormatLabel=w.P0);this.nva(w) && (x.isNoneTrack=w.Kr(),x.isForcedNarrative=w.pq(),x.isImageBased=w.Bl);x.subType=w.dL;x.variant=w.variant;return x;};c.prototype.mva=function(w){return "undefined" !== typeof w.isNative;};c.prototype.nva=function(w){return "undefined" !== typeof w.Kr && "undefined" !== typeof w.pq;};c.prototype.mX=function(w){var x;x=this;return w && this.ya.pj.find(function(y){return x.Hr(y) === w;});};c.prototype.$X=function(w){var x;w=this.mX(w) || this.ya.yc.value;return null !== (x=null === w || void 0 === w?void 0:w.Ai) && void 0 !== x?x:[];};c.prototype.RX=function(w,x){var y;y=w.length - 1;if("number" !== typeof x)return y;w=w.findIndex(function(z){return z.$b > x;});return -1 === w?y:w - 1;};c.prototype.jfa=function(w){this.ya.fb=(0,v.uba)(this.ya.fb,w);};c.prototype.Wj=function(w){if(w !== this.ya.V)throw (!1,Error("Unknown segmentId " + w));return this.ya;};c.prototype.d6a=function(){return this.ya.fb;};c.prototype.cna=function(){!1;};c.prototype.yy=function(){!1;};c.prototype.$J=function(){!1;};c.prototype.jY=function(){!1;return Promise.reject();};c.prototype.xta=function(){return {};};c.prototype.I9=function(){};c.prototype.n4a=function(){return {};};c.prototype.qBa=function(){};c.prototype.LR=function(){};c.prototype.D8a=function(){return !1;};c.prototype.U4a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.MO=function(){!1;return Promise.resolve({success:!0});};c.prototype.K6a=function(){!1;};c.prototype.dY=function(){!1;};c.prototype.CR=function(){!1;};c.prototype.GBa=function(){!1;};c.prototype.l$a=function(){!1;};c.prototype.i4a=function(){!1;return Promise.reject();};c.prototype.Idb=function(){!1;return Promise.reject();};c.prototype.Neb=function(){!1;return Promise.reject();};c.prototype.Gj=function(){!1;return Promise.reject();};c.prototype.nK=function(){!1;};b.XSa=c;},function(r,b,a){var c;b=a(158);c=a(1121);a=b(function(m,k,l){return c(function(d,f,h){return m(f,h);},k,l);});r.exports=a;},function(r,b,a){var c,m;b=a(158);c=a(453);m=a(1122);a=b(function h(l,d,f){return m(function(g,n,p){return c(n) && c(p)?h(l,n,p):l(g,n,p);},d,f);});r.exports=a;},function(r,b,a){var c;b=a(158);c=a(269);a=b(function(m,k,l){var d,f;d={};for(f in k){c(f,k) && (d[f]=c(f,l)?m(f,k[f],l[f]):k[f]);}for(f in l){c(f,l) && !c(f,d) && (d[f]=l[f]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(454);c=a(1132);a=a(1142);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,m=a.length,k=[];c < m;){b(a[c]) && (k[k.length]=a[c]);c+=1;}return k;};},function(r,b,a){var c,m;b=a(132);c=a(456);m=a(1127);a=b(function(k){return c(k)?!0:!k || "object" !== typeof k || m(k)?!1:1 === k.nodeType?! !k.length:0 === k.length?!0:0 < k.length?k.hasOwnProperty(0) && k.hasOwnProperty(k.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,m){return this.f(c,m);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(271);b=a(54)(function(m,k){return c(m.length,function(){return m.apply(k,arguments);});});r.exports=b;},function(r,b,a){var c,m;b=a(54);c=a(457);m=(function(){function k(l,d){this.I1=d;this.f=l;}k.prototype["@@transducer/init"]=c.ta;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(l,d){return this.f(d)?this.I1["@@transducer/step"](l,d):l;};return k;})();a=b(function(k,l){return new m(k,l);});r.exports=a;},function(r,b,a){var c,m;c=a(269);m=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === m.call(arguments)?function(k){return "[object Arguments]" === m.call(k);}:function(k){return c("callee",k);};};},function(r,b,a){var c;b=a(132);c=a(1133);a=b(function(m){return c(function(){return Array.prototype.slice.call(arguments,0);},m);});r.exports=a;},function(r,b,a){var c,m,k,l,d;b=a(54);c=a(459);m=a(460);k=a(1135);l=a(1136);d=a(1141);a=b(function(f,h){return m(d(k,0,l("length",h)),function(){var g,n;g=arguments;n=this;return f.apply(n,c(function(p){return p.apply(n,g);},h));});});r.exports=a;},function(r,b,a){var m,k;function c(l,d,f){return function(){var q;for(var h=[],g=0,n=l,p=0;p < d.length || g < arguments.length;){if(p < d.length && (!k(d[p]) || g >= arguments.length))q=d[p];else (q=arguments[g],g+=1);h[p]=q;k(q) || --n;p+=1;}return 0 >= n?f.apply(this,h):m(n,c(l,h,f));};}m=a(271);k=a(190);r.exports=c;},function(r,b,a){b=a(54)(function(c,m){return m > c?m:c;});r.exports=b;},function(r,b,a){var c,m;b=a(54);c=a(1137);m=a(1139);a=b(function(k,l){return c(m(k),l);});r.exports=a;},function(r,b,a){var c,m,k,l,d,f;b=a(54);c=a(455);m=a(459);k=a(270);l=a(1138);d=a(460);f=a(458);a=b(c(["fantasy-land/map","map"],l,function(h,g){switch(Object.prototype.toString.call(g)){case "[object Function]":return d(g.length,function(){return h.call(this,g.apply(this,arguments));});case "[object Object]":return k(function(n,p){n[p]=h(g[p]);return n;},{},f(g));default:return m(h,g);}}));r.exports=a;},function(r,b,a){var c,m;b=a(54);c=a(457);m=(function(){function k(l,d){this.I1=d;this.f=l;}k.prototype["@@transducer/init"]=c.ta;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(l,d){return this.I1["@@transducer/step"](l,this.f(d));};return k;})();a=b(function(k,l){return new m(k,l);});r.exports=a;},function(r,b,a){var c;b=a(54);c=a(1140);a=b(function(m,k){return c([m],k);});r.exports=a;},function(r,b,a){b=a(54)(function(c,m){for(var k=0;k < c.length;){if(null == m)return;m=m[c[k]];k+=1;}return m;});r.exports=b;},function(r,b,a){b=a(158);a=a(270);a=b(a);r.exports=a;},function(r,b,a){var c,m;c=a(1143);b=a(54);m=a(454);a=b(function(k,l){return m(c(k),l);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,m;c=a(1145);b=a(158);m=a(1146);a=b(function(k,l,d){return m(k,c(l,d));});r.exports=a;},function(r){r.exports=function(b,a){var c,m,k,l;b=b || [];a=a || [];m=b.length;k=a.length;l=[];for(c=0;c < m;){l[l.length]=b[c];c+=1;}for(c=0;c < k;){l[l.length]=a[c];c+=1;}return l;};},function(r,b,a){var c;c=a(1147);b=a(54)(function(m,k){for(var l=0,d=k.length,f=[],h;l < d;){h=k[l];c(m,h,f) || (f[f.length]=h);l+=1;}return f;});r.exports=b;},function(r){r.exports=function(b,a,c){for(var m=0,k=c.length;m < k;){if(b(a,c[m]))return !0;m+=1;}return !1;};},function(r,b,a){b=a(54)(function(c,m){for(var k=[],l=0,d=m.length;l < d;){for(var f=l + 1;f < d && c(m[f - 1],m[f]);){f+=1;}k.push(m.slice(l,f));l=f;}return k;});r.exports=b;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.C7a=void 0;r=a(1);c=a(465);m=a(1150);k=a(467);l=a(1151);d=a(461);f=a(1152);h=a(468);g=a(1154);n=a(462);p=a(1155);q=a(463);t=a(1156);v=a(471);u=a(274);w=a(1157);x=a(469);y=a(1158);z=a(1159);A=a(464);B=a(1161);b.C7a=new r.xd(function(C){C(c.FJa).to(m.EJa).ha();C(k.JJa).to(l.IJa).ha();C(d.sJa).to(f.rJa).ha();C(h.uJa).to(g.tJa).ha();C(x.sGa).to(y.rGa).ha();C(n.DPa).to(p.CPa).ha();C(q.Tja).to(t.PRa);C(v.sT).to(z.rT);C(A.vT).to(B.uT);C(u.wha).to(w.MJa);});},function(r,b,a){var m,k,l,d;function c(f,h){this.DVb=f;this.log=h.mb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.EJa=void 0;r=a(0);m=a(1);k=a(6);l=a(466);d=a(71);c.prototype.download=function(f){var g,n,p,q,t;function h(v){if(t < n.length - 1)return (!1,t++,g.R1a(n[t].url,p,q).catch(h));throw v;}g=this;n=f.urls;p=f.offset;q=f.length;t=0;return this.R1a(n[t].url,p,q).catch(h);};c.prototype.R1a=function(f,h,g){return this.DVb.download({url:f,withCredentials:!1,responseType:d.ResponseType.Inb,uE:"hls_headers",ou:!0,offset:h,length:g,du:d.Cia},{zab:1});};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.PJa)),r.__param(1,(0,m.l)(k.ub))],a);b.EJa=a;},function(r,b,a){var m,k,l;function c(d){this.Ca=d.mb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;r=a(0);m=a(1);k=a(61);a=a(6);c.prototype.parse=function(d,f,h){d=new k.$w(this.Ca,{mediaType:d},f,["sidx"]).parse();if(d.Ay && d.aa)return this.Q6(d.aa,h);};c.prototype.Q6=function(d,f){var h,g,n,p,q;h=0;g=0;n=0;p=d.offset;q=[];d.oe.forEach(function(t,v){g+=t;n+=d.sizes[v];if(1E3 * g / d.X >= f || v === d.oe.length - 1)(q.push({duration:g / d.X,ba:h / d.X,byteOffset:p,FEb:n}),h+=g,g=0,p+=n,n=0);});return q;};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.ub))],l);b.IJa=l;},function(r,b,a){var d,f,h,g,n,p,q,t,v,u,w,x;function c(y,z,A){this.HW=z;this.Bc=y.filter(function(B){return B.hDa[q.Mm.N4];}).map(function(B){return {track:B,stream:B.hDa[q.Mm.N4],id:B.W1a[q.Mm.N4]};});A || (this.Bc=this.Bc.filter(function(B){return B.track.Ig === z;}));}function m(y,z,A){var B;this.hL=z;this.dw=A;B=y[0];this.rL=B.streams.map(function(C){return {track:B,yP:C.zib,stream:C};});}function k(y,z,A,B,C){function D(F,G){return F.bitrate > G.bitrate?F:G;}this.log=y;this.hL=A;this.HW=B;this.rL=z.map(function(F){var G;G=F.streams.reduce(D);return {track:F,yP:G.yC?G.yC.offset + G.yC.size:void 0,stream:G};});C || (this.rL=this.rL.filter(function(F){return F.track.Ig === B;}));}function l(y,z,A,B,C,D){this.fVb=y;this.gVb=z;this.X4b=A;this.yFb=B;this.oJ=C;this.tg=D;this.Ca=D.mb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Oub=b.Zub=b.pnb=b.rJa=void 0;r=a(0);d=a(1);f=a(61);h=a(465);g=a(467);n=a(3);p=a(37);q=a(42);t=a(468);v=a(469);u=a(274);w=a(6);x=a(1153);l.prototype.Qi=function(y,z){var A,B,C,D,F,G;A=this;D=y.ab;y=this.HQb(D,z);F=this.jUb(D,z);G=null !== (C=null === (B=D.M_) || void 0 === B?void 0:B.YR) && void 0 !== C?C:D.$0.find(function(E){var H;return E.id === (null === (H=D.n8) || void 0 === H?void 0:H[0].jjb);}).Ig;B=new c(D.$0,G,this.oJ.ona);return Promise.all([y,F,B]).then(function(E){var H,L;H=na(E);E=H.next().value;L=H.next().value;H=H.next().value;E={audio:E.getMetadata(),video:L.getMetadata(),text:H.getMetadata(),d1a:E.zsa(),cLb:H.zsa(),duration:D.duration,Ql:D.Ql};L=A.yFb.cRb(E);z("h_s");return {a_b:A.X4b.transform(E,L),BFb:L,kbc:E};});};l.prototype.jUb=function(y,z){var A;A=new m(y.Kw,this.oJ.D7a,this.oJ.dw);return this.P1a(A.rL,f.eo.Jb,z).then(function(B){A.tBa(B);return A;});};l.prototype.HQb=function(y,z){var A,B,C,D;C=null !== (B=null === (A=y.M_) || void 0 === A?void 0:A.vo) && void 0 !== B?B:y.Zu.find(function(F){var G;return F.id === (null === (G=y.n8) || void 0 === G?void 0:G[0].vo);}).Ig;D=new k(this.Ca,y.Zu,this.oJ.vy,C,this.oJ.ona);return this.P1a(D.rL,f.eo.dc,z).then(function(F){D.tBa(F);return D;});};l.prototype.sya=function(y,z,A,B){if(y=this.gVb.parse(z,y,A))return y;this.Ca.error("Failed to parse headers",{type:z === f.eo.dc?"audio":"video",downloadableId:B.stream.Fo});};l.prototype.P1a=function(y,z,A){var B;B=this;return Promise.all(y.map(function(C,D){if(C.yP)return B.fVb.download({urls:C.stream.urls,offset:0,length:C.yP}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.sya(F,z,z == f.eo.dc?B.oJ.vy:B.oJ.TB,C);}).catch(function(){A("h_" + C.track.Bi[0] + "_" + D + "_f");B.Ca.warn("Failed to download and parse headers for " + C.stream.Fo);});B.Ca.warn("Stream data offset is missing",{downloadableId:C.stream.Fo});}));};a=l;a=r.__decorate([(0,d.Y)(),r.__param(0,(0,d.l)(h.FJa)),r.__param(1,(0,d.l)(g.JJa)),r.__param(2,(0,d.l)(t.uJa)),r.__param(3,(0,d.l)(v.sGa)),r.__param(4,(0,d.l)(u.wha)),r.__param(5,(0,d.l)(w.ub))],a);b.rJa=a;k.prototype.tBa=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw p.gd.nmb(n.W.oKa,n.T.jia);this.Bc=this.rL.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,aa:B,hL:z.hL};}).filter(x.pva);};k.prototype.getMetadata=function(){return this.Bc;};k.prototype.zsa=function(){var y,z;y=this;if(!this.Bc.find(function(A){return A.track.Ig === y.HW;}) && 0 < this.Bc.length){z=this.Bc[0].track.Ig;this.log.warn("Did not find metadata for audio track " + this.HW + ", falling back to " + z);return z;}return this.HW;};b.pnb=k;m.prototype.tBa=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw p.gd.nmb(n.W.oKa,n.T.kia);A=this.rL.map(function(B,C){if(C=y[C])return {track:B.track,stream:B.stream,aa:C,hL:z.hL};}).filter(x.pva);this.Bc=this.QSb(A);};m.prototype.getMetadata=function(){return this.Bc;};m.prototype.QSb=function(y){var z,A,B;z=this;y.sort(function(C){return C.stream.bitrate;});A=y.findIndex(function(C){var D;return (null !== (D=C.stream.kb) && void 0 !== D?D:0) >= z.dw;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.Zub=m;c.prototype.zsa=function(){return this.HW;};c.prototype.getMetadata=function(){return this.Bc;};b.Oub=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pva=void 0;b.pva=function(a){return void 0 !== a && null !== a;};},function(r,b,a){var m,k,l,d,f,h;function c(g){this.Ca=g.mb("HLSPlaylistTransformerImpl");this.ifc=d.B2.et();this.yDb=f.Vga.et();}Object.defineProperty(b,"__esModule",{value:!0});b.tJa=void 0;r=a(0);m=a(1);k=a(6);l=a(133);d=a(275);f=a(470);h=[0,1];c.prototype.transform=function(g,n){var p,q,t,v,u,w,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];t=g.text;v=g.audio;u=g.video;w=g.duration;x=g.d1a;y=g.cLb;t.forEach(function(A){h.forEach(function(B){var C,D,F,G;C=0 === B;D=A.stream;F=A.track;G=n.get(A.id);C=C?G.VQ:G.Wda;D=p.TTb({url:C.url,duration:w / 1E3,size:D.size,gn:"Manifest for subtitles " + F.language + ' stream "' + F.jF + '", ' + F.Ig + ", cdn " + C.wo});p.Ca.trace("Text variant manifest",D.join("\n"));B=p.UTb({groupId:B,name:F.jF,Xua:F.Ig === y,pq:F.maa,YWb:F.Bi === l.Tq.Rfa,language:F.language,uri:p.Yaa(D)});q.push(B);});});v.forEach(function(A){h.forEach(function(B){var C,D,F,G,E,H;C=0 === B;D=A.stream;F=A.track;G=A.aa;E=A.hL;H=n.get(D.Fo);C=C?H.VQ:H.Wda;D=p.Q5a({url:C.url,yP:D.yC.offset + D.yC.size,aa:G,zjb:Math.floor(E / 1E3),gn:"Manifest for audio " + F.language + ' stream "' + F.jF + '", ' + F.Ig + ", cdn " + C.wo});p.Ca.trace("Audio variant manifest",D.join("\n"));B=p.IQb({groupId:B,language:F.language,name:F.jF,Xua:F.Ig === x,uri:p.Yaa(D)});q.push(B);});});z=this.yDb[v[0].track.profile];u.forEach(function(A){h.forEach(function(B){var C,D,F,G,E,H;C=0 === B;D=A.stream;F=A.track;G=A.aa;E=A.hL;H=n.get(D.Fo);H=C?H.VQ:H.Wda;C=0 < t.length;F=p.Q5a({url:H.url,yP:D.yC?D.yC.offset + D.yC.size:D.zib,aa:G,zjb:Math.floor(E / 1E3),gn:"Manifest for video bitrate " + D.bitrate + ", stream " + F.Ig + ", cdn " + H.wo});p.Ca.trace("Video variant manifest",F.join("\n"));B=p.kUb({groupId:B,VV:1E3 * D.bitrate,LDb:1E3 * D.bitrate,DXb:0 <= D.zI.indexOf("-hdr-") || 0 <= D.zI.indexOf("-dv5-"),framerate:(D.d4a / D.c4a).toFixed(3),wm:D.qAa + "x" + D.cgb,dfc:p.ifc[D.zI],uDb:z,mcc:C});q.push(B);B=p.Yaa(F);q.push("" + B);});});this.Ca.trace("Primary manifest",q.join("\n"));return this.Yaa(q);};c.prototype.IQb=function(g){var n;n=g.Xua;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + g.groupId + '"','CHANNELS="2"','LANGUAGE="' + g.language + '"','NAME="' + g.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + g.uri + '"'].join(", ");};c.prototype.Q5a=function(g){var n;n=["#EXTM3U","# " + g.gn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + g.zjb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + g.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + g.yP + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];g.aa.forEach(function(p,q){n.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.ba.toFixed(3));n.push("#EXT-X-BYTERANGE:" + p.FEb + "@" + p.byteOffset);n.push("{$U}&fi=" + q);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.kUb=function(g){var n,p;n=g.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + g.VV,"AVERAGE-BANDWIDTH=" + g.LDb,"VIDEO-RANGE=" + (g.DXb?"PQ":"SDR"),"FRAME-RATE=" + g.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + g.wm,'CODECS="' + g.dfc + "," + g.uDb + '"'];g.mcc && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.TTb=function(g){var n;n=g.duration;return ["#EXTM3U","# " + g.gn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + g.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + g.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.UTb=function(g){var n,p,q;n=g.Xua;p=g.language;q=g.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + g.groupId + '"','NAME="' + g.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (g.pq?"YES":"NO")];g.YWb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.Yaa=function(g){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(g.join("\n"));};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub))],a);b.tJa=a;},function(r,b,a){var m,k,l,d,f;function c(h,g){var p;function n(){p.Aya.then(function(q){p.Ca.trace("Unloading PBO Playdata Services");q.close();});d.kf.removeListener(d.Qo,n);}p=this;this.udb=g;this.Aya=g();this.Ca=h.mb("PlayerPlaydataMonitorImpl");d.kf.addListener(d.Qo,n);}Object.defineProperty(b,"__esModule",{value:!0});b.CPa=void 0;r=a(0);m=a(1);k=a(6);l=a(159);d=a(65);f=a(16);c.prototype.Bq=function(h,g){this.Aya.then(function(n){n.Bq(g,!0,function(p){return h.close(p);});n.hCa(g);h.addEventListener(f.Ja.Zya,function(){h.Lr() && n.Vgb(g).catch(function(p){(p=p.OQ) && h.close(p);});});h.addEventListener(f.Ja.Bm,function(){n.bea(g).catch(function(p){(p=p.OQ) && h.close(p);});});h.addEventListener(f.Ja.Zm,function(){n.bea(g).catch(function(p){(p=p.OQ) && h.close(p);});});});};c.prototype.I0=function(h){return this.Aya.then(function(g){g.Mib();return g.I0(h).catch();});};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(l.LT))],a);b.CPa=a;},function(r,b,a){var m,k,l,d;function c(f){this.fxa={};this.R$={};this.Gaa=-1;this.xCa=new l.Xb(null);this.fza=new l.Xb(null);this.Ca=f.mb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.PRa=void 0;r=a(0);m=a(1);k=a(28);l=a(70);a=a(6);c.prototype.ta=function(f,h,g){var n;n=this;f.forEach(function(p){p.stream.urls.forEach(function(q){n.fxa[q.url]=[p,q.wo];});});this.gqa=h;this.XKb=g;new PerformanceObserver(function(p){n.Tdc(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.phb=function(f){var h,g,n;if(this.gqa){g=this.O9(f);if(g !== this.Gaa){for(this.Gaa=g;0 <= g && !this.R$[g];){g--;}n=na(null !== (h=this.R$[g]) && void 0 !== h?h:[this.gqa,this.XKb]);h=n.next().value;n=n.next().value;this.Ca.debug("Setting time to " + f + ", using metadata from fragment " + g + " for " + ((0,k.Qab)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + n));f=h.aa[this.Gaa];g=f.ba;this.fza.set({stream:h,cn:{startTime:Math.floor(1E3 * g),endTime:Math.floor(1E3 * (g + f.duration))},Kx:n});}}};c.prototype.O9=function(f){var h,g,n,p,q;h=this.gqa.aa;f/=1E3;g=0;n=h.length - 1;if(f >= h[n].ba)return n;for(;n >= g;){p=g + Math.floor((n - g) / 2);q=h[p];if(f < q.ba)n=p - 1;else if(f >= q.ba + q.duration)g=p + 1;else return p;}return h.length - 1;};c.prototype.Tdc=function(f){var h;h=this;f.filter(function(g){return "video" === g.initiatorType;}).forEach(function(g){var n,p,q;n=g.name.indexOf("&fi=");if(0 < n){p=g.name.substring(0,n);n=Number(g.name.substring(n + 4));if(h.fxa[p]){q=na(h.fxa[p]);g=q.next().value;q=q.next().value;p && !Number.isNaN(n) && g && (h.R$[n] && (h.Gaa=-1),h.R$[n]=[g,q],p=g.aa[n].ba,!1,h.xCa.set(g,{qI:Math.floor(1E3 * p),Kx:q}));}}});};d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.ub))],d);b.PRa=d;},function(r,b,a){var m,k,l,d;function c(f){return k.qf.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MJa=void 0;r=a(0);m=a(1);k=a(46);l=a(34);a=a(45);ka(c,k.qf);Ua.Object.defineProperties(c.prototype,{Zdb:{configurable:!0,enumerable:!0,get:function(){return !0;}},vy:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},TB:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},D7a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},dw:{configurable:!0,enumerable:!0,get:function(){return 80;}},ona:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.Ad,"playsInline")],d.prototype,"Zdb",null);r.__decorate([a.config(a.bF,"minAudioMediaRequestDuration")],d.prototype,"vy",null);r.__decorate([a.config(a.bF,"minVideoMediaRequestDuration")],d.prototype,"TB",null);r.__decorate([a.config(a.bF,"hlsVideoMediaRequestTargetDuration")],d.prototype,"D7a",null);r.__decorate([a.config(a.bF,"minStartingVideoVMAF")],d.prototype,"dw",null);r.__decorate([a.config(a.Ad,"allowMultipleAudioTextTracks")],d.prototype,"ona",null);d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Nm))],d);b.MJa=d;},function(r,b,a){var m,k;function c(l){this.Ca=l.mb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=void 0;r=a(0);m=a(1);a=a(6);c.prototype.cRb=function(l){var f,h,g,n,p,q,t;function d(v,u,w){var x,y,z;x=v.map(function(A){return A.wo;});x.sort(function(A,B){return u[A] - u[B];});if(1 === x.length)(!1,g.set(w,{VQ:v[0],Wda:v[0]}));else {y=x.find(function(A){return f.has(A);});y || ((y=x.find(function(A){return !h.has(A);}))?f.add(y):(y=x[0],!1));z=x.find(function(A){return h.has(A) && A !== y;});z || ((z=x.find(function(A){return !f.has(A) && A !== y;}))?h.add(z):(z=x.find(function(A){return A !== y;}),!1));g.set(w,{VQ:v.find(function(A){return A.wo === y;}),Wda:v.find(function(A){return A.wo === z;})});}}f=new Set();h=new Set();g=new Map();n=l.video;p=l.audio;q=l.text;t=l.Ql.reduce(function(v,u){v[u.id]=u.$b;return v;},{});n.forEach(function(v){v=v.stream;d(v.urls,t,v.Fo);});p.forEach(function(v){v=v.stream;d(v.urls,t,v.Fo);});q.forEach(function(v){var u,w;if(!v.track.eF || v.track.maa){u=v.track;w=v.id;v=Object.entries(v.stream.pv).map(function(x){var y;y=na(x);x=y.next().value;y=y.next().value;return {wo:Number(x),url:y};});u=u.AZa.reduce(function(x,y){x[y.id]=y.$b;return x;},{});d(v,u,w);}});return g;};k=c;k=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.ub))],k);b.rGa=k;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t,v){this.tg=n;this.JB=p;this.sg=q;this.Ac=t;this.Da=v;}Object.defineProperty(b,"__esModule",{value:!0});b.rT=void 0;r=a(0);m=a(1);k=a(19);l=a(6);d=a(50);f=a(191);h=a(87);g=a(1160);c.prototype.create=function(n){return new g.tT(this.tg,this.JB,this.sg,this.Da,this.Ac,n);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.ub)),r.__param(1,(0,m.l)(h.Cz)),r.__param(2,(0,m.l)(d.bo)),r.__param(3,(0,m.l)(f.Zha)),r.__param(4,(0,m.l)(k.cd))],a);b.rT=a;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t,v,u){var w;w=this;this.JB=p;this.sg=q;this.Da=t;this.Ac=v;this.hxa=this.cF=this.U_=0;this.EJ=!1;this.rF=function(){var x;x=w.l_();x.prstate=w.qB();x.paustate=w.j.KY();x.midplayseq=w.hxa++;w.Ac.BP(x);w.Gc(m.Yc.rF,void 0,g.Te | g.Cu,x);};this.Ni=function(){w.Gc(m.Yc.NYa,void 0,g.Te | g.Kq,{});};this.Bm=function(x){w.Tva=w.getTime();w.Uva=x.oldValue;};this.NV=function(x){w.Gva=x.oldValue;};this.Cca=function(x){x != w.EJ && (w.jCa(w.EJ,x),w.EJ=x);};this.jCa=function(x,y){var z;z=w.j.ya;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};w.Ac.Jr(x,z.De.value && z.De.value.stream,z.Of.value && z.Of.value.stream);w.Gc(m.Yc.Kib,void 0,g.Te,x);};this.C0=function(x){w.Gc(m.Yc.xib,void 0,g.Te,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.DC=function(x){var y,z,A;y=w.j.ya;z=y.jc.value;if(x.newValue || z && z.Kr() && !z.pq()){A=(x=null !== (A=x.newValue) && void 0 !== A?A:z)?{trackId:x.trackId,bcp47:x.xf,downloadableId:x.Yb,rank:x.$b,isImageBased:x.Bl}:{};x=(x=w.Uva)?{trackId:x.trackId,bcp47:x.xf,downloadableId:x.Yb,rank:x.$b,isImageBased:x.Bl}:{};A={switchdelay:(0,k.mg)(w.getTime() - w.Tva),track:A,oldtrack:x};w.Ac.Jr(A,y.De.value && y.De.value.stream,y.Of.value && y.Of.value.stream);w.Gc(m.Yc.Wjb,void 0,g.Te,A);}};this.Mya=function(x,y){var z;z=w.j.ya;x={waittime:(0,k.mg)(x),abortedevent:"resumeplay",resumeplayreason:y};w.Ac.Jr(x,z.pf.value,z.Kh.value);w.Gc(m.Yc.Mca,void 0,g.Te | g.Kq,x);};this.nR=function(x,y,z){x={playdelay:(0,k.mg)(x),reason:z,intrplayseq:w.cF - 1,skipped:y};"repos" === z && (x.prstate=!0 === w.j.jk.value?"playing":"paused");w.Gc(m.Yc.nR,void 0,g.Te | g.Bu,x);};this.Lna=function(){var x,y,z,A;y=w.j.ya.yc.value;z=w.j.ya.Kh.value.Yb;y=y?{trackId:y.trackId,bcp47:y.xf,downloadableId:z,rank:y.$b,chan:y.channels}:{};z=w.EB;A=null === (x=w.Gva) || void 0 === x?void 0:x.Yb;x=z?{trackId:z.trackId,bcp47:z.xf,downloadableId:A,rank:z.$b,chan:z.channels}:{};w.Gc(m.Yc.qYa,void 0,g.Te,{switchdelay:(0,k.mg)(w.getTime() - w.Hva),track:y,oldtrack:x});};this.Zm=function(x){w.Hva=w.getTime();w.EB=x.oldValue;};this.Nya=function(){var x,y,z;x=w.j.ya;y={abortedevent:"startplay",trackid:x.gl,prstate:w.qB(),paustate:w.j.KY()};try{z=(0,l.jJ)();z && (y.pdltime=z);(0,k.Ce)(y,x.qd,{prefix:"sm_"});}catch(A){}w.Ac.Q$(y,x);w.Ac.CP(y,!1,x.Ng.value,x);w.Ac.Jr(y,x.pf.value,x.Kh.value);w.tJ(y);w.Gc(m.Yc.Mca,void 0,g.Te | g.Cu | g.Kq,y);};this.dO=function(x,y,z,A){x={moff:(0,k.rn)(z),moffms:(0,k.mg)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Yb,vdlidold:x.Yb,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};w.Gc(m.Yc.dO,void 0,0,x);};this.hR=function(x,y,z){x={moffold:(0,k.rn)(x),reposseq:w.U_++,prstate:w.qB(),paustate:w.j.KY()};w.Ac.Jr(x,z && z.stream,y && y.stream);w.Gc(m.Yc.hR,void 0,g.Te,x);};this.ZF=function(x){var y,z,A,B,C;B=x.ya;C={playdelaysdk:(0,k.mg)(w.j.cW()),applicationPlaydelay:(0,k.mg)(w.j.xoa()),playdelay:(0,k.mg)(w.j.zoa()),trackid:B.gl,bookmark:(0,k.mg)(B.cv || 0),pbnum:B.index};w.j.Ni && (C.blocked=w.j.Ni);C.initvbitrate=w.j.zY;w.Ac.Bua(C);w.Ac.S7a(C);C.esnSource=null === (y=nb._cad_global.device) || void 0 === y?void 0:y.N8;w.Z7a(C,B);C.pdltime=(0,l.jJ)();(0,k.Ce)(C,B.qd,{prefix:"sm_"});C.ttTrackFields=null === (z=B.jc.value) || void 0 === z?void 0:z.yh;w.Ac.P7a(C,B.yc.value,B);w.Ac.CP(C,!0,B.Ng.value,B);C.packageId=null === (A=B.ja) || void 0 === A?void 0:A.ab.ep;w.Ac.BP(C);w.Ac.Q$(C,B);w.tJ(C);w.Gc(m.Yc.ZF,x.Ti,g.Te | g.Bu | g.Cu | g.zG | g.Kq,C);};this.LI=function(){var x,y,z;x=w.j;y=x.ya;x=x.Ti;z=w.l_();z.paustate=!w.j.Lr();z.muted=w.j.hva();z.endreason=x?"error":w.j.Zua()?"ended":"stopped";w.Ac.CP(z,!1,y.Ng.value,y);w.Ac.BP(z);w.tJ(z);w.Gc(m.Yc.LI,x,g.Te | g.Bu | g.Cu | g.zG | g.Kq,z);};this.cAa=function(x,y,z){var A;A=w.j.ya.Of;x={moff:(0,k.rn)(z),moffms:(0,k.mg)(z),vdlidold:x.Yb,vbitrateold:x.bitrate};w.Ac.Jr(x,y,A.value && A.value.stream);w.Gc(m.Yc.Lfb,void 0,0,x);};this.qB=function(){var x;x=w.j.zb.value;return x === f.ib.Dc?"playing":x === f.ib.Hh?"paused":x === f.ib.us?"ended":"waiting";};this.Ca=n.mb("LogblobBuilderImpl");this.j=u;}Object.defineProperty(b,"__esModule",{value:!0});b.tT=void 0;m=a(276);k=a(25);l=a(43);d=a(3);f=a(16);h=a(5);c.prototype.getTime=function(){return this.Da.Tb().fa(h.ma);};c.prototype.wta=function(){return this.getTime() - this.j.ya.yj.fa(h.ma);};c.prototype.Z7a=function(n,p){var q;if(p=null === (q=p.Ng.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,l.BS)(p.map(function(t){return t.bitrate;})),n.maxresheight=(0,l.BS)(p.map(function(t){return t.height;})));};c.prototype.tJ=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.l_=function(){var n,p,q,t;n=this.j.ya;p=n.qm;q={totaltime:(0,k.rn)(p.ot()),totalcontenttime:(0,k.rn)(p.eY()),reposcount:this.U_,intrplaycount:this.cF};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});t=n.pf.value;t && (q.videofr=t.framerate.toFixed(3));(t=p.osa()) && (q.abrdel=t);(t=p.C$() && p.t4a()) && (q.tw_vmaf=t);(p=p.r4a()) && (0,k.Ce)(q,p);q.rbfrs=this.cF;this.Z7a(q,n);return q;};c.prototype.Gc=function(n,p,q,t){var v,u,w;v=this;p && (0,d.fha)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.xa,this.wta(),void 0) && (u="info");w=this.j.ya;this.Sma(t,p,q);p=u || (p?"error":"info");t=this.JB.hv(n,p,t,w);this.sg.Gc(t);"error" !== p && n !== m.Yc.LI || this.sg.flush(!1).catch(function(){v.Ca.debug("Failed to flush the logblobs");});};c.prototype.Sma=function(n,p,q){var t;t=this.j.ya;this.Ac.P$(n,t);q & g.Te && this.Ac.V7a(n,t,!1);q & g.Bu && this.Ac.X7a(n,t);q & g.Cu && this.Ac.Y7a(n,this.j.Lo());p && q & g.zG && this.Ac.T7a(n,t,p);q & g.Kq && this.Ac.Bua(n);};b.tT=c;(function(n){n[n.Te=1]="MOFF";n[n.Bu=2]="PRESENTEDSTREAMS";n[n.Cu=4]="SCREEN";n[n.zG=8]="FATALERROR";n[n.Kq=16]="BROWSERINFO";})(g || (g={}));},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t,v){this.sg=n;this.config=p;this.za=q;this.Da=t;this.owa=v;}Object.defineProperty(b,"__esModule",{value:!0});b.uT=void 0;r=a(0);m=a(1);k=a(19);l=a(30);d=a(12);f=a(50);h=a(471);g=a(1162);c.prototype.create=function(n){return new g.wT(n,this.sg,this.config,this.Da,this.owa.create(n));};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(f.bo)),r.__param(1,(0,m.l)(d.Nc)),r.__param(2,(0,m.l)(l.Eh)),r.__param(3,(0,m.l)(k.cd)),r.__param(4,(0,m.l)(h.sT))],a);b.uT=a;},function(r,b,a){var m,k,l;function c(d,f,h,g,n){var p;p=this;this.j=d;this.sg=f;this.config=h;this.Da=g;this.qb=n;this.gW=function(){p.Xg();p.j.ya.nj.removeListener(p.DC);p.j.ya.jc.removeListener(p.qb.Bm);p.j.ya.yc.removeListener(p.Zm);p.j.ya.Kh.removeListener(p.qb.NV);p.j.jk.removeListener(p.Ydb);p.j.iR.removeListener(p.Zk);p.j.ya.De.removeListener(p.w_);p.j.zb.removeListener(p.Lx);p.j.zb.removeListener(p.bO);p.j.ya.pf.removeListener(p.A1);p.j.ya.playbackRate.removeListener(p.qb.C0);p.j.removeEventListener(l.Ja.closed,p.gW);p.j.removeEventListener(l.Ja.o7,p.qb.Ni);};this.bO=function(){p.j.zb.value === l.ib.Dc && (p.j.zb.removeListener(p.bO),p.iw());};this.DC=function(q){p.Sr && p.qb.DC(q);};this.Zk=function(q){p.Sr && void 0 !== q.newValue && (p.Zt && p.Jq && p.qb.Mya(p.getTime() - p.Jq,p.Zt),p.Zt="repos",p.qb.hR(q.newValue,p.j.ya.Of.value,p.j.ya.De.value),p.Jq=p.getTime(),(0,k.jg)(p.Lx));};this.Ydb=function(q){p.Sr && p.qb.Cca(!q.newValue);};this.Zm=function(q){q.oldValue && (p.EB=q.oldValue,p.qb.Zm(q),p.Zt="repos",p.Jq=p.getTime(),(0,k.jg)(p.Lx));};this.Lx=function(){var q;if(p.Jq && p.j.zb.value !== l.ib.cg){q=p.getTime() - p.Jq;p.qb.nR(q,!1,p.Zt);p.EB && p.EB != p.j.ya.yc.value && p.qb.Lna();p.Jq=void 0;p.Zt=void 0;}};this.iw=function(){p.Sr || (p.Sr=!0,p.qb.ZF(p.j),p.Kua(),p.config().X$ && (p.BB=nb.setTimeout(function(){p.sg.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.BB=void 0;},p.config().X$)));};this.Xg=function(){p.BB && (nb.clearTimeout(p.BB),p.BB=void 0);p.m1 && p.m1();p.Sr?p.qb.LI():p.j.Ti?p.qb.ZF(p.j):p.qb.Nya();};this.A1=function(q){q.oldValue && q.Mk && q.Mk.qI && p.qb.dO(q.oldValue,q.newValue,q.Mk.qI,q.Mk.VV);};this.w_=function(q){var t;if(q.newValue){t=q.newValue.stream;p.FJ != t && (p.FJ && t && p.qb.cAa(p.FJ,t,q.newValue.cn.startTime),p.FJ=t);}};this.vea();}Object.defineProperty(b,"__esModule",{value:!0});b.wT=void 0;m=a(5);k=a(58);l=a(16);c.prototype.vea=function(){this.j.addEventListener(l.Ja.closed,this.gW);this.j.addEventListener(l.Ja.o7,this.qb.Ni);this.j.ya.nj.addListener(this.DC);this.j.ya.jc.addListener(this.qb.Bm);this.j.ya.yc.addListener(this.Zm);this.j.ya.Kh.addListener(this.qb.NV);this.j.jk.addListener(this.Ydb);this.j.iR.addListener(this.Zk);this.j.ya.De.addListener(this.w_);this.j.zb.addListener(this.Lx);this.j.zb.addListener(this.bO);this.j.ya.pf.addListener(this.A1);this.j.ya.playbackRate.addListener(this.qb.C0);};c.prototype.getTime=function(){return this.Da.Tb().fa(m.ma);};c.prototype.Kua=function(){var d,f,h;d=this;h=[];this.config().Xab && (this.config().Yab.forEach(function(g){h.push(nb.setTimeout(d.qb.rF,g));}),this.config().vba && (f=nb.setInterval(this.qb.rF,this.config().vba)),this.m1=function(){h.forEach(function(g){nb.clearTimeout(g);});f && nb.clearInterval(f);});};b.wT=c;},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.jL=void 0;r=a(1);c=a(1164);m=a(1165);k=a(472);l=a(473);b.jL=new r.xd(function(d){d(l.kSa).to(c.jSa);d(k.hSa).Cm(new m.gSa());d(l.iSa).Pe(function(f){return function(){return f.wb.get(l.kSa);};});});},function(r,b,a){var m,k,l,d;function c(f){this.config=f;this.XBa=k.Ia;this.GR=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jSa=void 0;r=a(0);m=a(1);k=a(52);l=a(5);a=a(472);c.prototype.Oo=function(){var h;for(var f;0 < this.GR.length;){f=this.GR.shift();this.$Wa(f);}f=void 0 === this.PW || void 0 === this.GI?l.Ia:this.GI.Aa(this.PW);h=f.p9a()?0:this.XBa.fa(k.uG) / f.fa(l.ma);return {QCa:Math.floor(h),anc:f.fa(l.ma)};};c.prototype.ABb=function(f){this.XBa=this.XBa.add(f.size);this.GR.push(f.tMb);for(this.GR.sort(function(h,g){return h.start.bm(g.start);});this.GR.length > this.config.uMb;){f=this.GR.shift();this.$Wa(f);}};c.prototype.$Wa=function(f){void 0 === this.PW && (this.PW=f.start);void 0 !== this.GI && 0 > this.GI.bm(f.start) && (this.PW=this.PW.add(f.start.Aa(this.GI)));if(void 0 === this.GI || 0 > this.GI.bm(f.end))this.GI=f.end;};d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.hSa))],d);b.jSa=d;},function(r,b,a){function c(m){this.uMb=void 0 === m?10:m;}Object.defineProperty(b,"__esModule",{value:!0});b.gSa=void 0;r=a(0);a=a(1);c=r.__decorate([(0,a.Y)()],c);b.gSa=c;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.Eo=void 0;r=a(1);c=a(26);m=a(12);k=a(1167);l=a(160);d=a(161);f=a(1168);h=a(277);g=a(1169);n=a(474);p=a(475);q=a(1170);t=a(13);v=a(480);u=a(1174);w=a(481);x=a(1175);y=a(282);z=a(1176);A=a(482);B=a(38);C=a(479);D=a(1177);b.Eo=new r.xd(function(F){F(d.VT).to(f.ARa).ha();F(c.rz).to(k.oHa).ha();F(h.NKa).to(g.MKa).ha();F(p.nGa).to(q.mGa).ha();F(h.UOa).Cm({isTypeSupported:t.iD && t.iD.isTypeSupported});F(n.FIa).gG(function(G){return {IRb:function(){return G.wb.get(B.g4);}};});F(l.GL).gG(function(G){return G.wb.get(m.Nc);});F(v.mMa).to(u.jMa).ha();F(C.iMa).to(D.hMa).ha();F(w.lMa).to(x.kMa).ha();F(y.jha).to(z.EIa).ha();F(A.kQa).Cm(nb);});},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p){this.config=g;this.yZa=n;this.A4b=p;this.j6b=this.TJb();}Object.defineProperty(b,"__esModule",{value:!0});b.oHa=void 0;r=a(0);m=a(26);k=a(160);l=a(1);d=a(42);f=a(474);a=a(475);c.prototype.D6a=function(g){return this.o4a().E6a(g);};c.prototype.F6a=function(g){return this.Hv().E6a(g);};c.prototype.o4a=function(){this.Hna && this.Hna.type == this.config().Ina || (this.Hna=this.yZa.aJb(this.config().Ina));return this.Hna;};c.prototype.Hv=function(){this.ufa && this.ufa.type == this.config().vfa || (this.ufa=this.yZa.gKb(this.config().vfa),this.ufa.Uma(this.A4b.IRb()));return this.ufa;};c.prototype.URb=function(g){var q;if(!g || !g.length)return m.rf.Q2;g=this.oPb(g);for(var n=[m.rf.TT,m.rf.Q2,m.rf.oM,m.rf.OL,m.rf.Uw,m.rf.SC,m.rf.sD,m.rf.Tl],p=n.length;p--;){q=n[p];if((0,this.j6b[q])(g))return q;}return m.rf.TT;};c.prototype.fL=function(g){return this.Hv().fL(g);};c.prototype.oI=function(g){return this.Hv().oI(g);};c.prototype.bJ=function(){return this.Hv().bJ();};c.prototype.L9=function(){return this.Hv().L9();};c.prototype.N0=function(){return this.Hv().N0();};c.prototype.L0=function(){return this.o4a().L0();};c.prototype.Kea=function(){return this.Hv().Kea();};c.prototype.O0=function(){return this.Hv().O0();};c.prototype.CX=function(g){return this.Hv().CX(g);};c.prototype.YX=function(){return this.Hv().YX();};c.prototype.a$=function(){return this.Hv().a$();};c.prototype.oPb=function(g){var n;n={};g.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Af]="";});return Object.keys(n);};c.prototype.TJb=function(){var g;g={};g[m.rf.Tl]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};g[m.rf.SC]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};g[m.rf.sD]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};g[m.rf.Uw]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};g[m.rf.OL]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};g[m.rf.oM]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};g[m.rf.Q2]=(function(n,p){var q;q={};n.forEach(function(t){return q[t]=1;});n=na(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.BG]);g[m.rf.TT]=function(){return !0;};return g;};h=c;h=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(k.GL)),r.__param(1,(0,l.l)(a.nGa)),r.__param(2,(0,l.l)(f.FIa))],h);b.oHa=h;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t){this.Eo=p;this.Db=q;this.cjb=t;this.VAb="video/mp4;codecs={0}";this.Gvb="audio/mp4;codecs={0}";p=this.Eo.CX(k.rf.Uw);this.UAb=d.Od.D0a(p);}Object.defineProperty(b,"__esModule",{value:!0});b.ARa=void 0;r=a(0);k=a(26);l=a(1);d=a(120);f=a(27);h=a(210);g=a(476);n=a(17);c.prototype.Z7=function(p){p=this.Eo.URb(p);p=this.Db.DI(p)?p:k.rf.TT;return this.cjb.format(this.VAb,this.UAb[p]);};c.prototype.T7=function(p){if(0 === p.length)return this.cjb.format(this.Gvb,d.Od.Nfa);p=g.pFa[p[0].Af] || m.iEa;return p === m.iEa?n.M3:p === m.Wmb?n.OLa:n.NLa;};a=m=c;a.iEa="AAC";a.Wmb="XHEAAC";a=m=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(k.rz)),r.__param(1,(0,l.l)(f.Og)),r.__param(2,(0,l.l)(h.Vja))],a);b.ARa=a;},function(r,b,a){var m,k,l,d,f;function c(h,g){this.config=h;this.aLb=g;}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;r=a(0);m=a(1);k=a(277);l=a(160);d=a(26);f=a(278);c.prototype.r0a=function(){switch(this.config().vfa){case d.Om.Gz:return f.gD.CJb();default:return this.aLb;}};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.GL)),r.__param(1,(0,m.l)(k.UOa))],a);b.MKa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z;function c(A,B,C,D,F,G,E,H,L,K){this.l9a=A;this.config=B;this.wc=C;this.za=D;this.is=F;this.uq=G;this.Gt=E;this.platform=H;this.mc=L;this.RB=K;}Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;r=a(0);m=a(1);k=a(26);l=a(277);d=a(160);f=a(1171);h=a(1172);g=a(281);n=a(477);p=a(47);q=a(30);t=a(27);v=a(1173);u=a(96);w=a(6);x=a(48);y=a(32);a=a(479);c.prototype.aJb=function(A){var B;B=this.l9a.r0a();switch(A){case k.Qw.Gz:return new f.MMa(this.config,B,this.is,this.platform,this.RB);default:return new n.A2(this.config,B,this.RB);}};c.prototype.gKb=function(A){var B;B=this.l9a.r0a();switch(A){case k.Om.EL:A=new v.uGa(this.config,B,this.is,this.uq,this.Gt,this.za,this.RB);break;case k.Om.Gz:A=new h.SLa(this.config,B,this.is,this.wc,this.za,this.Gt,this.mc,this.RB,this.uq);break;default:A=new g.YC(this.config,B,this.is,this.RB);}return A;};z=c;z=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.NKa)),r.__param(1,(0,m.l)(d.GL)),r.__param(2,(0,m.l)(p.Mj)),r.__param(3,(0,m.l)(q.Eh)),r.__param(4,(0,m.l)(t.Og)),r.__param(5,(0,m.l)(u.Fz)),r.__param(6,(0,m.l)(w.ub)),r.__param(7,(0,m.l)(x.Qq)),r.__param(8,(0,m.l)(y.Di)),r.__param(9,(0,m.l)(a.iMa))],z);b.mGa=z;},function(r,b,a){var m,k,l,d,f;function c(h,g,n,p,q){h=d.A2.call(this,h,g,q) || this;h.is=n;h.platform=p;h.type=m.Qw.Gz;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.MMa=void 0;m=a(26);k=a(42);l=a(93);d=a(477);f=a(278);ka(c,d.A2);c.prototype.L0=function(){return Promise.resolve(this.config().IO && this.HA(l.Bb.Kz,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.et=function(){var h,g;h={};h=(h[k.Yd.CG]="mp4a.40.2",h[k.Yd.DG]="mp4a.40.2",h);if("browser" === this.platform.pqa){g={};return Object.assign(Object.assign({},h),(g[k.Yd.WS]=this.config().IO?{Td:"avc1",keySystem:l.Bb.Kz,features:["audio-endpoint-codec=DD+JOC"]}:void 0,g[k.Yd.XS]=this.config().IO?{Td:"avc1",keySystem:l.Bb.Kz,features:["audio-endpoint-codec=DD+JOC"]}:void 0,g[k.Yd.i3]=void 0,g[k.Yd.Qz]=void 0,g[k.Yd.m2]=void 0,g));}g={};return Object.assign(Object.assign({},h),(g[k.Yd.WS]=this.config().o2a?"ec-3":void 0,g[k.Yd.m2]=this.config().n2a?"ec-3":void 0,g[k.Yd.XS]=this.config().IO?{Td:"avc1",keySystem:l.Bb.Kz,features:["audio-endpoint-codec=DD+JOC"]}:void 0,g[k.Yd.i3]=void 0,g[k.Yd.Qz]=void 0,g));};c.prototype.ura=function(h){var g,n,p;h=this.C_[h];g=[];n=l.Bb.Kz;if(h){if(this.is.Uu(h))p=h;else (g=h.features,p=h.Td,n=h.keySystem);return this.HA(n,p,g)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.HA=function(h,g,n){h=f.gD.V7(h,g,n);return this.oI(h);};b.MMa=c;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D;function c(F,G,E,H,L,K,I,R,O){F=k.YC.call(this,F,G,E,R) || this;F.wc=H;F.za=L;F.Gt=K;F.mc=I;F.RB=R;F.uq=O;F.type=l.Om.Gz;F.RS="hvc1";F.job="avc1";F.Gdb={};F.log=F.Gt.mb("MicrosoftVideoCapabilityDetector");F.Uac();F.M0 && F.config().g0b?F.Y1a=F.tJb():(F.Y1a=Promise.resolve(""),F.config().i0b?F.yJb():F.config().h0b && F.xJb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.SLa=void 0;m=a(42);k=a(281);l=a(26);r=a(122);d=a(93);f=a(5);h=a(347);g=a(120);n=a(278);p=a(49);q=a(279);t=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];C=new r.dH();D=new h.qga();ka(c,k.YC);c.prototype.CX=function(F){return F === l.rf.Uw && this.config().zec?g.Od.rha:k.YC.prototype.CX.call(this,F);};c.prototype.fL=function(F){switch(F){case l.Nq.K3:return this.qjb();case l.Nq.JG:return this.E_;default:return Promise.resolve(!1);}};c.prototype.bJ=function(){var G;function F(){return G.M0?G.GVb?G.qjb().then(function(E){return Promise.resolve(E?d.Bb.fe:d.Bb.XG);}):Promise.resolve(d.Bb.XG):G.Ubc?Promise.resolve(d.Bb.XG):Promise.resolve(d.Bb.Kz);}G=this;this.keySystem || (this.keySystem=this.config().pu?this.uq.KE().then(function(E){return E.keySystem;}):F());return this.keySystem;};c.prototype.L9=function(){return this.Y1a;};c.prototype.N0=function(){return Promise.resolve({result:this.pjb(),reason:"is-type-supported"});};c.prototype.O0=function(){return this.M0 && this.sjb()?this.E_:Promise.resolve(!1);};c.prototype.Kea=function(){return Promise.resolve(this.ojb()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Uma=function(F){this.Rr=F;Object.assign(this.Rr,this.Gdb);F.itshwdrm=this.M0;F.itsqhd=this.rjb();F.itshevc=this.sjb();F.itshdr=this.pjb();F.itsdv=this.ojb();F.itsav1=this.Rbc();this.xDa();};c.prototype.zV=function(F,G){(this.Rr?this.Rr:this.Gdb)[F]=G;};c.prototype.YX=function(){var F;F=this;return this.fL(l.Nq.JG).then(function(G){return G?F.U7(l.Nq.JG):F.fL(l.Nq.K3).then(function(E){return E?F.U7(l.Nq.K3):F.U7(void 0);});});};c.prototype.a$=function(){return this.config().pu?Promise.resolve(void 0):this.bJ().then(function(F){return F === d.Bb.fe?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.ura=function(F){var G;G=this;return this.bJ().then(function(E){var H,L,K;H=G.C_[F];if(H){L=[];if(G.is.Uu(H))K=H;else (L=H.features,K=H.Td,E=H.keySystem);return G.HA(E,K,L)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.et=function(){var F;F=k.YC.prototype.et.call(this);F[m.H.L4]=F[m.H.K4]=F[m.H.J4]=F[m.H.gka]={Td:"vp09.00.11.08.02",keySystem:d.Bb.fe,features:t};F[m.H.m3]=F[m.H.l3]=F[m.H.k3]={Td:"hev1.2.6.L90.B0",keySystem:d.Bb.fe,features:v};F[m.H.p3]=F[m.H.o3]=F[m.H.n3]={Td:"hev1.2.6.L93.B0",keySystem:d.Bb.fe,features:v};F[m.H.s3]=F[m.H.r3]=F[m.H.q3]={Td:"hev1.2.6.L120.B0",keySystem:d.Bb.fe,features:v};F[m.H.v3]=F[m.H.u3]=F[m.H.t3]={Td:"hev1.2.6.L123.B0",keySystem:d.Bb.fe,features:v};F[m.H.x3]=F[m.H.fT]=F[m.H.w3]={Td:"hev1.2.6.L150.B0",keySystem:d.Bb.fe,features:v};F[m.H.z3]=F[m.H.gT]=F[m.H.y3]={Td:"hev1.2.6.L153.B0",keySystem:d.Bb.fe,features:v};F[m.H.T2]=F[m.H.S2]=F[m.H.R2]={Td:"hev1.2.6.L90.B0",keySystem:d.Bb.fe,features:w};F[m.H.W2]=F[m.H.V2]=F[m.H.U2]={Td:"hev1.2.6.L93.B0",keySystem:d.Bb.fe,features:w};F[m.H.Y2]=F[m.H.eT]=F[m.H.X2]={Td:"hev1.2.6.L120.B0",keySystem:d.Bb.fe,features:w};F[m.H.b3]=F[m.H.a3]=F[m.H.Z2]={Td:"hev1.2.6.L123.B0",keySystem:d.Bb.fe,features:x};F[m.H.e3]=F[m.H.d3]=F[m.H.c3]={Td:"hev1.2.6.L150.B0",keySystem:d.Bb.fe,features:x};F[m.H.h3]=F[m.H.g3]=F[m.H.f3]={Td:"hev1.2.6.L153.B0",keySystem:d.Bb.fe,features:x};F[m.H.p2]=F[m.H.o2]={Td:"hev1.2.6.L90.B0",keySystem:d.Bb.fe,features:y};F[m.H.r2]=F[m.H.q2]={Td:"hev1.2.6.L93.B0",keySystem:d.Bb.fe,features:y};F[m.H.s2]=F[m.H.Qga]=F[m.H.YS]={Td:"hev1.2.6.L120.B0",keySystem:d.Bb.fe,features:y};F[m.H.u2]=F[m.H.Rga]=F[m.H.t2]={Td:"hev1.2.6.L123.B0",keySystem:d.Bb.fe,features:z};F[m.H.w2]=F[m.H.Sga]=F[m.H.v2]={Td:"hev1.2.6.L150.B0",keySystem:d.Bb.fe,features:z};F[m.H.y2]=F[m.H.Tga]=F[m.H.x2]={Td:"hev1.2.6.L153.B0",keySystem:d.Bb.fe,features:z};F[m.H.QC]={Td:"av01.0.04M.10",keySystem:d.Bb.fe,features:t};F[m.H.RC]={Td:"av01.0.05M.10",keySystem:d.Bb.fe,features:t};F[m.H.R1]={Td:"av01.0.08M.10",keySystem:d.Bb.fe,features:t};F[m.H.S1]={Td:"av01.0.09M.10",keySystem:d.Bb.fe,features:t};F[m.H.T1]={Td:"av01.0.12M.10",keySystem:d.Bb.fe,features:u};F[m.H.U1]={Td:"av01.0.13M.10",keySystem:d.Bb.fe,features:u};return F;};c.prototype.HA=function(F,G,E){F=n.gD.V7(F,G,E);return this.oI(F);};c.prototype.rjb=function(){return this.HA(d.Bb.fe,this.RS,v);};c.prototype.pjb=function(){return this.HA(d.Bb.fe,this.RS,w);};c.prototype.ojb=function(){return this.HA(d.Bb.fe,this.RS,y);};c.prototype.Rbc=function(){return this.HA(d.Bb.fe,g.Od.Tl,t);};c.prototype.sjb=function(){return this.HA(d.Bb.fe,this.RS,u);};c.prototype.qjb=function(){var F;F=this;return this.E_.then(function(G){return G?Promise.resolve(G):F.Ceb;});};c.prototype.xDa=function(){this.Rr && (this.Rr.itshdcp=JSON.stringify({hdcp1:this.n7a,time1:this.Ljb - this.Eib,hdcp2:this.o7a,time2:this.Mjb - this.Fib}));};c.prototype.Uac=function(){var F;F=this;this.M0?(this.E_=this.h6a(this.config().Wab,this.config().k0b,function(){var G;G=F.SRb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.Ceb=this.E_.then(function(G){return G?!0:F.h6a(F.config().Wab,F.config().j0b,function(){var E;E=F.RRb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;});})):(this.Ceb=Promise.resolve(!0),this.E_=Promise.resolve(!1));};c.prototype.h6a=function(F,G,E){var H;H=this;return new Promise(function(L){var K,I,R,O;K=na(E());I=K.next().value;K=K.next().value;if(I)return L(K);R=H.wc.i0((0,f.qc)(F),function(){var J,M;J=na(E());M=J.next().value;J=J.next().value;M && (R.cancel(),O.cancel(),L(J));});O=H.wc.Bj((0,f.qc)(G),function(){R.cancel();O.cancel();L("timeout");});});};c.prototype.RRb=function(){var F;F=n.gD.V7(d.Bb.XG,this.job,A).split("|");this.n7a=n.gD.FCa(F[0],F[1]);this.Ljb=this.za.Bf.fa(f.ma);this.Eib=this.Eib || this.Ljb;this.xDa();return this.n7a;};c.prototype.SRb=function(){var F;F=n.gD.V7(d.Bb.fe,this.RS,B).split("|");this.o7a=n.gD.FCa(F[0],F[1]);this.Mjb=this.za.Bf.fa(f.ma);this.Fib=this.Fib || this.Mjb;this.xDa();return this.o7a;};c.prototype.tJb=function(){var F;F=this;return this.Kpa(d.Bb.fe,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.HNa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){F.log.debug("DriverInfo: " + G);return G;}).catch(function(G){F.zV("itsDriverInfo","exception");F.log.error("DriverInfo exception",G);throw G;});};c.prototype.xJb=function(){var F;F=this;this.Kpa(d.Bb.Kz,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var E;E=String.fromCharCode.apply(void 0,F.mc.decode(G));F.zV("itsHardwareInfo",E);F.log.debug("HardwareInfo: " + E);return G;}).catch(function(G){F.zV("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",G);throw G;});};c.prototype.yJb=function(){var F;F=this;this.Kpa(d.Bb.Kz,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var E;E=String.fromCharCode.apply(void 0,F.mc.decode(G));F.zV("itsHardwareReset",E);F.log.debug("ResetHardwareDRMDisabled: " + E);return G;}).catch(function(G){F.zV("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.Kpa=function(F,G){var E;E=this;return new Promise(function(H,L){var M,P,S;function K(T){try{O(T.target,"Unexpectedly got an mskeyerror event: 0x" + D.WI(T && T.target && T.target.error && T.target.error.Vqc || 0,4));}catch(U){O(T.target,U);}}function I(T){O(T.target,"Unexpectedly got an mskeyadded event");}function R(T){var U;try{U=E.qra(T.message,"PlayReadyKeyMessage","Challenge");J(T.target);H(U);}catch(W){O(T.target,W);}}function O(T,U){E.log.error("PlayReadyChallenge error",{cdmData:G});J(T);L(U);}function J(T){T.removeEventListener("mskeymessage",R);T.removeEventListener("mskeyadded",I);T.removeEventListener("mskeyerror",K);S && S.cancel();}try{M=new Uint8Array(C.ajb(G));P=new nb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),M);P.addEventListener("mskeymessage",R);P.addEventListener("mskeyadded",I);P.addEventListener("mskeyerror",K);S=E.wc.Bj((0,f.qc)(1E3),function(){O(P,Error("timeout"));});}catch(T){L(T);}});};c.prototype.qra=function(F,G){var H,L,K;for(var E=1;E < arguments.length;++E){;}E="";L=F.length;for(H=0;H < L;H++){K=F[H];0 < K && (E+=String.fromCharCode(K));}L="\\s*(.*)\\s*";for(H=arguments.length - 1;0 < H;H--){K=arguments[H];if(0 > E.search(K))return;K="(?:[^:].*:|)" + K;L="[\\s\\S]*<" + K + "[^>]*>" + L + "</" + K + ">[\\s\\S]*";}if(E=E.match(new RegExp(L)))return E[1];};c.prototype.qva=function(F){var G;G=this;return this.bJ().then(function(E){return [q.Sf.SC,q.Sf.sD].some(function(H){return H.test(F);}) && G.config().Vab && ![d.Bb.XG,d.Bb.aPa].some(function(H){return H === E;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Ua.Object.defineProperties(c.prototype,{GVb:{configurable:!0,enumerable:!0,get:function(){return this.config().s2a && (!this.config().l0b || this.rjb());}},M0:{configurable:!0,enumerable:!0,get:function(){try{return this.oI(d.Bb.fe + "|" + g.Od.jxa);}catch(F){return !1;}}},Ubc:{configurable:!0,enumerable:!0,get:function(){try{return this.oI(d.Bb.XG);}catch(F){return !1;}}}});b.SLa=c;},function(r,b,a){var m,k,l,d,f;function c(h,g,n,p,q,t,v){h=m.YC.call(this,h,g,n,v) || this;h.uq=p;h.Gt=q;h.za=t;h.RB=v;h.type=k.Om.EL;h.log=h.Gt.mb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=void 0;m=a(281);k=a(26);l=a(5);d=a(49);f=a(279);ka(c,m.YC);c.prototype.fL=function(h){switch(h){case k.Nq.JG:return this.Sbc;default:return Promise.resolve(!1);}};c.prototype.YX=function(){var h;h=this;return this.fL(k.Nq.JG).then(function(g){return g?k.Nq.JG:void 0;}).then(function(g){return h.U7(g);});};c.prototype.Uma=function(h){this.Rr=h;};c.prototype.$Xb=function(h){var g;return !(null === (g=h.getConfiguration().videoCapabilities) || void 0 === g || !g.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.cD;}));};c.prototype.$kb=function(){var h;if(this.Rr){h=this.p7a && this.r7a && this.p7a.Aa(this.r7a).fa(l.ma);this.Rr.itshdcp=JSON.stringify({hdcp2:this.Lv,time2:h});}};c.prototype.qva=function(h){var g;g=this;return this.uq.KE().then(function(n){n=(0,d.U9)(n);return [f.Sf.SC,f.Sf.sD].some(function(p){return p.test(h);}) && g.config().Vab && n === d.cD?{supported:!1,reason:"mcclearen-restricted"}:f.Sf.oqb.test(h) && !(g.config().iNb || g.config().r2a && n === d.cD) || f.Sf.oM.test(h) && (!g.config().r2a || n !== d.cD)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ua.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.Oab || (this.Oab=this.uq.KE().then(function(h){return h.createMediaKeys();}));return this.Oab;}},Sbc:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.GCa || (this.config().kNb?this.GCa=Promise.all([this.uq.KE(),this.mediaKeys]).then(function(g){var n;n=na(g);g=n.next().value;n=n.next().value;if(!h.$Xb(g))return (h.Lv="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.Lv),!1);if(n && n.getStatusForPolicy)return (h.r7a=h.za.Bf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){h.p7a=h.za.Bf;h.Lv=p;h.log.trace("hdcpStatus: " + h.Lv);return "usable" === h.Lv;}));h.Lv="not available";h.log.trace("hdcpStatus: " + h.Lv);return !1;}).catch(function(g){h.Lv="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Lv},g);return !1;}).then(function(g){h.$kb();return g;}):(this.Lv="not enabled",this.log.trace("hdcpStatus: " + this.Lv),this.$kb(),this.GCa=Promise.resolve(!1)));return this.GCa;}}});b.uGa=c;},function(r,b,a){var m,k;function c(l){this.navigator=l;this.Lab=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.jMa=void 0;r=a(0);m=a(1);a=a(38);c.prototype.tra=function(l){return this.Lab?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:l.contentType,width:l.width,height:l.height,bitrate:l.bitrate,framerate:l.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};k=c;k=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.aM))],k);b.jMa=k;},function(r,b,a){var m,k,l,d;function c(f,h){this.mediaCapabilities=f;this.log=h.mb("MediaCapabilities");this.C_=d.B2.et();}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;r=a(0);m=a(480);k=a(6);l=a(1);d=a(275);c.prototype.tra=function(f){var h,g,n,p;h=this;n={Oc:void 0};if(this.mediaCapabilities.Lab){p={contentType:'video/mp4;codecs="' + (null !== (g=this.C_[f.Af]) && void 0 !== g?g:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.tra(p).then(function(q){return n.Oc=Object.assign(Object.assign({},q),p);}).catch(function(q){return h.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(m.mMa)),r.__param(1,(0,l.l)(k.ub))],a);b.kMa=a;},function(r,b,a){var m,k,l;function c(d){this.G5b=d;}Object.defineProperty(b,"__esModule",{value:!0});b.EIa=void 0;r=a(0);m=a(1);k=a(282);a=a(482);c.prototype.KOb=function(){var d,f;d={UO:k.zz.Wub};try{f=this.G5b.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var g;d.UO=h.value?k.zz.jQa:k.zz.lEa;if(d.UO === k.zz.lEa){g=function(){h.value && (d.UO=k.zz.jQa);h.removeEventListener("change",g);};h.addEventListener("change",g);}}).catch(function(){d.UO=k.zz.Error;});}catch(h){d.UO=k.zz.Error;}return d;};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.kQa))],l);b.EIa=l;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t,v){this.config=p;this.navigator=q;this.Gt=t;this.gQ=v;this.mYa={};this.Qlb={};this.fna={};this.log=this.Gt.mb("MediaCapabilityDetector");this.mYa=this.$Ib();this.Qlb=this.fKb();}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=void 0;r=a(0);m=a(1);k=a(42);l=a(6);d=a(38);f=a(96);h=a(160);g=a(49);n=a(13);c.prototype.jX=function(p){var q;q=this;return this.gQ.KE().then(function(t){return q.XOb(p,t);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.pXb=function(p){return ! !p.colorGamut || ! !p.hdrMetadataType || ! !p.transferFunction;};c.prototype.bva=function(){return nb.matchMedia("(dynamic-range: high)").matches;};c.prototype.XOb=function(p,q){var t,v,u;try{t={type:"media-source"};v=this.mYa[p];u=this.Qlb[p];if(v)t.audio=v;else if(u){t.video=u;if(this.pXb(u) && !this.bva())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (t.keySystemConfiguration=this.gSb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.MFb(t),this.JFb((v || u).contentType)]).then(function(w){var x;x=na(w);w=x.next().value;x=x.next().value;return w?x?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(w){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",w),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.MFb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(t){var v;t.configuration || (t.configuration=p);v=q.RXb(p,t);v?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(t)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(t));return v;}).catch(function(t){q.log.error("mediaCapabilities.decodingInfo failed",t);return !1;});};c.prototype.JFb=function(p){var q;q=this;if(!this.config().sNb)return Promise.resolve(!0);this.fna[p] || (this.fna[p]=new Promise(function(t){var v;try{v=new n.iD();document.createElement("video").src=URL.createObjectURL(v);v.addEventListener("sourceopen",function(){try{v.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);t(!0);}catch(u){q.log.warn("addSourceBuffer failed",u);t(!1);}});}catch(u){q.log.warn("addSourceBuffer failed",u);t(!1);}}));return this.fna[p];};c.prototype.gSb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,g.U9)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.$Ib=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[k.Yd.CG]=q;p[k.Yd.i3]=q;p[k.Yd.DG]=q;p[k.Yd.Qz]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[k.Yd.WS]=q;p[k.Yd.m2]=q;p[k.Yd.XS]=q;return p;};c.prototype.fKb=function(){var p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};t={width:1920,height:1080};v={width:3840,height:2160};u=Object.assign(Object.assign({},t),{bitrate:12E6,framerate:30});w=Object.assign(Object.assign({},t),{bitrate:2E7,framerate:60});x=Object.assign(Object.assign({},v),{bitrate:25E6,framerate:30});y=Object.assign(Object.assign({},v),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),u);t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),u);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),u);C=Object.assign(Object.assign({},p),u);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),w);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),x);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),y);E=Object.assign(Object.assign(Object.assign({},p),u),z);H=Object.assign(Object.assign(Object.assign({},p),w),z);L=Object.assign(Object.assign(Object.assign({},p),x),z);p=Object.assign(Object.assign(Object.assign({},p),y),z);z=Object.assign(Object.assign(Object.assign({},q),u),A);K=Object.assign(Object.assign(Object.assign({},q),w),A);I=Object.assign(Object.assign(Object.assign({},q),x),A);q=Object.assign(Object.assign(Object.assign({},q),y),A);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),u);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),w);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),y);A={};return (A[k.H.AG]=v,A[k.H.BG]=v,A[k.H.qha]=v,A[k.H.aJa]=v,A[k.H.bJa]=v,A[k.H.cJa]=v,A[k.H.ZIa]=t,A[k.H.M2]=t,A[k.H.O2]=t,A[k.H.oha]=t,A[k.H.$Ia]=t,A[k.H.N2]=t,A[k.H.P2]=t,A[k.H.pha]=t,A[k.H.gka]=B,A[k.H.J4]=B,A[k.H.K4]=B,A[k.H.L4]=B,A[k.H.sha]=C,A[k.H.tha]=C,A[k.H.uha]=C,A[k.H.vha]=D,A[k.H.l3]=C,A[k.H.o3]=C,A[k.H.r3]=C,A[k.H.u3]=D,A[k.H.fT]=F,A[k.H.gT]=G,A[k.H.m3]=C,A[k.H.p3]=C,A[k.H.s3]=C,A[k.H.v3]=D,A[k.H.x3]=F,A[k.H.z3]=G,A[k.H.k3]=C,A[k.H.n3]=C,A[k.H.q3]=C,A[k.H.t3]=D,A[k.H.w3]=F,A[k.H.y3]=G,A[k.H.S2]=E,A[k.H.V2]=E,A[k.H.eT]=E,A[k.H.a3]=H,A[k.H.d3]=L,A[k.H.g3]=p,A[k.H.T2]=E,A[k.H.W2]=E,A[k.H.Y2]=E,A[k.H.b3]=H,A[k.H.e3]=L,A[k.H.h3]=p,A[k.H.R2]=E,A[k.H.U2]=E,A[k.H.X2]=E,A[k.H.Z2]=H,A[k.H.c3]=L,A[k.H.f3]=p,A[k.H.o2]=z,A[k.H.q2]=z,A[k.H.YS]=z,A[k.H.t2]=K,A[k.H.v2]=I,A[k.H.x2]=q,A[k.H.Qga]=z,A[k.H.Rga]=K,A[k.H.Sga]=I,A[k.H.Tga]=q,A[k.H.p2]=z,A[k.H.r2]=z,A[k.H.s2]=z,A[k.H.u2]=K,A[k.H.w2]=I,A[k.H.y2]=q,A[k.H.jEa]=u,A[k.H.kEa]=u,A[k.H.QC]=u,A[k.H.RC]=u,A[k.H.R1]=u,A[k.H.S1]=w,A[k.H.T1]=x,A[k.H.U1]=y,A);};c.prototype.RXb=function(p,q){return p.video && this.config().f5b?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(h.GL)),r.__param(1,(0,m.l)(d.aM)),r.__param(2,(0,m.l)(l.ub)),r.__param(3,(0,m.l)(f.Fz))],a);b.hMa=a;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(1);c=a(483);m=a(192);k=a(484);l=a(1179);d=a(283);f=a(1180);h=a(1183);g=a(1184);n=a(94);p=a(485);q=a(1186);b.storage=new r.xd(function(t){t(m.ZMa).Pe(function(){return function(){return nb.localStorage;};});t(m.XJa).Pe(function(){return function(){return nb.indexedDB;};});t(p.JMa).to(q.IMa).ha();t(n.TC).to(g.KEa).ha();t(k.lLa).to(l.kLa).ha();t(c.H3).to(h.zKa).ha();t(d.BKa).to(f.AKa).ha();t(d.WJa).to(f.VJa).ha();t(d.DKa).to(f.CKa).ha();});},function(r,b,a){var m,k,l;function c(d){this.EF=d;}Object.defineProperty(b,"__esModule",{value:!0});b.kLa=void 0;r=a(0);m=a(1);k=a(3);a=a(192);c.prototype.load=function(d){var f;f=this;return new Promise(function(h,g){var n,p;try{n=f.EF.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}h({key:d,value:p});}else g({xa:k.T.qD});}catch(q){g({xa:k.T.WQa,cause:q});}});};c.prototype.save=function(d,f,h){var g;g=this;return new Promise(function(n,p){if(h && g.EF.getItem(d))n(!1);else try{"string" === typeof f?g.EF.setItem(d,f):g.EF.setItem(d,JSON.stringify(f));n(!0);}catch(q){p({xa:k.T.XQa,cause:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(h,g){try{f.EF.removeItem(d);h();}catch(n){g({xa:k.T.Gja,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Csb))],l);b.kLa=l;},function(r,b,a){var l,d,f,h,g,n,p,q,t,v,u,w;function c(x,y,z,A,B,C){this.config=y;this.zW=z;this.Cq=A;this.Vec=B;this.Sl=C;this.Ca=x.mb(n.ORa);}function m(x,y){this.config=x;this.a1=y;}function k(x,y,z,A,B){this.config=y;this.a1=z;this.Sl=B;this.Ca=x.mb(n.ORa);this.zW=new Promise(function(C,D){var F;try{F=A();F?C(F):D({xa:g.T.ZJa});}catch(G){D({xa:g.T.G3,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=b.AKa=b.VJa=void 0;r=a(0);l=a(1);d=a(6);f=a(1181);h=a(192);g=a(3);n=a(1182);p=a(483);q=a(69);t=a(94);v=a(81);u=a(283);w=a(60);k.prototype.create=function(){this.Xpa || (this.Xpa=this.iO());return this.Xpa;};k.prototype.zr=function(x){var y;y=this;this.Xpa=null;return this.a1.Yt(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.Ds?Promise.reject({xa:g.T.G3}):z.xa?Promise.reject(z):Promise.reject({xa:g.T.G3,cause:z});});};k.prototype.delete=function(x){var y;y=this;return this.a1.Yt(this.config.timeout,new Promise(function(z,A){y.zW.then(function(B){var C;C=B.deleteDatabase(x);C.onsuccess=function(){z();};C.onerror=function(){A({xa:g.T.G3,cause:C.error});};}).catch(function(B){A(B);});}));};k.prototype.iO=function(){var x,y;x=this;return this.a1.Yt(this.config.timeout,new Promise(function(z,A){if(x.config.UBa)return A({xa:x.config.UBa});x.zW.then(function(B){x.Sl.mark(w.vk.Vqb);y=B.open(x.config.name,x.config.version);if(!y)return A({xa:g.T.$Ja});y.onblocked=function(){x.Sl.mark(w.vk.Sqb);A({xa:g.T.Oqb});};y.onupgradeneeded=function(){var C;x.Sl.mark(w.vk.brb);C=y.result;try{C.createObjectStore(x.config.NZ,{keyPath:"name"});}catch(D){x.Ca.error("Exception while creating object store",D);}};y.onsuccess=function(C){var D,F;x.Sl.mark(w.vk.arb);try{D=C.target.result;F=D.objectStoreNames.length;x.Ca.trace("objectstorenames length ",F);if(0 === F){x.Ca.error("invalid indexedDb state, deleting");x.Sl.mark(w.vk.Uqb);try{D.close();}catch(G){}B.deleteDatabase(x.config.name);setTimeout(function(){A({xa:g.T.Nqb});},1);return;}}catch(G){x.Ca.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.Sl.mark(w.vk.Tqb);x.Ca.error("IndexedDB open error",y.error);A({xa:g.T.Pqb,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.Ds){try{y && y.readyState && x.Sl.mark("readyState-" + y.readyState);}catch(A){}if(x.config.Z6 && y && "done" === y.readyState){if(x.Qec(y))return (x.Sl.mark(w.vk.Zqb),Promise.resolve(y.result));x.Sl.mark(w.vk.Yqb);}x.Sl.mark(w.vk.Xqb);return Promise.reject({xa:g.T.Rqb});}if(z.xa)return Promise.reject(z);x.Sl.mark(w.vk.Wqb);x.Ca.error("IndexedDB open exception occurred",z);return Promise.reject({xa:g.T.Qqb,cause:z});});};k.prototype.Qec=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.Sl.mark(w.vk.$qb);this.Ca.error("failed to check open request state",y);}return !1;};a=k;a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(d.ub)),r.__param(1,(0,l.l)(p.H3)),r.__param(2,(0,l.l)(q.aH)),r.__param(3,(0,l.l)(h.XJa)),r.__param(4,(0,l.l)(v.nM))],a);b.VJa=a;m.prototype.create=function(x){return Promise.resolve(new f.yKa(this.config,this.a1,x));};a=m;a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(p.H3)),r.__param(1,(0,l.l)(q.aH))],a);b.AKa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.vW || (this.vW=this.iO(this.Vec));return this.vW;};c.prototype.iO=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.Sl.mark(w.vk.vub);y.zW.create().then(function(B){y.Cq.create(B).then(function(C){Promise.all(x.map(function(D){return D.validate(C);})).then(function(){y.storage=C;z(y.storage);}).catch(function(D){y.Ca.debug("DB validation failed, cause: " + D);y.config.H3a?(y.Ca.debug("Fixing corrupt DB"),y.zW.zr(B).then(function(){y.Ca.error("Invalid database deleted, creating new database.");y.iO().then(function(F){y.Ca.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.Ca.error("Couldn't delete invalid database.");A(F);})):(y.Ca.debug("Ignoring invalid DB due to config"),y.storage=C,z(y.storage));});}).catch(function(C){A(C);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(d.ub)),r.__param(1,(0,l.l)(p.H3)),r.__param(2,(0,l.l)(u.WJa)),r.__param(3,(0,l.l)(u.BKa)),r.__param(4,(0,l.optional)()),r.__param(4,(0,l.VJ)(t.Eub)),r.__param(5,(0,l.l)(v.nM))],a);b.CKa=a;},function(r,b,a){var k,l,d;function c(f,h,g){this.config=f;this.St=h;this.EF=g;}function m(f,h){this.reason=f;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.yKa=b.xQa=void 0;k=a(3);l=a(69);(function(f){f[f.Aia=0]="NoData";f[f.Error=1]="Error";f[f.mM=2]="Timeout";})(d=b.xQa || (b.xQa={}));c.prototype.load=function(f){var h;h=this;return new Promise(function(g,n){h.S8("get",!1,f).then(function(p){g({key:f,value:p});}).catch(function(p){var q;q=k.T.WQa;switch(p.reason){case d.Aia:q=k.T.qD;break;case d.mM:q=k.T.wub;}n({xa:q,cause:p.cause});});});};c.prototype.save=function(f,h,g){var n;n=this;return new Promise(function(p,q){n.S8(g?"add":"put",!0,{name:f,data:h}).then(function(){p(!g);}).catch(function(t){var v;v=k.T.XQa;switch(t.reason){case d.mM:v=k.T.zub;}q({xa:v,cause:t.cause});});});};c.prototype.remove=function(f){var h;h=this;return new Promise(function(g,n){h.S8("delete",!0,f).then(function(){g();}).catch(function(p){var q;q=k.T.Gja;switch(p.reason){case d.mM:q=k.T.VQa;}n({xa:q,cause:p.cause});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(h,g){f.S8("clear",!0,"").then(function(){h();}).catch(function(n){var p;p=k.T.Gja;switch(n.reason){case d.mM:p=k.T.VQa;}g({xa:p,cause:n.cause});});});};c.prototype.loadAll=function(){var f;f=this;return this.St.Yt(this.config.timeout,new Promise(function(h,g){var n,p,q;if(f.config.TBa)g(new m(f.config.TBa));else {n=[];p=f.EF.transaction(f.config.NZ,"readonly");q=p.objectStore(f.config.NZ).openCursor();p.onerror=function(){g(new m(d.Error,q.error));};q.onsuccess=function(t){if(t=t.target.result)try{n.push({key:t.value.name,value:t.value.data});t.continue();}catch(v){g(new m(d.Error,v));}else h(n);};q.onerror=function(){g(new m(d.Error,q.error));};}})).catch(function(h){return h instanceof l.Ds?Promise.reject(new m(d.mM,h)):h instanceof m?Promise.reject(h):Promise.reject(new m(d.Error,h));});};c.prototype.S8=function(f,h,g){var n;n=this;return this.St.Yt(this.config.timeout,new Promise(function(p,q){var t,v;t=n.EF.transaction(n.config.NZ,h?"readwrite":"readonly");v=t.objectStore(n.config.NZ)[f](g);t.onerror=function(){q(new m(d.Error,v.error));};v.onsuccess=function(u){var w;if("get" == f)try{w=u.target.result;w?p(w.data):q(new m(d.Aia));}catch(x){q(new m(d.Aia,x));}else p(void 0);};v.onerror=function(){q(new m(d.Error,v.error));};})).catch(function(p){return p instanceof l.Ds?Promise.reject(new m(d.mM,p)):p instanceof m?Promise.reject(p):Promise.reject(new m(d.Error,p));});};b.yKa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ORa="Storage";},function(r,b,a){var m,k,l,d,f;function c(h,g){h=l.qf.call(this,h,"IndexedDBConfigImpl") || this;h.config=g;h.version=1;h.NZ="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;r=a(0);m=a(1);k=a(45);l=a(46);d=a(40);a=a(34);ka(c,l.qf);Ua.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.gB?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Qib;}},Z6:{configurable:!0,enumerable:!0,get:function(){return this.config.Z6;}},UBa:{configurable:!0,enumerable:!0,get:function(){return 0;}},TBa:{configurable:!0,enumerable:!0,get:function(){return 0;}},H3a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;r.__decorate([k.config(k.HC,"simulateIdbOpenError")],f.prototype,"UBa",null);r.__decorate([k.config(k.HC,"simulateIdbLoadAllError")],f.prototype,"TBa",null);r.__decorate([k.config(k.Ad,"fixInvalidDatabase")],f.prototype,"H3a",null);f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Nm)),r.__param(1,(0,m.l)(d.xp))],f);b.zKa=f;},function(r,b,a){var k,l,d,f,h,g,n;function c(p,q,t,v){this.Ca=p;this.config=q;this.LVb=t;this.cxa=v;this.vI={mem:{storage:this.cxa,key:"mem"}};this.aG=this.config.aG;}function m(p,q,t,v){this.tg=p;this.Cq=q;this.cxa=t;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.$fa=b.KEa=void 0;r=a(0);k=a(1);l=a(3);d=a(283);f=a(6);h=a(485);g=a(1185);a=a(40);m.prototype.create=function(){this.vW || (this.vW=this.iO());return this.vW;};m.prototype.iO=function(){this.GCb=new c(this.tg.mb("AppStorage"),this.config,this.Cq,this.cxa);return this.GCb.create();};n=m;n=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(f.ub)),r.__param(1,(0,k.l)(d.DKa)),r.__param(2,(0,k.l)(h.JMa)),r.__param(3,(0,k.l)(a.xp))],n);b.KEa=n;c.prototype.create=function(){var p;p=this;return this.AJb().then(function(q){if(!p.pFb(q,p.config.tY))throw p.o1b(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(t,v){q.DX(p).storage.load(p).then(function(u){t(u);}).catch(function(u){v(u);});});};c.prototype.save=function(p,q,t){var v;v=this;return new Promise(function(u,w){v.DX(p).storage.save(p,q,t).then(function(x){u(x);}).catch(function(x){w(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(t,v){q.DX(p).storage.remove(p).then(function(){t();}).catch(function(u){v(u);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,t){p.yfb("mem").then(function(){return p.yfb("idb");}).catch(function(v){return Promise.reject(v);}).then(function(){q();}).catch(function(v){p.Ca.error("remove all failed");t(v);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.j$a("mem").then(function(t){q=q.concat(t);return p.j$a("idb");}).catch(function(t){p.OXb(t) || p.Ca.error("IndexedDb.LoadAll exception",t);return [];}).then(function(t){return q=q.concat(t);}).catch(function(t){p.Ca.error("load all failed",t);throw t;});};c.prototype.AJb=function(){var p;p=this;return this.LVb.create().then(function(q){p.vI.idb={storage:q,key:"idb"};}).catch(function(q){p.Ca.error("idb failed to load",q);return q || ({xa:l.T.ho});});};c.prototype.pFb=function(p,q){return !p || p && q?!0:!1;};c.prototype.o1b=function(p){var q;q="";p && (q+=p.xa);return {xa:q};};c.prototype.yfb=function(p){return (p=this.vI[p])?p.storage.removeAll():Promise.resolve();};c.prototype.j$a=function(p){return (p=this.vI[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.iPb=function(p){for(var q in this.aG){if(p.startsWith(q))return this.aG[q];}return this.aG[g.Xob];};c.prototype.DX=function(p){var q,t;q=this;this.iPb(p).every(function(v){return q.vI[v]?(t=q.vI[v],!1):!0;});if(!t){this.Ca.error("component not found for storageKey",{fbc:p,Slc:Object.keys(this.vI),rules:this.aG});t=this.vI.mem;}this.Ca.trace("component found for key",{storageKey:p,componentKey:t.key});return t;};c.prototype.OXb=function(p){return (p && (p.xa || p.errorSubCode)) === l.T.qD;};b.$fa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xob="__default_rule_key__";},function(r,b,a){var m,k,l;function c(d){this.tg=d;this.WJ={};this.Ca=this.tg.mb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;r=a(0);m=a(1);k=a(3);a=a(6);c.prototype.load=function(d){var f;if(this.WJ.hasOwnProperty(d)){f=this.WJ[d];this.Ca.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.Ca.debug("Storage entry not found",{key:d});return Promise.reject({xa:k.T.qD});};c.prototype.save=function(d,f,h){if(h && this.WJ.hasOwnProperty(d))return Promise.resolve(!1);this.WJ[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.WJ[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.WJ).map(function(f){var h;h=na(f);f=h.next().value;h=h.next().value;return {key:f,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.WJ={};return Promise.resolve();};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.ub))],l);b.IMa=l;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.ON=void 0;r=a(1);c=a(486);m=a(487);k=a(488);l=a(1188);d=a(1189);f=a(1190);b.ON=new r.xd(function(h){h(c.EFa).to(l.DFa).ha();h(m.CFa).to(d.zFa).ha();h(k.BFa).to(f.AFa).ha();});},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p,q){this.s7=n;this.Db=p;this.fEb=q;this.Ca=g.mb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.DFa=void 0;r=a(0);m=a(1);k=a(487);l=a(488);d=a(6);f=a(27);h=a(5);c.prototype.nCb=function(g){var n,p;n=g.fb.playbackState && g.fb.playbackState.currentTime;p=this.iRb(g.I);n=this.Db.DI(n)?(0,h.qc)(n):p;if(this.Db.Zg(n))(this.Ca.info("Overriding bookmark",{From:g.tL.fa(h.ma),To:n.fa(h.ma)}),g=Object.assign({},g,{tL:n}));else if(this.PVb(g))return (this.Ca.trace("Ignoring bookmark because it's too close to beginning"),(0,h.zi)(0));return g.tL.jva()?(this.Ca.trace("Ignoring bookmark because it's negative"),(0,h.zi)(0)):this.OVb(g)?(this.Ca.trace("Ignoring bookmark because it's too close to end"),(0,h.zi)(0)):this.NVb(g)?(this.Ca.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,h.zi)(0)):g.tL;};c.prototype.PVb=function(g){return 0 > g.tL.bm(this.Ksa(g));};c.prototype.Ksa=function(g){return this.PYa(this.s7.Ksa(),g.Hca);};c.prototype.OVb=function(g){return 0 < g.tL.bm(this.Lsa(g));};c.prototype.Lsa=function(g){var n;n=g.fb.Sh?this.s7.WRb():this.s7.Lsa();return g.Hca.Aa(this.PYa(n,g.Hca));};c.prototype.NVb=function(g){return 0 < g.tL.bm(this.GRb(g));};c.prototype.GRb=function(g){return g.Hca.Aa((0,h.qc)(g.BF));};c.prototype.iRb=function(g){var n;g=this.s7.qsa()[g];n=-1;this.Db.Uu(g)?n=parseInt(g):this.Db.po(g) && (n=g);if(this.Db.CV(n))return (0,h.qc)(n);};c.prototype.PYa=function(g,n){return this.fEb.tbc(g,n);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(d.ub)),r.__param(1,(0,m.l)(k.CFa)),r.__param(2,(0,m.l)(f.Og)),r.__param(3,(0,m.l)(l.BFa))],a);b.DFa=a;},function(r,b,a){var m,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.zFa=void 0;r=a(0);m=a(1);a=a(12);c.prototype.Ksa=function(){return this.ZI().gEb;};c.prototype.Lsa=function(){return this.ZI().hEb;};c.prototype.WRb=function(){return this.ZI().iEb;};c.prototype.qsa=function(){return this.ZI().OYa;};c.prototype.ZI=function(){return this.config();};k=c;k=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Nc))],k);b.zFa=k;},function(r,b,a){var m,k,l;function c(d){this.Db=d;}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(0);m=a(1);k=a(27);l=a(5);c.prototype.tbc=function(d,f){var h,g;h=parseFloat(d);g=0;"%" === d[d.length - 1] && this.Db.po(h)?g=Math.round(h * f.fa(l.ma) / 100):(d=parseInt(d),this.Db.CV(d) && (g=d));return (0,l.qc)(Math.min(g,f.fa(l.ma)));};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.Og))],a);b.AFa=a;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.lZa=void 0;r=a(1);c=a(489);m=a(1192);b.lZa=new r.xd(function(k){k(c.WFa).to(m.VFa).ha();});},function(r,b,a){var m,k,l,d,f,h,g,n,p;function c(q,t,v,u,w,x){this.config=q;this.wF=v;this.profile=u;this.bfa=w;this.dW=x;this.log=t.mb("CDMAttestedDescriptor");this.H4a(n.ax.OT);}Object.defineProperty(b,"__esModule",{value:!0});b.VFa=void 0;r=a(0);m=a(1);k=a(12);l=a(6);d=a(162);f=a(284);h=a(78);g=a(170);n=a(40);p=a(57);c.prototype.H4a=function(q){var t;t=this;return this.bfa.mea(q)?this.config().fNb?this.F4a().then(function(v){if(v)return (!1,Promise.resolve(void 0));t.b$a || (!1,t.b$a=t.dW.vta(p.Fi.yp));return t.b$a;}).catch(function(v){t.log.error("Failed to generate challenge",v);}).then(function(v){null === v || void 0 === v?void 0:v.cc.close();return null === v || void 0 === v?void 0:v.Joa;}).then(function(v){return Promise.all([Promise.resolve(v),t.F4a()]);}).then(function(v){var u;v=na(v);u=v.next().value;if(v.next().value)!1;else return u;}):this.wF().then(function(v){v.EZ.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.F4a=function(){var q;q=this;return this.wF().then(function(t){return (t=t.EZ.getServiceTokens(q.profile)) && t.find(function(v){return "cad" === v.name;});});};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.Nc)),r.__param(1,(0,m.l)(l.ub)),r.__param(2,(0,m.l)(d.ET)),r.__param(3,(0,m.l)(h.gM)),r.__param(4,(0,m.l)(f.I4)),r.__param(5,(0,m.l)(g.j2))],a);b.VFa=a;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.V$a=void 0;r=a(1);c=a(273);m=a(1194);k=a(490);l=a(1201);d=a(494);f=a(496);h=a(1202);g=a(134);n=a(1203);p=a(498);q=a(1204);b.V$a=new r.xd(function(t){t(k.ZLa).to(l.YLa).ha();t(c.mia).to(m.$La).ha();t(d.FPa).Cm(function(v){for(var u=[],w=0;w < arguments.length;++w){u[w - 0]=arguments[w];}w=a(286).eH;return new (Function.prototype.bind.apply(w,[null].concat(ia(u))))();});t(f.cMa).Pe(function(){return function(v){return new h.dMa(v);};});t(g.VL).to(n.WLa).ha();t(p.VLa).to(q.ULa).ha();});},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x){this.tg=v;this.config=u;this.Wya=w;this.cDa=x;}Object.defineProperty(b,"__esModule",{value:!0});b.$La=void 0;r=a(0);m=a(1);k=a(6);l=a(490);d=a(1195);f=a(1196);h=a(1197);g=a(1198);n=a(1199);p=a(1200);q=a(494);a=a(495);c.prototype.create=function(v){var u,w;u=this.tg.mb("ManifestParser",v);w=new d.qGa(u,this.config);return new h.aMa(w,new f.eSa(u,this.config,v,w,this.Wya),new g.ySa(u,v,this.cDa),new n.oFa(u,this.config,v),new p.bTa(u));};t=c;t=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(l.ZLa)),r.__param(2,(0,m.l)(q.FPa)),r.__param(3,(0,m.l)(a.wSa))],t);b.$La=t;},function(r,b,a){var m,k;function c(l,d){this.log=l;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qGa=void 0;m=a(103);k=a(285);c.prototype.rya=function(l,d,f){var h,g,n,p;h=this;g=this.config.Hoa;n=this.config.Goa;l=na((0,m.hw)(function(q){return (!g.length || 0 <= g.indexOf(q.id)) && 0 > n.indexOf(q.id);},l || []));p=l.next().value;l.next().value.forEach(function(q){return h.log.warn("Cdn is not allowed",{Id:q.id});});l=p.map(function(q){var t;t=(d?d.find(function(v){return v.key === q.key;}):void 0) || ({});return {id:q.id,name:q.name,$b:q.$b,type:q.type,r$a:q.key,wXb:q.I$a,location:{id:t.key,$b:t.$b,level:t.level,weight:t.weight}};});l.sort(function(q,t){return q.$b - t.$b;});this.log.trace("Transformed cdns",{Count:l.length});if(f && !l.length)throw Error("no valid cdns");return l;};c.prototype.HVb=function(l,d,f,h){var g;g=l.filter(function(n){return -1 === f.findIndex(function(p){return p.id === n.id;});}).map(function(n){return {Mcb:!0,Lc:n};}).concat(f.map(function(n){return {Mcb:!1,Lc:n};})).sort(function(n,p){return n.Lc.$b === p.Lc.$b?n.Mcb?-1:1:n.Lc.$b - p.Lc.$b;}).map(function(n,p){(0,k.aQ)(n.Lc).$b=p + 1;return n.Lc;});l=d.filter(function(n){return -1 === h.findIndex(function(p){return p.key === n.key;});}).concat(h).map(function(n){var p;p=g.findIndex(function(q){return q.key === n.key;});if(-1 !== p)return (p=g[p],(0,k.aQ)(n).$b=p.$b,n);}).filter(function(n){return void 0 !== n;});return {R9b:g,uZb:l};};b.qGa=c;},function(r,b,a){var m,k,l,d;function c(f,h,g,n,p){this.log=f;this.config=h;this.j=g;this.fW=n;this.Wya=p;}Object.defineProperty(b,"__esModule",{value:!0});b.eSa=void 0;m=a(42);k=a(13);l=a(133);d=a(491);c.prototype.ndb=function(f,h){var g;g=this;h=h.map(function(n){var p,q,t,v,u;t=g.Ycc(n);n.eF || !n.Wi || t && 0 < t.length || g.log.error("track without downloadables",g.rSb(n));v={};u=[];0 < t.length && (v=n.language && 0 <= g.config.zP.indexOf(n.language)?t[1] && t[1].profile === m.Mm.YJa?t[1]:t[0]:t[0],v.profile == m.Mm.ZL && (v=g.E9b(t),!1),u=g.fW.rya(n.AZa,void 0,!1));n=g.Wya(g.j,n.Ig,n.id,null !== (p=n.$b) && void 0 !== p?p:-1,null !== (q=n.Wi) && void 0 !== q?q:!0,f,v.Yb,v.urls || ({}),u,n.language,n.jF,l.G4[n.Bi.toLowerCase()] || l.Tq.dM,n.dL,n.variant,n.PF.toUpperCase(),v.profile,g.zSb(v) || ({}),n.eF,n.maa,n.paa,n.Mv);g.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:h.length});return h;};c.prototype.Ccc=function(f){var h,g;h=this;g=this.config.Xra;if(g){if(f=na(f.filter(function(n){return n.xf == g || n.trackId == g;})).next().value)return f;}else if(this.j.m9 && (f=na(f.filter(function(n){return n.trackId == h.j.m9;})).next().value))return f;};c.prototype.Ycc=function(f){var h,g;h=this;g=f.W1a;f=Object.entries(f.hDa || ({})).map(function(n){var p;p=na(n);n=p.next().value;p=p.next().value;return {Yb:g[n],profile:n,size:p.size || 0,priority:h.ARb(n,p),offset:p.ixa || 0,u4b:p.width,Bdb:p.height,urls:p.pv};});f.sort(function(n,p){return n.priority - p.priority;});return f;};c.prototype.ARb=function(f,h){var g,n;g=this.config.Ew.indexOf(f);h=h.size;n=this.config.XR;return f === m.Mm.Jga && 0 < n && h > n?this.config.Ew.length + 1:0 <= g?g:this.config.Ew.length;};c.prototype.zSb=function(f){if(f.profile === m.Mm.ZL)return {offset:f.offset,length:f.size,wm:{width:f.u4b,height:f.Bdb}};};c.prototype.E9b=function(f){var h,g;h=this.config.vua || d.Wja.j6a();g=na(f.filter(function(n){return n.profile === m.Mm.ZL;}).filter(function(n){return n.Bdb === h;})).next().value;if(g)return g;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.cx.height,intendedResolution:h});return f[0];};c.prototype.rSb=function(f){return {isNone:f.eF,isForced:f.maa,bcp47:f.language,id:f.Ig};};b.eSa=c;},function(r,b,a){var m;function c(k,l,d,f,h){this.fW=k;this.MCa=l;this.hdc=d;this.RV=f;this.Wlb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;m=a(285);c.prototype.kdb=function(k){var l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A;f=k.ab;h={Wf:null !== (d=null === (l=f.aO) || void 0 === l?void 0:l.fp) && void 0 !== d?d:"",FF:f.z8a?"ads":"content"};g=! !f.M_;l=this.fW.rya(f.Ql,f.ak,!0);d=this.MCa.ndb(h,f.$0);k=this.hdc.X3b(f.kdc);n=g?this.RV.jdb(h,f.Zu,d):this.RV.S3b(h,f.Zu,f.media,d);h=this.Wlb.Y3b(h,f.Kw);p=h[0];q=this.RV.CDb(n) || n.find(function(B){return g?B.trackId === f.M_.vo:B.iy === f.n8[0].vo;}) || n[0];t=this.MCa.Ccc(q.Ai) || d.find(function(B){return g?B.trackId === f.M_.YR:B.iy === f.n8[0].jjb;}) || q.Ai[0];v=this.Wlb.U3b(f.Kw);u=f.zh;w=f.BGb;x=f.UE;y=f.dm;z=f.Zu.findIndex(function(B){return B.Ig == q.trackId;});A=f.Kw.findIndex(function(B){return B.Ig == p.trackId;});return {rw:v,Fg:l,pj:n,NC:h,Ai:d,GC:k,zh:u,V9b:w,BJ:x,dm:y,WKb:z,dLb:A,o8:p,EW:q,GW:t};};c.prototype.IVb=function(k,l,d){var f,h,g,n,p,q;f=this;n=this.fW.HVb(k.ab.Ql,k.ab.ak,d.ab.Ql,d.ab.ak);p=n.R9b;n=n.uZb;(0,m.aQ)(k.ab).Ql=p;(0,m.aQ)(k.ab).ak=n;l.Fg=this.fW.rya(p,n,!0);q={Wf:null !== (g=null === (h=d.ab.aO) || void 0 === h?void 0:h.fp) && void 0 !== g?g:"",FF:d.ab.z8a?"ads":"content"};d=d.ab;h=d.Zu;d.$0.forEach(function(t){var v;if(t.Wi){v=f.Pfb(k.ab.$0,l.Ai,t,function(u){return f.MCa.ndb(q,[u])[0];});v && l.pj.forEach(function(u){var w;u=u.Ai;w=u.findIndex(function(x){return x.trackId === v.trackId;});-1 !== w && (u[w]=v);});}});h.forEach(function(t){t.Wi && f.Pfb(k.ab.Zu,l.pj,t,function(v){return f.RV.jdb(q,[v],l.Ai)[0];});});return {ja:k,Qc:l};};c.prototype.f9b=function(k,l){return this.RV.WOb(k,l);};c.prototype.Pfb=function(k,l,d,f){var h,g,n,p;h=k.findIndex(function(q){return q.Ig === d.Ig;});g=-1 !== h?k[h]:void 0;n=l.findIndex(function(q){return q.trackId === d.Ig;});p=-1 !== n?l[n]:void 0;if(g && !g.Wi && p && !p.Wi)return (f=f(d),k[h]=d,l[n]=f);};b.aMa=c;},function(r,b){function a(c,m,k){this.log=c;this.j=m;this.cDa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.ySa=void 0;a.prototype.X3b=function(c){var m;m=this;c=(c || []).filter(function(k){return k.urls && 0 < k.urls.length;}).map(function(k){return m.cDa(m.j,k.id,k.height,k.width,k.x4b,k.y4b,k.size,k.Mv,{unknown:k.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(k,l){return k.size - l.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.ySa=a;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q){n=k.BT.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;m=a(476);k=a(492);l=a(103);d=a(89);f=a(133);h=a(3);g=a(37);ka(c,k.BT);c.prototype.jdb=function(n,p,q){var t,v;t=this;v=this.config.Jea;p=p.filter(function(u){var w,x;w=u.eF || !u.Wi || u.streams && 0 < u.streams.length;w || t.log.warn("Audio track is missing streams",t.i$(u));x=0 === v.length || 0 <= v.indexOf(u.Bi);x || t.log.warn("Audio track is not supported",t.i$(u));return w && x;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(u){return t.hdb(n,u,t.CQb(u,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.S3b=function(n,p,q,t){var v,u,w,x;v=this;u=na((0,l.hw)(function(y){return y.eF;},p));p=u.next().value;u=u.next().value;u=na((0,l.hw)(function(y){return y.streams && 0 < y.streams.length;},u));w=u.next().value;u.next().value.forEach(function(y){return v.log.warn("Audio track is missing streams",v.i$(y));});x=this.config.Jea;u=na((0,l.hw)(function(y){return 0 === x.length || 0 <= x.indexOf(y.Bi);},w));w=u.next().value;u.next().value.forEach(function(y){return v.log.warn("Audio track is not supported",v.i$(y));});p=[].concat(ia(w),ia(p)).map(function(y){return v.hdb(n,y,v.jSb(y.Ig,q,t));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.CDb=function(n){var p,q;p=this;q=this.config.Tra;if(q){if(n=na(n.filter(function(t){return t.xf == q || t.trackId == q;})).next().value)return n;}else if(this.j.l9 && (n=na(n.filter(function(t){return t.trackId == p.j.l9;})).next().value))return n;};c.prototype.WOb=function(n,p){this.config.yYa.forEach(function(q){var t,v,u;t=p.Zu.filter(function(w){return w.profile === q;}).reduce(function(w,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){w.add(y);});return w;},new Set());v=!1;u=n.ab.Zu.map(function(w){var x;if(w.profile === q){x=w.streams.filter(function(y){return t.has(y.bitrate);});if(x.length === w.streams.length)return w;v=!0;if(0 === x.length)throw new g.gd(h.W.ILa,h.T.Zmb);return Object.assign(Object.assign({},w),{streams:x});}return w;});v && (n.ab=Object.assign(Object.assign({},n.ab),{Zu:u}));});return n;};c.prototype.hdb=function(n,p,q){var t,v,u,w;w=p.Bi;n=Object.assign(Object.assign({},n),{type:d.jj.audio,dL:p.dL,variant:p.variant,trackId:p.Ig,iy:p.eS,Bi:f.G4[w.toLowerCase()] || f.Tq.dM,PF:w,xf:p.language,displayName:p.jF,$b:null !== (t=p.$b) && void 0 !== t?t:-1,Wi:null !== (v=p.Wi) && void 0 !== v?v:!0,channels:p.channels,omc:p.channels,Ai:q,yh:{Bcp47:p.language,TrackId:p.Ig},streams:[],isNative:p.isNative,Kr:p.eF,P0:p.P0});n.streams=this.mkb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.Ai.length});n.LGb=m.pFa[null === (u=n.streams[0]) || void 0 === u?void 0:u.Af];return n;};c.prototype.i$=function(n){return {language:n.jF,bcp47:n.language,type:n.Bi};};c.prototype.CQb=function(n,p){return p.filter(function(q){if(0 <= n.aMb.indexOf(q.iy))return !1;if(n.h1a){if(n.h1a !== q.iy && (q.Kr() || q.pq()))return !1;}else if(n.a2b){if(q.Kr() || q.pq())return !1;}else if(q.pq())return !1;return !0;});};c.prototype.jSb=function(n,p,q){return p.filter(function(t){return t.Qe.dc === n;}).map(function(t){return t.Qe.Lm;}).map(function(t){return q.find(function(v){return v.trackId === t;});}).filter(Boolean);};b.oFa=c;},function(r,b,a){var m,k,l,d;function c(f){return k.BT.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bTa=void 0;m=a(103);k=a(492);l=a(89);d=a(133);ka(c,k.BT);c.prototype.Y3b=function(f,h){var g,n;g=this;h=na((0,m.hw)(function(p){return p.streams && 0 < p.streams.length;},h));n=h.next().value;h.next().value.forEach(function(p){return g.log.warn("Video track is missing streams",{trackId:p.Ig});});h=n.map(function(p){var q;q=p.Bi;q=Object.assign(Object.assign({},f),{type:l.jj.video,trackId:p.Ig,iy:p.eS,Bi:d.G4[q.toLowerCase()] || d.Tq.dM,PF:q,streams:[],yh:{},B_:p.B_});q.streams=g.mkb(p.streams,q);g.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!h.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:h.length});return h;};c.prototype.U3b=function(f){var h;h=f.map(function(g){return g.B_;}).filter(Boolean);h=[].concat.apply([],ia(h)).map(function(g){return g.ca;});f=f.map(function(g){return g.Bqa;}).filter(Boolean).map(function(g){return g.ca;});return 0 < h.length?h:f;};b.bTa=c;},function(r,b,a){var m,k,l,d,f,h;function c(g,n){g=k.qf.call(this,g,"ManifestParserConfigImpl") || this;g.sh=n;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.YLa=void 0;r=a(0);m=a(1);k=a(46);l=a(34);d=a(45);f=a(108);h=a(52);ka(c,k.qf);Ua.Object.defineProperties(c.prototype,{Jea:{configurable:!0,enumerable:!0,get:function(){return [];}},Tra:{configurable:!0,enumerable:!0,get:function(){return "";}},Hoa:{configurable:!0,enumerable:!0,get:function(){return [];}},Goa:{configurable:!0,enumerable:!0,get:function(){return [];}},Xra:{configurable:!0,enumerable:!0,get:function(){return "";}},vua:{configurable:!0,enumerable:!0,get:function(){return 0;}},XR:{configurable:!0,enumerable:!0,get:function(){return this.sh.XR.fa(h.Rw);}},Ew:{configurable:!0,enumerable:!0,get:function(){return this.sh.Ew;}},zP:{configurable:!0,enumerable:!0,get:function(){return this.sh.zP;}},yYa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.cL,"supportedAudioTrackTypes")],a.prototype,"Jea",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Tra",null);r.__decorate([d.config(d.jDa,"cdnIdWhiteList")],a.prototype,"Hoa",null);r.__decorate([d.config(d.jDa,"cdnIdBlackList")],a.prototype,"Goa",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Xra",null);r.__decorate([d.config(d.HC,"imageSubsResolution")],a.prototype,"vua",null);r.__decorate([d.config(d.HC,"timedTextSimpleFallbackThreshold")],a.prototype,"XR",null);r.__decorate([d.config(d.cL,"timedTextProfiles")],a.prototype,"Ew",null);r.__decorate([d.config(d.cL,"imscLanguageList")],a.prototype,"zP",null);r.__decorate([d.config(d.cL,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"yYa",null);a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Nm)),r.__param(1,(0,m.l)(f.WG))],a);b.YLa=a;},function(r,b){function a(c){this.Qc=c;this.Qb=JSON.stringify(this.uSb());}Object.defineProperty(b,"__esModule",{value:!0});b.dMa=void 0;a.prototype.uSb=function(){var c;c=[];(!this.Qc.Fg || 0 >= this.Qc.Fg.length) && c.push({error:"No CDN."});this.Qc.EW || c.push({error:"No default audio track.",foundTracks:this.Hsa(this.Qc.pj)});this.Qc.o8 || c.push({error:"No default video track.",foundTracks:this.Hsa(this.Qc.NC)});this.Qc.GW || c.push({error:"No default subtitle track.",foundTracks:this.Hsa(this.Qc.Ai)});return c;};a.prototype.Hsa=function(c){return c && 0 < c.length?c.map(function(m){return m.trackId;}):"No tracks found.";};b.dMa=a;},function(r,b,a){var m,k,l,d,f;function c(h,g){this.g$a=h;this.YZb=g;}Object.defineProperty(b,"__esModule",{value:!0});b.WLa=void 0;r=a(0);m=a(1);k=a(497);l=a(498);d=a(37);f=a(3);c.prototype.create=function(h){var g,n,p,q;g=this;if(h && !this.tXb(h)){if(this.AXb(h))throw d.gd.Gfc(f.W.UL,f.T.Aub,h);q=this.g$a();q.Xma(h.links);this.YZb.NO(h);return {ab:h,tj:q,gva:!1,fva:!1,$u:null !== (p=null === (n=h.$u) || void 0 === n?void 0:n.map(function(t){var v;v=g.g$a();v.Xma(t.links);return {ab:t,tj:v,gva:!1,fva:!1,$u:[]};})) && void 0 !== p?p:[]};}};c.prototype.AXb=function(h){return ("type" in h) && "muxed" === h.type;};c.prototype.tXb=function(h){return ("runtime" in h) && ! !h.runtime;};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.qOa)),r.__param(1,(0,m.l)(l.VLa))],a);b.WLa=a;},function(r,b,a){var m,k;function c(l){this.TNb=l;this.S$a={Go:"drmType",enc:"drmVersion",expiration:"expiration",I:"movieId",ep:"packageId",duration:"duration",zh:"playbackContextId",n8:["defaultTrackOrderList",{fQ:"mediaId",qS:"videoTrackId",jjb:"subtitleTrackId",vo:"audioTrackId",Rpc:"preferenceOrder"}],inc:["eligibleABTestMap",{wk:k.wk}],Vlc:["badgingInfo",{Ymc:"dolbyDigitalAudio",Znc:"hdrVideo",Zmc:"dolbyVisionVideo",orc:"ultraHdVideo","3dVideo":"3dVideo",Xmc:"dolbyAtmosAudio",Nlc:"assistiveAudio",sqc:"sdVideo",Ync:"hdVideo"}],type:"type",Qlc:["audioTextShortcuts",{id:"id",vo:"audioTrackId",Yqc:"textTrackId"}],Kpc:"partiallyHydrated",vab:"maxRecommendedAudioRank",wab:"maxRecommendedTextRank",dm:"drmContextId",NUb:"hasDrmProfile",MUb:"hasClearProfile",UE:"hasDrmStreams",u$:"hasClearStreams",ak:["locations",{$b:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Ql:["servers",{id:"id",name:"name",type:"type",$b:"rank",I$a:"lowgrade",jMb:["dns",{host:"host",SWb:"ipv4",TWb:"ipv6",LPb:"forceLookup"}],key:"key"}],Zu:["audio_tracks",{type:"type",dL:"subType",variant:"variant",Bi:"trackType",Ig:"new_track_id",eS:"track_id",k6b:"profileType",cbc:"stereo",profile:"profile",channels:"channels",language:"language",IFb:"channelsFormat",P0:"surroundFormatLabel",jF:"languageDescription",aMb:"disallowedSubtitleTracks",h1a:"defaultTimedText",isNative:"isNative",eF:"isNoneTrack",streams:["streams",{Fo:"downloadable_id",size:"size",zI:"content_profile",Bi:"trackType",bitrate:"bitrate",Xj:"isDrm",urls:["urls",{wo:"cdn_id",url:"url"}],g1b:"new_stream_id",type:"type",channels:"channels",IFb:"channelsFormat",P0:"surroundFormatLabel",language:"language",Plc:"audioKey",P0b:["moov",{size:"size",offset:"offset"}],Vy:["sidx",{size:"size",offset:"offset"}],yC:["ssix",{size:"size",offset:"offset"}],Fj:"tags",kAa:"representationId"}],LGb:"codecName",PF:"rawTrackType",id:"id",$b:"rank",Wi:"hydrated",a2b:"offTrackDisallowed"}],Kw:["video_tracks",{Bi:"trackType",Ig:"new_track_id",type:"type",eS:"track_id",NUb:"hasDrmProfile",MUb:"hasClearProfile",UE:"hasDrmStreams",u$:"hasClearStreams",mJ:"groupName",streams:["streams",{Fo:"downloadable_id",size:"size",zI:"content_profile",Bi:"trackType",HI:"drmHeaderId",bitrate:"bitrate",Xj:"isDrm",urls:["urls",{wo:"cdn_id",url:"url"}],g1b:"new_stream_id",type:"type",Mpc:"peakBitrate",TLb:"dimensionsCount",ULb:"dimensionsLabel",Ddb:"pix_w",Cdb:"pix_h",cgb:"res_w",qAa:"res_h",pKb:"crop_x",qKb:"crop_y",oKb:"crop_w",nKb:"crop_h",d4a:"framerate_value",c4a:"framerate_scale",zib:"startByteOffset",kb:"vmaf",P0b:["moov",{size:"size",offset:"offset"}],Vy:["sidx",{size:"size",offset:"offset"}],yC:["ssix",{size:"size",offset:"offset"}],ds:["segmentVmaf",{offset:"offset",kb:"vmaf"}],Fj:"tags",kAa:"representationId"}],k6b:"profileType",cbc:"stereo",profile:"profile",TLb:"dimensionsCount",ULb:"dimensionsLabel",Kqc:["snippets",{wk:[k.wk,{Jqc:"snippetSpec",qa:"startTimeMs",sa:"endTimeMs"}]}],Bqa:["drmHeader",{ca:"bytes",eGb:"checksum",HI:"drmHeaderId",qq:"keyId",wm:["resolution",{height:"height",width:"width"}]}],B_:["prkDrmHeaders",{ca:"bytes",eGb:"checksum",HI:"drmHeaderId",qq:"keyId",wm:["resolution",{height:"height",width:"width"}]}],Av:"flavor",joc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",Kya:"pixelAspectX",Lya:"pixelAspectY",Toc:"maxCroppedWidth",Soc:"maxCroppedHeight",Uoc:"maxCroppedX",Voc:"maxCroppedY",Xwa:"max_framerate_value",Wwa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",jpc:"minCroppedWidth",ipc:"minCroppedHeight",kpc:"minCroppedX",lpc:"minCroppedY",wh:["license",{MYb:"licenseResponseBase64",Ypc:"providerSessionToken",wqc:"secureStopExpected",dnc:"drmSessionId",links:["links",{}]}]}],aO:["cdnResponseData",{PK:"sessionABTestCell",fp:"pbcid"}],xo:["choiceMap",{Cd:"initialSegment",type:"type",L:"viewableId",M:["segments",{wk:[k.wk,{qa:"startTimeMs",sa:"endTimeMs",next:["next",{wk:[k.wk,{weight:"weight"}]}],Kb:"defaultNext",fq:"exitZones"}]}]}],Bo:["contentPlaygraph",{Z:["playgraph",{Cd:"initialSegment",M:["segments",{wk:[k.wk,{L:"viewableId",qa:"startTimeMs",sa:"endTimeMs",next:["next",{wk:[k.wk,{weight:"weight"}]}],Kb:"defaultNext"}]}]}],Pqc:["startIdent",{koc:"identToken",L:"viewableId"}]}],media:["media",{id:"id",Qe:["tracks",{dc:"AUDIO",Lm:"TEXT",Jb:"VIDEO"}]}],M_:["recommendedMedia",{qS:"videoTrackId",vo:"audioTrackId",YR:"timedTextTrackId"}],$0:["timedtexttracks",{Bi:"trackType",Ig:"new_track_id",type:"type",dL:"subType",variant:"variant",PF:"rawTrackType",jF:"languageDescription",language:"language",id:"id",eF:"isNoneTrack",maa:"isForcedNarrative",W1a:["downloadableIds",{}],AZa:["cdnlist",{id:"id",name:"name",type:"type",$b:"rank",I$a:"lowgrade",jMb:["dns",{host:"host",SWb:"ipv4",TWb:"ipv6",LPb:"forceLookup"}],key:"key"}],hDa:["ttDownloadables",{wk:[k.wk,{id:"id",size:"size",Xqc:"textKey",Xnc:"hashValue",Wnc:"hashAlgo",uoc:"isImage",ixa:"midxOffset",Zab:"midxSize",height:"height",width:"width",pv:["downloadUrls",{}],urls:["urls",{url:"url",wo:"cdn_id"}]}]}],paa:"isLanguageLeftToRight",Mv:"headIdentDuration",$b:"rank",Wi:"hydrated"}],kdc:["trickplays",{Fo:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",y4b:"pixelsAspectY",x4b:"pixelsAspectX",width:"width",height:"height",Mv:"headIdentDuration"}],kmb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],cnc:"dpsid",Sh:"isBranching",Drc:"viewableType",z8a:"isAd",OP:"isSupplemental",BGb:"clientIpAddress",urc:"urlExpirationDuration",Ooc:"manifestExpirationDuration",Qqc:["steeringAdditionalInfo",{Rqc:"steeringId",Ilc:"additionalGroupNames",Tqc:["streamingClientConfig",{}]}],Ke:"auxiliaryManifestToken",WP:["liveMetadata",{V1a:["downloadableIdToSegmentTemplateId",{wk:k.wk}],Pgb:["segmentTemplateIdToSegmentTemplate",{wk:[k.wk,{AYa:"availabilityStartTime",AWb:"initialization",media:"media",H5b:"presentationTimeOffset",wea:"startNumber",duration:"duration",X:"timescale"}]}]}],Zib:"streamingType"};this.ZZb=Object.assign(Object.assign({},this.S$a),{$u:["auxiliaryManifests",this.S$a],cI:["adverts",{Dg:["adBreaks",{rq:"locationMs",Oj:["ads",{id:"id",qa:"startTimeMs",sa:"endTimeMs",Rea:["timedAdEvents",{event:"event",tA:"adEventToken",zcc:"timeMs"}],sV:["actionAdEvents",{start:["start",{event:"event",tA:"adEventToken"}],complete:["complete",{event:"event",tA:"adEventToken"}]}]}],Lma:["actionAdBreakEvents",{complete:["complete",{event:"event",tA:"adEventToken"}]}]}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.ULa=void 0;r=a(0);m=a(1);k=a(220);c.prototype.NO=function(l){this.TNb.NO(l,this.ZZb);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.uIa))],a);b.ULa=a;},function(r,b,a){var m;function c(k,l,d,f,h){this.J6=this.Gn=this.UZ=this.TZ=m.dx;this.request=k;this.type=k.responseType;this.km=f;this.abort=l;this.timeout=d;this.J6=h;}Object.defineProperty(b,"__esModule",{value:!0});b.TJa=void 0;m=a(17);c.prototype.r$b=function(k){this.TZ=k;};c.prototype.y$b=function(k){this.UZ=k;};c.prototype.i$b=function(k){this.Gn=k;};b.TJa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A0a=void 0;b.A0a=function(a,c,m,k){return {iTb:function(){var l;l=a.ita();k.Mv && (l+=k.Mv);return l;},Ca:c,request:m,Mf:!1};};},function(r,b,a){var m,k,l,d;function c(f){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(f);}Object.defineProperty(b,"__esModule",{value:!0});b.Mub=void 0;m=a(0);r=a(113);k=a(1208);l=a(1213);d=a(1220);a=(function(f){function h(g,n){var p,q,t,v;t=f.call(this) || this;t.Bk=!0;t.DU=[];t.wx=0;t.UVa=!0;v=g.Mf || !1;t.Ra=g.Ca || console;t.Ru=g.request;t.sx=g.iTb;t.B5=null !== (p=g.Tnc) && void 0 !== p?p:function(u,w){return u - (null !== w && void 0 !== w?w:t.sx());};t.qh=null;t.Bk=!0;t.DU=[];t.UU=n.profile;t.$l=n.url;t.JH=n.Nd;t.TU=n.preferences;t.oU=n.sh;t.wx=t.JH || 0;t.UVa=null !== (q=n.aqc) && void 0 !== q?q:!0;g={url:t.$l,request:t.Ru,Nd:t.JH,xml:n.xml,preferences:t.TU,sh:t.oU,Ca:t.Ra,Mf:v,bufferSize:n.bufferSize,aw:n.aw,yza:n.yza || 0,YYa:n.YYa};if("nflx-cmisc" === t.UU)(g.offset=n.ixa,g.size=n.Zab,g.Yda=n.Yda,g.m2a=n.m2a,t.kd=new l(g));else if(c(t.UU) && "function" === typeof k)t.kd=new k(g);else throw Error("SubtitleManager: " + t.UU + " is an unsupported profile");t.kd.on("ready",function(){var u,w;u=! !n.xYa;t.Ra.info("ready event fired by subtitle stream");t.emit("ready");w=t.kd.fP.bind(t.kd);t.qh=new d(t.sx,w,t.B5,function(){return t.Bk;},t.Ra,n);if("dfxp-ls-sdh" === t.UU && "function" === typeof k)t.qh.on("stagesubtitle",t.Nac.bind(t));t.qh.on("showsubtitle",t.MBa.bind(t));t.qh.on("removesubtitle",t.Zza.bind(t));t.qh.on("underflow",t.op.bind(t));t.qh.on("bufferingComplete",t.$e.bind(t));u && (t.Ra.info("autostarting subtitles"),setTimeout(function(){t.Jw(t.sx());},10));});t.kd.on("error",t.emit.bind(t,"error"));return t;}m.__extends(h,f);h.prototype.start=function(){this.kd.start();};h.prototype.Ieb=function(){this.Bk || (this.Bk=!0,this.E2a(this.wx));};h.prototype.Jw=function(g){this.UVa && !this.Bk && 1E4 < Math.abs(g - this.wx) && (this.Ra.warn("Detected an unexpected pts jump larger than",1E4,"at",g,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Ieb());this.wx=g;this.Bk && (this.Bk=!1,this.Pac(g));null !== this.qh && (this.Udc(g),this.qh.Jw(g));};h.prototype.stop=function(){var g;this.Ra.info("stop called");this.Bk || this.pause();this.kd.removeAllListeners(["ready"]);null !== this.qh && this.qh.stop();g=this.DU.reduce(function(n,p){n.dib+=p.x0;n.T8+=p.U8 || 0;n.PWb.push(p);return n;},{dib:0,T8:0,PWb:[]});"object" === typeof this.kd && this.kd.close();this.Ra.info("metrics: " + JSON.stringify(g));return g;};h.prototype.pause=function(){var g;g=this.sx();this.Bk?this.Ra.warn("pause called on subtitle manager, but it was already paused!"):(this.Ra.info("pause called at " + g),this.Bk=!0,this.E2a(g));null !== this.qh && this.qh.pause();};h.prototype.g$=function(g,n){return "function" === typeof this.kd.g$?this.kd.g$(g,n):[];};h.prototype.Gv=function(g,n){return this.kd.Gv(g,n);};h.prototype.fP=function(g){return this.kd.fP(g);};h.prototype.UF=function(g){var p;function n(){p.Ra.info("bufferingComplete from setStreamStartPosition");p.emit("bufferingComplete");}p=this;"function" === typeof this.kd.UF?this.kd.UF(g,n):n();};h.prototype.fj=function(g,n){"function" === typeof this.kd.fj && this.kd.fj(g,n);};h.prototype.Gj=function(g,n){"function" === typeof this.kd.Gj && this.kd.Gj(g,n);};h.prototype.xsa=function(){return this.DU[this.DU.length - 1];};h.prototype.MBa=function(g){var n,p,q,u;p=0;this.Ra.info("show subtitle called at " + this.sx() + " for displayTime " + g.displayTime);this.emit("showsubtitle",g);q=this.xsa();q.DR || (q.DR={});if(c(this.UU))try{for(var t=m.__values(g.blocks),v=t.next();!v.done;v=t.next()){u=v.value;q.DR[u.id] || (p++,q.DR[u.id]=!0);}}catch(x){var w;w={error:x};}finally{try{v && !v.done && (n=t.return) && n.call(t);}finally{if(w)throw w.error;}}else q.DR[g.id] || (p++,q.DR[g.id]=!0);q.x0+=p;};h.prototype.Zza=function(g){this.Ra.info("remove subtitle called at " + this.sx() + " for remove time " + (g.displayTime + g.duration));this.emit("removesubtitle",g);};h.prototype.Nac=function(g){this.Ra.info("stage subtitle called at " + this.sx() + " for displayTime " + g.displayTime);this.emit("stagesubtitle",g);};h.prototype.op=function(){this.Ra.info("underflow fired by the subtitle timer");this.emit("underflow");};h.prototype.$e=function(){this.Ra.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};h.prototype.Pac=function(g){this.Ra.info("creating a new subtitle interval at " + g);this.DU.push({ba:g,x0:0});};h.prototype.Udc=function(g){var n;n=this.xsa();n && (n.Nva=g);};h.prototype.E2a=function(g){var n;this.Ra.info("ending subtitle interval at " + g);n=this.xsa();n && (n.Ma=g,n.Ma < n.ba && (this.Ra.warn("correcting for interval where endPts is smaller than startPts"),n.ba=0 < n.Ma?n.Ma - 1:0),n.U8=this.kd.Gv(n.ba,n.Ma),delete n.DR,n.U8 > n.x0 && n.Nva && 500 > n.Ma - n.Nva && (n.U8=this.kd.Gv(n.ba,n.Nva)),this.Ra.info("showed " + n.x0 + " during this interval"),this.Ra.info("expected " + n.U8 + " for this interval"));};return h;})(r.EventEmitter);b.Mub=a;b.default=a;},function(r,b,a){var u,w,x,y,z,A,B,C,D;function c(F){var G,E,H,L,K;G=F.preferences;E=F.sh;H=F.Nd;L=F.xml;K=F.Ca;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.ue=this.pla=null;this.TU="object" === typeof G?F.preferences:{};this.oU="object" === typeof E?F.sh:{};this.ND="number" === typeof H?F.Nd:0;this.VH="string" === typeof L?F.xml:"";this.Ra="object" === typeof K?F.Ca:D;this.Ru=F.request;this.$l=F.url;this.mH=[];this.wx=this.ND;this.qh=null;this.Yla=this.XVa=!1;this.Hvb=F.yza || 0;}function m(F,G){return F && "object" === typeof F[G] && null !== F[G]?F[G]:{};}function k(F,G){return F !== G && !(F && 0 === Object.keys(F).length && G && 0 === Object.keys(G).length);}function l(){var F,G,E;F=this;G=F.VH.indexOf("<p");if(-1 < G){E=F.VH.slice(0,G);h(E,function(H,L){null !== H?(H.boc=E,F.emit("error",H)):(F.pla=L,F.ue=new x(F.VH,L.tickRate),f.call(F,F.ND));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,G){var E;E=F.filter(function(H){return H.startTime <= G && G <= H.endTime;});F=F.filter(function(H){return H.startTime > G;});return 0 < F.length?E.concat([F[0]]):E;}function f(F){var G,E,H,L,K,I,R;G=this;E=G.pla;H=0;L=[];K=E.defaultStyle?[E.defaultStyle]:[];G.Ra.info("parsing the next 5 entries...");I=G.ue.JSb(F);G.Ra.info(I);R=w.ug(!0);R.onerror=function(O){O.xml=I;G.emit("error",O);};R.onend=function(){var O;O=G.mH.reduce(function(J,M){M=M.blocks.reduce(function(P,S){return P.concat([S.id]);},[]);return J.concat(M);},[]);L.forEach(function(J){var M;if(-1 === O.indexOf(J.id)){M=J && J.blocks && J.blocks.filter(function(P){return 0 < P.textNodes.length;});M && 0 < M.length && (J.blocks=M,G.mH.push(J));}});G.Yla=!1;G.XVa || (G.XVa=!0,G.emit("ready"));};R.ontext=function(O){("" !== O.trim() || O.match(/ +/)) && q(q(L).blocks).textNodes.push({text:O.match(/ +/)?O:O.trim(),style:q(K),lineBreaks:H});H=0;};R.onclosetag=function(){"undefined" !== typeof R.tag.attributes.style && K.pop();};R.onopentag=function(O){var J,M,P,S,T;J=O.attributes;M=O.name;O=E.tickRate;if("p" === M){H=0;M=J["xml:id"];J.style && K.push(J.style);P=Math.floor(parseInt(J.begin) / O * 1E3);if(0 === L.length || q(L).displayTime !== P){P=L.push;S={};T=parseInt(J.begin) / O;O=parseInt(J.end) / O;S.id=M;S.startTime=Math.floor(1E3 * T);S.endTime=Math.floor(1E3 * O);S.style=J.style;S.region=J.region;S.displayTime=S.startTime;S.duration=S.endTime - S.startTime;S.extent=J["tts:extent"] || null;S.origin=J["tts:origin"] || null;S.latestEndSoFar=0 > S.endTime?0:S.endTime;S.blocks=[{textNodes:[],region:S.region,id:M,extent:S.extent,origin:S.origin}];P.call(L,S);}else q(L).blocks.push({textNodes:[],region:J.region,id:M,extent:J["tts:extent"] || null,origin:J["tts:origin"] || null});}else "span" === M?K.push(J.style):"br" === M && H++;};R.write("<entries>").write(I).write("</entries>").close();}function h(F,G){var E,H,L,K,I,R;E=w.ug(!0);H={};L=[];K=null;I=[];R={};E.onerror=function(O){G(O,null);};E.onend=function(){G(null,H);};E.onclosetag=function(){L.pop();};E.onopentag=function(O){var J,M,P,S;J=O.attributes;M=O.name;P=H.regions;S=H.styles;L.push(O);if("tt" === M)H=g(J);else if("body" === M)"undefined" !== typeof J.style && (H.defaultStyle=J.style,I.push(J.style));else if("initial" === M && p(L,"styling"))R=n(J,A);else if("style" === M && p(L,"styling")){P=J["xml:id"];O=R;J=n(J,A);if(Object.keys(O).length)for(var T in O){"undefined" === typeof J[T] && (J[T]=O[T]);}S[P]=J;}else "style" === M && p(L,"region")?(S=Object.keys(J)[0],"string" === typeof S && (P[K][S.slice(4)]=J[S])):"region" === M && p(L,"layout") && (K=J["xml:id"],P[K]=n(J,C));};setTimeout(function(){var O;for(E.write(F);0 < L.length && !E.error;){O=q(L).name;E.write("</" + O + ">");}E.close();},10);}function g(F){var G;F=n(F,B);if("string" === typeof F.extent){G=F.extent.split(" ").map(function(E){return parseInt(E,10);});F.width=G[0];F.height=G[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(G=F.cellResolution.split(" ").map(function(E){return parseInt(E,10);}),F.cellResolution={},F.cellResolution.x=G[0],F.cellResolution.y=G[1]):F.cellResolution={x:52,y:19};return F;}function n(F,G){var E;E={};G.forEach(function(H){"undefined" !== typeof F["tts:" + H]?E[H]=F["tts:" + H]:"undefined" !== typeof F["ttp:" + H]?E[H]=F["ttp:" + H]:"undefined" !== typeof F["ebutts:" + H]?E[H]=F["ebutts:" + H]:"undefined" !== typeof F["xml:" + H] && (E[H]=F["xml:" + H]);});E.styles={};E.regions={};return E;}function p(F,G){var E;for(E=F.length - 1;0 <= E;E--){if(F[E].name === G)return !0;}return !1;}function q(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function t(F,G){return {lineBreaks:G.lineBreaks,text:G.text,style:z.ZJb(F[G.style] || ({}),this.oU,this.TU),id:G.id};}function v(F,G){var E,H;E=this;H=F.styles || ({});return {startTime:G.startTime,id:G.id,endTime:G.endTime,displayTime:G.displayTime,duration:G.duration,blocks:G.blocks.map(function(L){var K;K=y.VJb(F,L);return {textNodes:L.textNodes.map(t.bind(E,H)),region:K,id:L.id};})};}u=a(113).EventEmitter;w=a(1209);x=a(1210);y=a(1211);z=a(1212);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction").split(" ");B=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");C=("backgroundColor displayAlign extent origin writingMode multiRowAlign").split(" ");D={info:function(){}};b=Object.create(u.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Ra.info("incremental text stream created, starting at pts " + F.ND);F.VH?l.call(F):F.Ru({url:F.$l},function(G,E){F.VH=E;l.call(F);});};b.fP=function(F){var G,E,H;G=this;F < G.wx - G.Hvb && (G.mH=[]);E=G.mH;H=0 < E.length?E[E.length - 1].startTime:F;G.wx=F;for(!G.qh && 5 > G.mH.length && !G.Yla && (G.Ra.info("buffer size: " + G.mH.length + "; minimum: 5"),G.Yla=!0,G.qh=setTimeout(function(){G.qh=null;f.call(G,H + 1);},10));0 < E.length && E[0].endTime < F;){E.shift();}E=d(E,F).map(v.bind(G,G.pla));F < G.ue.YOb() && 0 === E.length && (E=null);return E;};b.Gv=function(F,G){return this.ue?this.ue.Gv(F,G):0;};b.close=function(){};b.trc=function(F){var G;G=m(F,"preferences");F=m(F,"defaults");return k(G,this.TU) || k(F,this.oU)?(this.TU=G,this.oU=F,!0):!1;};r.exports=c;},function(r,b){(function(a){var x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O;function c(){}function m(J,M){if(!(this instanceof m))return new m(J,M);for(var P=0,S=x.length;P < S;P++){this[x[P]]="";}this.q=this.c=this.Io=this.textNode="";this.TYa=a.fia;this.cp=M || ({});this.cp.G$a=this.cp.G$a || this.cp.Hoc;this.rwa=this.cp.G$a?"toLowerCase":"toUpperCase";this.Fj=[];this.closed=this.hW=this.qR=!1;this.tag=this.error=null;this.Un=! !J;this.Ybb=!(!J && !this.cp.Ybb);this.state=O.mga;this.vz=(this.$ib=this.cp.$ib)?Object.create(a.gvb):Object.create(a.vz);this.XD=[];this.cp.K1 && (this.Wk=Object.create(K));if(this.$ea=!1 !== this.cp.position)this.position=this.line=this.iW=0;this.onready && this.onready(void 0);}function k(J,M){var P;if(!(this instanceof k))return new k(J,M);c.apply(this);this.gA=new m(J,M);this.readable=this.writable=!0;P=this;this.gA.onend=function(){P.emit("end");};this.gA.onerror=function(S){P.emit("error",S);P.gA.error=null;};y.forEach(function(S){Object.defineProperty(P,"on" + S,{get:function(){return P.gA["on" + S];},set:function(T){if(!T)return (P.removeAllListeners(S),P.gA["on" + S]=T);P.on(S,T);},enumerable:!0,configurable:!1});});}function l(J){return J.split("").reduce(function(M,P){M[P]=!0;return M;},{});}function d(J,M){return "[object RegExp]" === Object.prototype.toString.call(J)?! !M.match(J):J[M];}function f(J,M,P){J.textNode && h(J);J[M] && J[M](P);}function h(J){J.textNode=g(J.cp,J.textNode);J.textNode && J.ontext && J.ontext(J.textNode);J.textNode="";}function g(J,M){J.trim && (M=M.trim());J.normalize && (M=M.replace(/\s+/g," "));return M;}function n(J,M){h(J);J.$ea && (M+="\nLine: " + J.line + "\nColumn: " + J.iW + "\nChar: " + J.c);M=Error(M);J.error=M;J.onerror && J.onerror(M);return J;}function p(J){J.qR && !J.hW && q(J,"Unclosed root tag");J.state !== O.mga && J.state !== O.nga && J.state !== O.Lm && n(J,"Unexpected end");h(J);J.c="";J.closed=!0;J.onend && J.onend(void 0);m.call(J,J.Un,J.cp);return J;}function q(J,M){if("object" !== typeof J || !(J instanceof m))throw Error("bad call to strictFail");J.Un && n(J,M);}function t(J,M){var P,S;P=0 > J.indexOf(":")?["",J]:J.split(":");S=P[0];P=P[1];M && "xmlns" === J && (S="xmlns",P="");return {prefix:S,local:P};}function v(J){var M,P,S;J.Un || (J.Pj=J.Pj[J.rwa]());if(-1 !== J.XD.indexOf(J.Pj) || J.tag.attributes.hasOwnProperty(J.Pj))return J.Pj=J.Qj="";if(J.cp.K1){M=t(J.Pj,!0);P=M.local;if("xmlns" === M.prefix)if("xml" === P && J.Qj !== H)q(J,"xml: prefix must be bound to " + H + "\nActual: " + J.Qj);else if("xmlns" === P && J.Qj !== L)q(J,"xmlns: prefix must be bound to " + L + "\nActual: " + J.Qj);else {M=J.tag;S=J.Fj[J.Fj.length - 1] || J;M.Wk === S.Wk && (M.Wk=Object.create(S.Wk));M.Wk[P]=J.Qj;}J.XD.push([J.Pj,J.Qj]);}else (J.tag.attributes[J.Pj]=J.Qj,f(J,"onattribute",{name:J.Pj,value:J.Qj}));J.Pj=J.Qj="";}function u(J,M){var P,S,U,W,fa,sa,wa;if(J.cp.K1){P=J.tag;S=t(J.tagName);P.prefix=S.prefix;P.local=S.local;P.uri=P.Wk[S.prefix] || "";P.prefix && !P.uri && (q(J,"Unbound namespace prefix: " + JSON.stringify(J.tagName)),P.uri=S.prefix);S=J.Fj[J.Fj.length - 1] || J;P.Wk && S.Wk !== P.Wk && Object.keys(P.Wk).forEach(function(Ba){f(J,"onopennamespace",{prefix:Ba,uri:P.Wk[Ba]});});S=0;for(var T=J.XD.length;S < T;S++){U=J.XD[S];W=U[0];fa=U[1];sa=t(W,!0);U=sa.prefix;wa="" == U?"":P.Wk[U] || "";fa={name:W,value:fa,prefix:U,local:sa.local,uri:wa};U && "xmlns" != U && !wa && (q(J,"Unbound namespace prefix: " + JSON.stringify(U)),fa.uri=U);J.tag.attributes[W]=fa;f(J,"onattribute",fa);}J.XD.length=0;}J.tag.xoc=! !M;J.qR=!0;J.Fj.push(J.tag);f(J,"onopentag",J.tag);M || (J.state=J.Ybb || "script" !== J.tagName.toLowerCase()?O.Lm:O.iM,J.tag=null,J.tagName="");J.Pj=J.Qj="";J.XD.length=0;}function w(J){var M,P,T;if(J.tagName){if(J.el){if("script" !== J.tagName){J.el+="</" + J.tagName + ">";J.tagName="";J.state=O.iM;return;}f(J,"onscript",J.el);J.el="";}M=J.Fj.length;P=J.tagName;J.Un || (P=P[J.rwa]());for(var S=P;M--;){if(J.Fj[M].name !== S)q(J,"Unexpected close tag");else break;}if(0 > M)(q(J,"Unmatched closing tag: " + J.tagName),J.textNode+="</" + J.tagName + ">");else {J.tagName=P;for(P=J.Fj.length;P-- > M;){T=J.tag=J.Fj.pop();J.tagName=J.tag.name;f(J,"onclosetag",J.tagName);for(var U in T.Wk){;}S=J.Fj[J.Fj.length - 1] || J;J.cp.K1 && T.Wk !== S.Wk && Object.keys(T.Wk).forEach(function(W){f(J,"onclosenamespace",{prefix:W,uri:T.Wk[W]});});}0 === M && (J.hW=!0);J.tagName=J.Qj=J.Pj="";J.XD.length=0;}}else (q(J,"Weird empty close tag."),J.textNode+="</>");J.state=O.Lm;}a.ug=function(J,M){return new m(J,M);};a.jkc=m;a.kkc=k;a.x0a=function(J){return new k(J,void 0);};a.fia=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Se=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(J){function M(){this.__proto__=J;}M.prototype=J;return new M();});Object.getPrototypeOf || (Object.getPrototypeOf=function(J){return J.__proto__;});Object.keys || (Object.keys=function(J){var M,P;M=[];for(P in J){J.hasOwnProperty(P) && M.push(P);}return M;});m.prototype={end:function(){p(this);},write:function(J){var T,U,W,fa,sa,wa;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === J)return p(this);if(this.error)throw this.error;for(var M=0,P;this.c=P=J.charAt(M++);){switch((this.$ea && (this.position++,"\n" === P?(this.line++,this.iW=0):this.iW++),this.state)){case O.mga:if((this.state=O.nga,"\ufeff" === P))continue;case O.nga:"<" === P?(this.state=O.Dia,this.iCa=this.position):d(z,P) || (q(this,"Non-whitespace before first tag."),this.textNode=P,this.state=O.Lm);continue;case O.Lm:if(this.qR && !this.hW){for(var S=M - 1;P && "<" !== P && "&" !== P;){(P=J.charAt(M++)) && this.$ea && (this.position++,"\n" === P?(this.line++,this.iW=0):this.iW++);}this.textNode+=J.substring(S,M - 1);}"<" !== P || this.qR && this.hW && !this.Un?(d(z,P) || this.qR && !this.hW || q(this,"Text data outside of root node."),"&" === P?this.state=O.Yja:this.textNode+=P):(this.state=O.Dia,this.iCa=this.position);continue;case O.iM:"<" === P?this.state=O.PQa:this.el+=P;continue;case O.PQa:"/" === P?this.state=O.Ega:(this.el+="<" + P,this.state=O.iM);continue;case O.Dia:"!" === P?(this.state=O.Eja,this.eu=""):d(z,P) || (d(I,P)?(this.state=O.qNa,this.tagName=P):"/" === P?(this.state=O.Ega,this.tagName=""):"?" === P?(this.state=O.RNa,this.cda=this.sK=""):(q(this,"Unencoded <"),this.iCa + 1 < this.position && (P=Array(this.position - this.iCa).join(" ") + P),this.textNode+="<" + P,this.state=O.Lm));continue;case O.Eja:(this.eu + P).toUpperCase() === G?(f(this,"onopencdata"),this.state=O.f2,this.bn=this.eu=""):"--" === this.eu + P?(this.state=O.i2,this.eu=this.gn=""):(this.eu + P).toUpperCase() === E?(this.state=O.n2,(this.doctype || this.qR) && q(this,"Inappropriately located doctype declaration"),this.eu=this.doctype=""):">" === P?(f(this,"onsgmldeclaration",this.eu),this.eu="",this.state=O.Lm):(d(C,P) && (this.state=O.SQa),this.eu+=P);continue;case O.SQa:P === this.q && (this.state=O.Eja,this.q="");this.eu+=P;continue;case O.n2:">" === P?(this.state=O.Lm,f(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=P,"[" === P?this.state=O.Kga:d(C,P) && (this.state=O.YGa,this.q=P));continue;case O.YGa:this.doctype+=P;P === this.q && (this.q="",this.state=O.n2);continue;case O.Kga:this.doctype+=P;"]" === P?this.state=O.n2:d(C,P) && (this.state=O.XGa,this.q=P);continue;case O.XGa:this.doctype+=P;P === this.q && (this.state=O.Kga,this.q="");continue;case O.i2:"-" === P?this.state=O.bGa:this.gn+=P;continue;case O.bGa:"-" === P?(this.state=O.aGa,(this.gn=g(this.cp,this.gn)) && f(this,"oncomment",this.gn),this.gn=""):(this.gn+="-" + P,this.state=O.i2);continue;case O.aGa:">" !== P?(q(this,"Malformed comment"),this.gn+="--" + P,this.state=O.i2):this.state=O.Lm;continue;case O.f2:"]" === P?this.state=O.TFa:this.bn+=P;continue;case O.TFa:"]" === P?this.state=O.UFa:(this.bn+="]" + P,this.state=O.f2);continue;case O.UFa:">" === P?(this.bn && f(this,"oncdata",this.bn),f(this,"onclosecdata"),this.bn="",this.state=O.Lm):"]" === P?this.bn+="]":(this.bn+="]]" + P,this.state=O.f2);continue;case O.RNa:"?" === P?this.state=O.Pia:d(z,P)?this.state=O.Oia:this.cda+=P;continue;case O.Oia:if(!this.sK && d(z,P))continue;else "?" === P?this.state=O.Pia:this.sK+=P;continue;case O.Pia:">" === P?(f(this,"onprocessinginstruction",{name:this.cda,body:this.sK}),this.cda=this.sK="",this.state=O.Lm):(this.sK+="?" + P,this.state=O.Oia);continue;case O.qNa:if(d(R,P))this.tagName+=P;else {this.Un || (this.tagName=this.tagName[this.rwa]());S=this.Fj[this.Fj.length - 1] || this;T=this.tag={name:this.tagName,attributes:{}};this.cp.K1 && (T.Wk=S.Wk);this.XD.length=0;">" === P?u(this):"/" === P?this.state=O.Z3:(!d(z,P) && q(this,"Invalid character in tag name"),this.state=O.AL);}continue;case O.Z3:">" === P?(u(this,!0),w(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=O.AL);continue;case O.AL:if(d(z,P))continue;else ">" === P?u(this):"/" === P?this.state=O.Z3:d(I,P)?(this.Pj=P,this.Qj="",this.state=O.Q1):q(this,"Invalid attribute name");continue;case O.Q1:"=" === P?this.state=O.Sfa:">" === P?(q(this,"Attribute without value"),this.Qj=this.Pj,v(this),u(this)):d(z,P)?this.state=O.gEa:d(R,P)?this.Pj+=P:q(this,"Invalid attribute name");continue;case O.gEa:if("=" === P)this.state=O.Sfa;else if(d(z,P))continue;else (q(this,"Attribute without value"),this.Qj=this.tag.attributes[this.Pj]="",f(this,"onattribute",{name:this.Pj,value:""}),this.Pj="",">" === P?u(this):d(I,P)?(this.Pj=P,this.state=O.Q1):(q(this,"Invalid attribute name"),this.state=O.AL));continue;case O.Sfa:if(d(z,P))continue;else d(C,P)?(this.q=P,this.state=O.Vfa):(q(this,"Unquoted attribute value"),this.state=O.Wfa,this.Qj=P);continue;case O.Vfa:if(P !== this.q){"&" === P?this.state=O.Tfa:this.Qj+=P;continue;}v(this);this.q="";this.state=O.hEa;continue;case O.hEa:d(z,P)?this.state=O.AL:">" === P?u(this):"/" === P?this.state=O.Z3:d(I,P)?(q(this,"No whitespace between attributes"),this.Pj=P,this.Qj="",this.state=O.Q1):q(this,"Invalid attribute name");continue;case O.Wfa:if(!d(F,P)){"&" === P?this.state=O.Ufa:this.Qj+=P;continue;}v(this);">" === P?u(this):this.state=O.AL;continue;case O.Ega:if(this.tagName)">" === P?w(this):d(R,P)?this.tagName+=P:this.el?(this.el+="</" + this.tagName,this.tagName="",this.state=O.iM):(!d(z,P) && q(this,"Invalid tagname in closing tag"),this.state=O.ZFa);else if(d(z,P))continue;else d(I,P)?this.tagName=P:this.el?(this.el+="</" + P,this.state=O.iM):q(this,"Invalid tagname in closing tag.");continue;case O.ZFa:if(d(z,P))continue;">" === P?w(this):q(this,"Invalid characters in closing tag");continue;case O.Yja:case O.Tfa:case O.Ufa:switch(this.state){case O.Yja:(U=O.Lm,W="textNode");break;case O.Tfa:U=O.Vfa;W="attribValue";break;case O.Ufa:(U=O.Wfa,W="attribValue");}if(";" === P){P=W;S=this[P];T=this.Io;fa=T.toLowerCase();sa="";if(this.vz[T])T=this.vz[T];else if(this.vz[fa])T=this.vz[fa];else {T=fa;if("#" === T.charAt(0))if("x" === T.charAt(1)){T=T.slice(2);wa=parseInt(T,16);sa=wa.toString(16);}else (T=T.slice(1),wa=parseInt(T,10),sa=wa.toString(10));T=T.replace(/^0+/,"");T=sa.toLowerCase() !== T?(q(this,"Invalid character entity"),"&" + this.Io + ";"):String.fromCodePoint(wa);}this[P]=S + T;this.Io="";this.state=U;}else d(D,P)?this.Io+=P:(q(this,"Invalid character entity"),this[W]+="&" + this.Io + P,this.Io="",this.state=U);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.TYa){J=Math.max(a.fia,10);P=M=0;for(U=x.length;P < U;P++){W=this[x[P]].length;if(W > J)switch(x[P]){case "textNode":h(this);break;case "cdata":f(this,"oncdata",this.bn);this.bn="";break;case "script":f(this,"onscript",this.el);this.el="";break;default:n(this,"Max buffer length exceeded: " + x[P]);}M=Math.max(M,W);}this.TYa=a.fia - M + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.bn && (f(this,"oncdata",this.bn),this.bn="");"" !== this.el && (f(this,"onscript",this.el),this.el="");}};y=a.Se.filter(function(J){return "error" !== J && "end" !== J;});k.prototype=Object.create(c.prototype,{constructor:{value:k}});k.prototype.write=function(J){this.gA.write(J.toString());this.emit("data",J);return !0;};k.prototype.end=function(J){J && J.length && this.write(J);this.gA.end();return !0;};k.prototype.on=function(J,M){var P;P=this;P.gA["on" + J] || -1 === y.indexOf(J) || (P.gA["on" + J]=function(){var S;S=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);S.splice(0,0,J);P.emit.apply(P,S);});return c.prototype.on.call(P,J,M);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";C="'\"";D=A + B + "#";F=z + ">";G="[CDATA[";E="DOCTYPE";H="http://www.w3.org/XML/1998/namespace";L="http://www.w3.org/2000/xmlns/";K={xml:H,K1:L};z=l(z);A=l(A);B=l(B);I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;C=l(C);D=l(D);F=l(F);O=0;a.pD={mga:O++,nga:O++,Lm:O++,Yja:O++,Dia:O++,Eja:O++,SQa:O++,n2:O++,YGa:O++,Kga:O++,XGa:O++,dhc:O++,i2:O++,bGa:O++,aGa:O++,f2:O++,TFa:O++,UFa:O++,RNa:O++,Oia:O++,Pia:O++,qNa:O++,Z3:O++,AL:O++,Q1:O++,gEa:O++,Sfa:O++,Vfa:O++,hEa:O++,Wfa:O++,Tfa:O++,Ufa:O++,Ega:O++,ZFa:O++,iM:O++,PQa:O++};a.gvb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.vz={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.vz).forEach(function(J){var M;M=a.vz[J];M="number" === typeof M?String.fromCharCode(M):M;a.vz[J]=M;});for(O in a.pD){a.pD[a.pD[O]]=O;}O=a.pD;String.fromCodePoint || (function(){var M,P;function J(){var S,T,U,fa,sa;S=[];T=-1;U=arguments.length;if(!U)return "";for(var W="";++T < U;){fa=Number(arguments[T]);if(!isFinite(fa) || 0 > fa || 1114111 < fa || P(fa) != fa)throw RangeError("Invalid code point: " + fa);if(65535 >= fa)S.push(fa);else {fa-=65536;sa=(fa >> 10) + 55296;fa=fa % 1024 + 56320;S.push(sa,fa);}if(T + 1 == U || 16384 < S.length)(W+=M.apply(null,S),S.length=0);}return W;}M=String.fromCharCode;P=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J;})();})(b);},function(r){function b(a,c){var m,k,l,d,f,h;m=[];k=a.indexOf("<p");l=-1;do {d={};d.Fac=k;f=a.indexOf("begin=",k) + 7;h=a.indexOf("end=",k) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);l=h > l?h:l;d.startTime=f;d.endTime=h;d.latestEndSoFar=l;d.N2a=a.indexOf("/p>",k) + 3;k=d.N2a;m.push(d);k=a.indexOf("<p",k);}while(-1 !== k);this.y5=m;this.VH=a;}b.prototype.YOb=function(){return this.y5[this.y5.length - 1].endTime;};b.prototype.Gv=function(a,c){return this.y5.filter(function(m){return m.startTime <= c && m.endTime >= a;}).length;};b.prototype.JSb=function(a){for(var c="",m=this.y5.filter(function(l){return l.startTime <= a && a < l.endTime || l.startTime >= a;}),k=4;k + 1 < m.length && m[k + 1].startTime === m[4].startTime;){k++;}m=m.slice(0,k + 1);0 < m.length && (c=this.VH.slice(m[0].Fac,m[m.length - 1].N2a));return c;};r.exports=b;},function(r,b,a){var l,d,f,h;function c(g){return "string" !== typeof g?null:d[g];}function m(g){return "string" !== typeof g?null:f[g];}function k(g,n){var p;p=g.split(" ");g=p[0];p=p[1];-1 < g.indexOf("px")?(g=parseFloat(g) / n.width,p=parseFloat(p) / n.height):(g=.01 * parseFloat(g),p=.01 * parseFloat(p));return [g,p];}l=a(499);r.exports={VJb:function(g,n){var p,q,t,v,u,w;p=n.textNodes[0] || ({});q=g.regions;t=g.styles;v=g.aspectRatio;q=q && q[n.region]?q[n.region]:{};p=t && t[p.style]?t[p.style]:{};t=k(l(n.extent,q.extent,"80% 80%"),g);n=k(l(n.origin,q.origin,"10% 10%"),g);g=Object;v/=1280 / 720;u=(1 - v) / 2;w=n[0];n=n[1];t=g.create.call(g,{marginLeft:w * v + u,marginTop:n,marginRight:(1 - (w + t[0])) * v + u,marginBottom:1 - (n + t[1])});1 < Object.keys(q).length?t.verticalAlignment=c(l(p.displayAlign,q.displayAlign,"before")):t.verticalAlignment=c(l(p.displayAlign,"after"));t.horizontalAlignment=m(l(p.textAlign,q.textAlign,"center"));v=q.writingMode?q.writingMode:"lrtb";t.writingMode="string" !== typeof v?null:h[v];t.multiRowAlignment=m(l(p.multiRowAlign,q.multiRowAlign,p.textAlign,q.textAlign,"center"));return t;}};d={before:"top",center:"center",after:"bottom"};f={left:"left",start:"start",center:"center",right:"right",end:"end"};h={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};},function(r,b,a){var k,l,d,f,h,g,n;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:d[p.toLowerCase()];}function m(p){var q,t,v;q=(p || "").split(" ");t=(/^[0-9]/).test(q);p=t?"#000000":c(q[0]);v=t?0:1;t=parseInt(q[v]);q=parseInt(q[v + 1]);return {color:p,width:0 < t?t:0,blur:0 < q?q:0};}k=a(499);r.exports={ZJb:function(p,q,t){var v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K;v=k(t.characterSize,q.characterSize,"MEDIUM");u=p.fontFamily;u=k(t.characterStyle,"string" !== typeof u?null:f[u],q.characterStyle,"PROPORTIONAL_SANS_SERIF");w=(p.fontSize || "").split(" ")[0] || "";x=-1 < w.indexOf("%")?parseInt(w,10) / 100:-1 < w.indexOf("em")?parseFloat(w):1;w="underline" === p.textDecoration;y="italic" === p.fontStyle;z=l[k(t.Bfc,q.Bfc,"OPAQUE")];A=l[k(t.characterOpacity,q.characterOpacity,"OPAQUE")];B=l[k(t.backgroundOpacity,p.opacity,q.backgroundOpacity,"OPAQUE")];C=c(k(t.characterColor,p.color,q.characterColor,"#ffffff"));D=c(k(t.backgroundColor,p.backgroundColor,q.backgroundColor,null));F=c(k(t.mmb,p.mmb,q.mmb,null));G=k(t.characterEdgeAttributes,q.characterEdgeAttributes,null);x*=h[v] || 1;E=1;g[v] && (E=g[v][u] || 1);x*=1 / 19 * E;E=0;n[v] && (E=n[v][u] || 0);v=E;E=p.textOutline;E="string" !== typeof E?null:m(E).width;E=k(E,0);H=p.textOutline;H="string" !== typeof H?null:m(H).blur;H=k(H,0);L=t.characterEdgeColor;K=p.textOutline;K="string" !== typeof K?null:m(K).color;return {characterUnderline:w,characterItalic:y,characterStyle:u,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:C,backgroundColor:D,windowColor:F,characterEdgeAttributes:G,characterSize:x,characterTracking:v,characterEdgeWidth:E,characterEdgeBlur:H,characterEdgeColor:c(k(L,K,q.characterEdgeColor,"#000000")),direction:k(t.direction,p.direction,q.direction,"ltr")};}};l={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};f={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};g={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var m,k,l,d,f,h;function c(g){m.call(this);this.$l=g.url;this.Ru=g.request;this.JH=g.Nd || 0;this.Ra=g.Ca;this.mj=this.Js=null;g.aw?this.Js=g.aw:(this.Nb=g.offset,this.nN=g.size);this.Vm;this.Vla=g;}m=a(113).EventEmitter;k=a(1214);l=a(1215);d=a(1216);f=a(163);h=c.events={Urb:"midxready",lub:"sidxready",Xtb:"ready",ag:"error"};c.prototype=Object.create(m.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Yq:{get:function(){return this.Vm && this.Vm.Vpa;}}});c.prototype.start=function(){this.Js?(this.Ra.warn("midx was prefectched and provided"),this.gUa(this.Js)):this.uwb(this.Nb,this.nN,this.Azb.bind(this));};c.prototype.close=function(){};c.prototype.g$=function(g,n){return this.Vm && this.Vm.Cta(g,n);};c.prototype.Gv=function(g,n){return (g=this.g$(g,n))?g.length:g;};c.prototype.UF=function(g,n){this.Ra.debug("setStreamStartPosition: buffering subtitles at pts " + g);this.JH=g;this.Vm?this.Vm.UF(g,n):n && n();};c.prototype.fP=function(g){var n,p,q;if(!this.Vm || g > f.MRb(this.Js))return [];this.Vm && this.Vm.zqa(g);n=this.Yq.Vy;p=this.Yq.index;q=[];p=f.pd(p) && this.mj[p + 1];if(!(p && p.entries.length || n && !(g > n.endTime)))return [];n && n.images.length && (q=this.uUa(n,g,[]));2 > q.length && p && p.images.length && (n=this.uUa(p,g,q),q.push.apply(q,n));return this.Vm.JBa(g)?null:f.I_a(q);};c.prototype.Gj=function(g,n){this.Vm && this.Vm.Gj(g,n);};c.prototype.fj=function(g,n){this.Vm && this.Vm.fj(g,n);};c.prototype.uwb=function(g,n,p){this.Ra.debug("downloading midx...");this.JUa(g,n,"binary",p);};c.prototype.vwb=function(g,n,p){this.Ra.debug("downloading sidx...");this.JUa(g,n,void 0,p);};c.prototype.JUa=function(g,n,p,q){this.Ru({url:this.$l,offset:g,size:n,responseType:p},q);};c.prototype.Azb=function(g,n){if(g)this.emit(h.ag,f.KX(g,"midxdownloaderror"));else try{this.Js=new k(n);this.gUa(this.Js);}catch(p){this.emit(h.ag,f.KX(p,"midxparseerror"));}};c.prototype.gUa=function(g){var n;n=g.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(h.Urb,g),this.vwb(g.startOffset,n,this.Dzb.bind(this,g))):this.emit(h.ag,f.KX({},"nosidxfoundinmidx"));};c.prototype.Dzb=function(g,n,p){var q,t,v,u;q=this;if(n)q.emit(h.ag,f.KX(n,"sidxdownloaderror"));else {t=0;v=0;q.mj=[];try{u=0;g.entries.forEach(function(w){var x;x=new l(p,t,g.Iua,q.Ra,v,v + w.duration,u);q.mj.push(x);w.rac=x;v=x.Wr;t+=w.size;u++;});}catch(w){q.emit(h.ag,f.KX(w,"sidxparseerror"));return;}q.emit(h.lub,q.mj);this.Vm=new d(q.Vla,g,q.mj);n=q.JH;q.Vla && q.Vla.Yda || (n=Math.max(q.JH - 1E4,0));this.Vm.zqa(n,function(w){w && q.Ra.error("initial sidx download failed");q.emit(h.Xtb);});}};c.prototype.uUa=function(g,n,p){var y;for(var q=g.entries,t=0,v=q.length,u=[],w,x=this.Js;t < v;){w=q[t];if(w.displayTime <= n)w.displayTime + w.duration >= n && u.push(f.Npa(w,g.images[t].data,x));else {y=u.length && u[u.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== w.displayTime)break;y.rJ !== w.rJ && u.push(f.Npa(w,g.images[t].data,x));}t++;}return u;};r.exports=c;},function(r,b,a){var m,k;function c(l,d){this.duration=l;this.size=d;this.rac=void 0;}m=a(287);k=a(163);r.exports=function(l){var g;l=new m(l);this.identifier=l.Iza(4);k.assert("midx" === this.identifier);this.version=l.Xr(4);k.assert(0 === this.version);this.Iua=l.Yk(36);this.creationTime=l.$Q();this.ep=l.$Q();this.I=l.$Q();this.Q8b=l.Vh();this.R8b=l.Vh();this.language=l.Yk(16);l.Yk(16);this.startOffset=l.$Q();this.OO=l.Vh();for(var d=[],f=0,h=0;h < this.OO;h++){g=new c(l.Xr(4),l.Vh());d.push(g);f+=g.duration;}this.entries=d;this.endTime=f;};},function(r,b,a){var k,l;function c(d,f,h,g,n,p,q,t){this.displayTime=d;this.duration=f;this.j3b=h;this.k3b=g;this.yac=n;this.zac=p;this.rJ=q;this.uua=t;}function m(d,f,h,g,n,p,q){var t;d=new k(d);t=0;d.position=f;this.Ra=g;this.identifier=d.Iza(4);l.assert("sidx" === this.identifier,g);this.Iua=d.Yk(36);l.SGb(this.Iua,h,g);this.duration=d.Xr(4);this.OO=d.Vh();this.My=n;this.Wr=p;this.index=q || 0;this.entries=[];this.images=[];for(this.mma=0;t < this.OO;){f=new c(d.Xr(4),d.Xr(4),d.Vh(),d.Vh(),d.Vh(),d.Vh(),d.$Q(),d.Xr(4));t++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}k=a(287);l=a(163);m.prototype.gWb=function(){this.mma++;};m.prototype.VKb=function(){var d;d=0;this.mma--;1 > this.mma?this.images && 0 < this.images.length && (d+=l.yta([this]),this.images=[]):this.Ra.debug("Not cleaning up shared sidx with range",this.My,"-",this.Wr);return d;};r.exports=m;},function(r,b,a){var l,d;function c(f,h){var n;f=f || 0;if(h)for(var g in h.M){n=h.M[g];if(f >= (n.qa || 0) && (!n.sa || f < n.sa))return g;}}function m(f,h){return f && h && h.M[f];}function k(f,h,g){var n;this.Ra=f.Ca;this.mj=g;this.LD=this.Zvb(f.Yda);this.Jh=[];n=g && g[g.length - 1];this.wx=n && (n.endTime || n.Wr);this.dg=new l(f,h,g);f=c(f.Nd || 0,this.LD);this.Fp=this.Wz(f);}l=a(1217);d=a(1219);Object.defineProperties(k.prototype,{Vpa:{get:function(){return this.dg.Vpa;}}});k.prototype.Cta=function(f,h){return this.dg && this.dg.Cta(f,h);};k.prototype.zqa=function(f,h){this.dg.d$b(f);this.JWa(f);if(!this.LD && this.wx && f > this.wx)h && h();else if((f=this.ZTa(f,this.Fp,2,h),this.LD && 0 < this.Fp.Nbb.length))h && h();else if(this.LD && this.Fp.JP && f){2 > this.Jh.length && this.ewb(this.Fp);h=Math.ceil(2 / (this.Jh.length - 1));for(var g=0;g < this.Jh.length && f && 3 > g;g++){f=this.Jh[g];f=this.ZTa(f.startTime,f,h);}}};k.prototype.JBa=function(f){return this.dg.JBa(f)?(this.dg.tCb(),this.zqa(f),this.Fp.JP=!1,!0):!1;};k.prototype.UF=function(f,h){var g;this.JWa(f);this.Jh.forEach(function(n){n.JP=!1;});g=this.Fp.kp && this.Fp.kp[0];this.dg.UF(f,g && g.index);(f=this.dg.DTb(f)) && f.length?this.dg.T1a(f,h):h && h();};k.prototype.fj=function(f,h){var g;this.Ra.debug("Set next segment to",h,"for segment",f);f=this.lUa(f) || this.Wz(f);f.Sgb=h;g=this;f.IZ=f.IZ.filter(function(n){if(n.id === h)return !0;g.Rka(n);return !1;});};k.prototype.Gj=function(f,h){var g;g=m(f,this.LD);Object.keys(g.next).forEach(function(n){g.next[n].weight=h[n] || 0;});};k.prototype.Zvb=function(f){var h,n;h={};if(f=(f || ({})).M){h.M={};for(var g in f){n=f[g] || ({});h.M[g]={qa:n.qa,sa:n.sa,Kb:n.Kb,next:this.Yvb(n.next)};}}return h;};k.prototype.Yvb=function(f){var h,g;h={};for(g in f){h[g]={weight:(f[g] || ({})).weight};}return h;};k.prototype.JWa=function(f){var h,g;if(this.LD && this.Fp.startTime > f || this.Fp.endTime && this.Fp.endTime < f){h=this.Fp;g=c(f,this.LD);g?(this.Ra.debug("Switching segments from",this.Fp.id,"to",g,"at pts",f),this.Fp=this.lUa(g) || this.Wz(g),this.Rka(h)):this.Ra.debug("The pts is outside of the current segment but not in a new one yet");}};k.prototype.Wz=function(f){this.Ra.debug("SegmentManager: creating segment",f);f=new d(f,m(f,this.LD),this.mj,this.Ra);this.Jh.push(f);this.Ra.debug("SegmentManager: segment contains",f.kp.length,"sidxes");return f;};k.prototype.Rka=function(f){var h;if(f && f !== this.Fp){this.Ra.debug("SegmentManager: deleting segment",f.id);f.IZ.forEach(this.Rka.bind(this));this.Jh=this.Jh.filter(function(g){return g !== f;});h=f.VZa();this.dg.E7b(h && h.size || 0,h && h.kp);}};k.prototype.lUa=function(f){var g;for(var h=0;f && h < this.Jh.length;h++){g=this.Jh[h];if(f === g.id)return g;}};k.prototype.ewb=function(f){var h,n;h=f.Sgb;if(h && "" !== h)f.IZ.push(this.Wz(h));else {h=f.Nbb;for(var g in h){n=h[g];if(!n || !n.weight)break;f.IZ.push(this.Wz(g));}}};k.prototype.ZTa=function(f,h,g,n){if(!h || h.JP)return (this.Ra.debug("Done driving segment",h && h.id),!0);if(!this.dg.lFb)return (this.Ra.debug("Throttling buffering in quiet period"),!1);this.Ra.debug("Drive streaming of segment",h.id,"from pts",f);g=(f=this.dg.ETb(f,h,g)) && f.length || 0;if(0 === g)return (this.Ra.debug("Segment is fully downloaded",h && h.id),h.JP=!0,n && n(),!0);this.Ra.debug("Downloading",g,"sidxes in segment",h.id);return this.dg.T1a(f,function(p,q){p && (h.JP=!1);n && n(p,q);});};r.exports=k;},function(r,b,a){var h,g;function c(n,p,q){var t;t=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || t;}function m(n,p,q){return p && (!p.entries.length && n > p.My || n > p.endTime) && q.entries.length && n < q.endTime;}function k(n,p,q){this.MH=this.px=0;this.Rxb=n.bufferSize || 4194304;this.Yq=new f();this.IH;this.yH=n.Mf;this.Ra=n.Ca;this.Js=p;this.mj=q;this.Np=new h(n);this.WH=new d(this.mj.length,n.m2a);this.WU=new l(n.YYa);}function l(n){this.Bwb=0 !== n;this.on=!1;this.xk=n || 3E3;this.qh;}function d(n,p){if(this.enabled=p)this.kp=Array.apply(null,Array(n)).map(function(){return "-";});}function f(n,p){this.Vy=n;this.index=p;}h=a(1218);g=a(163);f.prototype.reset=function(){this.index=this.Vy=void 0;};d.prototype.fa=function(n){this.enabled && n < this.kp.length && (this.kp[n]="x");};d.prototype.Pcb=function(n){this.enabled && n < this.kp.length && (this.kp[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.kp.join("") + "|";};l.prototype.start=function(){var n;if(this.Bwb){n=this;this.on=!0;this.qh=setTimeout(function(){n.on=!1;n.qh=void 0;},this.xk);}};l.prototype.stop=function(){this.on=!1;clearTimeout(this.qh);this.qh=void 0;};Object.defineProperties(k.prototype,{Vpa:{get:function(){return this.Yq;}},lFb:{get:function(){return !this.WU.on;}}});k.prototype.KU=function(){this.WH.enabled && this.Ra.debug("Buffer: " + this.WH.toString());};k.prototype.Xzb=function(n){this.MH+=n;this.Ra.debug("Reserved buffer size is",this.px + this.MH,"after reserving",n);};k.prototype.JAb=function(n){this.MH-=n;this.Ra.debug("Reserved buffer size is",this.px + this.MH,"after unreserving",n);};k.prototype.Xvb=function(n){this.px+=n;this.Ra.debug("Buffer size is",this.px,"after claiming",n);};k.prototype.aWa=function(n){this.px-=n;this.Ra.debug("Buffer size is",this.px,"after clearing",n);};k.prototype.E7b=function(n,p){var q;this.aWa(n);q=this;p && this.WH.enabled && (p.forEach(function(t){q.WH.Pcb(t.index);}),this.KU());};k.prototype.JBa=function(n){var p;p=this.Owb(n);return g.M7a(p) && g.Fbc(n,p);};k.prototype.d$b=function(n){var p;p=this.AUa(n);(!p || p.index) !== (!this.Yq || this.Yq.index) && (this.IH=this.Yq.Vy,p?(this.yH && this.Ra.debug("Current sidx is index",p.index),this.Yq=p):(this.yH && this.Ra.debug("Current sidx is out of range"),this.Yq.reset()));this.IH && "number" === typeof this.IH.index && (n < this.IH.My - 35E3 || n > this.IH.Wr + 35E3) && (this.Ika(this.IH.index),this.IH=void 0,this.KU());};k.prototype.UF=function(n,p){var q,t;q=this.mj && this.mj.length;for(p;p < q;p++){(t=this.mj[p]) && ((t.endTime || t.Wr) >= n - 1E4 && (t.endTime || t.Wr) < n + 3E5 || this.Ika(p));}this.WU.stop();this.KU();};k.prototype.tCb=function(){var n,p;this.Ra.debug("executing aggressive cleanup");n=this.mj && this.mj.length;for(p=0;p < n;p++){p === this.Yq.index && (p+=2);this.Ika(p);}this.WU.stop();this.KU();};k.prototype.DTb=function(n){var p,q,t,v;p=[];q=this.AUa(n);if(!q)return (this.Yq.reset(),p);this.Yq=q;t=n + 1E4;q=q.index;v=this.mj[q];q;for(v;q < this.mj.length && t > v.My;(q++,v=this.mj[q])){g.M7a(v) && g.Gbc(n,t,v) && p.push(v);}return p;};k.prototype.T1a=function(n,p){var q,t,v,u,w,x;if(!n || !n.length)return (p && p(null),!0);this.Np.QU && 2 <= Object.keys(this.Np.QU).length && !this.WU.on && (this.Ra.debug("Enabling buffering quiet period"),this.WU.start());q=this;t=n[0];v=n[n.length - 1];if(0 < t.entries.length)(u=t.entries[0].rJ,w=t.entries[t.entries.length - 1]);0 < v.entries.length && (g.pd(u) || (u=v.entries[0].rJ),w=v.entries[v.entries.length - 1]);if(u)x=w.rJ + w.uua - u;else return (p && p(null),!0);t=g.Csa(u,x);if(this.Np.QU[t])(this.Ra.debug("The request for",t,"is already pending. Not requesting again"),p && p());else if(this.jxb(g.yta(n)))(this.Ra.debug("Reserving",x,"bytes for subtitle request",n[0].My,n[n.length - 1].Wr),this.Xzb(x),this.Np.rMb(n,u,x,function(y,z){q.Ra.debug("Claiming reserved space.  Expected",x,"received",z);q.WH.enabled && (n.forEach(function(A){q.WH.fa(A.index);}),q.KU());q.JAb(x);q.Xvb(z);p && p(y);}));else return (this.Ra.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};k.prototype.Cta=function(n,p){var q,t,v;q=this.Js;t=this.zUa(n,p,this.mj);if(!t || 0 === t.length)return [];v=[];p=c.bind(null,n,p);for(var u=0;u < t.length;u++){n=t[u];v=v.concat(n.entries.filter(p));}v=v.map(function(w){return g.Npa(w,null,q);});return g.I_a(v);};k.prototype.ETb=function(n,p,q){return this.zUa(n,p.endTime,p.kp,q,!0);};k.prototype.zUa=function(n,p,q,t,v){var u,w,x,y;if(p && n > p || 0 > n)this.Ra.error("invalid range startPts: " + n + ", endPts: " + p);else {u=q && q.length || 0;w=[];if(q && 0 !== u){x=q[0].duration;y=q[0].My;if(g.pd(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.yH && this.Ra.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < u && (y=q[x],!g.lMb(y,n));x++){;}for(;x < u && (!t || w.length < t);){y=q[x];if(!v || !y.images.length && y.endTime > n)w.push(y);else if(w.length)break;if(p && p <= y.Wr)break;x++;}return w;}}};k.prototype.Owb=function(n){var p,q,v;p=this.mj;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.My > n || n > q.Wr))a:{this.Dwb || (this.Dwb=!0,q=g.hSb(this.Js.language),this.Ra.error("bruteforce search for ",{movieId:this.Js.I,packageId:this.Js.ep,lang:q}));q=p.length;for(var t=0;t < q;t++){v=p[t];if(v.My <= n && n <= v.Wr){q=v;break a;}}q=void 0;}return q;}};k.prototype.AUa=function(n){var p,q,t,v,u,w,x,y;p=this.Yq;q=p.Vy;t=p.index;v=this.mj;this.Oka(g.pd(n));if(q)if(q.entries.length){if(0 === t && n <= q.startTime || n >= q.startTime && n <= q.endTime)(u=!0,w=p);else {if(0 < t){x=v[t - 1];m(n,x,q) && (u=!0,w=p);}}}else {x=v[t - 1];y=v[t + 1];m(n,x,q)?(u=!0,w=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.Wr) && (u=!0,w=new f(y,t + 1));}if(!u)for((p=v.length,q=0);q < p;q++){if((t=v[q],t.entries.length && n <= t.endTime)){w=new f(t,q);break;}}return w;};k.prototype.jxb=function(n){return this.px + this.MH + n <= this.Rxb;};k.prototype.Ika=function(n){var p,q,t;p=this.mj[n];q=p && p.images && p.images.length || 0;if(0 < q){t=g.yta([p]);p.images=[];this.WH.Pcb(n);this.aWa(t);this.yH && this.Ra.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:t,images:q,ypc:this.px});}};k.prototype.Oka=function(n){this.yH && g.assert(n,this.Ra);};r.exports=k;},function(r,b,a){var m,k;function c(l){this.$l=l.url;this.Ru=l.request;this.JH=l.Nd || 0;this.yH=l.Mf;this.Ra=l.Ca;this.QU={};}m=a(287);k=a(163);c.prototype.rMb=function(l,d,f,h){this.QU[k.Csa(d,f)]=!0;l && l.forEach(function(g){g.Ufb=!0;});this.Ru({url:this.$l,offset:d,size:f},this.Yyb.bind(this,l,d,f,h));};c.prototype.Yyb=function(l,d,f,h,g,n){var p,q,t,v;p=this;q=k.Csa(d,f);setTimeout(function(){delete p.QU[q];},1E3);if(g)(h && h(g,0),l && l.forEach(function(u){delete u.Ufb;}));else {t=new m(n);v=0;l && l.forEach(function(u){delete u.Ufb;u.entries.forEach(function(w,x){t.position=w.rJ - d;w={data:t.Yk(w.uua)};u.images[x]=w;k.Sec(u.images[x].data,p.Oka.bind(p));v+=u.images[x].data.length;});});h && h(null,v);}};c.prototype.Oka=function(l){this.yH && k.assert(l,this.Ra);};r.exports=c;},function(r){function b(a,c,m,k){this.Ra=k;this.id=a;this.startTime=c && c.qa || 0;this.endTime=c && c.sa;this.Nbb=c && c.next || [];this.Sgb;this.IZ=[];this.JP=!1;a=this.startTime;c=this.endTime;for(var l=[],d=0;d < m.length;d++){(k=m[d]) && (!c || c > k.My) && a < k.Wr && (k.gWb(),l.push(k));}this.kp=l;}b.prototype.VZa=function(){this.Ra.debug("Cleaning up segment",this.id);for(var a,c=0,m,k=[],l=0;l < this.kp.length;l++){a=this.kp[l];(m=a.VKb()) && k.push(a);a && (c+=m);}this.kp=[];return {size:c,kp:k};};r.exports=b;},function(r,b,a){var m;function c(k,l,d){return {timeout:d,type:k,entry:l};}m=a(113).EventEmitter;a(1221)({});b=function p(l,d,f,h,g,n){if(!(this instanceof p))return new p(l,d,f,h,g,n);m.call(this);this.sx=l;this.$wb=d;this.B5=f;this.Cxb=h;this.mA={};this.RH={};this.Ra=g || console;this.hU=!1;this.Gzb=n && n.yza || 0;};b.prototype=Object.create(m.prototype);b.prototype.stop=function(){clearTimeout(this.qh);this.H7b();};b.prototype.H7b=function(){var l;l=this;Object.keys(l.mA).forEach(function(d){l.emit("removesubtitle",l.mA[d]);});l.mA={};l.RH={};};b.prototype.pause=function(){this.hU || clearTimeout(this.qh);};b.prototype.Jw=function(l,d){var f,h;f=this;h=f.sx();clearTimeout(this.qh);l=f.$wb(h);null !== l && f.hU && (f.hU=!1,this.Ra.info("bufferingComplete"),f.emit("bufferingComplete"),this.Cxb())?this.Ra.info("bufferingComplete while paused, no longer scheduling internal pts events"):(d="number" === typeof d?d:0,Object.keys(f.mA).forEach(function(g){g=f.mA[g];g.displayTime - f.Gzb <= h && h < g.displayTime + g.duration || (delete f.mA[g.id],f.emit("removesubtitle",g));}),Object.keys(f.RH).forEach(function(g){g=f.RH[g];h >= g.displayTime + g.duration && delete f.RH[g.id];}),null !== l && 0 < l.length?(d=l.length,f.Ra.info("found " + d + " entries for pts " + h),l.forEach(function(g){g.displayTime - 0 <= h && h < g.displayTime + g.duration && !f.mA[g.id] && (f.emit("showsubtitle",g),f.mA[g.id]=g,delete f.RH[g.id]);}),d=l[l.length - 1],f.mA[d.id] || f.RH[d.id] || (f.emit("stagesubtitle",d),f.RH[d.id]=d),d=f.jyb(h,l),0 < d.length?f.d6(d[0].timeout):f.d6(2E4)):null === l?(l=250 * Math.pow(2,d),2E3 < l && (l=2E3),f.Ra.warn("checking buffer again in " + l + "ms"),f.hU || (f.hU=!0,f.emit("underflow")),f.d6(l,d + 1)):f.d6(2E4));};b.prototype.d6=function(l,d){var f;f=this;f.Ra.info("Scheduling pts check.");f.qh=setTimeout(function(){f.Jw(f.sx(),d);},l);};b.prototype.jyb=function(l,d){return d.reduce(this.kyb.bind(this,l),[]);};b.prototype.kyb=function(l,d,f){var h,g;h=this.B5(f.displayTime,l);l=this.B5(f.displayTime + f.duration,l);g=0 < d.length?d[0].timeout:Infinity;return 0 < h && h < g?[c("showsubtitle",f,h)]:h === g?d.concat([c("showsubtitle",f,h)]):0 < l && l < g?[c("removesubtitle",f,l)]:l === g?d.concat([c("removesubtitle",f,l)]):d;};r.exports=b;},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var l,d,f;function c(h,g,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + g + "'"));}function m(h,g,n){var p;p=d[h];"undefined" !== typeof p?p(g) || c(h,g,n):h !== typeof g && c(h,g,n);}function k(h,g){var n;n=h.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});n=n.concat(h.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(t){return q[t];}).filter(function(t){return -1 === f.indexOf(t);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(q,t){var v;v=p[t];if("string" === typeof q)m(q,v,{index:t});else if("object" === typeof q)Object.keys(q).forEach(function(u){m(q[u],v[u],{key:u});});else throw Error("Types: unexpected type in type array");});return g.apply(this,p);};}l=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < l.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}f=Object.keys(d).concat(l);return k(["array","function"],k);};},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.wF=void 0;r=a(1);c=a(500);m=a(1223);k=a(162);b.wF=new r.xd(function(l){l(c.wia).to(m.SMa).ha();l(k.ET).d1(function(d){return function(){return d.wb.get(c.wia).X0b;};});});},function(r,b,a){var m;function c(){var k;k=this;this.ready=!1;this.X0b=new Promise(function(l){k.E8b=l;});}Object.defineProperty(b,"__esModule",{value:!0});b.SMa=void 0;r=a(0);a=a(1);c.prototype.Y0b=function(k){this.ready || (this.E8b(k),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};m=c;m=r.__decorate([(0,a.Y)()],m);b.SMa=m;},function(r,b,a){var c,m,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Nk=void 0;r=a(1);c=a(90);m=a(501);k=a(1225);l=a(503);d=a(1226);b.Nk=new r.xd(function(f){f(c.uz).Pe(function(){return function(){return nb._cad_global.device;};});f(l.tHa).to(d.sHa).ha();f(m.qHa).to(k.pHa).ha();});},function(r,b,a){var m,k,l,d,f,h;function c(g,n){this.za=g;this.Fza=n;}Object.defineProperty(b,"__esModule",{value:!0});b.pHa=void 0;r=a(0);m=a(30);k=a(5);l=a(144);d=a(502);f=a(55);a=a(1);c.prototype.mQb=function(){for(var g="",n=this.za.Bf.fa(k.ma),p=6;p--;){g=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + g;n=Math.floor(n / 32);}for(;30 > g.length;){g+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Fza.Qeb(new d.zja(0,31,f.rcb))];}return g;};h=c;h=r.__decorate([(0,a.Y)(),r.__param(0,(0,a.l)(m.Eh)),r.__param(1,(0,a.l)(l.r4))],h);b.pHa=h;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t,v,u){this.OLb=p;this.Cq=q;this.Db=v;this.c4b=u;this.cIa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=t.mb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;r=a(0);m=a(3);k=a(27);l=a(1227);d=a(6);f=a(501);h=a(1);g=a(94);a=a(504);c.prototype.Z2a=function(p){try{return p.match(this.cIa)[2];}catch(q){}};c.prototype.xOb=function(p){try{return p.match(this.cIa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(t,v){q.Cq.create().then(function(u){var x,y,z,A,B,C;function w(D){q.Db.qo(D) && q.Db.qo(x)?(y=new l.rHa(D,x,void 0,z,p.JW || "cadmium"),t(y)):v({xa:m.T.UGa});}x=p.bq;if(p.Asa){z="bind_device";q.c4b.Lf(q.log,{}).then(function(D){w(D.esn);}).catch(function(D){v(D);});}else if(p.bP){B=p.yl;if(q.Db.qo(B)){C=q.xOb(B);C != p.bq && q.log.error("esn prefix from ui is different",{ui:C,cad:p.bq,ua:p.userAgent});}else p.hwa && q.log.error("esn from ui is missing");!p.jS && q.Db.qo(B)?(z="config",w(B)):u.load(p.w1a).then(function(D){A=D.value;q.Db.qo(A) && (!1,q.Db.qo(B)?(D=q.Z2a(B),z=D === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",w(x + A));}).catch(function(D){var E;function F(){u.save(p.w1a,E,!1).then(function(){w(x + E);}).catch(function(H){v(H);});}function G(){E=q.OLb.mQb();!1;F();}if(D.xa === m.T.qD){if(q.Db.qo(p.yl)){E=q.Z2a(p.yl);q.Db.qo(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.yl),G());}else (z="generated_since_not_in_config_and_storage",G());}else v(D);});}else w();}).catch(function(u){v(u);});});};n=c;n=r.__decorate([(0,h.Y)(),r.__param(0,(0,h.l)(f.qHa)),r.__param(1,(0,h.l)(g.TC)),r.__param(2,(0,h.l)(d.ub)),r.__param(3,(0,h.l)(k.Og)),r.__param(4,(0,h.l)(a.cOa))],n);b.sHa=n;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;b.rHa=function(a,c,m,k){this.yl=a;this.bq=c;this.N8=k;};},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.z$a=void 0;r=a(1);c=a(162);m=a(1229);k=a(1230);l=a(1231);d=a(1232);f=a(1233);h=a(12);g=a(1234);n=a(1235);p=a(1236);q=a(47);t=a(90);v=a(509);u=a(506);w=a(505);x=a(87);y=a(288);z=a(50);A=a(191);B=a(1237);C=a(511);D=a(512);F=a(1240);G=a(513);E=a(1241);b.z$a=new r.xd(function(H){H(z.bo).to(k.oLa).ha();H(u.LMa).to(l.KMa).ha();H(w.DLa).to(d.CLa).ha();H(y.zLa).to(f.yLa).ha();H(z.Wha).to(g.nLa).ha();H(x.Cz).to(n.vLa).ha();H(y.xLa).to(p.wLa).ha();H(A.sT).to(B.rT).ha();H(A.Zha).to(F.ALa).ha();H(G.vT).to(E.uT).ha();H(C.AHa).to(D.zHa).ha();H(v.JEa).to(m.IEa).ha();H(z.pLa).d1(function(L){return function(){return L.wb.get(c.ET)().then(function(K){return new Promise(function(I){var O,J,M;function R(){J() && M() && K.EZ?I(L.wb.get(z.bo)):O.xm(R);}O=L.wb.get(q.Mj);J=L.wb.get(h.Nc);M=L.wb.get(t.uz);O.xm(R);});});};});});},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t){var v;v=this;this.HZb=n;this.JB=p;this.config=t;this.Qza=[];this.HZb.tda(m.Gmb,this.zUb.bind(this));q().then(function(u){var w;w=t().Ar.KPb;v.z_b=w?g.tk[w.toUpperCase()]:g.tk.ag;v.sg=u;v.N9b();});}Object.defineProperty(b,"__esModule",{value:!0});b.IEa=void 0;r=a(0);k=a(1);l=a(12);d=a(112);f=a(50);h=a(87);g=a(6);c.prototype.zUb=function(n,p){this.sg?this.Meb(n,p):this.Qza.push([n,p]);};c.prototype.N9b=function(){var n,p;n=this;p=this.Qza;this.Qza=[];p.forEach(function(q){n.Meb(q[0],q[1]);});};c.prototype.Meb=function(n,p){var q;if(this.sg && this.aac(n)){q={debugMessage:n.message,debugCategory:n.Xp};n.Xc.forEach(function(t){return q=Object.assign(Object.assign({},q),t.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.JB.hv("debug",g.tk[n.level].toLowerCase(),q,p);this.sg.Gc(n);}};c.prototype.aac=function(n){var p;p=this.z_b;return void 0 !== p && n.level <= p && !n.Xc.find(function(q){return q.eX(g.$S);});};a=m=c;a.Gmb="adaptorAll";a=m=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(d.TL)),r.__param(1,(0,k.l)(h.Cz)),r.__param(2,(0,k.l)(f.pLa)),r.__param(3,(0,k.l)(l.Nc))],a);b.IEa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x,y,z){this.config=v;this.json=u;this.wc=w;this.xZb=x;this.vZ=z;this.oaa=this.Qv=!1;this.listeners=[];(0,k.sq)(this,"json");this.Ca=y.mb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.oLa=void 0;r=a(0);m=a(1);k=a(55);l=a(38);d=a(505);f=a(47);h=a(6);g=a(50);n=a(506);p=a(3);q=a(110);a(135);t=a(276);c.prototype.ta=function(){this.Qv=!0;};c.prototype.Gc=function(v){var u;u=this;this.jac(v) || (!1,0 < v.size.bm(this.config.u_b)?this.Ca.error("Logblob is too large, dropping from the queue",{logblobType:v.type,logblobSize:v.size.toString()}):(this.listeners.forEach(function(w){return w.d0b(v);}),!1,this.vZ.$ma(v),this.wc.xm(function(){u.sPb();})));};c.prototype.flush=function(v){var u;u=this;v=void 0 === v?!1:v;return this.oaa?(this.Ca.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,x){u.Ca.trace("Flushing",h.$S);u.gu();u.wc.xm(function(){u.gBa(v).then(function(){w();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(v){this.listeners.push(v);};c.prototype.removeListener=function(v){v=this.listeners.indexOf(v);0 <= v && this.listeners.splice(v,1);};c.prototype.gBa=function(v){var u,w;u=this;v=void 0 === v?!1:v;if(!this.Qv)return (this.Ca.trace("LogBatcher is not initialized"),Promise.resolve());if(this.oaa)return (this.Ca.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.vZ.PQb();if(0 === w.length && !v)return (this.Ca.trace("No logblobs to send"),Promise.resolve());!1;this.gu();this.listeners.forEach(function(){});v=Promise.resolve();for(var x={},y=na(w),z=y.next();!z.done;(x={Kfa:x.Kfa},z=y.next())){x.Kfa=z.value;v=v.then((function(A){return function(){return u.K9b(A.Kfa);};})(x));}return v.then(function(){return u.MI();}).catch(function(A){w.filter(function(B){return !B.yt;}).forEach(function(B){return B.wv();});u.MI();throw Error("Send failure. " + A);});};c.prototype.K9b=function(v){var u;u=this;this.Ca.trace("Sending batch: " + v.size,h.$S);return Promise.resolve(this.vZ.I7b(v)).then(function(){return u.xZb.send(v.OJ);}).then(function(){return v.SR();}).catch(function(w){u.Ca.warn("Failed to send batch of logblobs.",w,h.$S);v.wv();u.Y$b(w) && u.vZ.xBb(v);u.kac(w) && (u.oaa=!0);throw w;});};c.prototype.Y$b=function(v){return v.Ud === p.D3.XNa?!1:this.config.Vma;};c.prototype.kac=function(v){return v.Hc === p.T.TIa || v.Hc === p.T.hT || v.Hc === p.T.lT?!0:!1;};c.prototype.sPb=function(){var v;v=this;0 < this.vZ.size.bm(this.config.qab)?this.gBa().catch(function(u){return v.Ca.warn("Failed to send log messages on size threshold. " + u);}):this.MI();};c.prototype.gu=function(){this.Baa && (!1,this.Baa.cancel(),this.Baa=void 0);};c.prototype.MI=function(){this.Baa || (!1,this.Baa=this.wc.Bj(this.config.L9b,this.EQ.bind(this)));};c.prototype.EQ=function(){var v;v=this;this.oaa=!1;this.gu();this.gBa().catch(function(u){return v.Ca.warn("Failed to send log messages on timer. " + u);});};c.prototype.stringify=function(v){var u;u="";try{u=this.json.stringify(v.data,void 0,"  ");}catch(w){}return u;};c.prototype.jac=function(v){return 0 <= this.config.Zhb.indexOf(v.type)?!0:v.type === t.Yc.debug?0 <= this.config.Yhb.indexOf(v.data.debugCategory):!1;};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(g.Wha)),r.__param(1,(0,m.l)(l.HG)),r.__param(2,(0,m.l)(f.Mj)),r.__param(3,(0,m.l)(d.DLa)),r.__param(4,(0,m.l)(h.ub)),r.__param(5,(0,m.l)(n.LMa)),r.__param(6,(0,m.l)(q.z2))],a);b.oLa=a;},function(r,b,a){var k,l,d,f,h,g,n;function c(p){this.nN=d.Ia;this.Mla=[];this.EU=this.E5=!1;p && (this.nN=p.size,this.Mla=p.OJ);}function m(p,q,t,v){this.e0b=p;this.config=q;this.tg=t;this.json=v;(0,l.sq)(this,"json");this.Ca=this.tg.mb("MessageQueue");this.bv=[];}Object.defineProperty(b,"__esModule",{value:!0});b.KMa=void 0;r=a(0);k=a(1);l=a(55);d=a(52);f=a(288);h=a(6);g=a(38);a=a(50);m.prototype.$ma=function(p){var q,t;0 === this.bv.length && this.bv.push(this.Esa());if(p=this.uTb(p)){q=this.e0b.measure([p]);t=this.bv[this.bv.length - 1];0 < t.size.add(q).bm(this.config.qab) && (t=this.Esa(),this.bv.push(t));t.$ma(p);}};m.prototype.PQb=function(){var p;p=this.bv.filter(function(q){return q.rFb;});this.bv.push(this.Esa());p.forEach(function(q){return q.i_b();});return p;};m.prototype.xBb=function(p){p.yt || this.bv.unshift(new c(p));};m.prototype.I7b=function(p){p=this.bv.indexOf(p);0 <= p && this.bv.splice(p,1);};m.prototype.uTb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(v){var q,t;q={};p=p.data;t=p.debugMessage;t && "string" === typeof t && (q.originalDebugMessage=t);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.Ca.error("JSON.stringify error: " + v.message,q);}};m.prototype.Esa=function(){return new c();};Ua.Object.defineProperties(m.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.bv.reduce(function(p,q){return p.add(q.size);},d.Ia);}}});n=m;n=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(f.zLa)),r.__param(1,(0,k.l)(a.Wha)),r.__param(2,(0,k.l)(h.ub)),r.__param(3,(0,k.l)(g.HG))],n);b.KMa=n;c.prototype.SR=function(){this.E5=!1;this.EU=!0;};c.prototype.wv=function(){this.E5=!1;};c.prototype.$ma=function(p){this.Mla.push(p);this.nN=this.nN.add(p.size);};c.prototype.i_b=function(){this.E5=!0;};Ua.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.nN;}},OJ:{configurable:!0,enumerable:!0,get:function(){return this.Mla;}},rFb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.OJ.length && !1 === this.E5;}},yt:{configurable:!0,enumerable:!0,get:function(){return this.EU;}}});},function(r,b,a){var k,l,d,f,h,g,n,p,q,t,v;function c(u,w,x,y,z,A,B,C){this.Da=u;this.platform=x;this.Nk=y;this.json=z;this.Ci=A;this.si=B;this.FZb=C;(0,l.sq)(this,"json");this.Ca=w.mb("LogblobSender");}function m(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;r=a(0);k=a(1);l=a(55);d=a(38);f=a(5);h=a(31);g=a(19);n=a(48);p=a(90);q=a(6);t=a(507);a=a(80);c.prototype.send=function(u){var w;w=this;return new Promise(function(x,y){var z;try{z=u.reduce(function(A,B){A.entries.push(w.GJb(B));return A;},new m());x(w.pQb(z));}catch(A){w.Ca.error(A.message);y(A);}}).then(function(x){return w.iBa(x);});};c.prototype.GJb=function(u){return this.Ci.SJ(this.Ci.SJ({},u.data),{esn:this.Nk().yl,sev:u.severity,type:u.type,lver:this.platform.mwa,jssid:this.Da.id,devmod:this.platform.tE,jsoffms:u.timestamp.Aa(this.Da.GB).fa(f.ma),clienttime:u.timestamp.fa(f.ma),client_utc:u.timestamp.fa(f.Cp),uiver:this.si.az});};c.prototype.pQb=function(u){var w;w=this;try{return this.json.stringify(u);}catch(z){for(var x={},y=0;y < u.entries.length;(x={zS:x.zS,Nw:x.Nw},++y)){x.Nw=Object.assign({},u.entries[y]);try{this.json.stringify(x.Nw);}catch(A){x.zS=void 0;this.Ci.CE(x.Nw,(function(B){return function(C,D){try{w.json.stringify(D);}catch(F){B.zS=F.message;B.Nw[C]=B.zS;}};})(x));x.Nw.stringifyException=x.zS;x.Nw.originalType=x.Nw.type;x.Nw.type="debug";x.Nw.sev="error";}}return this.json.stringify(u);}};c.prototype.iBa=function(u){var w;w=this;return this.FZb.Lf(this.Ca,{logblobs:u}).then(function(){!1;}).catch(function(x){w.Ca.error("PBO logblob failed",x);return Promise.reject(x);});};v=c;v=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(g.cd)),r.__param(1,(0,k.l)(q.ub)),r.__param(2,(0,k.l)(n.Qq)),r.__param(3,(0,k.l)(p.uz)),r.__param(4,(0,k.l)(d.HG)),r.__param(5,(0,k.l)(h.ci)),r.__param(6,(0,k.l)(a.Jz)),r.__param(7,(0,k.l)(t.uOa))],v);b.CLa=v;},function(r,b,a){var m,k,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;r=a(0);m=a(1);k=a(288);l=a(52);c.prototype.measure=function(d){var f;f=this;return d.map(function(h){return h.size.add(f.config.AZb());}).reduce(function(h,g){return h.add(g);},(0,l.ca)(0));};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.xLa))],a);b.yLa=a;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p){n=h.qf.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.u_b=(0,m.ca)(5E5);n.L9b=(0,k.Iba)(1);n.qab=(0,m.ca)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;r=a(0);m=a(52);k=a(5);l=a(1);d=a(12);f=a(45);h=a(46);a=a(34);ka(c,h.qf);Ua.Object.defineProperties(c.prototype,{Vma:{configurable:!0,enumerable:!0,get:function(){return this.config().Vma;}},Zhb:{configurable:!0,enumerable:!0,get:function(){return [];}},Yhb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});g=c;r.__decorate([f.config(f.object(),"shedLogblobTypes")],g.prototype,"Zhb",null);r.__decorate([f.config(f.yA("string"),"shedDebugTypes")],g.prototype,"Yhb",null);g=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(a.Nm)),r.__param(1,(0,l.l)(d.Nc))],g);b.nLa=g;},function(r,b,a){var k,l,d,f,h,g,n,p,q;function c(t,v,u,w,x,y,z,A,B,C){this.platform=v;this.Rpa=u;this.type=w;this.severity=x;this.timestamp=y;this.Da=A;this.data=z;this.data.type=w;this.data.sev=x;this.data.devmod=this.platform.tE;this.data.clver=this.platform.version;t && t.je && (t.je.os && (this.data.osplatform=t.je.os.name,this.data.osver=t.je.os.version),this.data.browsername=t.je.name,this.data.browserver=t.je.version);t.vva && (this.data.tester=!0);t.mJ && !this.data.groupname && (this.data.groupname=t.mJ);t.ZN && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.ZN:t.ZN);t.k1 && (this.data.uigroupname=t.k1);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Da.sSb();this.data.uniqueLogId=B.k4a();this.data.appId=this.Da.id;C && (t=this.Da.Tb(),this.data.soffms=t.Aa(C.yj).fa(f.ma),this.data.mid=this.data.mid || C.I,this.data.lvpi=C.lwa,this.data.uiLabel=C.de,this.data.uxLabels=C.sfa,w="startup" === w?"playbackxid":"xid",this.data[w]="xid" === w && this.data.xid || C.da,C.PK && (w=C.PK,(C=C.PK.split(".")) && 1 < C.length && "S" !== C[0][0] && (w="SABTest" + C[0] + ".Cell" + C[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + w:w));}function m(t,v,u,w,x,y){this.za=t;this.Rpa=v;this.config=u;this.Da=w;this.Pec=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;r=a(0);k=a(52);l=a(1);d=a(30);f=a(5);h=a(350);g=a(40);n=a(19);p=a(508);a=a(48);m.prototype.hv=function(t,v,u,w){return new c(this.config,this.platform,this.Rpa,t,v,this.za.Bf,u,this.Da,this.Pec,w);};q=m;q=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(d.Eh)),r.__param(1,(0,l.l)(h.PGa)),r.__param(2,(0,l.l)(g.xp)),r.__param(3,(0,l.l)(n.cd)),r.__param(4,(0,l.l)(p.QSa)),r.__param(5,(0,l.l)(a.Qq))],q);b.vLa=q;Ua.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.kZa || (this.kZa=(0,k.ca)(this.Rpa.encode(this.data).length));return this.kZa;}}});},function(r,b,a){var m,k,l;function c(d){this.Nk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;r=a(0);m=a(1);k=a(52);a=a(90);c.prototype.AZb=function(){var d;d=this.Nk()?this.Nk().yl.length:40;return (0,k.ca)(d + 33);};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.uz))],l);b.wLa=l;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D;function c(F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa){this.Kjb=F;this.sg=G;this.Zwa=E;this.pra=H;this.Ge=L;this.z8=K;this.lf=I;this.config=R;this.wd=O;this.za=J;this.Da=M;this.platform=P;this.Rr=S;this.JB=T;this.zj=U;this.Cv=W;this.QJ=fa;this.Ac=sa;this.gQ=wa;}Object.defineProperty(b,"__esModule",{value:!0});b.rT=void 0;r=a(0);m=a(473);k=a(50);l=a(31);d=a(481);f=a(282);h=a(1);g=a(191);n=a(510);p=a(511);q=a(71);t=a(12);v=a(30);u=a(19);w=a(48);x=a(87);y=a(116);z=a(164);A=a(38);B=a(40);C=a(289);a=a(96);c.prototype.create=function(F,G){return new n.tT(F,G,this.Kjb,this.sg,this.Zwa,this.pra,this.Ge,this.z8,this.lf,this.config,this.wd,this.za,this.Da,this.Rr,this.JB,this.zj,this.Cv,this.QJ,this.Ac,this.gQ);};D=c;D=r.__decorate([(0,h.Y)(),r.__param(0,(0,h.l)(m.iSa)),r.__param(1,(0,h.l)(k.bo)),r.__param(2,(0,h.l)(d.lMa)),r.__param(3,(0,h.l)(f.jha)),r.__param(4,(0,h.l)(l.ci)),r.__param(5,(0,h.l)(p.AHa)),r.__param(6,(0,h.l)(q.Ww)),r.__param(7,(0,h.l)(t.Nc)),r.__param(8,(0,h.l)(y.iH)),r.__param(9,(0,h.l)(v.Eh)),r.__param(10,(0,h.l)(u.cd)),r.__param(11,(0,h.l)(w.Qq)),r.__param(12,(0,h.l)(A.g4)),r.__param(13,(0,h.l)(x.Cz)),r.__param(14,(0,h.l)(z.YG)),r.__param(15,(0,h.l)(B.xp)),r.__param(16,(0,h.l)(C.sia)),r.__param(17,(0,h.l)(g.Zha)),r.__param(18,(0,h.l)(a.Fz))],D);b.rT=D;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.yHa=void 0;c=a(52);b.yHa=function(m,k){this.tMb=m;this.size=k.jva()?c.Ia:k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nwa=void 0;b.Nwa=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var m=a[0],k=c(m),l=1;l < a.length;l++){d=a[l];f=c(d);f > k && (m=d,k=f);}return m;}};},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x){this.platform=v;this.config=u;this.Da=w;this.userAgentData=x;this.ZSa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;r=a(0);m=a(1);k=a(28);l=a(19);d=a(3);f=a(48);h=a(5);g=a(12);n=a(25);p=a(13);q=a(193);a=a(218);c.prototype.Jr=function(v,u,w){w && (v.adlid=w.Yb,v.abitrate=w.bitrate);u && (v.vdlid=u.Yb,v.vbitrate=u.bitrate);};c.prototype.T7a=function(v,u,w){w?v=Object.assign(v,(0,q.e6a)(this.platform.kt,w)):v.errorcode=d.W.ho;v.errorcode === this.platform.kt + d.W.JNa && (v.lastSyncWithVideoElement=this.getTime() - u.R0);};c.prototype.Y7a=function(v,u){var w;Object.assign(v,(0,q.qta)());try{w=u.getBoundingClientRect();v.rendersize=w.width + "x" + w.height;v.renderpos=w.left + "x" + w.top;}catch(x){}};c.prototype.X7a=function(v,u){var w,x,y;w=u.vc[k.Pb.cb.Jb].value;x=u.vc[k.Pb.cb.dc].value;y=u.Of.value;u=u.De.value;w && (v.cdnid=w.id,v.cdnname=w.name);x && (v.acdnid=x.id,v.acdnname=x.name);if(null === y || void 0 === y?0:y.stream)(v.adlid=y.stream.Yb,v.abitrate=y.stream.bitrate);if(null === u || void 0 === u?0:u.stream)(v.vdlid=u.stream.Yb,v.vbitrate=u.stream.bitrate,v.vheight=u.stream.height,v.vwidth=u.stream.width);};c.prototype.V7a=function(v,u,w){0 <= u.mediaTime.value && (u=w && !u.fb.Sh?u.b8:u.mediaTime.value,v.moff=(0,n.rn)(u),v.moffms=(0,n.mg)(u));};c.prototype.P$=function(v,u){u.Wf && (v.pbcid=u.Wf);u.zh && (v.playbackcontextid=u.zh);};c.prototype.Bua=function(v){var u,w;v.browserua=p.SG;v.browseruad=null === (w=null === (u=p.Ue.userAgentData) || void 0 === u?void 0:u.brands) || void 0 === w?void 0:w.map(function(x){return [x.brand,x.version];});v.browseruadpv=this.userAgentData.platformVersion;v.browserhref=location.href;(u=p.Ue && p.Ue.connection && p.Ue.connection.type) && (v.nettype=u);};c.prototype.BP=function(v){var u,w,x,y,z;if(this.config().wNb){z=null === (u=null === p.Ue || void 0 === p.Ue?void 0:p.Ue.connection) || void 0 === u?void 0:u.effectiveType;u=null === p.Ue || void 0 === p.Ue?void 0:p.Ue.deviceMemory;z && (v.effectiveType=z);u && (v.deviceMemory=u);}(z=null === (w=null === p.Ue || void 0 === p.Ue?void 0:p.Ue.connection) || void 0 === w?void 0:w.type) && (v.connectionType=z);w=null === (x=null === p.Ue || void 0 === p.Ue?void 0:p.Ue.connection) || void 0 === x?void 0:x.downlink;"number" === typeof w && isFinite(w) && (v.downlink=w);x=null === (y=null === p.Ue || void 0 === p.Ue?void 0:p.Ue.connection) || void 0 === y?void 0:y.rtt;"number" === typeof x && isFinite(x) && (v.rtt=x);};c.prototype.Q$=function(v,u){if(u=u.fb.Qn)(u.isUIAutoPlay && (v.isUIAutoPlay=!0),u.clLogId && (v.cl_log_id=u.clLogId));};c.prototype.CP=function(v,u,w,x){var y,z,A,B,C;y=this;if(w=w && w.streams){A=new Set();B=new Set();C=new Set();w.forEach(function(D){D=D.Af;A.add(D);B.add(D.replace(y.ZSa,""));(D=D.match(y.ZSa)) && 0 < D.length && C.add(D[1]);});v.videoProfiles=[].concat(ia(A));v.videoProfile=0 === B.size?"none":[].concat(ia(B))[0];v.videoProfileLevels=[].concat(ia(C));w && w.length && (v.isMcClearen=! !w[0].Fj.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}u && (null === (z=x.ja) || void 0 === z?0:z.y1) && (v.videoProfilesStatus=this.$$a(x.ja.y1));};c.prototype.$$a=function(v){return this.f_b(v.oP(),function(u){return u.supported?!0:u.reason;});};c.prototype.f_b=function(v,u){return Object.entries(v).reduce(function(w,x){var y;y=na(x);x=y.next().value;y=y.next().value;w[x]=u(y);return w;},{});};c.prototype.P7a=function(v,u,w){var x,y;if(u=u && u.streams){y={};u.forEach(function(z){y[z.Af]=void 0;});v.audioProfiles=Object.keys(y);}(null === (x=w.ja) || void 0 === x?0:x.LV) && (v.audioProfilesStatus=this.$$a(w.ja.LV));};c.prototype.S7a=function(v){v.configversion=this.config().version;this.config().endpoint || (v.configendpoint="error");};c.prototype.getTime=function(){return this.Da.Tb().fa(h.ma);};t=c;t=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(f.Qq)),r.__param(1,(0,m.l)(g.Nc)),r.__param(2,(0,m.l)(l.cd)),r.__param(3,(0,m.l)(a.fka))],t);b.ALa=t;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t,v){this.sg=n;this.config=p;this.za=q;this.Da=t;this.owa=v;}Object.defineProperty(b,"__esModule",{value:!0});b.uT=void 0;r=a(0);m=a(50);k=a(1);l=a(191);d=a(12);f=a(30);h=a(19);g=a(1242);c.prototype.create=function(n,p,q){var t;t=this.owa.create(n,p);return new g.wT(n,p,q,this.sg,this.config,this.Da,t);};a=c;a=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(m.bo)),r.__param(1,(0,k.l)(d.Nc)),r.__param(2,(0,k.l)(f.Eh)),r.__param(3,(0,k.l)(h.cd)),r.__param(4,(0,k.l)(l.sT))],a);b.uT=a;},function(r,b,a){var m,k,l,d,f;function c(h,g,n,p,q,t,v){var u;u=this;this.j=h;this.ya=g;this.sg=p;this.config=q;this.Da=t;this.qb=v;this.HB=function(w,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === u.I && w(y);};};this.W$a=this.HB(function(w){u.vea(w.yJ);},function(w){return w.I;});this.T$a=this.HB(function(){u.gW();},function(w){return w.I;});this.g_a=this.HB(function(){u.gW();},function(w){return w.movieId;});this.Poa=this.HB(function(){u.j.zb.value === f.ib.Dc && (u.j.zb.removeListener(u.Poa),u.iw());},function(){return u.j.I;});this.DC=function(w){u.Sr && u.qb.DC(w);};this.m_a=this.HB(this.qb.OGb,function(w){return w.I;});this.Q1a=this.HB(this.qb.nMb,function(w){return w.I;});this.t$a=this.HB(this.qb.eZ,function(w){return u.j.Wj(w.segmentId).I;});this.bhb=this.HB(this.qb.p0,function(w){return u.j.Wj(w.segmentId).I;});this.F1a=this.HB(this.qb.wqa,function(w){return w.I;});this.Zk=function(w){w.skip && (u.Rl=!0);switch(w.cause){case f.Ve.oD:case f.Ve.D4:u.Zt && u.Jq && u.qb.Mya(u.getTime() - u.Jq,u.Zt);u.Zt="repos";u.qb.hR(w.Uxa,w.Of,w.De);u.Jq=u.getTime();(0,d.jg)(u.Lx);break;case f.Ve.I2:(u.Zt="force_rebuffer",u.Jq=u.getTime(),(0,d.jg)(u.Lx));}};this.Zm=function(w){u.EB=w.oldValue;u.qb.Zm(w);};this.Lx=function(){var w;if(u.Jq && u.j.zb.value !== f.ib.cg){w=u.getTime() - u.Jq;u.qb.nR(w,u.Rl,u.Zt);u.EB && u.EB != u.j.yc.value && u.qb.Lna();u.Jq=void 0;u.Zt=void 0;u.Rl=void 0;}};this.iw=function(){u.Sr || (u.Sr=!0,u.qb.ZF(!1),u.Kua(),u.config().X$ && (u.BB=nb.setTimeout(function(){u.sg.flush(!1).catch(function(){return u.log.warn("failed to flush log batcher on initialLogFlushTimeout");});u.BB=void 0;},u.config().X$)));};this.Xg=function(){u.BB && (nb.clearTimeout(u.BB),u.BB=void 0);if(u.config().A8 || u.config().HN)(u.yqa && (nb.clearInterval(u.yqa),u.yqa=void 0),u.qb.D1a());u.m1 && u.m1();u.Sr?u.qb.LI(! !u.j.Ti):u.j.Ti?u.qb.ZF(!0):u.ya.background || u.qb.Nya();};this.A1=function(w){w.oldValue && w.Mk && w.Mk.qI && u.qb.dO(w.oldValue,w.newValue,w.Mk.qI,w.Mk.VV);};this.w_=function(w){var x;if(w.newValue){x=w.newValue.stream;u.FJ != x && (u.FJ && x && u.qb.cAa(u.FJ,x,w.newValue.cn.startTime),u.FJ=x);}};this.I=g.I;this.log=(0,k.Ui)(h,"LogblobBuilder");this.ta();n && this.vea();}Object.defineProperty(b,"__esModule",{value:!0});b.wT=void 0;m=a(17);k=a(8);l=a(5);d=a(58);f=a(16);c.prototype.ta=function(){this.j.addEventListener(f.ia.IJ,this.W$a);this.j.addEventListener(f.ia.Cwa,this.T$a);this.j.addEventListener(f.ia.eZ,this.t$a);this.j.addEventListener(f.ia.p0,this.bhb);this.j.addEventListener(f.ia.Xg,this.g_a);this.j.addEventListener(f.ia.xE,this.F1a,m.b4);if(this.config().A8 || this.config().HN)(this.j.addEventListener(f.ia.xE,this.Q1a),this.yqa=nb.setInterval(this.qb.D1a,this.config().sMb));this.config().jAa && this.j.addEventListener(f.ia.xE,this.m_a);};c.prototype.vea=function(h){var g;g=this;this.pbb || (this.j.zb.value !== f.ib.Dc || (void 0 === h?0:h)?this.j.zb.addListener(this.Poa):this.iw(),this.j.nj.addListener(this.DC),this.j.jc.addListener(this.qb.Bm),this.j.yc.addListener(this.Zm),this.j.Kh.addListener(this.qb.NV),this.j.paused.addListener(this.qb.Cca),this.j.De.addListener(this.w_),this.j.zb.addListener(this.Lx),this.j.zb.addListener(this.qb.ikb),this.j.pf.addListener(this.A1),this.j.playbackRate.addListener(this.qb.C0),this.j.addEventListener(f.ia.Ni,this.qb.Ni),this.j.addEventListener(f.ia.GN,this.qb.GN),this.j.addEventListener(f.ia.RR,this.qb.RR),this.j.addEventListener(f.ia.FA,function(n){g.Zt="rebuffer";g.qb.FA(n);g.Jq=g.getTime();(0,d.jg)(g.Lx);}),this.j.addEventListener(f.ia.Zk,this.Zk),this.j.addEventListener(f.ia.WR,this.qb.WR),this.ya.sr && this.ya.sr.addListener(this.qb.sr),this.pbb=!0);};c.prototype.gW=function(){this.Xg();this.pbb && (this.j.removeEventListener(f.ia.IJ,this.W$a),this.j.removeEventListener(f.ia.Cwa,this.T$a),this.j.removeEventListener(f.ia.eZ,this.t$a),this.j.removeEventListener(f.ia.p0,this.bhb),this.j.nj.removeListener(this.DC),this.j.jc.removeListener(this.qb.Bm),this.j.yc.removeListener(this.Zm),this.j.Kh.removeListener(this.qb.NV),this.j.paused.removeListener(this.qb.Cca),this.j.De.removeListener(this.w_),this.j.zb.removeListener(this.Lx),this.j.zb.removeListener(this.Poa),this.j.zb.removeListener(this.qb.ikb),this.j.pf.removeListener(this.A1),this.j.playbackRate.removeListener(this.qb.C0),this.j.removeEventListener(f.ia.xE,this.F1a),this.j.removeEventListener(f.ia.Xg,this.g_a),this.j.removeEventListener(f.ia.Ni,this.qb.Ni),this.j.removeEventListener(f.ia.GN,this.qb.GN),this.j.removeEventListener(f.ia.RR,this.qb.RR),this.j.removeEventListener(f.ia.FA,this.qb.FA),this.j.removeEventListener(f.ia.Zk,this.Zk),this.j.removeEventListener(f.ia.WR,this.qb.WR),this.ya.sr && this.ya.sr.removeListener(this.qb.sr),this.j.removeEventListener(f.ia.xE,this.Q1a),this.j.removeEventListener(f.ia.xE,this.m_a));};c.prototype.getTime=function(){return this.Da.Tb().fa(l.ma);};c.prototype.Kua=function(){var h,g,n;h=this;n=[];this.config().Xab && (this.config().Yab.forEach(function(p){n.push(nb.setTimeout(h.qb.rF,p));}),this.config().vba && (g=nb.setInterval(this.qb.rF,this.config().vba)),this.m1=function(){n.forEach(function(p){nb.clearTimeout(p);});g && nb.clearInterval(g);});};b.wT=c;},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.Gbb=void 0;r=a(1);c=a(1244);m=a(71);k=a(514);l=a(1245);d=a(516);f=a(515);h=a(1246);g=a(466);n=a(1250);b.Gbb=new r.xd(function(p){p(k.nTa).to(c.mTa).ha();p(m.Ww).gG(function(){return nb._cad_global.http;});p(d.eNa).to(l.dNa).ha();p(f.fNa).Cm(h.default);p(g.PJa).to(n.OJa).ha();});},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mTa=void 0;r=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};m=c;m=r.__decorate([(0,a.Y)()],m);b.mTa=m;},function(r,b,a){var m,k,l,d;function c(f,h,g){this.config=f;this.sZb=h;this.Vb=g;}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;r=a(0);m=a(342);k=a(1);l=a(192);a=a(515);c.prototype.NJb=function(){if(this.config.wlb)return this.Vb(this.sZb());};d=c;d=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(m.cNa)),r.__param(1,(0,k.l)(l.ZMa)),r.__param(2,(0,k.l)(a.fNa))],d);b.dNa=d;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1247);m=a(1248);k=a(1249);b.default=function(l){var d;l=new c.$fa(l);d=new k.Esb(l);return new m.Dsb(l,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.q$a=c;}a.prototype.uBa=function(c){try{this.q$a.setItem("gtp",JSON.stringify(c));}catch(m){return !1;}return !0;};a.prototype.q5a=function(){var c;try{c=this.q$a.getItem("gtp");if(c)return JSON.parse(c);}catch(m){}};a.prototype.Oo=function(){var c;c=this.q5a();if(c && c.tp)return c.tp.a;};a.prototype.bSb=function(){var c;c=this.Qsa();if(c)return c.p25;};a.prototype.cSb=function(){var c;c=this.Qsa();if(c)return c.p50;};a.prototype.dSb=function(){var c;c=this.Qsa();if(c)return c.p75;};a.prototype.Qsa=function(){var c;c=this.q5a();if(c && (c=c.iqr))return c;};return a;})();b.$fa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,m){this.Gx=c;this.Cxa=m;}a.prototype.uBa=function(c){return this.Gx.uBa(c);};a.prototype.Oo=function(){return this.Gx.Oo();};return a;})();b.Dsb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Gx=c;}a.prototype.Cxa=function(){var c,m,k;c=this.Gx.bSb();m=this.Gx.cSb();k=this.Gx.dSb();if("number" === typeof c && "number" === typeof m && "number" === typeof k)return (k - c) / m;};return a;})();b.Esb=r;},function(r,b,a){var m,k,l;function c(d,f){this.lf=f;this.Ca=d.mb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.OJa=void 0;r=a(0);m=a(1);k=a(6);a=a(71);c.prototype.download=function(d,f){var h;h=this;f=void 0 === f?{zab:0}:f;return new Promise(function(g,n){var q;function p(t){if(t.ea)return g(t.content);if(q === f.zab)return n({xa:t.xa,pJ:t.xl});q++;!1;h.lf.download(d,p);}q=0;h.lf.download(d,p);});};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(a.Ww))],l);b.OJa=l;},function(r,b,a){var c,m,k,l,d,f,h,g;Object.defineProperty(b,"__esModule",{value:!0});b.f4a=void 0;r=a(1);c=a(1252);m=a(1253);k=a(1254);l=a(1255);d=a(1256);f=a(517);h=a(518);g=a(171);b.f4a=new r.xd(function(n){n(g.RIa).to(c.QIa).ha();n(g.DQa).to(m.CQa).ha();n(g.BQa).to(k.AQa).ha();n(f.NIa).to(l.MIa).ha();n(h.SJa).to(d.RJa).ha();});},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t,v,u,w,x){this.config=p;this.F7a=q;this.wc=t;this.ug=v;this.f8b=u;this.gAa=w;this.eYb=0;this.Ca=x.mb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;r=a(0);k=a(1);l=a(5);d=a(47);f=a(6);h=a(517);g=a(518);a=a(171);c.prototype.start=function(){this.config.enabled && !this.$t && (this.$t=this.wc.Bj(this.config.Aib,this.Ry.bind(this)));};c.prototype.stop=function(){this.$t && (this.$t.cancel(),this.$t=void 0);};c.prototype.Ry=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.eYb++;this.RTb(q).then(function(t){return Promise.all(t.urls.map(function(v){return p.JUb(t,v.url,v.name);})).then(function(v){0 < v.length && p.f8b.S_({data:v,context:t.context,pwa:t.pwa});}).then(function(){return t;});}).then(function(t){p.$t && (t.B9a?p.$t=p.wc.Bj(t.B9a,p.Ry.bind(p)):p.stop());}).catch(function(t){return p.Ca.error("FTL run failed",t);});};c.prototype.RTb=function(p){var q;q=this;return this.F7a.get(p,!1).then(function(t){var v;if(200 != t.status || null == t.body)return (q.gAa.S_({url:p,status:t.status,Iya:"FTL API request failed",Be:t.Be}),Promise.reject(Error("FTL API request failed: " + t.status)));v=q.ug.parse(t.body);return v instanceof Error?(q.gAa.S_({url:p,status:4,Iya:"FTL Probe API JSON parsing error",Be:t.Be}),Promise.reject(v)):Promise.resolve(v);}).catch(function(t){t instanceof Error && (q.gAa.S_({url:p,status:0,Iya:t.message}),q.Ca.error("FTL API call failed",t.message));return Promise.reject(t);});};c.prototype.JUb=function(p,q,t){var v;v=this;return new Promise(function(u,w){var F;for(var x,y,z,A,B=[],C={},D=0;D < p.u6b;(C={Lfa:C.Lfa,Mfa:C.Mfa},++D)){C.Lfa=D < p.Jeb.length?p.Jeb[D]:l.Ia;C.Mfa="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);F=(function(G){return function(){return new Promise(function(E,H){v.wc.Bj(G.Lfa,function(){m.Y5b(v.F7a,G.Mfa,p.t6b).then(function(L){function K(I,R,O){I || (I=O.headers[R]);return I;}x=K(x,"via",L);y=K(y,"x-ftl-probe-data",L);z=K(z,"x-ftl-error",L);A=K(A,"latency-trace",L);L={status:L.status,Be:L.Be,$ec:x || "",iGb:y || "",fX:z || "",IYb:v.W3b(A)};E(L);}).catch(function(L){H(L);});});});};})(C);B.push(0 < D?B[D - 1].then(F):F());}Promise.all(B).then(function(G){u({url:q,name:t,data:G});}).catch(function(G){w(G);});});};c.prototype.W3b=function(p){var q;if(p){q={};p=na(p.split(";"));for(var t=p.next();!t.done;t=p.next()){if((t=t.value.trim().split("=")) && 2 == t.length)try{q[t[0].trim()]=Number.parseInt(t[1]);}catch(v){}}return q;}};c.Y5b=function(p,q,t){return p.get(q,!1,t).then(function(v){return Object.assign({},v);});};n=m=c;n=m=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(a.PIa)),r.__param(1,(0,k.l)(g.SJa)),r.__param(2,(0,k.l)(d.Mj)),r.__param(3,(0,k.l)(h.NIa)),r.__param(4,(0,k.l)(a.DQa)),r.__param(5,(0,k.l)(a.BQa)),r.__param(6,(0,k.l)(f.ub))],n);b.QIa=n;},function(r,b,a){var m,k,l,d,f,h;function c(g,n){this.sg=g;this.exa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.CQa=void 0;r=a(0);k=a(1);l=a(52);d=a(5);f=a(50);a=a(87);c.prototype.S_=function(g){var n;n={ctx:g.context,data:g.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return m.Ifc({d:q.Be.duration.fa(d.ma),sc:q.status,sz:q.Be.size.fa(l.Rw),via:q.$ec,cip:q.iGb,err:q.fX},q);})};})};g=this.exa.hv(g.pwa,"info",n);this.sg.Gc(g);};c.Ifc=function(g,n){m.Ex(g,"dns",n.Be.K1a);m.Ex(g,"tcp",n.Be.LCa);m.Ex(g,"tls",n.Be.VCa);m.Ex(g,"ttfb",n.Be.RCa);m.PBb(g,n.IYb);return g;};c.PBb=function(g,n){n && (g.rtts=n);};c.Ex=function(g,n,p){p && (g[n]=p.fa(d.ma));};h=m=c;h=m=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(f.bo)),r.__param(1,(0,k.l)(a.Cz))],h);b.CQa=h;},function(r,b,a){var m,k,l,d,f,h;function c(g,n){this.sg=g;this.exa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.AQa=void 0;r=a(0);k=a(1);l=a(52);d=a(5);f=a(50);a=a(87);c.prototype.S_=function(g){g=this.exa.hv("ftlProbeError","info",m.Hfc({url:g.url,sc:g.status,pf_err:g.Iya},g));this.sg.Gc(g);};c.Hfc=function(g,n){n.Be && (n=n.Be,m.Ex(g,"d",n.duration),m.Ex(g,"dns",n.K1a),m.Ex(g,"tcp",n.LCa),m.Ex(g,"tls",n.VCa),m.Ex(g,"ttfb",n.RCa),g.sz=n.size.fa(l.Rw));return g;};c.Ex=function(g,n,p){p && (g[n]=p.fa(d.ma));};h=m=c;h=m=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(f.bo)),r.__param(1,(0,k.l)(a.Cz))],h);b.AQa=h;},function(r,b,a){var m,k,l,d,f;function c(h,g){this.is=h;this.json=g;(0,k.sq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.MIa=void 0;r=a(0);m=a(1);k=a(55);l=a(38);d=a(5);a=a(27);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.Ima(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.oV(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.oV(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.VD(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.oV(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.VD(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.qo(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.BV(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var g=0;g < h.urls.length;++g){n=h.urls[g];if(!this.is.Ima(n))throw Error("FtlProbe: param.urls[" + g + "]: not an object");if(!this.is.Uu(n.name))throw Error("FtlProbe: param.urls[" + g + "].name: not a string");if(!this.is.Uu(n.url))throw Error("FtlProbe: param.urls[" + g + "].url: not a string");}return {u6b:h.pulses,Jeb:h.pulse_delays?h.pulse_delays.map(d.qc):[],t6b:(0,d.qc)(h.pulse_timeout),B9a:h.next?(0,d.qc)(h.next):void 0,urls:h.urls,pwa:h.logblob,context:h.ctx};};f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Og)),r.__param(1,(0,m.l)(l.HG))],f);b.MIa=f;},function(r,b,a){var m,k,l,d,f,h,g,n,p;function c(q,t,v){this.za=q;this.Mfc=t;this.performance=v;(0,k.sq)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.RJa=void 0;r=a(0);k=a(55);l=a(285);d=a(52);f=a(38);h=a(30);g=a(1);n=a(514);p=a(5);c.prototype.get=function(q,t,v){var u;u=this;return new Promise(function(w,x){var y,z,A;try{y=u.Mfc.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);t && (y.withCredentials=!0);v && (y.timeout=v.fa(p.ma));z=u.za.Bf;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=u.za.Bf.Aa(z);break;case XMLHttpRequest.DONE:B=u.za.Bf.Aa(z);B={body:y.responseText,status:y.status,headers:m.sya(y.getAllResponseHeaders()),Be:u.Ysa(q,(0,d.ca)(y.responseText.length),B,A)};w(B);}};y.send();}catch(B){x(B);}});};c.sya=function(q){var t,u,w;t={};q=q.split("\r\n");for(var v=0;v < q.length;v++){u=q[v];w=u.indexOf(": ");0 < w && (t[u.substring(0,w).toLowerCase()]=u.substring(w + 2));}return t;};c.prototype.Ysa=function(q,t,v,u){t={size:t,duration:v,RCa:u};if(!this.performance || !this.performance.getEntriesByName)return t;v=this.performance.getEntriesByName(q);if(0 == v.length && (v=this.performance.getEntriesByName(q + "/"),0 == v.length))return t;q=v[v.length - 1];t=(0,l.aQ)(t);q.decodedBodySize && (t.size=(0,d.ca)(q.decodedBodySize));0 < q.duration?t.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (t.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (t.K1a=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),t.LCa=(0,p.timestamp)(q.connectEnd - q.connectStart),t.RCa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?t.VCa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (v=q.connectEnd - q.secureConnectionStart,t.VCa=(0,p.timestamp)(v),t.LCa=(0,p.timestamp)(q.connectEnd - q.connectStart - v)));return t;};a=m=c;a=m=r.__decorate([(0,g.Y)(),r.__param(0,(0,g.l)(h.Eh)),r.__param(1,(0,g.l)(n.nTa)),r.__param(2,(0,g.l)(f.Xia)),r.__param(2,(0,g.optional)())],a);b.RJa=a;},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.Feb=void 0;r=a(1);c=a(343);m=a(1258);k=a(194);l=a(1259);b.Feb=new r.xd(function(d){d(c.IHa).to(m.HHa).ha();d(k.qT).to(l.gLa).ha();});},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t,v){this.Ci=p;this.YD=q;this.Nec=t;this.VP=v;}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;r=a(0);m=a(1);k=a(31);l=a(32);d=a(74);f=a(119);h=a(57);g=a(49);a=a(194);c.prototype.wh=function(p){var q;q=this;return this.Ci.kE(p.Ik[0].data[0],[8,4])?Promise.resolve({Me:[{id:"ddd",HJ:"cert",aZ:void 0}],$j:[{sessionId:"ddd",data:new Uint8Array(this.YD.decode(g.dTa))}]}):this.Ci.kE(p.Ik[0].data[0],this.Nec.decode("certificate"))?Promise.resolve({Me:[{id:"ddd",HJ:"cert",aZ:void 0}],$j:[{sessionId:"ddd",data:new Uint8Array(this.YD.decode(g.H2))}]}):this.VP.Dx(this.cQb(p)).then(function(t){return q.dQb(t);});};c.prototype.release=function(p){return this.VP.release(this.gQb(p)).then(function(){});};c.prototype.cQb=function(p){var q,t;q=this;t=p.Ik.map(function(v){return v.data.map(function(u){return {sessionId:v.sessionId,dataBase64:q.YD.encode(u)};});});return {da:p.da,zh:p.zh,B8:p.B8,rg:(0,h.$va)(p.rg),Go:f.Hm[p.Go],Ik:t.reduce(function(v,u){return v.concat(u);},[]),tj:p.tj};};c.prototype.gQb=function(p){return {da:p.da,Me:p.Me};};c.prototype.dQb=function(p){return {Me:p.Me,$j:p.$j};};n=c;n=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ci)),r.__param(1,(0,m.l)(l.Di)),r.__param(2,(0,m.l)(d.Gu)),r.__param(3,(0,m.l)(a.qT))],n);b.HHa=n;},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p,q,t){this.hBb=g;this.C7b=n;this.Zfb=q;this.J8b=t;this.Ca=p.mb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.gLa=void 0;r=a(0);m=a(1);k=a(6);l=a(519);a(520);d=a(524);f=a(525);a=a(290);c.prototype.Dx=function(g){var n,p;n=this;!1;p=this.Zfb.Xcc(g);return this.hBb.cq(this.Ca,g.tj,p).then(function(q){q.map(function(t){return t.MYb;});return n.J8b.lkb(q);}).catch(function(q){n.Ca.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(g){var n;n=this;!1;g=this.Zfb.$cc(g);return this.C7b.Lf(this.Ca,g).then(function(){return {ea:!0};}).catch(function(p){n.Ca.error("PBO release license failed",p);return Promise.reject(p);});};h=c;h=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.ZNa)),r.__param(1,(0,m.l)(d.MOa)),r.__param(2,(0,m.l)(k.ub)),r.__param(3,(0,m.l)(f.oOa)),r.__param(4,(0,m.l)(a.Tia))],h);b.gLa=h;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w;function c(x){return function(){return x.wb.get(m.HOa).ta();};}Object.defineProperty(b,"__esModule",{value:!0});b.kK=void 0;r=a(1);m=a(159);k=a(268);l=a(291);d=a(526);f=a(1261);h=a(1262);g=a(527);n=a(1263);p=a(528);q=a(1264);t=a(292);v=a(1265);u=a(529);w=a(1266);b.kK=new r.xd(function(x){x(g.uPa).to(n.tPa).ha();x(k.Via).to(l.DOa).ha();x(d.eOa).to(f.dOa).ha();x(m.HOa).to(h.GOa).ha();x(m.LT).d1(c);x(u.FOa).to(w.EOa).ha();x(p.kOa).to(q.jOa).ha().E1();x(t.JOa).to(v.IOa).ha();x(t.AOa).to(v.zOa).ha();x(t.COa).to(v.BOa).ha();});},function(r,b,a){var l,d,f,h,g,n,p,q,t,v;function c(){}function m(){}function k(u,w,x,y,z){var A;A=this;this.is=u;this.Cq=w;this.config=x;this.EI=y;this.e4b=z;this.Gw=function(){return new c().encode({version:A.version,data:A.kK});};this.qec=function(B){B=A.upgrade(B);A.e4b.validate(B);return B;};this.upgrade=function(B){var C;if(A.is.qo(B))return A.rec(B);C=B.version;if(void 0 != C && A.is.po(C) && 1 == C)return A.sec(B);C=B.version;if(void 0 != C && A.is.po(C) && 2 == C)return new c().decode(B);if(B.version && A.is.po(B.version))throw new g.gd(f.W.dD,f.T.SFa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new g.gd(f.W.dD,f.T.XC,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.Pl=new n.Hha(2,this.config().Odb,"" !== this.config().Odb && 0 < this.config().J4b,this.Cq,this.Gw);}Object.defineProperty(b,"__esModule",{value:!0});b.dOa=void 0;r=a(0);l=a(1);d=a(12);f=a(3);h=a(27);g=a(37);n=a(332);p=a(94);q=a(90);t=a(291);a=a(292);k.prototype.K6b=function(){return this.Pl.load(this.qec).catch(function(u){throw new g.gd(f.W.dD,u.xa || u.Hc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u);});};k.prototype.TBb=function(u){return this.Pl.add(u);};k.prototype.Ffb=function(u){return this.Pl.remove(u,function(w,x){return w.da === x.da;});};k.prototype.yDa=function(u){return this.Pl.update(u,function(w,x){return w.da === x.da;});};k.prototype.toString=function(){return JSON.stringify(this.Gw(),null,"  ");};k.prototype.klb=function(u){return u?"/events?playbackContextId=" + u + "&esn=" + this.EI().yl:"";};k.prototype.DDa=function(u){return u.map(function(w){return {Yb:w.downloadableId,duration:w.duration};});};k.prototype.llb=function(u){var w;return u?{total:u.playTimes.total,oL:null !== (w=u.playTimes.totalContentTime) && void 0 !== w?w:u.playTimes.total,$R:u.playTimes.total,hG:0,iG:0,audio:this.DDa(u.playTimes.audio || []),video:this.DDa(u.playTimes.video || []),text:this.DDa(u.playTimes.timedtext || [])}:{total:0,oL:0,$R:0,hG:0,iG:0,audio:[],video:[],text:[]};};k.prototype.rec=function(u){var w,x,y;w=this;u=JSON.parse(u);x={type:"online",href:this.klb(u.playbackContextId),da:u.xid?u.xid.toString():"",I:u.movieId,position:u.position,MA:u.timestamp,Rn:u.playback?1E3 * u.playback.startEpoch:-1,fQ:u.mediaId,Nt:this.llb(u.playback),trackId:"",Qn:{},profileId:u.accountKey};y=JSON.stringify({keySessionIds:u.keySessionIds,movieId:u.movieId,xid:u.xid,licenseContextId:u.licenseContextId,profileId:u.profileId});this.Cq.create().then(function(z){z.save(w.config().SW,y,!1);});if("" === x.href || "" === x.da)throw new g.gd(f.W.dD,f.T.XC);return {version:2,data:[x]};};k.prototype.sec=function(u){var w;w=this;if(!u.playdata || !this.is.VD(u.playdata))throw new g.gd(f.W.dD,f.T.XC,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,u);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:w.klb(y.playbackContextId),da:y.xid?y.xid.toString():"",I:y.movieId,position:y.position,MA:y.timestamp,Rn:y.playback?1E3 * y.playback.startEpoch:-1,fQ:y.mediaId,Nt:w.llb(y.playback),trackId:"",Qn:{},profileId:y.profileId};});})(u.playdata)};};Ua.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Pl.version;}},kK:{configurable:!0,enumerable:!0,get:function(){return this.Pl.$m;}}});v=k;v=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(h.Og)),r.__param(1,(0,l.l)(p.TC)),r.__param(2,(0,l.l)(d.Nc)),r.__param(3,(0,l.l)(q.uz)),r.__param(4,(0,l.l)(a.COa))],v);b.dOa=v;m.prototype.encode=function(u){var w;w=new t.f4();return u.map(w.encode);};m.prototype.decode=function(u){var w;w=new t.f4();return u.map(w.decode);};c.prototype.encode=function(u){return {version:u.version,data:new m().encode(u.data)};};c.prototype.decode=function(u){return {version:u.version,data:new m().decode(u.data)};};},function(r,b,a){var l,d,f,h,g,n,p,q,t,v,u,w,x;function c(y,z,A,B,C,D,F,G){this.config=y;this.wc=A;this.bz=B;this.kw=C;this.Nca=D;this.ti=F;this.DJ=Promise.resolve();this.closed=!1;this.log=z.mb("PlaydataServices");this.jK=[];this.active=new Set();this.N8b=new m(y,G);}function m(y,z){this.config=y;this.za=z;}function k(y,z,A,B,C,D){this.log=y;this.wc=z;this.aj=A;this.kw=B;this.bz=C;this.C4b=D;this.c3a=this.If=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.GOa=b.Gtb=void 0;r=a(0);l=a(1);d=a(5);f=a(6);h=a(47);g=a(268);n=a(526);p=a(527);q=a(3);t=a(291);v=a(528);u=a(103);w=a(30);a=a(145);k.prototype.qQ=function(y,z){var B;function A(){var C;C=B.kw.create(B.aj);B.bz.yDa(C).catch(function(D){var F;F=B.c3a?f.tk.kka:f.tk.ag;B.c3a=!0;B.log.write(F,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.bz.TBb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.$t=B.wc.i0(y,A);}).catch(function(C){B.log.error("Unable to add playdata",{error:C,playdata:new t.f4().encode(z)});B.$t=B.wc.i0(y,A);});};k.prototype.stop=function(y){var z,A;z=this;if(this.If)return Promise.resolve();this.$t && this.$t.cancel();A=this.kw.create(this.aj);return this.bz.yDa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.aj.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.C4b.Xgb(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.bz.Ffb(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.I);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};k.prototype.cancel=function(){this.If=!0;this.$t && this.$t.cancel();this.bz.yDa(this.kw.create(this.aj));};Ua.Object.defineProperties(m.prototype,{mFb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.za.Bf;return !this.DJ || 0 <= y.Aa(this.DJ).bm(this.config.D9a)?(this.DJ=y,!0):!1;}}});b.Gtb=m;c.prototype.ta=function(){var y;y=this;this.$E || (this.log.trace("Starting playdata services"),this.$E=this.bz.K6b().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.$E;};c.prototype.close=function(){this.closed=!0;this.jK.forEach(function(y){y.qQ.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.hK && z.hBa?this.J9b(y):Promise.resolve();};c.prototype.Bq=function(y,z,A){var B;B=this;this.closed || (this.hCa(y),this.jBa(y).catch(function(C){B.log.error("Start command failed",{playdata:C.kK,error:C.fX});}),z && this.eCa(this.eSb(y),y,A));};c.prototype.I0=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.kw.create(y);this.active.delete(A.da);y=na((0,u.hw)(function(C){return C.key === A.da;},this.jK));B=y.next().value;this.jK=y.next().value;return Promise.all(B.map(function(C){C.stopped=!0;return C.qQ.stop(z.config.hBa);})).then(function(){});};c.prototype.hCa=function(y){var z,A;y.Ne("pdb");if(this.config.Gya.GXb()){z=this.kw.create(y);A=z.da;this.jK.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.jK.push({key:A,qQ:this.CSb(y,z),Yy:!1,stopped:!1}));}};c.prototype.J9b=function(y){var z,A,B,C;z=this;A=this.bz.kK.filter(function(D){return !z.active.has(D.da);});B=void 0;C=void 0;y && Infinity === y?B=A:(A=na((0,u.hw)(function(D){return D.I === y;},A)),B=A.next().value,C=A.next().value);C && 0 < C.length && this.wc.Bj(this.config.Ugb,function(){z.Wgb(C);});return B && 0 !== B.length?this.Wgb(B):Promise.resolve();};c.prototype.Wgb=function(y){var A;function z(B){return A.Nca.Xgb(B).then(function(){return A.O7b(B);});}A=this;return y.reduce(function(B,C){return B.then(function(){return z(C);});},Promise.resolve());};c.prototype.O7b=function(y){var z;z=this;return this.bz.Ffb(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.CSb=function(y,z){y=new k(this.log,this.wc,y,this.kw,this.bz,this.Nca);y.qQ(this.config.Gya,z);return y;};c.prototype.jBa=function(y){var z,A;z=this;A=this.kw.create(y);return this.Nca.jBa(y,A).then(function(){!1;z.jK.filter(function(B){return B.key === y.da.toString();}).forEach(function(B){B.Yy=!0;});}).catch(function(B){throw {kK:A,fX:B};});};c.prototype.Vgb=function(y){return this.N8b.mFb?this.n0(v.Sia.PY,y,q.W.Nha):Promise.resolve();};c.prototype.bea=function(y){return this.n0(v.Sia.splice,y,q.W.TQa);};c.prototype.n0=function(y,z,A){var C;function B(D){var F;F=C.jK.filter(function(G){return G.key === D.da.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.Yy;},!1);}C=this;return B(z)?this.DJ:this.DJ=this.DJ.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=C.kw.create(z);return C.Nca.n0(y,z,D);}).then(function(D){!1;return D;}).catch(function(D){var F;C.log.error("Failed to send event",{eventKey:y,xid:z.da,error:D});D.Rk?F=C.ti(A,D):D.VB === q.Q3.eka && (F=C.ti(A,D));throw {fX:D,OQ:F};});};c.prototype.eCa=function(y,z,A){var B;B=this;!1;this.epa();this.Bva=this.wc.Bj(y,function(){B.epa();B.n0(v.Sia.PY,z,q.W.Nha).then(function(){B.eCa(y,z,A);}).catch(function(C){var D;D=C.fX;(C=C.OQ) && A(C);D.VB === q.Q3.eka && B.eCa(y,z,A);});});};c.prototype.Mib=function(){this.epa();};c.prototype.epa=function(){this.Bva && (this.Bva.cancel(),this.Bva=void 0);};c.prototype.eSb=function(y){return y.fb.dua?(0,d.qc)(y.fb.dua):this.config.C9a;};x=c;x=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(p.uPa)),r.__param(1,(0,l.l)(f.ub)),r.__param(2,(0,l.l)(h.Mj)),r.__param(3,(0,l.l)(n.eOa)),r.__param(4,(0,l.l)(g.Via)),r.__param(5,(0,l.l)(v.kOa)),r.__param(6,(0,l.l)(a.NT)),r.__param(7,(0,l.l)(w.Eh))],x);b.GOa=x;},function(r,b,a){var m,k,l,d,f,h;function c(g,n){g=k.qf.call(this,g,"PlaydataConfigImpl") || this;g.config=n;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.tPa=void 0;r=a(0);m=a(1);k=a(46);l=a(34);d=a(45);f=a(5);a=a(40);ka(c,k.qf);Ua.Object.defineProperties(c.prototype,{hK:{configurable:!0,enumerable:!0,get:function(){return this.config.gB?"unsentplaydatatest":"unsentplaydata";}},hBa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Ugb:{configurable:!0,enumerable:!0,get:function(){return (0,f.qc)(1E4);}},Gya:{configurable:!0,enumerable:!0,get:function(){return (0,f.qc)(4E3);}},C9a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Iba)(1);}},D9a:{configurable:!0,enumerable:!0,get:function(){return (0,f.zi)(30);}}});h=c;r.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"hK",null);r.__decorate([d.config(d.Ad,"sendPersistedPlaydata")],h.prototype,"hBa",null);r.__decorate([d.config(d.Fl,"playdataSendDelayMilliseconds")],h.prototype,"Ugb",null);r.__decorate([d.config(d.Fl,"playdataPersistIntervalMilliseconds")],h.prototype,"Gya",null);r.__decorate([d.config(d.Fl,"heartbeatCooldown")],h.prototype,"C9a",null);r.__decorate([d.config(d.Fl,"keepAliveWindow")],h.prototype,"D9a",null);h=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Nm)),r.__param(1,(0,m.l)(a.xp))],h);b.tPa=h;},function(r,b,a){var m,k,l;function c(d,f){this.kW=f;this.log=d.mb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.jOa=void 0;r=a(0);m=a(88);k=a(6);a=a(1);c.prototype.jBa=function(d,f){var h;h=this.kW(m.Mq.start);return this.V2a(h,d,f);};c.prototype.Xgb=function(d){var f;f=this;return this.kW(m.Mq.stop).Lf(this.log,d).then(function(){}).catch(function(h){f.log.error("PBO stop event failed",h);throw h;});};c.prototype.n0=function(d,f,h){d=this.kW(d);return this.V2a(d,f,h);};c.prototype.V2a=function(d,f,h){var g;g=this;return d.cq(this.log,f.ja.tj,h).then(function(){}).catch(function(n){g.log.error("PBO event failed",n);throw n;});};l=c;l=r.__decorate([(0,a.Y)(),r.__param(0,(0,a.l)(k.ub)),r.__param(1,(0,a.l)(m.hha))],l);b.jOa=l;},function(r,b,a){var l,d,f,h;function c(){}function m(g){this.d4b=g;}function k(g){this.f4b=g;}Object.defineProperty(b,"__esModule",{value:!0});b.IOa=b.BOa=b.zOa=void 0;r=a(0);l=a(1);d=a(292);f=a(37);h=a(3);k.prototype.validate=function(g){g.map(this.f4b.validate);};a=k;a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(d.JOa))],a);b.zOa=a;m.prototype.validate=function(g){this.d4b.validate(g.data);};a=m;a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(d.AOa))],a);b.BOa=a;c.prototype.validate=function(g){var n;g.da && "string" === typeof g.da?g.href && "string" === typeof g.href?g.profileId && "string" === typeof g.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new f.gd(h.W.dD,h.T.XC,void 0,void 0,void 0,n,void 0,g.da);};d=c;d=r.__decorate([(0,l.Y)()],d);b.IOa=d;},function(r,b,a){var m,k,l,d;function c(f,h){this.udb=h;this.log=f.mb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.EOa=void 0;r=a(0);m=a(1);k=a(6);l=a(16);a=a(159);c.prototype.Bq=function(f){var h;h=this;this.udb().then(function(g){f.addEventListener(l.ia.IJ,function(n){var p;if(void 0 !== n.TQ){p=f.No(n.TQ);g.I0(p);n.yJ || new Promise(function(q){var t;if(f.jk.value)q();else {t=function(v){v.newValue && (q(),f.jk.removeListener(t));};f.jk.addListener(t);}}).then(function(){return g.Bq(f,h.bib(f),function(q){return f.sI(q);});});}});f.addEventListener(l.ia.iw,function(){g.Bq(f.ka,h.bib(f),function(n){return f.sI(n);});});f.background || f.addEventListener(l.ia.bZ,function(n){var p;n=f.No(n.I);if(n.Oi){p=f.No(n.Oi.Th);h.log.trace("Auxiliary viewable segment (viewableId: " + n.I + "). Starting playdata monitor for parent viewable " + p.I);n=p;}g.hCa(n);});f.addEventListener(l.ia.Xg,function(){g.Mib();});f.addEventListener(l.ia.Hlb,function(){g.Vgb(f.ka).catch(function(n){(n=n.OQ) && f.sI(n);});});f.jc.addListener(function(){f.fb.uqa?h.log.trace("stickiness is disabled for timedtext"):g.bea(f.ka);});f.yc.addListener(function(){f.fb.uqa?h.log.trace("stickiness is disabled for audio"):g.bea(f.ka).catch(function(n){(n=n.OQ) && f.sI(n);});});});};c.prototype.bib=function(f){return f.state.value == l.ac.He;};d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(a.LT))],d);b.EOa=d;},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p){return function(){return new Promise(function(q,t){var v;v=p.wb.get(k.RHa);v.ta().then(function(){q(v);}).catch(function(u){t(u);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.b2a=void 0;r=a(1);m=a(530);k=a(531);l=a(1268);d=a(101);f=a(1269);h=a(532);g=a(1270);n=a(1271);b.b2a=new r.xd(function(p){p(h.rLa).to(g.qLa).ha();p(m.OHa).to(n.sLa);p(d.CS).to(f.PEa).ha();p(k.RHa).to(l.PHa).ha();p(k.QHa).d1(c);});},function(r,b,a){var m,k;function c(l){this.eMb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.PHa=void 0;r=a(0);m=a(1);a=a(530);c.prototype.ta=function(){var l;l=this;this.$E || (this.$E=new Promise(function(d,f){var h;h=[];l.eMb.forEach(function(g){h.push(g.ta());});Promise.all(h).then(function(){d();}).catch(function(g){f(g);});}));return this.$E;};k=c;k=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.VJ)(a.OHa))],k);b.PHa=k;},function(r,b,a){var m,k;function c(){this.aBa="";this.cmb=[[],[]];this.aa=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;r=a(0);m=a(1);a(5);k=a(101);c.prototype.downloadRequest=function(l){var d;"" === this.aBa && (this.aBa=l.V);if(!l.Ec){d=this.Hcc(l);this.aa[l.mediaType].push(d);this.cmb[l.mediaType].forEach(function(f){f.Hlc(d);});}};c.prototype.Hcc=function(l){return {id:l.Vi(),V:l.V,mediaType:l.mediaType,Lk:l.Lk,startTime:l.iC,endTime:l.Ly,offset:l.tw,VN:l.VN,TN:l.TN,duration:l.ln,bitrate:l.bitrate,state:k.cga.X1a,jk:!1,noc:!1,e7a:!1,$mc:k.bga.waiting};};c.prototype.update=function(l){this.cmb[l.mediaType].forEach(function(d){d.rrc(l);});};Ua.Object.defineProperties(c.prototype,{V:{configurable:!0,enumerable:!0,get:function(){return this.aBa;}}});a=c;a=r.__decorate([(0,m.Y)()],a);b.PEa=a;},function(r,b,a){var m,k,l,d,f;function c(h,g){h=l.qf.call(this,h,"LogDisplayConfigImpl") || this;h.sh=g;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.qLa=void 0;r=a(0);m=a(1);k=a(45);l=a(46);d=a(34);a=a(108);ka(c,l.qf);Ua.Object.defineProperties(c.prototype,{R_:{configurable:!0,enumerable:!0,get:function(){return !0;}},XP:{configurable:!0,enumerable:!0,get:function(){return this.sh.XP;}},y$a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;r.__decorate([k.config(k.Ad,"renderDomDiagnostics")],f.prototype,"R_",null);r.__decorate([k.config(k.bF,"logDisplayMaxEntryCount")],f.prototype,"XP",null);r.__decorate([k.config(k.bF,"logDisplayAutoshowLevel")],f.prototype,"y$a",null);f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(d.Nm)),r.__param(1,(0,m.l)(a.WG))],f);b.qLa=f;},function(r,b,a){var l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A;function c(B,C,D,F,G,E,H,L,K,I){var R;R=this;this.za=B;this.Eg=C;this.Ci=D;this.wc=F;this.lp=G;this.config=E;this.EI=H;this.NCa=L;this.zKb=K;this.Cq=I;this.ncc=function(){R.o1.xm(function(){R.update();});};this.clear=function(){R.entries=[];R.update();};this.ebb=function(){R.hf.NP=!R.hf.NP;R.qF && R.sF && (R.hf.NP?(R.qF.style.display="inline-block",R.sF.style.display="none"):(R.sF.style.display="inline-block",R.qF.style.display="none"));R.UK(!1);};this.GZb=function(O){var J;R.entries.push(O);J=R.config.XP;0 <= J && R.entries.length > J && R.entries.shift();void 0 === R.hf.IA[O.Xp] && (R.hf.IA[O.Xp]=!0,R.UK(!1));R.hf.isVisible && !R.Djb?R.ncc():R.o1.xm();};this.mMb=function(){k.download("all",R.entries.map(function(O){return O.Uea(!1,!1);})).catch(function(O){console.error("Unable to download all logs to the file",O);});};this.Qv=!1;this.hf={isVisible:!1,NP:!0,x8:!0,jwa:v.tk.Cha,IA:{}};this.o1=this.NCa((0,p.zi)(1));this.TOb=this.zKb((0,p.qc)(250));this.entries=[];!1;!1;}function m(B){var C;this.elements=[];C=document.createElementNS(m.Q0,"svg");C.setAttribute("viewBox",B);this.elements.push(C);}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.sLa=void 0;r=a(0);l=a(1);d=a(31);f=a(111);h=a(359);g=a(47);n=a(30);p=a(5);q=a(19);t=a(90);v=a(6);u=a(112);w=a(293);x=a(532);y=a(94);z=a(196);A=a(1272);k.download=function(B,C){return k.KRb(B).then(function(D){return k.STb(D,C.join("\r\n")).then(function(F){return k.kMb(F.filename,F.text);});});};k.KRb=function(B){return new Promise(function(C,D){var F,G,E,H,L,K,I;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();H=F.getFullYear().toString();L=F.getHours().toString();K=F.getMinutes().toString();I=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === L.length && (L="0" + L);1 === K.length && (K="0" + K);1 === I.length && (I="0" + I);C(H + E + G + L + K + I + "." + B + ".log");}catch(R){D(R);}});};k.STb=function(B,C){return new Promise(function(D,F){try{D({filename:B,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){F(G);}});};k.kMb=function(B,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};m.prototype.KR=function(){var B;B=document.createElementNS(m.Q0,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};m.prototype.MR=function(B,C,D){var F;F=document.createElementNS(m.Q0,"path");F.setAttribute("d",B);C && F.setAttribute("fill",C);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};m.prototype.F0=function(B,C,D,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(m.Q0,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",C.toString());E.setAttribute("height",D.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};m.prototype.Vac=function(){var B;B=document.createElementNS(m.Q0,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};m.prototype.end=function(){this.elements.pop();return this;};m.prototype.Qi=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};m.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ua.Object.defineProperties(m,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},BI:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});m.Q0="http://www.w3.org/2000/svg";c.prototype.ta=function(){var B;B=this;this.$E || (this.$E=new Promise(function(C){nb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.fD.Erb?B.toggle():D.keyCode == z.fD.E && A.xGa.xHb(B.EI().yl));});B.lp.tda(w.$ha.bpb,B.GZb);C();}));return this.$E;};c.prototype.show=function(){document.body && (this.element || (this.kJb(),this.Qv=!0),!this.hf.isVisible && this.element && (document.body.appendChild(this.element),this.hf.isVisible=!0,this.update(!0)));};c.prototype.fy=function(){this.Qv && this.hf.isVisible && this.element && (document.body.removeChild(this.element),this.hf.isVisible=!1);};c.prototype.toggle=function(){this.hf.isVisible?this.fy():this.show();this.UK(!1);};c.prototype.kJb=function(){var B,C;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(C);B.appendChild(this.Dq=this.bKb());B.appendChild(this.cKb());B.appendChild(this.dJb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.bKb=function(){var B,C;B=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){B.Djb=!0;B.update();B.Dq && (B.Dq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){B.Djb=!1;B.update();B.Dq && (B.Dq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.cKb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.FJb());B.appendChild(this.uJb());B.appendChild(this.pJb());B.appendChild(this.dKb());B.appendChild(this.iJb());B.appendChild(this.LJb());B.appendChild(this.JJb());B.appendChild(this.rJb());B.appendChild(this.jJb());return B;};c.prototype.dJb=function(){var B,C,D,F,G,E;B=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.ay(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(F);D.addEventListener("mousedown",function(H){H.preventDefault();});E=!1;D.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.hf.IA).sort()).forEach(function(H){G.appendChild(B.eJb(H,D));}),G.style.display="block");E=!E;});return C;};c.prototype.eJb=function(B,C){var D,F,G;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.hf.IA[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.hf.IA).forEach(function(E){D.hf.IA[E]="all" === B;}),C.click()):D.hf.IA[B]=!D.hf.IA[B];D.UK(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.FJb=function(){var B,C;B=this;C=this.createElement("select",this.ay(22,NaN,1,2),'<option value="' + v.tk.ag + '">Error</option><option value="' + (v.tk.kka + '">Warn</option><option value="') + (v.tk.Cha + '">Info</option><option value="') + (v.tk.aSa + '">Trace</option><option value="') + (v.tk.R + '">Debug</option>'));C.value=this.hf.jwa.toString();C.addEventListener("change",function(D){B.hf.jwa=parseInt(D.target.value);B.UK(!0);},!1);return C;};c.prototype.uJb=function(){var C,D;function B(F){return C.TOb.xm(function(){var G;G=F.target.value;C.hf.filter=G?new RegExp(G):void 0;C.UK(!0);});}C=this;D=this.createElement("input",this.ay(14,150,1,2));D.value=this.hf.filter?this.hf.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.pJb=function(){var B,C,D,F;B=this;C=this.createElement("div",this.ay(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.hf.x8;D.addEventListener("change",function(G){B.hf.x8=G.target.checked;B.UK(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";C.appendChild(D);C.appendChild(F);return C;};c.prototype.dKb=function(){var B,C,D;B=this;C=this.createElement("button",this.ay());D=new m("0 0 24 24").KR().Vac().end().MR("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",m.BI,"nonzero").end().end().Qi();C.appendChild(D);C.addEventListener("click",function(){B.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.iJb=function(){var B,C;B=this.createElement("button",this.ay());C=new m("0 0 24 24").KR().F0(0,0,24,24,m.background).end().MR("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",m.BI).end().end().Qi();B.appendChild(C);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.LJb=function(){var B;this.sF=this.createElement("button",this.ay());this.sF.style.display=this.hf.NP?"none":"inline-block";B=new m("0 0 24 24").KR().F0(0,0,24,24,m.background).end().MR("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",m.BI,"nonzero").end().end().Qi();this.sF.addEventListener("click",this.ebb,!1);this.sF.appendChild(B);this.sF.setAttribute("title","Shrink the log console");return this.sF;};c.prototype.JJb=function(){var B;this.qF=this.createElement("button",this.ay());this.qF.style.display=this.hf.NP?"inline-block":"none";B=new m("0 0 24 24").KR().F0(4,4,16,16,m.background).end().MR("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",m.BI,"nonzero").end().end().Qi();this.qF.addEventListener("click",this.ebb,!1);this.qF.appendChild(B);this.qF.setAttribute("title","Expand the log console");return this.qF;};c.prototype.rJb=function(){var B,C;B=this.createElement("button",this.ay());C=new m("0 0 26 26").KR().F0(0,0,24,24,m.background).end().MR("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",m.BI,"nonzero").end().end().Qi();B.appendChild(C);B.addEventListener("click",this.mMb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.jJb=function(){var B,C,D;B=this;C=this.createElement("button",this.ay());D=new m("0 0 24 24").KR().F0(0,0,24,24,m.background).end().MR("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",m.BI,"nonzero").end().end().Qi();C.appendChild(D);C.addEventListener("click",function(){B.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.UK=function(B){var C;B=void 0 === B?!1:B;C=void 0 === C?!1:C;!1;B && this.update(C);};c.prototype.update=function(B){var C;C=this;B=void 0 === B?!1:B;this.element && this.config.R_ && Promise.resolve(this.AEb() + this.LRb().join("\r\n")).then(function(D){C.element && C.Dq && (C.Dq.value=D,C.element.style.cssText=C.hf.NP?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && C.wc.Bj(p.Ia,function(){C.Dq.scrollTop=C.Dq.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.LRb=function(){var B,C;B=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= B.hf.jwa && B.hf.IA[D.Xp] && (D=D.Uea(!B.hf.x8,!B.hf.x8),B.hf.filter && !B.hf.filter.test(D) || C.push(D));});return C;};c.prototype.AEb=function(){var B;B=this.EI();return "Version: 6.0037.632.911 \n" + ((B?"Esn: " + B.yl:"") + "\nJsSid: ") + (this.Eg.id + ", Epoch: " + this.za.Bf.fa(p.Cp) + ", Start: " + this.Eg.GB.fa(p.Cp) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,C,D,F){return this.Ci.createElement(B,C,D,F);};c.prototype.ay=function(B,C,D,F){B=void 0 === B?26:B;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + m.BI + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.fbc="logDxDisplay";a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(n.Eh)),r.__param(1,(0,l.l)(q.cd)),r.__param(2,(0,l.l)(d.ci)),r.__param(3,(0,l.l)(g.Mj)),r.__param(4,(0,l.l)(u.TL)),r.__param(5,(0,l.l)(x.rLa)),r.__param(6,(0,l.l)(t.uz)),r.__param(7,(0,l.l)(f.lM)),r.__param(8,(0,l.l)(h.cHa)),r.__param(9,(0,l.l)(y.TC))],a);b.sLa=a;},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xGa=void 0;m=a(13);c.xHb=function(k){var l;if(m.Gh.queryCommandSupported && m.Gh.queryCommandSupported("copy")){l=m.Gh.createElement("textarea");l.textContent=k;l.style.position="fixed";m.Gh.body.appendChild(l);l.select();try{m.Gh.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{m.Gh.body.removeChild(l);}}};b.xGa=c;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Ge=void 0;r=a(1);c=a(1274);m=a(1275);k=a(1276);l=a(143);d=a(341);f=a(508);h=a(1277);g=a(1278);n=a(533);p=a(1279);b.Ge=new r.xd(function(q){q(l.C4).to(c.VRa).ha();q(d.vja).to(k.qQa).ha();q(f.QSa).to(m.PSa).ha();q(h.Nsb).to(g.uNa).ha();q(n.kTa).to(p.jTa).ha();});},function(r,b,a){var m,k,l,d,f,h;function c(g,n){this.is=g;this.json=n;(0,k.sq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.VRa=void 0;r=a(0);k=a(55);l=a(38);d=a(1);f=a(27);h=a(143);c.prototype.$eb=function(g){var n;n=this;return m.read(g,function(p){return parseInt(p);},function(p){return n.is.qna(p);});};c.prototype.Hza=function(g){var n;n=this;return m.read(g,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.F6(p);});};c.prototype.Yr=function(g){var n;n=this;return m.read(g,function(p){return parseInt(p);},function(p){return n.is.CV(p);});};c.prototype.H6b=function(g){var n;n=this;return m.read(g,function(p){return parseFloat(p);},function(p){return n.is.po(p);});};c.prototype.Zeb=function(g,n){return m.read(g,function(p){return m.dPb(p,n);},function(p){return void 0 !== p;});};c.prototype.Kza=function(g,n){return m.read(g,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.afb=function(g){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return m.read(g,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.BV(q) && p(q);});}catch(q){return new h.Oq();}};c.prototype.Yk=function(g,n,p){var q,t;q=this;p=void 0 === p?1:p;g=g.trim();t=n instanceof Function?n:this.MJb(n,p);n=g.indexOf("[");p=g.lastIndexOf("]");if(0 != n || p != g.length - 1)return new h.Oq();g=g.substring(n + 1,p);try{return m.T3b(g).map(function(v){v=t(q,m.Tec(v));if(v instanceof h.Oq)throw v;return v;});}catch(v){return v instanceof h.Oq?v:new h.Oq();}};c.prototype.MJb=function(g,n){var p;p=this;n=void 0 === n?1:n;return function(q,t){q=m.PSb(g);return 1 < n?p.Yk(t,g,n - 1):q(p,t);};};c.dPb=function(g,n){var q;for(var p in n){q=parseInt(p);if(n[q] == g)return q;}};c.read=function(g,n,p){g=n(g);return void 0 !== g && p(g)?g:new h.Oq();};c.PSb=function(g){switch(g){case "int":return function(n,p){return n.$eb(p);};case "bool":return function(n,p){return n.Hza(p);};case "uint":return function(n,p){return n.Yr(p);};case "float":return function(n,p){return n.H6b(p);};case "string":return function(n,p){return n.Kza(p);};case "object":return function(n,p){return n.afb(p);};}};c.T3b=function(g){var x;for(var n=[["[","]"]],p=[],q=0,t=0,v=0,u=[],w={};t < g.length;(w={wS:w.wS},++t)){w.wS=g.charAt(t);x=void 0;"," == w.wS && 0 == v?(p.push(g.substr(q,t - q)),q=t + 1):(x=n.find((function(y){return function(z){return z[0] == y.wS;};})(w)))?(++v,u.push(x)):0 < u.length && u[u.length - 1][1] == w.wS && (--v,u.pop());}if(q != t)p.push(g.substr(q,t - q));else if(q == t && 0 < q)throw new h.Oq();return p;};c.Tec=function(g){var n;n=g.charAt(0);if('"' == n || "'" == n){if(g.charAt(g.length - 1) != n)throw new h.Oq();return g.substring(1,g.length - 1);}return g;};a=m=c;a=m=r.__decorate([(0,d.Y)(),r.__param(0,(0,d.l)(f.Og)),r.__param(1,(0,d.l)(l.HG))],a);b.VRa=a;},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.PSa=void 0;r=a(0);a=a(1);c.prototype.k4a=function(k){var l;l=this;return k?(k ^ 16 * Math.random() >> k / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return l.k4a(d);});};m=c;m=r.__decorate([(0,a.Y)()],m);b.PSa=m;},function(r,b,a){var m,k,l,d;function c(f){this.location=f;(0,k.sq)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.qQa=void 0;r=a(0);k=a(55);l=a(38);a=a(1);c.f_=function(f){var h,n,p;h={};if(0 < f.length){f=f.split("&");for(var g=0;g < f.length;g++){n=f[g].trim();p=n.indexOf("=");0 <= p?h[decodeURIComponent(n.substr(0,p).replace(m.QNa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(m.QNa,"%20")):h[n.toLowerCase()]="";}}return h;};Ua.Object.defineProperties(c.prototype,{y6b:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=m.f_(this.Leb);}},Leb:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.I_)return this.I_;this.I_=this.location.search.substr(1);f=this.I_.indexOf("#");0 <= f && (this.I_=this.Leb.substr(0,f));return this.I_;}}});d=m=c;d.QNa=/[+]/g;d=m=r.__decorate([(0,a.Y)(),r.__param(0,(0,a.l)(l.mLa))],d);b.qQa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nsb="ObjectComparerSymbol";},function(r,b,a){var m,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uNa=void 0;r=a(0);m=a(1);k=a(205);c.prototype.compare=function(l,d){var f;f=[];this.opa(l,d,"",f);return f;};c.prototype.opa=function(l,d,f,h){var g;g=this;if(k.GG.VD(l))k.GG.VD(d) && l.length === d.length?l.forEach(function(q,t){g.opa(l[t],d[t],f + "[" + t + "]",h);}):h.push({a:l,b:d,path:f});else if(k.GG.BV(l) && null != l){if(k.GG.BV(d) && null != d){for(var n in l){this.opa(l[n],d[n],f + "." + n,h);}for(var p in d){(p in l) || void 0 === d[p] || h.push({a:void 0,b:d[p],path:f + "." + p});}}else h.push({a:l,b:d,path:f});}else l !== d && h.push({a:l,b:d,path:f});};a=c;a=r.__decorate([(0,m.Y)()],a);b.uNa=a;},function(r,b,a){var m,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jTa=void 0;r=a(0);m=a(1);k=a(13);c.prototype.pTb=function(){var l;l=nb.devicePixelRatio || 1;return {width:k.cx.width * l,height:k.cx.height * l};};a=c;a=r.__decorate([(0,m.Y)()],a);b.jTa=a;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.wd=void 0;r=a(1);c=a(534);m=a(1281);k=a(116);l=a(294);d=a(1282);f=a(1283);h=a(1285);g=a(1286);n=a(1287);p=a(535);q=a(536);t=a(165);v=a(296);u=a(1288);w=a(295);x=a(1290);b.wd=new r.xd(function(y){y(c.YOa).to(m.XOa).ha();y(l.rja).to(d.iQa).ha();y(k.iH).to(f.YSa).ha();y(p.hQa).to(n.bMa).ha();y(p.gQa).to(g.fLa).ha();y(p.fQa).to(h.YKa).ha();y(v.aFa).Lcc(function(){var z;return null === (z=t.nr.gj) || void 0 === z?void 0:z.ow;});y(v.$Ea).to(u.ZEa).ha();y(q.pja).to(q.VPa);y(w.Fga).to(x.jGa).ha();});},function(r,b,a){var m,k,l;function c(d,f){this.Db=f;this.Ca=d.mb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.XOa=void 0;r=a(0);m=a(1);k=a(6);a=a(27);c.prototype.HLb=function(d){var f;f=this;try{return {direction:d.direction,Eoc:d.layoutHasChanged,jqc:d.rowInteractionIndex,Mb:d.lolomos.map(function(h){return f.CLb(h);})};}catch(h){this.Ca.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.CLb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(h){return f.BLb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,kqc:d.rowSegment};};c.prototype.BLb=function(d){var f,h;f={Nd:d.pts,property:d.property,L:d.viewableId,index:d.index};h=d.preplay;this.Db.Zg(h) && (f.Zca=this.GLb(h));d=d.params;this.Db.Zg(d) && (f.Eb=this.s1a(d));return f;};c.prototype.GLb=function(d){var f;f={Nd:d.pts,L:d.viewableId,LQ:d.pipelineNum,index:d.index};d=d.params;this.Db.Zg(d) && (f.Eb=this.s1a(d));return f;};c.prototype.s1a=function(d){return {de:d.uiLabel,gl:d.trackingId,Qn:d.sessionParams};};c.prototype.FLb=function(d){var f;f=this;try{return d.map(function(h){return f.DLb(h);});}catch(h){this.Ca.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.DLb=function(d){var f,h;h=d.params;this.Db.Zg(h) && (f=this.ELb(h));return {I:d.movieId,priority:d.priority,force:d.force,Eb:f,de:d.uiLabel,nrc:d.uiExpectedStartTime,mrc:d.uiExpectedEndTime,fm:d.firstTimeAdded};};c.prototype.ELb=function(d){var f,h;f=void 0;h=d.sessionParams;this.Db.Zg(h) && (f=h);return {n7:this.ALb(d.authParams),Qn:f,gl:d.trackingId,ba:d.startPts,ja:d.manifest,Sh:d.isBranching};};c.prototype.ALb=function(d){return {t4b:null === d || void 0 === d?void 0:d.pinCapableClient};};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(a.Og))],l);b.XOa=l;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q;function c(t,v,u,w){this.is=u;this.Eg=w;this.log=t.mb("TaskScheduler");this.Lb=new p.sk();this.config=v();this.currentIteration=this.xW=0;this.iL=[];this.paused=!1;this.zea=[];this.z_a=[];this.IWb=this.config.y5b || q.append;this.addEventListener=this.Lb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.iQa=void 0;r=a(0);m=a(1);k=a(294);l=a(6);d=a(12);f=a(136);h=a(27);g=a(19);n=a(5);p=a(72);(function(t){t.prepend="prepend";t.append="append";t.MVb="ignore";})(q || (q={}));c.prototype.aCb=function(t){this.log.trace("adding tasks, number of tasks: " + t.length);this.paused=!1;this.iL=this.JWb(t);this.xW=0;this.currentIteration+=1;this.jg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.jg=function(){var t,v,u,w;t=this;if(this.xW === this.iL.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.xW,numberOfTasks:this.iL.length});else {v=this.KSb();u=this.currentIteration;v.startTime=this.Eg.Tb().fa(n.ma);v.status=f.ll.Yy;this.Lb.Rc(k.fM.jcc,{I:v.I,type:v.type});this.zea.push(v);w=function(x){v.endTime=t.Eg.Tb().fa(n.ma);x();t.z_a.push(v);t.zea.splice(t.zea.indexOf(v),1);t.currentIteration === u && (t.xW++,t.jg());};v.W8b().then(function(){w(function(){v.status=f.ll.SR;t.sza(v,k.fM.kcc,"task succeeded");});}).catch(function(x){w(function(){0 <= [f.ll.If,f.ll.tFb,f.ll.Foa].indexOf(x.status)?(v.status=x.status,t.sza(v,k.fM.hcc,"cancelled task")):(v.status=f.ll.wv,t.sza(v,k.fM.icc,"task failed",x));});});}};c.prototype.KSb=function(){return this.iL[this.xW];};c.prototype.getStats=function(t,v,u){var w,x,y,z;w=this.z_a.map(function(A){return A.Ev();});x=this.zea.map(function(A){return A.Ev();});y=this.is.Zg(t) && this.is.Zg(v);z={};if(this.is.Zg(u))return (z.YGb=w.filter(function(A){return A.movieId === u;}),z);w.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == f.ll.Yy?A.startTime:A.endTime;y && B && B >= t && B < v && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.sza=function(t,v,u,w){var x;x=t.Ev();w?this.log.warn(u,x,w):this.log.trace(u,x);this.Lb.Rc(v,{I:t.I,type:t.type,reason:t.status});t.zQ(x);};c.prototype.JWb=function(t){var v,u;v=this.iL.filter(function(w){return w.p4b && w.status === f.ll.tl;});u=this.IWb;return u === q.MVb?[].concat(t):u === q.prepend?v.concat(t):t.concat(v);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.ub)),r.__param(1,(0,m.l)(d.Nc)),r.__param(2,(0,m.l)(h.Og)),r.__param(3,(0,m.l)(g.cd))],a);b.iQa=a;},function(r,b,a){var k,l,d,f,h,g,n,p,q,t,v,u,w,x;function c(y,z,A,B,C,D,F,G,E,H,L){this.Nfc=A;this.Db=B;this.Eg=C;this.Xd=D;this.k3a=F;this.LOb=G;this.MOb=E;this.Z8=H;this.events=new x.EventEmitter();this.log=y.mb("VideoPreparer");this.config=z();this.dEa={};this.Kba={};this.Wb={num_of_calls:0,num_of_movies:0};this.Z8.ta(this);this.Vg=L.Vg;}function m(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.YSa=void 0;r=a(0);k=a(1284);l=a(12);d=a(1);f=a(6);h=a(82);g=a(27);n=a(294);p=a(19);q=a(5);t=a(136);v=a(295);u=a(535);w=a(296);x=a(11);c.prototype.ohb=function(y,z,A){this.Vg.setData(y,"ldl",z,A);};c.prototype.a7a=function(y){return this.Vg.nY(y,"ldl");};c.prototype.WZa=function(y){this.Vg.clearData(y,"ldl",void 0,!0);};c.prototype.cP=function(y,z){return this.Vg.getData(y,z);};c.prototype.C4a=function(y){var z;z=this.Vg.getData(y,"ldl");this.Vg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.bmb=function(y){return this.Iib === y || this.E0a === y;};c.prototype.nK=function(y,z){var A,B,C;A=this;y=y.map(function(D){D.Eb=D.Eb || ({n7:{t4b:!1},gl:0});A.Db.DI(D.Eb.gl) || (D.Eb.gl=0);A.Db.DI(D.Nd) && (D.Eb.ba=D.Nd);return D;});B=y.map(function(D){return A.aKb(D,z);}).reduce(function(D,F){return D.concat(F);},[]);C=B.map(function(D){return D.I + "-" + D.type;});this.log.trace("prepare tasks",C);this.Xd.aCb(B);this.Wb.num_of_calls++;this.Wb.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.Kba[A] || ({})),{iL:this.Xd.getStats(y,z,A),cache:this.Vg.getStats(y,z),lQb:Object.assign(Object.assign({},this.Wb),this.Z8.getStats())});};c.prototype.GUb=function(y){this.Iib=y;};c.prototype.EUb=function(y){this.log.trace("task scheduler paused on playback created");this.Xd.pause();this.config.wLb && this.Vg.apa(y,["manifest"]);this.config.vLb && this.Vg.apa(y,["ldl"]);this.config.sLb && this.Vg.clearData(y,"manifest");this.Z8.Afb(y);this.E0a=y;};c.prototype.V6a=function(){this.log.info("ad played, clearing all manifests from cache");this.J3a();};c.prototype.Y6a=function(){this.log.info("track changed, clearing all manifests from cache");this.J3a();};c.prototype.DUb=function(y){var z;z=this;this.config.tLb?this.Vg.clearData(y,"manifest"):this.Vg.nY(y,"manifest") && this.Vg.getData(y,"manifest").then(function(A){A.ab.isSupplemental || z.Vg.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.hpa(y);this.Iib=this.E0a=void 0;this.events.emit("playbackClosing",{L:y,type:"playbackClosing",target:this});};c.prototype.J3a=function(){this.Vg.apa("none",["manifest","ldl"]);};c.prototype.hpa=function(y){delete this.dEa[y];};c.prototype.Iv=function(y){return this.dEa[y];};c.prototype.a8=function(y){return this.dEa[y]=this.Nfc.TA();};c.prototype.$hb=function(y,z){if(this.a7a(y))return t.ll.If;if(!z.UE)return t.ll.Foa;};c.prototype.aKb=function(y,z){var A,B;y.de && y.Eb && (y.Eb.de=y.de);this.gec(y.I,y.fm);A=this.IJb(y,z);B=this.EJb(y,null === A || void 0 === A?void 0:A.id,z);y=this.KJb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(m);};c.prototype.IJb=function(y,z){if(this.Vg.nY(y.I,"manifest"))this.log.trace("manifest exists in cache for " + y.I);else return new k.PT("manifest",this.Eg.Tb().fa(q.ma),! !y.Eb.yi,void 0,z,this.k3a,y,this);};c.prototype.EJb=function(y,z,A){if(this.config.ZW)if(this.Vg.nY(y.I,"ldl"))!1;else return this.config.pu?new k.PT("ldl",this.Eg.Tb().fa(q.ma),! !y.Eb.yi,z,A,this.LOb,y,this):new k.PT("ldl",this.Eg.Tb().fa(q.ma),! !y.Eb.yi,z,A,this.MOb,y,this);};c.prototype.KJb=function(y,z,A){if(this.config.w2a)return new k.PT("getMedia",this.Eg.Tb().fa(q.ma),! !y.Eb.yi,z,A,this.Z8,y,this);};c.prototype.gec=function(y,z){this.Kba[y] || (this.Kba[y]={Xca:0,fm:0});y=this.Kba[y];y.Xca=(void 0 !== y?void 0 !== y.Xca?y.Xca:0:0) + 1;y.fm=z;};a=c;a=r.__decorate([(0,d.Y)(),r.__param(0,(0,d.l)(f.ub)),r.__param(1,(0,d.l)(l.Nc)),r.__param(2,(0,d.l)(h.Bz)),r.__param(3,(0,d.l)(g.Og)),r.__param(4,(0,d.l)(p.cd)),r.__param(5,(0,d.l)(n.rja)),r.__param(6,(0,d.l)(u.hQa)),r.__param(7,(0,d.l)(u.gQa)),r.__param(8,(0,d.l)(u.fQa)),r.__param(9,(0,d.l)(w.$Ea)),r.__param(10,(0,d.l)(v.Fga))],a);b.YSa=a;},function(r,b,a){var m,k;function c(l,d,f,h,g,n,p,q){this.type=l;this.tl=d;this.p4b=void 0 === f?!1:f;this.notify=g;this.NOb=n;this.RQ=p;this.wd=q;this.id=++k;this.status=m.ll.tl;}Object.defineProperty(b,"__esModule",{value:!0});b.PT=void 0;m=a(136);k=0;c.prototype.Ev=function(){var l;l={id:this.id,type:this.type,created:this.tl,status:this.status,movieId:this.I};this.startTime && (l.startTime=this.startTime);this.endTime && this.startTime && (l.duration=this.endTime - this.startTime,l.endTime=this.endTime);return l;};c.prototype.zQ=function(l){this.notify && this.notify(l);};c.prototype.W8b=function(){return this.NOb.fetch(this.RQ,this.wd);};Ua.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.RQ.I;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.RQ.priority;}}});b.PT=c;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z;function c(A,B,C,D,F,G,E,H,L,K,I){this.Mt=C;this.A0=D;this.mc=F;this.za=G;this.Da=E;this.VP=H;this.z4b=L;this.ck=K;this.Pk=I;this.log=A.mb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.YKa=void 0;r=a(0);m=a(1);k=a(6);l=a(12);d=a(136);f=a(60);h=a(57);g=a(48);n=a(161);p=a(194);q=a(32);t=a(5);v=a(30);u=a(19);w=a(197);x=a(209);y=a(115);a=a(68);c.prototype.fetch=function(A,B){var C;C=this;this.log.trace("Fetching LDL",(0,w.NL)(A));this.I=A.I;this.wd=B;return B.cP(A.I,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,w.NL)(A));return C.ck.E9(A.I).then(function(D){var F,G;C.ja=D;C.ab=D.ab;if(D=C.wd.$hb(A.I,C.ab))throw {status:D};D=C.ab.Kw[0].B_;F=C.ab.Kw[0].Bqa;G=(D?D:[F]).map(function(E){return C.mc.decode(E.bytes);});C.bf=C.pE({j2a:C.log,Zqa:function(E){return C.handleError(E);},Ne:void 0,Kxa:function(){},za:{getTime:function(){return C.Da.Tb().fa(t.ma);},Jnc:function(){return C.za.Bf.fa(t.Cp);}}});B.ohb(A.I,C.bf);return C.bf.create(C.config.Bn).then(function(){return C.bf.wh(h.Fi.yp,G,!0);}).then(function(){return C.bf;}).catch(function(E){C.handleError(E);throw E;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.ll.If};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.bf.close();this.wd.WZa(this.I);this.wd.hpa(this.I);};c.prototype.pE=function(A){var B,C;B=this;if(!this.Mt.LL || !this.Mt.JL){C=this.z4b();this.Mt.LL=C.cc;this.Mt.JL=C.request;}C=new this.Mt.JL(A.j2a,function(D){var F;F=[];D.Ik.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.mc.encode(G.data)});});D={Ik:F,B8:[B.ab.dm],rg:f.wp.V_a(D.rg),zh:B.ab.zh,da:B.wd.a8(B.I),tj:B.ja.tj};B.log.trace("xid created ",{MovieId:B.I,xid:D.da});return B.VP.Dx(D);},void 0,{Mf:!1,Al:!1});return this.Mt.LL(A.j2a,A.Ne,{Mf:!1,Al:!1,vm:C,D_:this.config.Beb,$:void 0,LC:this.config.q2a,onerror:A.Zqa,Kxa:A.Kxa,za:A.za,iK:!1,vDb:this.A0.T7([]),efc:this.A0.Z7([]),Zva:this.Pk.W6.fa(t.ma)});};z=c;z=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(l.Nc)),r.__param(2,(0,m.l)(g.h4)),r.__param(3,(0,m.l)(n.VT)),r.__param(4,(0,m.l)(q.Di)),r.__param(5,(0,m.l)(v.Eh)),r.__param(6,(0,m.l)(u.cd)),r.__param(7,(0,m.l)(p.qT)),r.__param(8,(0,m.l)(x.bja)),r.__param(9,(0,m.l)(y.NG)),r.__param(10,(0,m.l)(a.xu))],z);b.YKa=z;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x,y,z){this.mc=w;this.AMb=x;this.hQ=y;this.ck=z;this.log=v.mb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;r=a(0);m=a(1);k=a(6);l=a(12);d=a(57);f=a(32);h=a(121);g=a(142);n=a(136);p=a(197);q=a(115);t=a(49);c.prototype.fetch=function(v,u){var w;w=this;this.log.trace("Fetching LDL",(0,p.NL)(v));this.I=v.I;this.wd=u;return u.cP(v.I,"ldl").then(function(x){return x.eea;}).catch(function(){w.log.trace("Requesting a new license",(0,p.NL)(v));return w.ck.E9(v.I).then(function(x){var y,z,A,B;w.ab=x.ab;if(u.a7a(v.I))return u.cP(v.I,"ldl").then(function(C){return C.eea;});y=w.wd.$hb(v.I,w.ab);if(y)throw {status:y};y=w.ab.Kw[0].B_;z=w.ab.Kw[0].Bqa;A=(y?y:[z]).map(function(C){return w.mc.decode(C.bytes);});B=w.AMb().then(function(C){var D;D={type:d.Fi.yp,initData:A,context:{Daa:(0,t.Ssa)(x.ab.Kw[0].streams)},ik:{I:v.I,da:u.a8(v.I),zh:w.ab.zh,dm:w.ab.dm,tj:x.tj}};return C.wh(D,w.hQ());}).catch(function(C){w.handleError("Unable to prepare an EME session.",C);throw C;});w.wd.ohb(v.I,{eea:B,source:"videopreparer"},function(){if(!w.wd.bmb(v.I))try{B.then(function(C){return C.close();}).catch(function(C){w.handleError("Unable to cleanup LDL session, Unable to get the session.",C);});}catch(C){w.handleError("Unable to cleanup LDL session, unexpected exception.",C);}});return B;}).catch(function(x){w.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.ll.If};});});};c.prototype.handleError=function(v,u){this.log.warn(v + " LDL is now invalid.",u);this.wd.WZa(this.I);this.wd.hpa(this.I);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(l.Nc)),r.__param(2,(0,m.l)(f.Di)),r.__param(3,(0,m.l)(h.D2)),r.__param(4,(0,m.l)(g.zT)),r.__param(5,(0,m.l)(q.NG))],a);b.fLa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q;function c(t,v,u,w,x){this.kZ=u;this.Eg=w;this.ck=x;this.log=t.mb("VideoPreparer");this.config=v();}Object.defineProperty(b,"__esModule",{value:!0});b.bMa=void 0;r=a(0);m=a(12);k=a(1);l=a(6);d=a(19);f=a(5);h=a(134);g=a(102);n=a(197);p=a(115);q=a(57);c.prototype.fetch=function(t,v){var u,w;this.log.trace("Fetching manifest",(0,n.NL)(t));w=t.Eb;this.config.eBb && w && w.ja && !this.ck.t$(t.I) && (!(("clientGenesis" in w.ja) && w.ja.clientGenesis) || Date.now() - w.ja.clientGenesis < this.config.keb) && (w=this.kZ.create(w.ja)) && (w.zK=this.Eg.Tb().fa(f.ma),w.kR=this.Eg.Tb().fa(f.ma),this.ck.J0(t.I,w));return this.ck.eJ({da:v.a8(t.I),L:t.I,fb:null !== (u=t.Eb) && void 0 !== u?u:{},Av:g.co.VG,rg:q.Fi.yp},!0,function(x){v.events.emit("manifestRemovedFromCache",{target:v,type:"manifestRemovedFromCache",L:t.I,ja:x});});};a=c;a=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(l.ub)),r.__param(1,(0,k.l)(m.Nc)),r.__param(2,(0,k.l)(h.VL)),r.__param(3,(0,k.l)(d.cd)),r.__param(4,(0,k.l)(p.NG))],a);b.bMa=a;},function(r,b,a){var k,l,d,f,h,g,n,p,q,t,v,u,w,x;function c(){var y;y=this;this.promise=new Promise(function(z,A){y.resolve=z;y.reject=A;});}function m(y,z,A,B,C){var D;D=this;this.Yya=A;this.v5b=B;this.ck=C;this.F1=[];this.fC=new Map();this.Q2b=function(F){var G,E;F=F.wishListItem.key.L;if(D.fC.has(F)){E=D.fC.get(F);F=E.RQ;E=E.tpa;null === (G=E.resolve) || void 0 === G?void 0:G.call(E,F);}};this.kca=function(F){var G,E;G=F.L;E=F.ja;F.target.bmb(F.L) || (D.ih.has({L:G}) && (D.ih.gm(G).Er=!0),null === E || void 0 === E?void 0:E.then(function(H){var L;L=H.ab;L && L.Ke && L.$u && L.$u.forEach(function(K){var I;I={rl:{Ke:L.Ke,Th:G}};D.ih.has({L:K.I,Th:L.I,Ke:L.Ke}) && (D.ih.gm(K.I,I).Er=!0);});}),D.fC.has(G) && (D.Afb(G),D.Thb(D.F1)));};this.Ca=y.mb("VideoPreparer");this.config=z();}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;r=a(0);k=a(6);a(197);l=a(165);d=a(28);f=a(12);h=a(18);g=a(102);n=a(296);p=a(1);q=a(536);t=a(11);v=a(115);u=a(57);w=a(537);x=a(1289);m.prototype.ta=function(y){var z;z=this;this.ih=new w.jka(function(A,B){return z.Px(A,y,l.nr.Je,B);});};m.prototype.fetch=function(y,z){if(-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.kca))z.events.on("manifestRemovedFromCache",this.kca);if(-1 === z.events.listeners("playbackClosing").indexOf(this.kca))z.events.on("playbackClosing",this.kca);!1;this.Thb(this.QGb(this.kKb(y,z)));return this.fC.get(y.I).tpa.promise;};m.prototype.getStats=function(){return this.ow.getStats();};m.prototype.QGb=function(y){return [y].concat(ia(this.F1.filter(function(z){return z.key.L !== y.key.L;}))).slice(0,this.config.t5b).map(this.config.u5b?function(z,A){return Object.assign({},z,{priority:A});}:function(z){return z;});};m.prototype.eJ=function(y,z,A){var B,C;B=this;A=void 0 === A?{}:A;return this.ck.eJ({da:null !== (C=z.Iv(y)) && void 0 !== C?C:z.a8(y),L:y,Av:g.co.VG,rg:u.Fi.yp,fb:A}).then(function(D){var F,G;F=D.ab;null === (G=F.$u) || void 0 === G?void 0:G.forEach(function(E){B.Px(E.I,z,l.nr.Je,{rl:{Ke:F.Ke,Th:y}},E);});return F;});};m.prototype.kKb=function(y,z){var A,B,C,D,F,G;C=new c();if(this.fC.has(y.I)){D=this.fC.get(y.I);F=D.RQ;if(F.I === y.I && F.de === y.de)G=D.Ffc.key;this.ow.getStats().contents.some(function(E){return E.id === y.I;}) && (C=D.tpa);}D=l.nr.Je.hi((0,h.ypa)(y.de));G || (G={L:y.I,config:D});F={L:y.I};this.ih.has(F) || this.ih.store(F,this.iKb(y,z,D));z={key:G,voc:!1,priority:y.priority,r7:d.K.Ga(null !== (B=null === (A=y.Eb) || void 0 === A?void 0:A.ba) && void 0 !== B?B:0),ih:this.ih};this.fC.set(y.I,{Ffc:z,RQ:y,tpa:C});return z;};m.prototype.iKb=function(y,z,A){var B,C,D;B=this;C=y.I;return {get da() {return z.Iv(C);},Er:!1,events:new t.EventEmitter(),F7:function(){},get up() {D || (D=B.eJ(y.I,z,y.Eb).then(function(F){return {ja:F,Ri:F.u$ && !F.UE,config:A,NBa:{}};}));return D;},L:C,DCa:!1,equals:function(F){var G;G=z.Iv(C);return F && F.L === C && (!F.da || !G || G === F.da);}};};m.prototype.Px=function(y,z,A,B,C){var D,F,G,E,H,L,K,I;D=this;H=z.Iv(y);if(H || B){L={L:y,Th:null === (F=null === B || void 0 === B?void 0:B.rl) || void 0 === F?void 0:F.Th,Ke:null === (G=null === B || void 0 === B?void 0:B.rl) || void 0 === G?void 0:G.Ke};if(!this.ih.has(L)){K=null !== H && void 0 !== H?H:this.ih.gm(null === (E=null === B || void 0 === B?void 0:B.rl) || void 0 === E?void 0:E.Th).da;this.ih.store(L,{F7:function(){},equals:function(R){return R && R.L === L.L && (K === R.da || !R.da || !K);},get up() {I || (I=(C?Promise.resolve(C):D.eJ(y,z)).then(function(R){return {ja:R,Ri:R.u$ && !R.UE,config:A,NBa:{}};}));return I;},set up(R) {I=R;},events:new t.EventEmitter(),da:K,L:L.L,Er:!1,DCa:!1});}}};m.prototype.zhb=function(y){this.F1=y;};m.prototype.Thb=function(y){this.zhb(y);this.ow.Shb(this.F1);};m.prototype.Afb=function(y){this.fC.has(y) && (this.zhb(this.F1.filter(function(z){return z.key.L !== y;})),this.fC.delete(y));};Ua.Object.defineProperties(m.prototype,{ow:{configurable:!0,enumerable:!0,get:function(){this.hA || (this.hA=this.v5b(),this.hA.xBa(this.Yya).Khb(new x.FKa()).nhb({sJ:this.config.s5b}),this.hA.events.on("prefetchComplete",this.Q2b));return this.hA;}}});a=m;a=r.__decorate([(0,p.Y)(),r.__param(0,(0,p.l)(k.ub)),r.__param(1,(0,p.l)(f.Nc)),r.__param(2,(0,p.l)(q.pja)),r.__param(3,(0,p.l)(n.aFa)),r.__param(4,(0,p.l)(v.NG))],a);b.ZEa=a;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.FKa=void 0;a.prototype.v3a=function(c,m){var k;return null !== (k=this.ePb(c,m)) && void 0 !== k?k:this.hPb(c,m);};a.prototype.ePb=function(c,m){var k,l;k=this;l=m.Z;return c.find(function(d){var f;return k.j8(l,null === (f=d.Z) || void 0 === f?void 0:f.Z);});};a.prototype.hPb=function(c,m){var k,l;k=m.Z.Cd;l=m.Z.M[k];return c.find(function(d){var f;d=null === (f=d.Z) || void 0 === f?void 0:f.Z;d=(f=null === d || void 0 === d?void 0:d.Cd) && (null === d || void 0 === d?void 0:d.M[f]) || void 0;return k === f && l.L === (null === d || void 0 === d?void 0:d.L) && l.qa === (null === d || void 0 === d?void 0:d.qa);});};a.prototype.j8=function(c,m){var k;k=this;return c === m?!0:"object" !== typeof c || "object" !== typeof m?c === m:Object.keys(c).length === Object.keys(m).length && Object.keys(c).every(function(l){return k.j8(c[l],m[l]);});};b.FKa=a;},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p){var q;q=this;this.Eg=n;n=p();this.Vg=new h({log:g.mb("CacheManager"),za:{getTime:function(){return q.Eg.Tb().fa(d.ma);}},Promise:Promise,Mf:!1,NEb:n.B5b,MEb:n.z5b,nOb:n.keb,mOb:n.A5b});}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=void 0;r=a(0);m=a(1);k=a(19);l=a(6);d=a(5);f=a(12);h=a(1291);c=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.ub)),r.__param(1,(0,m.l)(k.cd)),r.__param(2,(0,m.l)(f.Nc))],c);b.jGa=c;},function(r,b,a){var d;function c(){return Object.create(null);}function m(f){this.log=f.log;this.za=f.za;this.vF=c();this.Promise=f.Promise;this.QA=f.QA;this.kDa=f.kDa;this.Mf=f.Mf || !1;this.Ux=c();this.fE=c();this.kI=c();this.oAb(f);f.nn && (this.nn=f.nn);}function k(f){return "undefined" !== typeof f;}function l(f){var n;for(var h=0,g=arguments.length;h < g;){n=arguments[h++];if(k(n))return n;}}a(1292);d=a(1293);m.prototype.oAb=function(f){this.Ux.manifest=l(f.nOb,d.Ux.ja);this.Ux.ldl=l(f.mOb,d.Ux.WY);this.Ux.metadata=l(f.rnc,d.Ux.Bc);this.fE.manifest=l(f.NEb,d.fE.ja);this.fE.ldl=l(f.MEb,d.fE.WY);this.fE.metadata=l(f.jmc,d.fE.Bc);this.kI.manifest=l(f.hmc,d.kI.ja);this.kI.ldl=l(f.gmc,d.kI.WY);this.kI.metadata=l(f.imc,d.kI.Bc);};m.prototype.nY=function(f,h){this.nv("undefined" !== typeof f);this.nv("undefined" !== typeof h);return ! !this.kUa(f,h,void 0).value;};m.prototype.kUa=function(f,h,g){var n,p;n={value:null,reason:"",log:""};p=this.vF[h];if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof p[f]?(n.log="cache miss: no data exists for movieId:" + f,n.reason="unavailable"):(g=p[f][g?g:"DEFAULTCAPS"]) && g.value?this.kaa(h,g.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + f,n.reason="expired"):(n.log=this.Promise && g.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + f:"cache hit: " + h + " available for movieId:" + f,n.value=g.value):(n.log="cache miss: " + h + " data not available for movieId:" + f,n.reason="unavailable");return n;};m.prototype.getData=function(f,h,g){this.nv("undefined" !== typeof f);this.nv("undefined" !== typeof h);f=this.kUa(f,h,g);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.kDa?JSON.parse(this.kDa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};m.prototype.setData=function(f,h,g,n,p){var q,t,v;this.nv("undefined" !== typeof f);this.nv("undefined" !== typeof h);q=this.vF;t=p?p:"DEFAULTCAPS";q[h] || (q[h]=c(),Object.defineProperty(q[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));g=this.QA?this.QA(JSON.stringify(g),"gzip",!0):g;q=q[h];this.Qxb(f,h,t,q);v=this;n={creationTime:this.za.getTime(),value:g,size:0,type:h,mqa:n,lOb:setTimeout(function(){v.clearData(f,h,t,!1,"expired");},this.Ux[h] + 1)};q[f]=q[f] || c();q[f][t]=q[f][t] || c();q[f][t]=n;q.size+=0;q.numEntries++;this.nn && this.nn.emit("addedCacheItem",n);return n;};m.prototype.Qxb=function(f,h,g,n){var p,q,t,v,u,w,x,y,z;p=this;q=n.numEntries;t=this.fE[h];v=n[f] && n[f][g];if(v && v.value)(u=f,w="promise_or_expired");else if(q >= t){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][g];B && B.value && p.kaa(h,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});u=z || x;w="cache_full";}this.Mf && this.log.debug("makespace ",{maxCount:t,currentCount:n.numEntries,field:h,movieId:f,movieToBeRemoved:u});u && (p.clearData(u,h,g,void 0,w),this.log.debug("removed from cache: ",u,h));};m.prototype.apa=function(f,h){var g,n;g=this;g.nv("undefined" !== typeof f);n=f + "";h.forEach(function(p){var q;q=g.vF[p];q && Object.keys(q).forEach(function(t){t != n && g.clearData(t,p,void 0,void 0,"clear_all");});});};m.prototype.clearData=function(f,h,g,n,p){var q;this.nv("undefined" !== typeof f);this.nv("undefined" !== typeof h);q=this.vF[h];h=q?q[f]:void 0;g=g?g:"DEFAULTCAPS";if(h && h[g]){q.size-=h[g].size;q.numEntries--;if(q=h && h[g])(clearTimeout(q.lOb),h[g]=void 0,!n && q.mqa && q.mqa());this.nn && (f={creationTime:q.creationTime,destroyFn:q.mqa,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.nn.emit("deletedCacheItem",f));}};m.prototype.flush=function(f){var h;this.nv("undefined" !== typeof f);h=this.vF;h[f]=c();h[f].numEntries=0;h[f].size=0;};m.prototype.VZa=function(){var f,h;this.nv(!1);f=this;h=this.vF;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(g){var n;n=h[void 0][g].DEFAULTCAPS;f.za.getTime() - n.creationTime > f.Ux[void 0] && this.clearData(g,void 0,"DEFAULTCAPS",void 0,"clean_up");});};m.prototype.kaa=function(f,h){return this.za.getTime() - h > this.Ux[f];};m.prototype.getStats=function(f,h,g){var n,p,q,t,v;n={};p=this;q=p.vF;t=k(f) && k(h);v=g || "DEFAULTCAPS";Object.keys(q).forEach(function(u){var w,x;w=Object.keys(q[u]);x=q[u];w.forEach(function(y){!(y=x && x[y] && x[y][v]) || !k(y.value) || y.value instanceof this.Promise || (n[u]=(n[u] | 0) + 1,p.kaa(y.type,y.creationTime) && (n[u + "_expired"]=(n[u + "_expired"] | 0) + 1),t && y.creationTime >= f && y.creationTime < h && (n[u + "_delta"]=(n[u + "_delta"] | 0) + 1));});});return n;};m.prototype.getState=function(f){var h,g,n,p;h=[];g=this;n=g.vF;p=f || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var t,v;t=Object.keys(n[q]);v=n[q];t.forEach(function(u){var w,x;w=v && v[u] && v[u][p];if(w && k(w.value)){x=g.kaa(w.type,w.creationTime)?"expired":w.value instanceof this.Promise?"loading":"cached";h.push({movieId:u,state:x,type:q,size:w.size});}});});return h;};m.prototype.nv=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.Mf))throw Error("Debug Assert Failed ");};r.exports=m;},function(r){function b(a){var c;c=[];return (function l(k){if(k && "object" === typeof k){if(-1 !== c.indexOf(k))return !0;c.push(k);for(var d in k){if(k.hasOwnProperty(d) && l(k[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var k;if(c && b(a))return -1;c=[];a=[a];for(var m=0;a.length;){k=a.pop();if("boolean" === typeof k)m+=4;else if("string" === typeof k)m+=2 * k.length;else if("number" === typeof k)m+=8;else if("object" === typeof k && -1 === c.indexOf(k)){c.push(k);for(var l in k){a.push(k[l]);}}}return m;};},function(r){r.exports={Ux:{ja:12E5,WY:9E5,Bc:12E5},fE:{ja:10,WY:10,Bc:10},kI:{ja:10240,WY:10240,Bc:10240}};},function(r,b,a){var c,m,k,l,d,f,h,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ha=void 0;r=a(1);c=a(198);m=a(1295);k=a(538);l=a(1296);d=a(539);f=a(1297);h=a(1298);g=a(540);n=a(1299);b.Ha=new r.xd(function(p){p(c.Yga).to(m.BHa).ha();p(k.sMa).to(l.rMa).ha();p(d.yNa).to(f.xNa).ha();p(d.CMa).to(h.BMa).ha();p(g.AMa).to(n.zMa).ha();});},function(r,b,a){var m,k,l,d;function c(f){function h(g,n){this.J=g;this.Qm=n;this.W8=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.eg=f.mb("DownloadTrack");}h.prototype.zr=function(){!1;this.iV=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.iV + " config: " + JSON.stringify(this.J);};h.prototype.toJSON=function(){return "Download Track id:" + this.iV + " config: " + JSON.stringify(this.J);};h.prototype.PP=function(){return void 0 === this.iV?!1:!0;};h.prototype.qda=function(g){this.J.connections !== g.connections && (this.J=g);};h.prototype.Tv=function(){return 1 < this.J.connections?!0:!1;};Ua.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.iV;}},tl:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.iV;}},config:{configurable:!0,enumerable:!0,get:function(){return this.J;}},Jca:{configurable:!0,enumerable:!0,get:function(){return this.eg;}},MJ:{configurable:!0,enumerable:!0,get:function(){return this.Qm.MJ;}}});this.HL=Object.assign(h,new l.CHa());}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;r=a(0);m=a(1);k=a(6);l=a(198);d=a(113).EventEmitter;c=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub))],c);b.BHa=c;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q;function c(t,v,u,w,x,y){this.FN=t;this.lf=u;this.Db=w;this.Da=x;this.config=y;this.log=v.mb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.rMa=void 0;r=a(0);m=a(199);k=a(101);l=a(3);d=a(6);f=a(1);h=a(71);g=a(27);n=a(19);p=a(5);a=a(12);c.prototype.mB=function(){return this.Da.Tb().fa(p.ma);};c.prototype.dcb=function(t,v){t.x1b({mediaRequest:t,timestamp:v});};c.prototype.ycb=function(t){var v;v=t.mediaRequest.SB;v.readyState=m.xc.Sc.Lz;t=t.connect?t:{timestamp:this.mB(),connect:!1};t.mediaRequest=v;t.readyState=v.readyState;v.bcb(t);};c.prototype.TZ=function(t){this.dcb(t.mediaRequest.SB,t.timestamp);};c.prototype.UZ=function(t){var v,u;v=t.mediaRequest.SB;u=t.bytes;"undefined" === typeof v?!1:(v.readyState === m.xc.Sc.Nz && this.ycb(t),this.Db.po(u) && (t.mediaRequest=v,t.timestamp=this.mB(),u > v.bytesReceived && (t.newBytes=u - v.bytesReceived,t.bytesLoaded=u,v.B1b(t))));};c.prototype.Gn=function(t){var v,u,w,x;v=t.mediaRequest;u=t.errorcode;w=t.httpcode;x=m.xc.G2;if("undefined" === typeof v)!1;else if((v=v.SB,"undefined" === typeof v))!1;else if(v.readyState !== m.xc.Sc.ML)if(u === l.T.bD)(v.readyState=m.xc.Sc.AS,t.mediaRequest=v,t.readyState=v.readyState,v.t1b(t));else {v.readyState=m.xc.Sc.ML;switch(u){case l.T.lT:w=x.cGa;break;case l.T.Aha:w=x.xha;break;case l.T.iT:w=400 < w && 500 > w?x.zha:500 <= w?x.CJa:x.xha;break;case l.T.jT:w=x.yha;break;case l.T.hT:w=x.dGa;break;case l.T.kT:w=x.B3;break;case l.T.EG:w=x.B3;break;case l.T.BJa:w=x.AJa;break;case l.T.xJa:w=x.zha;break;case l.T.Bpb:w=x.yha;break;default:w=x.B3;}t.mediaRequest=v;t.readyState=v.readyState;t.errorcode=w;t.nativecode=u;v.Lxa(t);}};c.prototype.QZ=function(t,v){var u,w;u=v.request.SB;if(u)if(v.ea){if((!1,t.j && u.readyState !== m.xc.Sc.DONE)){switch(u.readyState){case m.xc.Sc.AS:!1;return;case m.xc.Sc.ML:!1;break;case m.xc.Sc.Lz:break;case m.xc.Sc.Nz:this.ycb({mediaRequest:v.request,responseHeaders:v.headers});break;default:!1;}u.readyState=m.xc.Sc.DONE;if(!u.Ec){w={mediaRequest:u,readyState:u.readyState,timestamp:this.mB(),cadmiumResponse:v};t.j.WCa+=1;u.XTb();u.JXb() && (t.j.xAa+=1,v.km.bj=Math.ceil(u.Kra),v.km.zq=Math.ceil(u.uI),v.km.$r=Math.floor(u.nF));u.M7=w;u.zQ(w);}}}else (!1,u.readyState === m.xc.Sc.AS?!1:(t={mediaRequest:v.request,timestamp:this.mB(),errorcode:v.xa,httpcode:v.xl},this.Gn(t)));};c.prototype.download=function(t,v){var u,w;u=this;v=this.lf.download(t,v);if(t.SB){w=t.SB;-1 < [m.xc.Sc.OPENED,m.xc.Sc.ML].indexOf(w.readyState) && (w.readyState=m.xc.Sc.Nz,this.config().axa?v.r$b(function(x){u.TZ(x);}):this.dcb(w,this.mB()));}v.J6(function(x){u.QZ(t,x);});v.y$b(function(x){u.UZ(x);});v.i$b(function(x){u.Gn(x);});return v;};q=c;q=r.__decorate([(0,f.Y)(),r.__param(0,(0,f.l)(k.CS)),r.__param(1,(0,f.l)(d.ub)),r.__param(2,(0,f.l)(h.Ww)),r.__param(3,(0,f.l)(g.Og)),r.__param(4,(0,f.l)(n.cd)),r.__param(5,(0,f.l)(a.Nc))],q);b.rMa=q;},function(r,b,a){var m,k,l;function c(d,f){this.lf=f;this.log=d.mb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.xNa=void 0;r=a(0);m=a(1);k=a(6);a=a(71);c.prototype.vX=function(d,f,h){d={url:d.url,r9b:h};!1;this.lf.qac(d);};c.prototype.XH=function(d){try{d.rua();}catch(f){this.log.warn("exception aborting request");}};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(a.Ww))],l);b.xNa=l;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x,y,z){this.Da=v;this.Cv=u;this.config=w;this.lf=y;this.U_b=z;this.log=x.mb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.BMa=void 0;r=a(0);m=a(28);k=a(1);l=a(6);d=a(71);f=a(538);h=a(89);g=a(199);n=a(19);p=a(5);q=a(40);a=a(12);c.prototype.vX=function(v,u,w){var y,z,A;function x(){v.removeEventListener(g.xc.Se.UG,x);v.hX?v.hX++:v.hX=1;v.hX >= y.config().rra.length && (v.hX=y.config().rra.length - 1);setTimeout(function(){y.vX(v,u,w);},y.config().rra[v.hX]);}y=this;v.woc=!0;z=0 === u.start && -1 === u.end;z={url:v.url,responseType:this.lf.q4.rFa,withCredentials:!1,uE:v.mediaType === m.Pb.cb.dc?"audio":"video",offset:z?void 0:u.start,length:z?void 0:v.Lg,track:{type:v.mediaType === m.Pb.cb.dc?h.jj.audio:h.jj.video},stream:{Yb:v.Pa,bitrate:v.bitrate},vc:v.Fe,SB:v,oea:w,ou:this.Cv.ou,du:v.du};A=this.mB();z=this.U_b.download(z,function(B){B.ea && v.readyState !== g.xc.Sc.DONE && (v.readyState === g.xc.Sc.AS?!1:(v.readyState === g.xc.Sc.ML?!1:v.readyState === g.xc.Sc.Nz?(v.readyState=g.xc.Sc.Lz,v.bcb({mediaRequest:v,readyState:v.readyState,timestamp:v.Ec?A:y.mB(),connect:!1,responseHeaders:B.headers})):v.readyState !== g.xc.Sc.Nz && v.readyState !== g.xc.Sc.Lz && !1,v.readyState=g.xc.Sc.DONE,B={mediaRequest:v,readyState:v.readyState,timestamp:y.mB(),cadmiumResponse:B,response:B.content},v.M7=B,v.zQ(B)));});v.addEventListener(g.xc.Se.UG,x);v.rua=z.abort;};c.prototype.XH=function(v){try{v.rua();}catch(u){this.log.warn("exception aborting request");}};c.prototype.mB=function(){return this.Da.Tb().fa(p.ma);};t=c;t=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(n.cd)),r.__param(1,(0,k.l)(q.xp)),r.__param(2,(0,k.l)(a.Nc)),r.__param(3,(0,k.l)(l.ub)),r.__param(4,(0,k.l)(d.Ww)),r.__param(5,(0,k.l)(f.sMa))],t);b.BMa=t;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q;function c(t,v,u,w,x,y){function z(B,C){this.track=B;this.label=C;this.ei=n.xc.Sc.UNSENT;this.bytesReceived=0;this.DK=[];this.requestId=y.TA().toString();this.Db=u;this.log=v.mb("MediaRequest");this.config=t;this.Lb=new g.sk();"notification" === this.label?this.config().eB && (this.MJ=w):this.MJ=x;!1;}function A(B,C){this.requestId=y.TA().toString();this.Db=u;this.log=v.mb("MediaRequest");this.config=t;this.Lb=new g.sk();this.label=C;"notification" === this.label?this.config().eB && (this.MJ=w):this.MJ=x;this.BY=this.TN=this.VN=void 0;this.track=B;this.UN=this.url=this.responseType=void 0;this.ei=n.xc.Sc.UNSENT;this.vj=this.WO=this.ah=this.status=void 0;this.Qt=this.bytesReceived=0;this.connect=this.Kra=this.uI=this.nF=this.Kva=this.Nf=this.Jra=this.loadTime=this.kN=void 0;this.DK=[];this.tl=!1;!1;}z.prototype.addEventListener=function(B,C,D){this.Lb.addListener.call(this,B,C,D);};z.prototype.removeEventListener=function(B,C){this.Lb.removeListener.call(this,B,C);};z.prototype.emit=function(B,C,D){this.Lb.Rc.call(this,B,C,D);};z.prototype.x1b=function(B){this.ei === n.xc.Sc.OPENED && (this.BY=!0,this.loadTime=this.Nf=B.timestamp,!1,this.ei=n.xc.Sc.Nz,this.emit(n.xc.Se.oNa,B));};z.prototype.bcb=function(B){var C;!this.ngb && B.responseHeaders && (this.ngb=B.responseHeaders);if(this.ei < n.xc.Sc.Lz){this.DK=[];C=B.timestamp - this.loadTime;!this.Ec && 0 < C && (this.connect=!0,this.DK.push(C));!0 === this.config().QVb?this.Jra=B.timestamp:this.Jra=this.Nf=B.timestamp;!1;this.ei=n.xc.Sc.Lz;this.emit(n.xc.Se.nNa,B);}};z.prototype.B1b=function(B){this.ei === n.xc.Sc.Lz && (!1,this.Kva=this.Nf=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.Db.Zg(this.Kva) && this.emit(n.xc.Se.pNa,B));};z.prototype.zQ=function(B){var C;if(-1 < [n.xc.Sc.Nz,n.xc.Sc.Lz].indexOf(this.ei)){this.BY=!1;!1;this.Nf=B.timestamp;this.ei=n.xc.Sc.DONE;C=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.km.qW;(0,q.Wa)(this.bytesReceived === this.Lg,"bytesReceived do not match expected totalBytes.");B.newBytes=this.Lg - C;this.Db.Zg(this.uI) && (this.Nf=this.uI,0 === B.newBytes && (this.Kva=this.uI));this.Db.Zg(this.nF) && (this.loadTime=this.nF);this.kN=B.response;this.emit(n.xc.Se.HT,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",k8b:B});}};z.prototype.t1b=function(B){this.BY=!1;!1;this.emit(n.xc.Se.Lsb,B);};z.prototype.Lxa=function(B){this.Nf=B.timestamp;this.status=B.httpcode;this.ah=B.errorcode;this.WO=n.xc.G2.name[this.ah];this.vj=B.nativecode;!1;this.emit(n.xc.Se.UG,B);this.BY=!1;};z.prototype.open=function(B,C,D,F,G,E,H,L){this.Yy=!1;this.UN=C;this.du=L;this.url=B;this.responseType=D;!1;if(!this.url)return (!1,!1);this.ei=n.xc.Sc.OPENED;this.MJ.vX(this,C,H);return !0;};z.prototype.Zc=function(){!1;-1 !== [n.xc.Sc.OPENED,n.xc.Sc.Nz,n.xc.Sc.Lz].indexOf(this.ei) && this.abort();return !0;};z.prototype.qGb=function(){this.kN=void 0;this.M7 && (this.M7.response=void 0,this.M7.cadmiumResponse.content=void 0);this.rua=void 0;};z.prototype.Lea=function(B){!1;this.url=B;return !0;};z.prototype.abort=function(){this.ei=n.xc.Sc.AS;this.MJ.XH(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var C,D;return null !== (D=null === (C=this.ngb) || void 0 === C?void 0:C[B]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.cR=function(){};z.prototype.Vi=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.Vi(),segmentId:this.V,isHeader:this.Ec,ptsStart:this.iC,ptsOffset:this.tw,responseType:this.responseType,duration:this.ln,readystate:this.ei};this.stream && (B.bitrate=this.stream.bitrate);return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.XTb=function(){var B,C;if(this.config().Blb && d.bx && d.bx.getEntriesByType && (!this.Db.Zg(this.nF) || !this.Db.Zg(this.uI) && this.Db.Zg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.VN + "-" + this.TN + "*");C=new RegExp(B);B=d.bx.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.Db.Zg(B) && (0 < B.startTime && (this.nF=B.startTime,0 < B.requestStart && (this.nF=Math.max(this.nF,B.requestStart))),0 < B.responseStart && (this.Kra=B.responseStart),0 < B.responseEnd && (this.uI=B.responseEnd));}};z.prototype.JXb=function(){return this.Db.Zg(this.nF) && this.Db.Zg(this.uI) && this.Db.Zg(this.Kra);};Ua.Object.defineProperties(z.prototype,{Lg:{configurable:!0,enumerable:!0,get:function(){var B;return 0 === this.UN.start && -1 === this.UN.end?Number(null !== (B=this.getResponseHeader("Content-Length")) && void 0 !== B?B:this.getResponseHeader("content-length")) || this.bytesReceived:this.UN.end - this.UN.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.TN - this.VN + 1;}},e7a:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Ec:{configurable:!0,enumerable:!0,get:function(){return !this.dF;}},response:{configurable:!0,enumerable:!0,get:function(){return this.kN;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.ei;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var C;C=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,C);});this.zs=Object.assign(A,n.xc);}Object.defineProperty(b,"__esModule",{value:!0});b.zMa=void 0;r=a(0);m=a(1);k=a(6);l=a(12);d=a(13);f=a(27);h=a(539);g=a(72);n=a(199);p=a(82);q=a(23);c=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Nc)),r.__param(1,(0,m.l)(k.ub)),r.__param(2,(0,m.l)(f.Og)),r.__param(3,(0,m.l)(h.yNa)),r.__param(4,(0,m.l)(h.CMa)),r.__param(5,(0,m.l)(p.Bz))],c);b.zMa=c;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.wbb=void 0;r=a(1);c=a(352);m=a(1301);b.wbb=new r.xd(function(k){k(c.uia).to(m.RMa).ha();});},function(r,b,a){var m,k,l,d,f;function c(h){return k.qf.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RMa=void 0;r=a(0);m=a(45);k=a(46);l=a(1);d=a(34);f=a(5);ka(c,k.qf);Ua.Object.defineProperties(c.prototype,{kbb:{configurable:!0,enumerable:!0,get:function(){return (0,f.qc)(5E3);}},Kcb:{configurable:!0,enumerable:!0,get:function(){return (0,f.qc)(1E3);}},Lcb:{configurable:!0,enumerable:!0,get:function(){return (0,f.qc)(1E3);}}});a=c;r.__decorate([m.config(m.Fl,"minDecoderBufferMilliseconds")],a.prototype,"kbb",null);r.__decorate([m.config(m.Fl,"optimalDecoderBufferMilliseconds")],a.prototype,"Kcb",null);r.__decorate([m.config(m.Fl,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"Lcb",null);a=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(d.Nm))],a);b.RMa=a;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.tdb=void 0;r=a(1);c=a(541);m=a(1303);k=a(80);l=a(1305);d=a(544);f=a(1306);h=a(497);g=a(1307);n=a(297);p=a(1308);b.tdb=new r.xd(function(q){q(k.Jz).to(l.gOa).ha();q(c.iOa).to(m.hOa).ha();q(h.sOa).to(g.rOa);q(h.qOa).Pe(function(t){return function(){return t.wb.get(h.sOa);};});q(d.OOa).to(f.NOa).ha();q(n.Wia).to(p.KOa).ha();});},function(r,b,a){var l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B;function c(C){this.config=C;this.NA=[];}function m(C,D,F){this.Da=C;this.fS=D;this.context=F;this.startTime=this.Da.Tb();}function k(C,D,F,G,E,H,L,K,I,R){this.rkb=D;this.json=F;this.Da=G;this.Cv=E;this.Fza=H;this.wc=L;this.config=K;this.Lb=I;this.receiver=R;this.log=C.mb("Pbo");K.rfb && (this.NA=new c(K));this.fS=this.rkb();}Object.defineProperty(b,"__esModule",{value:!0});b.hOa=void 0;r=a(0);l=a(1);d=a(5);f=a(542);h=a(6);g=a(38);n=a(19);p=a(40);q=a(144);t=a(47);v=a(543);u=a(80);w=a(110);x=a(16);y=a(66);z=a(1304);a=a(297);A={"shakti-":"akira"};k.prototype.send=function(C,D){var F;F=new m(this.Da,this.fS,C);this.NA && this.NA.append(F);return this.iBa(C,D,F);};k.prototype.iBa=function(C,D,F){var G;G=this;return new Promise(function(E,H){G.retry(C,D).then(function(L){var K,I;G.O9b(L);K=na(G.Uec(L));I=K.next().value;K=K.next().value;I && (G.receiver.Cza({command:C.zo,inputs:D,outputs:I}),G.JGb(F),E(L));K && (G.receiver.Cza({command:C.zo,inputs:D,outputs:K}),G.i_a(F,K),H(K));}).catch(function(L){var K;G.receiver.Cza({command:C.zo,inputs:D,outputs:L});K=G.i_a(F,L);L.Qb && (L.Qb=[L.Qb," ",K].join(""));H(L);});});};k.prototype.O9b=function(C){(C=C.serverTime) && this.Lb.Rc(x.Jha.dhb,(0,d.qc)(C));};k.prototype.Uec=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{DF:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};k.prototype.pDb=function(C,D,F){var G;G=this;this.oec(D,C);this.fS=this.rkb(F);return this.fS.send(D,F).then(function(E){return {retry:!1,result:z.e4.V3b(G.json,E.body)};}).catch(function(E){var H,L;H=z.e4.wSb(E);L=void 0 !== H?Math.min(H,D.AAa):D.AAa;return G.lea(D,E,C,L)?(H=G.bFb(E,C,L),G.log.warn("Method failed, retrying",Object.assign({Method:D.zo,Attempt:C + 1,WaitTime:H,MaxRetries:L},G.bqa(E))),Promise.resolve({retry:!0,delay:H,error:E})):Promise.resolve({retry:!1,error:E});});};k.prototype.uQb=function(C){var D,F;if(!this.Jma || this.Jma.s3b !== C){D="";F=C;Object.entries(A).find(function(G){var E;E=na(G);G=E.next().value;E=E.next().value;if(0 === C.indexOf(G))return (D=E,C=C.slice(G.length),!0);});this.Jma={d_a:D,az:C,s3b:F};}return this.Jma;};k.prototype.oec=function(C,D){var F,G,E,H;H=C.url.searchParams;H.set(y.nD.IQa,(D + 1).toString());this.config.ulb.includes(C.um)?C.headers[y.$tb.Bja]=C.um:H.set(y.nD.Bja,C.um);C=this.uQb(null !== (F=this.config.az) && void 0 !== F?F:"");C.d_a && (H.set(y.nD.wGa,C.d_a),C.az && H.set(y.nD.GSa,encodeURIComponent(C.az)),F=this.Cv.je,(null === F || void 0 === F?0:F.name) && H.set(y.nD.NFa,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && H.set(y.nD.OFa,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && H.set(y.nD.sNa,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && H.set(y.nD.tNa,encodeURIComponent(F.os.version)));};k.prototype.retry=function(C,D,F){var G;G=this;F=void 0 === F?0:F;return this.pDb(F++,C,D).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(C,D,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};k.prototype.lea=function(C,D,F,G){var E;E=z.e4.KXb(D);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.zo,Attempt:F + 1,MaxRetries:G},this.bqa(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.zo},this.bqa(D)));return !1;};k.prototype.bFb=function(C,D,F){if(C && C.RF && void 0 !== C.RF.retryAfterSeconds)return (0,d.zi)(C.RF.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,F));return (0,d.qc)(this.Fza.Qeb(C,D));};k.prototype.wait=function(C){var D;D=this;return new Promise(function(F){D.wc.Bj(C || d.Ia,F);});};k.prototype.bqa=function(C){return (0,v.X8a)(C)?C:{message:C.message,subCode:C.Hc,extCode:C.Ud,mslCode:C.VB,data:C.data};};k.prototype.JGb=function(C){C.SR();};k.prototype.i_a=function(C,D){var F;C.wv(D);if(this.NA)try{F=this.json.stringify(this.NA);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=k;B=r.__decorate([(0,l.Y)(),r.__param(0,(0,l.l)(h.ub)),r.__param(1,(0,l.l)(f.vSa)),r.__param(2,(0,l.l)(g.HG)),r.__param(3,(0,l.l)(n.cd)),r.__param(4,(0,l.l)(p.xp)),r.__param(5,(0,l.l)(q.r4)),r.__param(6,(0,l.l)(t.Mj)),r.__param(7,(0,l.l)(u.Jz)),r.__param(8,(0,l.l)(w.lha)),r.__param(9,(0,l.l)(a.Wia))],B);b.hOa=B;m.prototype.SR=function(){this.ea=!0;this.elapsedTime=this.Da.Tb().Aa(this.startTime);};m.prototype.wv=function(C){this.ea=!1;this.elapsedTime=this.Da.Tb().Aa(this.startTime);this.xbc=C.Hc || C.subCode;this.rOb=C.Ud || C.extCode;};m.prototype.toString=function(){return JSON.stringify(this);};m.prototype.toJSON=function(){var C;C=Object.assign({success:this.ea,method:this.context.zo,startTime:this.startTime.fa(d.ma),elapsedTime:this.elapsedTime?this.elapsedTime.fa(d.ma):"in progress"},this.fS.Dpa());return this.ea?C:Object.assign(Object.assign(Object.assign({},C),this.fS.Dpa()),{subcode:this.xbc,extcode:this.rOb});};c.prototype.append=function(C){this.NA.push(C);0 < this.config.lua && this.NA.length > this.config.lua && this.NA.shift();};c.prototype.toJSON=function(){return this.NA;};},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.e4=void 0;m=a(3);c.KXb=function(k){var l,d;l=k && k.code;d=k && (k.xa || k.Hc);k=k.Ud !== m.D3.XNa;d=! !d && d >= m.T.lT && d <= m.T.jT && k;return !("RETRY" !== l && "FAIL" !== l) || d;};c.wSb=function(k){var l,d;d=null === (l=null === k || void 0 === k?void 0:k.RF) || void 0 === l?void 0:l.maxRetries;return "number" === typeof d?d:"FAIL" === (null === k || void 0 === k?void 0:k.code)?1:void 0;};c.V3b=function(k,l){var d;if(l){try{d=k.parse(l);}catch(f){throw {DF:!0,code:"FAIL",message:"Unable to parse the response body",data:l};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (k=d.result.find(function(f){return f.error;})))throw k.error;return d;}throw {DF:!0,code:"FAIL",message:"There is no result property on the response"};}throw {DF:!0,code:"FAIL",message:"There is no body property on the response"};};b.e4=c;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t){n=k.qf.call(this,n,"PboConfigImpl") || this;n.config=p;n.FCb=q;n.sh=t;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.gOa=void 0;r=a(0);m=a(1);k=a(46);l=a(34);d=a(45);f=a(12);h=a(172);a=a(108);ka(c,k.qf);Ua.Object.defineProperties(c.prototype,{az:{configurable:!0,enumerable:!0,get:function(){return this.config().Ar.az || "";}},gfa:{configurable:!0,enumerable:!0,get:function(){return this.config().Ar.gfa || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Ar.dza;}},V8a:{configurable:!0,enumerable:!0,get:function(){return !1;}},fhb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.FCb.JYa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.ghb);}},ghb:{configurable:!0,enumerable:!0,get:function(){return {};}},rfb:{configurable:!0,enumerable:!0,get:function(){return !1;}},lua:{configurable:!0,enumerable:!0,get:function(){return 10;}},tXa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Mx:{configurable:!0,enumerable:!0,get:function(){return this.sh.Mx;}},AE:{configurable:!0,enumerable:!0,get:function(){return this.sh.AE;}},vL:{configurable:!0,enumerable:!0,get:function(){return this.sh.vL;}},Dlb:{configurable:!0,enumerable:!0,get:function(){return !1;}},u2a:{configurable:!0,enumerable:!0,get:function(){return !0;}},ulb:{configurable:!0,enumerable:!0,get:function(){return [];}},C2a:{configurable:!0,enumerable:!0,get:function(){return !0;}},JO:{configurable:!0,enumerable:!0,get:function(){return this.sh.JO;}},xI:{configurable:!0,enumerable:!0,get:function(){return this.sh.xI;}}});g=c;r.__decorate([d.config(d.string,"uiVersion")],g.prototype,"az",null);r.__decorate([d.config(d.string,"uiPlatform")],g.prototype,"gfa",null);r.__decorate([d.config(d.HC,"pboVersion")],g.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],g.prototype,"organization",null);r.__decorate([d.config(d.cL,"pboLanguages")],g.prototype,"languages",null);r.__decorate([d.config(d.Ad,"hasLimitedPlaybackFunctionality")],g.prototype,"V8a",null);r.__decorate([d.config(d.object(),"pboCommands")],g.prototype,"fhb",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],g.prototype,"ghb",null);r.__decorate([d.config(d.Ad,"pboRecordHistory")],g.prototype,"rfb",null);r.__decorate([d.config(d.HC,"pboHistorySize")],g.prototype,"lua",null);r.__decorate([d.config(d.Ad,"pboAddXEsnHeader")],g.prototype,"tXa",null);r.__decorate([d.config(d.Ad,"combineManifestAndLicense")],g.prototype,"Mx",null);r.__decorate([d.config(d.Ad,"enableLicensedManifestForPrefetch")],g.prototype,"AE",null);r.__decorate([d.config(d.Ad,"useLdlForPrefetchLicensedManifest")],g.prototype,"vL",null);r.__decorate([d.config(d.Ad,"pboUseStudioManifest")],g.prototype,"Dlb",null);r.__decorate([d.config(d.Ad,"pboEnableLeanManifest")],g.prototype,"u2a",null);r.__decorate([d.config(d.Ad,"useHeaderForRequestNames")],g.prototype,"ulb",null);r.__decorate([d.config(d.Ad,"pboEnableV2OptimizedManifest")],g.prototype,"C2a",null);r.__decorate([d.config(d.Ad,"pboEnableManifestPartialHydrationSupport")],g.prototype,"JO",null);r.__decorate([d.config(d.cL,"pboContentPlaygraphTypes")],g.prototype,"xI",null);g=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Nm)),r.__param(1,(0,m.l)(f.Nc)),r.__param(2,(0,m.l)(h.W1)),r.__param(3,(0,m.l)(a.WG))],g);b.gOa=g;},function(r,b,a){var k,l;function c(d,f,h,g,n,p,q){this.version=d;this.url=f;this.id=h;this.languages=g;this.Eb=n;this.KMb=p;this.V0b=q;}function m(d){this.si=d;}Object.defineProperty(b,"__esModule",{value:!0});b.NOa=void 0;r=a(0);k=a(1);a=a(80);m.prototype.create=function(d,f,h,g,n){return new c(this.si.version,f,d,this.si.languages,h,g,n);};l=m;l=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(a.Jz))],l);b.NOa=l;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Eb,echo:this.KMb};};},function(r,b,a){var m,k,l;function c(d,f){this.EI=f;this.log=d.mb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.rOa=void 0;r=a(0);m=a(1);k=a(6);a=a(90);c.prototype.Xma=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.iP=function(d){!1;return this.links[d];};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(a.uz))],l);b.rOa=l;},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.KOa=void 0;r=a(0);a=a(1);c.prototype.q$b=function(k){this.listener=k;};c.prototype.Cza=function(k){var l;null === (l=this.listener) || void 0 === l?void 0:l.call(this,k);};m=c;m=r.__decorate([(0,a.Y)()],m);b.KOa=m;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga,N,Q,V,ba,qa,La,Oa,Ta,Qa,Wa,eb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(1);c=a(495);m=a(545);k=a(1310);l=a(547);d=a(1311);f=a(451);h=a(363);g=a(1312);n=a(1323);p=a(12);q=a(19);t=a(109);v=a(27);u=a(6);w=a(1324);x=a(272);y=a(1325);z=a(5);A=a(1326);B=a(1327);C=a(568);D=a(1328);F=a(110);G=a(548);E=a(1329);H=a(111);L=a(31);K=a(161);I=a(90);R=a(289);O=a(572);J=a(1330);M=a(81);P=a(40);S=a(549);T=a(1331);U=a(298);W=a(26);fa=a(570);sa=a(1332);wa=a(550);Ba=a(1333);Ga=a(30);N=a(307);Q=a(306);V=a(1334);ba=a(1335);qa=a(1336);La=a(1337);Oa=a(1338);Ta=a(1339);Qa=a(573);Wa=a(1340);eb=a(47);b.j=new r.xd(function(ub){ub(O.ija).to(J.pPa).ha();ub(U.ega).Pe(function(jb){var mb;mb=jb.wb;return function(Ia,Xa){return new (a(1341).UEa)(Ia,Xa,mb.get(t.pz),mb.get(F.z2));};});ub(c.wSa).Pe(function(jb){var mb;mb=jb.wb;return function(Ia,Xa,ab,kb,sb,Bb,Hb,Lb,Xb){return new (a(1344).xSa)(mb.get(A.CSa),Ia,Xa,ab,kb,sb,Bb,Hb,Lb,Xb);};});ub(A.CSa).to(B.BSa).ha();ub(m.ASa).to(k.zSa).ha();ub(h.kPa).to(g.jPa).ha();ub(qa.mRa).to(La.lRa).ha();ub(S.HQa).to(T.GQa);ub(S.FQa).$jb(S.HQa);ub(f.vHa).Pe(function(jb){var mb;mb=jb.wb;return function(Ia){return new (a(1345).wHa)(mb.get(F.uHa),mb.get(t.pz),mb.get(q.cd),Ia);};});ub(l.wFa).Pe(function(){return function(jb){return new d.xFa(jb);};});ub(fa.lja).Pe(function(jb){var mb;mb=jb.wb;return function(Ia){return new sa.vPa(Ia,mb.get(u.ub),mb.get(v.Og));};});ub(Q.rEa).Pe(function(jb){var mb;mb=jb.wb;return function(Ia){return new V.sEa(Ia,mb.get(u.ub).mb("AdImpressionLogger"),mb.get(Ga.Eh),mb.get(p.Nc),mb.get(q.cd),mb.get(N.Yfa),mb.get(N.Xfa));};});ub(Oa.CEa).to(Ta.BEa);ub(wa.vEa).Pe(function(jb){var mb;mb=jb.wb;return function(Ia,Xa){return new ba.uEa(new Ba.wEa(Ia,Xa,mb.get(u.ub).mb("AdManager"),mb.get(p.Nc),mb.get(qa.mRa),mb.get(Q.rEa),mb.get(Oa.CEa)));};});ub(w.bPa).Pe(function(jb){var mb;mb=jb.wb;return function(Ia){return new n.cPa(Ia,mb.get(u.ub),mb.get(p.Nc),mb.get(v.Og),mb.get(t.pz),mb.get(fa.lja));};});ub(Qa.iLa).Pe(function(jb){var mb;mb=jb.wb;return function(Ia,Xa){return new Wa.jLa(mb.get(eb.Mj),Ia,Xa);};});ub(x.kja).Pe(function(jb){var mb;mb=jb.wb;return function(Ia,Xa,ab,kb,sb,Bb,Hb,Lb,Xb,Fb,Qb){return new y.rPa(Ia,Xa,ab,kb,sb,Bb,Hb,Lb,Xb,mb.get(w.bPa),mb.get(O.ija),mb.get(Qa.iLa),Fb,Qb);};});ub(C.eRa).Pe(function(jb){return function(mb){var Ia,Xa;Ia=jb.wb.get(p.Nc);Xa=jb.wb.get(u.ub);return new D.fRa(Ia,mb,Xa);};});ub(G.mPa).Pe(function(jb){return function(mb){var Ia,Xa,ab,kb,sb;Ia=jb.wb.get(I.uz);Xa=jb.wb.get(H.lM);ab=jb.wb.get(L.ci);kb=jb.wb.get(K.VT);sb=jb.wb.get(W.rz);return new E.nPa(mb,Ia,Xa((0,z.zi)(1)),ab,kb,sb);};});ub(R.sia).gG(function(jb){return new (a(1346).NMa)(jb.wb.get(M.DT),jb.wb.get(P.xp));}).ha();});},function(r,b,a){var m,k,l,d,f,h;function c(g,n){this.Eg=g;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.zSa=void 0;r=a(0);m=a(16);k=a(546);l=a(19);d=a(1);f=a(5);a=a(12);c.prototype.LO=function(g){var n;g.h1={};if(!g.OP() && g.GC && 0 < g.GC.length && (g.FC=this.s5a(g),g.FC)){n=this.R$b(g);n() || (g.zb.addListener(n),g.pf.addListener(n));}};c.prototype.R$b=function(g){var p;function n(){var q,t;if(!g.pf.value || g.zb.value === m.ib.cg)return !1;q=g.FC;t=q.getState();return t === k.Uq.LOADING?!1:t !== k.Uq.IG && q.retry?(q=p.$Tb(g))?(g.h1.offset=p.Eg.Tb().fa(f.ma),g.FC=q,q.download(),!0):!1:(g.zb.removeListener(n),g.pf.removeListener(n),!1);}p=this;return n;};c.prototype.$Tb=function(g){var n,p;n=this.config();p=g.qm.ot() < n.gdc;n=(g.pf.value?g.pf.value.bitrate:0) > n.fdc;return this.vTb(g,p && n);};c.prototype.vTb=function(g,n){if(n && (n=this.s5a(g),this.t6a(g,n.size)))return (g.h1.bgb="h",n);n=this.tSb(g);if(this.t6a(g,n.size))return (g.h1.bgb="l",n);};c.prototype.t6a=function(g,n){var p,q;p=this.config();q=Math.min(g.GV(),g.u1());return g.RDb.SEb(n) * (1 + .01 * p.jCb[2]) < q * p.jdc;};c.prototype.s5a=function(g){return g.GC[g.GC.length - 1];};c.prototype.tSb=function(g){return g.GC[0];};h=c;h=r.__decorate([(0,d.Y)(),r.__param(0,(0,d.l)(l.cd)),r.__param(1,(0,d.l)(a.Nc))],h);b.zSa=h;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;a.prototype.dlb=function(){var c;c=this.j.Ha;if(null !== c && void 0 !== c && c.yD){c=c.Vb.get();if(null === c || void 0 === c?0:c.$k)this.j.$k=c.$k.pa;if(null === c || void 0 === c?0:c.Qa)this.j.Qa=c.Qa.pa;}};a.prototype.Oo=function(){-1 === this.j.Qa && this.dlb();return this.j.Qa;};a.prototype.SEb=function(c){-1 !== this.j.$k && -1 !== this.j.Qa || this.dlb();return -1 === this.j.$k || -1 === this.j.Qa?Number.MAX_VALUE:this.j.$k + 8 * c / this.j.Qa;};b.xFa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I;function c(R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga,N,Q,V,ba,qa,La,Oa,Ta,Qa,Wa,eb,ub){this.wB=R;this.WD=O;this.Da=J;this.za=M;this.SDb=P;this.NCa=S;this.lZ=T;this.Dwa=U;this.ZP=W;this.wd=fa;this.ti=sa;this.zj=wa;this.ON=Ba;this.n_=Ga;this.ck=N;this.dDa=Q;this.sg=V;this.In=ba;this.Ge=qa;this.Oya=La;this.h8b=Oa;this.Bna=Ta;this.QJ=Qa;this.zya=Wa;this.Rma=eb;this.FN=ub;}Object.defineProperty(b,"__esModule",{value:!0});b.jPa=void 0;r=a(0);m=a(82);k=a(1);l=a(111);d=a(36);f=a(19);h=a(30);g=a(547);n=a(273);p=a(496);q=a(513);t=a(116);v=a(145);u=a(164);w=a(101);x=a(486);y=a(272);z=a(545);A=a(50);B=a(31);C=a(548);D=a(81);F=a(549);G=a(298);E=a(289);H=a(115);L=a(529);K=a(550);c.prototype.create=function(R,O,J,M,P,S,T,U){return new (a(551).lPa)(R,O,S,T,M,P,this.wB,J,this.Da,this.WD,this.za,this.lZ,this.SDb,this.NCa,this.Dwa,this.ZP,this.wd,this.ti,this.zj,this.ON,this.n_,this.ck,this.dDa,this.sg,this.Ge,this.Oya,this.In,this.h8b(),this.Bna,this.QJ,this.zya,this.Rma,void 0,U);};I=c;I=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(m.Bz)),r.__param(1,(0,k.l)(d.hj)),r.__param(2,(0,k.l)(f.cd)),r.__param(3,(0,k.l)(h.Eh)),r.__param(4,(0,k.l)(g.wFa)),r.__param(5,(0,k.l)(l.lM)),r.__param(6,(0,k.l)(n.mia)),r.__param(7,(0,k.l)(p.cMa)),r.__param(8,(0,k.l)(q.vT)),r.__param(9,(0,k.l)(t.iH)),r.__param(10,(0,k.l)(v.NT)),r.__param(11,(0,k.l)(u.YG)),r.__param(12,(0,k.l)(x.EFa)),r.__param(13,(0,k.l)(y.kja)),r.__param(14,(0,k.l)(H.NG)),r.__param(15,(0,k.l)(z.ASa)),r.__param(16,(0,k.l)(A.bo)),r.__param(17,(0,k.l)(D.DT)),r.__param(18,(0,k.l)(B.ci)),r.__param(19,(0,k.l)(C.mPa)),r.__param(20,(0,k.l)(F.FQa)),r.__param(21,(0,k.l)(G.ega)),r.__param(22,(0,k.l)(E.sia)),r.__param(23,(0,k.l)(L.FOa)),r.__param(24,(0,k.l)(K.vEa)),r.__param(25,(0,k.l)(w.CS)),r.__param(25,(0,k.optional)())],I);b.jPa=I;},function(r,b,a){var d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K;function c(){this.Xea=[];this.Rcc=50;}function m(I){var R;R=this;this.j=I;this.jmb=Promise.resolve();this.gIa=nb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.QH=[];this.nl=new n.sk();this.RTa=0;this.h5=[];this.eg=(0,t.Ui)(this.j,"MediaElementASE");this.gWa=h.dx;this.Pka=!1;this.jb=new c();this.Rp={};this.BUa={};this.K9=this.j5(function(){var O;if(R.$)return null !== (O=R.$.webkitDecodedFrameCount) && void 0 !== O?O:0;});this.nB=this.j5(function(){var O;if(R.$){O=R.mla();return O?O.totalVideoFrames:R.$.webkitDecodedFrameCount;}});this.aJ=this.j5(function(){var O;if(R.$){O=R.mla();return O?O.droppedVideoFrames:R.$.webkitDroppedFrameCount;}});this.EX=this.j5(function(){var O;if(R.$){O=R.mla();return O && O.corruptedVideoFrames;}});this.aVa=function(O){!1;R.nl.Rc(D.uk.d$a,{L:O});};this.jm=t.Ba.get(C.dLa).create(g.config.pu,this,this.j);g.config.lF && (this.jmb=new Promise(function(O){R.gWa=O;R.j.addEventListener(E.ia.Xg,O);}));this.eg.trace("Created Media Element");this.addEventListener=this.nl.addListener;this.removeEventListener=this.nl.removeListener;}function k(I){var R,O;R=t.Ba.get(F.kTa).pTb();I=I.width / I.height * R.height;O=(R.width - I) / 2;return g.config.M$b?(0,q.createElement)("VIDEO","position:absolute;width:" + I + "px;height:" + R.height + "px;left:" + O + "px;top:0px"):(0,q.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function l(I){I.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.pMa=void 0;d=a(28);f=a(303);h=a(17);g=a(18);n=a(72);p=a(65);q=a(43);t=a(8);v=a(3);u=a(23);w=a(91);x=a(346);y=a(25);z=a(304);A=a(13);B=a(15);C=a(557);D=a(305);F=a(533);G=a(5);E=a(16);H=a(60);L=a(49);K=! !(A.iD && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);m.prototype.GX=function(I){try{this.$ && (this.RTa=this.$.currentTime);}catch(R){this.eg.error("Exception while getting VIDEO.currentTime",R);I && this.mU(v.W.vtb,R);}return (0,A.zp)(this.RTa * h.yu);};m.prototype.seek=function(I){var R;(0,u.Wa)(!this.er);this.ZVa();R=this.GX(!0);if(!g.config.zCb && (0,A.O3)(R - I) <= this.ZAa)(this.eg.trace("Seek delta too small",{currentTime:R,seekTime:I,min:this.ZAa}),this.jb.trace("smallseek",I));else {this.jb.trace("seek",I);try{this.eg.trace("Setting video elements currentTime",{From:(0,w.Jj)(R),To:(0,w.Jj)(I)});this.er={};this.$.currentTime=I / h.yu;this.nl.Rc(D.uk.yr);}catch(O){this.eg.error("Exception while setting VIDEO.currentTime",O);this.mU(v.W.wtb,O);}}};m.prototype.u6a=function(){return ! !this.er;};m.prototype.addSourceBuffer=function(I){var R;try{R=new f.pia(this.j,I,this.fg,this.eg);this.QH.push(R);I == h.xT && R.Lra && R.Lra.addListener(this.gWa);return R;}catch(O){R=(0,y.cf)(O);this.eg.error("Unable to add source buffer.",{error:R});this.j.Sd(v.W.Mia,{xa:I === d.Pb.kl.dc?v.T.jia:v.T.kia,Qb:R});}};m.prototype.M6=function(I){var R;R=this;I.forEach(function(O){return R.addSourceBuffer(O);});this.nl.Rc(D.uk.uib);return !0;};m.prototype.removeSourceBuffer=function(I){this.QH=this.QH.filter(function(R){return !(0,q.s_a)(I,R);});this.fg.removeSourceBuffer(I);};m.prototype.endOfStream=function(){this.jb.trace("endofstream");!1;g.config.Doa && this.fg.endOfStream();};m.prototype.zr=function(I){!1;this.QH=[];I && I.Cpc();return !0;};m.prototype.O5a=function(){if(this.fg)return (0,G.geb)(this.fg.duration);};m.prototype.PLb=function(){var I;if(!this.Pka && this.$ && this.$.readyState >= H.wp.A3.HAVE_CURRENT_DATA){I=this.$.webkitDecodedFrameCount;if(void 0 === I || 0 < I || g.config.yfc)this.Pka=!0;}return this.Pka;};m.prototype.open=function(){var I,R,O;I=this;this.$=k(this.j.nG.value);this.sourceBuffers=this.QH;this.j.addEventListener(E.ia.cib,function(J){return I.czb(J);});if(K){this.j.BJ && !g.config.rlb && this.jm.lca();try{this.fg=new A.iD();}catch(J){this.mU(v.W.mtb,J);return;}try{this.$l=URL.createObjectURL(this.fg);}catch(J){this.mU(v.W.ntb,J);return;}try{this.jm.JBb(this.aVa);this.fg.addEventListener("sourceopen",function(J){return I.BVa(J);});this.fg.addEventListener(this.gIa + "sourceopen",function(J){return I.BVa(J);});this.$.addEventListener("error",this.Rp.error=function(J){return I.NU(J);});this.$.addEventListener("seeking",this.Rp.seeking=function(){return I.bzb();});this.$.addEventListener("seeked",this.Rp.seeked=function(){return I.azb();});this.$.addEventListener("timeupdate",this.Rp.timeupdate=function(){return I.dzb();});this.$.addEventListener("loadstart",this.Rp.loadstart=function(){return I.Tla();});this.$.addEventListener("volumechange",this.Rp.volumechange=function(J){return I.ezb(J);});this.$.addEventListener(this.jm.xF,this.Rp[this.jm.xF]=function(){I.eg.trace(I.jm.xF);I.Zyb();});R=this.j.ip;O=R.lastChild;O?R.insertBefore(this.$,O):R.appendChild(this.$);g.config.B1a && this.$.addEventListener("contextmenu",l);this.$.src=this.$l;p.kf.addListener(p.pt,this.BUa[p.pt]=function(){return I.AVa();});this.AVa();}catch(J){this.mU(v.W.otb,J);}}else this.b5(v.W.ONa);};m.prototype.close=function(){var R;function I(){R.$l && (R.ZVa(),p.kf.removeListener(p.pt,R.BUa[p.pt]),R.$vb());}R=this;this.jb.trace("close");this.$.removeEventListener(this.jm.xF,this.Rp[this.jm.xF]);this.$.removeEventListener("error",this.Rp.error);this.$.removeEventListener("seeking",this.Rp.seeking);this.$.removeEventListener("seeked",this.Rp.seeked);this.$.removeEventListener("timeupdate",this.Rp.timeupdate);this.$.removeEventListener("loadstart",this.Rp.loadstart);this.$.removeEventListener("volumechange",this.Rp.volumechange);this.jm.M7b(this.aVa);g.config.pu?this.jm.mC().then(function(){return I();}):I();this.jm.Nfb && clearTimeout(this.jm.Nfb);};m.prototype.OE=function(){return this.jb.OE();};m.prototype.Zyb=function(){g.config.rlb && this.jm.lca();};m.prototype.mla=function(){if(this.$)return this.$.getVideoPlaybackQuality && this.$.getVideoPlaybackQuality() || this.$.videoPlaybackQuality || this.$.playbackQuality;};m.prototype.qAb=function(){var I;I=this.j.Ti;return (I=I && I.errorCode) && 0 <= [v.W.c4,v.W.F3].indexOf(I);};m.prototype.$vb=function(){var I;I=!1;g.config.M5b && this.qAb() && (I=!0);g.config.AGb && !I && (this.$.removeAttribute("src"),this.$.load && this.$.load());URL.revokeObjectURL(this.$l);g.config.B1a && this.$.removeEventListener("contextmenu",l);!I && this.$ && this.j.ip.removeChild(this.$);this.$=this.fg=void 0;this.$l="";};m.prototype.AVa=function(){!0 === A.Gh.hidden?this.h5.forEach(function(I){I.refresh();I.Oac();}):this.h5.forEach(function(I){I.refresh();I.dbc();});};m.prototype.j5=function(I){var R;R=t.Ba.get(x.vNa)(I);this.h5.push(R);return function(){R.refresh();return R.lRb();};};m.prototype.mU=function(I,R){var O,J;O={xa:v.T.Im,Qb:(0,y.cf)(R)};try{(J=R.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (O.Kf=J);}catch(M){}this.j.Sd(I,O);};m.prototype.ZVa=function(){this.h5.forEach(function(I){I.refresh();});};m.prototype.Vwb=function(){return this.$ && this.$.msGraphicsTrustStatus;};m.prototype.b5=function(I,R){this.j.Sd(I,R,void 0);};m.prototype.czb=function(I){var R,J,M,P,S,T,U;if(this.$){I=I.wfa;R=this.Vwb();R && (I.ConstrictionActive=R.constrictionActive,I.Status=R.status);try{I.readyState="" + this.$.readyState;I.currentTime="" + this.$.currentTime;I.pbRate="" + this.$.playbackRate;}catch(W){}R=this.QH.length;for(var O;R--;){O=this.QH[R];J="";O.type == h.L3?J="audio":O.type == h.xT && (J="video");(0,y.Ce)(I,O.D9(),{prefix:J});}this.fg && (R=this.fg.duration) && !isNaN(R) && (I.duration=R.toFixed(4));if(g.config.yZb)try{M=this.j.bf;P=M && M.Ib;if(P){S=P.expiration;isNaN(S) || (I.exp=S);T=P.keyStatuses.entries();if(T.next){U=T.next().value;U && (I.keyStatus=U[1]);}}}catch(W){}}};m.prototype.BVa=function(I){!1;this.rAb || (this.rAb=!0,this.nl.Rc(D.uk.wib,I));};m.prototype.bzb=function(){this.jb.trace("seeking");this.eg.trace("Video element event: seeking");this.er?this.er.U1b=!0:(this.eg.error("unexpected seeking event"),g.config.IOb && this.b5(v.W.Btb,{Qb:{Trace:this.OE()}}));};m.prototype.azb=function(){this.jb.trace("seeked");this.eg.trace("Video element event: seeked");this.er?((0,u.Wa)(this.er.U1b),this.er.T1b=!0,this.FWa()):(this.eg.error("unexpected seeked event"),g.config.HOb && this.b5(v.W.Atb,{Qb:{Trace:this.OE()}}));};m.prototype.dzb=function(){var I;this.jb.trace("timeupdate",null === (I=this.$) || void 0 === I?void 0:I.currentTime);!1;this.er && (this.er.W1b=!0,this.FWa());this.nl.Rc(D.uk.yr);};m.prototype.Tla=function(){this.eg.trace("Video element event: loadstart");};m.prototype.ezb=function(I){this.eg.trace("Video element event:",I.type);try{this.j.volume.set(this.$.volume);this.j.muted.set(this.$.muted);}catch(R){this.eg.error("error updating volume",R);}};m.prototype.NU=function(I){var R,O,J,M,P,S,T,U;R=this.b5;O=v.W.NNa;J=v.yIa;M=this.OE();P=I.target;S=P && P.error;T=I.errorCode;P=S && S.code;(0,B.pd)(P) || (P=T && T.code);T=S && S.message;U=S && S.msExtendedCode;(0,B.pd)(U) || (U=S && S.systemCode);(0,B.pd)(U) || (U=I.systemCode);(0,B.pd)(U) || (U=(0,L.hta)(T));I=(0,y.Ce)({},{code:P,systemCode:U,trace:JSON.stringify(M)},{pca:!0});J={xa:J(P),Qb:(0,z.ywa)(I)};try{T && (J.tZ=T);}catch(W){}U=(0,y.hk)(U);(0,B.Ka)(U) && (J.Kf=(0,t.Wna)(U,4));R.call(this,O,J);};m.prototype.FWa=function(){this.er && this.er.T1b && this.er.W1b && (this.jb.trace("seekcomplete"),this.er=void 0,this.nl.Rc(D.uk.k0));};Ua.Object.defineProperties(m.prototype,{ZAa:{configurable:!0,enumerable:!0,get:function(){return g.config.Eac;}}});b.pMa=m;c.prototype.trace=function(I,R){this.Xea.push([I,R]);this.Xea.length > this.Rcc && this.Xea.shift();};c.prototype.OE=function(){return this.Xea;};},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v){var u;u=this;this.j=v;this.CCa=this.Abb=0;this.Xg=this.rm=!1;this.Jda=0;this.N$=new Set();this.w0=!0;this.Bm=function(){var w,x;u.Fda();u.AI && (u.log.info("Deactivating",u.AI),u.BC.yKb(u.Le()));u.j.nj.set(null);u.lL.Ahb(void 0);u.$Za();w=u.j.jc.value;w && w.Kr() && !w.pq() && (w=null);if(w && u.j.zb.value !== q.ib.cg){x=u.Le();u.BC.kBb(x,w);}w?(u.log.info("Activating",w),u.j.Wn.set(w.getState() === m.eH.pD.IG?q.Rf.He:q.Rf.sd),u.rm || u.j.Ne("tt_start"),w.T$().then(u.xN).catch(u.xN)):u.j.Wn.set(q.Rf.He);u.AI=w;u.JC();};this.sync=function(){u.rm && (u.lL.start(),u.j.zb.value !== q.ib.Dc && u.lL.stop());};this.JC=function(){var w;u.w0 && u.j.state.value === q.ac.He && u.j.zb.value !== q.ib.cg && (u.Xh?w=u.lL.wQb():u.j.jc.value && (w=c.Zac[u.j.jc.value.getState()]));w && (0,p.pd)(w.startTime) && u.j.Dw.value !== w && (u.Abb++,u.CCa+=u.lL.P5a() - w.startTime,u.BYa=Math.ceil(u.CCa / (u.Abb + 0)));u.j.Dw.set(w);};this.Le=function(){var w;w=u.j.ita();u.AI && u.AI.Mv && (w+=u.AI.Mv);return w;};this.Z2b=function(w){u.N$.add(w);u.w0 && (u.fireEvent(c.eib,w),w && w.id && (u.BC.ilb(w.id),!1));u.log.trace("showsubtitle",u.f$(w));};this.U2b=function(w){u.N$.delete(w) && u.w0 && (u.fireEvent(c.Kfb,w),u.log.trace("removesubtitle",u.f$(w)));};this.kVb=function(){u.N$.forEach(function(w){u.fireEvent(c.Kfb,w);u.log.trace("hide subtitle",u.f$(w));});};this.M8b=function(){u.N$.forEach(function(w){u.fireEvent(c.eib,w);u.log.trace("resume subtitle",u.f$(w));});};this.ek=function(){u.log.warn("imagesubs buffer underflow",u.j.jc.value.yh);u.j.Wn.set(q.Rf.sd);};this.q2b=function(){u.log.info("imagesubs buffering complete",u.j.jc.value.yh);u.j.Wn.set(q.Rf.He);};this.fca=function(){u.rm && u.Xh && u.Xh.Jw(u.Le());};this.Ecb=function(w){u.rm && u.Xh && (u.Xh.pause(),u.Xh.UF(w.Lk));};this.AF=function(){u.rm && u.Xh && u.Xh.Ieb();};this.Bcb=function(w){u.Xh && u.Xh.fj(w.Mh,w.wQ);};this.Hcb=function(w){u.Xh && u.Xh.Gj(w.V,w.pec);};this.N2b=function(){u.rm=!0;(0,n.jg)(function(){var w,x;(null === (w=u.AI) || void 0 === w?0:w.Bl)?null === (x=u.Xh) || void 0 === x?void 0:x.Jw(u.Le()):u.sync();u.JC();});};this.K2b=function(){u.$Za();u.lL.stop();u.JC();u.Xg=!0;u.Fda();};this.gya=function(w){(w=w.newValue) && (0,p.isArray)(w.blocks) && (u.BC.ilb.apply(u.BC,ia(w.blocks.map(function(x){return x.id;}))),!1);};this.R2b=function(w){u.jec(w.newValue,w.oldValue);u.sync();u.JC();};this.xN=function(w){var x;if(!u.Xg){x=w.track;if(x === u.j.jc.value)try{u.Xh=x.zCa;x.Bl?u.iBb(w):u.jBb(w);}catch(y){u.log.error("Error activating track:",y,x);return;}u.rm || u.j.Ne(w.ea?"tt_comp":"tt_err");w.ea?(d.config.Agb?setTimeout(function(){u.j.Wn.set(q.Rf.He);},d.config.Agb):u.j.Wn.set(q.Rf.He),x.Bl || u.JC()):w.aborted?u.log.warn("aborted timed text track loading"):d.config.GOb?u.j.Sd(g.W.lrb,{Qb:w.track?w.track.yh:{}}):(u.log.error("ignore subtitle initialization error",w),u.j.Wn.set(q.Rf.He));}};this.Lb=new l.sk();this.BC=new h.WRa((0,f.Ui)(v,"SubtitleTracker"),d.config.BNb);this.log=(0,f.Ui)(v,"TimedTextManager");this.lL=new k.pSa(this.Le,this.JC);this.j.jc.addListener(this.Bm);d.config.h5b?(this.j.addEventListener(q.ia.rm,this.N2b),this.Bm()):(this.j.Wn.set(q.Rf.He),this.j.addEventListener(q.ia.rm,function(){u.rm=!0;u.Bm();}));this.j.zb.addListener(this.R2b);this.j.addEventListener(q.ia.OCa,this.sync);this.j.Dw.addListener(this.gya);this.j.addEventListener(q.ia.Xg,this.K2b);}Object.defineProperty(b,"__esModule",{value:!0});b.nSa=void 0;m=a(286);k=a(558);l=a(72);d=a(18);f=a(8);h=a(1315);g=a(3);n=a(58);p=a(15);q=a(16);t=a(1316);c.prototype.pac=function(){this.w0=!0;this.M8b();this.JC();};c.prototype.lVb=function(){this.w0=!1;this.kVb();this.JC();};c.prototype.addEventListener=function(v,u,w){this.Lb.addListener(v,u,w);};c.prototype.removeEventListener=function(v,u){this.Lb.removeListener(v,u);};c.prototype.fireEvent=function(v,u,w){this.Lb.Rc(v,u,w);};c.prototype.Tma=function(v,u,w){var x,y;x=this;y=t.lSa.mJb(this.j,v,u,w);this.t8a(this.j.Ai,y);this.j.pj.forEach(function(z){x.t8a(z.Ai,y);});this.j.jc.set(y);this.j.fireEvent(q.ia.Fw);};c.prototype.m5b=function(v){this.pAa(v)?v.T$().then(function(){}):Promise.resolve();};c.prototype.QTb=function(v){return this.BC.wTb(v);};c.prototype.Dta=function(v){return this.BC.Dta(v);};c.prototype.dY=function(){var v,u;v=this.j.Z0;u=d.config.Vjb.characterSize;u={size:d.config.SCa.characterSize || u};v && (u.visibility=v.Kta(),u.XV=v.Ita(),u.Ht=v.Jta());return u;};c.prototype.I$b=function(v){d.config.SCa.characterSize=v;v=this.j.jc.value;this.pAa(v) && !v.Bl && v.T$().then(this.xN).catch(this.xN);};c.prototype.jec=function(v,u){var w;v === q.ib.Dc || v == q.ib.Hh?u !== q.ib.Dc && u !== q.ib.Hh && ((u=this.j.jc.value) && !this.pAa(u) || this.BC.Hbb(this.Le(),u || void 0,"presentingstate:" + v)):v !== q.ib.cg && v !== q.ib.us || this.BC.Tqa(null !== (w=this.Le()) && void 0 !== w?w:void 0,"presentingstate:" + v);};c.prototype.Fda=function(){this.Jda=0;clearTimeout(this.P8b);};c.prototype.$Za=function(){var v;this.Xh && this.Xh.stop();(null === (v=this.AI) || void 0 === v?0:v.Bl) && this.P$a("removeListener");this.Xh=void 0;};c.prototype.P$a=function(v){this.Xh && (this.Xh[v]("showsubtitle",this.Z2b),this.Xh[v]("removesubtitle",this.U2b),this.Xh[v]("underflow",this.ek),this.Xh[v]("bufferingComplete",this.q2b),"addListener" === v?(this.j.addEventListener(q.ia.yr,this.fca),this.j.addEventListener(q.ia.Zk,this.Ecb),this.j.addEventListener(q.ia.IK,this.AF),this.j.addEventListener(q.ia.Uba,this.Bcb),this.j.addEventListener(q.ia.wDa,this.Hcb)):(this.j.removeEventListener(q.ia.yr,this.fca),this.j.removeEventListener(q.ia.Zk,this.Ecb),this.j.removeEventListener(q.ia.IK,this.AF),this.j.removeEventListener(q.ia.Uba,this.Bcb),this.j.removeEventListener(q.ia.wDa,this.Hcb)));};c.prototype.f$=function(v){return {currentPts:this.Le(),displayTime:v.displayTime,duration:v.duration,id:v.id,originX:v.originX,originY:v.originY,sizeX:v.sizeX,sizeY:v.sizeY,rootContainerExtentX:v.rootContainerExtentX,rootContainerExtentY:v.rootContainerExtentY};};c.prototype.iBb=function(v){var u,w;u=this;w=v.track;if(!w || !w.Bl)throw Error("Not an image base subtitle");v.ea?(this.Fda(),this.P$a("addListener"),this.log.info("Activated",w),this.j.nj.set(w),this.rm?(0,n.jg)(function(){u.Xh.Jw(u.Le());}):this.Xh.pause()):this.qgb(w,v);};c.prototype.jBb=function(v){var u,w;u=v.track;w=v.ea;if(!u || u.Bl)throw Error("Not a valid text track");w?(this.Fda(),this.lL.Ahb(this.Xh),this.log.info("Activated",u),this.j.nj.set(u)):this.qgb(u,(0,g.yz)(v));this.JC();};c.prototype.qgb=function(v,u){var w,x;w=this;x=this.Jda < d.config.F_b;x && (this.P8b=setTimeout(function(){w.Jda++;v.T$().then(w.xN).catch(w.xN);},d.config.Bcc));this.log.error("Failed to activate" + ((null === v || void 0 === v?0:v.Bl)?" img subtitle":""),{retry:x},u,v);};c.prototype.pAa=function(v){return !(!v || v.Kr() && !v.pq());};c.prototype.t8a=function(v,u){var w;w=v.findIndex(function(x){return x.$b >= u.$b;});-1 === w && (w=0);v.splice(w,0,u);};b.nSa=c;r={};c.Zac=(r[m.eH.pD.LOADING]={dZ:!0},r[m.eH.pD.pT]={wv:!0},r);c.eib="showsubtitle";c.Kfb="removesubtitle";},function(r,b,a){var k;function c(l,d,f){this.start=l;this.track=d;this.eL=Array.isArray(f)?f:[];}function m(l,d){this.log=l;this.LC=d;this.Gza=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.WRa=void 0;k=a(23);m.prototype.kBb=function(l,d){this.Hbb(l,d,"activating");};m.prototype.yKb=function(l){this.Tqa(l,"de-activating");};m.prototype.Hbb=function(l,d,f){var h;this.ul && this.Tqa(l,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ia(this.orphans)),this.orphans=[]);this.ul=new c(l,d,h);this.LC && this.log.trace("new range: " + f,this.ul);};m.prototype.Tqa=function(l,d){this.ul && (this.ul.end=l,this.Gza.push(this.ul),this.LC && this.log.trace("end range: " + d,this.ul || ({})),this.ul=void 0);};m.prototype.ilb=function(l){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.ul?this.ul.eL.push.apply(this.ul.eL,ia(d)):this.orphans.push.apply(this.orphans,ia(d));};m.prototype.Dta=function(l){var d,f;d=this.Gza.slice(0);if(this.ul && "undefined" !== typeof l){f=new c(this.ul.start,this.ul.track,this.ul.eL);f.end=l;d.push(f);}l=d.reduce(function(h,g){var n,p,q,t;if(!g.track)return h;p=g.track.Yb;q=g.track.Gv(g.start,g.end);if(void 0 === q || null === q)return h;t=new Set(g.eL);h[p]?(g=h[p],g.expected+=q,g.missed+=q - t.size):h[p]={dlid:p,bcp47:g.track.xf,profile:g.track.profile,expected:q,missed:q - t.size,startPts:null !== (n=g.track.ITb()) && void 0 !== n?n:0};return h;},{});l=Object.values(l);this.LC && this.log.trace("subtitleqoe:",JSON.stringify(l,null,"\t"));return l;};m.prototype.wTb=function(l){var d,f,h,g;d=this.Gza.slice(0);f=0;h=0;if(this.ul && "undefined" != typeof l){g=new c(this.ul.start,this.ul.track,this.ul.eL);g.end=l;d.push(g);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,k.Wa)(!1,"negative range");n.SF=0;return;}p=new Set(n.eL);q=n.track.Gv(n.start,n.end);n.T8=q;n.SF=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.SF=100;p=n.end - n.start;f+=p;h+=n.SF * p;});g=f?Math.round(h / f):100;this.log.trace("qoe score " + g + ", at pts: " + l);this.LC && (l=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.SF),lang:n.track?n.track.xf:"none","actual  ":n.eL.join(" "),expected:n.T8};}),this.log.trace("score for each range: ",JSON.stringify(l,function(n,p){return p;}," ")));return g;};b.WRa=m;},function(r,b,a){var m,k,l,d,f,h,g,n,p;function c(q,t,v,u,w,x){var y,z;q=f.eH.call(this,t,q,q,w,!0,{Wf:"",FF:"content"},"1",{0:v},[{id:0,name:"custom"}],"xx",u || q,h.Tq.dM,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=t;q.url=v;q.options=x;q.ou=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.lSa=void 0;r=a(64);m=a(18);k=a(65);l=a(8);d=a(43);f=a(286);h=a(133);g=a(104);n=a(196);p=a(16);(0,r.hPa)(r.eja,function(q){var v;function t(u){var w;if(u.ctrlKey && u.altKey && u.shiftKey && u.keyCode == n.fD.Nub){w=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var x,y,z;x=w.files[0];if(x){y=x.name;v.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.mp.Tma("nourl",y,{content:z.result});});}});w.click();}}v=(0,l.Ui)(q,"TimedTextCustomTrack");m.config.Wpa && (v.info("Loading url",{Url:m.config.Wpa}),q.mp.Tma(m.config.Wpa,"custom"));k.kf.addListener(k.SE,t);q.addEventListener(p.ia.Xg,function(){k.kf.removeListener(k.SE,t);});});ka(c,f.eH);c.mJb=function(q,t,v,u){var w;w="custom" + c.KWb++;return new c(w,q,t,v,-1,u);};c.prototype.U1a=function(){var q;q=this;return new Promise(function(t,v){var u,w;if(null === (u=q.options) || void 0 === u?0:u.content)t(q.options.content);else if(q.url){w={responseType:g.nua,url:q.url,track:q,vc:void 0,uE:"tt-" + q.xf,du:"unknown"};q.j.J$.download(w,function(x){x.ea?t(x.content):(x.reason="downloadfailed",x.url=w.url,x.track=q,v(x));});}});};b.lSa=c;c.KWb=0;},function(r,b,a){var m,k,l,d,f,h;function c(g){var n,p,q;n=this;this.j=g;this.t2b=function(){var t;l.kf.removeListener(l.p$,n.Gcb);t=n.Ir.Lo();t && t.parentNode && t.parentNode.removeChild(t);};this.gya=function(t){n.Ir.h$b(t.newValue);};this.b3b=function(t){n.Ir.o$b(t.newValue?t.newValue.paa:void 0);n.Ir.Qdc(n.j5a(t.newValue));};this.Gcb=function(){n.Ir.gR();};p=g.jc.value?g.jc.value.paa:void 0;q=this.j5a(g.jc.value);this.Ir=new f.mSa(q,p);p=g.nG.value;(0,k.Wa)(.1 < p.width / p.height);this.Ir.X9b(p.width / p.height);g.ip.appendChild(this.Ir.Lo());g.Dw.addListener(this.gya);g.jc.addListener(this.b3b);g.addEventListener(h.ia.Xg,this.t2b,m.bM);l.kf.addListener(l.p$,this.Gcb);}Object.defineProperty(b,"__esModule",{value:!0});b.oSa=void 0;m=a(17);k=a(23);l=a(65);d=a(18);f=a(563);h=a(16);c.prototype.FBa=function(g){this.Ir.FBa(g);};c.prototype.Kta=function(){return this.Ir.Kta();};c.prototype.DBa=function(g){this.Ir.DBa(g);};c.prototype.Ita=function(){return this.Ir.Ita();};c.prototype.EBa=function(g){this.Ir.EBa(g);};c.prototype.Jta=function(){return this.Ir.Jta();};c.prototype.j5a=function(g){var n;if(g && d.config.Naa && 0 <= d.config.Naa.indexOf(g.xf)){n=Object.assign({},d.config.Sea);Object.entries(n).forEach(function(p){var q;q=na(p);p=q.next().value;q=q.next().value;n[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return n;}return d.config.Sea;};b.oSa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Deb=void 0;b.Deb=function(a){var c,m;c=!1;m=!1;return function(){if(c)m=!0;else for(m=!0;m;){m=!1;c=!0;a();c=!1;}};};},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w;function c(x,y){this.j=x;this.ym=y;this.Wbc=!1;this.log=(0,d.Ui)(this.j,"MediaAppendManager");this.Ub=this.j.Ub;this.$=this.Ub.$;this.B1=this.OV=!1;this.audio={type:l.jj.audio,Rx:[],lm:[],JQ:!1};this.video={type:l.jj.video,Rx:[],lm:[],JQ:!1};x={};this.pL=(x[m.Pb.kl.Jb]=this.video,x[m.Pb.kl.dc]=this.audio,x);this.closed=!1;this.NB=k.config.NB;this.Bba=k.config.Bba;this.BF=this.j.fb.Sh?k.config.kya:k.config.BF;this.CYa=!0;this.mc=d.Ba.get("Base64EncoderSymbol");this.Mra=!1;this.Dya=[];(0,h.Wa)(this.NB > this.Bba,"bad config");(0,h.Wa)(this.NB > this.BF,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.gMa=void 0;m=a(28);k=a(18);l=a(89);d=a(8);f=a(3);h=a(23);g=a(25);n=a(17);p=a(16);q=a(173);t=a(5);v=a(60);u=a(42);w=a(1320);c.prototype.C9=function(){var z,A;function x(B,C){return y(B,C.rba);}function y(B,C){var D,F,G,E;G=! !C.response;E=C.response;if(C.Ec)return B + (E.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.TN) && void 0 !== D?D:0) - (null !== (F=null === C || void 0 === C?void 0:C.VN) && void 0 !== F?F:0);return (G?E.byteLength:C) + B;}z=this.pL[m.Pb.kl.Jb];A=this.pL[m.Pb.kl.dc];return {videoToAppend:z.lm.reduce(y,0),videoInBuffer:z.Rx.reduce(x,0),audioToAppend:A.lm.reduce(y,0),audioInBuffer:A.Rx.reduce(x,0)};};c.prototype.K1b=function(){this.audio.Dj && !this.audio.Dj.ji() && (!1,this.audio.Dj.PXa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.A$b=function(){this.audio.KBa=!0;this.video.KBa=!0;};c.prototype.G$b=function(x){x === m.Pb.kl.dc?this.OV=!0:x === m.Pb.kl.Jb && (this.B1=!0);};c.prototype.ji=function(){var x,y;return !(null === (x=this.audio.Dj) || void 0 === x || !x.ji()) || !(null === (y=this.video.Dj) || void 0 === y || !y.ji());};c.prototype.gea=function(x){var y,z;null === (y=this.audio.Dj) || void 0 === y?void 0:y.gea(x);null === (z=this.video.Dj) || void 0 === z?void 0:z.gea(x);};c.prototype.ICb=function(x){var y;x.mediaType === m.Pb.kl.dc?this.OV=!1:x.mediaType === m.Pb.kl.Jb && (this.B1=!1);y=this.pL[x.mediaType];y?y.lm.push(x):(0,h.Wa)(!1);};c.prototype.HCb=function(x,y,z){var A;A=this;y=this.dZa(x.mediaType,y,z);if(!this.Mra)if(x.mediaType === m.Pb.cb.Jb)(this.E5b(x),this.Mra=!0,this.Dya.forEach(function(B){return A.vna(B);}),this.Dya=[]);else {this.Dya.push(y);return;}this.vna(y);};c.prototype.vna=function(x){var y;y=this.pL[x.mediaType];y?y.lm.push(x):(0,h.Wa)(!1);};c.prototype.dZa=function(x,y,z){return {mediaType:x,dF:!1,response:y,Vi:function(){return "header";},get Ec() {return !this.dF;},profile:z.profile};};c.prototype.E5b=function(x){(0,h.Wa)(! !x.Cib,"startOfSegment properties need to be set before first header is appended");this.Mra || !k.config.IPb || !this.j.v$() && !this.j.s$() || x.Cib.K8a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),x=this.mc.decode(n.qFa),this.vna(this.dZa(m.Pb.kl.Jb,x,{profile:u.H.AG})));};c.prototype.E$b=function(x){var y;y=this.pL[x.type];if(y)try{y.Dj=x;}catch(z){this.Sd(f.W.Mia,{xa:(0,q.N9)(x.type),Qb:(0,g.cf)(z)});}};c.prototype.close=function(){this.$=this.Ub=void 0;this.closed=!0;};c.prototype.Sd=function(x,y,z){this.closed || this.j.Sd(x,y,z);};c.prototype.dqa=function(x){return this.L1a(this.audio,x,this.f8()) && this.L1a(this.video,x,this.f8());};c.prototype.f8=function(){return this.j.zb.value === p.ib.cg?this.BF:this.Bba;};c.prototype.Gcc=function(){var x,y;x=this.video.lm.filter(function(z){return !z.Ec;}).reduce(function(z,A){return z + A.ln;},0);y=this.audio.lm.filter(function(z){return !z.Ec;}).reduce(function(z,A){return z + A.ln;},0);return Math.min(x,y);};c.prototype.L1a=function(x,y,z){var A;A=x.eqa;A=A && A.rba;return !x.Dj || 0 === x.lm.length && (x.type === l.jj.audio && this.OV || x.type === l.jj.video && this.B1)?!0:A && A.Ly - y >= z || !1;};c.prototype.vkb=function(x){this.Wbc || (this.ukb(this.audio,x),this.ukb(this.video,x));this.closed || this.KZa();};c.prototype.KZa=function(){var x,y,z,A,B,C;A=!this.audio.Dj || 0 !== this.audio.Rx.length;B=0 === this.video.lm.length && this.B1;C=!this.video.Dj || 0 !== this.video.Rx.length;!(0 === this.audio.lm.length && this.OV && C || B && A) || (null === (x=this.audio.Dj) || void 0 === x?0:x.ji()) || (null === (y=this.video.Dj) || void 0 === y?0:y.ji()) || this.Sqa || !(this.$.readyState > v.wp.A3.HAVE_NOTHING) || this.ym.raa || (this.Sqa=!0,null === (z=this.Ub) || void 0 === z?void 0:z.endOfStream());};c.prototype.ukb=function(x,y){var z,A,B,C;if(!this.closed && x.Dj){A=x.Dj;B=x.Rx;!A.ji() && 0 < B.length && (x.eqa=B[B.length - 1]);if(x.KBa){if(A.ji())return;x.KBa=!1;C=null === (z=this.Ub) || void 0 === z?void 0:z.O5a().feb(t.Cp);C && 0 < C && A.remove(0,C);}for(z=x.lm[0];z && z.response && (z.Ec || z.iC - y <= this.NB);){if((this.Sqa=!1,this.rdc(z)))(x.lm.shift(),z=x.lm[0]);else break;}!A.ji() && 0 < B.length && (x.eqa=B[B.length - 1]);}};c.prototype.rdc=function(x){var y,z,A;!1;(0,h.Wa)(x && ! !x.response);y=x.response;z=x.mediaType;A=this.pL[z];if(!this.closed && A.Dj && !A.Dj.ji()){try{x.Ec && x.profile && A.Dj.GFb(x.profile);this.log.trace("Feeding media segment to decoder",{Bytes:y.byteLength});A.Dj.PXa(y,x);x.Ec || A.Rx.push(this.oJb(x));}catch(B){"QuotaExceededError" === B.name?(this.j.h8=this.j.h8?this.j.h8 + 1:1,this.CYa=!1,A.JQ=!0):(this.log.error("Exception while appending media",x,B),this.Sd("CodecSwitchingError" === B.name?f.W.PNa:f.W.xtb,(0,q.N9)(z)));return;}return !0;}};c.prototype.fJb=function(x){var y;if(w.Qja[x.Pa])return w.Qja[x.Pa];y=this.j.b7a(x.Fe);y || (this.log.warn("Could not find CDN",{cdnId:x.Fe}),y={id:x.Fe,r$a:x.location});return y;};c.prototype.x0a=function(x){var y,z;y=x.Pa;if(w.Rja[y])return w.Rja[y];x.mediaType === m.Pb.kl.dc?z=this.j.Z6a(y):x.mediaType === m.Pb.kl.Jb && (z=this.j.m7a(y));z || this.log.error("Could not find stream",{stream:y});return z;};c.prototype.oJb=function(x){var y;y=this.x0a(x);return {rba:x,stream:y,cn:{startTime:Math.floor(x.iC),endTime:Math.floor(x.Ly)},vc:this.fJb(x)};};c.prototype.Ooa=function(x){this.OZa(x,m.Pb.kl.dc);this.OZa(x,m.Pb.kl.Jb);};c.prototype.OZa=function(x,y){var z,A,B,C,D,F,G,E,H;z=this;A=x;this.CYa && (A-=k.config.c0);B=this.pL[y];C=B.Rx;G=!1;C.some(function(L,K){var I;I=L.rba;if(x < I.iC)return ((0,h.Wa)(!1,"decoder content does not contain media time"),!0);A >= I.Ly && (D=K);if(x < I.Ly)return (F=K,K=y === m.Pb.kl.dc?z.j.Of:z.j.De,L !== K.value && (K.set(L),G=!0),!0);});if((B.JQ || G) && void 0 !== D && !this.Sqa){if(D + 1 === F){if(0 === D)return;D--;}E=C[D].rba.Ly - 1;if(0 < E){H=B.Dj;H && !H.ji()?(H.remove(0,E / n.yu),B.JQ=!1,C.splice(0,D + 1)):(B.JQ=!0,!1);}}};c.prototype.egb=function(){!1;[this.audio,this.video].forEach(function(x){x.Rx=[];x.eqa=void 0;x.lm=[];});this.B1=this.OV=!1;this.j.fireEvent(p.ia.mba);};c.prototype.Nta=function(){return [this.audio,this.video].filter(function(x){return x.Dj;});};c.prototype.VQb=function(){var x,y;if(this.ji())(0,h.Wa)(!1,"should not be busy while checking buffer ranges");else {x=this.Nta().map(function(z){var A,B,C,D,F;D=z.lm.filter(function(G){return G.dF;});F=z.Dj.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=D[0]) || void 0 === A?void 0:A.iC;A=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.Ly) && void 0 !== C?C:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(x.every(function(z){return z;})){y=Math.max.apply(Math,ia(x.map(function(z){return z.start;})));x=Math.min.apply(Math,ia(x.map(function(z){return z.end;})));if(x > y)return {start:(0,t.qc)(y),end:(0,t.qc)(x)};}}};c.prototype.skip=function(x){(0,h.Wa)(!this.ji(),"should not be busy while skipping");this.Nta().forEach(function(y){y.JQ=!0;});this.Ooa(x);this.Nta().forEach(function(y){0 < y.Rx.length || (y.lm=y.lm.filter(function(z){return z.Ec || z.Ly > x?!0:!1;}));});};b.gMa=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Rja=b.Qja=void 0;r=a(39);a={};b.Qja=(a[r.Pq]={id:-1,name:"hardcoded",$b:1,type:"hardcoded",r$a:"-1",wXb:!1,location:{id:"-1",$b:1,level:100,weight:1}},a);a={};b.Rja=(a[r.Pq]={track:{type:"padding",trackId:"padding",Bi:"padding",Wf:"padding",FF:"other",xf:"padding",PF:"padding",iy:"padding",yh:{}},type:"padding",Yb:"-1",bitrate:1,kb:100,Af:"unknown",size:1,pv:{},yh:{},dm:"",framerate:0,Xj:!1,Fj:[],height:1,width:1},a);},function(r,b){function a(m,k,l){var d,f,h,g;d=[];m.forEach(function(n){-1 == d.indexOf(n.Af) && d.push(n.Af);});f=null;h=null;k.forEach(function(n){null === f?h=f=n.bitrate:h < n.bitrate?h=n.bitrate:f > n.bitrate && (f=n.bitrate);});g=[];d.forEach(function(n){var p;p={ranges:[],profile:n};f && h && (p.ranges.push({min:f,max:h}),l && (p.disallowed=l.filter(function(q){return q.stream.Af === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.v8};})),g.push(p));});return g;}function c(m,k){var l;l=void 0;return {HE:m.filter(function(d){var f;f=k(d);f && (l=l || [],l.push({stream:d,v8:f}));return !f;}),$Lb:l};}Object.defineProperty(b,"__esModule",{value:!0});b.ZLb=b.gv=b.eKb=b.M6a=void 0;b.M6a=function(m,k){k=c(m,k);return a(m,k.HE,k.$Lb);};b.eKb=a;b.gv=c;b.ZLb=function(m){if(m.Xj && m.lower && 1080 < m.height)return ["Prefetch UHD"];};},function(r,b,a){var m,k;function c(l,d){l=m.Xb.call(this,l) || this;l.Swa=d;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.qPa=void 0;m=a(70);k=a(91);ka(c,m.Xb);c.prototype.set=function(l){m.Xb.prototype.set.call(this,(0,k.lD)(l,0,this.Swa));};b.qPa=c;},function(r,b,a){var k,l,d,f,h,g,n,p,q;function c(t,v,u,w,x,y){var z;z=this;this.aj=t;this.config=u;this.Db=w;this.debug=x;this.iI={};this.N1a=!1;this.UV={};this.Wua=0;this.M9=function(A){var B,C,D;B=A.stream;if(B){A=B.Yb;C=B.bitrate;D=B.kb;}else A=A.track.Yb;return {key:A + "$" + C + "$" + D,Yb:A,bitrate:C,kb:D};};this.X4a=function(A){var B,C,D;C=z.M9(A);D=null === (B=A.vc) || void 0 === B?void 0:B.id;A=A.track.Wf;return Object.assign({},C,{key:C.key + "$" + D + "$" + A,Kx:D,Wf:A});};this.TQb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Yb;B=null === B || void 0 === B?void 0:B.bitrate;return {key:A + "$" + B,Yb:null !== A && void 0 !== A?A:"",lQ:B};};this.nUb=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Yb;B=null === B || void 0 === B?void 0:B.kb;return {key:A + "$" + B,Yb:null !== A && void 0 !== A?A:"",lQ:B};};this.log=v.mb("PlayTimeTracker");this.Oca=y(t);this.Dy=y(t);this.Rya=y(t);this.startTime=this.aj.mediaTime.value;this.Taa=this.config().dBb;this.xL();this.iI.abrdel=0;this.Taa.forEach(function(A){A="abrdel" + A;z.UV[A]=0;z.iI[A]=0;});}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.cPa=void 0;r=a(0);k=a(1);l=a(6);d=a(12);f=a(78);a(5);h=a(27);g=a(109);n=a(17);p=a(25);a=a(570);m.prototype.encode=function(t){return {downloadableId:t.Yb,correlationId:t.Wf,bitrate:t.bitrate,vmaf:t.kb,duration:t.duration,metric:t.lQ,cdnId:t.Kx};};m.prototype.decode=function(t){return {Yb:t.downloadableId,Wf:t.correlationId,bitrate:t.bitrate,kb:t.vmaf,duration:t.duration,lQ:t.metric,Kx:t.cdnId};};c.prototype.ot=function(t){t=void 0 === t?"content":t;this.XK(this.aj.mediaTime.value);return Math.floor(this.Dy.ot(t));};c.prototype.eY=function(t){t=void 0 === t?"content":t;this.XK(this.aj.mediaTime.value);t=this.Dy.eY(t);this.debug.assert(t === Math.floor(t),"Value of totalContentPlayTime is not an integer.");return Math.floor(t);};c.prototype.JQb=function(){this.XK(this.aj.mediaTime.value);return {audio:this.JX(this.Oca,this.X4a),video:this.JX(this.Dy,this.X4a)};};c.prototype.XSb=function(){var t,v,u;t=this.ot("content");v=this.ot("ads");u=this.ot("other");t={total:t,totalAdDuration:v,totalOtherDuration:u,totalCombinedDuration:t + v + u,totalContentTime:this.eY("content"),audio:this.JX(this.Oca,this.M9),video:this.JX(this.Dy,this.M9),timedtext:this.JX(this.Rya,this.M9)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.osa=function(){var t,v;this.XK(this.aj.mediaTime.value);t=this.Dy.isa(this.TQb);try{v=this.s4a(t);}catch(u){return (this.log.warn("Failed to calc average bitrate."),null);}this.iI.abrdel=Math.round(v);return this.iI.abrdel;};c.prototype.t4a=function(){var t,v;this.XK(this.aj.mediaTime.value);t=this.Dy.isa(this.nUb);try{v=this.s4a(t);}catch(u){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(v);};c.prototype.r4a=function(){var t,v;t=this;if(!this.N1a){v=this.ot();this.Taa.forEach(function(u){var w,x,y;if(0 === t.UV["abrdel" + u] && v > u * n.yu){w=0;x=0;y=0;t.Dy.some(function(z){w+=z.stream.bitrate * (z.endTime - z.startTime);x+=z.endTime - z.startTime;y=z.stream.bitrate;return x > u * n.yu;});w && (t.UV["abrdel" + u]=Math.round((w - y * (x - u * n.yu)) / (u * n.yu)));}});0 !== this.UV["abrdel" + this.Taa[this.Taa.length - 1]] && (this.N1a=!0);(0,p.$g)(this.UV,function(u,w){t.iI[u]=0 === w?t.iI.abrdel:w;});}return this.iI;};c.prototype.HBb=function(t){this.Wua+=t;};c.prototype.C$=function(){return this.Dy.C$();};c.prototype.xL=function(){var t;t=this;this.aj.Of.addListener(function(v){t.mO=t.EZa(t.mO,t.Oca,v.newValue);});this.aj.De.addListener(function(v){t.oO=t.EZa(t.oO,t.Dy,v.newValue);});this.aj.playbackRate.addListener(function(v){t.XK(t.aj.mediaTime.value,v.oldValue);});this.aj.nj.addListener(this.h2b.bind(this));};c.prototype.Mxa=function(t,v){this.XK(t);this.startTime=v;this.oO=this.mO=void 0;this.nO && (this.nO.startTime=this.startTime);!1;};c.prototype.h2b=function(t){this.Rya.hg(this.nO,this.aj.mediaTime.value);this.nO=(t=t.newValue)?{track:t,startTime:this.aj.mediaTime.value,endTime:f.Dz}:void 0;};c.prototype.XK=function(t,v){v=void 0 === v?this.aj.playbackRate.value:v;t && this.mO && this.oO && (t=Math.min(t,this.mO.endTime,this.oO.endTime),this.Oca.hg(this.mO,t,v),this.mO.startTime=t,this.Dy.hg(this.oO,t,v),this.oO.startTime=t,this.nO && (this.Rya.hg(this.nO,t,v),this.nO.startTime=t),this.startTime=t,!1);};c.prototype.EZa=function(t,v,u){t && v.hg(t,Math.min(t.endTime,this.aj.mediaTime.value));if(u && u.stream)return (t=u.cn,v=u.stream,{vc:u.vc,track:v.track,stream:v,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime});};c.prototype.JX=function(t,v){return t.isa(v,"content").map(function(u){return new m().encode(u);});};c.prototype.s4a=function(t){var v,u,w;v=this;u=0;t.forEach(function(x){if(v.Db.Zg(x.duration) && v.Db.Zg(x.lQ))u+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!u)return 0;w=0;t.forEach(function(x){w+=x.lQ * x.duration / u;});return w;};q=c;q=r.__decorate([(0,k.Y)(),r.__param(1,(0,k.l)(l.ub)),r.__param(2,(0,k.l)(d.Nc)),r.__param(3,(0,k.l)(h.Og)),r.__param(4,(0,k.l)(g.pz)),r.__param(5,(0,k.l)(a.lja))],q);b.cPa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bPa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var m,k,l;function c(d,f,h,g,n,p,q,t,v,u,w,x,y,z){this.index=d;this.I=f;this.V=h;this.fb=g;this.da=n;this.yj=p;this.lwa=q;this.oHb=v;this.$ab=w;this.Oi=y;this.yc=new m.Xb(null);this.Ng=new m.Xb(null);this.jc=new m.Xb(null);this.nj=new m.Xb(null);this.Dw=new m.Xb(void 0);this.pf=new m.Xb(null);this.Kh=new m.Xb(null);this.Of=new m.Xb(null);this.De=new m.Xb(null);this.vc=[new m.Xb(null),new m.Xb(null)];this.mediaTime=new m.Xb(void 0);this.playbackRate=new m.Xb(1);this.sr=new m.Xb(null);this.mI=this.lI="notcached";this.u8=this.background=!1;t && (this.pf.set(t.pf.value),this.Kh.set(t.Kh.value));this.qm=u(this);this.In=this.$ab.v7b(this.da,this.yj);this.Et=x(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.rPa=void 0;m=a(70);k=a(5);l=a(23);c.prototype.Ne=function(d){this.In.kr(d);};c.prototype.xB=function(d){var f;f=this;Object.entries(d).forEach(function(h){var g;g=na(h);h=g.next().value;g=g.next().value;f.In.kr(h,(0,k.qc)(g - f.yj.fa(k.ma)));});};c.prototype.aca=function(){this.$ab.P7b(this.da);};Ua.Object.defineProperties(c.prototype,{de:{configurable:!0,enumerable:!0,get:function(){return this.fb.de;}},sfa:{configurable:!0,enumerable:!0,get:function(){return this.fb.sfa;}},dm:{configurable:!0,enumerable:!0,get:function(){return this.Qc && this.Qc.dm;}},pj:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Qc && this.Qc.pj) && void 0 !== d?d:[];}},NC:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Qc && this.Qc.NC) && void 0 !== d?d:[];}},GC:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Qc && this.Qc.GC) && void 0 !== d?d:[];}},Ai:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Qc && this.Qc.Ai) && void 0 !== d?d:[];}},zh:{configurable:!0,enumerable:!0,get:function(){return this.Qc && this.Qc.zh;}},BJ:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Qc && this.Qc.BJ) && void 0 !== d?d:!1;}},rw:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Qc && this.Qc.rw) && void 0 !== d?d:[];}},Fg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Qc && this.Qc.Fg) && void 0 !== d?d:[];}},Nx:{configurable:!0,enumerable:!0,get:function(){var d,f,h;return this.Et.Fc?((0,l.Wa)(void 0 === this.HM || Infinity === this.HM.fa(k.ma),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.Et.Fc + ", contentDuration:" + (null === (d=this.HM) || void 0 === d?void 0:d.display)),(0,k.qc)(this.Et.PX())):this.HM && 0 < this.HM.fa(k.ma)?this.HM:(0,k.qc)(null !== (h=null === (f=this.ja) || void 0 === f?void 0:f.ab.duration) && void 0 !== h?h:0);},set:function(d){this.HM=d;}},Aab:{configurable:!0,enumerable:!0,get:function(){var d;return this.Et.Fc?((0,l.Wa)(void 0 === this.Q5 || Infinity === this.Q5.fa(k.ma),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.Et.Fc + ", maxSeekPts:" + (null === (d=this.Q5) || void 0 === d?void 0:d.display)),this.Nx):this.Q5;},set:function(d){this.Q5=d;}},gl:{configurable:!0,enumerable:!0,get:function(){return this.fb.gl || 0;}},b8:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.rW?this.rW:void 0 === this.mediaTime.value?null:this.oHb(this.mediaTime.value,this.V);}},Wf:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.ja) || void 0 === d?void 0:d.ab.aO) || void 0 === f?void 0:f.fp;}},PK:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.ja) || void 0 === d?void 0:d.ab.aO) || void 0 === f?void 0:f.PK;}},qd:{configurable:!0,enumerable:!0,get:function(){return this.In.qd;}}});b.rPa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CSa="TrickPlayParserSymbol";},function(r,b,a){var m,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BSa=void 0;r=a(0);k=a(169);a=a(1);c.prototype.parse=function(d){var f,h;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);h=new k.ZS(f);d=this.P3b(h);f=this.Q3b(h,f,d);return {header:d,images:f};};c.prototype.P3b=function(d){var f,h,g,n;if(d.ota() < this.v8b())throw Error("array buffer too short");m.HLa.forEach(function(p){if(p != d.kC())throw Error("BIF has invalid magic.");});f=d.ZQ();if(f > m.VERSION)throw Error("BIF version in unsupported");h=d.ZQ();if(0 == h)throw Error("BIF has no frames.");g=d.ZQ();n=d.Yk(m.sQa);return {version:f,R1b:h,Xjb:g,z8b:n};};c.prototype.Q3b=function(d,f,h){var p,q;for(var g=[],n=0;n <= h.R1b;n++){p={timestamp:d.ZQ(),offset:d.ZQ()};void 0 != q && g.push(f.subarray(q.offset,p.offset));q=p;}return g;};c.prototype.v8b=function(){return m.HLa.length + 4 + 4 + 4 + m.sQa;};l=m=c;l.HLa=[137,66,73,70,13,10,26,10];l.VERSION=0;l.sQa=44;l=m=r.__decorate([(0,a.Y)()],l);b.BSa=l;},function(r,b,a){var m,k,l,d;function c(f,h,g){this.config=f;this.j=h;this.tg=g;this.i_=void 0;this.Dca=!1;this.Ova=0;this.log=this.tg.mb();}Object.defineProperty(b,"__esModule",{value:!0});b.fRa=void 0;m=a(16);k=a(5);l=a(91);d=a(15);c.prototype.GSb=function(f,h,g,n,p){var q,t,v,u;g=void 0 === g?this.j.V:g;n=void 0 === n?!1:n;q=h === m.Ve.jM;t=this.dFb(q?f:this.oGb(f,g),n,g);n=this.j.Ha;q?(f=t,t=n.fv(t)):f=n.hO(g,t);h === m.Ve.Az && (this.j.QYa=t);p=this.Wg(f,h,p);v=(q=q || p)?f:t;if(this.j.Ot){u=this.j.fb.Sh?this.config().kya:this.config().BF;this.j.c7a(v,u) || h !== m.Ve.oD || (v=this.j.Ot.fa(k.ma) - u - 1E3,q?(f=v,t=n.fv(v)):(f=n.hO(g,v),t=v));}return {Tba:v,Lk:t,P4b:f,Wg:p};};c.prototype.dFb=function(f,h,g){this.HXb() || h?f=Math.round(f):(h=this.j.Ha.Coa(f,g),f=(0,d.Ka)(h)?h:Math.round(f));this.j.fb.Sh && (f=this.NPb(f));this.config().YAa && 0 !== f && (f+=this.config().YAa);return f;};c.prototype.Wg=function(f,h,g){if(this.config().YLb || h === m.Ve.Az || h === m.Ve.D4 || h === m.Ve.I2 || !g || f < g.start.fa(k.ma) || f >= g.end.fa(k.ma))return !1;h=this.j.Ha;return (null === h || void 0 === h?void 0:h.Ii) && h.Wg(f) || !1;};c.prototype.HXb=function(){return this.j.fb.Sh?!0:"boolean" === typeof this.j.fb.s_?this.j.fb.s_:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().s_ && this.config().j5b:this.config().s_;};c.prototype.oGb=function(f,h){var g;h=this.j.Wj(h);g=h.Nx;h=Math.max(0,(h.Aab || g).fa(k.ma) - this.config().Jfc);return (0,l.lD)(f,0,h);};c.prototype.NPb=function(f){var h,g,n;h=this.j.BX();if(Object.values(h).find(function(p){var q;q=p.sa;q=f < (null !== q && void 0 !== q?q:Infinity);return p.qa <= f && q;}))return (!1,f);n=f;Object.entries(h).forEach(function(p){var q;p=na(p);p.next();p=p.next().value.qa;q=p - f;0 < q && (void 0 === g || q < g) && (g=q,n=p);});!1;return n;};Ua.Object.defineProperties(c.prototype,{raa:{configurable:!0,enumerable:!0,get:function(){return this.Dca || ! !this.i_;}}});b.fRa=c;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w;function c(x,y,z,A,B,C){var D;D=this;this.j=x;this.Nk=y;this.o1=z;this.Ci=A;this.A0=B;this.Eo=C;this.N0a={};this.update=function(){var F;if(D.Dq.selectionStart == D.Dq.selectionEnd){F="";D.LX().forEach(function(G){F=F?F + "\n":"";Object.entries(G).forEach(function(E){var H;H=na(E);E=H.next().value;H=H.next().value;F+=E + ": " + H + "\n";});});D.Dq.style.fontSize=(0,d.lD)((0,h.WL)(D.element.clientHeight / 60),8,18) + "px";D.Dq.value=F;}};this.y2b=function(){var F,G;if(D.j.Ff){G=D.j.Ff.aJ();G && (D.Tpa=G - (null !== (F=D.ekb) && void 0 !== F?F:0),D.ekb=G,D.CQ());}};this.CQ=function(){D.o1.xm(D.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == p.fD.Eob || F.keyCode == p.fD.Q) && D.toggle();};this.Ldb=[x.mediaTime,x.vc[m.Pb.cb.dc],x.vc[m.Pb.cb.Jb],x.Of,x.De,x.Kh,x.pf,x.nj,x.state,x.Ss,x.zb,x.volume,x.muted];this.element=this.Ci.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Dq=this.Ci.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Dq);this.controls=this.Ci.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Ci.createElement("button",void 0,"X");y.addEventListener("click",function(){return D.fy();},!1);this.controls.appendChild(y);l.kf.addListener(l.SE,this.onkeydown);x.addEventListener(n.ia.Xg,function(){l.kf.removeListener(l.SE,D.onkeydown);D.fy();});}Object.defineProperty(b,"__esModule",{value:!0});b.nPa=void 0;m=a(28);k=a(64);l=a(65);d=a(91);f=a(304);h=a(13);g=a(15);n=a(16);p=a(196);q=a(5);r={};t=(r[n.ac.$L]="Not Loaded",r[n.ac.LOADING]="Loading",r[n.ac.He]="Normal",r[n.ac.CLOSING]="Closing",r[n.ac.CLOSED]="Closed",r);r={};v=(r[n.Rf.He]="Normal",r[n.Rf.sd]="Pre-buffering",r[n.Rf.UQa]="Network stalled",r);r={};u=(r[n.ib.cg]="Waiting for decoder",r[n.ib.Dc]="Playing",r[n.ib.Hh]="Paused",r[n.ib.us]="Media ended",r);w=[n.ia.mba];c.prototype.e$b=function(x){this.N0a.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.CY=nb.setInterval(this.y2b,1E3),document.body.appendChild(this.element),this.Ldb.forEach(function(y){y.addListener(x.CQ);}),w.forEach(function(y){x.j.addEventListener(y,x.CQ);}),this.visible=!0,this.Eo.N0().then(function(y){x.aua=y;x.CQ();}));this.update();};c.prototype.fy=function(){var x;x=this;this.visible && (clearInterval(this.CY),this.ekb=this.Tpa=void 0,document.body.removeChild(this.element),this.Ldb.forEach(function(y){y.removeListener(x.CQ);}),w.forEach(function(y){x.j.removeEventListener(y,x.CQ);}),this.o1.xm(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.fy():this.show();};c.prototype.LX=function(){var x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga,N,Q,V,ba,qa,La,Oa,Ta,Qa,Wa,eb,ub,jb,mb,Ia,Xa,ab,kb,sb,Bb;J=[];M=this.Nk();J.push({Version:"6.0037.632.911",Esn:M?M.yl:"UNKNOWN",PBCID:this.j.Wf,UserAgent:h.SG});try{P={MovieId:this.j.I,PackageId:null === (y=null === (x=this.j.ja) || void 0 === x?void 0:x.ab) || void 0 === y?void 0:y.ep,Xid:this.j.da + " (" + k.Bp.map(function(Hb){return Hb.da;}).join(", ") + ")",Position:(0,d.Jj)(this.j.mediaTime.value),Duration:(0,d.Jj)(this.j.Nx.fa(q.ma)),PlayerDuration:(0,d.Jj)(this.j.Ot.fa(q.ma)),Volume:(0,h.zp)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.fb.Sh || this.j.fb.saa)P["Segment Position"]=(0,d.Jj)(this.j.ME());null === (z=this.j.gq()) || void 0 === z || z.getLogInfo();P.Segment=this.j.jta();J.push(P);}catch(Hb){}try{J.push({"Player state":t[this.j.state.value],"Buffering state":v[this.j.Ss.value],"Rendering state":u[this.j.zb.value]});}catch(Hb){}try{S=this.j.ODa() + this.j.Gna();T=this.j.Of.value;U=null === T || void 0 === T?void 0:T.stream;W=this.j.De.value;fa=null === W || void 0 === W?void 0:W.stream;sa=null !== (A=null === U || void 0 === U?void 0:U.bitrate) && void 0 !== A?A:"?";wa=fa?fa.bitrate + " (" + fa.width + "x" + fa.height + ")":"?";Ba=null !== (B=null === fa || void 0 === fa?void 0:fa.kb) && void 0 !== B?B:"?";Ga=null !== (D=null === (C=this.j.pf.value) || void 0 === C?void 0:C.kb) && void 0 !== D?D:"?";N=null !== (G=null === (F=this.j.Kh.value) || void 0 === F?void 0:F.bitrate) && void 0 !== G?G:"?";Q=null !== (H=null === (E=this.j.pf.value) || void 0 === E?void 0:E.bitrate) && void 0 !== H?H:"?";V=this.j.vc[m.Pb.cb.Jb].value;ba=this.j.vc[m.Pb.cb.dc].value;J.push({"Playing bitrate (a/v)":sa + " / " + wa,"Playing/Buffering vmaf":Ba + "/" + Ga,"Buffering bitrate (a/v)":N + " / " + Q,"Buffer size in Bytes (a/v)":this.j.Gna() + " / " + this.j.ODa(),"Buffer size in Bytes":"" + S,"Buffer size in Seconds (a/v)":(0,d.Jj)(this.j.GV()) + " / " + (0,d.Jj)(this.j.u1()),"Current CDN (a/v)":(ba?ba.name + ", Id: " + ba.id:"?") + " / " + (V?V.name + ", Id: " + V.id:"?")});}catch(Hb){}try{qa=this.j.Of.value;La=this.j.De.value;if(qa && qa.stream && La && La.stream){Oa=qa.stream;Ta=Oa.track;Qa=La.stream;Wa=this.j.nj.value;eb=this.A0.Z7(this.j.Ng.value?this.j.Ng.value.streams:[]);ub=this.A0.T7(Ta.streams);jb=Qa.Af;mb=(/hevc/).test(jb)?"hevc":(/vp9/).test(jb)?"vp9":(/h264hpl/).test(jb)?"avchigh":(/av1/).test(jb)?"av1":"avc";(/hdr/).test(jb) && (mb+=", hdr");(/dv/).test(jb) && (mb+=", dv");(/prk/).test(jb) && (mb+=", prk");Ia=Oa.Af;Xa=(/xheaac/).test(Ia)?"xhe-aac":(/heaac/).test(Ia)?"he-aac":(/ddplus/).test(Ia)?"ddplus":"unknown";(/atmos/).test(Ia) && (Xa+=", atmos");J.push({"Audio Track":Ta.xf + ", Id: " + Ta.trackId + ", Channels: " + Ta.channels + ", Codec: " + ub + " (" + Xa + ")","Video Track":"Codec: " + eb + " (" + mb + ")","Timed Text Track":Wa?Wa.xf + ", Profile: " + Wa.profile + ", Id: " + Wa.trackId:"none","Audio Tags":null === (L=qa.stream) || void 0 === L?void 0:L.Fj.toString(),"Video Tags":null === (K=La.stream) || void 0 === K?void 0:K.Fj.toString()});}}catch(Hb){}try{ab=this.j.Ff;kb=this.j.pf.value?this.j.pf.value.framerate:0;sb=a(571).L$a;J.push({Framerate:kb.toFixed(3),"Current Dropped Frames":(0,g.Ka)(this.Tpa)?this.Tpa:"","Total Frames":ab.nB(),"Total Dropped Frames":ab.aJ(),"Total Corrupted Frames":ab.EX(),"Main Thread stall/sec":sb?sb.VRb().join(" "):"DISABLED",KeySystem:null === (I=this.j.bf) || void 0 === I?void 0:I.NX(),KeyStatus:null === (O=null === (R=this.j.bf) || void 0 === R?void 0:R.x5a) || void 0 === O?void 0:O.call(R),VideoDiag:(0,f.ywa)(this.j.l$()),"HDR support":this.aua?this.aua.result + " (" + this.aua.reason + ")":"unknown"});}catch(Hb){}try{J.push({Throughput:this.j.Qa + " kbps"});}catch(Hb){}Bb=void 0;try{Object.entries(this.N0a).forEach(function(Hb){var Lb;Lb=na(Hb);Hb=Lb.next().value;Lb=Lb.next().value;Bb=Bb || ({});Bb[Hb]=JSON.stringify(Lb);});Bb && J.push(Bb);}catch(Hb){}return J;};b.nPa=c;},function(r,b,a){var k,l,d,f;function c(h,g,n,p){this.da=h;this.r8b=g;this.Ca=n;this.Eg=p;this.qd={};}function m(h,g){this.tg=h;this.Eg=g;this.Bc={};this.Ca=h.mb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Ktb=b.pPa=void 0;r=a(0);k=a(1);l=a(6);d=a(19);f=a(5);m.prototype.v7b=function(h,g){this.Bc[h] && this.Ca.warn("registerPlayback: xid " + h + " already registered, overriding");g=(g?g:this.Eg.Tb()).fa(f.ma);this.Ca.trace("registerPlayback: xid " + h + " at " + g);this.Bc[h]=new c(h,g,this.Ca,this.Eg);return this.Bc[h];};m.prototype.YSb=function(h){this.Bc[h] || this.Ca.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.Bc[h];};m.prototype.P7b=function(h){this.Ca.trace("removePlayback: xid " + h);delete this.Bc[h];};a=m;a=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(l.ub)),r.__param(1,(0,k.l)(d.cd))],a);b.pPa=a;c.prototype.kr=function(h,g){g=g?g.fa(f.ma):this.Eg.Tb().fa(f.ma) - this.r8b;this.Ca.trace("addMilestone: xid " + this.da + " " + h + " at " + g);this.qd[h]=g;};b.Ktb=c;},function(r,b,a){var m,k,l,d;function c(f){this.Da=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.GQa=void 0;r=a(0);m=a(16);k=a(1);l=a(19);d=a(5);c.prototype.Zk=function(f){f.cause !== m.Ve.Az && (this.trace.unshift({time:this.Da.Tb(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.C6a=function(){var f,h;f=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.Sjb(h.time),lastRepositionCause:this.G4a(h.event.cause),repositionTrace:this.trace.map(function(g){return {timeSince:f.Sjb(g.time),cause:f.G4a(g.event.cause),newMediaTime:g.event.Tba,oldMediaTime:g.event.Uxa,contentPts:g.event.Lk,skip:g.event.skip};})};};c.prototype.Sjb=function(f){return this.Da.Tb().Aa(f).fa(d.ma);};c.prototype.G4a=function(f){switch(f){case m.Ve.Az:return "initial";case m.Ve.oD:return "seek";case m.Ve.jM:return "segment_changed";case m.Ve.D4:return "track_changed";case m.Ve.I2:return "force_rebuffer";}};a=c;a=r.__decorate([(0,k.Y)(),r.__param(0,(0,k.l)(l.cd))],a);b.GQa=a;},function(r,b,a){var m,k,l;function c(d,f,h){this.aj=d;this.Db=h;this.M=[];this.log=f.mb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.vPa=void 0;m=a(0);r=a(1);k=a(27);l=a(6);a(5);c.prototype.some=function(d){return this.M.some(d);};c.prototype.C$=function(){return ! !(this.M[0] && this.M[0].stream && this.Db.Zg(this.M[0].stream.kb));};c.prototype.ot=function(d){return this.M.filter(function(f){return f.track.FF === d;}).reduce(function(f,h){return f + (h.endTime - h.startTime) / h.rate;},0);};c.prototype.eY=function(d){return this.M.filter(function(f){return f.track.FF === d;}).reduce(function(f,h){return f + h.endTime - h.startTime;},0);};c.prototype.isa=function(d,f){var h,g;h=this;g={};return this.M.filter(function(n){return !f || n.track.FF === f;}).reduce(function(n,p){var q,t,v;q=d.bind(h,p)();t=q.key;q=m.__rest(q,["key"]);p=p.endTime - p.startTime;v=g[t];v?v.duration+=p:(v=q,v.duration=p,n.push(v),g[t]=v);return n;},[]);};c.prototype.hg=function(d,f,h){var g;h=void 0 === h?this.aj.playbackRate.value:h;g=this.M;d && f && f >= d.startTime && (d={vc:d.vc,track:d.track,stream:d.stream,startTime:d.startTime,endTime:f,rate:h},(f=g[g.length - 1]) && f.track === d.track && f.stream === d.stream && f.vc === d.vc && f.endTime === d.startTime && f.rate === d.rate?f.endTime=d.endTime:g.push(d),!1);};a=c;a=m.__decorate([m.__param(1,(0,r.l)(l.ub)),m.__param(2,(0,r.l)(k.Og))],a);b.vPa=a;},function(r,b,a){var m,k,l,d,f;function c(h,g,n,p,q,t,v){var u;u=this;this.Ha=h;this.j=g;this.log=n;this.config=p;this.x9b=q;this.Vu=new m.Xb(!1);this.Lb=new f.sk();h=h.gq();this.VWa=t({da:g.da.toString()});t=null === h || void 0 === h?void 0:h.GF.events;null === t || void 0 === t?void 0:t.addListener("adPresenting",function(){!1;u.f3a();});null === t || void 0 === t?void 0:t.addListener("adBreakPresenting",function(){!1;v.qQ(g);u.Vu.set(!0);});null === t || void 0 === t?void 0:t.addListener("adBreakEnded",function(){!1;u.Vu.set(!1);});null === t || void 0 === t?void 0:t.addListener("adPlaygraphUpdated",function(){!1;});null === t || void 0 === t?void 0:t.addListener("segmentDropped",function(w){var x;!1;x=u.j.Wj(w.segmentId);u.x9b.g6b(w,x);});this.Sr=new l.QT();this.j.addEventListener("playbackStart",function(){u.Sr.resolve();});t=null === h || void 0 === h?void 0:h.WVb.events;null === t || void 0 === t?void 0:t.addListener("adEvent",function(w){u.Sr.promise.then(function(){var x,y;y=null === (x=g.ja) || void 0 === x?void 0:x.ab.zh;u.VWa.I9b(w,y);});});null === t || void 0 === t?void 0:t.addListener("adBreakEvent",function(w){w.event === k.nEa.I6 && u.Lb.Rc(d.V1.I6);u.Sr.promise.then(function(){u.VWa.H9b(w,g);});});}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;m=a(70);k=a(306);l=a(339);d=a(16);f=a(72);c.prototype.addEventListener=function(h,g,n){this.Lb.addListener(h,g,n);};c.prototype.removeEventListener=function(h,g){this.Lb.removeListener(h,g);};c.prototype.k6a=function(){var h,g;return null === (g=null === (h=this.Ha) || void 0 === h?void 0:h.gq()) || void 0 === g?void 0:g.Gy.Ur;};c.prototype.qSb=function(){var h,g,n,p;n=this.k6a();if(n){p={position:null === n || void 0 === n?void 0:n.position.offset.U,adDuration:null === (h=null === n || void 0 === n?void 0:n.wV) || void 0 === h?void 0:h.Tp.endTime.U,adIndex:null === (g=n.wV) || void 0 === g?void 0:g.index,adBreakIndex:n.index,adBreakDuration:null === n || void 0 === n?void 0:n.jr.duration.U};(h=n.xca) && (p.padding={type:h.yca,duration:h.wca.U});return p;}};c.prototype.hsa=function(){var h,g,n,p,q;p=this.j.ka.I.toString();q=null === (g=null === (h=this.Ha) || void 0 === h?void 0:h.gq()) || void 0 === g?void 0:g.GF.hsa({amb:[p]});return null !== (n=null === q || void 0 === q?void 0:q.result[p]) && void 0 !== n?n:[];};c.prototype.f3a=function(){};b.wEa=c;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t,v,u,w){this.context=n;this.log=p;this.za=q;this.config=t;this.Da=v;this.tBb=u;this.mBb=w;this.pBa={};}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;r=a(0);m=a(1);k=a(19);l=a(30);d=a(5);f=a(12);h=a(307);g=a(306);c.prototype.H9b=function(n,p){var q,t,v;q=this;t=n.event;if(Object.values(g.nEa).includes(t)){v=p.CB?p.CB.fa(d.ma):-1;n={href:p.ja.tj.iP("events").href,da:this.context.da.toString(),event:t,tA:n.tA,sA:n.sA,position:n.ki.offset.U,Rn:v,Nt:{},MA:this.za.NK.fa(d.ma),appId:this.config().appId || this.Da.id,sessionId:this.config().sessionId || this.Da.id};this.mBb.Lf(this.log,n).catch(function(u){q.log.error("Failed to send event",{eventKey:t,xid:p.da,error:u});});}else this.log.debug("Ignoring unsupported event " + n.event);};c.prototype.I9b=function(n,p){var q,t,v;q=this;t=n.event;if(Object.values(g.inb).includes(t)){v=n.ja.links.events.href;this.pBa[n.Rn] || (this.pBa[n.Rn]=this.za.mCb((0,d.qc)(n.Rn)).fa(d.ma));n={href:v,da:this.context.da.toString(),event:t,tA:n.tA,sA:n.sA,position:n.ki.offset.U,Rn:this.pBa[n.Rn],Nt:n.Nt,MA:this.za.NK.fa(d.ma),appId:this.config().appId || this.Da.id,sessionId:this.config().sessionId || this.Da.id,NZb:p};this.tBb.Lf(this.log,n).catch(function(u){q.log.error("Failed to send event",{eventKey:t,xid:q.context.da,error:u});});}else this.log.debug("Ignoring unsupported event " + n.event);};a=c;a=r.__decorate([r.__param(2,(0,m.l)(l.Eh)),r.__param(3,(0,m.l)(f.Nc)),r.__param(4,(0,m.l)(k.cd)),r.__param(5,(0,m.l)(h.Yfa)),r.__param(6,(0,m.l)(h.Xfa))],a);b.sEa=a;},function(r,b,a){var q;function c(t){this.Tp=t;}function m(t){this.padding=t;}function k(t){this.Up=t;}function l(t){this.ki=t;}function d(t){this.$ca=t;}function f(t){this.hza=t;}function h(t){this.gza=t;}function g(t){this.yN=t;}function n(t){this.Ur=t;}function p(t){var v;v=this;this.Gk=t;this.Vu=new q.Xb(!1);this.Gk.Vu.addListener(function(u){v.Vu.set(u.newValue);});}Object.defineProperty(b,"__esModule",{value:!0});b.hnb=b.Ftb=b.gnb=b.zqb=b.Otb=b.Ptb=b.Ntb=b.fnb=b.Mtb=b.uEa=void 0;q=a(70);p.prototype.addEventListener=function(t,v,u){this.Gk.addEventListener(t,v,u);};p.prototype.removeEventListener=function(t,v){this.Gk.removeEventListener(t,v);};p.prototype.getPresentingAdBreak=function(){var t;t=this.Gk.k6a();if(t)return new n(t);};p.prototype.getAds=function(){return this.Gk.hsa();};p.prototype.getLogInfo=function(){return this.Gk.qSb();};b.uEa=p;Ua.Object.defineProperties(n.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new g(this.Ur.jr);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var t;t=this.Ur.wV;if(t)return new h(t);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var t;t=this.Ur.xca;if(t)return new f(t);}},progress:{configurable:!0,enumerable:!0,get:function(){return new d(this.Ur.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new l(this.Ur.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Ur.index;}}});b.Mtb=n;Ua.Object.defineProperties(g.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new k(this.yN.Up);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new m(this.yN.xea);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new m(this.yN.bX);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.yN.YUb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.yN.duration.U};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.yN.wca.U};}}});b.fnb=g;Ua.Object.defineProperties(h.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new c(this.gza.Tp);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.gza.WWa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.gza.index;}}});b.Ntb=h;Ua.Object.defineProperties(f.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.hza.yca;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.hza.I3b;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.hza.wca.U};}}});b.Ptb=f;Ua.Object.defineProperties(d.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.$ca.oBb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.$ca.nBb.U};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.$ca.qBb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.$ca.pBb.U};}}});b.Otb=d;Ua.Object.defineProperties(l.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.ki.V;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.ki.offset.U};}}});b.zqb=l;Ua.Object.defineProperties(k.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.Up.Oj.map(function(t){return new c(t);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Up.duration.U};}}});b.gnb=k;Ua.Object.defineProperties(m.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.U};}}});b.Ftb=m;Ua.Object.defineProperties(c.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.Tp.VE;}},id:{configurable:!0,enumerable:!0,get:function(){return this.Tp.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Tp.startTime.U};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Tp.endTime.U};}}});b.hnb=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mRa="SegmentDroppedLoggerSymbol";},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lRa=void 0;r=a(0);a=a(1);c.prototype.g6b=function(k,l){l.YP.qb.$Aa({xid:l.da,auxPlaybackcontextid:l.zh,auxMid:k.auxMid,auxMidType:k.auxMidType,reason:k.reason,adBreakLocationMs:k.adBreakLocationMs},"error" === k.sev);};m=c;m=r.__decorate([(0,a.Y)()],m);b.lRa=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CEa="AdFocusMonitorSymbol";},function(r,b,a){var m,k;function c(l){var d;d=this;this.pI=function(){var f,h,g;h=!document.hidden;g=null === (f=d.j.gq()) || void 0 === f?void 0:f.Vu.value;f=d.j.paused.value;h || !g || f || (d.Ca.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{Zba:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.pI);d.j.gq().Vu.removeListener(d.pI);d.j.paused.removeListener(d.pI);};this.Ca=l.mb("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.BEa=void 0;r=a(0);m=a(1);a=a(6);c.prototype.qQ=function(l){this.O0b || (this.Ca.debug("Starting to monitor playback for visibility"),this.j=l,this.O0b=!0,document.addEventListener("visibilitychange",this.pI),this.j.gq().Vu.addListener(this.pI),this.j.paused.addListener(this.pI),this.j.addEventListener("closing",this.unsubscribe),this.pI());};k=c;k=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.ub))],k);b.BEa=k;},function(r,b,a){var m,k,l,d,f;function c(h,g,n){var p;p=this;this.wc=h;this.u=g;this.j=n;this.XM=!1;this.cUa=this.fUa=Infinity;null === n || void 0 === n?void 0:n.addEventListener(d.ia.rm,function(){var q,t,v,u;if(p.Fc){(0,k.Wa)(p.j && p.j.ka === p.u,"Playback is required for live.");q=p.j;p.XM=q.zb.value === d.ib.Dc;q.fireEvent(d.ia.IB);t=p.wc.i0((0,m.qc)(1E3),function(){q.fireEvent(d.ia.IB);});v=p.wc.Bj((0,m.qc)(6E4),function(){p.fUa=p.PX();q.fireEvent(d.ia.IB);});u=p.wc.Bj((0,m.qc)(12E4),function(){p.cUa=p.PX();q.fireEvent(d.ia.IB);});q.addEventListener(d.ia.Xg,function(){t.cancel();v.cancel();u.cancel();});q.zb.addListener(function(){var w;w=p.XM;p.XM=w && q.zb.value === d.ib.Dc;w !== p.XM && q.fireEvent(d.ia.IB);});}});}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;m=a(5);k=a(23);l=a(18);d=a(16);f=a(573);c.prototype.PX=function(){var h,g,n,p;(0,k.Wa)(this.Fc,"Unexpected call to getLiveEdge(). isLive:" + this.Fc);(0,k.Wa)(this.j && this.j.ka === this.u,"Playback is required for live.");if(this.B8a())return this.u.mediaTime.value;p=null === (g=null === (h=this.j.Ha) || void 0 === h?void 0:h.QX(this.u.V)) || void 0 === g?void 0:g.U;if(void 0 !== p)return p;h=this.u.ja;if(!h)return 0;h=h.ab.WP.Pgb[h.ab.WP.V1a[h.ab.Kw[0].streams[0].Fo]];h=Date.now() - new Date(h.AYa).getTime();g=null !== (n=(0,l.E_a)("live").Jt) && void 0 !== n?n:l.config.Jt;return h - g;};c.prototype.Ngb=function(){(0,k.Wa)(this.Fc,"Unexpected call to seekToLiveEdge(). isLive:" + this.Fc);(0,k.Wa)(this.j && this.j.ka === this.u,"Playback is required for live.");this.j.Ff?(this.j.Ff.seek(this.PX(),d.Ve.oD,this.u.V),this.XM=!0,this.j.fireEvent(d.ia.IB)):this.u.cv=this.PX();};c.prototype.B8a=function(){(0,k.Wa)(this.Fc,"Unexpected call to isAtLiveEdge(). isLive:" + this.Fc);(0,k.Wa)(this.j && this.j.ka === this.u,"Playback is required for live.");return this.XM;};c.prototype.lSb=function(h){return h < this.fUa?f.Uha.tub:h < this.cUa?f.Uha.Grb:f.Uha.gqb;};Ua.Object.defineProperties(c.prototype,{Fc:{configurable:!0,enumerable:!0,get:function(){var h,g,n;h=this.u;g=h.ja;h=h.de;if(g){n=g.ab;g=n.Zib;n=n.WP;(0,k.Wa)("LIVE" === g && ! !n || "VOD" === g && !n,"streamingType and liveMetadata mismatch - streamingType:" + g + ", liveMetadata:" + n);g="LIVE" === g && ! !n;(0,k.Wa)("live" === h && g || "live" !== h && !g,"uiLabel and isLiveManifest mismatch - uiLabel:" + h + ", isLiveManifest:" + g);return g;}return "live" === h;}}});b.jLa=c;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x;function c(y,z,A){var B;B=this;this.tb=y;this.j=z;this.debug=A;this.Hs=this.Ii=this.yD=!1;this.Is=this.mo=void 0;this.$e=function(){var C,D,F,G,E,H;B.debug.assert(B.na,"has access to asePlaygraph");B.debug.assert(B.dd,"has access to internalLogger");B.debug.assert(B.$v,"has access to mediaBufferGetLogFields");E=B.Wp;H=null === (D=null === (C=B.Vb.get()) || void 0 === C?void 0:C.Qa) || void 0 === D?void 0:D.pa;C={type:"logdata",target:"startplay",fields:{hasasereport:B.j.FO,hashindsight:!1,buffCompleteReason:E.reason,actualbw:H,initSelReason:null !== (F=E.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:E.vBufferLevelMs,bcABufferLevelMs:E.aBufferLevelMs}};(0,h.Fna)({T2a:C,Vk:B.Vk,loadTime:B.loadTime});B.na.i1("startplay",l.he.Bq);null !== (G=B.Fa) && void 0 !== G && G.Ae?(B.dd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:E},B.$v()),B.j.Wp=E,B.j.Ss.set(g.Rf.He),B.BPb || (B.BPb=!0,B.j.Ne("pb")),B.ff.value !== m.wa.Cs && B.ff.value !== m.wa.Kj && B.play()):B.dd.error("Shim received buffering complete but player has no position (player " + (B.Fa?"":"un") + "defined, state " + B.j.state + ")");};this.QV=function(){var C,D;B.debug.assert(B.dd,"has access to internalLogger");!1;B.mo=void 0;B.j.paused.value && B.fK && (B.fK=!1,B.j.paused.set(!1,{Zba:!0}));null === (C=B.j.Ff) || void 0 === C?void 0:C.WGb();null === (D=B.OZ) || void 0 === D?void 0:D.call(B);B.OZ=void 0;};this.events=new x();this.ih=new w.jka(this.Px.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;m=a(28);k=a(11);l=a(298);d=a(58);f=a(3);h=a(1342);g=a(16);n=a(18);p=a(15);q=a(5);t=a(1343);v=a(91);u=a(70);w=a(537);a(135);x=a(113).EventEmitter;c.prototype.Zc=function(){var y;!1;this.Hs=!1;this.Vb.AR(null);this.debug.assert(this.gj,"has access to streamingEngine");this.na && this.gj.vw(this.na);this.Fa && this.gj.dR(this.Fa);this.gj.Yza(this.ih.gm(this.tb.ka.L));this.ih.clear();null === (y=this.dk) || void 0 === y?void 0:y.zr();};c.prototype.Q$b=function(y){var z,A,B,C,D,F,G,E,H,L,K,I,R;z=y.config;A=y.nr;B=y.dd;C=y.Ge;D=y.$v;F=y.Vj;G=y.r0;y=y.JK;this.dd=B;this.log=B.W7("AseIntegrationImpl");!1;this.$v=D;this.r0=G;this.JK=y;D=this.j.ka;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.gj,"has access to streamingEngine");this.debug.assert(D.Qc,"has access to parsedManifest");this.debug.assert(D.ja,"has access to manifest");this.gj=A.gj;A.Je.set(a(189)(z),!0,F("ASE"));A.Je.set({maxNumberTitlesScheduled:null !== (H=null === (E=z.g5b) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== H?H:1},!0,B);z.yHb && !D.Et.Fc && 3E5 > D.ja.ab.duration?A.Je.b_({expandDownloadTime:!1},!0,B):A.Je.b_({expandDownloadTime:A.Je.zdb().expandDownloadTime},!0,B);z=D.background || z.e5b && "postplay" === D.de?"historical":A.Je.zdb().initBitrateSelectorAlgorithm;A.Je.b_({initBitrateSelectorAlgorithm:z},!0,B);z=null === (R=null === (I=null === (K=null === (L=D.Ng) || void 0 === L?void 0:L.value) || void 0 === K?void 0:K.streams) || void 0 === I?void 0:I[0]) || void 0 === R?void 0:R.Af;A.Je.b_((0,n.D_a)(! !D.fb.Sh,! !D.fb.saa,z),!0,B);B=C.SJ({},(0,n.ypa)(D.Et.Fc?"live":D.de));this.Je=A.Je.hi(B);m.platform.events.emit("networkchange",D.Qc.V9b);this.yD=!0;};c.prototype.$$=function(y){var z,A;this.debug.assert(this.gj,"has access to streamingEngine");z=this.j.Wj(y.V);this.debug.assert(z.Qc,"has access to playback parsedManifest");!1;A=y.flags;this.Vb.reset();this.Dd=new Set([m.Pb.cb.dc,m.Pb.cb.Jb]);(A.mG || A.KV) && this.Dd.delete(A.mG?m.Pb.cb.dc:m.Pb.cb.Jb);this.cS=[z.Qc.WKb,z.Qc.dLb];this.Px(z.I,void 0,y.Qx);this.BWb(y);this.jO();};c.prototype.Iw=function(y){var z;!1;null === (z=this.na) || void 0 === z?void 0:z.Iw(y);};c.prototype.cEb=function(y){var z,A,B,C;z=this;A=y.loadTime;B=y.Vk;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;this.Vk=B;this.loadTime=A;y=this.na.events;C=this.Fa.events;y.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.dd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.dd.trace("StreamingFailure, buffer status:" + JSON.stringify(z.$v())),(0,d.jg)(function(){z.j.Sd(f.W.Nmb,{xa:D.nativeCode,Qb:D.errormsg,xl:D.httpCode,Oba:D.networkErrorCode});}));});y.addListener("logdata",function(D){var F;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=z.na) || void 0 === F?void 0:F.dI,(0,h.Fna)({T2a:D,Vk:B,loadTime:A}));});y.addListener("bufferingStarted",function(){!1;z.j.Ss.set(g.Rf.sd);});y.addListener("bufferingComplete",function(D){!1;z.Wp=D;});this.j.paused.addListener(function(D){var F;z.debug.assert(z.dd,"has access to internalLogger");null !== (F=D.Mk) && void 0 !== F && F.Zba || !z.yD || (D.newValue && z.ff.value === m.wa.Dc?(z.ff.set(m.wa.Hh),z.Kd.emit("paused",{type:"paused",pts:z.Kd.oc})):D.newValue || z.ff.value !== m.wa.Hh || (z.ff.set(m.wa.Dc),z.Kd.emit("playing",{type:"playing",pts:z.Kd.oc})));D.newValue || (z.fK=!1);z.dd.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,v.Jj)(z.j.mediaTime.value)});});this.j.yc.addListener(function(D){var F,G,E,H;if(z.yD)if((z.debug.assert(z.dd,"has access to internalLogger"),D.Mk && D.Mk.FXa))z.dd.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {H=D.newValue;z.Mea({vo:H.iy,toJSON:function(){return H.yh;}})?z.dd.trace("ASE accepted the audio track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(z.dd.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.iy !== H.iy && z.j.yc.set(D.oldValue,{FXa:!0}));}});y.addListener("serverSwitch",function(D){var F;!1;z.j.fireEvent(g.ia.p0,D);if("video" === D.mediatype)F=m.Pb.cb.Jb;else "audio" === D.mediatype && (F=m.Pb.cb.dc);(0,p.pd)(F) && z.r0(D.segmentId,D.server,F);});y.addListener("streamSelected",function(D){var F,G,E,H;!1;G=(null === (F=z.na) || void 0 === F?void 0:F.sB(D.position)).hn.U;F=[];if(D.mediaType === m.Pb.cb.Jb){E=z.j.m7a(D.streamId);H=z.j.pf;F=z.j.PE();}else D.mediaType === m.Pb.cb.dc && (E=z.j.Z6a(D.streamId),H=z.j.Kh,F=z.j.GQb());E && H?(!1,H.set(E,{qI:G,VV:D.bandwidth})):z.dd.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:z.j.mI});});y.addListener("segmentNormalized",function(D){var F,G,E,H,L;!1;F=D.segmentId;G=Math.floor(D.viewableContentEnd.U);D=Math.floor(D.viewableEarliestContentEnd.U);G=(0,q.qc)(G);D=(0,q.qc)(D);if(!z.j.$Ub(F) && (!1,z.Sj && z.Sj.M[F])){E=z.Sj.M[F];H=z.Sj.M[F].kc;if(H && z.tb.Sy(H)){H=z.j.Wj(H);L=H.ja;(null === L || void 0 === L?0:L.$u) && (null === L || void 0 === L?0:L.$u.some(function(K){return K.ab.I === E.L;})) && z.j.o0a(E.L,{rl:{Ke:L.ab.Ke,Th:L.ab.I}},H.da);}}if(F=z.j.Wj(F))(F.Nx=G,F.Aab=D);z.j.Ot || (z.j.Ot=G);});C.addListener("segmentPresenting",function(D){var F,G,E,H;!1;z.debug.assert(z.na,"has access to asePlaygraph");z.debug.assert(z.Fa,"has access to asePlayer");z.debug.assert(z.JK,"has access to segmentPresentingHandler");G=z.na.sB(D.position);E=void 0;H=null === (F=D.inner) || void 0 === F?void 0:F.position;H && z.Sj && (E=z.Sj.M[H.V]);z.JK({L:G.L,tI:E,yJ:!1});z.j.fireEvent(g.ia.IK,{type:"segmentPresenting",position:{segmentId:D.position.V,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.Is=z.Fa.Tk();});C.addListener("ptsChanged",function(){!1;z.Kd.emit("skipped");});y.addListener("locationSelected",function(D){!1;z.j.fireEvent(g.ia.eZ,D);});y.addListener("aseReportEnabled",function(){!1;z.j.FO=!0;});y.addListener("aseReport",function(D){!1;z.j.fireEvent(g.ia.GN,D);});y.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.k8b;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(g.ia.xE,{response:D,I:z.j.ka.I});});};c.prototype.Tk=function(){var y,z,A,B,C,D,F,G,E;G=null === (y=this.Fa) || void 0 === y?void 0:y.wP();y=(null !== (z=this.Is) && void 0 !== z?z:G && this.Fa.Tk()) || ({});z=y.u;G=y.Bd;E=y.cC;y=y.wq;return {id:String(null === z || void 0 === z?void 0:z.id),Ze:null !== (A=null === G || void 0 === G?void 0:G.U) && void 0 !== A?A:0,$c:null !== (B=null === z || void 0 === z?void 0:z.Oe.U) && void 0 !== B?B:Infinity,Jc:null !== (C=null === z || void 0 === z?void 0:z.kg.U) && void 0 !== C?C:0,ef:null !== (D=null === E || void 0 === E?void 0:E.U) && void 0 !== D?D:Infinity,rd:null !== (F=null === y || void 0 === y?void 0:y.U) && void 0 !== F?F:0};};c.prototype.G9=function(){return {Ze:0};};c.prototype.aaa=function(){var y,z;this.debug.assert(this.na,"has access to asePlaygraph");y={};z=this.na.$x();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.Qya=function(){!1;this.Kd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Kd.oc});};c.prototype.PV=function(y,z){var A;this.debug.assert(this.j.ja,"has access to playback manifest");A=this.cS[m.Pb.cb.dc];return y.I === this.j.ja.ab.I?A:this.gPb(this.j.ja.ab.Zu[A],z);};c.prototype.gPb=function(y,z){var A,B,C;this.debug.assert(this.dd,"has access to internalLogger");!1;A=z.filter(function(D){return D.profile === y.profile;}).sort(function(D,F){var G,E,H;G=(D.language === y.language || "zxx" === D.language?0:1) - (F.language === y.language || "zxx" === F.language?0:1);0 === G && (G=(D.Bi === y.Bi?0:1) - (F.Bi === y.Bi?0:1));if(0 === G){D=(null !== (E=D.$b) && void 0 !== E?E:0) - (null !== (H=F.$b) && void 0 !== H?H:0);}else D=G;return D;});B=0;C=na(A).next().value;C && z.some(function(D,F){if(D === C)return (B=F,!0);});!1;return B;};c.prototype.Mea=function(y){var z,A,B;z=this;this.debug.assert(this.dd,"has access to internalLogger");this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");this.debug.assert(this.j.ja,"has access to playback manifest");if(this.qL)return (!1,!1);if(!this.j.ja.ab.audio_tracks.some(function(C,D){if(C.track_id === y.vo)return (B=D,!0);}))return (!1,!1);!1;this.mo=B;null === (A=this.j.Ff) || void 0 === A?void 0:A.Yac();this.j.paused.value || (this.Fa.pause([m.Pb.cb.dc]),this.fK=!0,this.j.paused.set(!0,{Zba:!0}));this.debug.Dna(this.mo,"has access to valid requestedAudioTrackIndex number");this.cS[m.Pb.cb.dc]=this.mo;(this.na.Uy({bu:this.PV.bind(this)},{bu:function(){return z.cS[m.Pb.cb.Jb];}}) || this.fK) && this.Fa.resume(this.fK?[m.Pb.cb.dc]:void 0);this.ns(this.QV);return !0;};c.prototype.op=function(){var y;!1;this.ff.set(m.wa.bg);null === (y=this.na) || void 0 === y?void 0:y.i1("intrplay",l.he.op);this.Kd.emit("underflow",{type:"underflow",pts:this.Kd.oc});this.ns(this.$e);};c.prototype.gs=function(y,z){this.MC.gs(y,z);};c.prototype.open=function(){this.Hs || (this.debug.assert(this.na,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),!1,this.Hs=this.Ii=!0,this.na.open(),this.debug.assert(this.Wy,"invalid start position relative to playgraph"),this.na.xw(this.Wy,m.K.Ga(this.j.ba)),this.ff.set(m.wa.sd),this.ns(this.$e),this.na.Qs(this.Fa),this.hZb());};c.prototype.play=function(){this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;0 !== this.na.state && (this.Fa.resume(this.fK?[m.Pb.cb.dc]:void 0),this.ff.set(m.wa.Dc),this.Kd.emit("playing",{type:"playing",pts:this.Kd.oc}));};c.prototype.stop=function(){var y;!1;this.ff.set(m.wa.Cs);null === (y=this.Fa) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Kd.emit("paused",{type:"paused",pts:this.Kd.oc});};c.prototype.flush=function(){this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.gj,"has access to streamingEngine");!1;this.Hs && this.ff.value !== m.wa.Kj && this.ff.value !== m.wa.Cs && this.stop();this.na.i1("endplay",l.he.aq);this.na.vd();this.gj.mi.save();this.gj.Yo.save();};c.prototype.gq=function(){var y;return null === (y=this.na) || void 0 === y?void 0:y.Gk;};c.prototype.fv=function(y){var z;this.debug.assert(this.na,"has access to asePlaygraph");z=m.K.Ga(y);return (z=this.na.Jn(z,{qib:!0,pib:!0}))?this.na.Z.M[z.V].qa + Number(z.offset.U.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.hO=function(y,z){this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.dd,"has access to internalLogger");!1;this.na.Z.M[y] || (y=this.nX(z));this.debug.g7(y,"has access to segmentId");y={V:y,offset:m.K.Ga(z - this.na.Z.M[y].qa)};if(y=this.na.dy(y))return y.U;!1;return z;};c.prototype.Coa=function(y,z){var A,B,C;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;z && this.na.Z.M[z] || (z=null !== (A=this.nX(y)) && void 0 !== A?A:null === (B=this.Fa) || void 0 === B?void 0:B.ig.V);z=this.j.Wj(z);y={hn:m.K.Ga(y),L:z.I};return null === (C=this.na.qn(y)) || void 0 === C?void 0:C.$c;};c.prototype.cB=function(y){var z;z=void 0 === z?!0:z;!1;this.Ii?Number.isFinite(y) && (this.debug.assert(this.Fa,"has access to asePlayer"),z?this.Fa.zR(y):this.Fa.iea(y)):this.fail("Must call open prior to drmReady");};c.prototype.A$=function(){var y;return null !== (y=this.Fa) && void 0 !== y && y.Ae?this.Fa.Uo(this.tb.ka.L):!1;};c.prototype.Wg=function(y){var z,A;!1;if(!this.Fa)return (!1,!1);z=this.gq();y=m.K.Ga(y);A=this.Fa.Wg(y);return z && this.j.s$()?A && z.Wg(y):A;};c.prototype.au=function(y,z){var A;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;z && this.na.Z.M[z] || (z=null !== (A=this.nX(y)) && void 0 !== A?A:this.tb.Mh);this.debug.g7(z,"has access to segmentId");this.debug.assert(this.na.Z.M[z],"segment exists in playgraph map");z={V:z,offset:m.K.Ga(y - this.na.Z.M[z].qa)};this.na.xw(z,m.K.Ga(y));this.Fa.resume();this.ff.set(m.wa.sd);this.ns(this.$e);y=this.na.MAa(z);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.U;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.hS=function(y,z){var A;!1;A={};this.na.Gj((A[y]=z,A));};c.prototype.Ys=function(y,z){var A,B;this.debug.assert(this.dd,"has access to internalLogger");this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.Fa,"has access to asePlayer");!1;A=this.Tk().id;B=this.na.kP(A,y);if(z){if(!B.Llb)return (this.dd.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.vQ)return (!1,B.vQ === y);this.na.fj(A,y,!1,z);return !0;}if(void 0 !== B.vQ)return (!1,!1);B.RN && (this.Fa.reset(),this.na.fj(A,y,!1,z),this.Fa.resume(),this.ff.set(m.wa.sd),this.ns(this.$e));return ! !B.RN;};c.prototype.fj=function(y,z,A,B){this.debug.assert(this.na,"has access to asePlaygraph");!1;this.na.fj(y,z,A,B);};c.prototype.Rl=function(){var y;this.debug.assert(this.dd,"has access to internalLogger");!1;y=this.Kd.oc;!1;this.Kd.emit("skipped",{type:"skipped",pts:y});return new m.fH(Promise.resolve()).zAa;};c.prototype.nX=function(y){var z,A,B,C,D,F,G,E;this.debug.assert(this.na,"has access to asePlaygraph");this.debug.assert(this.dd,"has access to internalLogger");!1;z=this.na.Z;A=[];B=Infinity;for(C in z.M){D=z.M[C];F=D.qa;D=D.sa;G=y < Number(null !== D && void 0 !== D?D:Infinity);if(F <= y && G)(!1,A.push(C));else if((F=Math.min(Math.abs(y - F),Math.abs(y - D)),F < B)){B=F;E=C;}}y=A[0] || E;this.debug.g7(y,"has access to locatedSegmentId");!1;return y;};c.prototype.hZb=function(){var y,z;y=this;this.debug.assert(this.j.Ub,"has access to mediaElement");z=this.j.Ub.$;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){y.ff.value === m.wa.Hh && (y.ff.set(m.wa.Dc),y.Kd.emit("playing",{type:"playing",pts:y.Kd.oc}));});z.addEventListener("pause",function(){y.ff.value === m.wa.Dc && (y.ff.set(m.wa.Hh),y.Kd.emit("paused",{type:"paused",pts:y.Kd.oc}));});};c.prototype.fail=function(y){var z;null === (z=this.na) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.ns=function(y){var z,A,B,C,D,F,G,E;z=this;if(y !== this.QV && this.qL)(!1,this.OZ=y);else {E=null === (A=this.Fa) || void 0 === A?void 0:A.Zv.value;A=null === (B=this.na) || void 0 === B?void 0:B.yf.value;B=!0 === E;E=A === m.Mc.Lj;!1;null === (C=this.Fa) || void 0 === C?void 0:C.Zv.removeListener(this.Iab);null === (D=this.na) || void 0 === D?void 0:D.yf.removeListener(this.bZa);B && E?y():(this.Iab=function(){return z.ns(y);},this.bZa=function(){return z.ns(y);},null === (F=this.Fa) || void 0 === F?void 0:F.Zv.addListener(this.Iab),null === (G=this.na) || void 0 === G?void 0:G.yf.addListener(this.bZa));}};c.prototype.l4a=function(y){var z,A;z=this;y=this.j.No(y);return Promise.resolve(null !== (A=y.ja) && void 0 !== A?A:this.hda(y)).then(function(B){B=B.ab;return {ja:B,Ri:B.u$ && !B.UE,config:z.Je,Dd:[].concat(ia(z.Dd))};});};c.prototype.hda=function(y){var z,A,B,C,D;z=this;!1;B=Promise.resolve();if(y.Oi){C=y.Oi.Th;(D=null === (A=this.j.No(C).ja) || void 0 === A?void 0:A.ab)?y.Oi.e_=D:B=this.ih.gm(C).up.then(function(F){return F.ja;}).then(function(F){y.Oi.e_=F;}).catch(function(){return z.j.Sd(f.W.UL,f.T.Ymb);});}return B.then(function(){return z.j.hda(y);}).then(function(){return y.ja;});};c.prototype.Px=function(y,z,A){var B,C,D,F,G,E,H,L,K,I;B=this;this.debug.assert(this.gj,"has access to streamingEngine");!1;H={L:y,Th:null === (C=null === z || void 0 === z?void 0:z.rl) || void 0 === C?void 0:C.Th,Ke:null === (D=null === z || void 0 === z?void 0:z.rl) || void 0 === D?void 0:D.Ke};if(!this.ih.has(H)){!this.j.Zta(y) && (null === (F=null === z || void 0 === z?void 0:z.rl) || void 0 === F?0:F.Th) && this.j.Zta(null === (G=null === z || void 0 === z?void 0:z.rl) || void 0 === G?void 0:G.Th) && (C=this.j.No(null === (E=z.rl) || void 0 === E?void 0:E.Th),this.j.o0a(y,z,C.da));this.j.Zta(y) && (L=this.j.No(y));K=A?A.da:L?L.da:void 0;E=A?A.fp:L?L.Wf:void 0;this.ih.store(H,{F7:function(){},equals:function(R){return R && R.L === H.L && (K === R.da || !R.da || !K);},get up() {I || (I=B.l4a(y));return I;},set up(R) {I=R;},events:new k.EventEmitter(),da:K,L:H.L,Er:!1,DCa:!1});this.Je.eB && this.gj.TF(this.ih.gm(H.L,z),{da:K,fp:E,wE:null === A || void 0 === A?void 0:A.dB});}};c.prototype.cz=function(y){var z,A,B;this.debug.assert(this.gj,"has access to streamingEngine");!1;z=this.j.Wj(y);A=z.Oi;z={L:z.I,Th:null === A || void 0 === A?void 0:A.Th,Ke:null === A || void 0 === A?void 0:A.Ke};y=this.tb.ze(y).L;if(!this.ih.has(z))return Promise.resolve();A && (B={rl:{Ke:null === A || void 0 === A?void 0:A.Ke,Th:A.Th}});A=this.ih.gm(y,B);A.up=this.l4a(y);return this.gj.cz(A);};c.prototype.kP=function(y){var z;this.debug.assert(this.Fa,"has access to asePlayer");this.debug.assert(this.na,"has access to asePlaygraph");return this.na.kP(null === (z=this.Fa.Tk().u) || void 0 === z?void 0:z.id,y);};c.prototype.QX=function(y){var z;return null === (z=this.na) || void 0 === z?void 0:z.QX(y);};c.prototype.BWb=function(y){var z,A,B;z=this;A=y.Qx;B=y.V;this.debug.assert(this.gj,"has access to streamingEngine");this.debug.assert(this.dd,"has access to internalLogger");!1;y=this.j.Wj(B);y=this.tb.b$(y);B=y.M[B];this.debug.assert(B,"segment exists");this.Wy=(0,t.cY)(B.L,y,this.j.ba,B.qa);A=Object.create(this.Je,{dB:{value:A.dB},z2a:{value:this.j.background}});this.ff=new u.Xb(m.wa.jh);this.na=this.gj.ZH(y,this.Je.Sdb,A,this.ih);this.MC=new m.hH(this.dd);A=this.na.oE(this.MC);y=this.na.nE();this.na.kea(y,A);this.na.Uy({bu:function(){return z.cS[m.Pb.cb.dc];}},{bu:function(){return z.cS[m.Pb.cb.Jb];}});this.fK=!1;};c.prototype.jO=function(){var y,z;y=this;this.debug.assert(this.gj,"has access to streamingEngine");!1;z=Object.create(this.Je,{Dd:{value:[].concat(ia(this.Dd))},TX:{value:function(){return y.Y9();}}});this.Kd=Object.create(new k.EventEmitter(),{oc:{get:function(){y.debug.Dna(y.j.mediaTime.value,"has access to mediaTime.value");return m.K.Ga(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},SX:{value:function(){y.debug.assert(y.j.Ub,"has access to mediaElement");return y.j.Ub;}}});this.Fa=this.gj.kXa(this.Kd,z);};c.prototype.Y9=function(){this.dk || (this.dk=new m.platform.MediaSource(this.Kd),this.dk.Oc || (this.dk.Oc=m.platform.MediaSource.Oc));return this.dk;};Ua.Object.defineProperties(c.prototype,{qL:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.mo;}},Vb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.gj,"has access to streamingEngine");return this.gj.Vb;}},Sj:{configurable:!0,enumerable:!0,get:function(){for(var y,z=null === (y=this.na) || void 0 === y?void 0:y.Sj;null === z || void 0 === z?0:z.Sj;){z=z.Sj;}return null === z || void 0 === z?void 0:z.Z;}},o_a:{configurable:!0,enumerable:!0,get:function(){for(var y=this.Fa;null === y || void 0 === y?0:y.AY;){y=y.AY;}return y;}},sKb:{configurable:!0,enumerable:!0,get:function(){var y,z,A;if(null === (y=this.o_a) || void 0 === y?0:y.Ae){A=(y=this.o_a.ig) && (null === (z=this.Sj) || void 0 === z?void 0:z.M[y.V]);if(A)return {hn:m.K.Ga(y.offset.U + A.qa),L:A.L};}}}});b.UEa=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Fna=void 0;c=a(15);b.Fna=function(m){var k,l,d,f;k=m.Vk;l=m.loadTime;m=m.T2a;d=(0,c.Ka)(l)?l:0;f=k[m.target] || ({});k[m.target] !== f && (k[m.target]=f);Object.entries(m.fields).forEach(function(h){var g,n,p,q;g=na(h);h=g.next().value;g=g.next().value;if("object" !== typeof g || null === g)f[h]=g;else {n=g.type;if("count" === n)(void 0 === f[h] && (f[h]=0),++f[h]);else if(void 0 !== g.value){if("array" === n){n=f[h];p=g.adjust;q=g.value;n || (n=f[h]=[]);p && 0 < p.length && p.forEach(function(t){q[t]-=d || 0;});n.push(q);}else f[h]="sum" === n?(f[h] || 0) + g.value:g.value;}else f[h]=g;}});};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.cY=void 0;c=a(28);m=a(23);b.cY=function(k,l,d,f){return l.M[l.Cd].qa === f?(k=(0,c.yI)(l,k,c.K.Ga(d)),(0,m.Wa)(k,"has valid start position relative to playgraph"),k):{V:l.Cd,offset:c.K.Ia};};},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p,q,t,v,u,w,x,y,z){var A;A=this;this.idc=n;this.j=p;this.id=q;this.height=t;this.width=v;this.v4b=u;this.w4b=w;this.size=x;this.Mv=y;this.urls=z;this.type=m.jj.eDa;this.retry=!0;this.state=f.Uq.W3;this.yh={};this.i7={};this.f6b=function(B){if(B.ea)try{A.data=A.idc.parse(B.content);A.state=f.Uq.IG;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.yh);A.j.fireEvent(h.ia.g1);}catch(C){A.state=f.Uq.zNa;A.log.error("TrickPlay parse failed.",C);}else (A.state=f.Uq.W3,A.log.error("TrickPlay download failed.",(0,g.yz)(B),A.yh));};this.log=(0,l.Ui)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.xSa=void 0;m=a(89);k=a(18);l=a(8);d=a(104);f=a(546);h=a(16);g=a(3);c.prototype.ORb=function(n){if(this.data && (this.Mv && (n+=this.Mv),n=Math.floor(n / this.data.header.Xjb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.Xjb,height:this.height,width:this.width,pixelAspectHeight:this.v4b,pixelAspectWidth:this.w4b};};c.prototype.oP=function(){switch(this.state){case f.Uq.IG:return "downloaded";case f.Uq.LOADING:return "loading";case f.Uq.pT:return "downloadfailed";case f.Uq.zNa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.eUb();n?(this.state=f.Uq.LOADING,this.qMb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.eUb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(t){return (n.i7[n.urls[t]] || 0) <= k.config.edc;});if(p){q=this.urls[p];(q in this.i7)?this.i7[q]++:this.i7[q]=1;return {url:q,Kx:p};}};c.prototype.qMb=function(n){var p,q;this.log.trace("Downloading",n.url,this.yh);q=this.ssa(n.Kx);n={responseType:d.rY,vc:q,url:n.url,track:this,du:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",uE:"trickplay"};this.j.J$.download(n,this.f6b);};c.prototype.ssa=function(n){return this.j.Fg.find(function(p){return p && p.id === n;});};b.xSa=c;},function(r,b,a){var m;function c(k,l,d,f){this.qqa=k;this.debug=l;this.Da=d;this.j=f;this.zca=[];this.Jba={};this.sqa={};this.Hra=!1;this.Ajb=1;this.sFa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;m=a(5);a(16);a(15);a(104);c.prototype.register=function(k,l){this.debug.assert(!(0 <= this.zca.indexOf(k)),"panel already registered");this.Jba[k]=l;this.zca.push(k);};c.prototype.jcb=function(k){var l;l=this;this.sqa[k]=!0;this.Hra || (this.Hra=!0,setTimeout(function(){return l.uPb();},0));};c.prototype.BSb=function(k){return (k=this.Jba[k])?k():void 0;};c.prototype.LX=function(){var k;k=this.j.Ica;return k?k.LX():[];};c.prototype.addEventListener=function(k,l){this.qqa.addListener(k,l);this.Jba[k] && this.jcb(k);};c.prototype.removeEventListener=function(k,l){this.qqa.removeListener(k,l);};c.prototype.getTime=function(){return this.Da.Tb().fa(m.ma);};c.prototype.uPb=function(){this.Hra=!1;for(var k=this.zca.length,l;k--;){l=this.zca[k];this.sqa[l] && (this.sqa[l]=!1,this.qqa.Rc(l + "changed",{getModel:this.Jba[l]}));}};b.wHa=c;},function(r,b,a){var m,k,l,d,f,h,g;function c(n,p){var q;q=this;this.In=n;this.Cv=p;this.hkb=function(t){var v,u,w,x,y,z,A;v=q.Ajb++;u=t.request.uE || "dl";w=q.J6a(u,"start");if(w){x=t.request.SB;y=x.stream.P.xq;x=na(x.stream.P.Gi).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.u.id,!q.Jib.has(y))){z=q.b6a(y);A=t.Ut;q.In.mark(w,z,A?u + "-" + A + "-" + v:u);t.J6(function(){var B,C;B=q.J6a(u,"end");C=A?u + "-" + A + "-" + v:u;B && q.In.mark(B,z,C);});}}};this.Ajb=0;this.Jib=new Set();this.bBa=new Map();p.$W && this.Dfc();}Object.defineProperty(b,"__esModule",{value:!0});b.NMa=void 0;r=a(0);m=a(1);k=a(60);l=a(81);d=a(5);f=a(104);a=a(40);h={start:{video:k.Na.QS,audio:k.Na.MS},end:{video:k.Na.PS,audio:k.Na.LS}};c.prototype.c6a=function(n){var q,t,v,u,w,x,y,z;function p(A){return (0,d.timestamp)(q.xXa((0,d.timestamp)(A),n,!0));}q=this;t=new Set();v=n.qd;u=n.da;w=void 0 === n.Dib?null:n.Dib;x=n.V;y=this.In.J5a(u);z=x && this.b6a(x);z && y.push.apply(y,ia(this.In.J5a(z)));this.In.Dfb(n.da);z && this.In.Dfb(z);x && this.Jib.add(x);x=[];("pr_ats" in v) && x.push({name:k.Na.p4,iu:p(v.pr_ats),da:u,Wf:"request-pre-manifest"});("ats" in v) && x.push({name:k.Na.n4,iu:p(v.ats),da:u,Wf:"request-manifest"});("pr_at" in v) && x.push({name:k.Na.o4,iu:p(v.pr_at),da:u,Wf:"request-pre-manifest"});("at" in v) && x.push({name:k.Na.m4,iu:p(v.at),da:u,Wf:"request-manifest"});("lg" in v) && x.push({name:k.Na.l4,iu:p(v.lg),da:u,Wf:"request-license"});("lr" in v) && (x.push({name:k.Na.k4,iu:p(v.lr),da:u,Wf:"request-license"}),x.push({name:k.Na.P1,iu:p(v.lr),da:u,Wf:"apply-license"}));("ld" in v) && x.push({name:k.Na.O1,iu:p(v.ld),da:u,Wf:"apply-license"});("tt_start" in v) && x.push({name:k.Na.OS,iu:p(v.tt_start),da:u,Wf:"request-timed-text"});("tt_comp" in v) && x.push({name:k.Na.NS,iu:p(v.tt_comp),da:u,Wf:"request-timed-text"});return x.concat(y).map(function(A){return q.Ecc(A,n);}).filter(function(A){return A.ts <= (null !== w && void 0 !== w?w:A.ts)?("end" === A.step && t.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || t.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var C;C=B.eventName;delete B.eventName;C && (A[C]=B);return A;},{});};c.prototype.lCb=function(n,p,q){return (void 0 === q?0:q)?n.fa(d.ma) + p.yj.fa(d.ma):n.fa(d.ma) - p.yj.fa(d.ma);};c.prototype.xXa=function(n,p,q){q=void 0 === q?!1:q;if(p.Yn)if(q)n.fa(d.ma) + p.Yn;else return n.fa(d.ma) - p.Yn;return this.lCb(n,p,q);};c.prototype.Ecc=function(n,p){var q,t;q=n.Wf;t=n.name;return {eventName:this.p1b(t,q),eventId:q || t,ts:this.xXa(n.iu,p),comp:this.DX(t),cat:this.ZQb(t),step:this.MTb(t)};};c.prototype.p1b=function(n,p){switch(n){case k.Na.OS:case k.Na.NS:case k.Na.MS:case k.Na.LS:case k.Na.QS:case k.Na.PS:return n + "-" + p;default:return n;}};c.prototype.DX=function(n){switch(n){case k.Na.p4:case k.Na.o4:case k.Na.n4:case k.Na.m4:return "manifest";case k.Na.l4:case k.Na.k4:case k.Na.Dja:case k.Na.Cja:case k.Na.K2:case k.Na.J2:case k.Na.P1:case k.Na.O1:return "license";case k.Na.OS:case k.Na.NS:case k.Na.MS:case k.Na.LS:case k.Na.QS:case k.Na.PS:case k.Na.Qfa:case k.Na.Pfa:return "buffering";case k.Na.Jia:case k.Na.Iia:return "playback";default:return null;}};c.prototype.ZQb=function(n){switch(n){case k.Na.p4:case k.Na.o4:case k.Na.n4:case k.Na.m4:return "aws";case k.Na.l4:case k.Na.k4:return "mixed";case k.Na.Jia:case k.Na.Iia:case k.Na.Dja:case k.Na.Cja:case k.Na.K2:case k.Na.J2:case k.Na.P1:case k.Na.O1:case k.Na.Qfa:case k.Na.Pfa:return "device";case k.Na.OS:case k.Na.NS:case k.Na.MS:case k.Na.LS:case k.Na.QS:case k.Na.PS:return "cdn";default:return null;}};c.prototype.MTb=function(n){switch(n){case k.Na.p4:case k.Na.Jia:case k.Na.n4:case k.Na.l4:case k.Na.Qfa:case k.Na.OS:case k.Na.MS:case k.Na.QS:case k.Na.Dja:case k.Na.K2:case k.Na.P1:return "start";case k.Na.o4:case k.Na.Iia:case k.Na.m4:case k.Na.k4:case k.Na.Cja:case k.Na.J2:case k.Na.O1:case k.Na.Pfa:case k.Na.NS:case k.Na.LS:case k.Na.PS:return "end";default:return null;}};c.prototype.J6a=function(n,p){if((n in h[p]))return h[p][n];};c.prototype.Gdc=function(){f.lf.removeEventListener(f.I$,this.hkb);};c.prototype.Dfc=function(){this.Gdc();f.lf.addEventListener(f.I$,this.hkb);};c.prototype.b6a=function(n){var p;if(this.bBa.has(n))return this.bBa.get(n);p=Date.now();this.bBa.set(n,p);return p;};g=c;g=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.DT)),r.__param(1,(0,m.l)(a.xp))],g);b.NMa=g;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F,G,E,H,L,K,I,R,O,J,M,P,S,T,U;Object.defineProperty(b,"__esModule",{value:!0});b.q_a=void 0;r=a(1);c=a(507);m=a(1348);k=a(102);l=a(1349);d=a(519);f=a(1350);h=a(524);g=a(1351);n=a(525);p=a(1352);q=a(290);t=a(1353);v=a(88);u=a(1354);w=a(1355);x=a(37);y=a(3);z=a(1356);A=a(1357);B=a(1358);C=a(51);D=a(1359);F=a(575);G=a(1360);E=a(504);H=a(1361);L=a(1362);K=a(1363);I=a(452);R=a(1364);O=a(80);J=a(574);M=a(1365);P=a(1366);S=a(1367);T=a(307);U=a(1368);b.q_a=new r.xd(function(W){W(C.Km).to(D.fOa);W(c.uOa).to(m.tOa);W(F.aOa).to(G.$Na);W(E.cOa).to(H.bOa);W(k.Uia).to(l.vOa);W(J.wOa).Pe(function(fa){return function(){var sa;sa=fa.wb.get(O.Jz);return sa && sa.Dlb?fa.wb.resolve(P.POa):fa.wb.resolve(M.xOa);};});W(d.ZNa).to(f.YNa);W(h.MOa).to(g.LOa);W(n.oOa).to(p.nOa);W(q.Tia).to(t.pOa);W(v.HRa).to(u.GRa);W(v.NRa).to(w.MRa);W(v.RKa).to(z.QKa);W(v.CRa).to(A.BRa);W(v.rIa).to(B.qIa);W(K.Htb).to(L.yOa);W(I.mOa).to(R.lOa);W(T.Yfa).to(S.qEa);W(T.Xfa).to(U.mEa);W(v.hha).Pe(function(fa){return function(sa){switch(sa){case v.Mq.start:return fa.wb.get(v.HRa);case v.Mq.stop:return fa.wb.get(v.NRa);case v.Mq.PY:return fa.wb.get(v.RKa);case v.Mq.splice:return fa.wb.get(v.CRa);case v.Mq.MO:return fa.wb.get(v.rIa);}throw new x.gd(y.W.Vsb,void 0,void 0,void 0,void 0,"The event key was invalid - " + sa);};});});},function(r,b,a){var m,k,l,d,f;function c(h){return d.ai.call(this,h,k.W.Jrb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tOa=void 0;r=a(0);m=a(1);k=a(3);l=a(66);d=a(73);a=a(51);ka(c,d.ai);c.prototype.Lf=function(h,g){var n;n=this;return this.send(h,{url:"/" + l.zg.nwa,name:l.zg.nwa,um:l.zg.nwa},g).then(function(p){return p.result;}).catch(function(p){throw n.vn(p);});};c.prototype.cq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.tOa=f;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t;function c(v,u,w,x,y){v=d.ai.call(this,v,k.W.UL,3) || this;v.platform=u;v.kZ=w;v.NYb=x;v.$Zb=y;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.vOa=void 0;r=a(0);m=a(102);k=a(3);l=a(66);a(135);d=a(73);f=a(51);h=a(48);g=a(40);n=a(134);p=a(290);q=a(1);a=a(574);ka(c,d.ai);c.prototype.Lf=function(v,u){var w,x,y,z;w=this;x=u.Av === m.co.VG?"prefetch/manifest":l.zg.ja;y=l.zg.ja;z=u.Av === m.co.x4?g.ax.bQa:g.ax.OT;return this.$Zb().transform(u,z).then(function(A){var B,C;A=na(A);B=A.next().value;C=A.next().value;!1;"licensedManifest" === C.zo && (x=u.Av === m.co.VG?"prefetch/licensedManifest":"licensedManifest",y=l.zg.OYb);return w.send(v,{url:C.zo,name:y,um:x},B,void 0,void 0,z).then(function(D){var F;D=w.kZ.create(D.result);F=D.ab.Kw.map(function(G){return G.wh;}).filter(Boolean);C.bB && (0 < F.length?(F=w.NYb.lkb(F),C.bB.fXa(F),D.bB=C.bB,D.gva=u.Av === m.co.VG,D.fva=!0):C.bB.close());D.LV=C.LV;D.y1=C.y1;!1;return D;});}).catch(function(A){!1;throw w.vn(A);});};c.prototype.cq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};t=c;t=r.__decorate([(0,q.Y)(),r.__param(0,(0,q.l)(f.Km)),r.__param(1,(0,q.l)(h.Qq)),r.__param(2,(0,q.l)(n.VL)),r.__param(3,(0,q.l)(p.Tia)),r.__param(4,(0,q.l)(a.wOa))],t);b.vOa=t;},function(r,b,a){var m,k,l,d,f;function c(h){return d.ai.call(this,h,k.W.RL,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YNa=void 0;r=a(0);m=a(1);k=a(3);l=a(66);d=a(73);a=a(51);ka(c,d.ai);c.prototype.Lf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.cq=function(h,g,n){var p;p=this;g={url:g.iP(n.f$a).href,name:l.zg.wh,um:"ldl" === n.f$a?"prefetch/license":l.zg.wh};return this.send(h,g,n.inputs,"drmSessionId").then(function(q){q=q.result;p.QFb(q);return q;}).catch(function(q){throw p.vn(q);});};c.prototype.QFb=function(h){h.forEach(function(g){if(!g.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.YNa=f;},function(r,b,a){var m,k,l,d,f;function c(h){return d.ai.call(this,h,k.W.xja,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LOa=void 0;r=a(0);m=a(1);k=a(3);l=a(66);d=a(73);a=a(51);ka(c,d.ai);c.prototype.Lf=function(h,g){var n;n=this;return this.send(h,{url:"/bundle",name:l.zg.wh,um:"release/license"},g).then(function(p){return p.result;}).catch(function(p){throw n.vn(p);});};c.prototype.cq=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.LOa=f;},function(r,b,a){var m,k,l;function c(d){this.za=d;}Object.defineProperty(b,"__esModule",{value:!0});b.nOa=void 0;r=a(0);m=a(1);k=a(30);l=a(5);c.prototype.Xcc=function(d){var f;f=this.za.Bf.fa(l.Cp);return {inputs:d.Ik.map(function(h){return {drmSessionId:h.sessionId,clientTime:f,challengeBase64:h.dataBase64,xid:d.da.toString()};}),f$a:"standard" === d.rg.toLowerCase()?"license":"ldl"};};c.prototype.$cc=function(d){var f,h;f=this;h=[];return d.Me.map(function(g){h.push(g.id);return {url:f.BEb(g.HJ,g.aZ),echo:"drmSessionId",params:{drmSessionId:g.id,xid:d.da.toString()}};});};c.prototype.BEb=function(d,f){return "/releaseLicense?drmLicenseContextId=" + d + (f?"&licenseId=" + f:"");};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.Eh))],a);b.nOa=a;},function(r,b,a){var m,k,l;function c(d,f){this.Ci=d;this.YD=f;}Object.defineProperty(b,"__esModule",{value:!0});b.pOa=void 0;r=a(0);m=a(1);k=a(31);a=a(32);c.prototype.lkb=function(d){var f,h;f=this;h=d.map(function(g){return g.links.releaseLicense.href;}).map(function(g){return f.Ci.f_(g.substring(g.indexOf("?") + 1));});return {ea:!0,Me:d.map(function(g,n){return {id:g.drmSessionId,HJ:h[n].drmlicensecontextid,aZ:h[n].licenseid};}),$j:d.map(function(g){return {data:f.YD.decode(g.licenseResponseBase64),sessionId:g.drmSessionId};})};};l=c;l=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ci)),r.__param(1,(0,m.l)(a.Di))],l);b.pOa=l;},function(r,b,a){var m,k,l,d,f;function c(h){return l.ss.call(this,h,k.W.rub,d.Mq.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GRa=void 0;r=a(0);m=a(1);k=a(3);l=a(166);d=a(88);a=a(51);ka(c,l.ss);f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.GRa=f;},function(r,b,a){var m,k,l,d,f;function c(h){return l.ss.call(this,h,k.W.uub,d.Mq.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MRa=void 0;r=a(0);m=a(1);k=a(3);l=a(166);d=a(88);a=a(51);ka(c,l.ss);f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.MRa=f;},function(r,b,a){var m,k,l,d,f;function c(h){return l.ss.call(this,h,k.W.Nha,d.Mq.PY,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;r=a(0);m=a(1);k=a(3);l=a(166);d=a(88);a=a(51);ka(c,l.ss);f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.QKa=f;},function(r,b,a){var m,k,l,d,f;function c(h){return l.ss.call(this,h,k.W.TQa,d.Mq.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BRa=void 0;r=a(0);m=a(1);k=a(3);l=a(166);d=a(88);a=a(51);ka(c,l.ss);f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.BRa=f;},function(r,b,a){var m,k,l,d,f;function c(h){return l.ss.call(this,h,k.W.hqb,d.Mq.MO,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qIa=void 0;r=a(0);m=a(1);k=a(3);l=a(166);d=a(88);a=a(51);ka(c,l.ss);c.prototype.cE=function(h){return Object.assign(Object.assign({},l.ss.prototype.cE.call(this,h)),{action:h.action});};f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.qIa=f;},function(r,b,a){var m,k,l,d,f,h,g,n,p;function c(q,t,v,u,w,x,y,z,A){this.gi=q;this.lf=t;this.si=v;this.dMb=u;this.wB=w;this.vec=x;this.l8b=z;this.EI=A;}Object.defineProperty(b,"__esModule",{value:!0});b.fOa=void 0;r=a(0);m=a(1);k=a(172);l=a(80);d=a(544);f=a(541);h=a(82);g=a(71);n=a(354);p=a(110);a=a(90);c=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.W1)),r.__param(1,(0,m.l)(g.Ww)),r.__param(2,(0,m.l)(l.Jz)),r.__param(3,(0,m.l)(f.iOa)),r.__param(4,(0,m.l)(h.Bz)),r.__param(5,(0,m.l)(n.JSa)),r.__param(6,(0,m.l)(p.z2)),r.__param(7,(0,m.l)(d.OOa)),r.__param(8,(0,m.l)(a.uz))],c);b.fOa=c;},function(r,b,a){var m,k,l,d,f;function c(h){return d.ai.call(this,h,k.W.snb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Na=void 0;r=a(0);m=a(1);k=a(3);l=a(66);d=a(73);a=a(51);ka(c,d.ai);c.prototype.Lf=function(h,g,n){var p;p=this;return this.send(h,{url:"/" + l.zg.bind,name:l.zg.bind,um:l.zg.bind},g,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.vn(q);});};c.prototype.cq=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.$Na=f;},function(r,b,a){var m,k,l,d,f;function c(h){return d.ai.call(this,h,k.W.tnb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bOa=void 0;r=a(0);m=a(1);k=a(3);l=a(66);d=a(73);a=a(51);ka(c,d.ai);c.prototype.Lf=function(h,g,n){var p;p=this;return this.send(h,{url:"/bindDevice",name:l.zg.bind,um:l.zg.bind},g,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.vn(q);});};c.prototype.cq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.bOa=f;},function(r,b,a){var m,k,l,d,f;function c(h){return d.ai.call(this,h,k.W.htb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yOa=void 0;r=a(0);m=a(1);k=a(3);l=a(66);d=a(73);a=a(51);ka(c,d.ai);c.prototype.Lf=function(h,g,n){var p;p=this;return this.send(h,{url:"/" + l.zg.ping,name:l.zg.ping,um:l.zg.ping},g,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.vn(q);});};c.prototype.cq=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.yOa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Htb="PboPingCommandSymbol";},function(r,b,a){var m,k,l,d,f;function c(h){return d.ai.call(this,h,k.W.xqb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lOa=void 0;r=a(0);m=a(1);k=a(3);l=a(66);d=a(73);a=a(51);ka(c,d.ai);c.prototype.Lf=function(h,g){var n;n=this;return this.send(h,{url:"/generateScreenshots",name:l.zg.ja,um:"generateScreenshots"},g).then(function(p){return p.result;}).catch(function(p){throw n.vn(p);});};c.prototype.cq=function(h,g,n){var p;p=this;g={url:g.iP("generateScreenshots").href,name:l.zg.ja,um:"generateScreenshots"};return this.send(h,g,n).then(function(q){return q.result;}).catch(function(q){throw p.vn(q);});};f=c;f=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(a.Km))],f);b.lOa=f;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u,w,x;function c(y,z,A,B,C,D,F,G,E,H){this.si=y;this.platform=z;this.config=A;this.xFb=B;this.G4b=C;this.uq=D;this.dW=F;this.za=G;this.oba=E;this.Eo=H;}Object.defineProperty(b,"__esModule",{value:!0});b.xOa=void 0;r=a(0);m=a(1);k=a(102);l=a(12);d=a(491);f=a(489);h=a(572);g=a(96);n=a(48);p=a(30);q=a(5);t=a(170);v=a(80);u=a(356);w=a(26);x=a(57);c.prototype.transform=function(y,z){var A,B,C,D,F,G,E,H;A=this;B=y.fb;C=Object.assign({},B.n7,B.Qn);D={};F=y.L;D[F]={unletterboxed:! !C.preferUnletterboxed};G=this.config();E=G.Fec?30:25;G=G.pu?this.uq.DRb():Promise.resolve(this.oba.Dv());H={de:null === B || void 0 === B?void 0:B.de};return Promise.all([this.Eo.D6a(H),this.Eo.F6a(H),this.Eo.YX(),this.Eo.a$(),this.$Qb(y.da,z),this.FRb(y),G]).then(function(L){var K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa,Ba,Ga;K=na(L);I=K.next().value;R=K.next().value;O=K.next().value;J=K.next().value;M=K.next().value;L=K.next().value;P=K.next().value;K=I.h$().concat(R.h$()).concat(A.config().Ew).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;Ga="postplay" === B.de?!0:! !C.isUIAutoPlay;O={type:"standard",manifestVersion:A.si.C2a?"v2":"v1",viewableId:F,profiles:K,flavor:y.Av,drmType:P,drmVersion:E,usePsshBox:!0,isBranching:! !y.fb.Sh,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().Vbc,imageSubtitleHeight:d.Wja.j6a(),uiVersion:A.si.az,uiPlatform:A.si.gfa,clientVersion:A.platform.version,platform:null === (S=A.config().je) || void 0 === S?void 0:S.version,osVersion:null === (U=null === (T=A.config().je) || void 0 === T?void 0:T.os) || void 0 === U?void 0:U.version,osName:null === (fa=null === (W=A.config().je) || void 0 === W?void 0:W.os) || void 0 === fa?void 0:fa.name,supportsPreReleasePin:A.config().Ar.Pbc,supportsWatermark:A.config().Ar.Qbc,packageId:A.SSb(B),deviceSecurityLevel:J,videoOutputInfo:O,titleSpecificData:D,preferAssistiveAudio:! !C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:Ga,challenge:M,isNonMember:A.si.V8a,pin:B.Adb,desiredVmaf:A.config().vlb?A.config().u1a:A.config().v1a,desiredSegmentVmaf:A.config().vlb?A.config().u1a:A.config().v1a,requestSegmentVmaf:A.config().q8b,supportsPartialHydration:A.si.JO,contentPlaygraph:y.fb.Sh?[]:A.si.xI,auxiliaryManifestToken:y.fb.Sh?void 0:null === (sa=y.Oi) || void 0 === sa?void 0:sa.Ke,originalPlaybackContextId:!y.fb.Sh && (null === (wa=y.Oi) || void 0 === wa?0:wa.Ke)?null === (Ba=y.Oi) || void 0 === Ba?void 0:Ba.mya:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE"};B.Y2a && (O.extraParams=B.Y2a);B.t1a && (O.desiredDownloadables=B.t1a);B.nAa && (O.requestReference=B.nAa);S={zo:L?"licensedManifest":"manifest",bB:null === L || void 0 === L?void 0:L.cc,LV:I,y1:R};L && (L={drmSessionId:L.cc.oB() || "session",clientTime:A.za.NK.fa(q.Cp),challengeBase64:L.Joa},O.challenges={"default":[L]},O.profileGroups=[{name:"default",profiles:K}],O.licenseType=y.rg == x.Fi.yp?"limited":"standard",y.da && (O.xid=y.da.toString()));A.si.JO || (O.showAllSubDubTracks=A.config().Ar.oac || ! !C.showAllSubDubTracks,A.si.u2a && y.Av === k.co.x4 && (O.maxSupportedLanguages=2));y.Zea && (O.originalPlaybackContextId=y.Zea.mya,O.requiredAudioTrackId=y.Zea.u8b,O.requiredTextTrackId=y.Zea.x8b);return [O,S];});};c.prototype.SSb=function(y){if(this.config().fda.enabled){if(void 0 !== y.ep)return y.ep;if(void 0 !== this.config().fda.ep)return Number(this.config().fda.ep);}};c.prototype.$Qb=function(y,z){var A;A=this;return this.xFb.H4a(z).then(function(B){var C;C=y && A.G4b.YSb(y);C && C.kr("cad");return B;});};c.prototype.FRb=function(y){var z;if(void 0 === y.rg || !this.config().pu)return Promise.resolve(void 0);z=y.rg === x.Fi.Rq && this.si.Mx;return y.rg === x.Fi.yp && this.si.AE || z?this.dW.vta(y.rg):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(v.Jz)),r.__param(1,(0,m.l)(n.Qq)),r.__param(2,(0,m.l)(l.Nc)),r.__param(3,(0,m.l)(f.WFa)),r.__param(4,(0,m.l)(h.ija)),r.__param(5,(0,m.l)(g.Fz)),r.__param(6,(0,m.l)(t.j2)),r.__param(7,(0,m.l)(p.Eh)),r.__param(8,(0,m.l)(u.oia)),r.__param(9,(0,m.l)(w.rz))],a);b.xOa=a;},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p,q){this.platform=g;this.config=n;this.dW=p;this.Eo=q;}Object.defineProperty(b,"__esModule",{value:!0});b.POa=void 0;r=a(0);m=a(1);k=a(12);l=a(48);d=a(170);f=a(26);h=a(57);c.prototype.transform=function(g){var n,p,q;n=this;p=g.fb;q={de:void 0};return Promise.all([this.Eo.D6a(q),this.Eo.F6a(q),this.dW.vta(h.Fi.Rq)]).then(function(t){var v,u;v=na(t);t=v.next().value;u=v.next().value;v=v.next().value;return [{viewableId:g.L,packageId:p.ep,assetId:p.Ena,challenge:v.Joa,audioProfiles:t.h$(),textProfiles:n.config().Ew,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u.h$(),audioLanguages:p.wDb,textLanguages:p.lcc,videoLanguages:p.Rlb?[p.Rlb]:void 0,requestReference:p.nAa,additionalAudioAssets:p.gCb,additionalTextAssets:p.kCb},{bB:null === v || void 0 === v?void 0:v.cc,zo:"studioManifest",LV:t,y1:u}];});};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Qq)),r.__param(1,(0,m.l)(k.Nc)),r.__param(2,(0,m.l)(d.j2)),r.__param(3,(0,m.l)(f.rz))],a);b.POa=a;},function(r,b,a){var m,k,l,d,f;function c(h){return d.ai.call(this,h,k.W.fEa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;r=a(0);m=a(1);k=a(3);l=a(66);d=a(73);f=a(51);a(135);ka(c,d.ai);c.prototype.Lf=function(h,g){var n,p,q;n=this;p=g.event;q=this.cE(g);!1;!1;return this.send(h,{url:g.href,name:l.zg.events,um:l.zg.events + "/" + p},q).then(function(){return g;}).catch(function(t){throw n.vn(t);});};c.prototype.cq=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.cE=function(h){return {xid:h.da,event:h.event,adEventToken:h.tA,adBreakLocationMs:h.sA,position:h.position,clientTime:h.MA,sessionStartTime:h.Rn,appId:h.appId,sessionId:h.sessionId,playTimes:this.poa(h.Nt),mainManifestPlaybackContextId:h.NZb};};c.prototype.poa=function(h){return {total:h.total,audio:h.audio.map(function(g){return {duration:g.duration,downloadableId:g.Yb};}),video:h.video.map(function(g){return {duration:g.duration,downloadableId:g.Yb};}),text:h.text.map(function(g){return {duration:g.duration,downloadableId:g.Yb};})};};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(f.Km))],a);b.qEa=a;},function(r,b,a){var m,k,l,d,f;function c(h){return d.ai.call(this,h,k.W.fEa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;r=a(0);m=a(1);k=a(3);l=a(66);d=a(73);f=a(51);a(135);ka(c,d.ai);c.prototype.Lf=function(h,g){var n,p,q;n=this;p=g.event;q=this.cE(g);!1;!1;return this.send(h,{url:g.href,name:l.zg.events,um:l.zg.events + "/" + p},q).then(function(){return g;}).catch(function(t){throw n.vn(t);});};c.prototype.cq=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.cE=function(h){return {xid:h.da,event:h.event,adEventToken:h.tA,adBreakLocationMs:h.sA,position:h.position,clientTime:h.MA,sessionStartTime:h.Rn,appId:h.appId,sessionId:h.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(f.Km))],a);b.mEa=a;},function(r,b,a){var c,m,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(1);c=a(284);m=a(542);k=a(1370);l=a(1371);d=a(1372);f=a(40);b.transports=new r.xd(function(h){h(c.I4).to(d.uSa).ha();h(m.UMa).to(k.TMa);h(m.ERa).to(l.DRa);h(m.vSa).Pe(function(g){return function(n){var p;return g.wb.get(c.I4).mea(null !== (p=null === n || void 0 === n?void 0:n.V0b) && void 0 !== p?p:f.ax.OT)?g.wb.get(m.UMa):g.wb.get(m.ERa);};});});},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p){var q;q=this;this.wF=n;this.profile=p;this.log=g.mb("MslTransport");this.wF().then(function(t){return q.Lba=t;});}Object.defineProperty(b,"__esModule",{value:!0});b.TMa=void 0;r=a(0);m=a(1);k=a(6);l=a(162);d=a(5);a=a(78);f={license:!0};c.prototype.send=function(g,n){var p,q;p=this;q={uxa:Object.assign({lf:g.lf,log:g.log,profile:this.profile},g.bEb),method:g.zo,url:g.url.href,body:JSON.stringify(n),timeout:g.timeout.fa(d.ma),Glb:this.profile,b8b:!f[g.zo],Ubb:! !f[g.zo],em:!0,Jda:g.AAa,headers:g.headers};!1;return this.wF().then(function(t){return t.send(q).catch(function(v){var u;if(!v.error)throw (v.Hc=v.xa || v.Hc,v);u=v.error;u.RF=v.RF;p.log.error("Error sending MSL request",{mslCode:u.VB,subCode:u.Hc,data:u.data,message:u.message});throw u;});});};c.prototype.Dpa=function(){var g;return {userTokens:null === (g=this.Lba) || void 0 === g?void 0:g.EZ.getUserIdTokenKeys()};};h=c;h=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.ub)),r.__param(1,(0,m.l)(l.ET)),r.__param(2,(0,m.l)(a.gM))],h);b.TMa=h;},function(r,b,a){var m,k,l,d;function c(f,h){this.lf=h;this.log=f.mb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.DRa=void 0;r=a(0);m=a(1);k=a(5);l=a(6);a=a(71);c.prototype.send=function(f,h){var g,n;g=this;n={url:f.url.href,uE:"nq-" + f.zo,beb:JSON.stringify(h),O7:f.timeout.fa(k.ma),headers:f.headers,withCredentials:!0,du:"pbo"};!1;return new Promise(function(p,q){g.lf.download(n,function(t){t.ea?p(t):q(t);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.Hc=p.xa || p.Hc,p);q=p.error;q.RF=p.RF;g.log.error("Error sending SSL request",{subCode:q.Hc,data:q.content,message:q.message});throw q;});};c.prototype.Dpa=function(){return {};};d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.ub)),r.__param(1,(0,m.l)(a.Ww))],d);b.DRa=d;},function(r,b,a){var m,k,l,d,f;function c(h){return k.qf.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uSa=void 0;r=a(0);m=a(1);k=a(46);l=a(34);d=a(45);f=a(40);ka(c,k.qf);c.prototype.mea=function(h){var g,n;g=this.jS;n=this.CXa;switch(h){case f.ax.OT:return g;case f.ax.bQa:return g && !n;case f.ax.Hsb:return !1;}};Ua.Object.defineProperties(c.prototype,{jS:{configurable:!0,enumerable:!0,get:function(){return !0;}},CXa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Ad,"usesMsl")],a.prototype,"jS",null);r.__decorate([d.config(d.Ad,"allowRequestsWithoutMsl")],a.prototype,"CXa",null);a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Nm))],a);b.uSa=a;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.jm=void 0;r=a(1);c=a(557);m=a(1374);b.jm=new r.xd(function(k){k(c.dLa).to(m.cLa);});},function(r,b,a){var m,k,l,d,f,h,g,n;function c(p,q,t,v,u){this.II=p;this.Pk=q;this.config=t;this.hQ=v;this.wd=u;}Object.defineProperty(b,"__esModule",{value:!0});b.cLa=void 0;r=a(0);m=a(1);k=a(121);l=a(1375);d=a(1376);f=a(68);h=a(12);g=a(142);a=a(116);c.prototype.create=function(p,q,t){return p?new l.eLa(this.config(),this.Pk,this.wd,q,t,this.II,this.hQ()):new d.XKa(this.config,this.Pk,this.wd,q,t);};n=c;n=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.D2)),r.__param(1,(0,m.l)(f.xu)),r.__param(2,(0,m.l)(h.Nc)),r.__param(3,(0,m.l)(g.zT)),r.__param(4,(0,m.l)(a.iH))],n);b.cLa=n;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q;function c(t,v,u,w,x,y,z){w=g.JS.call(this,w,x) || this;w.config=t;w.Pk=v;w.wd=u;w.II=y;w.pba=z;w.log=(0,k.Ui)(w.j,"LicenseBroker");w.ZY=new Set();w.$wa=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;r=a(0);m=a(3);k=a(8);l=a(338);d=a(5);f=a(1);h=a(576);g=a(577);n=a(57);p=a(16);q=a(49);ka(c,g.JS);c.prototype.lca=function(){var t,v;t=this;v=this.j.ka;this.ZY.has(v.I) || (this.ZY.add(v.I),this.MCb(v).catch(function(){return t.Tfb(v);}).then(function(){return t.WXa(v);}).catch(function(u){return t.VXa(v,u);}).catch(function(u){return t.Sd(u.code,u,u.Ud);}));};c.prototype.MCb=function(t){var v;v=this;return Promise.all([this.wd.C4a(t.I),this.II()]).then(function(u){var w,x;u=na(u);w=u.next().value;x=u.next().value;return w.eea.then(function(y){var z;z=v.pba.mediaKeys;if(z && z !== y.mediaKeys)return (v.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === w.source && (z=v.E5a(t),x.obb(z,y));return y;}).then(function(y){return v.Y6(y,t,w.source);});}).catch(function(u){v.log.warn("eme not in cache",u);throw u;});};c.prototype.Y6=function(t,v,u){this.teb(t,v);v.lI=u;this.pba.hXa(t.mediaKeys);return t.yna();};c.prototype.QPb=function(t){var v;v={};t.forEach(function(u){v[(0,l.$1a)(u.wZ)]=u.time.fa(d.ma);});return v;};c.prototype.teb=function(t,v){var u;u=this;v.bf=t;t.j$b(function(w){u.Sd(w.code,w,w.Ud);});};c.prototype.WXa=function(t){this.log.info("Successfully applied license for xid: " + t.da + ", viewable: " + t.I + ", segment: " + t.V);this.xB(t);this.$wa?this.f9(t.I):this.setMediaKeys(t);};c.prototype.VXa=function(t,v){this.xB(t);throw v;};c.prototype.xB=function(t){t.bf && t.xB(this.QPb(t.bf.qd));};c.prototype.E5a=function(t){var v;v=void 0;t.Ng.value && (v=(0,q.Ssa)(t.Ng.value.streams));return {type:this.S9(!1),initData:t.rw.map(function(u){return (0,k.Ts)(u);}),context:{$:this.Ub.$,Daa:v},ik:{I:t.I,da:t.da,zh:t.zh,dm:t.dm,tj:t.ja.tj}};};c.prototype.Tfb=function(t){var v;v=this;return this.II().then(function(u){var w;w=v.E5a(t);v.ZY.add(t.I);return u.wh(w,v.pba).then(function(x){v.teb(x,t);v.j.fireEvent(p.ia.bZ,{I:t.I});return x.yna();});});};c.prototype.setMediaKeys=function(t){var v;v=this;if(this.$wa)this.log.trace("Media Keys already set");else try{this.Ub.$?(this.$wa=!0,this.Ub.$.setMediaKeys(t.bf.mediaKeys).then(function(){v.f9(t.I);}).catch(function(u){u=v.L6a(u);v.Sd(m.W.cM,u,u.Kf);})):this.f9(t.I);}catch(u){this.Sd(m.W.cM,u,void 0);}};c.prototype.mC=function(){var t,v;t=this;v=this.j.ka.bf;return v?this.II().then(function(u){return u.release(v,t.pba).then(function(w){t.log.trace("Successfully released the license");return w.close();}).catch(function(w){t.log.error("Unable to release the license",w);});}):Promise.resolve();};c.prototype.Sfb=function(t){var v;v=this;t=void 0 === t?this.j:t;return this.Tfb(t).then(function(){return v.WXa(t);}).catch(function(u){return v.VXa(t,u);});};c.prototype.S9=function(t){return this.Pk.sX?n.Fi.yp:t?n.Fi.yp:n.Fi.Rq;};Ua.Object.defineProperties(c.prototype,{xF:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Bn:{configurable:!0,enumerable:!0,get:function(){return this.config.Bn;}}});a=c;r.__decorate([h.Laa],a.prototype,"xF",null);a=r.__decorate([(0,f.Y)()],a);b.eLa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v;function c(u,w,x,y,z){y=p.JS.call(this,y,z) || this;y.config=u;y.Pk=w;y.wd=x;y.log=(0,k.Ui)(y.j,"LegacyLicenseBroker");y.Bn=y.config().Bn;y.config().Beb?(0,d.a9a)()?y.rfa=!0:y.log.error("Promise based eme requested but platform does not support it",{browserua:f.SG}):y.rfa=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;r=a(0);m=a(3);k=a(8);l=a(161);d=a(43);f=a(13);h=a(1);g=a(576);n=a(48);p=a(577);q=a(57);t=a(5);ka(c,p.JS);c.prototype.f0a=function(u){var w;w=void 0 === w?this.j:w;return new this.Mt.JL(u,function(x){return w.P7.cJ(x);},function(x){return w.P7.release(x);},{Mf:!1,Al:!1});};c.prototype.pE=function(u){var w,x,y,z,A,B;w=this;u=void 0 === u?this.j:u;x=a(59).yo;this.Mt.JL || this.Sd(m.W.RL,m.T.Wpb);y=(0,k.Ui)(u,"Eme");z=this.f0a(y);A=k.Ba.get(l.VT);B=A.T7(u.yc.value.streams);A=A.Z7(u.Ng.value.streams);return this.Mt.LL(y,function(C){return u.Ne(C);},{Mf:!1,Al:!1,za:{getTime:x},vm:z,D_:! !this.rfa,$:this.Ub.$,LC:this.config().q2a,onerror:function(C,D,F){return w.Sd(C,D,F);},Kxa:function(){},iK:!0,vDb:B,efc:A,Zva:this.Pk.W6.fa(t.ma)});};c.prototype.setMediaKeys=function(u){var w;w=this;return this.rfa?new Promise(function(x,y){if(w.Ub.$)w.Ub.$.setMediaKeys(u).then(function(){x();}).catch(function(z){var A;A=w.L6a(z);y({ea:!1,code:m.W.cM,Hc:A.xa,Ud:A.Kf,Qb:A.Qb,message:"Set media keys is a failure",cause:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.R2a=function(u){return {code:u.code,subCode:u.Hc,extCode:u.Ud,edgeCode:u.Ho,message:u.message,errorDetails:u.Qb,errorData:u.NI,state:u.state};};c.prototype.vBa=function(u,w,x){var z,A,B;function y(){A.tK().catch(function(C){z.log.error("Unable to set the license",z.R2a(C));C.cause && C.cause.Qb && (C.Qb=C.Qb?C.Qb + C.cause.Qb:C.cause.Qb);z.Sd(C.code,C,C.Ud);});}z=this;x=void 0 === x?this.j:x;A=x.bf;this.log.info("Setting the license");B=w?function(){return Promise.resolve();}:function(){return A.wh(z.S9(!1),u);};return (w?function(){return A.Y6(z.Ub.$);}:function(){return A.create(z.Bn).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.f9(x.I);z.Ub.jmb.then(function(){z.config().lF && (w || z.config().sX) && (z.Nfb=nb.setTimeout(y,z.config().lF));});}).catch(function(C){z.log.error("Unable to set the license",z.R2a(C));C.cause && C.cause.Qb && (C.Qb=C.Qb?C.Qb + C.cause.Qb:C.cause.Qb);if(w)throw Error(C && C.message?C.message:"failed to set license");z.Sd(C.code,C,C.Ud);});};c.prototype.mC=function(){return Promise.resolve();};c.prototype.lca=function(){var w;function u(){var x;w.j.bf=w.pE();x=[];w.j.rw.forEach(function(y){x.push((0,k.Ts)(y));});w.vBa(x);}w=this;this.ZY || (this.ZY=!0,this.Mt.LL?this.j.rw?this.config().ZW && this.config().Pt?this.wd.C4a(this.j.I).then(function(x){w.j.bf=x;return x.VDa.then(function(){var y;y=[];w.j.rw.forEach(function(z){y.push((0,k.Ts)(z));});return w.vBa(y,!0).then(function(){var z;if(x.vmc)w.Sd(m.W.$pb);else {z=(0,k.Ui)(w.j,"Eme");x.blb({log:z,ap:function(A){return w.j.Ne(A);}},{vm:w.f0a(z),onerror:function(A,B,C){return w.Sd(A,B,C);}});w.j.xB(x.qd || ({}));w.j.lI="videopreparer";}});});}).catch(function(x){w.log.warn("eme not in cache",x);u();}):u():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Sd(m.W.ttb)):this.Sd(m.W.RL,m.T.Xpb));};c.prototype.Sfb=function(u){var w;u=void 0 === u?this.j:u;u.bf=this.pE();w=[];u.rw.forEach(function(x){w.push((0,k.Ts)(x));});return this.vBa(w,!1,u);};c.prototype.S9=function(u){return this.config().sX?q.Fi.yp:u?q.Fi.yp:q.Fi.Rq;};Ua.Object.defineProperties(c.prototype,{Mt:{configurable:!0,enumerable:!0,get:function(){return k.Ba.get(n.h4);}},xF:{configurable:!0,enumerable:!0,get:function(){return this.rfa?"encrypted":this.Ub.gIa + "needkey";}}});v=c;r.__decorate([g.Laa],v.prototype,"Mt",null);r.__decorate([g.Laa],v.prototype,"xF",null);v=r.__decorate([(0,h.Y)()],v);b.XKa=v;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w;Object.defineProperty(b,"__esModule",{value:!0});b.Ah=void 0;r=a(1);c=a(308);m=a(1378);k=a(309);l=a(1383);d=a(117);f=a(1385);h=a(1386);g=a(164);n=a(578);p=a(1387);q=a(579);t=a(1389);v=a(82);u=a(580);w=a(1390);b.Ah=new r.xd(function(x){x(c.oja).to(m.NPa).ha();x(k.qja).to(l.ZPa).ha();x(d.eM).to(f.LPa).ha();x(g.YG).to(h.IPa).ha();x(n.TPa).to(p.SPa).ha();x(q.XPa).Pe(function(y){var z;z=y.wb;return function(A){return new t.YPa(A,z.get(v.Bz),z.get(g.YG));};});x(u.aLa).Pe(function(y){var z;z=y.wb;return function(A,B,C){return new w.bLa(A,B,C,z.get(g.YG),z.get(d.eM));};});});},function(r,b,a){var m,k,l,d,f,h,g,n,p;function c(q,t,v,u,w,x,y){this.tg=q;this.ira=t;this.zj=v;this.aDa=u;this.T4b=w;this.V4b=x;this.U4b=y;}Object.defineProperty(b,"__esModule",{value:!0});b.NPa=void 0;r=a(0);m=a(1);k=a(1379);l=a(6);d=a(164);f=a(357);h=a(578);g=a(450);n=a(579);a=a(309);c.prototype.create=function(q){return new k.OPa(q,this.tg,this.ira,this.zj,this.aDa,this.T4b,this.V4b,this.U4b);};p=c;p=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.ub)),r.__param(1,(0,m.l)(f.cT)),r.__param(2,(0,m.l)(d.YG)),r.__param(3,(0,m.l)(g.tSa)),r.__param(4,(0,m.l)(h.TPa)),r.__param(5,(0,m.l)(n.XPa)),r.__param(6,(0,m.l)(a.qja))],p);b.NPa=p;},function(r,b,a){var m,k,l;function c(d,f,h,g,n,p,q,t){this.aDa=n;this.RDa=t;this.qX=!1;g.qfa && (d=new l.PPa().Zcc(d));this.tb=q(d);this.il=new k.$Pa(this.tb);this.il.rhb(this.tb.ka.L);this.log=f.mb("PlaygraphManager");this.Lb=h.create();this.jw=p.create(this.tb,this.il,this.log,this.Lb);this.T$b();}Object.defineProperty(b,"__esModule",{value:!0});b.OPa=void 0;m=a(16);k=a(1380);l=a(1382);c.prototype.aTb=function(){return this.tb.Tca;};c.prototype.ysa=function(){return this.tb.ka;};c.prototype.Q4a=function(){return this.tb.Mh;};c.prototype.kJ=function(){return this.tb.Ll;};c.prototype.fj=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.tb.fj.apply(this.tb,ia(f));};c.prototype.wGb=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.tb.hYa(f);};c.prototype.Iw=function(d){this.tb.Ll=d;};c.prototype.Gj=function(d,f){this.tb.Gj(d,f);};c.prototype.Pta=function(d,f,h,g){var n,p;h=void 0 === h?{}:h;g=void 0 === g?!0:g;if(d !== this.tb.Mh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.kJ().M[d].next) && void 0 !== n?n:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.Xhb();null === (p=h.Qn) || void 0 === p?void 0:p.isUIAutoPlay;return this.jw.Qta(f,h,g);};c.prototype.isReady=function(){return this.jw.isReady();};c.prototype.addListener=function(d,f,h){this.Lb.addListener(d,f,h);};c.prototype.removeListener=function(d,f){this.Lb.removeListener(d,f);};c.prototype.Lo=function(){return this.jw.Lo();};c.prototype.Gb=function(){return this.jw.iJ();};c.prototype.UJb=function(d,f,h){var g;d=void 0 === d?this.kJ().Cd:d;f=void 0 === f?{}:f;g=this.RDa.v0a(this);this.x5b(null !== d && void 0 !== d?d:this.kJ().Cd,f,h);return g;};c.prototype.dCb=function(d){var f;this.log.info("Adding segment - movieId: " + d.I + ", startPts: " + d.ba + ", logicalEnd: " + d.bk);f=Object.assign({},d.Eb,d.ba?{ba:d.ba}:{},d.bk?{bk:d.bk}:{});this.Sib(d.I,f,d.ja);d=this.jw.sXa(d);this.Xhb();return d;};c.prototype.transition=function(d){var f;f=this.tb.VX(this.tb.Mh);return f?this.Pta(this.tb.Mh,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.jw.close(d);};c.prototype.x5b=function(d,f,h){var g;void 0 === d && (d=null === (g=this.kJ()) || void 0 === g?void 0:g.Cd);(f || h) && this.Sib(this.kJ().M[d].L,null !== f && void 0 !== f?f:{},h);this.jw.oK(d);};c.prototype.Sib=function(d,f,h){h && this.il.AN(d,h);this.il.SBb(d,f);};c.prototype.T$b=function(){var d;d=this;this.tb.Cbc(function(){d.il.yy();d.jw.yy();});this.tb.Dbc(function(f){d.jw.dya(f);});this.tb.Bbc(function(f){d.jw.$J(f);});this.addListener(m.ZG.m0,function(){return d.X2b();});this.addListener(m.Ja.v8a,function(f){return d.L2b(f);});};c.prototype.Xhb=function(){var d;d=this;this.qX || (this.Gb().cna(m.ia.IK,function(f){return d.AF(f);}),this.qX=!0);};c.prototype.L2b=function(d){var f;f=this;this.jw.zkb(d).catch(function(){return f.Lb.Rc(m.Ja.error,d.e1());});};c.prototype.X2b=function(){var d;d=this.Gb().getError();d?this.Lb.Rc(m.Ja.SN,d):(this.Lb.Rc(m.Ja.m7),this.Lb.Rc(m.Ja.Zm),this.Lb.Rc(m.Ja.Fw),this.Lb.Rc(m.Ja.Bm),this.Lb.Rc(m.Ja.g1),this.Lb.Rc(m.Ja.SN));};c.prototype.AF=function(d){var f,h,g;!1;f=d.metrics;if(f){h=this.Gb();g=h.Wj(d.position.segmentId);f=h.Wj(f.srcsegment);this.aDa.i6b(d,g,f,! !h.d6a().Sh);}};b.OPa=c;},function(r,b,a){var m;function c(k){this.Z=k;this.rS={};this.yy();}Object.defineProperty(b,"__esModule",{value:!0});b.$Pa=void 0;m=a(1381);c.prototype.yy=function(){var k;k=this;Object.values(this.Z.Ll.M).forEach(function(l){l=l.L;k.rS[l] || k.n8a(l);});this.ifa();};c.prototype.uP=function(k){return this.rS[k];};c.prototype.l$b=function(k){this.XX(k).state=m.Pz.LIa;this.ifa();};c.prototype.k$b=function(k,l){k=this.XX(k);k.state=m.Pz.Error;k.error=l;k.mgb(!1);this.ifa();};c.prototype.rhb=function(k){k=this.XX(k);k.state=m.Pz.Mpb;k.mgb(!0);this.ifa();};c.prototype.SBb=function(k,l){this.XX(k).Eb=l;};c.prototype.AN=function(k,l){this.XX(k).ja=l;};c.prototype.XX=function(k){var l;return null !== (l=this.uP(k)) && void 0 !== l?l:this.n8a(k);};c.prototype.n8a=function(k){var l,d;l=void 0;d=new Promise(function(f,h){l=function(g){(g?f:h)();};});return this.rS[k]={state:m.Pz.hNa,N6b:d,mgb:l};};c.prototype.ifa=function(){var l;for(var k=this.Z.Mh;k=this.Z.VX(k);){l=this.Po(k);if(this.rS[l].state === m.Pz.Error)break;if(this.rS[l].state === m.Pz.LIa)break;if(this.rS[l].state === m.Pz.hNa)break;}};c.prototype.Po=function(k){return this.Z.Ll.M[k].L;};b.$Pa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pz=void 0;r=b.Pz || (b.Pz={});r[r.hNa=0]="None";r[r.LIa=1]="Fetching";r[r.Mpb=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.PPa=void 0;m=a(39);c.prototype.Zcc=function(k){var l;if(!this.NXb(k.M))return k;l=new m.ex().QK(k.Cd);Object.entries(k.M).forEach(function(d){var f;f=na(d);d=f.next().value;f=f.next().value;d === k.Cd?l.hg(d,Object.assign(Object.assign({},f),{next:void 0,sa:void 0,Kb:void 0})):l.hg(d,f);});return l.Qi();};c.prototype.NXb=function(k){k=Object.values(k).map(function(l){return l.L;});return 1 === new Set(k).size;};b.PPa=c;},function(r,b,a){var m,k,l,d;function c(f,h){this.Da=f;this.LYb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.ZPa=void 0;r=a(0);m=a(1);k=a(19);l=a(580);c.prototype.create=function(f){return new (a(310).M4)(this.Da.Tb(),f);};c.prototype.v0a=function(f){return new (a(1384).USa)(this.Da.Tb(),f,this.LYb);};d=c;d=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.cd)),r.__param(1,(0,m.l)(l.aLa))],d);b.ZPa=d;},function(r,b,a){var m;function c(k,l,d){var f;f=m.M4.call(this,k,l) || this;f.seek=function(h){return f.Gb().seek(h);};f.addEpisode=function(h){return f.Yva.CBb(h);};f.playNextEpisode=function(h){h=void 0 === h?{}:h;return f.Yva.D4b(h);};f.watchCredits=function(h){return f.Yva.wfc(h);};f.playSegment=function(h){return f.Gb().Idb(h);};f.queueSegment=function(h){return f.Gb().Neb(h);};f.updateNextSegmentWeights=function(h,g){return f.Gb().Gj(h,g);};f.setNextSegment=function(h){for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}g=g.map(function(p){return {V:p.segmentId,wQ:p.nextSegmentId};});f.Ah.fj.apply(f.Ah,ia(g));};f.clearNextSegment=function(h){for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}return f.Ah.wGb.apply(f.Ah,ia(g));};f.goToNextSegment=function(h,g){return f.Ah.Pta(h,g);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return ! !f.Gb().dY().visibility;};f.setTimedTextVisibility=function(h){return f.setTimedTextVisible(h);};f.setTimedTextSize=function(h){return f.Gb().CR({size:h});};f.setTimedTextBounds=function(h){return f.Gb().CR({bounds:h});};f.setTimedTextMargins=function(h){return f.Gb().CR({margins:h});};f.setTimedTextVisible=function(h){return f.Gb().CR({visibility:h});};f.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};f.Yva=d(k,l,f.log);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.USa=void 0;m=a(310);ka(c,m.M4);b.USa=c;},function(r,b,a){var m,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LPa=void 0;r=a(0);m=a(117);k=a(1);l=a(39);c.prototype.QJb=function(d){var g,n,p;for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}g=this;if(0 === f.length)throw Error("Empty playgraph");n=new l.ex().QK(this.mt(f[0]));f.reverse().forEach(function(q){var t;t=g.mt(q);n.hg(t,Object.assign({L:q,qa:0,sa:Infinity},p?{Kb:p}:{}));p=t;});return n.Qi();};c.prototype.mt=function(d,f){f=void 0 === f?m.$G.dia:f;return d + ":" + f;};c.prototype.KCb=function(d,f){var h,g,n,p;if(void 0 === n)n=null !== (h=f.id) && void 0 !== h?h:this.mt(f.I);h=this.A5a(d);p=new l.ex(d);p.hg(n,{L:f.I,qa:null !== (g=f.ba) && void 0 !== g?g:0,sa:Infinity});d=d.M[h];f={};p.hg(h,Object.assign({},d,{Kb:n,next:Object.assign({},d.next || ({}),(f[n]={},f))}));return p.Qi();};c.prototype.A5a=function(d){for(var f=d.Cd,h=f;h=d.M[h].Kb;){f=h;}return f;};a=c;a=r.__decorate([(0,k.Y)()],a);b.LPa=a;},function(r,b,a){var m,k,l,d,f;function c(h){return k.qf.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IPa=void 0;r=a(0);m=a(1);k=a(46);l=a(34);d=a(45);f=a(5);ka(c,k.qf);Ua.Object.defineProperties(c.prototype,{D5b:{configurable:!0,enumerable:!0,get:function(){return 2;}},C5b:{configurable:!0,enumerable:!0,get:function(){return (0,f.Iba)(3);}},LDa:{configurable:!0,enumerable:!0,get:function(){return !1;}},qfa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Clb:{configurable:!0,enumerable:!0,get:function(){return !1;}},M3a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Wca:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.HC,"prepareSegmentsUpfront")],a.prototype,"D5b",null);r.__decorate([d.config(d.Fl,"prepareSegmentsDuration")],a.prototype,"C5b",null);r.__decorate([d.config(d.Ad,"usePlaygraphForPostPlay")],a.prototype,"LDa",null);r.__decorate([d.config(d.Ad,"usePlaygraphForSkipSegment")],a.prototype,"qfa",null);r.__decorate([d.config(d.Ad,"useSinglePlayerPlayback")],a.prototype,"Clb",null);r.__decorate([d.config(d.Ad,"forcePlaygraphTrace")],a.prototype,"M3a",null);r.__decorate([d.config(d.Ad,"postPlayDefaultNextEpisode")],a.prototype,"Wca",null);a=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(l.Nm))],a);b.IPa=a;},function(r,b,a){var m,k,l,d,f,h,g,n,p,q;function c(t,v,u,w,x,y,z){this.Da=t;this.y9b=u;this.zj=x;this.Kn=z;this.w9b=v.ZI(!1,"6.0037.632.911",t.id,y,w);}Object.defineProperty(b,"__esModule",{value:!0});b.SPa=void 0;r=a(0);m=a(1);k=a(19);l=a(164);d=a(1388);f=a(362);h=a(222);g=a(12);n=a(581);p=a(38);a=a(117);c.prototype.create=function(t,v,u,w){var x,y;x=this.y9b.HJb(t,this.w9b,v);y=t.MDa;u.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.zRa(this.zj,t,v,u,x,w,this.Kn):new n.QG(t,v,x,w,this.Kn);};q=c;q=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(k.cd)),r.__param(1,(0,m.l)(f.jRa)),r.__param(2,(0,m.l)(h.Lja)),r.__param(3,(0,m.l)(g.Nc)),r.__param(4,(0,m.l)(l.YG)),r.__param(5,(0,m.l)(p.g4)),r.__param(6,(0,m.l)(a.eM))],q);b.SPa=q;},function(r,b,a){var m,k,l,d,f;function c(h,g,n,p,q,t,v){var u;u=d.QG.call(this,g,n,q,t,v) || this;u.zj=h;u.Ca=p;u.qX=!1;u.$qa=new Map();u.O2b=function(){u.iJ().cna(k.ia.IK,function(w){u.Lb.Rc(k.ZG.m0);u.tb.Mh=w.position.segmentId;});};u.mWb();t.addListener(k.Ja.loaded,u.O2b);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.zRa=void 0;m=a(39);k=a(16);l=a(3);d=a(581);f=a(117);ka(c,d.QG);c.prototype.sXa=function(h){var g,n,p,q,t,v,u,w,x,y,z;g=this;p=this.tb.Ll;q=this.Kn.mt(h.I,"ident");t=this.Kn.mt(h.I,"main");v=this.Kn.mt(h.I,"credits");u=isFinite(h.bk);w=isFinite(h.ba) && h.I !== p.M[p.Cd].L;x={};y=new m.ex(p).hg(t,Object.assign({L:h.I,qa:w && h.ba || 0,sa:null !== (n=h.bk) && void 0 !== n?n:Infinity},u?{next:(x[v]={},x),Kb:v}:{}));w && (n={},y.hg(q,{L:h.I,qa:0,sa:h.ba,next:(n[t]={},n),Kb:t}));u && y.hg(v,{L:h.I,qa:h.bk,sa:Infinity});if(!this.tb.Sy(t)){h=p.M[this.Kn.A5a(p)].L;z=this.Kn.mt(h,f.$G.gGa);[this.Kn.mt(h,f.$G.dia),z].filter(function(A){return g.tb.Sy(A);}).forEach(function(A){var B,C,D;B=g.tb.ze(A);C=A === z || g.zj.Wca;D={};y.hg(A,Object.assign({},B,{next:Object.assign({},B.next,(D[t]={},D))},C?{Kb:t}:{}));});}this.tb.Ll=y.Qi();return this.oK(t);};c.prototype.yy=function(){this.isReady() && this.iJ().yy();};c.prototype.dya=function(){};c.prototype.$J=function(h){this.iJ().$J(h);};c.prototype.Qta=function(h,g,n){g=void 0 === g?{}:g;this.Ca.debug("goToSegment " + h);return this.iJ().jY(h,g,n);};c.prototype.oK=function(h){if(h === this.v9b)return null;this.v9b=h;return this.qX?this.il.uP(this.tb.ze(h).L).N6b:(this.qX=!0,d.QG.prototype.oK.call(this,h));};c.prototype.zkb=function(h){return h.errorCode && this.$qa.has(h.errorCode)?this.$qa.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};c.prototype.mWb=function(){var h;h=this;this.$qa.set(l.W.PNa,function(){var g,n;return null !== (n=null === (g=d.QG.prototype.oK.call(h,h.tb.Mh)) || void 0 === g?void 0:g.then(function(){var p,q;d.QG.prototype.Qta.call(h,h.tb.Mh,null !== (q=null === (p=h.il.uP(h.tb.ka.L)) || void 0 === p?void 0:p.Eb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.zRa=c;},function(r,b,a){var m,k;function c(l,d,f){this.wB=d;this.zj=f;this.S5={};this.Ukb=[];this.mib=[];this.Lbb=[];this.Cna=new WeakMap();this.reset(l);}Object.defineProperty(b,"__esModule",{value:!0});b.YPa=void 0;m=a(39);k=a(39);c.prototype.reset=function(l){var d;d=1 < Object.keys(l.M).length && 1 === new Set(Object.values(l.M).map(function(f){return f.L;})).size;this.RAb=this.zj.Clb || d;this.Ihb(l);this.Mh=l.Cd;this.szb=this.wB.TA();this.ZBa=new Map();};c.prototype.b$=function(l){if(this.MDa)return this.Ll;this.Cna.has(l) || this.Cna.set(l,(0,m.WF)(l.I,l.V));return this.Cna.get(l);};c.prototype.Ihb=function(l){this.tzb=l;this.S5={};l=Object.keys(l.M);this.hYa(l);this.J1b();};c.prototype.fj=function(l){var h;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}h=this;d.filter(function(g){return h.Sy(g.V);}).filter(function(g){g=g.wQ;return !g || h.Sy(g);}).forEach(function(g){var n;n=g.V;h.S5[n]=h.kcb(g.wQ);h.A1b(n);});};c.prototype.hYa=function(l){var d;d=this;l.filter(function(f){return d.Sy(f);}).forEach(function(f){d.S5[f]=d.kcb(d.ze(f).Kb);});};c.prototype.Gj=function(l,d){var f,h,g;f=this.ze(l);if(f && f.next){h=new k.ex(this.Ll);g=Object.keys(f.next).reduce(function(n,p){n[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return n;},{});g=Object.assign({},f,{next:g});h.hg(l,g);this.Ll=h.Qi();}};c.prototype.Sy=function(l,d){d=void 0 === d?this.Ll.M:d;return (l in d);};c.prototype.VX=function(l){return this.S5[l];};c.prototype.ze=function(l){return this.Ll.M[l];};c.prototype.FTb=function(l){if(this.ZBa.has(l))return this.ZBa.get(l);l=this.ze(l);return isFinite(l.sa)?l.sa:void 0;};c.prototype.fec=function(l,d){this.ZBa.set(l,d);this.F1b(l);};c.prototype.Cbc=function(l){this.Ukb.push(l);};c.prototype.Dbc=function(l){this.mib.push(l);};c.prototype.Bbc=function(l){this.Lbb.push(l);};c.prototype.J1b=function(){var l;l=this;this.Ukb.forEach(function(d){return d(l.Ll);});};c.prototype.A1b=function(l){this.Lbb.forEach(function(d){return d(l);});};c.prototype.F1b=function(l){this.mib.forEach(function(d){return d(l);});};c.prototype.kcb=function(l){return null === l?void 0:l;};Ua.Object.defineProperties(c.prototype,{Tca:{configurable:!0,enumerable:!0,get:function(){return this.szb;}},MDa:{configurable:!0,enumerable:!0,get:function(){return this.RAb;}},Ll:{configurable:!0,enumerable:!0,get:function(){return this.tzb;},set:function(l){if(this.Mh && !this.Sy(this.Mh,l.M))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Mh);this.Ihb(l);}},Mh:{configurable:!0,enumerable:!0,get:function(){return this.mwb;},set:function(l){if(!this.Sy(l))throw Error("Provided currentSegmentId " + l + " does not exist in the current playgraph");this.mwb=l;}},ka:{configurable:!0,enumerable:!0,get:function(){return this.ze(this.Mh);}}});b.YPa=c;},function(r,b,a){var m,k;function c(l,d,f,h,g){this.yj=l;this.Ah=d;this.log=f;this.zj=h;this.Kn=g;this.Kca=new m.jja();}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;m=a(582);k=a(117);c.prototype.CBb=function(l){var d,f,h,g,n,p,q;this.log.info("Next episode added",l);p=this.Kca.Ewa(l.playbackParams);q=Math.max(0,null !== (h=null !== (f=null !== (d=l.startPts) && void 0 !== d?d:l.nextStartPts) && void 0 !== f?f:p.ba) && void 0 !== h?h:0);d=null !== (n=null !== (g=l.endPts) && void 0 !== g?g:l.currentEndPts) && void 0 !== n?n:p.bk;return this.Ah.dCb({I:l.movieId,ba:q,bk:d,Eb:p,ja:l.manifest,yj:this.yj});};c.prototype.D4b=function(l){var d,f,h,g,n,p;l=this.Kca.Ewa(l);this.log.info("Playing the next episode",l);h=this.Ah.Q4a();g=this.Ah.kJ();n=g.M[h];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.L !== g.M[q].L;});d=!this.zj.Wca || !(null === (f=l.Qn) || void 0 === f?0:f.isUIAutoPlay);return p?this.Ah.Pta(h,p,l,d):Promise.reject(Error("Next episode not found"));};c.prototype.wfc=function(l){var d,f;d=this.Kn.mt(l,k.$G.dia);l=this.Kn.mt(l,k.$G.gGa);f=this.Ah.tb;this.zj.Wca && f.Mh !== l && f.Sy(l) && f.VX(d) !== l && this.Ah.fj({V:d,wQ:l});};b.bLa=c;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.kYa=void 0;r=a(1);c=a(1392);m=a(36);b.kYa=new r.xd(function(k){k(m.hj).to(c.jFa).ha();});},function(r,b,a){var m,k,l,d,f,h,g,n,p,q,t,v,u;function c(w,x,y,z,A,B){var C;C=this;this.Sl=w;this.config=y;this.St=z;this.debug=A;this.Da=B;this.akb=[];this.qd={};this.log=x.mb("loadAsync");this.UZb=(0,t.SIa)(function(D){C.y7b=!0;C.startTime=C.Da.Tb().fa(p.ma);C.load(C.akb).then(function(){C.endTime=C.Da.Tb().fa(p.ma);D(u.Pg);}).catch(function(F){C.endTime=C.Da.Tb().fa(p.ma);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;r=a(0);m=a(81);k=a(3);l=a(1393);d=a(60);f=a(1);h=a(6);g=a(12);n=a(69);p=a(5);q=a(109);t=a(583);v=a(19);u=a(17);c.prototype.cZ=function(w){this.UZb(w);};c.prototype.register=function(w,x){this.debug.assert(!this.y7b);this.akb.push({nZb:this.jFb(x),errorCode:w});};c.prototype.Ne=function(w){this.debug.assert(void 0 === this.qd[w]);this.qd[w]=this.Da.Tb().fa(p.ma);};c.prototype.load=function(w){var x;x=this;return (0,l.qeb)(w).then(function(y){x.Sl.mark(d.wp.vk.Vmb);return y.reduce(function(z,A){return z.then(function(){return x.kZb(A);});},Promise.resolve()).then(function(){x.Sl.mark(d.wp.vk.Tmb);});});};c.prototype.kZb=function(w){var x,y;x=this;y=w.nZb;!1;return this.St.Yt((0,p.qc)(this.config().jDb),y()).catch(function(z){x.log.error("Failed to load component " + w.errorCode,z);x.Sl.mark(d.wp.vk.Umb);if(z instanceof n.Ds)throw {xa:k.T.Smb,errorCode:w.errorCode};z.errorCode=z.errorCode || w.errorCode;z.xa=z.xa || k.T.Rmb;throw z;});};c.prototype.jFb=function(w){return function(){return new Promise(function(x,y){w(function(z){z.ea?x():y(z);});});};};a=c;a=r.__decorate([(0,f.Y)(),r.__param(0,(0,f.l)(m.nM)),r.__param(1,(0,f.l)(h.ub)),r.__param(2,(0,f.l)(g.Nc)),r.__param(3,(0,f.l)(n.aH)),r.__param(4,(0,f.l)(q.pz)),r.__param(5,(0,f.l)(v.cd))],a);b.jFa=a;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});b.qeb=void 0;c=a(3);m=[c.W.frb,c.W.iKa,c.W.jKa,c.W.nKa,c.W.fKa,c.W.dKa,c.W.Eha,c.W.jrb,c.W.gKa,c.W.eKa,c.W.dD,c.W.aKa,c.W.cKa,c.W.kKa,c.W.lKa,c.W.mKa,c.W.hKa,c.W.bKa];(function(l){l.Fsb=function(d){var g;for(var f={},h=0;h < d.length;h++){g=d[h];if(f[g.errorCode])return {errorCode:g.errorCode,xa:c.T.Pmb};f[g.errorCode]=1;}};l.Gsb=function(d){var h;for(var f=0;f < d.length;f++){h=d[f];if(-1 === m.indexOf(h.errorCode))return {errorCode:h.errorCode,xa:c.T.Qmb};}};})(k || (k={}));b.qeb=function(l){return new Promise(function(d,f){var h;h=k.Gsb(l);h && f(h);(h=k.Fsb(l)) && f(h);d(l.sort(function(g,n){return m.indexOf(g.errorCode) - m.indexOf(n.errorCode);}));});};},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.ja=void 0;r=a(1);c=a(1395);m=a(115);b.ja=new r.xd(function(k){k(m.NG).to(c.XLa).ha();});},function(r,b,a){var m,k,l,d,f,h,g,n,p,q;function c(t,v,u,w,x,y){this.Eg=v;this.U$a=w;this.kZ=y;this.P_=new Map();this.log=t.mb("ManifestFetcher");this.Vg=u.Vg;this.LEb=x().pNb;}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;r=a(0);m=a(1);k=a(19);l=a(37);d=a(6);f=a(5);h=a(12);g=a(102);n=a(59);p=a(295);a=a(134);c.prototype.eJ=function(t,v,u){var w;w=this;v=void 0 === v?!0:v;u && this.WBb(t.L,u);return v && this.t$(t.L)?this.E9(t.L).catch(function(){return w.Vfb(t,v);}):this.Vfb(t,v);};c.prototype.t$=function(t){return this.Vg.nY(t,"manifest");};c.prototype.J0=function(t,v){var u;u=this;this.LEb && this.Vg.setData(t,"manifest",v,function(){return u.AUb(t,v?Promise.resolve(v):void 0);});};c.prototype.E9=function(t){var v;v=this;return this.Vg.getData(t,"manifest").then(function(u){if(!u)throw Error("Manifest not found");if(u.ab.expiration <= (0,n.J7)())throw (v.Vg.clearData(t,"manifest"),Error("Manifest has expired"));return u;});};c.prototype.AUb=function(t,v){var u;null === (u=this.P_.get(t)) || void 0 === u?void 0:u.forEach(function(w){return w(v);});this.P_.delete(t);};c.prototype.WBb=function(t,v){this.P_.has(t) || this.P_.set(t,[]);this.P_.get(t).push(v);};c.prototype.Vfb=function(t,v){var u,w,x;u=this;this.log.trace("Requesting a new manifest",t.L);w=this.Eg.Tb().fa(f.ma);x=(t.Oi?this.sdc(t).catch(function(y){u.log.warn(y.message);return u.U$a.Lf(u.log,t);}):this.U$a.Lf(this.log,t)).then(function(y){var z,A;if(y.bB){z=y.bB;A={eea:Promise.resolve(z),source:"manifest"};delete y.bB;u.Vg.setData(t.L,"ldl",A,function(){z.close().catch(function(B){u.log.info("Unable to cleanup LDL session.",B);});});}t.Av === g.co.VG && (y.zK=w,y.kR=u.Eg.Tb().fa(f.ma));return y;}).catch(function(y){v && u.J0(t.L,void 0);u.log.error("Failed to fetch manifest",l.gd.cf(y));throw y;});v && this.J0(t.L,x);return x;};c.prototype.sdc=function(t){var v;v=this;return new Promise(function(u,w){var x,y,z,A,B;v.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",t.L);A=null === (x=t.Oi) || void 0 === x?void 0:x.e_;if(!A)return w(Error("Parent manifest does not exist."));B=null === (y=t.Oi) || void 0 === y?void 0:y.Ke;x=null === (z=A.$u) || void 0 === z?void 0:z.find(function(C){return C.I === t.L && (void 0 === B || C.Ke === B);});if(!x)return w(Error("Auxiliary manifest not found in parent manifest."));u(v.kZ.create(x));});};q=c;q=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(d.ub)),r.__param(1,(0,m.l)(k.cd)),r.__param(2,(0,m.l)(p.Fga)),r.__param(3,(0,m.l)(g.Uia)),r.__param(4,(0,m.l)(h.Nc)),r.__param(5,(0,m.l)(a.VL))],q);b.XLa=q;},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.MXa=void 0;c=a(1397);m=a(172);r=a(1);k=a(78);l=a(12);b.MXa=new r.xd(function(d){d(m.W1).to(c.HEa).ha();});b.profile=new r.xd(function(d){d(k.gM).gG(function(f){return (f=f.wb.get(l.Nc)()) && f.gB?"browsertest":"browser";});});},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p,q){g=d.qf.call(this,g,void 0 === q?"AppInfoConfigImpl":q) || this;g.config=n;g.bfa=p;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;r=a(0);m=a(1);k=a(40);l=a(45);d=a(46);f=a(34);a=a(284);ka(c,d.qf);c.prototype.MSb=function(g){return "" + this.I2a + (this.bfa.mea(g)?"/msl_v1":"");};c.prototype.WSb=function(g){return "" + this.host + (this.bfa.mea(g)?"/msl":"") + "/playapi";};Ua.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},I2a:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var g;switch(this.config.PO){case k.xz.Dub:g="www.stage";break;case k.xz.dSa:g="www-qa.test";break;case k.xz.IKa:g="www-int.test";break;default:g="www";}return "https://" + g + ".netflix.com";}},JYa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});h=c;r.__decorate([l.config(l.string,"apiEndpoint")],h.prototype,"endpoint",null);r.__decorate([l.config(l.string,"nqEndpoint")],h.prototype,"I2a",null);r.__decorate([l.config(l.string,"bindService")],h.prototype,"JYa",null);h=r.__decorate([(0,m.Y)(),r.__param(0,(0,m.l)(f.Nm)),r.__param(1,(0,m.l)(k.xp)),r.__param(2,(0,m.l)(a.I4)),r.__param(3,(0,m.l)(f.k2)),r.__param(3,(0,m.optional)())],h);b.HEa=h;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.Mec=b.Lub=b.Jub=b.Iub=b.Kub=void 0;c=a(15);m=a(13);b.Kub=function(k,l,d){for(d=(d - k.length) / l.length;0 < d--;){k+=l;}return k;};b.Iub=function(k,l,d){d=(0,c.qg)(d)?d:"...";return k.length <= l?k:k.substr(0,k.length - (k.length + d.length - l)) + d;};b.Jub=function(k,l){var f;for(var d=1;d < arguments.length;++d){;}f=m.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(h,g){return "undefined" != typeof f[g]?f[g]:h;});};b.Lub=function(k){for(var l=k.length,d=new Uint16Array(l),f=0;f < l;f++){d[f]=k.charCodeAt(f);}return d.buffer;};b.Mec=function(k){var l;l=new Uint8Array(k.length);Array.prototype.forEach.call(k,function(d,f){l[f]=d.charCodeAt(0);});return l;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(8);b=a(112);a=a(293);r.Ba.get(b.TL).tda(a.$ha.sob,function(c){var m,k;m=c.level;if(!nb._cad_global.config || m <= nb._cad_global.config.EZb){c=c.Uea();k=nb.console;1 >= m?k.error(c):2 >= m?k.warn(c):k.log(c);}});},function(r,b,a){var h,g,n,p,q;function c(t){var v,w;(0,g.BW)(t);if((0,p.qg)(t) && b.rKa.test(t)){v=t.split(".");if(4 === v.length){for(var u=0;u < v.length;u++){w=(0,q.hk)(v[u]);if(0 > w || !(0,p.gF)(w,0,255) || 1 !== v[u].length && 0 === v[u].indexOf("0"))return;}return t;}}}function m(t){var v;v=0;if(c(t) === t)return (t=t.split("."),v+=(0,q.hk)(t[0]) << 24,v+=(0,q.hk)(t[1]) << 16,v+=(0,q.hk)(t[2]) << 8,v + (0,q.hk)(t[3]));}function k(t){var v,u;(0,g.BW)(t);if((0,p.qg)(t) && t.match(b.sKa)){v=t.split(":");-1 !== v[v.length - 1].indexOf(".") && (t=l(v[v.length - 1]),v.pop(),v.push(t[0]),v.push(t[1]),t=v.join(":"));t=t.split("::");if(!(2 < t.length || 1 === t.length && 8 !== v.length) && (v=1 < t.length?d(t):v,t=v.length,8 === t)){for(;t--;){u=parseInt(v[t],16);if(!(0,p.gF)(u,0,h.KLa))return;}return v.join(":");}}}function l(t){var v;t=m(t) >>> 0;v=[];v.push((t >>> 16 & 65535).toString(16));v.push((t & 65535).toString(16));return v;}function d(t){var v,u,w;v=t[0].split(":");t=t[1].split(":");1 === v.length && "" === v[0] && (v=[]);1 === t.length && "" === t[0] && (t=[]);u=8 - (v.length + t.length);if(1 > u)return [];for(w=0;w < u;w++){v.push("0");}for(w=0;w < t.length;w++){v.push(t[w]);}return v;}function f(t){return -1 << 32 - t;}Object.defineProperty(b,"__esModule",{value:!0});b.urb=b.zrb=b.wrb=b.vrb=b.yrb=b.trb=b.xrb=b.FG=b.sKa=b.rKa=void 0;h=a(17);g=a(23);n=a(13);p=a(15);q=a(25);b.rKa=/^[0-9.]*$/;b.sKa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.FG="0000000000000000";b.xrb=c;b.trb=m;b.yrb=k;b.vrb=l;b.wrb=d;b.zrb=function(t,v,u){var w,x,y,z;w=c(t);x=k(t);y=c(v);z=k(v);if(!w && !x || !y && !z || w && !y || x && !z)return !1;if(t === w)return (u=f(u),(m(t) & u) !== (m(v) & u)?!1:!0);if(t === x){t=t.split(":");v=v.split(":");for(w=(0,n.WL)(u / b.FG.length);w--;){if(t[w] !== v[w])return !1;}u%=b.FG.length;if(0 !== u)for((t=parseInt(t[w],16).toString(2),v=parseInt(v[w],16).toString(2),t=b.FG.substring(0,b.FG.length - t.length) + t,v=b.FG.substring(0,b.FG.length - v.length) + v,w=0);w < u;w++){if(t[w] !== v[w])return !1;}return !0;}return !1;};b.urb=f;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(18);a(17);r=a(8);a(112);a(293);a(3);a(111);a(5);a=a(36);r.Ba.get(a.hj);!1;},function(r,b,a){var c,m,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);m=a(17);k=a(3);l=a(13);r=a(8);a=a(36);d=r.Ba.get(a.hj);d.register(k.W.nKa,function(f){l.xr && l.xr.generateKey && l.xr.importKey && l.xr.unwrapKey?(d.Ne("wcs"),(0,c.cK)(l.xr.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.Ne("wcdone");f(m.Pg);},function(h){var g;h="" + h;if(0 <= h.indexOf("missing crypto.subtle"))g=k.T.lka;else 0 <= h.indexOf("timeout waiting for iframe to load") && (g=k.T.bvb);f({xa:g,Qb:h});})):f({xa:k.T.lka});});},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(3);c=a(8);m=a(531);a=a(36);c.Ba.get(a.hj).register(r.W.dKa,function(k){c.Ba.get(m.QHa)().then(function(){k({ea:!0});}).catch(function(l){c.log.error("error in initializing indexedDb debug tool",l);k({ea:!0});});});},function(r,b,a){var l,d,f,h;function c(g,n,p,q){var t,v,u;(0,l.Wa)((0,h.Yj)(g) && !(0,h.isArray)(g));q=q || "";t="";v=g.hasOwnProperty(f.J1) && g[f.J1];v && (0,d.$g)(v,function(w,x){t && (t+=" ");t+=w + '="' + k(x) + '"';});p=(n?n + ":":"") + p;v=q + "<" + p + (t?" " + t:"");u=g.hasOwnProperty(f.jz) && g[f.jz].trim && "" !== g[f.jz].trim() && g[f.jz];if(u)return v + ">" + k(u) + "</" + p + ">";g=m(g,n,q + "  ");return v + (g?">\n" + g + "\n" + q + "</" + p + ">":"/>");}function m(g,n,p){var q;(0,l.Wa)((0,h.Yj)(g) && !(0,h.isArray)(g));p=p || "";q="";(0,d.$g)(g,function(t,v){var x;if("$" != t[0])for(var u=(0,d.ny)(v),w=0;w < u.length;w++){if((v=u[w],q && (q+="\n"),(0,h.Yj)(v)))q+=c(v,n,t,p);else {x=(n?n + ":":"") + t;q+=p + "<" + x + ">" + k(v) + "</" + x + ">";}}});return q;}function k(g){if((0,h.qg)(g))return (0,d.mua)(g);if((0,h.Ka)(g))return ((0,l.AW)(g,"Convert non-integer numbers to string for xml serialization."),"" + g);if(null === g || void 0 === g)return "";(0,l.Wa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.Ncc=b.iYb=b.hYb=void 0;l=a(23);d=a(25);f=a(195);h=a(15);b.hYb=c;b.iYb=m;b.Ncc=k;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C,D,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);m=a(299);k=a(200);l=a(18);d=a(17);f=a(3);h=a(23);g=a(8);n=a(81);p=a(60);q=a(94);t=a(25);v=a(13);u=a(15);w=a(43);x=a(111);y=a(5);r=a(36);z=a(500);A=a(138);B=a(71);C=a(78);D={};F=g.Ba.get(r.hj);F.register(f.W.gKa,function(G){var K,I,R,O,J,M,P,S,T,U,W,fa,sa,wa;function E(Ba){Ba && Ba.userList && l.config.cac && (Ba.userList=[]);O({esn:k.Nk.yl,esnPrefix:k.Nk.bq,authenticationKeyNames:l.config.GDb,systemKeyWrapFormat:l.config.acc,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:sa,storeState:Ba,notifyMilestone:F.Ne.bind(F),log:P,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.T.hsb,MSL_READ_TIMEOUT:f.T.gsb}},{result:function(Ga){H(Ga);},timeout:function(){G({xa:f.T.RLa});},error:function(Ga){G(L(f.T.RLa,void 0,Ga));}});}function H(Ba){var N,Q,V,ba;function Ga(){fa && g.Ba.get(q.TC).create().then(function(qa){return qa.save(U,V,!1);}).catch(function(qa){P.error("Error persisting msl store",(0,f.yz)(qa));});}N=this;Q=g.Ba.get(x.lM)((0,y.qc)(100));ba=J.extend({init:function(qa){this.pVa=qa;},getResponse:function(qa,La,Oa){var Ta,Qa;La=this.pVa;Ta=La.uxa.lf || Ta;qa=(0,u.wva)(qa.body)?(0,g.r1)(qa.body):qa.body;(0,h.BW)(qa,"Msl should not be sending empty request");qa={url:La.url,beb:qa,withCredentials:!0,uE:"nq-" + La.method,headers:La.headers};La=this.pVa.timeout;qa.O7=La;qa.Exa=La;Qa=Ta.download(qa,function(Wa){try{if(Wa.ea)Oa.result({body:Wa.content});else if(400 === Wa.xl && Wa.Qb)Oa.result({body:Wa.Qb});else throw (0,t.Ce)(new M("HTTP error, SubCode: " + Wa.xa + (Wa.xl?", HttpCode: " + Wa.xl:"")),{cadmiumResponse:Wa});}catch(eb){Oa.error(eb);}});return {abort:function(){Qa.abort();}};}});T && Ba.addEventHandler("shouldpersist",function(qa){V=qa.storeState;Q.xm(Ga);});(0,t.Ce)(D,{ooc:function(){W=!0;},send:function(qa){function La(){var Oa,Ta;Oa=qa.uxa;Ta={method:qa.method,nonReplayable:qa.Ubb,encrypted:qa.em,userId:qa.Glb,body:qa.body,timeout:2 * qa.timeout,url:new ba(qa),allowTokenRefresh:fa,sendUserAuthIfRequired:wa,shouldSendUserAuthData:l.config.iac};Oa.email?(Ta.email=Oa.email,Ta.password=Oa.password || ""):W && (Ta.useNetflixUserAuthData=!0);return Ta;}return new Promise(function(Oa,Ta){var Qa;Qa=La();Ba.send(Qa).then(function(Wa){W && (W=!1);Oa({ea:!0,body:Wa.body});}).catch(function(Wa){var eb,ub;if(Wa.error){eb=Wa.error.cadmiumResponse && Wa.error.cadmiumResponse.xa?Wa.error.cadmiumResponse.xa:Ba.isErrorReauth(Wa.error)?f.T.QLa:Ba.isErrorHeader(Wa.error)?f.T.$rb:f.T.Zrb;ub=Ba.getErrorCode(Wa.error);Ta(L(eb,ub,Wa.error));}else (P.error("Unknown MSL error",Wa),Wa.Hc=Wa.subCode,Ta({xa:Wa.Hc?Wa.Hc:f.T.isb}));});});},EZ:Ba});A.jH.JN.mslFetch=function(qa,La){return c.__awaiter(N,void 0,void 0,function Ta(){var Qa,Wa,eb;return Fa(Ta,function(ub){if(1 == ub.yF)return (Qa=g.Ba.get(C.gM),Ja(ub,D.send({uxa:{lf:g.Ba.get(B.Ww),profile:Qa},timeout:3E3,url:qa.toString(),body:null === La || void 0 === La?void 0:La.body,headers:{"Content-Type":"application/x-msl+json"},Glb:Qa,b8b:!1,Ubb:!0,em:!0})));Wa=ub.Jfa;eb={get body() {this.bodyUsed=!0;return Wa.body;}};return ub.return((eb.bodyUsed=!1,eb.ok=Wa.ea,eb.status=Wa.ea?200:400,eb.statusText=Wa.ea?"OK":"Bad Request",eb.type="basic",eb.url=qa.toString(),eb.headers=new Headers({"Content-Type":"application/json"}),eb.text=function(){return Promise.resolve(this.body);},eb.json=function(){return Promise.resolve(JSON.parse(this.body));},eb.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},eb.clone=function(){return Object.assign({},this);},eb.blob=function(){return this.arrayBuffer().then(function(jb){return new Blob([jb]);});},eb.formData=function(){throw Error("Not implemented");},eb.redirected=!1,eb));});});};G(d.Pg);g.Ba.get(z.wia).Y0b(D);}function L(Ba,Ga,N){var Q,V,ba,qa;ba={xa:Ba,M8:Ga};if(N){qa=function(La){var Oa;La=La || "" + N;if(N.stack){Oa="" + N.stack;La=0 <= Oa.indexOf(La)?Oa:La + Oa;}return La;};if(V=N.cadmiumResponse){if(Q=V.Kf && V.Kf.toString())V.Kf=Q;V.xa=Ba;V.M8=Ga;V.Qb=qa(N.message);V.error={Hc:Ba,Ud:Q,VB:Ga,data:N.cause,message:N.message};return V;}qa=qa(N.errorMessage);Q=(0,t.hk)(N.internalCode) || (0,t.hk)(N.error && N.error.internalCode);V=void 0 !== N.cOb?(0,w.Sxa)(N.cOb):void 0;}qa && (ba.Qb=qa);Q && (ba.Kf=Q);ba.error={Hc:Ba,Ud:Q.toString(),VB:Ga,data:V,message:qa};return ba;}(0,h.Wa)(l.config);K=g.Ba.get(n.nM);I=p.wp.vk;if(v.jD && v.xr && v.xr.unwrapKey){try{R=nb.netflix.msl;O=R.createMslClient;J=R.IHttpLocation;M=R.MslIoException;}catch(Ba){G({xa:f.T.bsb});return;}P=(0,g.Vj)("Msl");S=l.config.U0b;T=l.config.W0b;U=l.config.gB?"mslstoretest":"mslstore";R=m.bL.jhb;W=!0;fa=!R || R.ea;sa=(0,g.Ts)(l.config.gB?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");wa=! !l.config.kBa;g.Ba.get(q.TC).create().then(function(Ba){S?Ba.remove(U).then(function(){E();}).catch(function(Ga){P.error("Unable to delete MSL store",(0,f.yz)(Ga));E();}):T?Ba.load(U).then(function(Ga){K.mark(I.dsb);E(Ga.value);}).catch(function(Ga){Ga.xa == f.T.qD?(K.mark(I.fsb),E()):(P.error("Error loading msl store",(0,f.yz)(Ga)),K.mark(I.esb),Ba.remove(U).then(function(){E();}).catch(function(N){G(N);}));}):E();}).catch(function(Ba){P.error("Error creating app storage while loading msl store",(0,f.yz)(Ba));G(Ba);});}else G({xa:f.T.csb});});},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(193);m=a(17);k=a(18);l=a(64);d=a(59);r=a(3);f=a(8);h=a(81);g=a(13);n=a(58);p=a(15);q=a(50);t=a(87);a=a(36);w=f.Ba.get(a.hj);w.register(r.W.eKa,function(x){var z;function y(){var A,B,C;A=w.startTime;B={browserua:g.SG,browserhref:g.U3.href,initstart:A,initdelay:w.endTime - A};(A=g.Gh.documentMode) && (B.browserdm="" + A);(0,p.QP)(k.config.i3a) && (B.fesn=k.config.i3a);Object.assign(B,(0,c.qta)());C=g.bx && g.bx.timing;C && k.config.BZb.map(function(D){var F;F=C[D];F && (B["pt_" + D]=F - (0,d.e_a)());});A=z.vSb();Object.entries(A).forEach(function(D){var F;F=na(D);D=F.next().value;F=F.next().value;return B["m_" + D]=F;});A=u.hv("startup","info",B,l.mD.Ora);v.Gc(A);}u=f.Ba.get(t.Cz);v=f.Ba.get(q.bo);z=f.Ba.get(h.nM);w.cZ(function(){v.ta();(0,n.jg)(y);});x(m.Pg);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v,u,w,x,y;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);m=a(28);k=a(540);l=a(1409);d=a(303);f=a(18);h=a(17);g=a(198);n=a(584);p=a(59);r=a(3);q=a(8);t=a(516);v=a(13);u=a(300);b=a(36);w=a(64);x=a(165);y=a(348);q.Ba.get(b.hj).register(r.W.aKa,function(z){var A,B,C,D,F,G,E,H;A=q.Ba.get(t.eNa).NJb();B=q.Ba.get(g.Yga).HL;C=q.Ba.get(k.AMa).zs;D=new y.rga();F={Jca:(0,q.yX)("ASE"),UCb:(0,q.yX)("JS-ASE",void 0,"Platform"),Vj:q.yX,storage:u.storage,LSb:v.aHa,getTime:p.yo,e8:function(L){return D.decode(L).buffer;},UP:{},zs:C,fx:l.fx,HL:B,MediaSource:n.DMa,SourceBuffer:d.pia,jq:function(){return [f.config.c7,f.config.f7];},gv:function(L){w.Bp.forEach(function(K){K.Phb(L);});}};B=new Promise(function(L){u.storage.load("nh",function(K){F.UP.nh=K.ea?K.data:void 0;L();});});C=new Promise(function(L){u.storage.load("lh",function(K){F.UP.lh=K.ea?K.data:void 0;L();});});G=new Promise(function(L){u.storage.load("gh",function(K){F.UP.gh=K.ea?K.data:void 0;L();});});E=new Promise(function(L){u.storage.load("sth",function(K){F.UP.sth=K.ea?K.data:void 0;L();});});H=new Promise(function(L){u.storage.load("vb",function(K){F.UP.vb=K.ea?K.data:void 0;L();});});Promise.all([B,C,H,E,G]).then(function(){return c.__awaiter(this,void 0,void 0,function K(){var I,R;return Fa(K,function(O){if(1 == O.yF)return (I=a(1411)(F),x.nr.Je=a(585),x.nr.Je.declare(m.sh),x.nr.Je.set(a(189)(f.config),!0,(0,q.yX)("ASE")),Ja(O,m.gJ(I)));R=O.Jfa;R.open(x.nr.Je,A);R.rBa({audio:f.config.c7,video:f.config.f7},{U:f.config.c0,ca:void 0});x.nr.gj=R;z(h.Pg);O.yF=0;});});}).catch(function(L){F.Jca.error("Exception loading location history from local storage",L);});});},function(r,b,a){var m,k,l,d,f,h,g;function c(){var n;n=new k.sk();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Rc.bind(this);this.Z5=h++;this.eg=(0,l.Vj)("ProbeRequest");this.NVa=m.mQa;(0,d.Wa)(void 0 !== this.NVa);this.ei=b.fx.Sc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.fx=void 0;m=a(1410);k=a(72);l=a(8);d=a(23);f=a(25);h=0;(function(){function n(){return JSON.stringify({url:this.$l,id:this.Z5,affected:this.U4,readystate:this.ei});}(0,f.Ce)(c.prototype,{zQ:function(p){p.affected=this.U4;p.probed={requestId:this.Z5,url:this.$l,Fe:this.cV,groupId:this.C5};this.emit(b.fx.Se.HT,p);},Lxa:function(p){this.vAb=p.httpcode;p.affected=this.U4;p.probed={requestId:this.Z5,url:this.$l,Fe:this.cV,groupId:this.C5};this.emit(b.fx.Se.UG,p);},open:function(p,q,t,v){if(!p)return (!1,!1);this.$l=p;this.U4=q;this.cV=t;this.ei=b.fx.Sc.OPENED;this.Kxb=v;this.NVa.vX(this);return !0;},Zc:function(){!1;return !0;},Vi:function(){return this.Z5;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.ei;},set:function(){}},status:{get:function(){return this.vAb;}},url:{get:function(){return this.$l;}},Jlc:{get:function(){return this.U4;}},tZb:{get:function(){return this.Kxb;}}});})();(function(n){n.Se={HT:"pr0",UG:"pr1"};n.Sc={UNSENT:0,OPENED:1,Nz:2,DONE:3,ML:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(g || (g={}));b.fx=Object.assign(c,g);},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});b.mQa=void 0;c=a(8);m=a(104);b.mQa=(function(){(0,c.Vj)("ProbeDownloader");return {vX:function(k){k={url:k.url,U5b:k};!1;m.lf.X5b(k);}};})();},function(r,b,a){var f,h,g,n,p,q,t,v,u,w,x,y,z,A,B,C;function c(D,F,G){this.Xp=D;this.groups=F;this.prefix=G;D=w(D,F,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function m(){this.d0a=function(){throw Error("Not implemented");};this.cMb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function k(){}function l(){return u?u:"0.0.0.0";}function d(D){D({Ocb:0,S0:0,w7a:0,h3a:0});}f=a(11);m.prototype.set=function(D,F){n[D]=F;p.save(D,F);};m.prototype.get=function(D,F){if(n.hasOwnProperty(D))return n[D];v.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ea?(n[D]=G.data,F && F(G.data)):n[D]=void 0;});};m.prototype.remove=function(D){p.remove(D);};m.prototype.clear=function(){v.info("WARNING: Calling unimplemented function Storage.clear()");};k.prototype.now=function(){return q();};k.prototype.ga=function(){return t();};k.prototype.sxa=function(D){return D + q() - t();};k.prototype.Nxa=function(D){return D + t() - q();};c.prototype.y0a=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ia(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.Xp,this.groups,F);};x=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){h=D.Jca;w=D.Vj;p=D.storage;n=D.UP;q=D.LSb;t=D.getTime;v=D.UCb;y=D.zs;C=D.fx;z=D.HL;A=D.SourceBuffer;B=D.MediaSource;u=D.roc;g=D.gv;return {name:"cadmium",gv:g,Jca:h,storage:new m(),Storage:m,time:new k(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,zs:y,HL:z,lsb:A,MediaSource:B,fx:C,vq:{name:l},memory:{TRb:d},jq:D.jq,e8:D.e8};};},function(r,b,a){r.exports={EventEmitter:a(1413),Gf:a(1414)};},function(r){function b(c,m){var k;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Hd)return (this.Hd={},this.Hd[c]=[m],!0);k=this.Hd[c];return void 0 === k?(this.Hd[c]=[m],!0):0 > k.indexOf(m)?(k.push(m),!0):!1;}function a(c,m){c=this.Hd?this.Hd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(m);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,m){var k;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Hd)return !1;k=this.Hd[c];if(void 0 === k)return !1;m=k.indexOf(m);if(0 > m)return !1;if(1 === k.length)return (delete this.Hd[c],!0);k.splice(m,1);return !0;},eb:a,emit:a,removeAllListeners:function(c){this.Hd && (void 0 === c?delete this.Hd:delete this.Hd[c]);return this;}};},function(r){function b(c,m,k,l){c.trace(":",k,":",l);m(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,m,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,m));if("function" === typeof c.addEventListener)l=c.addEventListener(m,k);else if("function" === typeof c.addListener)l=c.addListener(m,k);else throw Error("Emitter does not have a function to add listeners for '" + m + "'");this.listeners.push([c,m,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(m){var k,l;k=m[0];l=m[1];m=m[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,m):"function" === typeof k.removeListener && k.removeListener(l,m);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var m,k;function c(l,d){var f,h;f=(0,k.Ui)(l,"MSS");if(m.config.m0b)return {a9:"mss",vC:function(g){var n,p;if(g.lower && 2160 <= g.height)a:{for(n=g;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{p=nb.MSMediaKeys;h=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");h=!0;}h || (f.warn("Restricting resolution due screen size",{MaxHeight:g.height}),d.sr.set({reason:"microsoftScreenSize",height:g.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.nsb=void 0;r=a(137);m=a(18);k=a(8);(0,r.AT)(c);b.nsb=c;},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(137);c=a(8);m=a(12);k=a(1417);l=a(19);(0,r.AT)(function(d,f){var h,g;h=c.Ba.get(m.Nc);if(h().DMb){g=c.Ba.get(l.cd);return new k.NHa(d,f,c.tg,g,h);}});},function(r,b,a){var m,k,l,d,f,h;function c(g,n,p,q,t){var v;v=this;this.j=g;this.ya=n;this.Ca=p;this.Da=q;this.dca={};this.BO={};this.HR=[];this.x8a=1E3;this.Dea=m.JLa;this.eya=function(){var u;u=v.j.zb.value === d.ib.Dc && v.j.state.value === d.ac.He && v.j.I === v.ya.I;v.CY?u || (clearInterval(v.CY),v.CY=void 0,v.UY=void 0):u && (v.CY=nb.setInterval(v.wcc,v.x8a));};this.wcc=function(){var u,w,x,y;w=v.j.De.value;w=w && w.stream;w=null !== (u=w && w.height) && void 0 !== u?u:null;if(null !== w && 0 < w){u=v.Da.Tb().fa(h.ma);x=v.j.Ff.aJ();if(x){if(v.UY && u - v.UY.time < 2 * v.x8a && w === v.UY.height){y=x - v.UY.CMb;v.bna(w,y);v.OBb(w,y);}v.UY={time:u,CMb:x,height:w};v.j.Ica && v.j.Ica.e$b(v.dca);}}};this.psa=function(){var u;u={};v.BO && v.HR.forEach(function(w){var x,y,z;x=v.BO[w];if(x){y=0;z=0;(0,f.$g)(x,function(A,B){z+=(0,f.hk)(A);y+=B;});u[w]=z / y;}});return u;};this.hJ=function(u){var w;w={};u.forEach(function(x){w[x]={};});v.BO && ((0,k.X1)(u),v.HR.forEach(function(x){var y,z,A,B;y=v.BO[x];if(y){z=0;A=0;(0,f.$g)(y,function(E,H){z+=H;});B=Object.keys(y).map(Number);(0,k.X1)(B);for(var C=B.length - 1,D=B[C],F=u.length - 1;0 <= F;F--){for(var G=u[F];D >= G && 0 <= C;){(D=y[D]) && (A+=D);D=B[--C];}w[G][x]=(0,l.zp)(A / z * 100);}}}));return w;};this.log=this.Ca.mb("DFF",g);this.Z4b=t().GMb;this.C_b=t().EMb;this.ibb=t().FMb;this.ya.Fqa={psa:this.psa,hJ:this.hJ};g.state.addListener(this.eya);g.zb.addListener(this.eya);g.addEventListener(d.ia.IJ,this.eya);}Object.defineProperty(b,"__esModule",{value:!0});b.NHa=void 0;m=a(17);k=a(43);l=a(13);d=a(16);f=a(25);h=a(5);c.prototype.vC=function(g){return g.lower && g.height > this.ibb?g.height >= this.NTb():!1;};c.prototype.bna=function(g,n){var p;p=this.dca[g];p || (this.dca[g]=p=[],g > this.ibb && (this.HR.push(g),(0,k.X1)(this.HR)));0 < n && !(this.AZ && this.AZ < g) && (this.AZ=g);p.push(n);p.length > this.C_b && p.shift();};c.prototype.OBb=function(g,n){var p;p=this.BO[g];p || (this.BO[g]=p={});g=p[n];p[n]=g?g + 1:1;};c.prototype.NTb=function(){var p,q;if(this.AZ){for(var g=this.HR.length,n=0;n < g;n++){p=this.HR[n];if(p >= this.AZ && p < this.Dea){q=this.dca[p];if(q && this.UFb(this.Z4b,q) && this.Dea != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.ya.sr.set({reason:"droppedFrames",height:p}),this.Dea=p);}}this.AZ=void 0;}return this.Dea;};c.prototype.UFb=function(g,n){var v,u;for(var p=g.length,q=n.length,t=0;t < p;t++){v=g[t];u=v[0];v=v[1];for(var w=0;w < q;w++){if(n[w] >= v && 0 >= --u)return !0;}}return !1;};Ua.Object.defineProperties(c.prototype,{a9:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.NHa=c;},function(r,b,a){var c,m,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(137);c=a(18);m=a(8);k=a(1419);(0,r.AT)(function(l,d){if(c.config.lYb)return new k.SKa(l,d,m.tg,c.config,m.za,m.wc);});},function(r,b,a){var m,k,l;function c(d,f,h,g,n,p){var q;q=this;this.j=d;this.ya=f;this.Ca=h;this.config=g;this.za=n;this.wc=p;this.ACb=function(t){!0 === t.oldValue && !1 === t.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.L8b());};this.udc=function(t){var v,u,w;q.log.trace("UhdKeyStatus: " + t.oldValue + " -> " + t.newValue);u=null === t || void 0 === t?void 0:t.newValue;w=null === t || void 0 === t?void 0:t.oldValue;"usable" !== u && (q.Y9b(u,(null === (v=null === t || void 0 === t?void 0:t.Mk) || void 0 === v?void 0:v.height) || 0),"usable" === w && (t=q.za.Bf.Aa(q.nYb),q.log.error("UHD KeyStatus unexpectedly changed: " + t.fa(l.ma))));};this.m9a=!1;this.log=this.Ca.mb("KeyStatusStreamFilter",this.j);this.DXa=new k.Xb(!1,this.ACb);this.tdc=new k.Xb(void 0,this.udc);}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;m=a(217);k=a(70);l=a(5);c.prototype.vC=function(d){return d.Xj && (this.zbc(),this.DXa.set(this.m9a && this.bVb),d.lower && 1080 < d.height && !this.DXa.value)?!0:!1;};c.prototype.VGb=function(){this.bVb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.q7a);};c.prototype.Jbb=function(d){var f;f=this;Object.entries(d).forEach(function(h){var g,n,p;g=na(h);h=g.next().value;g=g.next().value;h=null !== (p=null === (n=f.mYb) || void 0 === n?void 0:n[h]) && void 0 !== p?p:0;1080 < h && (f.m9a="usable" === g,f.tdc.set(g,{height:h}));});};c.prototype.zbc=function(){var d,f,h;d=this;h=this.ya.bf;!this.QXb && (0,m.Yua)(h) && (this.QXb=!0,this.mYb=null === (f=null === h || void 0 === h?void 0:h.context) || void 0 === f?void 0:f.Daa,this.Jbb(h.keyStatuses.value),h.keyStatuses.addListener(function(g){return d.Jbb(g.newValue);}),this.wc.Bj((0,l.qc)(this.config.q7a),function(){return d.VGb();}),this.nYb=this.za.Bf);};c.prototype.Y9b=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.ya.sr.set({reason:"keyStatus",height:f});};Ua.Object.defineProperties(c.prototype,{a9:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.SKa=c;},function(r,b,a){var c,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(137);c=a(18);m=a(8);(0,r.AT)(function(k,l){var d,f,h,g;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.vdc);f=d[l.de];if(c.config.wdc && f){h={};g=(0,m.Ui)(k,"MediaStreamFilter");return {a9:"uiLabel",vC:function(n){if(n.lower && n.height > f)return (h[n.height] || (h[n.height]=!0,g.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:n.height}),l.sr.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,m,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(18);m=a(17);r=a(3);k=a(8);l=a(171);a=a(36);k.Ba.get(a.hj).register(r.W.cKa,function(d){c.config.u9 && k.Ba.get(l.RIa).start();d(m.Pg);});},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(200);m=a(138);k=a(17);l=a(18);r=a(3);d=a(8);f=a(23);h=a(25);g=a(15);n=a(50);p=a(87);a=a(36);d.Ba.get(a.hj).register(r.W.kKa,function(q){var t,v;t=(0,d.Vj)("NccpApi");v=(0,h.bYa)(["info","warn","trace","error"]);m.jH.JN.nccp={getEsn:function(){return c.Nk.yl;},getPreferredLanguages:function(){return l.config.Ar.dza;},setPreferredLanguages:function(u){(0,f.Wa)((0,g.isArray)(u) && (0,g.QP)(u[0]));l.config.Ar.dza=u;},queueLogblob:function(u,w,x){var y;if(u && w)if((w=w.toLowerCase(),v[w])){y=d.Ba.get(n.bo);u=d.Ba.get(p.Cz).hv(u,w,x);y.Gc(u);}else t.warn("Invalid severity",{severity:w});},flushLogblobs:function(){d.Ba.get(n.bo).flush(!0);}};q(k.Pg);});},function(r,b,a){var c,m,k,l,d,f,h,g,n,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(36);b=a(3);c=a(6);m=a(48);k=a(297);l=a(17);d=a(18);f=a(8);h=a(64);g=a(138);n=a(575);p=a(116);f.Ba.get(r.hj).register(b.W.mKa,function(q){var u,w,x;function t(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):f.Ba.get(n.aOa).Lf(this.log,{},{email:y,password:z}).then(function(){});}function v(y){var z;z=f.Ba.get(p.iH);return z.k3a.fetch(y,z);}if(d.config.pOb){u=f.Ba.get(k.Wia);w=f.Ba.get(m.Qq);x=f.Ba.get(c.ub).mb("Test");g.jH.JN.test={setPboRequestsListener:function(y){return u.q$b(y);},playbacks:h.Bp,getPlayback:function(y){return h.Bp.find(function(z){return z.da === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var A,B;return void 0 !== (null === (B=null === (A=h.Bp.find(function(C){return C.da === y;})) || void 0 === A?void 0:A.Ha) || void 0 === B?void 0:B.G9(z));},isNextSegmentBuffering:function(y,z){var A,B;return null === (B=null === (A=h.Bp.find(function(C){return C.da === y;})) || void 0 === A?void 0:A.Ha) || void 0 === B?void 0:B.kP(z).RN;}},device:{esn:nb._cad_global.device.yl,esnPrefix:w.bq,errorPrefix:w.kt},log:{info:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.info(y,A);},error:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.error(y,A);},warn:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.warn(y,A);},trace:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.trace(y,A);},log:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.log(y,A);},debug:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.debug(y,A);}},login:t,getManifest:v};}q(l.Pg);});},function(r,b,a){var c,m,k,l,d,f,h;Object.defineProperty(b,"__esModule",{value:!0});r=a(1425);c=a(18);m=a(64);b=a(6);k=a(8);l=a(50);d=a(112);f=a(23);h=a(15);nb.netflix=nb.netflix || ({});(0,f.Wa)(!nb.netflix.player);nb.netflix.player={VideoSession:r.aTa,diag:{togglePanel:function(g,n){var p;p=[];if(!c.config || c.config.R_){switch(g){case "info":p=m.Bp.map(function(q){return q.Ica;});break;case "streams":p=m.Bp.map(function(q){return q.Lca;});break;case "log":p=[];}p.forEach(function(q){(0,h.pd)(n)?n?q.show():q.fy():q.toggle();});}},addLogMessageSink:function(g){k.Ba.get(l.bo).addListener({Dqc:function(){},d0b:function(n){g({data:n.data});}});}},log:(0,k.Vj)("Ext"),LogLevel:b.tk,addLogSink:function(g,n){k.Ba.get(d.TL).tda(g,n);},getVersion:function(){return "6.0037.632.911";},getMostRecentPlaybackDiagnosticGroups:function(){var g;return null === (g=m.mD.sbb) || void 0 === g?void 0:g.y1a.LX();}};},function(r,b,a){var m,k,l,d,f,h;function c(g){var n;n=l.jH.call(this,g) || this;n.createPlayer=function(p,q){var t,v,u;q=void 0 === q?{}:q;q="number" === typeof q?{gl:q}:q;t=m.Ba.get(k.eM);v=m.Ba.get(f.VL).create(q.manifest);u=m.Ba.get(d.qja);p=t.QJb(p);t=m.Ba.get(h.oja).create(p);p=t.ysa();u=u.v0a(t);u.addEpisode({movieId:p.L,playbackParams:n.tYa(q,p),manifest:v});return u;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.aTa=void 0;m=a(8);k=a(117);l=a(138);d=a(309);f=a(134);h=a(308);ka(c,l.jH);b.aTa=c;},function(r,b,a){var c,m,k,l,d,f,h,g,n,p,q,t,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(138);m=a(200);k=a(17);l=a(43);r=a(3);d=a(8);f=a(169);h=a(23);g=a(15);n=a(13);b=a(36);p=a(59);q=a(78);t=a(162);v=a(168);d.Ba.get(b.hj).register(r.W.lKa,function(u){var B;function w(){return m.Nk.yl;}function x(C){var D;D=d.Ba.get(q.gM);d.Ba.get(t.ET)().then(function(F){var G,E;G=F.EZ.getStateForMdx(D);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,h.Wa)(E),F=["1",(0,d.DA)(JSON.stringify(F.toJSON())),(0,d.DA)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:F,encrypt:function(H,L){H=(0,g.qg)(H)?(0,d.kS)(H):H;E.encrypt(H,{result:function(K){K=(0,d.DA)(K);L({success:!0,mslEncryptionEnvelopeBase64:K});},timeout:function(){L({success:!1});},error:function(K){(0,h.Wa)(!1,"Encrypt error: " + K);L({success:!1});}});},decrypt:function(H,L){H=(0,d.Ts)(H);E.decrypt(H,{result:function(K){L({success:!0,text:(0,d.r1)(K)});},timeout:function(){L({success:!1});},error:function(K){(0,h.Wa)(!1,"Decrypt error: " + K);L({success:!1});}});},hmac:function(H,L){H=(0,g.qg)(H)?(0,d.kS)(H):H;E.sign(H,{result:function(K){L({success:!0,hmacBase64:(0,d.DA)(K)});},timeout:function(){L({success:!1});},error:function(K){(0,h.Wa)(!1,"Hmac error: " + K);L({success:!1});}});}}})):((0,h.Wa)(!1,"Must login first"),C({success:!1}));});}function y(C,D){var F;F=(0,d.Ts)(C);C=F.subarray(32,48);F=F.subarray(0,32);if(16 != C.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,l.cK)(n.xr.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,l.cK)(n.xr.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function F(G){G=new f.ZS((0,d.Ts)(G));G.kC();return {iv:G.Ueb(),NNb:G.Ueb()};}return {encrypt:function(G,E){var H;G=(0,g.qg)(G)?(0,d.kS)(G):G;H=n.jD.getRandomValues(new Uint8Array(16));(0,l.cK)(n.xr.encrypt({name:"AES-CBC",iv:H},C,G)).then(function(L){var K,I;L=new Uint8Array(L);K=[];I=new f.ZS(K);I.Ifa(2);I.rmb(H);I.rmb(L);L=(0,d.DA)(K);E({success:!0,encryptedDataAsn1Base64:L});},function(L){(0,h.Wa)(!1,"Encrypt error: " + L);E({success:!1});});},decrypt:function(G,E){var H;H=F(G);G=H.iv;H=H.NNb;(0,l.cK)(n.xr.decrypt({name:"AES-CBC",iv:G},C,H)).then(function(L){L=new Uint8Array(L);E({success:!0,text:(0,d.r1)(L)});},function(L){(0,h.Wa)(!1,"Decrypt error: " + L);E({success:!1});});},hmac:function(G,E){G=(0,g.qg)(G)?(0,d.kS)(G):G;(0,l.cK)(n.xr.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(H){H=new Uint8Array(H);E({success:!0,hmacBase64:(0,d.DA)(H)});},function(H){(0,h.Wa)(!1,"Hmac error: " + H);E({success:!1});});}};}function A(){return (0,p.J7)();}B=d.Ba.get(v.vG);if(B.I8a || B.DB)c.jH.JN.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};u(k.Pg);});},function(r,b,a){var c,m,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(18);m=a(17);r=a(3);k=a(8);b=a(36);l=a(116);k.Ba.get(b.hj).register(r.W.hKa,function(f){var h,g,n;if(c.config.Pt){h=(0,k.Vj)("PlayerPredictionModel");g=k.Ba.get(l.iH);n=a(1428);h.log=h.trace.bind(h);d=new n({},h,{T_:function(){},c8b:function(){}},g,{nK:function(){}});nb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}f(m.Pg);});},function(r,b,a){var l,d,f,h,g,n,p;function c(q,t,v,u,w,x){this.I=this.L=q;this.priority=t;this.Nd=v;x && x.de && (this.de=x.de);void 0 !== u && (this.LQ=u);this.fm=w;this.Eb=x;}function m(q,t,v,u,w){f(void 0 !== u,"video preparer is null");f(void 0 !== w,"ui preparer is null");this.G=t || console;this.G=t;this.Ra=v;this.SAb=u;this.IAb=w;this.KVa=n.aza;this.qN=[];this.Dma=!1;this.qU=0;new p().on(n,"changed",k,this);this.reset();}function k(){this.G.log("config changed");n.aza && (this.KVa=n.aza);n.DZ !== this.dN && (this.reset(),this.fAa());}l=a(311);d=a(312);b=a(586);f=b.assert;h=b.u3a;g=a(1429);n=a(587).config;p=a(1430).Gf;n.declare({aza:["ppmConfig",{Ugc:{pcb:0,ocb:2,mcb:0,ncb:5,Uhb:0},Hkc:{pcb:0,ocb:1,mcb:0,ncb:3,Uhb:1E3},hhc:{pcb:0,ocb:1,mcb:0,ncb:3,Uhb:1E3}}]});m.prototype.constructor=m;m.prototype.reset=function(){this.hla=!0;this.dN=n.DZ;this.G.log("create model: " + n.DZ,n.ugb,n.j_a);switch(n.DZ){case "modelone":this.dN=new g(this.G);break;default:this.dN=new g(this.G);}};m.prototype.fAa=function(){var t,v;if(!1 === this.Dma){this.Dma=!0;for(var q=0;q < this.qN.length;q++){this.G.log("PlayPredictionModel replay: ",JSON.stringify(this.qN[q]));t=this.W_a(this.qN[q]);v=this.m4a(t);this.dN.update(t,v);this.hla=!1;}this.qN=[];}};m.prototype.update=function(q){var t,v,u;this.G.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Mb && q.Mb[0]){!1 === this.Dma && this.qN.length < n.B_b && this.qN.push(q);t=this.W_a(q);v=this.m4a(t);this.G.log("actionType",v);t="mlmodel" == n.DZ?this.dN.update(q,v):this.dN.update(t,v);t=this.sQb(t,n.cYb || 1);this.G.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(t));0 === this.qU && (this.qU=l(),this.Ra && this.Ra.T_ && this.Ra.T_({ILb:this.qU}));if(this.Ra && this.Ra.c8b){this.sRb();u=[];t.forEach(function(w){u.push({frc:w.L});});JSON.stringify(q);JSON.stringify(t);}this.SAb.nK(t);this.IAb.nK(t);this.hla=!1;}};m.prototype.sRb=function(){l();};m.prototype.T_=function(){this.qU=l();this.Ra && this.Ra.T_ && this.Ra.T_({ILb:this.qU});};m.prototype.W_a=function(q){var t,v,u,w,x;t={};u=q.Mb || [];w=(function(y){var z,A;z={};x=d.oT.name.indexOf(y.context);z.context=0 <= x?x:d.oT.Iz;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];v=y.list || [];v.forEach((function(B){A={L:B.L,Nd:B.Nd,index:B.index,LQ:B.LQ,Zca:B.Zca,list:B.list,Eb:B.Eb};void 0 !== B.property && (x=d.QL.name.indexOf(B.property),A.property=0 <= x?x:d.QL.Iz);z.list.push(A);}).bind(this));t.Mb.push(z);}).bind(this);if(void 0 !== q.direction){x=d.Xw.name.indexOf(q.direction);t.direction=0 <= x?x:d.Xw.Iz;}void 0 !== q.rX && (t.ync=q.rX.rowIndex,t.xnc=q.rX.PGb);t.rX=q.rX;t.Mb=[];u.forEach(w);return t;};m.prototype.m4a=function(q){var t,v,u;t=q.direction || d.Xw.Iz;v=q.rX;u=q.Mb || [];!0 === this.hla?q=d.kz.GIa:!0 === u.some(this.ZUb)?(q=d.kz.IT,this.zda(u,t,v)):q=u[0].context === d.oT.u4?d.kz.u4:t === d.Xw.vQa || t === d.Xw.TKa?d.kz.QQa:d.kz.Iz;return q;};m.prototype.ZUb=function(q){return (q.list || []).some(function(t){return t.property === d.QL.IT || t.property === d.QL.TGa;});};m.prototype.zda=function(q,t,v){var u,w;this.G.log("reportPlayFocusEvent: ",t,v);u={};w=h(q);this.Ra && this.Ra.zda && (u.onc=l(),u.direction=d.Xw.name[t],v && (u.rowIndex=v.rowIndex,u.k_a=v.PGb),void 0 !== w.al && (u.requestId=q[w.al].requestId),this.Ra.zda && this.Ra.zda(u));};m.prototype.sQb=function(q,t){for(var v=q.length,u=[],w,x,y,z,A=0;A < v;A++){x=q[A];w=Math.floor(A / t) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.NGb,z) && !(y[B].fm=x.fm,this.jXa(y[B],w,u),u.length >= n.tab);B++){;}}else this.jXa(x,w,u);if(u.length >= n.tab)break;}return u;};m.prototype.jXa=function(q,t,v){var w,x;function u(y){y.de && (y.Eb || (y.Eb={}),y.Eb.de=y.de);return y.Eb;}w=q.Zca;if(void 0 !== w && w instanceof Array)w.forEach(function(y){void 0 !== y.L && (x=u(y),v.push(new c(y.L,t,y.Nd,y.LQ,q.fm,x)));});else if(void 0 !== w && void 0 !== w.L){w=q.Zca;x=u(w);v.push(new c(w.L,t,w.Nd,w.LQ,q.fm,x));}void 0 !== q.L && (x=u(q),v.push(new c(q.L,t,q.Nd,q.LQ,q.fm,x)));};m.prototype.ZI=function(q){var t;t=this.KVa;return q?t[q]:t;};r.exports=m;},function(r,b,a){var k,l,d,f,h,g,n,p,q,t;function c(v,u){this.al=v;this.en=u;}function m(v){this.G=v;this.reset();}k=a(311);l=a(312);b=a(586);d=a(587).config;f=b.kRb;h=b.SQb;g=b.LLb;n=b.$1b;p=b.Z1b;q=b.Y1b;t=b.u3a;m.prototype.constructor=m;m.prototype.reset=function(){this.LVa=void 0;this.pl=[];this.yVa=this.zVa=!1;};m.prototype.update=function(v,u){var w;this.pl && (this.pl=this.pl.filter(this.fac,this));if(!1 === this.zVa){w=f(v.Mb).slice(0,d.O0a);0 < w.length && (this.TJ(w,l.oz.Ul),this.zVa=!0,this.pl=this.sL(w.concat(this.pl)));}!1 === this.yVa && (w=h(v.Mb).slice(0,d.O0a),0 < w.length && (this.TJ(w,l.oz.Ul),this.yVa=!0,this.pl=this.sL(w.concat(this.pl))));switch(u){case l.kz.GIa:u=this.xUb(v);break;case l.kz.QQa:u=this.HUb(v);break;case l.kz.u4:u=this.IUb(v);break;case l.kz.IT:u=this.CUb(v);break;default:u=this.uUb(v);}this.LVa=v;return u;};m.prototype.xUb=function(v){v=n(v.Mb,d.ugb,d.j_a);this.TJ(v,l.oz.Ul);return this.pl=this.sL(this.pl.concat(v));};m.prototype.HUb=function(v){var u,w;this.G.log("handleScrollHorizontal");u=v.Mb;v=n(u,d.vgb,d.l_a);w=g(u,this.LVa.Mb);u=u[w].list.slice(0,d.U8b);u.concat(v);this.TJ(u,l.oz.Zja);return this.sL(u.concat(this.pl));};m.prototype.TJ=function(v,u){v.forEach(function(w){if(void 0 === w.gE || w.gE < u)w.gE=u;void 0 === w.VR && (w.VR=k());void 0 === w.fm && (w.fm=k());});};m.prototype.IUb=function(v){this.G.log("handleSearch");v=p(v.Mb,d.s9b);this.TJ(v,l.oz.RQa);this.pl=v.concat(this.pl);return this.pl=this.sL(this.pl);};m.prototype.CUb=function(v){var u,w,x,y,z;this.G.log("handlePlayFocus: ",d.qY);u=v.direction;w=v.Mb;v=[];x=t(w);if(void 0 !== x.al)switch((v.push(x),u)){case l.Xw.vQa:for(u=1;u < d.qY;u++){v.push(new c(x.al,x.en + u));}v.push(new c(x.al - 1,x.en));v.push(new c(x.al + 1,x.en));break;case l.Xw.TKa:for(u=1;u < d.qY;u++){v.push(new c(x.al,x.en - u));}v.push(new c(x.al - 1,x.en));v.push(new c(x.al + 1,x.en));break;case l.Xw.Vub:v.push(new c(x.al - 1,x.en));for(u=1;u <= d.qY / 2;u++){v.push(new c(x.al,x.en + u));v.push(new c(x.al,x.en - u));}break;case l.Xw.Apb:for((v.push(new c(x.al + 1,x.en)),u=1);u <= d.qY / 2;u++){v.push(new c(x.al,x.en + u));v.push(new c(x.al,x.en - u));}}y=[];v.forEach(function(A){z=q(w,A.al,A.en);void 0 !== z && y.push(z);});this.TJ(y,l.oz.Zja);return this.sL(y.concat(this.pl));};m.prototype.uUb=function(v){this.G.log("ModelOne: handleDefaultCase");v=n(v.Mb,d.vgb,d.l_a);this.TJ(v,l.oz.Zja);return this.sL(v.concat(this.pl));};m.prototype.fac=function(v){return v.gE == l.oz.Ul | v.gE == l.oz.RQa & k() - v.VR < d.tVb;};m.prototype.sL=function(v){var u,w,x,y,z,A,B;u=[];w={};y=0;z=v.length;for(x=0;x < z;x++){A=v[x].L;B=v[x];!1 === (A in w)?(u.push(B),w[A]=y,y++):(A=u[w[A]],B.fm < A.fm && (A.fm=B.fm),B.gE > A.gE && (A.gE=B.gE),B.VR > A.VR && (A.VR=B.VR));}return u;};r.exports=m;},function(r,b,a){r.exports={EventEmitter:a(1431),Gf:a(1432)};},function(r){function b(c,m){var k;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Hd)return (this.Hd={},this.Hd[c]=[m],!0);k=this.Hd[c];return void 0 === k?(this.Hd[c]=[m],!0):0 > k.indexOf(m)?(k.push(m),!0):!1;}function a(c,m){c=this.Hd?this.Hd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(m);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,m){var k;if(void 0 === m || "function" !== typeof m || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Hd)return !1;k=this.Hd[c];if(void 0 === k)return !1;m=k.indexOf(m);if(0 > m)return !1;if(1 === k.length)return (delete this.Hd[c],!0);k.splice(m,1);return !0;},eb:a,emit:a,removeAllListeners:function(c){this.Hd && (void 0 === c?delete this.Hd:delete this.Hd[c]);return this;}};},function(r){function b(c,m,k,l){c.trace(":",k,":",l);m(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,m,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,m));if("function" === typeof c.addEventListener)l=c.addEventListener(m,k);else if("function" === typeof c.addListener)l=c.addListener(m,k);else throw Error("Emitter does not have a function to add listeners for '" + m + "'");this.listeners.push([c,m,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(m){var k,l;k=m[0];l=m[1];m=m[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,m):"function" === typeof k.removeListener && k.removeListener(l,m);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(nb);})(window);}).call(window);